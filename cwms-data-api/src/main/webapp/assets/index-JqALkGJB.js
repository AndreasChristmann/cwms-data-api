function gk(C,H){for(var rt=0;rt<H.length;rt++){const vt=H[rt];if(typeof vt!="string"&&!Array.isArray(vt)){for(const St in vt)if(St!=="default"&&!(St in C)){const Nt=Object.getOwnPropertyDescriptor(vt,St);Nt&&Object.defineProperty(C,St,Nt.get?Nt:{enumerable:!0,get:()=>vt[St]})}}}return Object.freeze(Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}))}(function(){const H=document.createElement("link").relList;if(H&&H.supports&&H.supports("modulepreload"))return;for(const St of document.querySelectorAll('link[rel="modulepreload"]'))vt(St);new MutationObserver(St=>{for(const Nt of St)if(Nt.type==="childList")for(const X of Nt.addedNodes)X.tagName==="LINK"&&X.rel==="modulepreload"&&vt(X)}).observe(document,{childList:!0,subtree:!0});function rt(St){const Nt={};return St.integrity&&(Nt.integrity=St.integrity),St.referrerPolicy&&(Nt.referrerPolicy=St.referrerPolicy),St.crossOrigin==="use-credentials"?Nt.credentials="include":St.crossOrigin==="anonymous"?Nt.credentials="omit":Nt.credentials="same-origin",Nt}function vt(St){if(St.ep)return;St.ep=!0;const Nt=rt(St);fetch(St.href,Nt)}})();function yk(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var J_={exports:{}},Vg={},Q_={exports:{}},ha={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0=Symbol.for("react.element"),mk=Symbol.for("react.portal"),xk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),wk=Symbol.for("react.provider"),kk=Symbol.for("react.context"),Tk=Symbol.for("react.forward_ref"),Mk=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),Sk=Symbol.for("react.lazy"),Qx=Symbol.iterator;function Ek(C){return C===null||typeof C!="object"?null:(C=Qx&&C[Qx]||C["@@iterator"],typeof C=="function"?C:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t3=Object.assign,e3={};function kd(C,H,rt){this.props=C,this.context=H,this.refs=e3,this.updater=rt||$_}kd.prototype.isReactComponent={};kd.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")};kd.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function r3(){}r3.prototype=kd.prototype;function T1(C,H,rt){this.props=C,this.context=H,this.refs=e3,this.updater=rt||$_}var M1=T1.prototype=new r3;M1.constructor=T1;t3(M1,kd.prototype);M1.isPureReactComponent=!0;var $x=Array.isArray,n3=Object.prototype.hasOwnProperty,A1={current:null},i3={key:!0,ref:!0,__self:!0,__source:!0};function a3(C,H,rt){var vt,St={},Nt=null,X=null;if(H!=null)for(vt in H.ref!==void 0&&(X=H.ref),H.key!==void 0&&(Nt=""+H.key),H)n3.call(H,vt)&&!i3.hasOwnProperty(vt)&&(St[vt]=H[vt]);var B=arguments.length-2;if(B===1)St.children=rt;else if(1<B){for(var t=Array(B),x=0;x<B;x++)t[x]=arguments[x+2];St.children=t}if(C&&C.defaultProps)for(vt in B=C.defaultProps,B)St[vt]===void 0&&(St[vt]=B[vt]);return{$$typeof:H0,type:C,key:Nt,ref:X,props:St,_owner:A1.current}}function Lk(C,H){return{$$typeof:H0,type:C.type,key:H,ref:C.ref,props:C.props,_owner:C._owner}}function S1(C){return typeof C=="object"&&C!==null&&C.$$typeof===H0}function Pk(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(rt){return H[rt]})}var tb=/\/+/g;function jy(C,H){return typeof C=="object"&&C!==null&&C.key!=null?Pk(""+C.key):H.toString(36)}function Zv(C,H,rt,vt,St){var Nt=typeof C;(Nt==="undefined"||Nt==="boolean")&&(C=null);var X=!1;if(C===null)X=!0;else switch(Nt){case"string":case"number":X=!0;break;case"object":switch(C.$$typeof){case H0:case mk:X=!0}}if(X)return X=C,St=St(X),C=vt===""?"."+jy(X,0):vt,$x(St)?(rt="",C!=null&&(rt=C.replace(tb,"$&/")+"/"),Zv(St,H,rt,"",function(x){return x})):St!=null&&(S1(St)&&(St=Lk(St,rt+(!St.key||X&&X.key===St.key?"":(""+St.key).replace(tb,"$&/")+"/")+C)),H.push(St)),1;if(X=0,vt=vt===""?".":vt+":",$x(C))for(var B=0;B<C.length;B++){Nt=C[B];var t=vt+jy(Nt,B);X+=Zv(Nt,H,rt,t,St)}else if(t=Ek(C),typeof t=="function")for(C=t.call(C),B=0;!(Nt=C.next()).done;)Nt=Nt.value,t=vt+jy(Nt,B++),X+=Zv(Nt,H,rt,t,St);else if(Nt==="object")throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return X}function Ev(C,H,rt){if(C==null)return C;var vt=[],St=0;return Zv(C,vt,"","",function(Nt){return H.call(rt,Nt,St++)}),vt}function Ck(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(rt){(C._status===0||C._status===-1)&&(C._status=1,C._result=rt)},function(rt){(C._status===0||C._status===-1)&&(C._status=2,C._result=rt)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var Gs={current:null},Yv={transition:null},Ik={ReactCurrentDispatcher:Gs,ReactCurrentBatchConfig:Yv,ReactCurrentOwner:A1};ha.Children={map:Ev,forEach:function(C,H,rt){Ev(C,function(){H.apply(this,arguments)},rt)},count:function(C){var H=0;return Ev(C,function(){H++}),H},toArray:function(C){return Ev(C,function(H){return H})||[]},only:function(C){if(!S1(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};ha.Component=kd;ha.Fragment=xk;ha.Profiler=_k;ha.PureComponent=T1;ha.StrictMode=bk;ha.Suspense=Mk;ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;ha.cloneElement=function(C,H,rt){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var vt=t3({},C.props),St=C.key,Nt=C.ref,X=C._owner;if(H!=null){if(H.ref!==void 0&&(Nt=H.ref,X=A1.current),H.key!==void 0&&(St=""+H.key),C.type&&C.type.defaultProps)var B=C.type.defaultProps;for(t in H)n3.call(H,t)&&!i3.hasOwnProperty(t)&&(vt[t]=H[t]===void 0&&B!==void 0?B[t]:H[t])}var t=arguments.length-2;if(t===1)vt.children=rt;else if(1<t){B=Array(t);for(var x=0;x<t;x++)B[x]=arguments[x+2];vt.children=B}return{$$typeof:H0,type:C.type,key:St,ref:Nt,props:vt,_owner:X}};ha.createContext=function(C){return C={$$typeof:kk,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:wk,_context:C},C.Consumer=C};ha.createElement=a3;ha.createFactory=function(C){var H=a3.bind(null,C);return H.type=C,H};ha.createRef=function(){return{current:null}};ha.forwardRef=function(C){return{$$typeof:Tk,render:C}};ha.isValidElement=S1;ha.lazy=function(C){return{$$typeof:Sk,_payload:{_status:-1,_result:C},_init:Ck}};ha.memo=function(C,H){return{$$typeof:Ak,type:C,compare:H===void 0?null:H}};ha.startTransition=function(C){var H=Yv.transition;Yv.transition={};try{C()}finally{Yv.transition=H}};ha.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ha.useCallback=function(C,H){return Gs.current.useCallback(C,H)};ha.useContext=function(C){return Gs.current.useContext(C)};ha.useDebugValue=function(){};ha.useDeferredValue=function(C){return Gs.current.useDeferredValue(C)};ha.useEffect=function(C,H){return Gs.current.useEffect(C,H)};ha.useId=function(){return Gs.current.useId()};ha.useImperativeHandle=function(C,H,rt){return Gs.current.useImperativeHandle(C,H,rt)};ha.useInsertionEffect=function(C,H){return Gs.current.useInsertionEffect(C,H)};ha.useLayoutEffect=function(C,H){return Gs.current.useLayoutEffect(C,H)};ha.useMemo=function(C,H){return Gs.current.useMemo(C,H)};ha.useReducer=function(C,H,rt){return Gs.current.useReducer(C,H,rt)};ha.useRef=function(C){return Gs.current.useRef(C)};ha.useState=function(C){return Gs.current.useState(C)};ha.useSyncExternalStore=function(C,H,rt){return Gs.current.useSyncExternalStore(C,H,rt)};ha.useTransition=function(){return Gs.current.useTransition()};ha.version="18.2.0";Q_.exports=ha;var Ur=Q_.exports;const Ti=yk(Ur),w0=gk({__proto__:null,default:Ti},[Ur]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok=Ur,zk=Symbol.for("react.element"),Rk=Symbol.for("react.fragment"),Dk=Object.prototype.hasOwnProperty,Fk=Ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bk={key:!0,ref:!0,__self:!0,__source:!0};function o3(C,H,rt){var vt,St={},Nt=null,X=null;rt!==void 0&&(Nt=""+rt),H.key!==void 0&&(Nt=""+H.key),H.ref!==void 0&&(X=H.ref);for(vt in H)Dk.call(H,vt)&&!Bk.hasOwnProperty(vt)&&(St[vt]=H[vt]);if(C&&C.defaultProps)for(vt in H=C.defaultProps,H)St[vt]===void 0&&(St[vt]=H[vt]);return{$$typeof:zk,type:C,key:Nt,ref:X,props:St,_owner:Fk.current}}Vg.Fragment=Rk;Vg.jsx=o3;Vg.jsxs=o3;J_.exports=Vg;var Ko=J_.exports,km={},s3={exports:{}},Ol={},l3={exports:{}},u3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(C){function H(u,g){var L=u.length;u.push(g);t:for(;0<L;){var A=L-1>>>1,R=u[A];if(0<St(R,g))u[A]=g,u[L]=R,L=A;else break t}}function rt(u){return u.length===0?null:u[0]}function vt(u){if(u.length===0)return null;var g=u[0],L=u.pop();if(L!==g){u[0]=L;t:for(var A=0,R=u.length,O=R>>>1;A<O;){var N=2*(A+1)-1,z=u[N],F=N+1,I=u[F];if(0>St(z,L))F<R&&0>St(I,z)?(u[A]=I,u[F]=L,A=F):(u[A]=z,u[N]=L,A=N);else if(F<R&&0>St(I,L))u[A]=I,u[F]=L,A=F;else break t}}return g}function St(u,g){var L=u.sortIndex-g.sortIndex;return L!==0?L:u.id-g.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Nt=performance;C.unstable_now=function(){return Nt.now()}}else{var X=Date,B=X.now();C.unstable_now=function(){return X.now()-B}}var t=[],x=[],E=1,i=null,M=3,m=!1,d=!1,v=!1,r=typeof setTimeout=="function"?setTimeout:null,e=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(u){for(var g=rt(x);g!==null;){if(g.callback===null)vt(x);else if(g.startTime<=u)vt(x),g.sortIndex=g.expirationTime,H(t,g);else break;g=rt(x)}}function l(u){if(v=!1,n(u),!d)if(rt(t)!==null)d=!0,T(o);else{var g=rt(x);g!==null&&P(l,g.startTime-u)}}function o(u,g){d=!1,v&&(v=!1,e(f),f=-1),m=!0;var L=M;try{for(n(g),i=rt(t);i!==null&&(!(i.expirationTime>g)||u&&!c());){var A=i.callback;if(typeof A=="function"){i.callback=null,M=i.priorityLevel;var R=A(i.expirationTime<=g);g=C.unstable_now(),typeof R=="function"?i.callback=R:i===rt(t)&&vt(t),n(g)}else vt(t);i=rt(t)}if(i!==null)var O=!0;else{var N=rt(x);N!==null&&P(l,N.startTime-g),O=!1}return O}finally{i=null,M=L,m=!1}}var h=!1,b=null,f=-1,k=5,a=-1;function c(){return!(C.unstable_now()-a<k)}function p(){if(b!==null){var u=C.unstable_now();a=u;var g=!0;try{g=b(!0,u)}finally{g?w():(h=!1,b=null)}}else h=!1}var w;if(typeof s=="function")w=function(){s(p)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,_=S.port2;S.port1.onmessage=p,w=function(){_.postMessage(null)}}else w=function(){r(p,0)};function T(u){b=u,h||(h=!0,w())}function P(u,g){f=r(function(){u(C.unstable_now())},g)}C.unstable_IdlePriority=5,C.unstable_ImmediatePriority=1,C.unstable_LowPriority=4,C.unstable_NormalPriority=3,C.unstable_Profiling=null,C.unstable_UserBlockingPriority=2,C.unstable_cancelCallback=function(u){u.callback=null},C.unstable_continueExecution=function(){d||m||(d=!0,T(o))},C.unstable_forceFrameRate=function(u){0>u||125<u?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<u?Math.floor(1e3/u):5},C.unstable_getCurrentPriorityLevel=function(){return M},C.unstable_getFirstCallbackNode=function(){return rt(t)},C.unstable_next=function(u){switch(M){case 1:case 2:case 3:var g=3;break;default:g=M}var L=M;M=g;try{return u()}finally{M=L}},C.unstable_pauseExecution=function(){},C.unstable_requestPaint=function(){},C.unstable_runWithPriority=function(u,g){switch(u){case 1:case 2:case 3:case 4:case 5:break;default:u=3}var L=M;M=u;try{return g()}finally{M=L}},C.unstable_scheduleCallback=function(u,g,L){var A=C.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?A+L:A):L=A,u){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,u={id:E++,callback:g,priorityLevel:u,startTime:L,expirationTime:R,sortIndex:-1},L>A?(u.sortIndex=L,H(x,u),rt(t)===null&&u===rt(x)&&(v?(e(f),f=-1):v=!0,P(l,L-A))):(u.sortIndex=R,H(t,u),d||m||(d=!0,T(o))),u},C.unstable_shouldYield=c,C.unstable_wrapCallback=function(u){var g=M;return function(){var L=M;M=g;try{return u.apply(this,arguments)}finally{M=L}}}})(u3);l3.exports=u3;var Nk=l3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3=Ur,Il=Nk;function gi(C){for(var H="https://reactjs.org/docs/error-decoder.html?invariant="+C,rt=1;rt<arguments.length;rt++)H+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+C+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f3=new Set,k0={};function fp(C,H){fd(C,H),fd(C+"Capture",H)}function fd(C,H){for(k0[C]=H,C=0;C<H.length;C++)f3.add(H[C])}var Qc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=Object.prototype.hasOwnProperty,jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eb={},rb={};function Hk(C){return Tm.call(rb,C)?!0:Tm.call(eb,C)?!1:jk.test(C)?rb[C]=!0:(eb[C]=!0,!1)}function Vk(C,H,rt,vt){if(rt!==null&&rt.type===0)return!1;switch(typeof H){case"function":case"symbol":return!0;case"boolean":return vt?!1:rt!==null?!rt.acceptsBooleans:(C=C.toLowerCase().slice(0,5),C!=="data-"&&C!=="aria-");default:return!1}}function Xk(C,H,rt,vt){if(H===null||typeof H>"u"||Vk(C,H,rt,vt))return!0;if(vt)return!1;if(rt!==null)switch(rt.type){case 3:return!H;case 4:return H===!1;case 5:return isNaN(H);case 6:return isNaN(H)||1>H}return!1}function Zs(C,H,rt,vt,St,Nt,X){this.acceptsBooleans=H===2||H===3||H===4,this.attributeName=vt,this.attributeNamespace=St,this.mustUseProperty=rt,this.propertyName=C,this.type=H,this.sanitizeURL=Nt,this.removeEmptyString=X}var vs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(C){vs[C]=new Zs(C,0,!1,C,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(C){var H=C[0];vs[H]=new Zs(H,1,!1,C[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(C){vs[C]=new Zs(C,2,!1,C.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(C){vs[C]=new Zs(C,2,!1,C,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(C){vs[C]=new Zs(C,3,!1,C.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(C){vs[C]=new Zs(C,3,!0,C,null,!1,!1)});["capture","download"].forEach(function(C){vs[C]=new Zs(C,4,!1,C,null,!1,!1)});["cols","rows","size","span"].forEach(function(C){vs[C]=new Zs(C,6,!1,C,null,!1,!1)});["rowSpan","start"].forEach(function(C){vs[C]=new Zs(C,5,!1,C.toLowerCase(),null,!1,!1)});var E1=/[\-:]([a-z])/g;function L1(C){return C[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(C){var H=C.replace(E1,L1);vs[H]=new Zs(H,1,!1,C,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(C){var H=C.replace(E1,L1);vs[H]=new Zs(H,1,!1,C,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(C){var H=C.replace(E1,L1);vs[H]=new Zs(H,1,!1,C,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(C){vs[C]=new Zs(C,1,!1,C.toLowerCase(),null,!1,!1)});vs.xlinkHref=new Zs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(C){vs[C]=new Zs(C,1,!1,C.toLowerCase(),null,!0,!0)});function P1(C,H,rt,vt){var St=vs.hasOwnProperty(H)?vs[H]:null;(St!==null?St.type!==0:vt||!(2<H.length)||H[0]!=="o"&&H[0]!=="O"||H[1]!=="n"&&H[1]!=="N")&&(Xk(H,rt,St,vt)&&(rt=null),vt||St===null?Hk(H)&&(rt===null?C.removeAttribute(H):C.setAttribute(H,""+rt)):St.mustUseProperty?C[St.propertyName]=rt===null?St.type===3?!1:"":rt:(H=St.attributeName,vt=St.attributeNamespace,rt===null?C.removeAttribute(H):(St=St.type,rt=St===3||St===4&&rt===!0?"":""+rt,vt?C.setAttributeNS(vt,H,rt):C.setAttribute(H,rt))))}var af=c3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lv=Symbol.for("react.element"),qp=Symbol.for("react.portal"),Wp=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),h3=Symbol.for("react.provider"),p3=Symbol.for("react.context"),I1=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),d3=Symbol.for("react.offscreen"),nb=Symbol.iterator;function Kd(C){return C===null||typeof C!="object"?null:(C=nb&&C[nb]||C["@@iterator"],typeof C=="function"?C:null)}var yo=Object.assign,Hy;function l0(C){if(Hy===void 0)try{throw Error()}catch(rt){var H=rt.stack.trim().match(/\n( *(at )?)/);Hy=H&&H[1]||""}return`
`+Hy+C}var Vy=!1;function Xy(C,H){if(!C||Vy)return"";Vy=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(H)if(H=function(){throw Error()},Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(x){var vt=x}Reflect.construct(C,[],H)}else{try{H.call()}catch(x){vt=x}C.call(H.prototype)}else{try{throw Error()}catch(x){vt=x}C()}}catch(x){if(x&&vt&&typeof x.stack=="string"){for(var St=x.stack.split(`
`),Nt=vt.stack.split(`
`),X=St.length-1,B=Nt.length-1;1<=X&&0<=B&&St[X]!==Nt[B];)B--;for(;1<=X&&0<=B;X--,B--)if(St[X]!==Nt[B]){if(X!==1||B!==1)do if(X--,B--,0>B||St[X]!==Nt[B]){var t=`
`+St[X].replace(" at new "," at ");return C.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",C.displayName)),t}while(1<=X&&0<=B);break}}}finally{Vy=!1,Error.prepareStackTrace=rt}return(C=C?C.displayName||C.name:"")?l0(C):""}function Uk(C){switch(C.tag){case 5:return l0(C.type);case 16:return l0("Lazy");case 13:return l0("Suspense");case 19:return l0("SuspenseList");case 0:case 2:case 15:return C=Xy(C.type,!1),C;case 11:return C=Xy(C.type.render,!1),C;case 1:return C=Xy(C.type,!0),C;default:return""}}function Em(C){if(C==null)return null;if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case Wp:return"Fragment";case qp:return"Portal";case Mm:return"Profiler";case C1:return"StrictMode";case Am:return"Suspense";case Sm:return"SuspenseList"}if(typeof C=="object")switch(C.$$typeof){case p3:return(C.displayName||"Context")+".Consumer";case h3:return(C._context.displayName||"Context")+".Provider";case I1:var H=C.render;return C=C.displayName,C||(C=H.displayName||H.name||"",C=C!==""?"ForwardRef("+C+")":"ForwardRef"),C;case O1:return H=C.displayName||null,H!==null?H:Em(C.type)||"Memo";case Xf:H=C._payload,C=C._init;try{return Em(C(H))}catch{}}return null}function qk(C){var H=C.type;switch(C.tag){case 24:return"Cache";case 9:return(H.displayName||"Context")+".Consumer";case 10:return(H._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return C=H.render,C=C.displayName||C.name||"",H.displayName||(C!==""?"ForwardRef("+C+")":"ForwardRef");case 7:return"Fragment";case 5:return H;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(H);case 8:return H===C1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof H=="function")return H.displayName||H.name||null;if(typeof H=="string")return H}return null}function ih(C){switch(typeof C){case"boolean":case"number":case"string":case"undefined":return C;case"object":return C;default:return""}}function v3(C){var H=C.type;return(C=C.nodeName)&&C.toLowerCase()==="input"&&(H==="checkbox"||H==="radio")}function Wk(C){var H=v3(C)?"checked":"value",rt=Object.getOwnPropertyDescriptor(C.constructor.prototype,H),vt=""+C[H];if(!C.hasOwnProperty(H)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var St=rt.get,Nt=rt.set;return Object.defineProperty(C,H,{configurable:!0,get:function(){return St.call(this)},set:function(X){vt=""+X,Nt.call(this,X)}}),Object.defineProperty(C,H,{enumerable:rt.enumerable}),{getValue:function(){return vt},setValue:function(X){vt=""+X},stopTracking:function(){C._valueTracker=null,delete C[H]}}}}function Pv(C){C._valueTracker||(C._valueTracker=Wk(C))}function g3(C){if(!C)return!1;var H=C._valueTracker;if(!H)return!0;var rt=H.getValue(),vt="";return C&&(vt=v3(C)?C.checked?"true":"false":C.value),C=vt,C!==rt?(H.setValue(C),!0):!1}function sg(C){if(C=C||(typeof document<"u"?document:void 0),typeof C>"u")return null;try{return C.activeElement||C.body}catch{return C.body}}function Lm(C,H){var rt=H.checked;return yo({},H,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt??C._wrapperState.initialChecked})}function ib(C,H){var rt=H.defaultValue==null?"":H.defaultValue,vt=H.checked!=null?H.checked:H.defaultChecked;rt=ih(H.value!=null?H.value:rt),C._wrapperState={initialChecked:vt,initialValue:rt,controlled:H.type==="checkbox"||H.type==="radio"?H.checked!=null:H.value!=null}}function y3(C,H){H=H.checked,H!=null&&P1(C,"checked",H,!1)}function Pm(C,H){y3(C,H);var rt=ih(H.value),vt=H.type;if(rt!=null)vt==="number"?(rt===0&&C.value===""||C.value!=rt)&&(C.value=""+rt):C.value!==""+rt&&(C.value=""+rt);else if(vt==="submit"||vt==="reset"){C.removeAttribute("value");return}H.hasOwnProperty("value")?Cm(C,H.type,rt):H.hasOwnProperty("defaultValue")&&Cm(C,H.type,ih(H.defaultValue)),H.checked==null&&H.defaultChecked!=null&&(C.defaultChecked=!!H.defaultChecked)}function ab(C,H,rt){if(H.hasOwnProperty("value")||H.hasOwnProperty("defaultValue")){var vt=H.type;if(!(vt!=="submit"&&vt!=="reset"||H.value!==void 0&&H.value!==null))return;H=""+C._wrapperState.initialValue,rt||H===C.value||(C.value=H),C.defaultValue=H}rt=C.name,rt!==""&&(C.name=""),C.defaultChecked=!!C._wrapperState.initialChecked,rt!==""&&(C.name=rt)}function Cm(C,H,rt){(H!=="number"||sg(C.ownerDocument)!==C)&&(rt==null?C.defaultValue=""+C._wrapperState.initialValue:C.defaultValue!==""+rt&&(C.defaultValue=""+rt))}var u0=Array.isArray;function nd(C,H,rt,vt){if(C=C.options,H){H={};for(var St=0;St<rt.length;St++)H["$"+rt[St]]=!0;for(rt=0;rt<C.length;rt++)St=H.hasOwnProperty("$"+C[rt].value),C[rt].selected!==St&&(C[rt].selected=St),St&&vt&&(C[rt].defaultSelected=!0)}else{for(rt=""+ih(rt),H=null,St=0;St<C.length;St++){if(C[St].value===rt){C[St].selected=!0,vt&&(C[St].defaultSelected=!0);return}H!==null||C[St].disabled||(H=C[St])}H!==null&&(H.selected=!0)}}function Im(C,H){if(H.dangerouslySetInnerHTML!=null)throw Error(gi(91));return yo({},H,{value:void 0,defaultValue:void 0,children:""+C._wrapperState.initialValue})}function ob(C,H){var rt=H.value;if(rt==null){if(rt=H.children,H=H.defaultValue,rt!=null){if(H!=null)throw Error(gi(92));if(u0(rt)){if(1<rt.length)throw Error(gi(93));rt=rt[0]}H=rt}H==null&&(H=""),rt=H}C._wrapperState={initialValue:ih(rt)}}function m3(C,H){var rt=ih(H.value),vt=ih(H.defaultValue);rt!=null&&(rt=""+rt,rt!==C.value&&(C.value=rt),H.defaultValue==null&&C.defaultValue!==rt&&(C.defaultValue=rt)),vt!=null&&(C.defaultValue=""+vt)}function sb(C){var H=C.textContent;H===C._wrapperState.initialValue&&H!==""&&H!==null&&(C.value=H)}function x3(C){switch(C){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(C,H){return C==null||C==="http://www.w3.org/1999/xhtml"?x3(H):C==="http://www.w3.org/2000/svg"&&H==="foreignObject"?"http://www.w3.org/1999/xhtml":C}var Cv,b3=function(C){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(H,rt,vt,St){MSApp.execUnsafeLocalFunction(function(){return C(H,rt,vt,St)})}:C}(function(C,H){if(C.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in C)C.innerHTML=H;else{for(Cv=Cv||document.createElement("div"),Cv.innerHTML="<svg>"+H.valueOf().toString()+"</svg>",H=Cv.firstChild;C.firstChild;)C.removeChild(C.firstChild);for(;H.firstChild;)C.appendChild(H.firstChild)}});function T0(C,H){if(H){var rt=C.firstChild;if(rt&&rt===C.lastChild&&rt.nodeType===3){rt.nodeValue=H;return}}C.textContent=H}var p0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gk=["Webkit","ms","Moz","O"];Object.keys(p0).forEach(function(C){Gk.forEach(function(H){H=H+C.charAt(0).toUpperCase()+C.substring(1),p0[H]=p0[C]})});function _3(C,H,rt){return H==null||typeof H=="boolean"||H===""?"":rt||typeof H!="number"||H===0||p0.hasOwnProperty(C)&&p0[C]?(""+H).trim():H+"px"}function w3(C,H){C=C.style;for(var rt in H)if(H.hasOwnProperty(rt)){var vt=rt.indexOf("--")===0,St=_3(rt,H[rt],vt);rt==="float"&&(rt="cssFloat"),vt?C.setProperty(rt,St):C[rt]=St}}var Zk=yo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zm(C,H){if(H){if(Zk[C]&&(H.children!=null||H.dangerouslySetInnerHTML!=null))throw Error(gi(137,C));if(H.dangerouslySetInnerHTML!=null){if(H.children!=null)throw Error(gi(60));if(typeof H.dangerouslySetInnerHTML!="object"||!("__html"in H.dangerouslySetInnerHTML))throw Error(gi(61))}if(H.style!=null&&typeof H.style!="object")throw Error(gi(62))}}function Rm(C,H){if(C.indexOf("-")===-1)return typeof H.is=="string";switch(C){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function z1(C){return C=C.target||C.srcElement||window,C.correspondingUseElement&&(C=C.correspondingUseElement),C.nodeType===3?C.parentNode:C}var Fm=null,id=null,ad=null;function lb(C){if(C=U0(C)){if(typeof Fm!="function")throw Error(gi(280));var H=C.stateNode;H&&(H=Gg(H),Fm(C.stateNode,C.type,H))}}function k3(C){id?ad?ad.push(C):ad=[C]:id=C}function T3(){if(id){var C=id,H=ad;if(ad=id=null,lb(C),H)for(C=0;C<H.length;C++)lb(H[C])}}function M3(C,H){return C(H)}function A3(){}var Uy=!1;function S3(C,H,rt){if(Uy)return C(H,rt);Uy=!0;try{return M3(C,H,rt)}finally{Uy=!1,(id!==null||ad!==null)&&(A3(),T3())}}function M0(C,H){var rt=C.stateNode;if(rt===null)return null;var vt=Gg(rt);if(vt===null)return null;rt=vt[H];t:switch(H){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(C=C.type,vt=!(C==="button"||C==="input"||C==="select"||C==="textarea")),C=!vt;break t;default:C=!1}if(C)return null;if(rt&&typeof rt!="function")throw Error(gi(231,H,typeof rt));return rt}var Bm=!1;if(Qc)try{var Jd={};Object.defineProperty(Jd,"passive",{get:function(){Bm=!0}}),window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{Bm=!1}function Yk(C,H,rt,vt,St,Nt,X,B,t){var x=Array.prototype.slice.call(arguments,3);try{H.apply(rt,x)}catch(E){this.onError(E)}}var d0=!1,lg=null,ug=!1,Nm=null,Kk={onError:function(C){d0=!0,lg=C}};function Jk(C,H,rt,vt,St,Nt,X,B,t){d0=!1,lg=null,Yk.apply(Kk,arguments)}function Qk(C,H,rt,vt,St,Nt,X,B,t){if(Jk.apply(this,arguments),d0){if(d0){var x=lg;d0=!1,lg=null}else throw Error(gi(198));ug||(ug=!0,Nm=x)}}function hp(C){var H=C,rt=C;if(C.alternate)for(;H.return;)H=H.return;else{C=H;do H=C,H.flags&4098&&(rt=H.return),C=H.return;while(C)}return H.tag===3?rt:null}function E3(C){if(C.tag===13){var H=C.memoizedState;if(H===null&&(C=C.alternate,C!==null&&(H=C.memoizedState)),H!==null)return H.dehydrated}return null}function ub(C){if(hp(C)!==C)throw Error(gi(188))}function $k(C){var H=C.alternate;if(!H){if(H=hp(C),H===null)throw Error(gi(188));return H!==C?null:C}for(var rt=C,vt=H;;){var St=rt.return;if(St===null)break;var Nt=St.alternate;if(Nt===null){if(vt=St.return,vt!==null){rt=vt;continue}break}if(St.child===Nt.child){for(Nt=St.child;Nt;){if(Nt===rt)return ub(St),C;if(Nt===vt)return ub(St),H;Nt=Nt.sibling}throw Error(gi(188))}if(rt.return!==vt.return)rt=St,vt=Nt;else{for(var X=!1,B=St.child;B;){if(B===rt){X=!0,rt=St,vt=Nt;break}if(B===vt){X=!0,vt=St,rt=Nt;break}B=B.sibling}if(!X){for(B=Nt.child;B;){if(B===rt){X=!0,rt=Nt,vt=St;break}if(B===vt){X=!0,vt=Nt,rt=St;break}B=B.sibling}if(!X)throw Error(gi(189))}}if(rt.alternate!==vt)throw Error(gi(190))}if(rt.tag!==3)throw Error(gi(188));return rt.stateNode.current===rt?C:H}function L3(C){return C=$k(C),C!==null?P3(C):null}function P3(C){if(C.tag===5||C.tag===6)return C;for(C=C.child;C!==null;){var H=P3(C);if(H!==null)return H;C=C.sibling}return null}var C3=Il.unstable_scheduleCallback,cb=Il.unstable_cancelCallback,tT=Il.unstable_shouldYield,eT=Il.unstable_requestPaint,So=Il.unstable_now,rT=Il.unstable_getCurrentPriorityLevel,R1=Il.unstable_ImmediatePriority,I3=Il.unstable_UserBlockingPriority,cg=Il.unstable_NormalPriority,nT=Il.unstable_LowPriority,O3=Il.unstable_IdlePriority,Xg=null,yc=null;function iT(C){if(yc&&typeof yc.onCommitFiberRoot=="function")try{yc.onCommitFiberRoot(Xg,C,void 0,(C.current.flags&128)===128)}catch{}}var Vu=Math.clz32?Math.clz32:sT,aT=Math.log,oT=Math.LN2;function sT(C){return C>>>=0,C===0?32:31-(aT(C)/oT|0)|0}var Iv=64,Ov=4194304;function c0(C){switch(C&-C){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return C&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return C}}function fg(C,H){var rt=C.pendingLanes;if(rt===0)return 0;var vt=0,St=C.suspendedLanes,Nt=C.pingedLanes,X=rt&268435455;if(X!==0){var B=X&~St;B!==0?vt=c0(B):(Nt&=X,Nt!==0&&(vt=c0(Nt)))}else X=rt&~St,X!==0?vt=c0(X):Nt!==0&&(vt=c0(Nt));if(vt===0)return 0;if(H!==0&&H!==vt&&!(H&St)&&(St=vt&-vt,Nt=H&-H,St>=Nt||St===16&&(Nt&4194240)!==0))return H;if(vt&4&&(vt|=rt&16),H=C.entangledLanes,H!==0)for(C=C.entanglements,H&=vt;0<H;)rt=31-Vu(H),St=1<<rt,vt|=C[rt],H&=~St;return vt}function lT(C,H){switch(C){case 1:case 2:case 4:return H+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return H+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uT(C,H){for(var rt=C.suspendedLanes,vt=C.pingedLanes,St=C.expirationTimes,Nt=C.pendingLanes;0<Nt;){var X=31-Vu(Nt),B=1<<X,t=St[X];t===-1?(!(B&rt)||B&vt)&&(St[X]=lT(B,H)):t<=H&&(C.expiredLanes|=B),Nt&=~B}}function jm(C){return C=C.pendingLanes&-1073741825,C!==0?C:C&1073741824?1073741824:0}function z3(){var C=Iv;return Iv<<=1,!(Iv&4194240)&&(Iv=64),C}function qy(C){for(var H=[],rt=0;31>rt;rt++)H.push(C);return H}function V0(C,H,rt){C.pendingLanes|=H,H!==536870912&&(C.suspendedLanes=0,C.pingedLanes=0),C=C.eventTimes,H=31-Vu(H),C[H]=rt}function cT(C,H){var rt=C.pendingLanes&~H;C.pendingLanes=H,C.suspendedLanes=0,C.pingedLanes=0,C.expiredLanes&=H,C.mutableReadLanes&=H,C.entangledLanes&=H,H=C.entanglements;var vt=C.eventTimes;for(C=C.expirationTimes;0<rt;){var St=31-Vu(rt),Nt=1<<St;H[St]=0,vt[St]=-1,C[St]=-1,rt&=~Nt}}function D1(C,H){var rt=C.entangledLanes|=H;for(C=C.entanglements;rt;){var vt=31-Vu(rt),St=1<<vt;St&H|C[vt]&H&&(C[vt]|=H),rt&=~St}}var Ia=0;function R3(C){return C&=-C,1<C?4<C?C&268435455?16:536870912:4:1}var D3,F1,F3,B3,N3,Hm=!1,zv=[],Kf=null,Jf=null,Qf=null,A0=new Map,S0=new Map,qf=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(C,H){switch(C){case"focusin":case"focusout":Kf=null;break;case"dragenter":case"dragleave":Jf=null;break;case"mouseover":case"mouseout":Qf=null;break;case"pointerover":case"pointerout":A0.delete(H.pointerId);break;case"gotpointercapture":case"lostpointercapture":S0.delete(H.pointerId)}}function Qd(C,H,rt,vt,St,Nt){return C===null||C.nativeEvent!==Nt?(C={blockedOn:H,domEventName:rt,eventSystemFlags:vt,nativeEvent:Nt,targetContainers:[St]},H!==null&&(H=U0(H),H!==null&&F1(H)),C):(C.eventSystemFlags|=vt,H=C.targetContainers,St!==null&&H.indexOf(St)===-1&&H.push(St),C)}function hT(C,H,rt,vt,St){switch(H){case"focusin":return Kf=Qd(Kf,C,H,rt,vt,St),!0;case"dragenter":return Jf=Qd(Jf,C,H,rt,vt,St),!0;case"mouseover":return Qf=Qd(Qf,C,H,rt,vt,St),!0;case"pointerover":var Nt=St.pointerId;return A0.set(Nt,Qd(A0.get(Nt)||null,C,H,rt,vt,St)),!0;case"gotpointercapture":return Nt=St.pointerId,S0.set(Nt,Qd(S0.get(Nt)||null,C,H,rt,vt,St)),!0}return!1}function j3(C){var H=Zh(C.target);if(H!==null){var rt=hp(H);if(rt!==null){if(H=rt.tag,H===13){if(H=E3(rt),H!==null){C.blockedOn=H,N3(C.priority,function(){F3(rt)});return}}else if(H===3&&rt.stateNode.current.memoizedState.isDehydrated){C.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}C.blockedOn=null}function Kv(C){if(C.blockedOn!==null)return!1;for(var H=C.targetContainers;0<H.length;){var rt=Vm(C.domEventName,C.eventSystemFlags,H[0],C.nativeEvent);if(rt===null){rt=C.nativeEvent;var vt=new rt.constructor(rt.type,rt);Dm=vt,rt.target.dispatchEvent(vt),Dm=null}else return H=U0(rt),H!==null&&F1(H),C.blockedOn=rt,!1;H.shift()}return!0}function hb(C,H,rt){Kv(C)&&rt.delete(H)}function pT(){Hm=!1,Kf!==null&&Kv(Kf)&&(Kf=null),Jf!==null&&Kv(Jf)&&(Jf=null),Qf!==null&&Kv(Qf)&&(Qf=null),A0.forEach(hb),S0.forEach(hb)}function $d(C,H){C.blockedOn===H&&(C.blockedOn=null,Hm||(Hm=!0,Il.unstable_scheduleCallback(Il.unstable_NormalPriority,pT)))}function E0(C){function H(St){return $d(St,C)}if(0<zv.length){$d(zv[0],C);for(var rt=1;rt<zv.length;rt++){var vt=zv[rt];vt.blockedOn===C&&(vt.blockedOn=null)}}for(Kf!==null&&$d(Kf,C),Jf!==null&&$d(Jf,C),Qf!==null&&$d(Qf,C),A0.forEach(H),S0.forEach(H),rt=0;rt<qf.length;rt++)vt=qf[rt],vt.blockedOn===C&&(vt.blockedOn=null);for(;0<qf.length&&(rt=qf[0],rt.blockedOn===null);)j3(rt),rt.blockedOn===null&&qf.shift()}var od=af.ReactCurrentBatchConfig,hg=!0;function dT(C,H,rt,vt){var St=Ia,Nt=od.transition;od.transition=null;try{Ia=1,B1(C,H,rt,vt)}finally{Ia=St,od.transition=Nt}}function vT(C,H,rt,vt){var St=Ia,Nt=od.transition;od.transition=null;try{Ia=4,B1(C,H,rt,vt)}finally{Ia=St,od.transition=Nt}}function B1(C,H,rt,vt){if(hg){var St=Vm(C,H,rt,vt);if(St===null)em(C,H,vt,pg,rt),fb(C,vt);else if(hT(St,C,H,rt,vt))vt.stopPropagation();else if(fb(C,vt),H&4&&-1<fT.indexOf(C)){for(;St!==null;){var Nt=U0(St);if(Nt!==null&&D3(Nt),Nt=Vm(C,H,rt,vt),Nt===null&&em(C,H,vt,pg,rt),Nt===St)break;St=Nt}St!==null&&vt.stopPropagation()}else em(C,H,vt,null,rt)}}var pg=null;function Vm(C,H,rt,vt){if(pg=null,C=z1(vt),C=Zh(C),C!==null)if(H=hp(C),H===null)C=null;else if(rt=H.tag,rt===13){if(C=E3(H),C!==null)return C;C=null}else if(rt===3){if(H.stateNode.current.memoizedState.isDehydrated)return H.tag===3?H.stateNode.containerInfo:null;C=null}else H!==C&&(C=null);return pg=C,null}function H3(C){switch(C){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rT()){case R1:return 1;case I3:return 4;case cg:case nT:return 16;case O3:return 536870912;default:return 16}default:return 16}}var Zf=null,N1=null,Jv=null;function V3(){if(Jv)return Jv;var C,H=N1,rt=H.length,vt,St="value"in Zf?Zf.value:Zf.textContent,Nt=St.length;for(C=0;C<rt&&H[C]===St[C];C++);var X=rt-C;for(vt=1;vt<=X&&H[rt-vt]===St[Nt-vt];vt++);return Jv=St.slice(C,1<vt?1-vt:void 0)}function Qv(C){var H=C.keyCode;return"charCode"in C?(C=C.charCode,C===0&&H===13&&(C=13)):C=H,C===10&&(C=13),32<=C||C===13?C:0}function Rv(){return!0}function pb(){return!1}function zl(C){function H(rt,vt,St,Nt,X){this._reactName=rt,this._targetInst=St,this.type=vt,this.nativeEvent=Nt,this.target=X,this.currentTarget=null;for(var B in C)C.hasOwnProperty(B)&&(rt=C[B],this[B]=rt?rt(Nt):Nt[B]);return this.isDefaultPrevented=(Nt.defaultPrevented!=null?Nt.defaultPrevented:Nt.returnValue===!1)?Rv:pb,this.isPropagationStopped=pb,this}return yo(H.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=Rv)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=Rv)},persist:function(){},isPersistent:Rv}),H}var Td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(C){return C.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j1=zl(Td),X0=yo({},Td,{view:0,detail:0}),gT=zl(X0),Wy,Gy,t0,Ug=yo({},X0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H1,button:0,buttons:0,relatedTarget:function(C){return C.relatedTarget===void 0?C.fromElement===C.srcElement?C.toElement:C.fromElement:C.relatedTarget},movementX:function(C){return"movementX"in C?C.movementX:(C!==t0&&(t0&&C.type==="mousemove"?(Wy=C.screenX-t0.screenX,Gy=C.screenY-t0.screenY):Gy=Wy=0,t0=C),Wy)},movementY:function(C){return"movementY"in C?C.movementY:Gy}}),db=zl(Ug),yT=yo({},Ug,{dataTransfer:0}),mT=zl(yT),xT=yo({},X0,{relatedTarget:0}),Zy=zl(xT),bT=yo({},Td,{animationName:0,elapsedTime:0,pseudoElement:0}),_T=zl(bT),wT=yo({},Td,{clipboardData:function(C){return"clipboardData"in C?C.clipboardData:window.clipboardData}}),kT=zl(wT),TT=yo({},Td,{data:0}),vb=zl(TT),MT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ET(C){var H=this.nativeEvent;return H.getModifierState?H.getModifierState(C):(C=ST[C])?!!H[C]:!1}function H1(){return ET}var LT=yo({},X0,{key:function(C){if(C.key){var H=MT[C.key]||C.key;if(H!=="Unidentified")return H}return C.type==="keypress"?(C=Qv(C),C===13?"Enter":String.fromCharCode(C)):C.type==="keydown"||C.type==="keyup"?AT[C.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H1,charCode:function(C){return C.type==="keypress"?Qv(C):0},keyCode:function(C){return C.type==="keydown"||C.type==="keyup"?C.keyCode:0},which:function(C){return C.type==="keypress"?Qv(C):C.type==="keydown"||C.type==="keyup"?C.keyCode:0}}),PT=zl(LT),CT=yo({},Ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=zl(CT),IT=yo({},X0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H1}),OT=zl(IT),zT=yo({},Td,{propertyName:0,elapsedTime:0,pseudoElement:0}),RT=zl(zT),DT=yo({},Ug,{deltaX:function(C){return"deltaX"in C?C.deltaX:"wheelDeltaX"in C?-C.wheelDeltaX:0},deltaY:function(C){return"deltaY"in C?C.deltaY:"wheelDeltaY"in C?-C.wheelDeltaY:"wheelDelta"in C?-C.wheelDelta:0},deltaZ:0,deltaMode:0}),FT=zl(DT),BT=[9,13,27,32],V1=Qc&&"CompositionEvent"in window,v0=null;Qc&&"documentMode"in document&&(v0=document.documentMode);var NT=Qc&&"TextEvent"in window&&!v0,X3=Qc&&(!V1||v0&&8<v0&&11>=v0),yb=" ",mb=!1;function U3(C,H){switch(C){case"keyup":return BT.indexOf(H.keyCode)!==-1;case"keydown":return H.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q3(C){return C=C.detail,typeof C=="object"&&"data"in C?C.data:null}var Gp=!1;function jT(C,H){switch(C){case"compositionend":return q3(H);case"keypress":return H.which!==32?null:(mb=!0,yb);case"textInput":return C=H.data,C===yb&&mb?null:C;default:return null}}function HT(C,H){if(Gp)return C==="compositionend"||!V1&&U3(C,H)?(C=V3(),Jv=N1=Zf=null,Gp=!1,C):null;switch(C){case"paste":return null;case"keypress":if(!(H.ctrlKey||H.altKey||H.metaKey)||H.ctrlKey&&H.altKey){if(H.char&&1<H.char.length)return H.char;if(H.which)return String.fromCharCode(H.which)}return null;case"compositionend":return X3&&H.locale!=="ko"?null:H.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xb(C){var H=C&&C.nodeName&&C.nodeName.toLowerCase();return H==="input"?!!VT[C.type]:H==="textarea"}function W3(C,H,rt,vt){k3(vt),H=dg(H,"onChange"),0<H.length&&(rt=new j1("onChange","change",null,rt,vt),C.push({event:rt,listeners:H}))}var g0=null,L0=null;function XT(C){nw(C,0)}function qg(C){var H=Kp(C);if(g3(H))return C}function UT(C,H){if(C==="change")return H}var G3=!1;if(Qc){var Yy;if(Qc){var Ky="oninput"in document;if(!Ky){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),Ky=typeof bb.oninput=="function"}Yy=Ky}else Yy=!1;G3=Yy&&(!document.documentMode||9<document.documentMode)}function _b(){g0&&(g0.detachEvent("onpropertychange",Z3),L0=g0=null)}function Z3(C){if(C.propertyName==="value"&&qg(L0)){var H=[];W3(H,L0,C,z1(C)),S3(XT,H)}}function qT(C,H,rt){C==="focusin"?(_b(),g0=H,L0=rt,g0.attachEvent("onpropertychange",Z3)):C==="focusout"&&_b()}function WT(C){if(C==="selectionchange"||C==="keyup"||C==="keydown")return qg(L0)}function GT(C,H){if(C==="click")return qg(H)}function ZT(C,H){if(C==="input"||C==="change")return qg(H)}function YT(C,H){return C===H&&(C!==0||1/C===1/H)||C!==C&&H!==H}var Uu=typeof Object.is=="function"?Object.is:YT;function P0(C,H){if(Uu(C,H))return!0;if(typeof C!="object"||C===null||typeof H!="object"||H===null)return!1;var rt=Object.keys(C),vt=Object.keys(H);if(rt.length!==vt.length)return!1;for(vt=0;vt<rt.length;vt++){var St=rt[vt];if(!Tm.call(H,St)||!Uu(C[St],H[St]))return!1}return!0}function wb(C){for(;C&&C.firstChild;)C=C.firstChild;return C}function kb(C,H){var rt=wb(C);C=0;for(var vt;rt;){if(rt.nodeType===3){if(vt=C+rt.textContent.length,C<=H&&vt>=H)return{node:rt,offset:H-C};C=vt}t:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break t}rt=rt.parentNode}rt=void 0}rt=wb(rt)}}function Y3(C,H){return C&&H?C===H?!0:C&&C.nodeType===3?!1:H&&H.nodeType===3?Y3(C,H.parentNode):"contains"in C?C.contains(H):C.compareDocumentPosition?!!(C.compareDocumentPosition(H)&16):!1:!1}function K3(){for(var C=window,H=sg();H instanceof C.HTMLIFrameElement;){try{var rt=typeof H.contentWindow.location.href=="string"}catch{rt=!1}if(rt)C=H.contentWindow;else break;H=sg(C.document)}return H}function X1(C){var H=C&&C.nodeName&&C.nodeName.toLowerCase();return H&&(H==="input"&&(C.type==="text"||C.type==="search"||C.type==="tel"||C.type==="url"||C.type==="password")||H==="textarea"||C.contentEditable==="true")}function KT(C){var H=K3(),rt=C.focusedElem,vt=C.selectionRange;if(H!==rt&&rt&&rt.ownerDocument&&Y3(rt.ownerDocument.documentElement,rt)){if(vt!==null&&X1(rt)){if(H=vt.start,C=vt.end,C===void 0&&(C=H),"selectionStart"in rt)rt.selectionStart=H,rt.selectionEnd=Math.min(C,rt.value.length);else if(C=(H=rt.ownerDocument||document)&&H.defaultView||window,C.getSelection){C=C.getSelection();var St=rt.textContent.length,Nt=Math.min(vt.start,St);vt=vt.end===void 0?Nt:Math.min(vt.end,St),!C.extend&&Nt>vt&&(St=vt,vt=Nt,Nt=St),St=kb(rt,Nt);var X=kb(rt,vt);St&&X&&(C.rangeCount!==1||C.anchorNode!==St.node||C.anchorOffset!==St.offset||C.focusNode!==X.node||C.focusOffset!==X.offset)&&(H=H.createRange(),H.setStart(St.node,St.offset),C.removeAllRanges(),Nt>vt?(C.addRange(H),C.extend(X.node,X.offset)):(H.setEnd(X.node,X.offset),C.addRange(H)))}}for(H=[],C=rt;C=C.parentNode;)C.nodeType===1&&H.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<H.length;rt++)C=H[rt],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}var JT=Qc&&"documentMode"in document&&11>=document.documentMode,Zp=null,Xm=null,y0=null,Um=!1;function Tb(C,H,rt){var vt=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Um||Zp==null||Zp!==sg(vt)||(vt=Zp,"selectionStart"in vt&&X1(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),y0&&P0(y0,vt)||(y0=vt,vt=dg(Xm,"onSelect"),0<vt.length&&(H=new j1("onSelect","select",null,H,rt),C.push({event:H,listeners:vt}),H.target=Zp)))}function Dv(C,H){var rt={};return rt[C.toLowerCase()]=H.toLowerCase(),rt["Webkit"+C]="webkit"+H,rt["Moz"+C]="moz"+H,rt}var Yp={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},Jy={},J3={};Qc&&(J3=document.createElement("div").style,"AnimationEvent"in window||(delete Yp.animationend.animation,delete Yp.animationiteration.animation,delete Yp.animationstart.animation),"TransitionEvent"in window||delete Yp.transitionend.transition);function Wg(C){if(Jy[C])return Jy[C];if(!Yp[C])return C;var H=Yp[C],rt;for(rt in H)if(H.hasOwnProperty(rt)&&rt in J3)return Jy[C]=H[rt];return C}var Q3=Wg("animationend"),$3=Wg("animationiteration"),tw=Wg("animationstart"),ew=Wg("transitionend"),rw=new Map,Mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fh(C,H){rw.set(C,H),fp(H,[C])}for(var Qy=0;Qy<Mb.length;Qy++){var $y=Mb[Qy],QT=$y.toLowerCase(),$T=$y[0].toUpperCase()+$y.slice(1);fh(QT,"on"+$T)}fh(Q3,"onAnimationEnd");fh($3,"onAnimationIteration");fh(tw,"onAnimationStart");fh("dblclick","onDoubleClick");fh("focusin","onFocus");fh("focusout","onBlur");fh(ew,"onTransitionEnd");fd("onMouseEnter",["mouseout","mouseover"]);fd("onMouseLeave",["mouseout","mouseover"]);fd("onPointerEnter",["pointerout","pointerover"]);fd("onPointerLeave",["pointerout","pointerover"]);fp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fp("onBeforeInput",["compositionend","keypress","textInput","paste"]);fp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t7=new Set("cancel close invalid load scroll toggle".split(" ").concat(f0));function Ab(C,H,rt){var vt=C.type||"unknown-event";C.currentTarget=rt,Qk(vt,H,void 0,C),C.currentTarget=null}function nw(C,H){H=(H&4)!==0;for(var rt=0;rt<C.length;rt++){var vt=C[rt],St=vt.event;vt=vt.listeners;t:{var Nt=void 0;if(H)for(var X=vt.length-1;0<=X;X--){var B=vt[X],t=B.instance,x=B.currentTarget;if(B=B.listener,t!==Nt&&St.isPropagationStopped())break t;Ab(St,B,x),Nt=t}else for(X=0;X<vt.length;X++){if(B=vt[X],t=B.instance,x=B.currentTarget,B=B.listener,t!==Nt&&St.isPropagationStopped())break t;Ab(St,B,x),Nt=t}}}if(ug)throw C=Nm,ug=!1,Nm=null,C}function Ya(C,H){var rt=H[Ym];rt===void 0&&(rt=H[Ym]=new Set);var vt=C+"__bubble";rt.has(vt)||(iw(H,C,2,!1),rt.add(vt))}function tm(C,H,rt){var vt=0;H&&(vt|=4),iw(rt,C,vt,H)}var Fv="_reactListening"+Math.random().toString(36).slice(2);function C0(C){if(!C[Fv]){C[Fv]=!0,f3.forEach(function(rt){rt!=="selectionchange"&&(t7.has(rt)||tm(rt,!1,C),tm(rt,!0,C))});var H=C.nodeType===9?C:C.ownerDocument;H===null||H[Fv]||(H[Fv]=!0,tm("selectionchange",!1,H))}}function iw(C,H,rt,vt){switch(H3(H)){case 1:var St=dT;break;case 4:St=vT;break;default:St=B1}rt=St.bind(null,H,rt,C),St=void 0,!Bm||H!=="touchstart"&&H!=="touchmove"&&H!=="wheel"||(St=!0),vt?St!==void 0?C.addEventListener(H,rt,{capture:!0,passive:St}):C.addEventListener(H,rt,!0):St!==void 0?C.addEventListener(H,rt,{passive:St}):C.addEventListener(H,rt,!1)}function em(C,H,rt,vt,St){var Nt=vt;if(!(H&1)&&!(H&2)&&vt!==null)t:for(;;){if(vt===null)return;var X=vt.tag;if(X===3||X===4){var B=vt.stateNode.containerInfo;if(B===St||B.nodeType===8&&B.parentNode===St)break;if(X===4)for(X=vt.return;X!==null;){var t=X.tag;if((t===3||t===4)&&(t=X.stateNode.containerInfo,t===St||t.nodeType===8&&t.parentNode===St))return;X=X.return}for(;B!==null;){if(X=Zh(B),X===null)return;if(t=X.tag,t===5||t===6){vt=Nt=X;continue t}B=B.parentNode}}vt=vt.return}S3(function(){var x=Nt,E=z1(rt),i=[];t:{var M=rw.get(C);if(M!==void 0){var m=j1,d=C;switch(C){case"keypress":if(Qv(rt)===0)break t;case"keydown":case"keyup":m=PT;break;case"focusin":d="focus",m=Zy;break;case"focusout":d="blur",m=Zy;break;case"beforeblur":case"afterblur":m=Zy;break;case"click":if(rt.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OT;break;case Q3:case $3:case tw:m=_T;break;case ew:m=RT;break;case"scroll":m=gT;break;case"wheel":m=FT;break;case"copy":case"cut":case"paste":m=kT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gb}var v=(H&4)!==0,r=!v&&C==="scroll",e=v?M!==null?M+"Capture":null:M;v=[];for(var s=x,n;s!==null;){n=s;var l=n.stateNode;if(n.tag===5&&l!==null&&(n=l,e!==null&&(l=M0(s,e),l!=null&&v.push(I0(s,l,n)))),r)break;s=s.return}0<v.length&&(M=new m(M,d,null,rt,E),i.push({event:M,listeners:v}))}}if(!(H&7)){t:{if(M=C==="mouseover"||C==="pointerover",m=C==="mouseout"||C==="pointerout",M&&rt!==Dm&&(d=rt.relatedTarget||rt.fromElement)&&(Zh(d)||d[$c]))break t;if((m||M)&&(M=E.window===E?E:(M=E.ownerDocument)?M.defaultView||M.parentWindow:window,m?(d=rt.relatedTarget||rt.toElement,m=x,d=d?Zh(d):null,d!==null&&(r=hp(d),d!==r||d.tag!==5&&d.tag!==6)&&(d=null)):(m=null,d=x),m!==d)){if(v=db,l="onMouseLeave",e="onMouseEnter",s="mouse",(C==="pointerout"||C==="pointerover")&&(v=gb,l="onPointerLeave",e="onPointerEnter",s="pointer"),r=m==null?M:Kp(m),n=d==null?M:Kp(d),M=new v(l,s+"leave",m,rt,E),M.target=r,M.relatedTarget=n,l=null,Zh(E)===x&&(v=new v(e,s+"enter",d,rt,E),v.target=n,v.relatedTarget=r,l=v),r=l,m&&d)e:{for(v=m,e=d,s=0,n=v;n;n=Hp(n))s++;for(n=0,l=e;l;l=Hp(l))n++;for(;0<s-n;)v=Hp(v),s--;for(;0<n-s;)e=Hp(e),n--;for(;s--;){if(v===e||e!==null&&v===e.alternate)break e;v=Hp(v),e=Hp(e)}v=null}else v=null;m!==null&&Sb(i,M,m,v,!1),d!==null&&r!==null&&Sb(i,r,d,v,!0)}}t:{if(M=x?Kp(x):window,m=M.nodeName&&M.nodeName.toLowerCase(),m==="select"||m==="input"&&M.type==="file")var o=UT;else if(xb(M))if(G3)o=ZT;else{o=WT;var h=qT}else(m=M.nodeName)&&m.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(o=GT);if(o&&(o=o(C,x))){W3(i,o,rt,E);break t}h&&h(C,M,x),C==="focusout"&&(h=M._wrapperState)&&h.controlled&&M.type==="number"&&Cm(M,"number",M.value)}switch(h=x?Kp(x):window,C){case"focusin":(xb(h)||h.contentEditable==="true")&&(Zp=h,Xm=x,y0=null);break;case"focusout":y0=Xm=Zp=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,Tb(i,rt,E);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":Tb(i,rt,E)}var b;if(V1)t:{switch(C){case"compositionstart":var f="onCompositionStart";break t;case"compositionend":f="onCompositionEnd";break t;case"compositionupdate":f="onCompositionUpdate";break t}f=void 0}else Gp?U3(C,rt)&&(f="onCompositionEnd"):C==="keydown"&&rt.keyCode===229&&(f="onCompositionStart");f&&(X3&&rt.locale!=="ko"&&(Gp||f!=="onCompositionStart"?f==="onCompositionEnd"&&Gp&&(b=V3()):(Zf=E,N1="value"in Zf?Zf.value:Zf.textContent,Gp=!0)),h=dg(x,f),0<h.length&&(f=new vb(f,C,null,rt,E),i.push({event:f,listeners:h}),b?f.data=b:(b=q3(rt),b!==null&&(f.data=b)))),(b=NT?jT(C,rt):HT(C,rt))&&(x=dg(x,"onBeforeInput"),0<x.length&&(E=new vb("onBeforeInput","beforeinput",null,rt,E),i.push({event:E,listeners:x}),E.data=b))}nw(i,H)})}function I0(C,H,rt){return{instance:C,listener:H,currentTarget:rt}}function dg(C,H){for(var rt=H+"Capture",vt=[];C!==null;){var St=C,Nt=St.stateNode;St.tag===5&&Nt!==null&&(St=Nt,Nt=M0(C,rt),Nt!=null&&vt.unshift(I0(C,Nt,St)),Nt=M0(C,H),Nt!=null&&vt.push(I0(C,Nt,St))),C=C.return}return vt}function Hp(C){if(C===null)return null;do C=C.return;while(C&&C.tag!==5);return C||null}function Sb(C,H,rt,vt,St){for(var Nt=H._reactName,X=[];rt!==null&&rt!==vt;){var B=rt,t=B.alternate,x=B.stateNode;if(t!==null&&t===vt)break;B.tag===5&&x!==null&&(B=x,St?(t=M0(rt,Nt),t!=null&&X.unshift(I0(rt,t,B))):St||(t=M0(rt,Nt),t!=null&&X.push(I0(rt,t,B)))),rt=rt.return}X.length!==0&&C.push({event:H,listeners:X})}var e7=/\r\n?/g,r7=/\u0000|\uFFFD/g;function Eb(C){return(typeof C=="string"?C:""+C).replace(e7,`
`).replace(r7,"")}function Bv(C,H,rt){if(H=Eb(H),Eb(C)!==H&&rt)throw Error(gi(425))}function vg(){}var qm=null,Wm=null;function Gm(C,H){return C==="textarea"||C==="noscript"||typeof H.children=="string"||typeof H.children=="number"||typeof H.dangerouslySetInnerHTML=="object"&&H.dangerouslySetInnerHTML!==null&&H.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,n7=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,i7=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(C){return Lb.resolve(null).then(C).catch(a7)}:Zm;function a7(C){setTimeout(function(){throw C})}function rm(C,H){var rt=H,vt=0;do{var St=rt.nextSibling;if(C.removeChild(rt),St&&St.nodeType===8)if(rt=St.data,rt==="/$"){if(vt===0){C.removeChild(St),E0(H);return}vt--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||vt++;rt=St}while(rt);E0(H)}function $f(C){for(;C!=null;C=C.nextSibling){var H=C.nodeType;if(H===1||H===3)break;if(H===8){if(H=C.data,H==="$"||H==="$!"||H==="$?")break;if(H==="/$")return null}}return C}function Pb(C){C=C.previousSibling;for(var H=0;C;){if(C.nodeType===8){var rt=C.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(H===0)return C;H--}else rt==="/$"&&H++}C=C.previousSibling}return null}var Md=Math.random().toString(36).slice(2),gc="__reactFiber$"+Md,O0="__reactProps$"+Md,$c="__reactContainer$"+Md,Ym="__reactEvents$"+Md,o7="__reactListeners$"+Md,s7="__reactHandles$"+Md;function Zh(C){var H=C[gc];if(H)return H;for(var rt=C.parentNode;rt;){if(H=rt[$c]||rt[gc]){if(rt=H.alternate,H.child!==null||rt!==null&&rt.child!==null)for(C=Pb(C);C!==null;){if(rt=C[gc])return rt;C=Pb(C)}return H}C=rt,rt=C.parentNode}return null}function U0(C){return C=C[gc]||C[$c],!C||C.tag!==5&&C.tag!==6&&C.tag!==13&&C.tag!==3?null:C}function Kp(C){if(C.tag===5||C.tag===6)return C.stateNode;throw Error(gi(33))}function Gg(C){return C[O0]||null}var Km=[],Jp=-1;function hh(C){return{current:C}}function Ka(C){0>Jp||(C.current=Km[Jp],Km[Jp]=null,Jp--)}function Xa(C,H){Jp++,Km[Jp]=C.current,C.current=H}var ah={},Ls=hh(ah),cl=hh(!1),np=ah;function hd(C,H){var rt=C.type.contextTypes;if(!rt)return ah;var vt=C.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===H)return vt.__reactInternalMemoizedMaskedChildContext;var St={},Nt;for(Nt in rt)St[Nt]=H[Nt];return vt&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=H,C.__reactInternalMemoizedMaskedChildContext=St),St}function fl(C){return C=C.childContextTypes,C!=null}function gg(){Ka(cl),Ka(Ls)}function Cb(C,H,rt){if(Ls.current!==ah)throw Error(gi(168));Xa(Ls,H),Xa(cl,rt)}function aw(C,H,rt){var vt=C.stateNode;if(H=H.childContextTypes,typeof vt.getChildContext!="function")return rt;vt=vt.getChildContext();for(var St in vt)if(!(St in H))throw Error(gi(108,qk(C)||"Unknown",St));return yo({},rt,vt)}function yg(C){return C=(C=C.stateNode)&&C.__reactInternalMemoizedMergedChildContext||ah,np=Ls.current,Xa(Ls,C),Xa(cl,cl.current),!0}function Ib(C,H,rt){var vt=C.stateNode;if(!vt)throw Error(gi(169));rt?(C=aw(C,H,np),vt.__reactInternalMemoizedMergedChildContext=C,Ka(cl),Ka(Ls),Xa(Ls,C)):Ka(cl),Xa(cl,rt)}var Gc=null,Zg=!1,nm=!1;function ow(C){Gc===null?Gc=[C]:Gc.push(C)}function l7(C){Zg=!0,ow(C)}function ph(){if(!nm&&Gc!==null){nm=!0;var C=0,H=Ia;try{var rt=Gc;for(Ia=1;C<rt.length;C++){var vt=rt[C];do vt=vt(!0);while(vt!==null)}Gc=null,Zg=!1}catch(St){throw Gc!==null&&(Gc=Gc.slice(C+1)),C3(R1,ph),St}finally{Ia=H,nm=!1}}return null}var Qp=[],$p=0,mg=null,xg=0,nu=[],iu=0,ip=null,Zc=1,Yc="";function Wh(C,H){Qp[$p++]=xg,Qp[$p++]=mg,mg=C,xg=H}function sw(C,H,rt){nu[iu++]=Zc,nu[iu++]=Yc,nu[iu++]=ip,ip=C;var vt=Zc;C=Yc;var St=32-Vu(vt)-1;vt&=~(1<<St),rt+=1;var Nt=32-Vu(H)+St;if(30<Nt){var X=St-St%5;Nt=(vt&(1<<X)-1).toString(32),vt>>=X,St-=X,Zc=1<<32-Vu(H)+St|rt<<St|vt,Yc=Nt+C}else Zc=1<<Nt|rt<<St|vt,Yc=C}function U1(C){C.return!==null&&(Wh(C,1),sw(C,1,0))}function q1(C){for(;C===mg;)mg=Qp[--$p],Qp[$p]=null,xg=Qp[--$p],Qp[$p]=null;for(;C===ip;)ip=nu[--iu],nu[iu]=null,Yc=nu[--iu],nu[iu]=null,Zc=nu[--iu],nu[iu]=null}var Pl=null,El=null,ro=!1,Hu=null;function lw(C,H){var rt=ou(5,null,null,0);rt.elementType="DELETED",rt.stateNode=H,rt.return=C,H=C.deletions,H===null?(C.deletions=[rt],C.flags|=16):H.push(rt)}function Ob(C,H){switch(C.tag){case 5:var rt=C.type;return H=H.nodeType!==1||rt.toLowerCase()!==H.nodeName.toLowerCase()?null:H,H!==null?(C.stateNode=H,Pl=C,El=$f(H.firstChild),!0):!1;case 6:return H=C.pendingProps===""||H.nodeType!==3?null:H,H!==null?(C.stateNode=H,Pl=C,El=null,!0):!1;case 13:return H=H.nodeType!==8?null:H,H!==null?(rt=ip!==null?{id:Zc,overflow:Yc}:null,C.memoizedState={dehydrated:H,treeContext:rt,retryLane:1073741824},rt=ou(18,null,null,0),rt.stateNode=H,rt.return=C,C.child=rt,Pl=C,El=null,!0):!1;default:return!1}}function Jm(C){return(C.mode&1)!==0&&(C.flags&128)===0}function Qm(C){if(ro){var H=El;if(H){var rt=H;if(!Ob(C,H)){if(Jm(C))throw Error(gi(418));H=$f(rt.nextSibling);var vt=Pl;H&&Ob(C,H)?lw(vt,rt):(C.flags=C.flags&-4097|2,ro=!1,Pl=C)}}else{if(Jm(C))throw Error(gi(418));C.flags=C.flags&-4097|2,ro=!1,Pl=C}}}function zb(C){for(C=C.return;C!==null&&C.tag!==5&&C.tag!==3&&C.tag!==13;)C=C.return;Pl=C}function Nv(C){if(C!==Pl)return!1;if(!ro)return zb(C),ro=!0,!1;var H;if((H=C.tag!==3)&&!(H=C.tag!==5)&&(H=C.type,H=H!=="head"&&H!=="body"&&!Gm(C.type,C.memoizedProps)),H&&(H=El)){if(Jm(C))throw uw(),Error(gi(418));for(;H;)lw(C,H),H=$f(H.nextSibling)}if(zb(C),C.tag===13){if(C=C.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(gi(317));t:{for(C=C.nextSibling,H=0;C;){if(C.nodeType===8){var rt=C.data;if(rt==="/$"){if(H===0){El=$f(C.nextSibling);break t}H--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||H++}C=C.nextSibling}El=null}}else El=Pl?$f(C.stateNode.nextSibling):null;return!0}function uw(){for(var C=El;C;)C=$f(C.nextSibling)}function pd(){El=Pl=null,ro=!1}function W1(C){Hu===null?Hu=[C]:Hu.push(C)}var u7=af.ReactCurrentBatchConfig;function Nu(C,H){if(C&&C.defaultProps){H=yo({},H),C=C.defaultProps;for(var rt in C)H[rt]===void 0&&(H[rt]=C[rt]);return H}return H}var bg=hh(null),_g=null,td=null,G1=null;function Z1(){G1=td=_g=null}function Y1(C){var H=bg.current;Ka(bg),C._currentValue=H}function $m(C,H,rt){for(;C!==null;){var vt=C.alternate;if((C.childLanes&H)!==H?(C.childLanes|=H,vt!==null&&(vt.childLanes|=H)):vt!==null&&(vt.childLanes&H)!==H&&(vt.childLanes|=H),C===rt)break;C=C.return}}function sd(C,H){_g=C,G1=td=null,C=C.dependencies,C!==null&&C.firstContext!==null&&(C.lanes&H&&(ul=!0),C.firstContext=null)}function lu(C){var H=C._currentValue;if(G1!==C)if(C={context:C,memoizedValue:H,next:null},td===null){if(_g===null)throw Error(gi(308));td=C,_g.dependencies={lanes:0,firstContext:C}}else td=td.next=C;return H}var Yh=null;function K1(C){Yh===null?Yh=[C]:Yh.push(C)}function cw(C,H,rt,vt){var St=H.interleaved;return St===null?(rt.next=rt,K1(H)):(rt.next=St.next,St.next=rt),H.interleaved=rt,tf(C,vt)}function tf(C,H){C.lanes|=H;var rt=C.alternate;for(rt!==null&&(rt.lanes|=H),rt=C,C=C.return;C!==null;)C.childLanes|=H,rt=C.alternate,rt!==null&&(rt.childLanes|=H),rt=C,C=C.return;return rt.tag===3?rt.stateNode:null}var Uf=!1;function J1(C){C.updateQueue={baseState:C.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fw(C,H){C=C.updateQueue,H.updateQueue===C&&(H.updateQueue={baseState:C.baseState,firstBaseUpdate:C.firstBaseUpdate,lastBaseUpdate:C.lastBaseUpdate,shared:C.shared,effects:C.effects})}function Kc(C,H){return{eventTime:C,lane:H,tag:0,payload:null,callback:null,next:null}}function th(C,H,rt){var vt=C.updateQueue;if(vt===null)return null;if(vt=vt.shared,ka&2){var St=vt.pending;return St===null?H.next=H:(H.next=St.next,St.next=H),vt.pending=H,tf(C,rt)}return St=vt.interleaved,St===null?(H.next=H,K1(vt)):(H.next=St.next,St.next=H),vt.interleaved=H,tf(C,rt)}function $v(C,H,rt){if(H=H.updateQueue,H!==null&&(H=H.shared,(rt&4194240)!==0)){var vt=H.lanes;vt&=C.pendingLanes,rt|=vt,H.lanes=rt,D1(C,rt)}}function Rb(C,H){var rt=C.updateQueue,vt=C.alternate;if(vt!==null&&(vt=vt.updateQueue,rt===vt)){var St=null,Nt=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var X={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};Nt===null?St=Nt=X:Nt=Nt.next=X,rt=rt.next}while(rt!==null);Nt===null?St=Nt=H:Nt=Nt.next=H}else St=Nt=H;rt={baseState:vt.baseState,firstBaseUpdate:St,lastBaseUpdate:Nt,shared:vt.shared,effects:vt.effects},C.updateQueue=rt;return}C=rt.lastBaseUpdate,C===null?rt.firstBaseUpdate=H:C.next=H,rt.lastBaseUpdate=H}function wg(C,H,rt,vt){var St=C.updateQueue;Uf=!1;var Nt=St.firstBaseUpdate,X=St.lastBaseUpdate,B=St.shared.pending;if(B!==null){St.shared.pending=null;var t=B,x=t.next;t.next=null,X===null?Nt=x:X.next=x,X=t;var E=C.alternate;E!==null&&(E=E.updateQueue,B=E.lastBaseUpdate,B!==X&&(B===null?E.firstBaseUpdate=x:B.next=x,E.lastBaseUpdate=t))}if(Nt!==null){var i=St.baseState;X=0,E=x=t=null,B=Nt;do{var M=B.lane,m=B.eventTime;if((vt&M)===M){E!==null&&(E=E.next={eventTime:m,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});t:{var d=C,v=B;switch(M=H,m=rt,v.tag){case 1:if(d=v.payload,typeof d=="function"){i=d.call(m,i,M);break t}i=d;break t;case 3:d.flags=d.flags&-65537|128;case 0:if(d=v.payload,M=typeof d=="function"?d.call(m,i,M):d,M==null)break t;i=yo({},i,M);break t;case 2:Uf=!0}}B.callback!==null&&B.lane!==0&&(C.flags|=64,M=St.effects,M===null?St.effects=[B]:M.push(B))}else m={eventTime:m,lane:M,tag:B.tag,payload:B.payload,callback:B.callback,next:null},E===null?(x=E=m,t=i):E=E.next=m,X|=M;if(B=B.next,B===null){if(B=St.shared.pending,B===null)break;M=B,B=M.next,M.next=null,St.lastBaseUpdate=M,St.shared.pending=null}}while(!0);if(E===null&&(t=i),St.baseState=t,St.firstBaseUpdate=x,St.lastBaseUpdate=E,H=St.shared.interleaved,H!==null){St=H;do X|=St.lane,St=St.next;while(St!==H)}else Nt===null&&(St.shared.lanes=0);op|=X,C.lanes=X,C.memoizedState=i}}function Db(C,H,rt){if(C=H.effects,H.effects=null,C!==null)for(H=0;H<C.length;H++){var vt=C[H],St=vt.callback;if(St!==null){if(vt.callback=null,vt=rt,typeof St!="function")throw Error(gi(191,St));St.call(vt)}}}var hw=new c3.Component().refs;function t1(C,H,rt,vt){H=C.memoizedState,rt=rt(vt,H),rt=rt==null?H:yo({},H,rt),C.memoizedState=rt,C.lanes===0&&(C.updateQueue.baseState=rt)}var Yg={isMounted:function(C){return(C=C._reactInternals)?hp(C)===C:!1},enqueueSetState:function(C,H,rt){C=C._reactInternals;var vt=qs(),St=rh(C),Nt=Kc(vt,St);Nt.payload=H,rt!=null&&(Nt.callback=rt),H=th(C,Nt,St),H!==null&&(Xu(H,C,St,vt),$v(H,C,St))},enqueueReplaceState:function(C,H,rt){C=C._reactInternals;var vt=qs(),St=rh(C),Nt=Kc(vt,St);Nt.tag=1,Nt.payload=H,rt!=null&&(Nt.callback=rt),H=th(C,Nt,St),H!==null&&(Xu(H,C,St,vt),$v(H,C,St))},enqueueForceUpdate:function(C,H){C=C._reactInternals;var rt=qs(),vt=rh(C),St=Kc(rt,vt);St.tag=2,H!=null&&(St.callback=H),H=th(C,St,vt),H!==null&&(Xu(H,C,vt,rt),$v(H,C,vt))}};function Fb(C,H,rt,vt,St,Nt,X){return C=C.stateNode,typeof C.shouldComponentUpdate=="function"?C.shouldComponentUpdate(vt,Nt,X):H.prototype&&H.prototype.isPureReactComponent?!P0(rt,vt)||!P0(St,Nt):!0}function pw(C,H,rt){var vt=!1,St=ah,Nt=H.contextType;return typeof Nt=="object"&&Nt!==null?Nt=lu(Nt):(St=fl(H)?np:Ls.current,vt=H.contextTypes,Nt=(vt=vt!=null)?hd(C,St):ah),H=new H(rt,Nt),C.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Yg,C.stateNode=H,H._reactInternals=C,vt&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=St,C.__reactInternalMemoizedMaskedChildContext=Nt),H}function Bb(C,H,rt,vt){C=H.state,typeof H.componentWillReceiveProps=="function"&&H.componentWillReceiveProps(rt,vt),typeof H.UNSAFE_componentWillReceiveProps=="function"&&H.UNSAFE_componentWillReceiveProps(rt,vt),H.state!==C&&Yg.enqueueReplaceState(H,H.state,null)}function e1(C,H,rt,vt){var St=C.stateNode;St.props=rt,St.state=C.memoizedState,St.refs=hw,J1(C);var Nt=H.contextType;typeof Nt=="object"&&Nt!==null?St.context=lu(Nt):(Nt=fl(H)?np:Ls.current,St.context=hd(C,Nt)),St.state=C.memoizedState,Nt=H.getDerivedStateFromProps,typeof Nt=="function"&&(t1(C,H,Nt,rt),St.state=C.memoizedState),typeof H.getDerivedStateFromProps=="function"||typeof St.getSnapshotBeforeUpdate=="function"||typeof St.UNSAFE_componentWillMount!="function"&&typeof St.componentWillMount!="function"||(H=St.state,typeof St.componentWillMount=="function"&&St.componentWillMount(),typeof St.UNSAFE_componentWillMount=="function"&&St.UNSAFE_componentWillMount(),H!==St.state&&Yg.enqueueReplaceState(St,St.state,null),wg(C,rt,St,vt),St.state=C.memoizedState),typeof St.componentDidMount=="function"&&(C.flags|=4194308)}function e0(C,H,rt){if(C=rt.ref,C!==null&&typeof C!="function"&&typeof C!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(gi(309));var vt=rt.stateNode}if(!vt)throw Error(gi(147,C));var St=vt,Nt=""+C;return H!==null&&H.ref!==null&&typeof H.ref=="function"&&H.ref._stringRef===Nt?H.ref:(H=function(X){var B=St.refs;B===hw&&(B=St.refs={}),X===null?delete B[Nt]:B[Nt]=X},H._stringRef=Nt,H)}if(typeof C!="string")throw Error(gi(284));if(!rt._owner)throw Error(gi(290,C))}return C}function jv(C,H){throw C=Object.prototype.toString.call(H),Error(gi(31,C==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":C))}function Nb(C){var H=C._init;return H(C._payload)}function dw(C){function H(e,s){if(C){var n=e.deletions;n===null?(e.deletions=[s],e.flags|=16):n.push(s)}}function rt(e,s){if(!C)return null;for(;s!==null;)H(e,s),s=s.sibling;return null}function vt(e,s){for(e=new Map;s!==null;)s.key!==null?e.set(s.key,s):e.set(s.index,s),s=s.sibling;return e}function St(e,s){return e=nh(e,s),e.index=0,e.sibling=null,e}function Nt(e,s,n){return e.index=n,C?(n=e.alternate,n!==null?(n=n.index,n<s?(e.flags|=2,s):n):(e.flags|=2,s)):(e.flags|=1048576,s)}function X(e){return C&&e.alternate===null&&(e.flags|=2),e}function B(e,s,n,l){return s===null||s.tag!==6?(s=cm(n,e.mode,l),s.return=e,s):(s=St(s,n),s.return=e,s)}function t(e,s,n,l){var o=n.type;return o===Wp?E(e,s,n.props.children,l,n.key):s!==null&&(s.elementType===o||typeof o=="object"&&o!==null&&o.$$typeof===Xf&&Nb(o)===s.type)?(l=St(s,n.props),l.ref=e0(e,s,n),l.return=e,l):(l=ag(n.type,n.key,n.props,null,e.mode,l),l.ref=e0(e,s,n),l.return=e,l)}function x(e,s,n,l){return s===null||s.tag!==4||s.stateNode.containerInfo!==n.containerInfo||s.stateNode.implementation!==n.implementation?(s=fm(n,e.mode,l),s.return=e,s):(s=St(s,n.children||[]),s.return=e,s)}function E(e,s,n,l,o){return s===null||s.tag!==7?(s=ep(n,e.mode,l,o),s.return=e,s):(s=St(s,n),s.return=e,s)}function i(e,s,n){if(typeof s=="string"&&s!==""||typeof s=="number")return s=cm(""+s,e.mode,n),s.return=e,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case Lv:return n=ag(s.type,s.key,s.props,null,e.mode,n),n.ref=e0(e,null,s),n.return=e,n;case qp:return s=fm(s,e.mode,n),s.return=e,s;case Xf:var l=s._init;return i(e,l(s._payload),n)}if(u0(s)||Kd(s))return s=ep(s,e.mode,n,null),s.return=e,s;jv(e,s)}return null}function M(e,s,n,l){var o=s!==null?s.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return o!==null?null:B(e,s,""+n,l);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Lv:return n.key===o?t(e,s,n,l):null;case qp:return n.key===o?x(e,s,n,l):null;case Xf:return o=n._init,M(e,s,o(n._payload),l)}if(u0(n)||Kd(n))return o!==null?null:E(e,s,n,l,null);jv(e,n)}return null}function m(e,s,n,l,o){if(typeof l=="string"&&l!==""||typeof l=="number")return e=e.get(n)||null,B(s,e,""+l,o);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case Lv:return e=e.get(l.key===null?n:l.key)||null,t(s,e,l,o);case qp:return e=e.get(l.key===null?n:l.key)||null,x(s,e,l,o);case Xf:var h=l._init;return m(e,s,n,h(l._payload),o)}if(u0(l)||Kd(l))return e=e.get(n)||null,E(s,e,l,o,null);jv(s,l)}return null}function d(e,s,n,l){for(var o=null,h=null,b=s,f=s=0,k=null;b!==null&&f<n.length;f++){b.index>f?(k=b,b=null):k=b.sibling;var a=M(e,b,n[f],l);if(a===null){b===null&&(b=k);break}C&&b&&a.alternate===null&&H(e,b),s=Nt(a,s,f),h===null?o=a:h.sibling=a,h=a,b=k}if(f===n.length)return rt(e,b),ro&&Wh(e,f),o;if(b===null){for(;f<n.length;f++)b=i(e,n[f],l),b!==null&&(s=Nt(b,s,f),h===null?o=b:h.sibling=b,h=b);return ro&&Wh(e,f),o}for(b=vt(e,b);f<n.length;f++)k=m(b,e,f,n[f],l),k!==null&&(C&&k.alternate!==null&&b.delete(k.key===null?f:k.key),s=Nt(k,s,f),h===null?o=k:h.sibling=k,h=k);return C&&b.forEach(function(c){return H(e,c)}),ro&&Wh(e,f),o}function v(e,s,n,l){var o=Kd(n);if(typeof o!="function")throw Error(gi(150));if(n=o.call(n),n==null)throw Error(gi(151));for(var h=o=null,b=s,f=s=0,k=null,a=n.next();b!==null&&!a.done;f++,a=n.next()){b.index>f?(k=b,b=null):k=b.sibling;var c=M(e,b,a.value,l);if(c===null){b===null&&(b=k);break}C&&b&&c.alternate===null&&H(e,b),s=Nt(c,s,f),h===null?o=c:h.sibling=c,h=c,b=k}if(a.done)return rt(e,b),ro&&Wh(e,f),o;if(b===null){for(;!a.done;f++,a=n.next())a=i(e,a.value,l),a!==null&&(s=Nt(a,s,f),h===null?o=a:h.sibling=a,h=a);return ro&&Wh(e,f),o}for(b=vt(e,b);!a.done;f++,a=n.next())a=m(b,e,f,a.value,l),a!==null&&(C&&a.alternate!==null&&b.delete(a.key===null?f:a.key),s=Nt(a,s,f),h===null?o=a:h.sibling=a,h=a);return C&&b.forEach(function(p){return H(e,p)}),ro&&Wh(e,f),o}function r(e,s,n,l){if(typeof n=="object"&&n!==null&&n.type===Wp&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Lv:t:{for(var o=n.key,h=s;h!==null;){if(h.key===o){if(o=n.type,o===Wp){if(h.tag===7){rt(e,h.sibling),s=St(h,n.props.children),s.return=e,e=s;break t}}else if(h.elementType===o||typeof o=="object"&&o!==null&&o.$$typeof===Xf&&Nb(o)===h.type){rt(e,h.sibling),s=St(h,n.props),s.ref=e0(e,h,n),s.return=e,e=s;break t}rt(e,h);break}else H(e,h);h=h.sibling}n.type===Wp?(s=ep(n.props.children,e.mode,l,n.key),s.return=e,e=s):(l=ag(n.type,n.key,n.props,null,e.mode,l),l.ref=e0(e,s,n),l.return=e,e=l)}return X(e);case qp:t:{for(h=n.key;s!==null;){if(s.key===h)if(s.tag===4&&s.stateNode.containerInfo===n.containerInfo&&s.stateNode.implementation===n.implementation){rt(e,s.sibling),s=St(s,n.children||[]),s.return=e,e=s;break t}else{rt(e,s);break}else H(e,s);s=s.sibling}s=fm(n,e.mode,l),s.return=e,e=s}return X(e);case Xf:return h=n._init,r(e,s,h(n._payload),l)}if(u0(n))return d(e,s,n,l);if(Kd(n))return v(e,s,n,l);jv(e,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,s!==null&&s.tag===6?(rt(e,s.sibling),s=St(s,n),s.return=e,e=s):(rt(e,s),s=cm(n,e.mode,l),s.return=e,e=s),X(e)):rt(e,s)}return r}var dd=dw(!0),vw=dw(!1),q0={},mc=hh(q0),z0=hh(q0),R0=hh(q0);function Kh(C){if(C===q0)throw Error(gi(174));return C}function Q1(C,H){switch(Xa(R0,H),Xa(z0,C),Xa(mc,q0),C=H.nodeType,C){case 9:case 11:H=(H=H.documentElement)?H.namespaceURI:Om(null,"");break;default:C=C===8?H.parentNode:H,H=C.namespaceURI||null,C=C.tagName,H=Om(H,C)}Ka(mc),Xa(mc,H)}function vd(){Ka(mc),Ka(z0),Ka(R0)}function gw(C){Kh(R0.current);var H=Kh(mc.current),rt=Om(H,C.type);H!==rt&&(Xa(z0,C),Xa(mc,rt))}function $1(C){z0.current===C&&(Ka(mc),Ka(z0))}var vo=hh(0);function kg(C){for(var H=C;H!==null;){if(H.tag===13){var rt=H.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return H}else if(H.tag===19&&H.memoizedProps.revealOrder!==void 0){if(H.flags&128)return H}else if(H.child!==null){H.child.return=H,H=H.child;continue}if(H===C)break;for(;H.sibling===null;){if(H.return===null||H.return===C)return null;H=H.return}H.sibling.return=H.return,H=H.sibling}return null}var im=[];function t2(){for(var C=0;C<im.length;C++)im[C]._workInProgressVersionPrimary=null;im.length=0}var tg=af.ReactCurrentDispatcher,am=af.ReactCurrentBatchConfig,ap=0,go=null,Vo=null,Jo=null,Tg=!1,m0=!1,D0=0,c7=0;function Ms(){throw Error(gi(321))}function e2(C,H){if(H===null)return!1;for(var rt=0;rt<H.length&&rt<C.length;rt++)if(!Uu(C[rt],H[rt]))return!1;return!0}function r2(C,H,rt,vt,St,Nt){if(ap=Nt,go=H,H.memoizedState=null,H.updateQueue=null,H.lanes=0,tg.current=C===null||C.memoizedState===null?d7:v7,C=rt(vt,St),m0){Nt=0;do{if(m0=!1,D0=0,25<=Nt)throw Error(gi(301));Nt+=1,Jo=Vo=null,H.updateQueue=null,tg.current=g7,C=rt(vt,St)}while(m0)}if(tg.current=Mg,H=Vo!==null&&Vo.next!==null,ap=0,Jo=Vo=go=null,Tg=!1,H)throw Error(gi(300));return C}function n2(){var C=D0!==0;return D0=0,C}function vc(){var C={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jo===null?go.memoizedState=Jo=C:Jo=Jo.next=C,Jo}function uu(){if(Vo===null){var C=go.alternate;C=C!==null?C.memoizedState:null}else C=Vo.next;var H=Jo===null?go.memoizedState:Jo.next;if(H!==null)Jo=H,Vo=C;else{if(C===null)throw Error(gi(310));Vo=C,C={memoizedState:Vo.memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},Jo===null?go.memoizedState=Jo=C:Jo=Jo.next=C}return Jo}function F0(C,H){return typeof H=="function"?H(C):H}function om(C){var H=uu(),rt=H.queue;if(rt===null)throw Error(gi(311));rt.lastRenderedReducer=C;var vt=Vo,St=vt.baseQueue,Nt=rt.pending;if(Nt!==null){if(St!==null){var X=St.next;St.next=Nt.next,Nt.next=X}vt.baseQueue=St=Nt,rt.pending=null}if(St!==null){Nt=St.next,vt=vt.baseState;var B=X=null,t=null,x=Nt;do{var E=x.lane;if((ap&E)===E)t!==null&&(t=t.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),vt=x.hasEagerState?x.eagerState:C(vt,x.action);else{var i={lane:E,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};t===null?(B=t=i,X=vt):t=t.next=i,go.lanes|=E,op|=E}x=x.next}while(x!==null&&x!==Nt);t===null?X=vt:t.next=B,Uu(vt,H.memoizedState)||(ul=!0),H.memoizedState=vt,H.baseState=X,H.baseQueue=t,rt.lastRenderedState=vt}if(C=rt.interleaved,C!==null){St=C;do Nt=St.lane,go.lanes|=Nt,op|=Nt,St=St.next;while(St!==C)}else St===null&&(rt.lanes=0);return[H.memoizedState,rt.dispatch]}function sm(C){var H=uu(),rt=H.queue;if(rt===null)throw Error(gi(311));rt.lastRenderedReducer=C;var vt=rt.dispatch,St=rt.pending,Nt=H.memoizedState;if(St!==null){rt.pending=null;var X=St=St.next;do Nt=C(Nt,X.action),X=X.next;while(X!==St);Uu(Nt,H.memoizedState)||(ul=!0),H.memoizedState=Nt,H.baseQueue===null&&(H.baseState=Nt),rt.lastRenderedState=Nt}return[Nt,vt]}function yw(){}function mw(C,H){var rt=go,vt=uu(),St=H(),Nt=!Uu(vt.memoizedState,St);if(Nt&&(vt.memoizedState=St,ul=!0),vt=vt.queue,i2(_w.bind(null,rt,vt,C),[C]),vt.getSnapshot!==H||Nt||Jo!==null&&Jo.memoizedState.tag&1){if(rt.flags|=2048,B0(9,bw.bind(null,rt,vt,St,H),void 0,null),Qo===null)throw Error(gi(349));ap&30||xw(rt,H,St)}return St}function xw(C,H,rt){C.flags|=16384,C={getSnapshot:H,value:rt},H=go.updateQueue,H===null?(H={lastEffect:null,stores:null},go.updateQueue=H,H.stores=[C]):(rt=H.stores,rt===null?H.stores=[C]:rt.push(C))}function bw(C,H,rt,vt){H.value=rt,H.getSnapshot=vt,ww(H)&&kw(C)}function _w(C,H,rt){return rt(function(){ww(H)&&kw(C)})}function ww(C){var H=C.getSnapshot;C=C.value;try{var rt=H();return!Uu(C,rt)}catch{return!0}}function kw(C){var H=tf(C,1);H!==null&&Xu(H,C,1,-1)}function jb(C){var H=vc();return typeof C=="function"&&(C=C()),H.memoizedState=H.baseState=C,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:F0,lastRenderedState:C},H.queue=C,C=C.dispatch=p7.bind(null,go,C),[H.memoizedState,C]}function B0(C,H,rt,vt){return C={tag:C,create:H,destroy:rt,deps:vt,next:null},H=go.updateQueue,H===null?(H={lastEffect:null,stores:null},go.updateQueue=H,H.lastEffect=C.next=C):(rt=H.lastEffect,rt===null?H.lastEffect=C.next=C:(vt=rt.next,rt.next=C,C.next=vt,H.lastEffect=C)),C}function Tw(){return uu().memoizedState}function eg(C,H,rt,vt){var St=vc();go.flags|=C,St.memoizedState=B0(1|H,rt,void 0,vt===void 0?null:vt)}function Kg(C,H,rt,vt){var St=uu();vt=vt===void 0?null:vt;var Nt=void 0;if(Vo!==null){var X=Vo.memoizedState;if(Nt=X.destroy,vt!==null&&e2(vt,X.deps)){St.memoizedState=B0(H,rt,Nt,vt);return}}go.flags|=C,St.memoizedState=B0(1|H,rt,Nt,vt)}function Hb(C,H){return eg(8390656,8,C,H)}function i2(C,H){return Kg(2048,8,C,H)}function Mw(C,H){return Kg(4,2,C,H)}function Aw(C,H){return Kg(4,4,C,H)}function Sw(C,H){if(typeof H=="function")return C=C(),H(C),function(){H(null)};if(H!=null)return C=C(),H.current=C,function(){H.current=null}}function Ew(C,H,rt){return rt=rt!=null?rt.concat([C]):null,Kg(4,4,Sw.bind(null,H,C),rt)}function a2(){}function Lw(C,H){var rt=uu();H=H===void 0?null:H;var vt=rt.memoizedState;return vt!==null&&H!==null&&e2(H,vt[1])?vt[0]:(rt.memoizedState=[C,H],C)}function Pw(C,H){var rt=uu();H=H===void 0?null:H;var vt=rt.memoizedState;return vt!==null&&H!==null&&e2(H,vt[1])?vt[0]:(C=C(),rt.memoizedState=[C,H],C)}function Cw(C,H,rt){return ap&21?(Uu(rt,H)||(rt=z3(),go.lanes|=rt,op|=rt,C.baseState=!0),H):(C.baseState&&(C.baseState=!1,ul=!0),C.memoizedState=rt)}function f7(C,H){var rt=Ia;Ia=rt!==0&&4>rt?rt:4,C(!0);var vt=am.transition;am.transition={};try{C(!1),H()}finally{Ia=rt,am.transition=vt}}function Iw(){return uu().memoizedState}function h7(C,H,rt){var vt=rh(C);if(rt={lane:vt,action:rt,hasEagerState:!1,eagerState:null,next:null},Ow(C))zw(H,rt);else if(rt=cw(C,H,rt,vt),rt!==null){var St=qs();Xu(rt,C,vt,St),Rw(rt,H,vt)}}function p7(C,H,rt){var vt=rh(C),St={lane:vt,action:rt,hasEagerState:!1,eagerState:null,next:null};if(Ow(C))zw(H,St);else{var Nt=C.alternate;if(C.lanes===0&&(Nt===null||Nt.lanes===0)&&(Nt=H.lastRenderedReducer,Nt!==null))try{var X=H.lastRenderedState,B=Nt(X,rt);if(St.hasEagerState=!0,St.eagerState=B,Uu(B,X)){var t=H.interleaved;t===null?(St.next=St,K1(H)):(St.next=t.next,t.next=St),H.interleaved=St;return}}catch{}finally{}rt=cw(C,H,St,vt),rt!==null&&(St=qs(),Xu(rt,C,vt,St),Rw(rt,H,vt))}}function Ow(C){var H=C.alternate;return C===go||H!==null&&H===go}function zw(C,H){m0=Tg=!0;var rt=C.pending;rt===null?H.next=H:(H.next=rt.next,rt.next=H),C.pending=H}function Rw(C,H,rt){if(rt&4194240){var vt=H.lanes;vt&=C.pendingLanes,rt|=vt,H.lanes=rt,D1(C,rt)}}var Mg={readContext:lu,useCallback:Ms,useContext:Ms,useEffect:Ms,useImperativeHandle:Ms,useInsertionEffect:Ms,useLayoutEffect:Ms,useMemo:Ms,useReducer:Ms,useRef:Ms,useState:Ms,useDebugValue:Ms,useDeferredValue:Ms,useTransition:Ms,useMutableSource:Ms,useSyncExternalStore:Ms,useId:Ms,unstable_isNewReconciler:!1},d7={readContext:lu,useCallback:function(C,H){return vc().memoizedState=[C,H===void 0?null:H],C},useContext:lu,useEffect:Hb,useImperativeHandle:function(C,H,rt){return rt=rt!=null?rt.concat([C]):null,eg(4194308,4,Sw.bind(null,H,C),rt)},useLayoutEffect:function(C,H){return eg(4194308,4,C,H)},useInsertionEffect:function(C,H){return eg(4,2,C,H)},useMemo:function(C,H){var rt=vc();return H=H===void 0?null:H,C=C(),rt.memoizedState=[C,H],C},useReducer:function(C,H,rt){var vt=vc();return H=rt!==void 0?rt(H):H,vt.memoizedState=vt.baseState=H,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:C,lastRenderedState:H},vt.queue=C,C=C.dispatch=h7.bind(null,go,C),[vt.memoizedState,C]},useRef:function(C){var H=vc();return C={current:C},H.memoizedState=C},useState:jb,useDebugValue:a2,useDeferredValue:function(C){return vc().memoizedState=C},useTransition:function(){var C=jb(!1),H=C[0];return C=f7.bind(null,C[1]),vc().memoizedState=C,[H,C]},useMutableSource:function(){},useSyncExternalStore:function(C,H,rt){var vt=go,St=vc();if(ro){if(rt===void 0)throw Error(gi(407));rt=rt()}else{if(rt=H(),Qo===null)throw Error(gi(349));ap&30||xw(vt,H,rt)}St.memoizedState=rt;var Nt={value:rt,getSnapshot:H};return St.queue=Nt,Hb(_w.bind(null,vt,Nt,C),[C]),vt.flags|=2048,B0(9,bw.bind(null,vt,Nt,rt,H),void 0,null),rt},useId:function(){var C=vc(),H=Qo.identifierPrefix;if(ro){var rt=Yc,vt=Zc;rt=(vt&~(1<<32-Vu(vt)-1)).toString(32)+rt,H=":"+H+"R"+rt,rt=D0++,0<rt&&(H+="H"+rt.toString(32)),H+=":"}else rt=c7++,H=":"+H+"r"+rt.toString(32)+":";return C.memoizedState=H},unstable_isNewReconciler:!1},v7={readContext:lu,useCallback:Lw,useContext:lu,useEffect:i2,useImperativeHandle:Ew,useInsertionEffect:Mw,useLayoutEffect:Aw,useMemo:Pw,useReducer:om,useRef:Tw,useState:function(){return om(F0)},useDebugValue:a2,useDeferredValue:function(C){var H=uu();return Cw(H,Vo.memoizedState,C)},useTransition:function(){var C=om(F0)[0],H=uu().memoizedState;return[C,H]},useMutableSource:yw,useSyncExternalStore:mw,useId:Iw,unstable_isNewReconciler:!1},g7={readContext:lu,useCallback:Lw,useContext:lu,useEffect:i2,useImperativeHandle:Ew,useInsertionEffect:Mw,useLayoutEffect:Aw,useMemo:Pw,useReducer:sm,useRef:Tw,useState:function(){return sm(F0)},useDebugValue:a2,useDeferredValue:function(C){var H=uu();return Vo===null?H.memoizedState=C:Cw(H,Vo.memoizedState,C)},useTransition:function(){var C=sm(F0)[0],H=uu().memoizedState;return[C,H]},useMutableSource:yw,useSyncExternalStore:mw,useId:Iw,unstable_isNewReconciler:!1};function gd(C,H){try{var rt="",vt=H;do rt+=Uk(vt),vt=vt.return;while(vt);var St=rt}catch(Nt){St=`
Error generating stack: `+Nt.message+`
`+Nt.stack}return{value:C,source:H,stack:St,digest:null}}function lm(C,H,rt){return{value:C,source:null,stack:rt??null,digest:H??null}}function r1(C,H){try{console.error(H.value)}catch(rt){setTimeout(function(){throw rt})}}var y7=typeof WeakMap=="function"?WeakMap:Map;function Dw(C,H,rt){rt=Kc(-1,rt),rt.tag=3,rt.payload={element:null};var vt=H.value;return rt.callback=function(){Sg||(Sg=!0,h1=vt),r1(C,H)},rt}function Fw(C,H,rt){rt=Kc(-1,rt),rt.tag=3;var vt=C.type.getDerivedStateFromError;if(typeof vt=="function"){var St=H.value;rt.payload=function(){return vt(St)},rt.callback=function(){r1(C,H)}}var Nt=C.stateNode;return Nt!==null&&typeof Nt.componentDidCatch=="function"&&(rt.callback=function(){r1(C,H),typeof vt!="function"&&(eh===null?eh=new Set([this]):eh.add(this));var X=H.stack;this.componentDidCatch(H.value,{componentStack:X!==null?X:""})}),rt}function Vb(C,H,rt){var vt=C.pingCache;if(vt===null){vt=C.pingCache=new y7;var St=new Set;vt.set(H,St)}else St=vt.get(H),St===void 0&&(St=new Set,vt.set(H,St));St.has(rt)||(St.add(rt),C=C7.bind(null,C,H,rt),H.then(C,C))}function Xb(C){do{var H;if((H=C.tag===13)&&(H=C.memoizedState,H=H!==null?H.dehydrated!==null:!0),H)return C;C=C.return}while(C!==null);return null}function Ub(C,H,rt,vt,St){return C.mode&1?(C.flags|=65536,C.lanes=St,C):(C===H?C.flags|=65536:(C.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(H=Kc(-1,1),H.tag=2,th(rt,H,1))),rt.lanes|=1),C)}var m7=af.ReactCurrentOwner,ul=!1;function Us(C,H,rt,vt){H.child=C===null?vw(H,null,rt,vt):dd(H,C.child,rt,vt)}function qb(C,H,rt,vt,St){rt=rt.render;var Nt=H.ref;return sd(H,St),vt=r2(C,H,rt,vt,Nt,St),rt=n2(),C!==null&&!ul?(H.updateQueue=C.updateQueue,H.flags&=-2053,C.lanes&=~St,ef(C,H,St)):(ro&&rt&&U1(H),H.flags|=1,Us(C,H,vt,St),H.child)}function Wb(C,H,rt,vt,St){if(C===null){var Nt=rt.type;return typeof Nt=="function"&&!p2(Nt)&&Nt.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(H.tag=15,H.type=Nt,Bw(C,H,Nt,vt,St)):(C=ag(rt.type,null,vt,H,H.mode,St),C.ref=H.ref,C.return=H,H.child=C)}if(Nt=C.child,!(C.lanes&St)){var X=Nt.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:P0,rt(X,vt)&&C.ref===H.ref)return ef(C,H,St)}return H.flags|=1,C=nh(Nt,vt),C.ref=H.ref,C.return=H,H.child=C}function Bw(C,H,rt,vt,St){if(C!==null){var Nt=C.memoizedProps;if(P0(Nt,vt)&&C.ref===H.ref)if(ul=!1,H.pendingProps=vt=Nt,(C.lanes&St)!==0)C.flags&131072&&(ul=!0);else return H.lanes=C.lanes,ef(C,H,St)}return n1(C,H,rt,vt,St)}function Nw(C,H,rt){var vt=H.pendingProps,St=vt.children,Nt=C!==null?C.memoizedState:null;if(vt.mode==="hidden")if(!(H.mode&1))H.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xa(rd,Al),Al|=rt;else{if(!(rt&1073741824))return C=Nt!==null?Nt.baseLanes|rt:rt,H.lanes=H.childLanes=1073741824,H.memoizedState={baseLanes:C,cachePool:null,transitions:null},H.updateQueue=null,Xa(rd,Al),Al|=C,null;H.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=Nt!==null?Nt.baseLanes:rt,Xa(rd,Al),Al|=vt}else Nt!==null?(vt=Nt.baseLanes|rt,H.memoizedState=null):vt=rt,Xa(rd,Al),Al|=vt;return Us(C,H,St,rt),H.child}function jw(C,H){var rt=H.ref;(C===null&&rt!==null||C!==null&&C.ref!==rt)&&(H.flags|=512,H.flags|=2097152)}function n1(C,H,rt,vt,St){var Nt=fl(rt)?np:Ls.current;return Nt=hd(H,Nt),sd(H,St),rt=r2(C,H,rt,vt,Nt,St),vt=n2(),C!==null&&!ul?(H.updateQueue=C.updateQueue,H.flags&=-2053,C.lanes&=~St,ef(C,H,St)):(ro&&vt&&U1(H),H.flags|=1,Us(C,H,rt,St),H.child)}function Gb(C,H,rt,vt,St){if(fl(rt)){var Nt=!0;yg(H)}else Nt=!1;if(sd(H,St),H.stateNode===null)rg(C,H),pw(H,rt,vt),e1(H,rt,vt,St),vt=!0;else if(C===null){var X=H.stateNode,B=H.memoizedProps;X.props=B;var t=X.context,x=rt.contextType;typeof x=="object"&&x!==null?x=lu(x):(x=fl(rt)?np:Ls.current,x=hd(H,x));var E=rt.getDerivedStateFromProps,i=typeof E=="function"||typeof X.getSnapshotBeforeUpdate=="function";i||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(B!==vt||t!==x)&&Bb(H,X,vt,x),Uf=!1;var M=H.memoizedState;X.state=M,wg(H,vt,X,St),t=H.memoizedState,B!==vt||M!==t||cl.current||Uf?(typeof E=="function"&&(t1(H,rt,E,vt),t=H.memoizedState),(B=Uf||Fb(H,rt,B,vt,M,t,x))?(i||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(H.flags|=4194308)):(typeof X.componentDidMount=="function"&&(H.flags|=4194308),H.memoizedProps=vt,H.memoizedState=t),X.props=vt,X.state=t,X.context=x,vt=B):(typeof X.componentDidMount=="function"&&(H.flags|=4194308),vt=!1)}else{X=H.stateNode,fw(C,H),B=H.memoizedProps,x=H.type===H.elementType?B:Nu(H.type,B),X.props=x,i=H.pendingProps,M=X.context,t=rt.contextType,typeof t=="object"&&t!==null?t=lu(t):(t=fl(rt)?np:Ls.current,t=hd(H,t));var m=rt.getDerivedStateFromProps;(E=typeof m=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(B!==i||M!==t)&&Bb(H,X,vt,t),Uf=!1,M=H.memoizedState,X.state=M,wg(H,vt,X,St);var d=H.memoizedState;B!==i||M!==d||cl.current||Uf?(typeof m=="function"&&(t1(H,rt,m,vt),d=H.memoizedState),(x=Uf||Fb(H,rt,x,vt,M,d,t)||!1)?(E||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(vt,d,t),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(vt,d,t)),typeof X.componentDidUpdate=="function"&&(H.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(H.flags|=1024)):(typeof X.componentDidUpdate!="function"||B===C.memoizedProps&&M===C.memoizedState||(H.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||B===C.memoizedProps&&M===C.memoizedState||(H.flags|=1024),H.memoizedProps=vt,H.memoizedState=d),X.props=vt,X.state=d,X.context=t,vt=x):(typeof X.componentDidUpdate!="function"||B===C.memoizedProps&&M===C.memoizedState||(H.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||B===C.memoizedProps&&M===C.memoizedState||(H.flags|=1024),vt=!1)}return i1(C,H,rt,vt,Nt,St)}function i1(C,H,rt,vt,St,Nt){jw(C,H);var X=(H.flags&128)!==0;if(!vt&&!X)return St&&Ib(H,rt,!1),ef(C,H,Nt);vt=H.stateNode,m7.current=H;var B=X&&typeof rt.getDerivedStateFromError!="function"?null:vt.render();return H.flags|=1,C!==null&&X?(H.child=dd(H,C.child,null,Nt),H.child=dd(H,null,B,Nt)):Us(C,H,B,Nt),H.memoizedState=vt.state,St&&Ib(H,rt,!0),H.child}function Hw(C){var H=C.stateNode;H.pendingContext?Cb(C,H.pendingContext,H.pendingContext!==H.context):H.context&&Cb(C,H.context,!1),Q1(C,H.containerInfo)}function Zb(C,H,rt,vt,St){return pd(),W1(St),H.flags|=256,Us(C,H,rt,vt),H.child}var a1={dehydrated:null,treeContext:null,retryLane:0};function o1(C){return{baseLanes:C,cachePool:null,transitions:null}}function Vw(C,H,rt){var vt=H.pendingProps,St=vo.current,Nt=!1,X=(H.flags&128)!==0,B;if((B=X)||(B=C!==null&&C.memoizedState===null?!1:(St&2)!==0),B?(Nt=!0,H.flags&=-129):(C===null||C.memoizedState!==null)&&(St|=1),Xa(vo,St&1),C===null)return Qm(H),C=H.memoizedState,C!==null&&(C=C.dehydrated,C!==null)?(H.mode&1?C.data==="$!"?H.lanes=8:H.lanes=1073741824:H.lanes=1,null):(X=vt.children,C=vt.fallback,Nt?(vt=H.mode,Nt=H.child,X={mode:"hidden",children:X},!(vt&1)&&Nt!==null?(Nt.childLanes=0,Nt.pendingProps=X):Nt=$g(X,vt,0,null),C=ep(C,vt,rt,null),Nt.return=H,C.return=H,Nt.sibling=C,H.child=Nt,H.child.memoizedState=o1(rt),H.memoizedState=a1,C):o2(H,X));if(St=C.memoizedState,St!==null&&(B=St.dehydrated,B!==null))return x7(C,H,X,vt,B,St,rt);if(Nt){Nt=vt.fallback,X=H.mode,St=C.child,B=St.sibling;var t={mode:"hidden",children:vt.children};return!(X&1)&&H.child!==St?(vt=H.child,vt.childLanes=0,vt.pendingProps=t,H.deletions=null):(vt=nh(St,t),vt.subtreeFlags=St.subtreeFlags&14680064),B!==null?Nt=nh(B,Nt):(Nt=ep(Nt,X,rt,null),Nt.flags|=2),Nt.return=H,vt.return=H,vt.sibling=Nt,H.child=vt,vt=Nt,Nt=H.child,X=C.child.memoizedState,X=X===null?o1(rt):{baseLanes:X.baseLanes|rt,cachePool:null,transitions:X.transitions},Nt.memoizedState=X,Nt.childLanes=C.childLanes&~rt,H.memoizedState=a1,vt}return Nt=C.child,C=Nt.sibling,vt=nh(Nt,{mode:"visible",children:vt.children}),!(H.mode&1)&&(vt.lanes=rt),vt.return=H,vt.sibling=null,C!==null&&(rt=H.deletions,rt===null?(H.deletions=[C],H.flags|=16):rt.push(C)),H.child=vt,H.memoizedState=null,vt}function o2(C,H){return H=$g({mode:"visible",children:H},C.mode,0,null),H.return=C,C.child=H}function Hv(C,H,rt,vt){return vt!==null&&W1(vt),dd(H,C.child,null,rt),C=o2(H,H.pendingProps.children),C.flags|=2,H.memoizedState=null,C}function x7(C,H,rt,vt,St,Nt,X){if(rt)return H.flags&256?(H.flags&=-257,vt=lm(Error(gi(422))),Hv(C,H,X,vt)):H.memoizedState!==null?(H.child=C.child,H.flags|=128,null):(Nt=vt.fallback,St=H.mode,vt=$g({mode:"visible",children:vt.children},St,0,null),Nt=ep(Nt,St,X,null),Nt.flags|=2,vt.return=H,Nt.return=H,vt.sibling=Nt,H.child=vt,H.mode&1&&dd(H,C.child,null,X),H.child.memoizedState=o1(X),H.memoizedState=a1,Nt);if(!(H.mode&1))return Hv(C,H,X,null);if(St.data==="$!"){if(vt=St.nextSibling&&St.nextSibling.dataset,vt)var B=vt.dgst;return vt=B,Nt=Error(gi(419)),vt=lm(Nt,vt,void 0),Hv(C,H,X,vt)}if(B=(X&C.childLanes)!==0,ul||B){if(vt=Qo,vt!==null){switch(X&-X){case 4:St=2;break;case 16:St=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:St=32;break;case 536870912:St=268435456;break;default:St=0}St=St&(vt.suspendedLanes|X)?0:St,St!==0&&St!==Nt.retryLane&&(Nt.retryLane=St,tf(C,St),Xu(vt,C,St,-1))}return h2(),vt=lm(Error(gi(421))),Hv(C,H,X,vt)}return St.data==="$?"?(H.flags|=128,H.child=C.child,H=I7.bind(null,C),St._reactRetry=H,null):(C=Nt.treeContext,El=$f(St.nextSibling),Pl=H,ro=!0,Hu=null,C!==null&&(nu[iu++]=Zc,nu[iu++]=Yc,nu[iu++]=ip,Zc=C.id,Yc=C.overflow,ip=H),H=o2(H,vt.children),H.flags|=4096,H)}function Yb(C,H,rt){C.lanes|=H;var vt=C.alternate;vt!==null&&(vt.lanes|=H),$m(C.return,H,rt)}function um(C,H,rt,vt,St){var Nt=C.memoizedState;Nt===null?C.memoizedState={isBackwards:H,rendering:null,renderingStartTime:0,last:vt,tail:rt,tailMode:St}:(Nt.isBackwards=H,Nt.rendering=null,Nt.renderingStartTime=0,Nt.last=vt,Nt.tail=rt,Nt.tailMode=St)}function Xw(C,H,rt){var vt=H.pendingProps,St=vt.revealOrder,Nt=vt.tail;if(Us(C,H,vt.children,rt),vt=vo.current,vt&2)vt=vt&1|2,H.flags|=128;else{if(C!==null&&C.flags&128)t:for(C=H.child;C!==null;){if(C.tag===13)C.memoizedState!==null&&Yb(C,rt,H);else if(C.tag===19)Yb(C,rt,H);else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===H)break t;for(;C.sibling===null;){if(C.return===null||C.return===H)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}vt&=1}if(Xa(vo,vt),!(H.mode&1))H.memoizedState=null;else switch(St){case"forwards":for(rt=H.child,St=null;rt!==null;)C=rt.alternate,C!==null&&kg(C)===null&&(St=rt),rt=rt.sibling;rt=St,rt===null?(St=H.child,H.child=null):(St=rt.sibling,rt.sibling=null),um(H,!1,St,rt,Nt);break;case"backwards":for(rt=null,St=H.child,H.child=null;St!==null;){if(C=St.alternate,C!==null&&kg(C)===null){H.child=St;break}C=St.sibling,St.sibling=rt,rt=St,St=C}um(H,!0,rt,null,Nt);break;case"together":um(H,!1,null,null,void 0);break;default:H.memoizedState=null}return H.child}function rg(C,H){!(H.mode&1)&&C!==null&&(C.alternate=null,H.alternate=null,H.flags|=2)}function ef(C,H,rt){if(C!==null&&(H.dependencies=C.dependencies),op|=H.lanes,!(rt&H.childLanes))return null;if(C!==null&&H.child!==C.child)throw Error(gi(153));if(H.child!==null){for(C=H.child,rt=nh(C,C.pendingProps),H.child=rt,rt.return=H;C.sibling!==null;)C=C.sibling,rt=rt.sibling=nh(C,C.pendingProps),rt.return=H;rt.sibling=null}return H.child}function b7(C,H,rt){switch(H.tag){case 3:Hw(H),pd();break;case 5:gw(H);break;case 1:fl(H.type)&&yg(H);break;case 4:Q1(H,H.stateNode.containerInfo);break;case 10:var vt=H.type._context,St=H.memoizedProps.value;Xa(bg,vt._currentValue),vt._currentValue=St;break;case 13:if(vt=H.memoizedState,vt!==null)return vt.dehydrated!==null?(Xa(vo,vo.current&1),H.flags|=128,null):rt&H.child.childLanes?Vw(C,H,rt):(Xa(vo,vo.current&1),C=ef(C,H,rt),C!==null?C.sibling:null);Xa(vo,vo.current&1);break;case 19:if(vt=(rt&H.childLanes)!==0,C.flags&128){if(vt)return Xw(C,H,rt);H.flags|=128}if(St=H.memoizedState,St!==null&&(St.rendering=null,St.tail=null,St.lastEffect=null),Xa(vo,vo.current),vt)break;return null;case 22:case 23:return H.lanes=0,Nw(C,H,rt)}return ef(C,H,rt)}var Uw,s1,qw,Ww;Uw=function(C,H){for(var rt=H.child;rt!==null;){if(rt.tag===5||rt.tag===6)C.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===H)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===H)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};s1=function(){};qw=function(C,H,rt,vt){var St=C.memoizedProps;if(St!==vt){C=H.stateNode,Kh(mc.current);var Nt=null;switch(rt){case"input":St=Lm(C,St),vt=Lm(C,vt),Nt=[];break;case"select":St=yo({},St,{value:void 0}),vt=yo({},vt,{value:void 0}),Nt=[];break;case"textarea":St=Im(C,St),vt=Im(C,vt),Nt=[];break;default:typeof St.onClick!="function"&&typeof vt.onClick=="function"&&(C.onclick=vg)}zm(rt,vt);var X;rt=null;for(x in St)if(!vt.hasOwnProperty(x)&&St.hasOwnProperty(x)&&St[x]!=null)if(x==="style"){var B=St[x];for(X in B)B.hasOwnProperty(X)&&(rt||(rt={}),rt[X]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(k0.hasOwnProperty(x)?Nt||(Nt=[]):(Nt=Nt||[]).push(x,null));for(x in vt){var t=vt[x];if(B=St!=null?St[x]:void 0,vt.hasOwnProperty(x)&&t!==B&&(t!=null||B!=null))if(x==="style")if(B){for(X in B)!B.hasOwnProperty(X)||t&&t.hasOwnProperty(X)||(rt||(rt={}),rt[X]="");for(X in t)t.hasOwnProperty(X)&&B[X]!==t[X]&&(rt||(rt={}),rt[X]=t[X])}else rt||(Nt||(Nt=[]),Nt.push(x,rt)),rt=t;else x==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,B=B?B.__html:void 0,t!=null&&B!==t&&(Nt=Nt||[]).push(x,t)):x==="children"?typeof t!="string"&&typeof t!="number"||(Nt=Nt||[]).push(x,""+t):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(k0.hasOwnProperty(x)?(t!=null&&x==="onScroll"&&Ya("scroll",C),Nt||B===t||(Nt=[])):(Nt=Nt||[]).push(x,t))}rt&&(Nt=Nt||[]).push("style",rt);var x=Nt;(H.updateQueue=x)&&(H.flags|=4)}};Ww=function(C,H,rt,vt){rt!==vt&&(H.flags|=4)};function r0(C,H){if(!ro)switch(C.tailMode){case"hidden":H=C.tail;for(var rt=null;H!==null;)H.alternate!==null&&(rt=H),H=H.sibling;rt===null?C.tail=null:rt.sibling=null;break;case"collapsed":rt=C.tail;for(var vt=null;rt!==null;)rt.alternate!==null&&(vt=rt),rt=rt.sibling;vt===null?H||C.tail===null?C.tail=null:C.tail.sibling=null:vt.sibling=null}}function As(C){var H=C.alternate!==null&&C.alternate.child===C.child,rt=0,vt=0;if(H)for(var St=C.child;St!==null;)rt|=St.lanes|St.childLanes,vt|=St.subtreeFlags&14680064,vt|=St.flags&14680064,St.return=C,St=St.sibling;else for(St=C.child;St!==null;)rt|=St.lanes|St.childLanes,vt|=St.subtreeFlags,vt|=St.flags,St.return=C,St=St.sibling;return C.subtreeFlags|=vt,C.childLanes=rt,H}function _7(C,H,rt){var vt=H.pendingProps;switch(q1(H),H.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return As(H),null;case 1:return fl(H.type)&&gg(),As(H),null;case 3:return vt=H.stateNode,vd(),Ka(cl),Ka(Ls),t2(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(C===null||C.child===null)&&(Nv(H)?H.flags|=4:C===null||C.memoizedState.isDehydrated&&!(H.flags&256)||(H.flags|=1024,Hu!==null&&(v1(Hu),Hu=null))),s1(C,H),As(H),null;case 5:$1(H);var St=Kh(R0.current);if(rt=H.type,C!==null&&H.stateNode!=null)qw(C,H,rt,vt,St),C.ref!==H.ref&&(H.flags|=512,H.flags|=2097152);else{if(!vt){if(H.stateNode===null)throw Error(gi(166));return As(H),null}if(C=Kh(mc.current),Nv(H)){vt=H.stateNode,rt=H.type;var Nt=H.memoizedProps;switch(vt[gc]=H,vt[O0]=Nt,C=(H.mode&1)!==0,rt){case"dialog":Ya("cancel",vt),Ya("close",vt);break;case"iframe":case"object":case"embed":Ya("load",vt);break;case"video":case"audio":for(St=0;St<f0.length;St++)Ya(f0[St],vt);break;case"source":Ya("error",vt);break;case"img":case"image":case"link":Ya("error",vt),Ya("load",vt);break;case"details":Ya("toggle",vt);break;case"input":ib(vt,Nt),Ya("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!Nt.multiple},Ya("invalid",vt);break;case"textarea":ob(vt,Nt),Ya("invalid",vt)}zm(rt,Nt),St=null;for(var X in Nt)if(Nt.hasOwnProperty(X)){var B=Nt[X];X==="children"?typeof B=="string"?vt.textContent!==B&&(Nt.suppressHydrationWarning!==!0&&Bv(vt.textContent,B,C),St=["children",B]):typeof B=="number"&&vt.textContent!==""+B&&(Nt.suppressHydrationWarning!==!0&&Bv(vt.textContent,B,C),St=["children",""+B]):k0.hasOwnProperty(X)&&B!=null&&X==="onScroll"&&Ya("scroll",vt)}switch(rt){case"input":Pv(vt),ab(vt,Nt,!0);break;case"textarea":Pv(vt),sb(vt);break;case"select":case"option":break;default:typeof Nt.onClick=="function"&&(vt.onclick=vg)}vt=St,H.updateQueue=vt,vt!==null&&(H.flags|=4)}else{X=St.nodeType===9?St:St.ownerDocument,C==="http://www.w3.org/1999/xhtml"&&(C=x3(rt)),C==="http://www.w3.org/1999/xhtml"?rt==="script"?(C=X.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild)):typeof vt.is=="string"?C=X.createElement(rt,{is:vt.is}):(C=X.createElement(rt),rt==="select"&&(X=C,vt.multiple?X.multiple=!0:vt.size&&(X.size=vt.size))):C=X.createElementNS(C,rt),C[gc]=H,C[O0]=vt,Uw(C,H,!1,!1),H.stateNode=C;t:{switch(X=Rm(rt,vt),rt){case"dialog":Ya("cancel",C),Ya("close",C),St=vt;break;case"iframe":case"object":case"embed":Ya("load",C),St=vt;break;case"video":case"audio":for(St=0;St<f0.length;St++)Ya(f0[St],C);St=vt;break;case"source":Ya("error",C),St=vt;break;case"img":case"image":case"link":Ya("error",C),Ya("load",C),St=vt;break;case"details":Ya("toggle",C),St=vt;break;case"input":ib(C,vt),St=Lm(C,vt),Ya("invalid",C);break;case"option":St=vt;break;case"select":C._wrapperState={wasMultiple:!!vt.multiple},St=yo({},vt,{value:void 0}),Ya("invalid",C);break;case"textarea":ob(C,vt),St=Im(C,vt),Ya("invalid",C);break;default:St=vt}zm(rt,St),B=St;for(Nt in B)if(B.hasOwnProperty(Nt)){var t=B[Nt];Nt==="style"?w3(C,t):Nt==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,t!=null&&b3(C,t)):Nt==="children"?typeof t=="string"?(rt!=="textarea"||t!=="")&&T0(C,t):typeof t=="number"&&T0(C,""+t):Nt!=="suppressContentEditableWarning"&&Nt!=="suppressHydrationWarning"&&Nt!=="autoFocus"&&(k0.hasOwnProperty(Nt)?t!=null&&Nt==="onScroll"&&Ya("scroll",C):t!=null&&P1(C,Nt,t,X))}switch(rt){case"input":Pv(C),ab(C,vt,!1);break;case"textarea":Pv(C),sb(C);break;case"option":vt.value!=null&&C.setAttribute("value",""+ih(vt.value));break;case"select":C.multiple=!!vt.multiple,Nt=vt.value,Nt!=null?nd(C,!!vt.multiple,Nt,!1):vt.defaultValue!=null&&nd(C,!!vt.multiple,vt.defaultValue,!0);break;default:typeof St.onClick=="function"&&(C.onclick=vg)}switch(rt){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break t;case"img":vt=!0;break t;default:vt=!1}}vt&&(H.flags|=4)}H.ref!==null&&(H.flags|=512,H.flags|=2097152)}return As(H),null;case 6:if(C&&H.stateNode!=null)Ww(C,H,C.memoizedProps,vt);else{if(typeof vt!="string"&&H.stateNode===null)throw Error(gi(166));if(rt=Kh(R0.current),Kh(mc.current),Nv(H)){if(vt=H.stateNode,rt=H.memoizedProps,vt[gc]=H,(Nt=vt.nodeValue!==rt)&&(C=Pl,C!==null))switch(C.tag){case 3:Bv(vt.nodeValue,rt,(C.mode&1)!==0);break;case 5:C.memoizedProps.suppressHydrationWarning!==!0&&Bv(vt.nodeValue,rt,(C.mode&1)!==0)}Nt&&(H.flags|=4)}else vt=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(vt),vt[gc]=H,H.stateNode=vt}return As(H),null;case 13:if(Ka(vo),vt=H.memoizedState,C===null||C.memoizedState!==null&&C.memoizedState.dehydrated!==null){if(ro&&El!==null&&H.mode&1&&!(H.flags&128))uw(),pd(),H.flags|=98560,Nt=!1;else if(Nt=Nv(H),vt!==null&&vt.dehydrated!==null){if(C===null){if(!Nt)throw Error(gi(318));if(Nt=H.memoizedState,Nt=Nt!==null?Nt.dehydrated:null,!Nt)throw Error(gi(317));Nt[gc]=H}else pd(),!(H.flags&128)&&(H.memoizedState=null),H.flags|=4;As(H),Nt=!1}else Hu!==null&&(v1(Hu),Hu=null),Nt=!0;if(!Nt)return H.flags&65536?H:null}return H.flags&128?(H.lanes=rt,H):(vt=vt!==null,vt!==(C!==null&&C.memoizedState!==null)&&vt&&(H.child.flags|=8192,H.mode&1&&(C===null||vo.current&1?Xo===0&&(Xo=3):h2())),H.updateQueue!==null&&(H.flags|=4),As(H),null);case 4:return vd(),s1(C,H),C===null&&C0(H.stateNode.containerInfo),As(H),null;case 10:return Y1(H.type._context),As(H),null;case 17:return fl(H.type)&&gg(),As(H),null;case 19:if(Ka(vo),Nt=H.memoizedState,Nt===null)return As(H),null;if(vt=(H.flags&128)!==0,X=Nt.rendering,X===null)if(vt)r0(Nt,!1);else{if(Xo!==0||C!==null&&C.flags&128)for(C=H.child;C!==null;){if(X=kg(C),X!==null){for(H.flags|=128,r0(Nt,!1),vt=X.updateQueue,vt!==null&&(H.updateQueue=vt,H.flags|=4),H.subtreeFlags=0,vt=rt,rt=H.child;rt!==null;)Nt=rt,C=vt,Nt.flags&=14680066,X=Nt.alternate,X===null?(Nt.childLanes=0,Nt.lanes=C,Nt.child=null,Nt.subtreeFlags=0,Nt.memoizedProps=null,Nt.memoizedState=null,Nt.updateQueue=null,Nt.dependencies=null,Nt.stateNode=null):(Nt.childLanes=X.childLanes,Nt.lanes=X.lanes,Nt.child=X.child,Nt.subtreeFlags=0,Nt.deletions=null,Nt.memoizedProps=X.memoizedProps,Nt.memoizedState=X.memoizedState,Nt.updateQueue=X.updateQueue,Nt.type=X.type,C=X.dependencies,Nt.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),rt=rt.sibling;return Xa(vo,vo.current&1|2),H.child}C=C.sibling}Nt.tail!==null&&So()>yd&&(H.flags|=128,vt=!0,r0(Nt,!1),H.lanes=4194304)}else{if(!vt)if(C=kg(X),C!==null){if(H.flags|=128,vt=!0,rt=C.updateQueue,rt!==null&&(H.updateQueue=rt,H.flags|=4),r0(Nt,!0),Nt.tail===null&&Nt.tailMode==="hidden"&&!X.alternate&&!ro)return As(H),null}else 2*So()-Nt.renderingStartTime>yd&&rt!==1073741824&&(H.flags|=128,vt=!0,r0(Nt,!1),H.lanes=4194304);Nt.isBackwards?(X.sibling=H.child,H.child=X):(rt=Nt.last,rt!==null?rt.sibling=X:H.child=X,Nt.last=X)}return Nt.tail!==null?(H=Nt.tail,Nt.rendering=H,Nt.tail=H.sibling,Nt.renderingStartTime=So(),H.sibling=null,rt=vo.current,Xa(vo,vt?rt&1|2:rt&1),H):(As(H),null);case 22:case 23:return f2(),vt=H.memoizedState!==null,C!==null&&C.memoizedState!==null!==vt&&(H.flags|=8192),vt&&H.mode&1?Al&1073741824&&(As(H),H.subtreeFlags&6&&(H.flags|=8192)):As(H),null;case 24:return null;case 25:return null}throw Error(gi(156,H.tag))}function w7(C,H){switch(q1(H),H.tag){case 1:return fl(H.type)&&gg(),C=H.flags,C&65536?(H.flags=C&-65537|128,H):null;case 3:return vd(),Ka(cl),Ka(Ls),t2(),C=H.flags,C&65536&&!(C&128)?(H.flags=C&-65537|128,H):null;case 5:return $1(H),null;case 13:if(Ka(vo),C=H.memoizedState,C!==null&&C.dehydrated!==null){if(H.alternate===null)throw Error(gi(340));pd()}return C=H.flags,C&65536?(H.flags=C&-65537|128,H):null;case 19:return Ka(vo),null;case 4:return vd(),null;case 10:return Y1(H.type._context),null;case 22:case 23:return f2(),null;case 24:return null;default:return null}}var Vv=!1,Ss=!1,k7=typeof WeakSet=="function"?WeakSet:Set,Bi=null;function ed(C,H){var rt=C.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(vt){_o(C,H,vt)}else rt.current=null}function l1(C,H,rt){try{rt()}catch(vt){_o(C,H,vt)}}var Kb=!1;function T7(C,H){if(qm=hg,C=K3(),X1(C)){if("selectionStart"in C)var rt={start:C.selectionStart,end:C.selectionEnd};else t:{rt=(rt=C.ownerDocument)&&rt.defaultView||window;var vt=rt.getSelection&&rt.getSelection();if(vt&&vt.rangeCount!==0){rt=vt.anchorNode;var St=vt.anchorOffset,Nt=vt.focusNode;vt=vt.focusOffset;try{rt.nodeType,Nt.nodeType}catch{rt=null;break t}var X=0,B=-1,t=-1,x=0,E=0,i=C,M=null;e:for(;;){for(var m;i!==rt||St!==0&&i.nodeType!==3||(B=X+St),i!==Nt||vt!==0&&i.nodeType!==3||(t=X+vt),i.nodeType===3&&(X+=i.nodeValue.length),(m=i.firstChild)!==null;)M=i,i=m;for(;;){if(i===C)break e;if(M===rt&&++x===St&&(B=X),M===Nt&&++E===vt&&(t=X),(m=i.nextSibling)!==null)break;i=M,M=i.parentNode}i=m}rt=B===-1||t===-1?null:{start:B,end:t}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Wm={focusedElem:C,selectionRange:rt},hg=!1,Bi=H;Bi!==null;)if(H=Bi,C=H.child,(H.subtreeFlags&1028)!==0&&C!==null)C.return=H,Bi=C;else for(;Bi!==null;){H=Bi;try{var d=H.alternate;if(H.flags&1024)switch(H.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var v=d.memoizedProps,r=d.memoizedState,e=H.stateNode,s=e.getSnapshotBeforeUpdate(H.elementType===H.type?v:Nu(H.type,v),r);e.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var n=H.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gi(163))}}catch(l){_o(H,H.return,l)}if(C=H.sibling,C!==null){C.return=H.return,Bi=C;break}Bi=H.return}return d=Kb,Kb=!1,d}function x0(C,H,rt){var vt=H.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var St=vt=vt.next;do{if((St.tag&C)===C){var Nt=St.destroy;St.destroy=void 0,Nt!==void 0&&l1(H,rt,Nt)}St=St.next}while(St!==vt)}}function Jg(C,H){if(H=H.updateQueue,H=H!==null?H.lastEffect:null,H!==null){var rt=H=H.next;do{if((rt.tag&C)===C){var vt=rt.create;rt.destroy=vt()}rt=rt.next}while(rt!==H)}}function u1(C){var H=C.ref;if(H!==null){var rt=C.stateNode;switch(C.tag){case 5:C=rt;break;default:C=rt}typeof H=="function"?H(C):H.current=C}}function Gw(C){var H=C.alternate;H!==null&&(C.alternate=null,Gw(H)),C.child=null,C.deletions=null,C.sibling=null,C.tag===5&&(H=C.stateNode,H!==null&&(delete H[gc],delete H[O0],delete H[Ym],delete H[o7],delete H[s7])),C.stateNode=null,C.return=null,C.dependencies=null,C.memoizedProps=null,C.memoizedState=null,C.pendingProps=null,C.stateNode=null,C.updateQueue=null}function Zw(C){return C.tag===5||C.tag===3||C.tag===4}function Jb(C){t:for(;;){for(;C.sibling===null;){if(C.return===null||Zw(C.return))return null;C=C.return}for(C.sibling.return=C.return,C=C.sibling;C.tag!==5&&C.tag!==6&&C.tag!==18;){if(C.flags&2||C.child===null||C.tag===4)continue t;C.child.return=C,C=C.child}if(!(C.flags&2))return C.stateNode}}function c1(C,H,rt){var vt=C.tag;if(vt===5||vt===6)C=C.stateNode,H?rt.nodeType===8?rt.parentNode.insertBefore(C,H):rt.insertBefore(C,H):(rt.nodeType===8?(H=rt.parentNode,H.insertBefore(C,rt)):(H=rt,H.appendChild(C)),rt=rt._reactRootContainer,rt!=null||H.onclick!==null||(H.onclick=vg));else if(vt!==4&&(C=C.child,C!==null))for(c1(C,H,rt),C=C.sibling;C!==null;)c1(C,H,rt),C=C.sibling}function f1(C,H,rt){var vt=C.tag;if(vt===5||vt===6)C=C.stateNode,H?rt.insertBefore(C,H):rt.appendChild(C);else if(vt!==4&&(C=C.child,C!==null))for(f1(C,H,rt),C=C.sibling;C!==null;)f1(C,H,rt),C=C.sibling}var ps=null,ju=!1;function Vf(C,H,rt){for(rt=rt.child;rt!==null;)Yw(C,H,rt),rt=rt.sibling}function Yw(C,H,rt){if(yc&&typeof yc.onCommitFiberUnmount=="function")try{yc.onCommitFiberUnmount(Xg,rt)}catch{}switch(rt.tag){case 5:Ss||ed(rt,H);case 6:var vt=ps,St=ju;ps=null,Vf(C,H,rt),ps=vt,ju=St,ps!==null&&(ju?(C=ps,rt=rt.stateNode,C.nodeType===8?C.parentNode.removeChild(rt):C.removeChild(rt)):ps.removeChild(rt.stateNode));break;case 18:ps!==null&&(ju?(C=ps,rt=rt.stateNode,C.nodeType===8?rm(C.parentNode,rt):C.nodeType===1&&rm(C,rt),E0(C)):rm(ps,rt.stateNode));break;case 4:vt=ps,St=ju,ps=rt.stateNode.containerInfo,ju=!0,Vf(C,H,rt),ps=vt,ju=St;break;case 0:case 11:case 14:case 15:if(!Ss&&(vt=rt.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){St=vt=vt.next;do{var Nt=St,X=Nt.destroy;Nt=Nt.tag,X!==void 0&&(Nt&2||Nt&4)&&l1(rt,H,X),St=St.next}while(St!==vt)}Vf(C,H,rt);break;case 1:if(!Ss&&(ed(rt,H),vt=rt.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=rt.memoizedProps,vt.state=rt.memoizedState,vt.componentWillUnmount()}catch(B){_o(rt,H,B)}Vf(C,H,rt);break;case 21:Vf(C,H,rt);break;case 22:rt.mode&1?(Ss=(vt=Ss)||rt.memoizedState!==null,Vf(C,H,rt),Ss=vt):Vf(C,H,rt);break;default:Vf(C,H,rt)}}function Qb(C){var H=C.updateQueue;if(H!==null){C.updateQueue=null;var rt=C.stateNode;rt===null&&(rt=C.stateNode=new k7),H.forEach(function(vt){var St=O7.bind(null,C,vt);rt.has(vt)||(rt.add(vt),vt.then(St,St))})}}function Bu(C,H){var rt=H.deletions;if(rt!==null)for(var vt=0;vt<rt.length;vt++){var St=rt[vt];try{var Nt=C,X=H,B=X;t:for(;B!==null;){switch(B.tag){case 5:ps=B.stateNode,ju=!1;break t;case 3:ps=B.stateNode.containerInfo,ju=!0;break t;case 4:ps=B.stateNode.containerInfo,ju=!0;break t}B=B.return}if(ps===null)throw Error(gi(160));Yw(Nt,X,St),ps=null,ju=!1;var t=St.alternate;t!==null&&(t.return=null),St.return=null}catch(x){_o(St,H,x)}}if(H.subtreeFlags&12854)for(H=H.child;H!==null;)Kw(H,C),H=H.sibling}function Kw(C,H){var rt=C.alternate,vt=C.flags;switch(C.tag){case 0:case 11:case 14:case 15:if(Bu(H,C),dc(C),vt&4){try{x0(3,C,C.return),Jg(3,C)}catch(v){_o(C,C.return,v)}try{x0(5,C,C.return)}catch(v){_o(C,C.return,v)}}break;case 1:Bu(H,C),dc(C),vt&512&&rt!==null&&ed(rt,rt.return);break;case 5:if(Bu(H,C),dc(C),vt&512&&rt!==null&&ed(rt,rt.return),C.flags&32){var St=C.stateNode;try{T0(St,"")}catch(v){_o(C,C.return,v)}}if(vt&4&&(St=C.stateNode,St!=null)){var Nt=C.memoizedProps,X=rt!==null?rt.memoizedProps:Nt,B=C.type,t=C.updateQueue;if(C.updateQueue=null,t!==null)try{B==="input"&&Nt.type==="radio"&&Nt.name!=null&&y3(St,Nt),Rm(B,X);var x=Rm(B,Nt);for(X=0;X<t.length;X+=2){var E=t[X],i=t[X+1];E==="style"?w3(St,i):E==="dangerouslySetInnerHTML"?b3(St,i):E==="children"?T0(St,i):P1(St,E,i,x)}switch(B){case"input":Pm(St,Nt);break;case"textarea":m3(St,Nt);break;case"select":var M=St._wrapperState.wasMultiple;St._wrapperState.wasMultiple=!!Nt.multiple;var m=Nt.value;m!=null?nd(St,!!Nt.multiple,m,!1):M!==!!Nt.multiple&&(Nt.defaultValue!=null?nd(St,!!Nt.multiple,Nt.defaultValue,!0):nd(St,!!Nt.multiple,Nt.multiple?[]:"",!1))}St[O0]=Nt}catch(v){_o(C,C.return,v)}}break;case 6:if(Bu(H,C),dc(C),vt&4){if(C.stateNode===null)throw Error(gi(162));St=C.stateNode,Nt=C.memoizedProps;try{St.nodeValue=Nt}catch(v){_o(C,C.return,v)}}break;case 3:if(Bu(H,C),dc(C),vt&4&&rt!==null&&rt.memoizedState.isDehydrated)try{E0(H.containerInfo)}catch(v){_o(C,C.return,v)}break;case 4:Bu(H,C),dc(C);break;case 13:Bu(H,C),dc(C),St=C.child,St.flags&8192&&(Nt=St.memoizedState!==null,St.stateNode.isHidden=Nt,!Nt||St.alternate!==null&&St.alternate.memoizedState!==null||(u2=So())),vt&4&&Qb(C);break;case 22:if(E=rt!==null&&rt.memoizedState!==null,C.mode&1?(Ss=(x=Ss)||E,Bu(H,C),Ss=x):Bu(H,C),dc(C),vt&8192){if(x=C.memoizedState!==null,(C.stateNode.isHidden=x)&&!E&&C.mode&1)for(Bi=C,E=C.child;E!==null;){for(i=Bi=E;Bi!==null;){switch(M=Bi,m=M.child,M.tag){case 0:case 11:case 14:case 15:x0(4,M,M.return);break;case 1:ed(M,M.return);var d=M.stateNode;if(typeof d.componentWillUnmount=="function"){vt=M,rt=M.return;try{H=vt,d.props=H.memoizedProps,d.state=H.memoizedState,d.componentWillUnmount()}catch(v){_o(vt,rt,v)}}break;case 5:ed(M,M.return);break;case 22:if(M.memoizedState!==null){t_(i);continue}}m!==null?(m.return=M,Bi=m):t_(i)}E=E.sibling}t:for(E=null,i=C;;){if(i.tag===5){if(E===null){E=i;try{St=i.stateNode,x?(Nt=St.style,typeof Nt.setProperty=="function"?Nt.setProperty("display","none","important"):Nt.display="none"):(B=i.stateNode,t=i.memoizedProps.style,X=t!=null&&t.hasOwnProperty("display")?t.display:null,B.style.display=_3("display",X))}catch(v){_o(C,C.return,v)}}}else if(i.tag===6){if(E===null)try{i.stateNode.nodeValue=x?"":i.memoizedProps}catch(v){_o(C,C.return,v)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===C)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===C)break t;for(;i.sibling===null;){if(i.return===null||i.return===C)break t;E===i&&(E=null),i=i.return}E===i&&(E=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:Bu(H,C),dc(C),vt&4&&Qb(C);break;case 21:break;default:Bu(H,C),dc(C)}}function dc(C){var H=C.flags;if(H&2){try{t:{for(var rt=C.return;rt!==null;){if(Zw(rt)){var vt=rt;break t}rt=rt.return}throw Error(gi(160))}switch(vt.tag){case 5:var St=vt.stateNode;vt.flags&32&&(T0(St,""),vt.flags&=-33);var Nt=Jb(C);f1(C,Nt,St);break;case 3:case 4:var X=vt.stateNode.containerInfo,B=Jb(C);c1(C,B,X);break;default:throw Error(gi(161))}}catch(t){_o(C,C.return,t)}C.flags&=-3}H&4096&&(C.flags&=-4097)}function M7(C,H,rt){Bi=C,Jw(C)}function Jw(C,H,rt){for(var vt=(C.mode&1)!==0;Bi!==null;){var St=Bi,Nt=St.child;if(St.tag===22&&vt){var X=St.memoizedState!==null||Vv;if(!X){var B=St.alternate,t=B!==null&&B.memoizedState!==null||Ss;B=Vv;var x=Ss;if(Vv=X,(Ss=t)&&!x)for(Bi=St;Bi!==null;)X=Bi,t=X.child,X.tag===22&&X.memoizedState!==null?e_(St):t!==null?(t.return=X,Bi=t):e_(St);for(;Nt!==null;)Bi=Nt,Jw(Nt),Nt=Nt.sibling;Bi=St,Vv=B,Ss=x}$b(C)}else St.subtreeFlags&8772&&Nt!==null?(Nt.return=St,Bi=Nt):$b(C)}}function $b(C){for(;Bi!==null;){var H=Bi;if(H.flags&8772){var rt=H.alternate;try{if(H.flags&8772)switch(H.tag){case 0:case 11:case 15:Ss||Jg(5,H);break;case 1:var vt=H.stateNode;if(H.flags&4&&!Ss)if(rt===null)vt.componentDidMount();else{var St=H.elementType===H.type?rt.memoizedProps:Nu(H.type,rt.memoizedProps);vt.componentDidUpdate(St,rt.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var Nt=H.updateQueue;Nt!==null&&Db(H,Nt,vt);break;case 3:var X=H.updateQueue;if(X!==null){if(rt=null,H.child!==null)switch(H.child.tag){case 5:rt=H.child.stateNode;break;case 1:rt=H.child.stateNode}Db(H,X,rt)}break;case 5:var B=H.stateNode;if(rt===null&&H.flags&4){rt=B;var t=H.memoizedProps;switch(H.type){case"button":case"input":case"select":case"textarea":t.autoFocus&&rt.focus();break;case"img":t.src&&(rt.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(H.memoizedState===null){var x=H.alternate;if(x!==null){var E=x.memoizedState;if(E!==null){var i=E.dehydrated;i!==null&&E0(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gi(163))}Ss||H.flags&512&&u1(H)}catch(M){_o(H,H.return,M)}}if(H===C){Bi=null;break}if(rt=H.sibling,rt!==null){rt.return=H.return,Bi=rt;break}Bi=H.return}}function t_(C){for(;Bi!==null;){var H=Bi;if(H===C){Bi=null;break}var rt=H.sibling;if(rt!==null){rt.return=H.return,Bi=rt;break}Bi=H.return}}function e_(C){for(;Bi!==null;){var H=Bi;try{switch(H.tag){case 0:case 11:case 15:var rt=H.return;try{Jg(4,H)}catch(t){_o(H,rt,t)}break;case 1:var vt=H.stateNode;if(typeof vt.componentDidMount=="function"){var St=H.return;try{vt.componentDidMount()}catch(t){_o(H,St,t)}}var Nt=H.return;try{u1(H)}catch(t){_o(H,Nt,t)}break;case 5:var X=H.return;try{u1(H)}catch(t){_o(H,X,t)}}}catch(t){_o(H,H.return,t)}if(H===C){Bi=null;break}var B=H.sibling;if(B!==null){B.return=H.return,Bi=B;break}Bi=H.return}}var A7=Math.ceil,Ag=af.ReactCurrentDispatcher,s2=af.ReactCurrentOwner,su=af.ReactCurrentBatchConfig,ka=0,Qo=null,Do=null,ds=0,Al=0,rd=hh(0),Xo=0,N0=null,op=0,Qg=0,l2=0,b0=null,ll=null,u2=0,yd=1/0,Wc=null,Sg=!1,h1=null,eh=null,Xv=!1,Yf=null,Eg=0,_0=0,p1=null,ng=-1,ig=0;function qs(){return ka&6?So():ng!==-1?ng:ng=So()}function rh(C){return C.mode&1?ka&2&&ds!==0?ds&-ds:u7.transition!==null?(ig===0&&(ig=z3()),ig):(C=Ia,C!==0||(C=window.event,C=C===void 0?16:H3(C.type)),C):1}function Xu(C,H,rt,vt){if(50<_0)throw _0=0,p1=null,Error(gi(185));V0(C,rt,vt),(!(ka&2)||C!==Qo)&&(C===Qo&&(!(ka&2)&&(Qg|=rt),Xo===4&&Wf(C,ds)),hl(C,vt),rt===1&&ka===0&&!(H.mode&1)&&(yd=So()+500,Zg&&ph()))}function hl(C,H){var rt=C.callbackNode;uT(C,H);var vt=fg(C,C===Qo?ds:0);if(vt===0)rt!==null&&cb(rt),C.callbackNode=null,C.callbackPriority=0;else if(H=vt&-vt,C.callbackPriority!==H){if(rt!=null&&cb(rt),H===1)C.tag===0?l7(r_.bind(null,C)):ow(r_.bind(null,C)),i7(function(){!(ka&6)&&ph()}),rt=null;else{switch(R3(vt)){case 1:rt=R1;break;case 4:rt=I3;break;case 16:rt=cg;break;case 536870912:rt=O3;break;default:rt=cg}rt=a4(rt,Qw.bind(null,C))}C.callbackPriority=H,C.callbackNode=rt}}function Qw(C,H){if(ng=-1,ig=0,ka&6)throw Error(gi(327));var rt=C.callbackNode;if(ld()&&C.callbackNode!==rt)return null;var vt=fg(C,C===Qo?ds:0);if(vt===0)return null;if(vt&30||vt&C.expiredLanes||H)H=Lg(C,vt);else{H=vt;var St=ka;ka|=2;var Nt=t4();(Qo!==C||ds!==H)&&(Wc=null,yd=So()+500,tp(C,H));do try{L7();break}catch(B){$w(C,B)}while(!0);Z1(),Ag.current=Nt,ka=St,Do!==null?H=0:(Qo=null,ds=0,H=Xo)}if(H!==0){if(H===2&&(St=jm(C),St!==0&&(vt=St,H=d1(C,St))),H===1)throw rt=N0,tp(C,0),Wf(C,vt),hl(C,So()),rt;if(H===6)Wf(C,vt);else{if(St=C.current.alternate,!(vt&30)&&!S7(St)&&(H=Lg(C,vt),H===2&&(Nt=jm(C),Nt!==0&&(vt=Nt,H=d1(C,Nt))),H===1))throw rt=N0,tp(C,0),Wf(C,vt),hl(C,So()),rt;switch(C.finishedWork=St,C.finishedLanes=vt,H){case 0:case 1:throw Error(gi(345));case 2:Gh(C,ll,Wc);break;case 3:if(Wf(C,vt),(vt&130023424)===vt&&(H=u2+500-So(),10<H)){if(fg(C,0)!==0)break;if(St=C.suspendedLanes,(St&vt)!==vt){qs(),C.pingedLanes|=C.suspendedLanes&St;break}C.timeoutHandle=Zm(Gh.bind(null,C,ll,Wc),H);break}Gh(C,ll,Wc);break;case 4:if(Wf(C,vt),(vt&4194240)===vt)break;for(H=C.eventTimes,St=-1;0<vt;){var X=31-Vu(vt);Nt=1<<X,X=H[X],X>St&&(St=X),vt&=~Nt}if(vt=St,vt=So()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*A7(vt/1960))-vt,10<vt){C.timeoutHandle=Zm(Gh.bind(null,C,ll,Wc),vt);break}Gh(C,ll,Wc);break;case 5:Gh(C,ll,Wc);break;default:throw Error(gi(329))}}}return hl(C,So()),C.callbackNode===rt?Qw.bind(null,C):null}function d1(C,H){var rt=b0;return C.current.memoizedState.isDehydrated&&(tp(C,H).flags|=256),C=Lg(C,H),C!==2&&(H=ll,ll=rt,H!==null&&v1(H)),C}function v1(C){ll===null?ll=C:ll.push.apply(ll,C)}function S7(C){for(var H=C;;){if(H.flags&16384){var rt=H.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var vt=0;vt<rt.length;vt++){var St=rt[vt],Nt=St.getSnapshot;St=St.value;try{if(!Uu(Nt(),St))return!1}catch{return!1}}}if(rt=H.child,H.subtreeFlags&16384&&rt!==null)rt.return=H,H=rt;else{if(H===C)break;for(;H.sibling===null;){if(H.return===null||H.return===C)return!0;H=H.return}H.sibling.return=H.return,H=H.sibling}}return!0}function Wf(C,H){for(H&=~l2,H&=~Qg,C.suspendedLanes|=H,C.pingedLanes&=~H,C=C.expirationTimes;0<H;){var rt=31-Vu(H),vt=1<<rt;C[rt]=-1,H&=~vt}}function r_(C){if(ka&6)throw Error(gi(327));ld();var H=fg(C,0);if(!(H&1))return hl(C,So()),null;var rt=Lg(C,H);if(C.tag!==0&&rt===2){var vt=jm(C);vt!==0&&(H=vt,rt=d1(C,vt))}if(rt===1)throw rt=N0,tp(C,0),Wf(C,H),hl(C,So()),rt;if(rt===6)throw Error(gi(345));return C.finishedWork=C.current.alternate,C.finishedLanes=H,Gh(C,ll,Wc),hl(C,So()),null}function c2(C,H){var rt=ka;ka|=1;try{return C(H)}finally{ka=rt,ka===0&&(yd=So()+500,Zg&&ph())}}function sp(C){Yf!==null&&Yf.tag===0&&!(ka&6)&&ld();var H=ka;ka|=1;var rt=su.transition,vt=Ia;try{if(su.transition=null,Ia=1,C)return C()}finally{Ia=vt,su.transition=rt,ka=H,!(ka&6)&&ph()}}function f2(){Al=rd.current,Ka(rd)}function tp(C,H){C.finishedWork=null,C.finishedLanes=0;var rt=C.timeoutHandle;if(rt!==-1&&(C.timeoutHandle=-1,n7(rt)),Do!==null)for(rt=Do.return;rt!==null;){var vt=rt;switch(q1(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&gg();break;case 3:vd(),Ka(cl),Ka(Ls),t2();break;case 5:$1(vt);break;case 4:vd();break;case 13:Ka(vo);break;case 19:Ka(vo);break;case 10:Y1(vt.type._context);break;case 22:case 23:f2()}rt=rt.return}if(Qo=C,Do=C=nh(C.current,null),ds=Al=H,Xo=0,N0=null,l2=Qg=op=0,ll=b0=null,Yh!==null){for(H=0;H<Yh.length;H++)if(rt=Yh[H],vt=rt.interleaved,vt!==null){rt.interleaved=null;var St=vt.next,Nt=rt.pending;if(Nt!==null){var X=Nt.next;Nt.next=St,vt.next=X}rt.pending=vt}Yh=null}return C}function $w(C,H){do{var rt=Do;try{if(Z1(),tg.current=Mg,Tg){for(var vt=go.memoizedState;vt!==null;){var St=vt.queue;St!==null&&(St.pending=null),vt=vt.next}Tg=!1}if(ap=0,Jo=Vo=go=null,m0=!1,D0=0,s2.current=null,rt===null||rt.return===null){Xo=1,N0=H,Do=null;break}t:{var Nt=C,X=rt.return,B=rt,t=H;if(H=ds,B.flags|=32768,t!==null&&typeof t=="object"&&typeof t.then=="function"){var x=t,E=B,i=E.tag;if(!(E.mode&1)&&(i===0||i===11||i===15)){var M=E.alternate;M?(E.updateQueue=M.updateQueue,E.memoizedState=M.memoizedState,E.lanes=M.lanes):(E.updateQueue=null,E.memoizedState=null)}var m=Xb(X);if(m!==null){m.flags&=-257,Ub(m,X,B,Nt,H),m.mode&1&&Vb(Nt,x,H),H=m,t=x;var d=H.updateQueue;if(d===null){var v=new Set;v.add(t),H.updateQueue=v}else d.add(t);break t}else{if(!(H&1)){Vb(Nt,x,H),h2();break t}t=Error(gi(426))}}else if(ro&&B.mode&1){var r=Xb(X);if(r!==null){!(r.flags&65536)&&(r.flags|=256),Ub(r,X,B,Nt,H),W1(gd(t,B));break t}}Nt=t=gd(t,B),Xo!==4&&(Xo=2),b0===null?b0=[Nt]:b0.push(Nt),Nt=X;do{switch(Nt.tag){case 3:Nt.flags|=65536,H&=-H,Nt.lanes|=H;var e=Dw(Nt,t,H);Rb(Nt,e);break t;case 1:B=t;var s=Nt.type,n=Nt.stateNode;if(!(Nt.flags&128)&&(typeof s.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(eh===null||!eh.has(n)))){Nt.flags|=65536,H&=-H,Nt.lanes|=H;var l=Fw(Nt,B,H);Rb(Nt,l);break t}}Nt=Nt.return}while(Nt!==null)}r4(rt)}catch(o){H=o,Do===rt&&rt!==null&&(Do=rt=rt.return);continue}break}while(!0)}function t4(){var C=Ag.current;return Ag.current=Mg,C===null?Mg:C}function h2(){(Xo===0||Xo===3||Xo===2)&&(Xo=4),Qo===null||!(op&268435455)&&!(Qg&268435455)||Wf(Qo,ds)}function Lg(C,H){var rt=ka;ka|=2;var vt=t4();(Qo!==C||ds!==H)&&(Wc=null,tp(C,H));do try{E7();break}catch(St){$w(C,St)}while(!0);if(Z1(),ka=rt,Ag.current=vt,Do!==null)throw Error(gi(261));return Qo=null,ds=0,Xo}function E7(){for(;Do!==null;)e4(Do)}function L7(){for(;Do!==null&&!tT();)e4(Do)}function e4(C){var H=i4(C.alternate,C,Al);C.memoizedProps=C.pendingProps,H===null?r4(C):Do=H,s2.current=null}function r4(C){var H=C;do{var rt=H.alternate;if(C=H.return,H.flags&32768){if(rt=w7(rt,H),rt!==null){rt.flags&=32767,Do=rt;return}if(C!==null)C.flags|=32768,C.subtreeFlags=0,C.deletions=null;else{Xo=6,Do=null;return}}else if(rt=_7(rt,H,Al),rt!==null){Do=rt;return}if(H=H.sibling,H!==null){Do=H;return}Do=H=C}while(H!==null);Xo===0&&(Xo=5)}function Gh(C,H,rt){var vt=Ia,St=su.transition;try{su.transition=null,Ia=1,P7(C,H,rt,vt)}finally{su.transition=St,Ia=vt}return null}function P7(C,H,rt,vt){do ld();while(Yf!==null);if(ka&6)throw Error(gi(327));rt=C.finishedWork;var St=C.finishedLanes;if(rt===null)return null;if(C.finishedWork=null,C.finishedLanes=0,rt===C.current)throw Error(gi(177));C.callbackNode=null,C.callbackPriority=0;var Nt=rt.lanes|rt.childLanes;if(cT(C,Nt),C===Qo&&(Do=Qo=null,ds=0),!(rt.subtreeFlags&2064)&&!(rt.flags&2064)||Xv||(Xv=!0,a4(cg,function(){return ld(),null})),Nt=(rt.flags&15990)!==0,rt.subtreeFlags&15990||Nt){Nt=su.transition,su.transition=null;var X=Ia;Ia=1;var B=ka;ka|=4,s2.current=null,T7(C,rt),Kw(rt,C),KT(Wm),hg=!!qm,Wm=qm=null,C.current=rt,M7(rt),eT(),ka=B,Ia=X,su.transition=Nt}else C.current=rt;if(Xv&&(Xv=!1,Yf=C,Eg=St),Nt=C.pendingLanes,Nt===0&&(eh=null),iT(rt.stateNode),hl(C,So()),H!==null)for(vt=C.onRecoverableError,rt=0;rt<H.length;rt++)St=H[rt],vt(St.value,{componentStack:St.stack,digest:St.digest});if(Sg)throw Sg=!1,C=h1,h1=null,C;return Eg&1&&C.tag!==0&&ld(),Nt=C.pendingLanes,Nt&1?C===p1?_0++:(_0=0,p1=C):_0=0,ph(),null}function ld(){if(Yf!==null){var C=R3(Eg),H=su.transition,rt=Ia;try{if(su.transition=null,Ia=16>C?16:C,Yf===null)var vt=!1;else{if(C=Yf,Yf=null,Eg=0,ka&6)throw Error(gi(331));var St=ka;for(ka|=4,Bi=C.current;Bi!==null;){var Nt=Bi,X=Nt.child;if(Bi.flags&16){var B=Nt.deletions;if(B!==null){for(var t=0;t<B.length;t++){var x=B[t];for(Bi=x;Bi!==null;){var E=Bi;switch(E.tag){case 0:case 11:case 15:x0(8,E,Nt)}var i=E.child;if(i!==null)i.return=E,Bi=i;else for(;Bi!==null;){E=Bi;var M=E.sibling,m=E.return;if(Gw(E),E===x){Bi=null;break}if(M!==null){M.return=m,Bi=M;break}Bi=m}}}var d=Nt.alternate;if(d!==null){var v=d.child;if(v!==null){d.child=null;do{var r=v.sibling;v.sibling=null,v=r}while(v!==null)}}Bi=Nt}}if(Nt.subtreeFlags&2064&&X!==null)X.return=Nt,Bi=X;else t:for(;Bi!==null;){if(Nt=Bi,Nt.flags&2048)switch(Nt.tag){case 0:case 11:case 15:x0(9,Nt,Nt.return)}var e=Nt.sibling;if(e!==null){e.return=Nt.return,Bi=e;break t}Bi=Nt.return}}var s=C.current;for(Bi=s;Bi!==null;){X=Bi;var n=X.child;if(X.subtreeFlags&2064&&n!==null)n.return=X,Bi=n;else t:for(X=s;Bi!==null;){if(B=Bi,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:Jg(9,B)}}catch(o){_o(B,B.return,o)}if(B===X){Bi=null;break t}var l=B.sibling;if(l!==null){l.return=B.return,Bi=l;break t}Bi=B.return}}if(ka=St,ph(),yc&&typeof yc.onPostCommitFiberRoot=="function")try{yc.onPostCommitFiberRoot(Xg,C)}catch{}vt=!0}return vt}finally{Ia=rt,su.transition=H}}return!1}function n_(C,H,rt){H=gd(rt,H),H=Dw(C,H,1),C=th(C,H,1),H=qs(),C!==null&&(V0(C,1,H),hl(C,H))}function _o(C,H,rt){if(C.tag===3)n_(C,C,rt);else for(;H!==null;){if(H.tag===3){n_(H,C,rt);break}else if(H.tag===1){var vt=H.stateNode;if(typeof H.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(eh===null||!eh.has(vt))){C=gd(rt,C),C=Fw(H,C,1),H=th(H,C,1),C=qs(),H!==null&&(V0(H,1,C),hl(H,C));break}}H=H.return}}function C7(C,H,rt){var vt=C.pingCache;vt!==null&&vt.delete(H),H=qs(),C.pingedLanes|=C.suspendedLanes&rt,Qo===C&&(ds&rt)===rt&&(Xo===4||Xo===3&&(ds&130023424)===ds&&500>So()-u2?tp(C,0):l2|=rt),hl(C,H)}function n4(C,H){H===0&&(C.mode&1?(H=Ov,Ov<<=1,!(Ov&130023424)&&(Ov=4194304)):H=1);var rt=qs();C=tf(C,H),C!==null&&(V0(C,H,rt),hl(C,rt))}function I7(C){var H=C.memoizedState,rt=0;H!==null&&(rt=H.retryLane),n4(C,rt)}function O7(C,H){var rt=0;switch(C.tag){case 13:var vt=C.stateNode,St=C.memoizedState;St!==null&&(rt=St.retryLane);break;case 19:vt=C.stateNode;break;default:throw Error(gi(314))}vt!==null&&vt.delete(H),n4(C,rt)}var i4;i4=function(C,H,rt){if(C!==null)if(C.memoizedProps!==H.pendingProps||cl.current)ul=!0;else{if(!(C.lanes&rt)&&!(H.flags&128))return ul=!1,b7(C,H,rt);ul=!!(C.flags&131072)}else ul=!1,ro&&H.flags&1048576&&sw(H,xg,H.index);switch(H.lanes=0,H.tag){case 2:var vt=H.type;rg(C,H),C=H.pendingProps;var St=hd(H,Ls.current);sd(H,rt),St=r2(null,H,vt,C,St,rt);var Nt=n2();return H.flags|=1,typeof St=="object"&&St!==null&&typeof St.render=="function"&&St.$$typeof===void 0?(H.tag=1,H.memoizedState=null,H.updateQueue=null,fl(vt)?(Nt=!0,yg(H)):Nt=!1,H.memoizedState=St.state!==null&&St.state!==void 0?St.state:null,J1(H),St.updater=Yg,H.stateNode=St,St._reactInternals=H,e1(H,vt,C,rt),H=i1(null,H,vt,!0,Nt,rt)):(H.tag=0,ro&&Nt&&U1(H),Us(null,H,St,rt),H=H.child),H;case 16:vt=H.elementType;t:{switch(rg(C,H),C=H.pendingProps,St=vt._init,vt=St(vt._payload),H.type=vt,St=H.tag=R7(vt),C=Nu(vt,C),St){case 0:H=n1(null,H,vt,C,rt);break t;case 1:H=Gb(null,H,vt,C,rt);break t;case 11:H=qb(null,H,vt,C,rt);break t;case 14:H=Wb(null,H,vt,Nu(vt.type,C),rt);break t}throw Error(gi(306,vt,""))}return H;case 0:return vt=H.type,St=H.pendingProps,St=H.elementType===vt?St:Nu(vt,St),n1(C,H,vt,St,rt);case 1:return vt=H.type,St=H.pendingProps,St=H.elementType===vt?St:Nu(vt,St),Gb(C,H,vt,St,rt);case 3:t:{if(Hw(H),C===null)throw Error(gi(387));vt=H.pendingProps,Nt=H.memoizedState,St=Nt.element,fw(C,H),wg(H,vt,null,rt);var X=H.memoizedState;if(vt=X.element,Nt.isDehydrated)if(Nt={element:vt,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},H.updateQueue.baseState=Nt,H.memoizedState=Nt,H.flags&256){St=gd(Error(gi(423)),H),H=Zb(C,H,vt,rt,St);break t}else if(vt!==St){St=gd(Error(gi(424)),H),H=Zb(C,H,vt,rt,St);break t}else for(El=$f(H.stateNode.containerInfo.firstChild),Pl=H,ro=!0,Hu=null,rt=vw(H,null,vt,rt),H.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(pd(),vt===St){H=ef(C,H,rt);break t}Us(C,H,vt,rt)}H=H.child}return H;case 5:return gw(H),C===null&&Qm(H),vt=H.type,St=H.pendingProps,Nt=C!==null?C.memoizedProps:null,X=St.children,Gm(vt,St)?X=null:Nt!==null&&Gm(vt,Nt)&&(H.flags|=32),jw(C,H),Us(C,H,X,rt),H.child;case 6:return C===null&&Qm(H),null;case 13:return Vw(C,H,rt);case 4:return Q1(H,H.stateNode.containerInfo),vt=H.pendingProps,C===null?H.child=dd(H,null,vt,rt):Us(C,H,vt,rt),H.child;case 11:return vt=H.type,St=H.pendingProps,St=H.elementType===vt?St:Nu(vt,St),qb(C,H,vt,St,rt);case 7:return Us(C,H,H.pendingProps,rt),H.child;case 8:return Us(C,H,H.pendingProps.children,rt),H.child;case 12:return Us(C,H,H.pendingProps.children,rt),H.child;case 10:t:{if(vt=H.type._context,St=H.pendingProps,Nt=H.memoizedProps,X=St.value,Xa(bg,vt._currentValue),vt._currentValue=X,Nt!==null)if(Uu(Nt.value,X)){if(Nt.children===St.children&&!cl.current){H=ef(C,H,rt);break t}}else for(Nt=H.child,Nt!==null&&(Nt.return=H);Nt!==null;){var B=Nt.dependencies;if(B!==null){X=Nt.child;for(var t=B.firstContext;t!==null;){if(t.context===vt){if(Nt.tag===1){t=Kc(-1,rt&-rt),t.tag=2;var x=Nt.updateQueue;if(x!==null){x=x.shared;var E=x.pending;E===null?t.next=t:(t.next=E.next,E.next=t),x.pending=t}}Nt.lanes|=rt,t=Nt.alternate,t!==null&&(t.lanes|=rt),$m(Nt.return,rt,H),B.lanes|=rt;break}t=t.next}}else if(Nt.tag===10)X=Nt.type===H.type?null:Nt.child;else if(Nt.tag===18){if(X=Nt.return,X===null)throw Error(gi(341));X.lanes|=rt,B=X.alternate,B!==null&&(B.lanes|=rt),$m(X,rt,H),X=Nt.sibling}else X=Nt.child;if(X!==null)X.return=Nt;else for(X=Nt;X!==null;){if(X===H){X=null;break}if(Nt=X.sibling,Nt!==null){Nt.return=X.return,X=Nt;break}X=X.return}Nt=X}Us(C,H,St.children,rt),H=H.child}return H;case 9:return St=H.type,vt=H.pendingProps.children,sd(H,rt),St=lu(St),vt=vt(St),H.flags|=1,Us(C,H,vt,rt),H.child;case 14:return vt=H.type,St=Nu(vt,H.pendingProps),St=Nu(vt.type,St),Wb(C,H,vt,St,rt);case 15:return Bw(C,H,H.type,H.pendingProps,rt);case 17:return vt=H.type,St=H.pendingProps,St=H.elementType===vt?St:Nu(vt,St),rg(C,H),H.tag=1,fl(vt)?(C=!0,yg(H)):C=!1,sd(H,rt),pw(H,vt,St),e1(H,vt,St,rt),i1(null,H,vt,!0,C,rt);case 19:return Xw(C,H,rt);case 22:return Nw(C,H,rt)}throw Error(gi(156,H.tag))};function a4(C,H){return C3(C,H)}function z7(C,H,rt,vt){this.tag=C,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=H,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ou(C,H,rt,vt){return new z7(C,H,rt,vt)}function p2(C){return C=C.prototype,!(!C||!C.isReactComponent)}function R7(C){if(typeof C=="function")return p2(C)?1:0;if(C!=null){if(C=C.$$typeof,C===I1)return 11;if(C===O1)return 14}return 2}function nh(C,H){var rt=C.alternate;return rt===null?(rt=ou(C.tag,H,C.key,C.mode),rt.elementType=C.elementType,rt.type=C.type,rt.stateNode=C.stateNode,rt.alternate=C,C.alternate=rt):(rt.pendingProps=H,rt.type=C.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=C.flags&14680064,rt.childLanes=C.childLanes,rt.lanes=C.lanes,rt.child=C.child,rt.memoizedProps=C.memoizedProps,rt.memoizedState=C.memoizedState,rt.updateQueue=C.updateQueue,H=C.dependencies,rt.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext},rt.sibling=C.sibling,rt.index=C.index,rt.ref=C.ref,rt}function ag(C,H,rt,vt,St,Nt){var X=2;if(vt=C,typeof C=="function")p2(C)&&(X=1);else if(typeof C=="string")X=5;else t:switch(C){case Wp:return ep(rt.children,St,Nt,H);case C1:X=8,St|=8;break;case Mm:return C=ou(12,rt,H,St|2),C.elementType=Mm,C.lanes=Nt,C;case Am:return C=ou(13,rt,H,St),C.elementType=Am,C.lanes=Nt,C;case Sm:return C=ou(19,rt,H,St),C.elementType=Sm,C.lanes=Nt,C;case d3:return $g(rt,St,Nt,H);default:if(typeof C=="object"&&C!==null)switch(C.$$typeof){case h3:X=10;break t;case p3:X=9;break t;case I1:X=11;break t;case O1:X=14;break t;case Xf:X=16,vt=null;break t}throw Error(gi(130,C==null?C:typeof C,""))}return H=ou(X,rt,H,St),H.elementType=C,H.type=vt,H.lanes=Nt,H}function ep(C,H,rt,vt){return C=ou(7,C,vt,H),C.lanes=rt,C}function $g(C,H,rt,vt){return C=ou(22,C,vt,H),C.elementType=d3,C.lanes=rt,C.stateNode={isHidden:!1},C}function cm(C,H,rt){return C=ou(6,C,null,H),C.lanes=rt,C}function fm(C,H,rt){return H=ou(4,C.children!==null?C.children:[],C.key,H),H.lanes=rt,H.stateNode={containerInfo:C.containerInfo,pendingChildren:null,implementation:C.implementation},H}function D7(C,H,rt,vt,St){this.tag=H,this.containerInfo=C,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qy(0),this.expirationTimes=qy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qy(0),this.identifierPrefix=vt,this.onRecoverableError=St,this.mutableSourceEagerHydrationData=null}function d2(C,H,rt,vt,St,Nt,X,B,t){return C=new D7(C,H,rt,B,t),H===1?(H=1,Nt===!0&&(H|=8)):H=0,Nt=ou(3,null,null,H),C.current=Nt,Nt.stateNode=C,Nt.memoizedState={element:vt,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},J1(Nt),C}function F7(C,H,rt){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qp,key:vt==null?null:""+vt,children:C,containerInfo:H,implementation:rt}}function o4(C){if(!C)return ah;C=C._reactInternals;t:{if(hp(C)!==C||C.tag!==1)throw Error(gi(170));var H=C;do{switch(H.tag){case 3:H=H.stateNode.context;break t;case 1:if(fl(H.type)){H=H.stateNode.__reactInternalMemoizedMergedChildContext;break t}}H=H.return}while(H!==null);throw Error(gi(171))}if(C.tag===1){var rt=C.type;if(fl(rt))return aw(C,rt,H)}return H}function s4(C,H,rt,vt,St,Nt,X,B,t){return C=d2(rt,vt,!0,C,St,Nt,X,B,t),C.context=o4(null),rt=C.current,vt=qs(),St=rh(rt),Nt=Kc(vt,St),Nt.callback=H??null,th(rt,Nt,St),C.current.lanes=St,V0(C,St,vt),hl(C,vt),C}function ty(C,H,rt,vt){var St=H.current,Nt=qs(),X=rh(St);return rt=o4(rt),H.context===null?H.context=rt:H.pendingContext=rt,H=Kc(Nt,X),H.payload={element:C},vt=vt===void 0?null:vt,vt!==null&&(H.callback=vt),C=th(St,H,X),C!==null&&(Xu(C,St,X,Nt),$v(C,St,X)),X}function Pg(C){if(C=C.current,!C.child)return null;switch(C.child.tag){case 5:return C.child.stateNode;default:return C.child.stateNode}}function i_(C,H){if(C=C.memoizedState,C!==null&&C.dehydrated!==null){var rt=C.retryLane;C.retryLane=rt!==0&&rt<H?rt:H}}function v2(C,H){i_(C,H),(C=C.alternate)&&i_(C,H)}function B7(){return null}var l4=typeof reportError=="function"?reportError:function(C){console.error(C)};function g2(C){this._internalRoot=C}ey.prototype.render=g2.prototype.render=function(C){var H=this._internalRoot;if(H===null)throw Error(gi(409));ty(C,H,null,null)};ey.prototype.unmount=g2.prototype.unmount=function(){var C=this._internalRoot;if(C!==null){this._internalRoot=null;var H=C.containerInfo;sp(function(){ty(null,C,null,null)}),H[$c]=null}};function ey(C){this._internalRoot=C}ey.prototype.unstable_scheduleHydration=function(C){if(C){var H=B3();C={blockedOn:null,target:C,priority:H};for(var rt=0;rt<qf.length&&H!==0&&H<qf[rt].priority;rt++);qf.splice(rt,0,C),rt===0&&j3(C)}};function y2(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)}function ry(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11&&(C.nodeType!==8||C.nodeValue!==" react-mount-point-unstable "))}function a_(){}function N7(C,H,rt,vt,St){if(St){if(typeof vt=="function"){var Nt=vt;vt=function(){var x=Pg(X);Nt.call(x)}}var X=s4(H,vt,C,0,null,!1,!1,"",a_);return C._reactRootContainer=X,C[$c]=X.current,C0(C.nodeType===8?C.parentNode:C),sp(),X}for(;St=C.lastChild;)C.removeChild(St);if(typeof vt=="function"){var B=vt;vt=function(){var x=Pg(t);B.call(x)}}var t=d2(C,0,!1,null,null,!1,!1,"",a_);return C._reactRootContainer=t,C[$c]=t.current,C0(C.nodeType===8?C.parentNode:C),sp(function(){ty(H,t,rt,vt)}),t}function ny(C,H,rt,vt,St){var Nt=rt._reactRootContainer;if(Nt){var X=Nt;if(typeof St=="function"){var B=St;St=function(){var t=Pg(X);B.call(t)}}ty(H,X,C,St)}else X=N7(rt,H,C,St,vt);return Pg(X)}D3=function(C){switch(C.tag){case 3:var H=C.stateNode;if(H.current.memoizedState.isDehydrated){var rt=c0(H.pendingLanes);rt!==0&&(D1(H,rt|1),hl(H,So()),!(ka&6)&&(yd=So()+500,ph()))}break;case 13:sp(function(){var vt=tf(C,1);if(vt!==null){var St=qs();Xu(vt,C,1,St)}}),v2(C,1)}};F1=function(C){if(C.tag===13){var H=tf(C,134217728);if(H!==null){var rt=qs();Xu(H,C,134217728,rt)}v2(C,134217728)}};F3=function(C){if(C.tag===13){var H=rh(C),rt=tf(C,H);if(rt!==null){var vt=qs();Xu(rt,C,H,vt)}v2(C,H)}};B3=function(){return Ia};N3=function(C,H){var rt=Ia;try{return Ia=C,H()}finally{Ia=rt}};Fm=function(C,H,rt){switch(H){case"input":if(Pm(C,rt),H=rt.name,rt.type==="radio"&&H!=null){for(rt=C;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+H)+'][type="radio"]'),H=0;H<rt.length;H++){var vt=rt[H];if(vt!==C&&vt.form===C.form){var St=Gg(vt);if(!St)throw Error(gi(90));g3(vt),Pm(vt,St)}}}break;case"textarea":m3(C,rt);break;case"select":H=rt.value,H!=null&&nd(C,!!rt.multiple,H,!1)}};M3=c2;A3=sp;var j7={usingClientEntryPoint:!1,Events:[U0,Kp,Gg,k3,T3,c2]},n0={findFiberByHostInstance:Zh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},H7={bundleType:n0.bundleType,version:n0.version,rendererPackageName:n0.rendererPackageName,rendererConfig:n0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:af.ReactCurrentDispatcher,findHostInstanceByFiber:function(C){return C=L3(C),C===null?null:C.stateNode},findFiberByHostInstance:n0.findFiberByHostInstance||B7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uv.isDisabled&&Uv.supportsFiber)try{Xg=Uv.inject(H7),yc=Uv}catch{}}Ol.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j7;Ol.createPortal=function(C,H){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y2(H))throw Error(gi(200));return F7(C,H,null,rt)};Ol.createRoot=function(C,H){if(!y2(C))throw Error(gi(299));var rt=!1,vt="",St=l4;return H!=null&&(H.unstable_strictMode===!0&&(rt=!0),H.identifierPrefix!==void 0&&(vt=H.identifierPrefix),H.onRecoverableError!==void 0&&(St=H.onRecoverableError)),H=d2(C,1,!1,null,null,rt,!1,vt,St),C[$c]=H.current,C0(C.nodeType===8?C.parentNode:C),new g2(H)};Ol.findDOMNode=function(C){if(C==null)return null;if(C.nodeType===1)return C;var H=C._reactInternals;if(H===void 0)throw typeof C.render=="function"?Error(gi(188)):(C=Object.keys(C).join(","),Error(gi(268,C)));return C=L3(H),C=C===null?null:C.stateNode,C};Ol.flushSync=function(C){return sp(C)};Ol.hydrate=function(C,H,rt){if(!ry(H))throw Error(gi(200));return ny(null,C,H,!0,rt)};Ol.hydrateRoot=function(C,H,rt){if(!y2(C))throw Error(gi(405));var vt=rt!=null&&rt.hydratedSources||null,St=!1,Nt="",X=l4;if(rt!=null&&(rt.unstable_strictMode===!0&&(St=!0),rt.identifierPrefix!==void 0&&(Nt=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(X=rt.onRecoverableError)),H=s4(H,null,C,1,rt??null,St,!1,Nt,X),C[$c]=H.current,C0(C),vt)for(C=0;C<vt.length;C++)rt=vt[C],St=rt._getVersion,St=St(rt._source),H.mutableSourceEagerHydrationData==null?H.mutableSourceEagerHydrationData=[rt,St]:H.mutableSourceEagerHydrationData.push(rt,St);return new ey(H)};Ol.render=function(C,H,rt){if(!ry(H))throw Error(gi(200));return ny(null,C,H,!1,rt)};Ol.unmountComponentAtNode=function(C){if(!ry(C))throw Error(gi(40));return C._reactRootContainer?(sp(function(){ny(null,null,C,!1,function(){C._reactRootContainer=null,C[$c]=null})}),!0):!1};Ol.unstable_batchedUpdates=c2;Ol.unstable_renderSubtreeIntoContainer=function(C,H,rt,vt){if(!ry(rt))throw Error(gi(200));if(C==null||C._reactInternals===void 0)throw Error(gi(38));return ny(C,H,rt,!1,vt)};Ol.version="18.2.0-next-9e3b772b8-20220608";function u4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u4)}catch(C){console.error(C)}}u4(),s3.exports=Ol;var oh=s3.exports,o_=oh;km.createRoot=o_.createRoot,km.hydrateRoot=o_.hydrateRoot;function V7(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var c4={exports:{}},i0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function X7(){if(s_)return i0;s_=1;var C=Ti,H=Symbol.for("react.element"),rt=Symbol.for("react.fragment"),vt=Object.prototype.hasOwnProperty,St=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nt={key:!0,ref:!0,__self:!0,__source:!0};function X(B,t,x){var E,i={},M=null,m=null;x!==void 0&&(M=""+x),t.key!==void 0&&(M=""+t.key),t.ref!==void 0&&(m=t.ref);for(E in t)vt.call(t,E)&&!Nt.hasOwnProperty(E)&&(i[E]=t[E]);if(B&&B.defaultProps)for(E in t=B.defaultProps,t)i[E]===void 0&&(i[E]=t[E]);return{$$typeof:H,type:B,key:M,ref:m,props:i,_owner:St.current}}return i0.Fragment=rt,i0.jsx=X,i0.jsxs=X,i0}c4.exports=X7();var On=c4.exports;function f4(C){var H,rt,vt="";if(typeof C=="string"||typeof C=="number")vt+=C;else if(typeof C=="object")if(Array.isArray(C)){var St=C.length;for(H=0;H<St;H++)C[H]&&(rt=f4(C[H]))&&(vt&&(vt+=" "),vt+=rt)}else for(rt in C)C[rt]&&(vt&&(vt+=" "),vt+=rt);return vt}function cu(){for(var C,H,rt=0,vt="",St=arguments.length;rt<St;rt++)(C=arguments[rt])&&(H=f4(C))&&(vt&&(vt+=" "),vt+=H);return vt}function h4({className:C,children:H,fluid:rt}){const vt=cu("gw-w-full gw-mx-auto gw-px-4 gw-box-border",rt?"gw-max-w-[100vw]":"gw-max-w-[1140px]",C);return On.jsx("div",{className:vt,children:H})}function l_({children:C,className:H,title:rt,customTitle:vt}){const St=vt;return On.jsxs("div",{className:cu(H,"gw-mb-10 gw-relative","before:gw-block before:gw-bg-usace-box-light-gray before:gw-h-8 before:gw-mb-[-12px] before:gw-w-full","after:gw-block after:gw-absolute after:gw-top-0 after:gw-left-0 after:gw-bg-usace-box-red after:gw-h-[5px] after:gw-w-[50px] after:gw-z-[2]"),children:[On.jsxs("h2",{style:{fontSize:"1.3rem",lineHeight:"1.4rem"},className:"gw-font-bold gw-mb-6",children:[rt,St&&On.jsx(St,{})]}),C]})}const p4=typeof document<"u"?Ti.useLayoutEffect:()=>{};function U7(C){const H=Ur.useRef(null);return p4(()=>{H.current=C},[C]),Ur.useCallback((...rt)=>{const vt=H.current;return vt(...rt)},[])}function q7(C){var H;return typeof window>"u"||window.navigator==null?!1:((H=window.navigator.userAgentData)===null||H===void 0?void 0:H.brands.some(rt=>C.test(rt.brand)))||C.test(window.navigator.userAgent)}function W7(C){var H;return typeof window<"u"&&window.navigator!=null?C.test(((H=window.navigator.userAgentData)===null||H===void 0?void 0:H.platform)||window.navigator.platform):!1}function G7(){return W7(/^Mac/i)}function Z7(){return q7(/Android/i)}let a0=new Map,u_=new Set;function c_(){if(typeof window>"u")return;let C=rt=>{let vt=a0.get(rt.target);vt||(vt=new Set,a0.set(rt.target,vt),rt.target.addEventListener("transitioncancel",H)),vt.add(rt.propertyName)},H=rt=>{let vt=a0.get(rt.target);if(vt&&(vt.delete(rt.propertyName),vt.size===0&&(rt.target.removeEventListener("transitioncancel",H),a0.delete(rt.target)),a0.size===0)){for(let St of u_)St();u_.clear()}};document.body.addEventListener("transitionrun",C),document.body.addEventListener("transitionend",H)}typeof document<"u"&&(document.readyState!=="loading"?c_():document.addEventListener("DOMContentLoaded",c_));function Y7(C){return C.mozInputSource===0&&C.isTrusted?!0:Z7()&&C.pointerType?C.type==="click"&&C.buttons===1:C.detail===0&&!C.pointerType}const K7=Ti.createContext({register:()=>{}});K7.displayName="PressResponderContext";class J7{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(H,rt){this.nativeEvent=rt,this.target=rt.target,this.currentTarget=rt.currentTarget,this.relatedTarget=rt.relatedTarget,this.bubbles=rt.bubbles,this.cancelable=rt.cancelable,this.defaultPrevented=rt.defaultPrevented,this.eventPhase=rt.eventPhase,this.isTrusted=rt.isTrusted,this.timeStamp=rt.timeStamp,this.type=H}}function d4(C){let H=Ur.useRef({isFocused:!1,observer:null});p4(()=>{const vt=H.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let rt=U7(vt=>{C==null||C(vt)});return Ur.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){H.current.isFocused=!0;let St=vt.target,Nt=X=>{H.current.isFocused=!1,St.disabled&&rt(new J7("blur",X)),H.current.observer&&(H.current.observer.disconnect(),H.current.observer=null)};St.addEventListener("focusout",Nt,{once:!0}),H.current.observer=new MutationObserver(()=>{if(H.current.isFocused&&St.disabled){var X;(X=H.current.observer)===null||X===void 0||X.disconnect();let B=St===document.activeElement?null:document.activeElement;St.dispatchEvent(new FocusEvent("blur",{relatedTarget:B})),St.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:B}))}}),H.current.observer.observe(St,{attributes:!0,attributeFilter:["disabled"]})}},[rt])}function Q7(C){let{isDisabled:H,onFocus:rt,onBlur:vt,onFocusChange:St}=C;const Nt=Ur.useCallback(t=>{if(t.target===t.currentTarget)return vt&&vt(t),St&&St(!1),!0},[vt,St]),X=d4(Nt),B=Ur.useCallback(t=>{t.target===t.currentTarget&&document.activeElement===t.target&&(rt&&rt(t),St&&St(!0),X(t))},[St,rt,X]);return{focusProps:{onFocus:!H&&(rt||St||vt)?B:void 0,onBlur:!H&&(vt||St)?Nt:void 0}}}let W0=null,g1=new Set,f_=!1,lp=!1,y1=!1;const $7={Tab:!0,Escape:!0};function m2(C,H){for(let rt of g1)rt(C,H)}function tM(C){return!(C.metaKey||!G7()&&C.altKey||C.ctrlKey||C.key==="Control"||C.key==="Shift"||C.key==="Meta")}function h_(C){lp=!0,tM(C)&&(W0="keyboard",m2("keyboard",C))}function Vp(C){W0="pointer",(C.type==="mousedown"||C.type==="pointerdown")&&(lp=!0,m2("pointer",C))}function eM(C){Y7(C)&&(lp=!0,W0="virtual")}function rM(C){C.target===window||C.target===document||(!lp&&!y1&&(W0="virtual",m2("virtual",C)),lp=!1,y1=!1)}function nM(){lp=!1,y1=!0}function m1(){if(typeof window>"u"||f_)return;let C=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){lp=!0,C.apply(this,arguments)},document.addEventListener("keydown",h_,!0),document.addEventListener("keyup",h_,!0),document.addEventListener("click",eM,!0),window.addEventListener("focus",rM,!0),window.addEventListener("blur",nM,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Vp,!0),document.addEventListener("pointermove",Vp,!0),document.addEventListener("pointerup",Vp,!0)):(document.addEventListener("mousedown",Vp,!0),document.addEventListener("mousemove",Vp,!0),document.addEventListener("mouseup",Vp,!0)),f_=!0}typeof document<"u"&&(document.readyState!=="loading"?m1():document.addEventListener("DOMContentLoaded",m1));function v4(){return W0!=="pointer"}const iM=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function aM(C,H,rt){var vt;return C=C||(rt==null?void 0:rt.target)instanceof HTMLInputElement&&!iM.has(rt==null||(vt=rt.target)===null||vt===void 0?void 0:vt.type)||(rt==null?void 0:rt.target)instanceof HTMLTextAreaElement||(rt==null?void 0:rt.target)instanceof HTMLElement&&(rt==null?void 0:rt.target.isContentEditable),!(C&&H==="keyboard"&&rt instanceof KeyboardEvent&&!$7[rt.key])}function oM(C,H,rt){m1(),Ur.useEffect(()=>{let vt=(St,Nt)=>{aM(!!(rt!=null&&rt.isTextInput),St,Nt)&&C(v4())};return g1.add(vt),()=>{g1.delete(vt)}},H)}function sM(C){let{isDisabled:H,onBlurWithin:rt,onFocusWithin:vt,onFocusWithinChange:St}=C,Nt=Ur.useRef({isFocusWithin:!1}),X=Ur.useCallback(x=>{Nt.current.isFocusWithin&&!x.currentTarget.contains(x.relatedTarget)&&(Nt.current.isFocusWithin=!1,rt&&rt(x),St&&St(!1))},[rt,St,Nt]),B=d4(X),t=Ur.useCallback(x=>{!Nt.current.isFocusWithin&&document.activeElement===x.target&&(vt&&vt(x),St&&St(!0),Nt.current.isFocusWithin=!0,B(x))},[vt,St,B]);return H?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:t,onBlur:X}}}function lM(C,H){return!C||!H?!1:H.some(rt=>rt.contains(C))}class x2{get size(){return this.fastMap.size}getTreeNode(H){return this.fastMap.get(H)}addTreeNode(H,rt,vt){let St=this.fastMap.get(rt??null);if(!St)return;let Nt=new p_({scopeRef:H});St.addChild(Nt),Nt.parent=St,this.fastMap.set(H,Nt),vt&&(Nt.nodeToRestore=vt)}addNode(H){this.fastMap.set(H.scopeRef,H)}removeTreeNode(H){if(H===null)return;let rt=this.fastMap.get(H);if(!rt)return;let vt=rt.parent;for(let Nt of this.traverse())Nt!==rt&&rt.nodeToRestore&&Nt.nodeToRestore&&rt.scopeRef&&rt.scopeRef.current&&lM(Nt.nodeToRestore,rt.scopeRef.current)&&(Nt.nodeToRestore=rt.nodeToRestore);let St=rt.children;vt&&(vt.removeChild(rt),St.size>0&&St.forEach(Nt=>vt&&vt.addChild(Nt))),this.fastMap.delete(rt.scopeRef)}*traverse(H=this.root){if(H.scopeRef!=null&&(yield H),H.children.size>0)for(let rt of H.children)yield*this.traverse(rt)}clone(){var H;let rt=new x2;var vt;for(let St of this.traverse())rt.addTreeNode(St.scopeRef,(vt=(H=St.parent)===null||H===void 0?void 0:H.scopeRef)!==null&&vt!==void 0?vt:null,St.nodeToRestore);return rt}constructor(){this.fastMap=new Map,this.root=new p_({scopeRef:null}),this.fastMap.set(null,this.root)}}class p_{addChild(H){this.children.add(H),H.parent=this}removeChild(H){this.children.delete(H),H.parent=void 0}constructor(H){this.children=new Set,this.contain=!1,this.scopeRef=H.scopeRef}}new x2;function pp(C={}){let{autoFocus:H=!1,isTextInput:rt,within:vt}=C,St=Ur.useRef({isFocused:!1,isFocusVisible:H||v4()}),[Nt,X]=Ur.useState(!1),[B,t]=Ur.useState(()=>St.current.isFocused&&St.current.isFocusVisible),x=Ur.useCallback(()=>t(St.current.isFocused&&St.current.isFocusVisible),[]),E=Ur.useCallback(m=>{St.current.isFocused=m,X(m),x()},[x]);oM(m=>{St.current.isFocusVisible=m,x()},[],{isTextInput:rt});let{focusProps:i}=Q7({isDisabled:vt,onFocusChange:E}),{focusWithinProps:M}=sM({isDisabled:!vt,onFocusWithinChange:E});return{isFocused:Nt,isFocusVisible:B,focusProps:vt?M:i}}typeof document<"u"&&Ti.useLayoutEffect;function uM(C){var H;return typeof window>"u"||window.navigator==null?!1:((H=window.navigator.userAgentData)===null||H===void 0?void 0:H.brands.some(rt=>C.test(rt.brand)))||C.test(window.navigator.userAgent)}function cM(C){var H;return typeof window<"u"&&window.navigator!=null?C.test(((H=window.navigator.userAgentData)===null||H===void 0?void 0:H.platform)||window.navigator.platform):!1}function fM(){return cM(/^Mac/i)}function hM(){return uM(/Android/i)}let o0=new Map,d_=new Set;function v_(){if(typeof window>"u")return;let C=rt=>{let vt=o0.get(rt.target);vt||(vt=new Set,o0.set(rt.target,vt),rt.target.addEventListener("transitioncancel",H)),vt.add(rt.propertyName)},H=rt=>{let vt=o0.get(rt.target);if(vt&&(vt.delete(rt.propertyName),vt.size===0&&(rt.target.removeEventListener("transitioncancel",H),o0.delete(rt.target)),o0.size===0)){for(let St of d_)St();d_.clear()}};document.body.addEventListener("transitionrun",C),document.body.addEventListener("transitionend",H)}typeof document<"u"&&(document.readyState!=="loading"?v_():document.addEventListener("DOMContentLoaded",v_));function pM(C){return C.mozInputSource===0&&C.isTrusted?!0:hM()&&C.pointerType?C.type==="click"&&C.buttons===1:C.detail===0&&!C.pointerType}const dM=Ti.createContext({register:()=>{}});dM.displayName="PressResponderContext";let vM=new Set,g_=!1,up=!1,x1=!1;function b2(C,H){for(let rt of vM)rt(C,H)}function gM(C){return!(C.metaKey||!fM()&&C.altKey||C.ctrlKey||C.key==="Control"||C.key==="Shift"||C.key==="Meta")}function y_(C){up=!0,gM(C)&&b2("keyboard",C)}function Xp(C){(C.type==="mousedown"||C.type==="pointerdown")&&(up=!0,b2("pointer",C))}function yM(C){pM(C)&&(up=!0)}function mM(C){C.target===window||C.target===document||(!up&&!x1&&b2("virtual",C),up=!1,x1=!1)}function xM(){up=!1,x1=!0}function m_(){if(typeof window>"u"||g_)return;let C=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){up=!0,C.apply(this,arguments)},document.addEventListener("keydown",y_,!0),document.addEventListener("keyup",y_,!0),document.addEventListener("click",yM,!0),window.addEventListener("focus",mM,!0),window.addEventListener("blur",xM,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Xp,!0),document.addEventListener("pointermove",Xp,!0),document.addEventListener("pointerup",Xp,!0)):(document.addEventListener("mousedown",Xp,!0),document.addEventListener("mousemove",Xp,!0),document.addEventListener("mouseup",Xp,!0)),g_=!0}typeof document<"u"&&(document.readyState!=="loading"?m_():document.addEventListener("DOMContentLoaded",m_));let Cg=!1,hm=0;function b1(){Cg=!0,setTimeout(()=>{Cg=!1},50)}function x_(C){C.pointerType==="touch"&&b1()}function bM(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",x_):document.addEventListener("touchend",b1),hm++,()=>{hm--,!(hm>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",x_):document.removeEventListener("touchend",b1))}}function dp(C){let{onHoverStart:H,onHoverChange:rt,onHoverEnd:vt,isDisabled:St}=C,[Nt,X]=Ur.useState(!1),B=Ur.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;Ur.useEffect(bM,[]);let{hoverProps:t,triggerHoverEnd:x}=Ur.useMemo(()=>{let E=(m,d)=>{if(B.pointerType=d,St||d==="touch"||B.isHovered||!m.currentTarget.contains(m.target))return;B.isHovered=!0;let v=m.currentTarget;B.target=v,H&&H({type:"hoverstart",target:v,pointerType:d}),rt&&rt(!0),X(!0)},i=(m,d)=>{if(B.pointerType="",B.target=null,d==="touch"||!B.isHovered)return;B.isHovered=!1;let v=m.currentTarget;vt&&vt({type:"hoverend",target:v,pointerType:d}),rt&&rt(!1),X(!1)},M={};return typeof PointerEvent<"u"?(M.onPointerEnter=m=>{Cg&&m.pointerType==="mouse"||E(m,m.pointerType)},M.onPointerLeave=m=>{!St&&m.currentTarget.contains(m.target)&&i(m,m.pointerType)}):(M.onTouchStart=()=>{B.ignoreEmulatedMouseEvents=!0},M.onMouseEnter=m=>{!B.ignoreEmulatedMouseEvents&&!Cg&&E(m,"mouse"),B.ignoreEmulatedMouseEvents=!1},M.onMouseLeave=m=>{!St&&m.currentTarget.contains(m.target)&&i(m,"mouse")}),{hoverProps:M,triggerHoverEnd:i}},[H,rt,vt,St,B]);return Ur.useEffect(()=>{St&&x({currentTarget:B.target},B.pointerType)},[St]),{hoverProps:t,isHovered:Nt}}var _M=Object.defineProperty,wM=(C,H,rt)=>H in C?_M(C,H,{enumerable:!0,configurable:!0,writable:!0,value:rt}):C[H]=rt,pm=(C,H,rt)=>(wM(C,typeof H!="symbol"?H+"":H,rt),rt);let kM=class{constructor(){pm(this,"current",this.detect()),pm(this,"handoffState","pending"),pm(this,"currentId",0)}set(C){this.current!==C&&(this.handoffState="pending",this.currentId=0,this.current=C)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Jc=new kM;function vp(C){return Jc.isServer?null:C instanceof Node?C.ownerDocument:C!=null&&C.hasOwnProperty("current")&&C.current instanceof Node?C.current.ownerDocument:document}function G0(C){typeof queueMicrotask=="function"?queueMicrotask(C):Promise.resolve().then(C).catch(H=>setTimeout(()=>{throw H}))}function sh(){let C=[],H={addEventListener(rt,vt,St,Nt){return rt.addEventListener(vt,St,Nt),H.add(()=>rt.removeEventListener(vt,St,Nt))},requestAnimationFrame(...rt){let vt=requestAnimationFrame(...rt);return H.add(()=>cancelAnimationFrame(vt))},nextFrame(...rt){return H.requestAnimationFrame(()=>H.requestAnimationFrame(...rt))},setTimeout(...rt){let vt=setTimeout(...rt);return H.add(()=>clearTimeout(vt))},microTask(...rt){let vt={current:!0};return G0(()=>{vt.current&&rt[0]()}),H.add(()=>{vt.current=!1})},style(rt,vt,St){let Nt=rt.style.getPropertyValue(vt);return Object.assign(rt.style,{[vt]:St}),this.add(()=>{Object.assign(rt.style,{[vt]:Nt})})},group(rt){let vt=sh();return rt(vt),this.add(()=>vt.dispose())},add(rt){return C.push(rt),()=>{let vt=C.indexOf(rt);if(vt>=0)for(let St of C.splice(vt,1))St()}},dispose(){for(let rt of C.splice(0))rt()}};return H}function Z0(){let[C]=Ur.useState(sh);return Ur.useEffect(()=>()=>C.dispose(),[C]),C}let Ua=(C,H)=>{Jc.isServer?Ur.useEffect(C,H):Ur.useLayoutEffect(C,H)};function rp(C){let H=Ur.useRef(C);return Ua(()=>{H.current=C},[C]),H}let oa=function(C){let H=rp(C);return Ti.useCallback((...rt)=>H.current(...rt),[H])};function TM(C){let H=C.width/2,rt=C.height/2;return{top:C.clientY-rt,right:C.clientX+H,bottom:C.clientY+rt,left:C.clientX-H}}function MM(C,H){return!(!C||!H||C.right<H.left||C.left>H.right||C.bottom<H.top||C.top>H.bottom)}function Y0({disabled:C=!1}={}){let H=Ur.useRef(null),[rt,vt]=Ur.useState(!1),St=Z0(),Nt=oa(()=>{H.current=null,vt(!1),St.dispose()}),X=oa(B=>{if(St.dispose(),H.current===null){H.current=B.currentTarget,vt(!0);{let t=vp(B.currentTarget);St.addEventListener(t,"pointerup",Nt,!1),St.addEventListener(t,"pointermove",x=>{if(H.current){let E=TM(x);vt(MM(E,H.current.getBoundingClientRect()))}},!1),St.addEventListener(t,"pointercancel",Nt,!1)}}});return{pressed:rt,pressProps:C?{}:{onPointerDown:X,onPointerUp:Nt,onClick:Nt}}}let g4=Ur.createContext(void 0);function gp(){return Ur.useContext(g4)}function y4({value:C,children:H}){return Ti.createElement(g4.Provider,{value:C},H)}function b_(...C){return Array.from(new Set(C.flatMap(H=>typeof H=="string"?H.split(" "):[]))).filter(Boolean).join(" ")}function Ws(C,H,...rt){if(C in H){let St=H[C];return typeof St=="function"?St(...rt):St}let vt=new Error(`Tried to handle "${C}" but there is no handler defined. Only defined handlers are: ${Object.keys(H).map(St=>`"${St}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,Ws),vt}var rf=(C=>(C[C.None=0]="None",C[C.RenderStrategy=1]="RenderStrategy",C[C.Static=2]="Static",C))(rf||{}),AM=(C=>(C[C.Unmount=0]="Unmount",C[C.Hidden=1]="Hidden",C))(AM||{});function Fa({ourProps:C,theirProps:H,slot:rt,defaultTag:vt,features:St,visible:Nt=!0,name:X,mergeRefs:B}){B=B??SM;let t=x4(H,C);if(Nt)return qv(t,rt,vt,X,B);let x=St??0;if(x&2){let{static:E=!1,...i}=t;if(E)return qv(i,rt,vt,X,B)}if(x&1){let{unmount:E=!0,...i}=t;return Ws(E?0:1,{0(){return null},1(){return qv({...i,hidden:!0,style:{display:"none"}},rt,vt,X,B)}})}return qv(t,rt,vt,X,B)}function qv(C,H={},rt,vt,St){let{as:Nt=rt,children:X,refName:B="ref",...t}=dm(C,["unmount","static"]),x=C.ref!==void 0?{[B]:C.ref}:{},E=typeof X=="function"?X(H):X;"className"in t&&t.className&&typeof t.className=="function"&&(t.className=t.className(H)),t["aria-labelledby"]&&t["aria-labelledby"]===t.id&&(t["aria-labelledby"]=void 0);let i={};if(H){let M=!1,m=[];for(let[d,v]of Object.entries(H))typeof v=="boolean"&&(M=!0),v===!0&&m.push(d.replace(/([A-Z])/g,r=>`-${r.toLowerCase()}`));if(M){i["data-headlessui-state"]=m.join(" ");for(let d of m)i[`data-${d}`]=""}}if(Nt===Ur.Fragment&&(Object.keys(Up(t)).length>0||Object.keys(Up(i)).length>0))if(!Ur.isValidElement(E)||Array.isArray(E)&&E.length>1){if(Object.keys(Up(t)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Up(t)).concat(Object.keys(Up(i))).map(M=>`  - ${M}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(M=>`  - ${M}`).join(`
`)].join(`
`))}else{let M=E.props,m=M==null?void 0:M.className,d=typeof m=="function"?(...r)=>b_(m(...r),t.className):b_(m,t.className),v=d?{className:d}:{};return Ur.cloneElement(E,Object.assign({},x4(E.props,Up(dm(t,["ref"]))),i,x,{ref:St(E.ref,x.ref)},v))}return Ur.createElement(Nt,Object.assign({},dm(t,["ref"]),Nt!==Ur.Fragment&&x,Nt!==Ur.Fragment&&i),E)}function m4(){let C=Ur.useRef([]),H=Ur.useCallback(rt=>{for(let vt of C.current)vt!=null&&(typeof vt=="function"?vt(rt):vt.current=rt)},[]);return(...rt)=>{if(!rt.every(vt=>vt==null))return C.current=rt,H}}function SM(...C){return C.every(H=>H==null)?void 0:H=>{for(let rt of C)rt!=null&&(typeof rt=="function"?rt(H):rt.current=H)}}function x4(...C){if(C.length===0)return{};if(C.length===1)return C[0];let H={},rt={};for(let vt of C)for(let St in vt)St.startsWith("on")&&typeof vt[St]=="function"?(rt[St]!=null||(rt[St]=[]),rt[St].push(vt[St])):H[St]=vt[St];if(H.disabled||H["aria-disabled"])for(let vt in rt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(rt[vt]=[St=>{var Nt;return(Nt=St==null?void 0:St.preventDefault)==null?void 0:Nt.call(St)}]);for(let vt in rt)Object.assign(H,{[vt](St,...Nt){let X=rt[vt];for(let B of X){if((St instanceof Event||(St==null?void 0:St.nativeEvent)instanceof Event)&&St.defaultPrevented)return;B(St,...Nt)}}});return H}function dh(...C){if(C.length===0)return{};if(C.length===1)return C[0];let H={},rt={};for(let vt of C)for(let St in vt)St.startsWith("on")&&typeof vt[St]=="function"?(rt[St]!=null||(rt[St]=[]),rt[St].push(vt[St])):H[St]=vt[St];for(let vt in rt)Object.assign(H,{[vt](...St){let Nt=rt[vt];for(let X of Nt)X==null||X(...St)}});return H}function Oa(C){var H;return Object.assign(Ur.forwardRef(C),{displayName:(H=C.displayName)!=null?H:C.name})}function Up(C){let H=Object.assign({},C);for(let rt in H)H[rt]===void 0&&delete H[rt];return H}function dm(C,H=[]){let rt=Object.assign({},C);for(let vt of H)vt in rt&&delete rt[vt];return rt}let EM="button";function LM(C,H){var rt,vt;let St=gp(),{disabled:Nt=St||!1,...X}=C,{isFocusVisible:B,focusProps:t}=pp({autoFocus:(rt=C.autoFocus)!=null?rt:!1}),{isHovered:x,hoverProps:E}=dp({isDisabled:Nt}),{pressed:i,pressProps:M}=Y0({disabled:Nt}),m=dh({ref:H,disabled:Nt||void 0,type:(vt=X.type)!=null?vt:"button"},t,E,M),d=Ur.useMemo(()=>{var v;return{disabled:Nt,hover:x,focus:B,active:i,autofocus:(v=C.autoFocus)!=null?v:!1}},[Nt,x,B,i,C.autoFocus]);return Fa({ourProps:m,theirProps:X,slot:d,defaultTag:EM,name:"Button"})}let b4=Oa(LM);function PM(){let C=typeof document>"u";return"useSyncExternalStore"in w0?(H=>H.useSyncExternalStore)(w0)(()=>()=>{},()=>!1,()=>!C):!1}function _2(){let C=PM(),[H,rt]=Ur.useState(Jc.isHandoffComplete);return H&&Jc.isHandoffComplete===!1&&rt(!1),Ur.useEffect(()=>{H!==!0&&rt(!0)},[H]),Ur.useEffect(()=>Jc.handoff(),[]),C?!1:H}var __;let pl=(__=Ti.useId)!=null?__:function(){let C=_2(),[H,rt]=Ti.useState(C?()=>Jc.nextId():null);return Ua(()=>{H===null&&rt(Jc.nextId())},[H]),H!=null?""+H:void 0},CM="div";var md=(C=>(C[C.None=1]="None",C[C.Focusable=2]="Focusable",C[C.Hidden=4]="Hidden",C))(md||{});function IM(C,H){var rt;let{features:vt=1,...St}=C,Nt={ref:H,"aria-hidden":(vt&2)===2?!0:(rt=St["aria-hidden"])!=null?rt:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(vt&4)===4&&(vt&2)!==2&&{display:"none"}}};return Fa({ourProps:Nt,theirProps:St,slot:{},defaultTag:CM,name:"Hidden"})}let xd=Oa(IM),_4=Ur.createContext(null);function OM(C){let[H,rt]=Ur.useState(null);return Ti.createElement(_4.Provider,{value:{target:H}},C.children,Ti.createElement(xd,{features:md.Hidden,ref:rt}))}function zM({children:C}){let H=Ur.useContext(_4);if(!H)return Ti.createElement(Ti.Fragment,null,C);let{target:rt}=H;return rt?oh.createPortal(Ti.createElement(Ti.Fragment,null,C),rt):null}let w4=Ur.createContext(void 0);function w2(){return Ur.useContext(w4)}function RM({id:C,children:H}){return Ti.createElement(w4.Provider,{value:C},H)}function k4(C){let H=C.parentElement,rt=null;for(;H&&!(H instanceof HTMLFieldSetElement);)H instanceof HTMLLegendElement&&(rt=H),H=H.parentElement;let vt=(H==null?void 0:H.getAttribute("disabled"))==="";return vt&&DM(rt)?!1:vt}function DM(C){if(!C)return!1;let H=C.previousElementSibling;for(;H!==null;){if(H instanceof HTMLLegendElement)return!1;H=H.previousElementSibling}return!0}let T4=Symbol();function M4(C,H=!0){return Object.assign(C,{[T4]:H})}function $o(...C){let H=Ur.useRef(C);Ur.useEffect(()=>{H.current=C},[C]);let rt=oa(vt=>{for(let St of H.current)St!=null&&(typeof St=="function"?St(vt):St.current=vt)});return C.every(vt=>vt==null||(vt==null?void 0:vt[T4]))?void 0:rt}let iy=Ur.createContext(null);iy.displayName="DescriptionContext";function A4(){let C=Ur.useContext(iy);if(C===null){let H=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(H,A4),H}return C}function S4(){var C,H;return(H=(C=Ur.useContext(iy))==null?void 0:C.value)!=null?H:void 0}function E4(){let[C,H]=Ur.useState([]);return[C.length>0?C.join(" "):void 0,Ur.useMemo(()=>function(rt){let vt=oa(Nt=>(H(X=>[...X,Nt]),()=>H(X=>{let B=X.slice(),t=B.indexOf(Nt);return t!==-1&&B.splice(t,1),B}))),St=Ur.useMemo(()=>({register:vt,slot:rt.slot,name:rt.name,props:rt.props,value:rt.value}),[vt,rt.slot,rt.name,rt.props,rt.value]);return Ti.createElement(iy.Provider,{value:St},rt.children)},[H])]}let FM="p";function BM(C,H){let rt=pl(),vt=gp(),{id:St=`headlessui-description-${rt}`,...Nt}=C,X=A4(),B=$o(H);Ua(()=>X.register(St),[St,X.register]);let t=vt||!1,x=Ur.useMemo(()=>({...X.slot,disabled:t}),[X.slot,t]),E={ref:B,...X.props,id:St};return Fa({ourProps:E,theirProps:Nt,slot:x,defaultTag:FM,name:X.name||"Description"})}let NM=Oa(BM);Object.assign(NM,{});var Ma=(C=>(C.Space=" ",C.Enter="Enter",C.Escape="Escape",C.Backspace="Backspace",C.Delete="Delete",C.ArrowLeft="ArrowLeft",C.ArrowUp="ArrowUp",C.ArrowRight="ArrowRight",C.ArrowDown="ArrowDown",C.Home="Home",C.End="End",C.PageUp="PageUp",C.PageDown="PageDown",C.Tab="Tab",C))(Ma||{});let ay=Ur.createContext(null);ay.displayName="LabelContext";function k2(){let C=Ur.useContext(ay);if(C===null){let H=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(H,k2),H}return C}function T2(C){var H,rt,vt;let St=(rt=(H=Ur.useContext(ay))==null?void 0:H.value)!=null?rt:void 0;return((vt=C==null?void 0:C.length)!=null?vt:0)>0?[St,...C].filter(Boolean).join(" "):St}function oy({inherit:C=!1}={}){let H=T2(),[rt,vt]=Ur.useState([]),St=C?[H,...rt].filter(Boolean):rt;return[St.length>0?St.join(" "):void 0,Ur.useMemo(()=>function(Nt){let X=oa(t=>(vt(x=>[...x,t]),()=>vt(x=>{let E=x.slice(),i=E.indexOf(t);return i!==-1&&E.splice(i,1),E}))),B=Ur.useMemo(()=>({register:X,slot:Nt.slot,name:Nt.name,props:Nt.props,value:Nt.value}),[X,Nt.slot,Nt.name,Nt.props,Nt.value]);return Ti.createElement(ay.Provider,{value:B},Nt.children)},[vt])]}let jM="label";function HM(C,H){var rt;let vt=pl(),St=k2(),Nt=w2(),X=gp(),{id:B=`headlessui-label-${vt}`,htmlFor:t=Nt??((rt=St.props)==null?void 0:rt.htmlFor),passive:x=!1,...E}=C,i=$o(H);Ua(()=>St.register(B),[B,St.register]);let M=oa(r=>{let e=r.currentTarget;if(e instanceof HTMLLabelElement&&r.preventDefault(),St.props&&"onClick"in St.props&&typeof St.props.onClick=="function"&&St.props.onClick(r),e instanceof HTMLLabelElement){let s=document.getElementById(e.htmlFor);if(s){let n=s.getAttribute("disabled");if(n==="true"||n==="")return;let l=s.getAttribute("aria-disabled");if(l==="true"||l==="")return;(s instanceof HTMLInputElement&&(s.type==="radio"||s.type==="checkbox")||s.role==="radio"||s.role==="checkbox"||s.role==="switch")&&s.click(),s.focus({preventScroll:!0})}}}),m=X||!1,d=Ur.useMemo(()=>({...St.slot,disabled:m}),[St.slot,m]),v={ref:i,...St.props,id:B,htmlFor:t,onClick:M};return x&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in E&&delete E.onClick),Fa({ourProps:v,theirProps:E,slot:d,defaultTag:t?jM:"div",name:St.name||"Label"})}let VM=Oa(HM),XM=Object.assign(VM,{}),_1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(C=>`${C}:not([tabindex='-1'])`).join(","),UM=["[data-autofocus]"].map(C=>`${C}:not([tabindex='-1'])`).join(",");var Ao=(C=>(C[C.First=1]="First",C[C.Previous=2]="Previous",C[C.Next=4]="Next",C[C.Last=8]="Last",C[C.WrapAround=16]="WrapAround",C[C.NoScroll=32]="NoScroll",C[C.AutoFocus=64]="AutoFocus",C))(Ao||{}),Jh=(C=>(C[C.Error=0]="Error",C[C.Overflow=1]="Overflow",C[C.Success=2]="Success",C[C.Underflow=3]="Underflow",C))(Jh||{}),qM=(C=>(C[C.Previous=-1]="Previous",C[C.Next=1]="Next",C))(qM||{});function L4(C=document.body){return C==null?[]:Array.from(C.querySelectorAll(_1)).sort((H,rt)=>Math.sign((H.tabIndex||Number.MAX_SAFE_INTEGER)-(rt.tabIndex||Number.MAX_SAFE_INTEGER)))}function WM(C=document.body){return C==null?[]:Array.from(C.querySelectorAll(UM)).sort((H,rt)=>Math.sign((H.tabIndex||Number.MAX_SAFE_INTEGER)-(rt.tabIndex||Number.MAX_SAFE_INTEGER)))}var M2=(C=>(C[C.Strict=0]="Strict",C[C.Loose=1]="Loose",C))(M2||{});function A2(C,H=0){var rt;return C===((rt=vp(C))==null?void 0:rt.body)?!1:Ws(H,{0(){return C.matches(_1)},1(){let vt=C;for(;vt!==null;){if(vt.matches(_1))return!0;vt=vt.parentElement}return!1}})}function P4(C){let H=vp(C);sh().nextFrame(()=>{H&&!A2(H.activeElement,0)&&xc(C)})}var GM=(C=>(C[C.Keyboard=0]="Keyboard",C[C.Mouse=1]="Mouse",C))(GM||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",C=>{C.metaKey||C.altKey||C.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",C=>{C.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:C.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xc(C){C==null||C.focus({preventScroll:!0})}let ZM=["textarea","input"].join(",");function YM(C){var H,rt;return(rt=(H=C==null?void 0:C.matches)==null?void 0:H.call(C,ZM))!=null?rt:!1}function Qh(C,H=rt=>rt){return C.slice().sort((rt,vt)=>{let St=H(rt),Nt=H(vt);if(St===null||Nt===null)return 0;let X=St.compareDocumentPosition(Nt);return X&Node.DOCUMENT_POSITION_FOLLOWING?-1:X&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function KM(C,H){return au(L4(),H,{relativeTo:C})}function au(C,H,{sorted:rt=!0,relativeTo:vt=null,skipElements:St=[]}={}){let Nt=Array.isArray(C)?C.length>0?C[0].ownerDocument:document:C.ownerDocument,X=Array.isArray(C)?rt?Qh(C):C:H&64?WM(C):L4(C);St.length>0&&X.length>1&&(X=X.filter(m=>!St.some(d=>d!=null&&"current"in d?(d==null?void 0:d.current)===m:d===m))),vt=vt??Nt.activeElement;let B=(()=>{if(H&5)return 1;if(H&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),t=(()=>{if(H&1)return 0;if(H&2)return Math.max(0,X.indexOf(vt))-1;if(H&4)return Math.max(0,X.indexOf(vt))+1;if(H&8)return X.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),x=H&32?{preventScroll:!0}:{},E=0,i=X.length,M;do{if(E>=i||E+i<=0)return 0;let m=t+E;if(H&16)m=(m+i)%i;else{if(m<0)return 3;if(m>=i)return 1}M=X[m],M==null||M.focus(x),E+=B}while(M!==Nt.activeElement);return H&6&&YM(M)&&M.select(),2}function C4(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function JM(){return/Android/gi.test(window.navigator.userAgent)}function QM(){return C4()||JM()}function Wv(C,H,rt){let vt=rp(H);Ur.useEffect(()=>{function St(Nt){vt.current(Nt)}return document.addEventListener(C,St,rt),()=>document.removeEventListener(C,St,rt)},[C,rt])}function I4(C,H,rt){let vt=rp(H);Ur.useEffect(()=>{function St(Nt){vt.current(Nt)}return window.addEventListener(C,St,rt),()=>window.removeEventListener(C,St,rt)},[C,rt])}function $M(C,H,rt=!0){let vt=Ur.useRef(!1);Ur.useEffect(()=>{requestAnimationFrame(()=>{vt.current=rt})},[rt]);function St(X,B){if(!vt.current||X.defaultPrevented)return;let t=B(X);if(t===null||!t.getRootNode().contains(t)||!t.isConnected)return;let x=function E(i){return typeof i=="function"?E(i()):Array.isArray(i)||i instanceof Set?i:[i]}(C);for(let E of x){if(E===null)continue;let i=E instanceof HTMLElement?E:E.current;if(i!=null&&i.contains(t)||X.composed&&X.composedPath().includes(i))return}return!A2(t,M2.Loose)&&t.tabIndex!==-1&&X.preventDefault(),H(X,t)}let Nt=Ur.useRef(null);Wv("pointerdown",X=>{var B,t;vt.current&&(Nt.current=((t=(B=X.composedPath)==null?void 0:B.call(X))==null?void 0:t[0])||X.target)},!0),Wv("mousedown",X=>{var B,t;vt.current&&(Nt.current=((t=(B=X.composedPath)==null?void 0:B.call(X))==null?void 0:t[0])||X.target)},!0),Wv("click",X=>{QM()||Nt.current&&(St(X,()=>Nt.current),Nt.current=null)},!0),Wv("touchend",X=>St(X,()=>X.target instanceof HTMLElement?X.target:null),!0),I4("blur",X=>St(X,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ad(...C){return Ur.useMemo(()=>vp(...C),[...C])}function w_(C){var H;if(C.type)return C.type;let rt=(H=C.as)!=null?H:"button";if(typeof rt=="string"&&rt.toLowerCase()==="button")return"button"}function S2(C,H){let[rt,vt]=Ur.useState(()=>w_(C));return Ua(()=>{vt(w_(C))},[C.type,C.as]),Ua(()=>{rt||H.current&&H.current instanceof HTMLButtonElement&&!H.current.hasAttribute("type")&&vt("button")},[rt,H]),rt}function k_(C){return[C.screenX,C.screenY]}function t9(){let C=Ur.useRef([-1,-1]);return{wasMoved(H){let rt=k_(H);return C.current[0]===rt[0]&&C.current[1]===rt[1]?!1:(C.current=rt,!0)},update(H){C.current=k_(H)}}}function e9({container:C,accept:H,walk:rt,enabled:vt=!0}){let St=Ur.useRef(H),Nt=Ur.useRef(rt);Ur.useEffect(()=>{St.current=H,Nt.current=rt},[H,rt]),Ua(()=>{if(!C||!vt)return;let X=vp(C);if(!X)return;let B=St.current,t=Nt.current,x=Object.assign(i=>B(i),{acceptNode:B}),E=X.createTreeWalker(C,NodeFilter.SHOW_ELEMENT,x,!1);for(;E.nextNode();)t(E.currentNode)},[C,vt,St,Nt])}function E2(C,H){let rt=Ur.useRef([]),vt=oa(C);Ur.useEffect(()=>{let St=[...rt.current];for(let[Nt,X]of H.entries())if(rt.current[Nt]!==X){let B=vt(H,St);return rt.current=H,B}},[vt,...H])}function lh(C){return O4(C)?(C.nodeName||"").toLowerCase():"#document"}function Cl(C){var H;return(C==null||(H=C.ownerDocument)==null?void 0:H.defaultView)||window}function of(C){var H;return(H=(O4(C)?C.ownerDocument:C.document)||window.document)==null?void 0:H.documentElement}function O4(C){return C instanceof Node||C instanceof Cl(C).Node}function Ll(C){return C instanceof Element||C instanceof Cl(C).Element}function bc(C){return C instanceof HTMLElement||C instanceof Cl(C).HTMLElement}function T_(C){return typeof ShadowRoot>"u"?!1:C instanceof ShadowRoot||C instanceof Cl(C).ShadowRoot}function K0(C){const{overflow:H,overflowX:rt,overflowY:vt,display:St}=fu(C);return/auto|scroll|overlay|hidden|clip/.test(H+vt+rt)&&!["inline","contents"].includes(St)}function r9(C){return["table","td","th"].includes(lh(C))}function L2(C){const H=P2(),rt=fu(C);return rt.transform!=="none"||rt.perspective!=="none"||(rt.containerType?rt.containerType!=="normal":!1)||!H&&(rt.backdropFilter?rt.backdropFilter!=="none":!1)||!H&&(rt.filter?rt.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(rt.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(rt.contain||"").includes(vt))}function z4(C){let H=bd(C);for(;bc(H)&&!sy(H);){if(L2(H))return H;H=bd(H)}return null}function P2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sy(C){return["html","body","#document"].includes(lh(C))}function fu(C){return Cl(C).getComputedStyle(C)}function ly(C){return Ll(C)?{scrollLeft:C.scrollLeft,scrollTop:C.scrollTop}:{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function bd(C){if(lh(C)==="html")return C;const H=C.assignedSlot||C.parentNode||T_(C)&&C.host||of(C);return T_(H)?H.host:H}function R4(C){const H=bd(C);return sy(H)?C.ownerDocument?C.ownerDocument.body:C.body:bc(H)&&K0(H)?H:R4(H)}function j0(C,H,rt){var vt;H===void 0&&(H=[]),rt===void 0&&(rt=!0);const St=R4(C),Nt=St===((vt=C.ownerDocument)==null?void 0:vt.body),X=Cl(St);return Nt?H.concat(X,X.visualViewport||[],K0(St)?St:[],X.frameElement&&rt?j0(X.frameElement):[]):H.concat(St,j0(St,[],rt))}function n9(){const C=navigator.userAgentData;return C&&Array.isArray(C.brands)?C.brands.map(H=>{let{brand:rt,version:vt}=H;return rt+"/"+vt}).join(" "):navigator.userAgent}const _d=Math.min,Sl=Math.max,Ig=Math.round,Gv=Math.floor,uh=C=>({x:C,y:C}),i9={left:"right",right:"left",bottom:"top",top:"bottom"},a9={start:"end",end:"start"};function M_(C,H,rt){return Sl(C,_d(H,rt))}function J0(C,H){return typeof C=="function"?C(H):C}function ch(C){return C.split("-")[0]}function Q0(C){return C.split("-")[1]}function D4(C){return C==="x"?"y":"x"}function F4(C){return C==="y"?"height":"width"}function $0(C){return["top","bottom"].includes(ch(C))?"y":"x"}function B4(C){return D4($0(C))}function o9(C,H,rt){rt===void 0&&(rt=!1);const vt=Q0(C),St=B4(C),Nt=F4(St);let X=St==="x"?vt===(rt?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return H.reference[Nt]>H.floating[Nt]&&(X=Og(X)),[X,Og(X)]}function s9(C){const H=Og(C);return[w1(C),H,w1(H)]}function w1(C){return C.replace(/start|end/g,H=>a9[H])}function l9(C,H,rt){const vt=["left","right"],St=["right","left"],Nt=["top","bottom"],X=["bottom","top"];switch(C){case"top":case"bottom":return rt?H?St:vt:H?vt:St;case"left":case"right":return H?Nt:X;default:return[]}}function u9(C,H,rt,vt){const St=Q0(C);let Nt=l9(ch(C),rt==="start",vt);return St&&(Nt=Nt.map(X=>X+"-"+St),H&&(Nt=Nt.concat(Nt.map(w1)))),Nt}function Og(C){return C.replace(/left|right|bottom|top/g,H=>i9[H])}function c9(C){return{top:0,right:0,bottom:0,left:0,...C}}function f9(C){return typeof C!="number"?c9(C):{top:C,right:C,bottom:C,left:C}}function zg(C){return{...C,top:C.y,left:C.x,right:C.x+C.width,bottom:C.y+C.height}}function A_(C,H,rt){let{reference:vt,floating:St}=C;const Nt=$0(H),X=B4(H),B=F4(X),t=ch(H),x=Nt==="y",E=vt.x+vt.width/2-St.width/2,i=vt.y+vt.height/2-St.height/2,M=vt[B]/2-St[B]/2;let m;switch(t){case"top":m={x:E,y:vt.y-St.height};break;case"bottom":m={x:E,y:vt.y+vt.height};break;case"right":m={x:vt.x+vt.width,y:i};break;case"left":m={x:vt.x-St.width,y:i};break;default:m={x:vt.x,y:vt.y}}switch(Q0(H)){case"start":m[X]-=M*(rt&&x?-1:1);break;case"end":m[X]+=M*(rt&&x?-1:1);break}return m}const h9=async(C,H,rt)=>{const{placement:vt="bottom",strategy:St="absolute",middleware:Nt=[],platform:X}=rt,B=Nt.filter(Boolean),t=await(X.isRTL==null?void 0:X.isRTL(H));let x=await X.getElementRects({reference:C,floating:H,strategy:St}),{x:E,y:i}=A_(x,vt,t),M=vt,m={},d=0;for(let v=0;v<B.length;v++){const{name:r,fn:e}=B[v],{x:s,y:n,data:l,reset:o}=await e({x:E,y:i,initialPlacement:vt,placement:M,strategy:St,middlewareData:m,rects:x,platform:X,elements:{reference:C,floating:H}});E=s??E,i=n??i,m={...m,[r]:{...m[r],...l}},o&&d<=50&&(d++,typeof o=="object"&&(o.placement&&(M=o.placement),o.rects&&(x=o.rects===!0?await X.getElementRects({reference:C,floating:H,strategy:St}):o.rects),{x:E,y:i}=A_(x,M,t)),v=-1)}return{x:E,y:i,placement:M,strategy:St,middlewareData:m}};async function ud(C,H){var rt;H===void 0&&(H={});const{x:vt,y:St,platform:Nt,rects:X,elements:B,strategy:t}=C,{boundary:x="clippingAncestors",rootBoundary:E="viewport",elementContext:i="floating",altBoundary:M=!1,padding:m=0}=J0(H,C),d=f9(m),v=B[M?i==="floating"?"reference":"floating":i],r=zg(await Nt.getClippingRect({element:(rt=await(Nt.isElement==null?void 0:Nt.isElement(v)))==null||rt?v:v.contextElement||await(Nt.getDocumentElement==null?void 0:Nt.getDocumentElement(B.floating)),boundary:x,rootBoundary:E,strategy:t})),e=i==="floating"?{...X.floating,x:vt,y:St}:X.reference,s=await(Nt.getOffsetParent==null?void 0:Nt.getOffsetParent(B.floating)),n=await(Nt.isElement==null?void 0:Nt.isElement(s))?await(Nt.getScale==null?void 0:Nt.getScale(s))||{x:1,y:1}:{x:1,y:1},l=zg(Nt.convertOffsetParentRelativeRectToViewportRelativeRect?await Nt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:B,rect:e,offsetParent:s,strategy:t}):e);return{top:(r.top-l.top+d.top)/n.y,bottom:(l.bottom-r.bottom+d.bottom)/n.y,left:(r.left-l.left+d.left)/n.x,right:(l.right-r.right+d.right)/n.x}}const p9=function(C){return C===void 0&&(C={}),{name:"flip",options:C,async fn(H){var rt,vt;const{placement:St,middlewareData:Nt,rects:X,initialPlacement:B,platform:t,elements:x}=H,{mainAxis:E=!0,crossAxis:i=!0,fallbackPlacements:M,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:v=!0,...r}=J0(C,H);if((rt=Nt.arrow)!=null&&rt.alignmentOffset)return{};const e=ch(St),s=ch(B)===B,n=await(t.isRTL==null?void 0:t.isRTL(x.floating)),l=M||(s||!v?[Og(B)]:s9(B));!M&&d!=="none"&&l.push(...u9(B,v,d,n));const o=[B,...l],h=await ud(H,r),b=[];let f=((vt=Nt.flip)==null?void 0:vt.overflows)||[];if(E&&b.push(h[e]),i){const p=o9(St,X,n);b.push(h[p[0]],h[p[1]])}if(f=[...f,{placement:St,overflows:b}],!b.every(p=>p<=0)){var k,a;const p=(((k=Nt.flip)==null?void 0:k.index)||0)+1,w=o[p];if(w)return{data:{index:p,overflows:f},reset:{placement:w}};let S=(a=f.filter(_=>_.overflows[0]<=0).sort((_,T)=>_.overflows[1]-T.overflows[1])[0])==null?void 0:a.placement;if(!S)switch(m){case"bestFit":{var c;const _=(c=f.map(T=>[T.placement,T.overflows.filter(P=>P>0).reduce((P,u)=>P+u,0)]).sort((T,P)=>T[1]-P[1])[0])==null?void 0:c[0];_&&(S=_);break}case"initialPlacement":S=B;break}if(St!==S)return{reset:{placement:S}}}return{}}}};async function d9(C,H){const{placement:rt,platform:vt,elements:St}=C,Nt=await(vt.isRTL==null?void 0:vt.isRTL(St.floating)),X=ch(rt),B=Q0(rt),t=$0(rt)==="y",x=["left","top"].includes(X)?-1:1,E=Nt&&t?-1:1,i=J0(H,C);let{mainAxis:M,crossAxis:m,alignmentAxis:d}=typeof i=="number"?{mainAxis:i,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...i};return B&&typeof d=="number"&&(m=B==="end"?d*-1:d),t?{x:m*E,y:M*x}:{x:M*x,y:m*E}}const N4=function(C){return C===void 0&&(C=0),{name:"offset",options:C,async fn(H){var rt,vt;const{x:St,y:Nt,placement:X,middlewareData:B}=H,t=await d9(H,C);return X===((rt=B.offset)==null?void 0:rt.placement)&&(vt=B.arrow)!=null&&vt.alignmentOffset?{}:{x:St+t.x,y:Nt+t.y,data:{...t,placement:X}}}}},v9=function(C){return C===void 0&&(C={}),{name:"shift",options:C,async fn(H){const{x:rt,y:vt,placement:St}=H,{mainAxis:Nt=!0,crossAxis:X=!1,limiter:B={fn:r=>{let{x:e,y:s}=r;return{x:e,y:s}}},...t}=J0(C,H),x={x:rt,y:vt},E=await ud(H,t),i=$0(ch(St)),M=D4(i);let m=x[M],d=x[i];if(Nt){const r=M==="y"?"top":"left",e=M==="y"?"bottom":"right",s=m+E[r],n=m-E[e];m=M_(s,m,n)}if(X){const r=i==="y"?"top":"left",e=i==="y"?"bottom":"right",s=d+E[r],n=d-E[e];d=M_(s,d,n)}const v=B.fn({...H,[M]:m,[i]:d});return{...v,data:{x:v.x-rt,y:v.y-vt}}}}},g9=function(C){return C===void 0&&(C={}),{name:"size",options:C,async fn(H){const{placement:rt,rects:vt,platform:St,elements:Nt}=H,{apply:X=()=>{},...B}=J0(C,H),t=await ud(H,B),x=ch(rt),E=Q0(rt),i=$0(rt)==="y",{width:M,height:m}=vt.floating;let d,v;x==="top"||x==="bottom"?(d=x,v=E===(await(St.isRTL==null?void 0:St.isRTL(Nt.floating))?"start":"end")?"left":"right"):(v=x,d=E==="end"?"top":"bottom");const r=m-t[d],e=M-t[v],s=!H.middlewareData.shift;let n=r,l=e;if(i){const h=M-t.left-t.right;l=E||s?_d(e,h):h}else{const h=m-t.top-t.bottom;n=E||s?_d(r,h):h}if(s&&!E){const h=Sl(t.left,0),b=Sl(t.right,0),f=Sl(t.top,0),k=Sl(t.bottom,0);i?l=M-2*(h!==0||b!==0?h+b:Sl(t.left,t.right)):n=m-2*(f!==0||k!==0?f+k:Sl(t.top,t.bottom))}await X({...H,availableWidth:l,availableHeight:n});const o=await St.getDimensions(Nt.floating);return M!==o.width||m!==o.height?{reset:{rects:!0}}:{}}}};function j4(C){const H=fu(C);let rt=parseFloat(H.width)||0,vt=parseFloat(H.height)||0;const St=bc(C),Nt=St?C.offsetWidth:rt,X=St?C.offsetHeight:vt,B=Ig(rt)!==Nt||Ig(vt)!==X;return B&&(rt=Nt,vt=X),{width:rt,height:vt,$:B}}function C2(C){return Ll(C)?C:C.contextElement}function cd(C){const H=C2(C);if(!bc(H))return uh(1);const rt=H.getBoundingClientRect(),{width:vt,height:St,$:Nt}=j4(H);let X=(Nt?Ig(rt.width):rt.width)/vt,B=(Nt?Ig(rt.height):rt.height)/St;return(!X||!Number.isFinite(X))&&(X=1),(!B||!Number.isFinite(B))&&(B=1),{x:X,y:B}}const y9=uh(0);function H4(C){const H=Cl(C);return!P2()||!H.visualViewport?y9:{x:H.visualViewport.offsetLeft,y:H.visualViewport.offsetTop}}function m9(C,H,rt){return H===void 0&&(H=!1),!rt||H&&rt!==Cl(C)?!1:H}function cp(C,H,rt,vt){H===void 0&&(H=!1),rt===void 0&&(rt=!1);const St=C.getBoundingClientRect(),Nt=C2(C);let X=uh(1);H&&(vt?Ll(vt)&&(X=cd(vt)):X=cd(C));const B=m9(Nt,rt,vt)?H4(Nt):uh(0);let t=(St.left+B.x)/X.x,x=(St.top+B.y)/X.y,E=St.width/X.x,i=St.height/X.y;if(Nt){const M=Cl(Nt),m=vt&&Ll(vt)?Cl(vt):vt;let d=M.frameElement;for(;d&&vt&&m!==M;){const v=cd(d),r=d.getBoundingClientRect(),e=fu(d),s=r.left+(d.clientLeft+parseFloat(e.paddingLeft))*v.x,n=r.top+(d.clientTop+parseFloat(e.paddingTop))*v.y;t*=v.x,x*=v.y,E*=v.x,i*=v.y,t+=s,x+=n,d=Cl(d).frameElement}}return zg({width:E,height:i,x:t,y:x})}const x9=[":popover-open",":modal"];function V4(C){let H=!1,rt=0,vt=0;function St(Nt){try{H=H||C.matches(Nt)}catch{}}if(x9.forEach(Nt=>{St(Nt)}),H){const Nt=z4(C);if(Nt){const X=Nt.getBoundingClientRect();rt=X.x,vt=X.y}}return[H,rt,vt]}function b9(C){let{elements:H,rect:rt,offsetParent:vt,strategy:St}=C;const Nt=of(vt),[X]=H?V4(H.floating):[!1];if(vt===Nt||X)return rt;let B={scrollLeft:0,scrollTop:0},t=uh(1);const x=uh(0),E=bc(vt);if((E||!E&&St!=="fixed")&&((lh(vt)!=="body"||K0(Nt))&&(B=ly(vt)),bc(vt))){const i=cp(vt);t=cd(vt),x.x=i.x+vt.clientLeft,x.y=i.y+vt.clientTop}return{width:rt.width*t.x,height:rt.height*t.y,x:rt.x*t.x-B.scrollLeft*t.x+x.x,y:rt.y*t.y-B.scrollTop*t.y+x.y}}function _9(C){return Array.from(C.getClientRects())}function X4(C){return cp(of(C)).left+ly(C).scrollLeft}function w9(C){const H=of(C),rt=ly(C),vt=C.ownerDocument.body,St=Sl(H.scrollWidth,H.clientWidth,vt.scrollWidth,vt.clientWidth),Nt=Sl(H.scrollHeight,H.clientHeight,vt.scrollHeight,vt.clientHeight);let X=-rt.scrollLeft+X4(C);const B=-rt.scrollTop;return fu(vt).direction==="rtl"&&(X+=Sl(H.clientWidth,vt.clientWidth)-St),{width:St,height:Nt,x:X,y:B}}function k9(C,H){const rt=Cl(C),vt=of(C),St=rt.visualViewport;let Nt=vt.clientWidth,X=vt.clientHeight,B=0,t=0;if(St){Nt=St.width,X=St.height;const x=P2();(!x||x&&H==="fixed")&&(B=St.offsetLeft,t=St.offsetTop)}return{width:Nt,height:X,x:B,y:t}}function T9(C,H){const rt=cp(C,!0,H==="fixed"),vt=rt.top+C.clientTop,St=rt.left+C.clientLeft,Nt=bc(C)?cd(C):uh(1),X=C.clientWidth*Nt.x,B=C.clientHeight*Nt.y,t=St*Nt.x,x=vt*Nt.y;return{width:X,height:B,x:t,y:x}}function S_(C,H,rt){let vt;if(H==="viewport")vt=k9(C,rt);else if(H==="document")vt=w9(of(C));else if(Ll(H))vt=T9(H,rt);else{const St=H4(C);vt={...H,x:H.x-St.x,y:H.y-St.y}}return zg(vt)}function U4(C,H){const rt=bd(C);return rt===H||!Ll(rt)||sy(rt)?!1:fu(rt).position==="fixed"||U4(rt,H)}function M9(C,H){const rt=H.get(C);if(rt)return rt;let vt=j0(C,[],!1).filter(B=>Ll(B)&&lh(B)!=="body"),St=null;const Nt=fu(C).position==="fixed";let X=Nt?bd(C):C;for(;Ll(X)&&!sy(X);){const B=fu(X),t=L2(X);!t&&B.position==="fixed"&&(St=null),(Nt?!t&&!St:!t&&B.position==="static"&&St&&["absolute","fixed"].includes(St.position)||K0(X)&&!t&&U4(C,X))?vt=vt.filter(x=>x!==X):St=B,X=bd(X)}return H.set(C,vt),vt}function A9(C){let{element:H,boundary:rt,rootBoundary:vt,strategy:St}=C;const Nt=[...rt==="clippingAncestors"?M9(H,this._c):[].concat(rt),vt],X=Nt[0],B=Nt.reduce((t,x)=>{const E=S_(H,x,St);return t.top=Sl(E.top,t.top),t.right=_d(E.right,t.right),t.bottom=_d(E.bottom,t.bottom),t.left=Sl(E.left,t.left),t},S_(H,X,St));return{width:B.right-B.left,height:B.bottom-B.top,x:B.left,y:B.top}}function S9(C){const{width:H,height:rt}=j4(C);return{width:H,height:rt}}function E9(C,H,rt,vt){const St=bc(H),Nt=of(H),X=rt==="fixed",B=cp(C,!0,X,H);let t={scrollLeft:0,scrollTop:0};const x=uh(0);if(St||!St&&!X)if((lh(H)!=="body"||K0(Nt))&&(t=ly(H)),St){const v=cp(H,!0,X,H);x.x=v.x+H.clientLeft,x.y=v.y+H.clientTop}else Nt&&(x.x=X4(Nt));let E=B.left+t.scrollLeft-x.x,i=B.top+t.scrollTop-x.y;const[M,m,d]=V4(vt);return M&&(E+=m,i+=d,St&&(E+=H.clientLeft,i+=H.clientTop)),{x:E,y:i,width:B.width,height:B.height}}function E_(C,H){return!bc(C)||fu(C).position==="fixed"?null:H?H(C):C.offsetParent}function q4(C,H){const rt=Cl(C);if(!bc(C))return rt;let vt=E_(C,H);for(;vt&&r9(vt)&&fu(vt).position==="static";)vt=E_(vt,H);return vt&&(lh(vt)==="html"||lh(vt)==="body"&&fu(vt).position==="static"&&!L2(vt))?rt:vt||z4(C)||rt}const L9=async function(C){const H=this.getOffsetParent||q4,rt=this.getDimensions;return{reference:E9(C.reference,await H(C.floating),C.strategy,C.floating),floating:{x:0,y:0,...await rt(C.floating)}}};function P9(C){return fu(C).direction==="rtl"}const C9={convertOffsetParentRelativeRectToViewportRelativeRect:b9,getDocumentElement:of,getClippingRect:A9,getOffsetParent:q4,getElementRects:L9,getClientRects:_9,getDimensions:S9,getScale:cd,isElement:Ll,isRTL:P9};function I9(C,H){let rt=null,vt;const St=of(C);function Nt(){var B;clearTimeout(vt),(B=rt)==null||B.disconnect(),rt=null}function X(B,t){B===void 0&&(B=!1),t===void 0&&(t=1),Nt();const{left:x,top:E,width:i,height:M}=C.getBoundingClientRect();if(B||H(),!i||!M)return;const m=Gv(E),d=Gv(St.clientWidth-(x+i)),v=Gv(St.clientHeight-(E+M)),r=Gv(x),e={rootMargin:-m+"px "+-d+"px "+-v+"px "+-r+"px",threshold:Sl(0,_d(1,t))||1};let s=!0;function n(l){const o=l[0].intersectionRatio;if(o!==t){if(!s)return X();o?X(!1,o):vt=setTimeout(()=>{X(!1,1e-7)},100)}s=!1}try{rt=new IntersectionObserver(n,{...e,root:St.ownerDocument})}catch{rt=new IntersectionObserver(n,e)}rt.observe(C)}return X(!0),Nt}function O9(C,H,rt,vt){vt===void 0&&(vt={});const{ancestorScroll:St=!0,ancestorResize:Nt=!0,elementResize:X=typeof ResizeObserver=="function",layoutShift:B=typeof IntersectionObserver=="function",animationFrame:t=!1}=vt,x=C2(C),E=St||Nt?[...x?j0(x):[],...j0(H)]:[];E.forEach(e=>{St&&e.addEventListener("scroll",rt,{passive:!0}),Nt&&e.addEventListener("resize",rt)});const i=x&&B?I9(x,rt):null;let M=-1,m=null;X&&(m=new ResizeObserver(e=>{let[s]=e;s&&s.target===x&&m&&(m.unobserve(H),cancelAnimationFrame(M),M=requestAnimationFrame(()=>{var n;(n=m)==null||n.observe(H)})),rt()}),x&&!t&&m.observe(x),m.observe(H));let d,v=t?cp(C):null;t&&r();function r(){const e=cp(C);v&&(e.x!==v.x||e.y!==v.y||e.width!==v.width||e.height!==v.height)&&rt(),v=e,d=requestAnimationFrame(r)}return rt(),()=>{var e;E.forEach(s=>{St&&s.removeEventListener("scroll",rt),Nt&&s.removeEventListener("resize",rt)}),i==null||i(),(e=m)==null||e.disconnect(),m=null,t&&cancelAnimationFrame(d)}}const z9=v9,R9=p9,D9=g9,F9=(C,H,rt)=>{const vt=new Map,St={platform:C9,...rt},Nt={...St.platform,_c:vt};return h9(C,H,{...St,platform:Nt})};var og=typeof document<"u"?Ur.useLayoutEffect:Ur.useEffect;function Rg(C,H){if(C===H)return!0;if(typeof C!=typeof H)return!1;if(typeof C=="function"&&C.toString()===H.toString())return!0;let rt,vt,St;if(C&&H&&typeof C=="object"){if(Array.isArray(C)){if(rt=C.length,rt!==H.length)return!1;for(vt=rt;vt--!==0;)if(!Rg(C[vt],H[vt]))return!1;return!0}if(St=Object.keys(C),rt=St.length,rt!==Object.keys(H).length)return!1;for(vt=rt;vt--!==0;)if(!{}.hasOwnProperty.call(H,St[vt]))return!1;for(vt=rt;vt--!==0;){const Nt=St[vt];if(!(Nt==="_owner"&&C.$$typeof)&&!Rg(C[Nt],H[Nt]))return!1}return!0}return C!==C&&H!==H}function W4(C){return typeof window>"u"?1:(C.ownerDocument.defaultView||window).devicePixelRatio||1}function L_(C,H){const rt=W4(C);return Math.round(H*rt)/rt}function P_(C){const H=Ur.useRef(C);return og(()=>{H.current=C}),H}function B9(C){C===void 0&&(C={});const{placement:H="bottom",strategy:rt="absolute",middleware:vt=[],platform:St,elements:{reference:Nt,floating:X}={},transform:B=!0,whileElementsMounted:t,open:x}=C,[E,i]=Ur.useState({x:0,y:0,strategy:rt,placement:H,middlewareData:{},isPositioned:!1}),[M,m]=Ur.useState(vt);Rg(M,vt)||m(vt);const[d,v]=Ur.useState(null),[r,e]=Ur.useState(null),s=Ur.useCallback(P=>{P!==h.current&&(h.current=P,v(P))},[]),n=Ur.useCallback(P=>{P!==b.current&&(b.current=P,e(P))},[]),l=Nt||d,o=X||r,h=Ur.useRef(null),b=Ur.useRef(null),f=Ur.useRef(E),k=t!=null,a=P_(t),c=P_(St),p=Ur.useCallback(()=>{if(!h.current||!b.current)return;const P={placement:H,strategy:rt,middleware:M};c.current&&(P.platform=c.current),F9(h.current,b.current,P).then(u=>{const g={...u,isPositioned:!0};w.current&&!Rg(f.current,g)&&(f.current=g,oh.flushSync(()=>{i(g)}))})},[M,H,rt,c]);og(()=>{x===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,i(P=>({...P,isPositioned:!1})))},[x]);const w=Ur.useRef(!1);og(()=>(w.current=!0,()=>{w.current=!1}),[]),og(()=>{if(l&&(h.current=l),o&&(b.current=o),l&&o){if(a.current)return a.current(l,o,p);p()}},[l,o,p,a,k]);const S=Ur.useMemo(()=>({reference:h,floating:b,setReference:s,setFloating:n}),[s,n]),_=Ur.useMemo(()=>({reference:l,floating:o}),[l,o]),T=Ur.useMemo(()=>{const P={position:rt,left:0,top:0};if(!_.floating)return P;const u=L_(_.floating,E.x),g=L_(_.floating,E.y);return B?{...P,transform:"translate("+u+"px, "+g+"px)",...W4(_.floating)>=1.5&&{willChange:"transform"}}:{position:rt,left:u,top:g}},[rt,B,_.floating,E.x,E.y]);return Ur.useMemo(()=>({...E,update:p,refs:S,elements:_,floatingStyles:T}),[E,p,S,_,T])}const N9=Ur.useInsertionEffect,j9=N9||(C=>C());function G4(C){const H=Ur.useRef(()=>{});return j9(()=>{H.current=C}),Ur.useCallback(function(){for(var rt=arguments.length,vt=new Array(rt),St=0;St<rt;St++)vt[St]=arguments[St];return H.current==null?void 0:H.current(...vt)},[])}var Z4=typeof document<"u"?Ur.useLayoutEffect:Ur.useEffect;let vm=!1,H9=0;const C_=()=>"floating-ui-"+H9++;function V9(){const[C,H]=Ur.useState(()=>vm?C_():void 0);return Z4(()=>{C==null&&H(C_())},[]),Ur.useEffect(()=>{vm||(vm=!0)},[]),C}const X9=Ur.useId,U9=X9||V9;function q9(){const C=new Map;return{emit(H,rt){var vt;(vt=C.get(H))==null||vt.forEach(St=>St(rt))},on(H,rt){C.set(H,[...C.get(H)||[],rt])},off(H,rt){var vt;C.set(H,((vt=C.get(H))==null?void 0:vt.filter(St=>St!==rt))||[])}}}const W9=Ur.createContext(null),G9=Ur.createContext(null),Z9=()=>{var C;return((C=Ur.useContext(W9))==null?void 0:C.id)||null},Y9=()=>Ur.useContext(G9);function K9(C){var H;C===void 0&&(C={});const{open:rt=!1,onOpenChange:vt,nodeId:St}=C,[Nt,X]=Ur.useState(null),B=((H=C.elements)==null?void 0:H.reference)||Nt,t=B9(C),x=Y9(),E=Z9()!=null,i=G4((o,h,b)=>{o&&(m.current.openEvent=h),d.emit("openchange",{open:o,event:h,reason:b,nested:E}),vt==null||vt(o,h,b)}),M=Ur.useRef(null),m=Ur.useRef({}),d=Ur.useState(()=>q9())[0],v=U9(),r=Ur.useCallback(o=>{const h=Ll(o)?{getBoundingClientRect:()=>o.getBoundingClientRect(),contextElement:o}:o;t.refs.setReference(h)},[t.refs]),e=Ur.useCallback(o=>{(Ll(o)||o===null)&&(M.current=o,X(o)),(Ll(t.refs.reference.current)||t.refs.reference.current===null||o!==null&&!Ll(o))&&t.refs.setReference(o)},[t.refs]),s=Ur.useMemo(()=>({...t.refs,setReference:e,setPositionReference:r,domReference:M}),[t.refs,e,r]),n=Ur.useMemo(()=>({...t.elements,domReference:B}),[t.elements,B]),l=Ur.useMemo(()=>({...t,refs:s,elements:n,dataRef:m,nodeId:St,floatingId:v,events:d,open:rt,onOpenChange:i}),[t,St,v,d,rt,i,s,n]);return Z4(()=>{const o=x==null?void 0:x.nodesRef.current.find(h=>h.id===St);o&&(o.context=l)}),Ur.useMemo(()=>({...t,context:l,refs:s,elements:n}),[t,s,n,l])}const I_="active",O_="selected";function gm(C,H,rt){const vt=new Map,St=rt==="item";let Nt=C;if(St&&C){const{[I_]:X,[O_]:B,...t}=C;Nt=t}return{...rt==="floating"&&{tabIndex:-1},...Nt,...H.map(X=>{const B=X?X[rt]:null;return typeof B=="function"?C?B(C):null:B}).concat(C).reduce((X,B)=>(B&&Object.entries(B).forEach(t=>{let[x,E]=t;if(!(St&&[I_,O_].includes(x)))if(x.indexOf("on")===0){if(vt.has(x)||vt.set(x,[]),typeof E=="function"){var i;(i=vt.get(x))==null||i.push(E),X[x]=function(){for(var M,m=arguments.length,d=new Array(m),v=0;v<m;v++)d[v]=arguments[v];return(M=vt.get(x))==null?void 0:M.map(r=>r(...d)).find(r=>r!==void 0)}}}else X[x]=E}),X),{})}}function J9(C){C===void 0&&(C=[]);const H=C,rt=Ur.useCallback(Nt=>gm(Nt,C,"reference"),H),vt=Ur.useCallback(Nt=>gm(Nt,C,"floating"),H),St=Ur.useCallback(Nt=>gm(Nt,C,"item"),C.map(Nt=>Nt==null?void 0:Nt.item));return Ur.useMemo(()=>({getReferenceProps:rt,getFloatingProps:vt,getItemProps:St}),[rt,vt,St])}function z_(C,H){return{...C,rects:{...C.rects,floating:{...C.rects.floating,height:H}}}}const Q9=C=>({name:"inner",options:C,async fn(H){const{listRef:rt,overflowRef:vt,onFallbackChange:St,offset:Nt=0,index:X=0,minItemsVisible:B=4,referenceOverflowThreshold:t=0,scrollRef:x,...E}=C,{rects:i,elements:{floating:M}}=H,m=rt.current[X];if(!m)return{};const d={...H,...await N4(-m.offsetTop-M.clientTop-i.reference.height/2-m.offsetHeight/2-Nt).fn(H)},v=(x==null?void 0:x.current)||M,r=await ud(z_(d,v.scrollHeight),E),e=await ud(d,{...E,elementContext:"reference"}),s=Math.max(0,r.top),n=d.y+s,l=Math.max(0,v.scrollHeight-s-Math.max(0,r.bottom));return v.style.maxHeight=l+"px",v.scrollTop=s,St&&(v.offsetHeight<m.offsetHeight*Math.min(B,rt.current.length-1)-1||e.top>=-t||e.bottom>=-t?oh.flushSync(()=>St(!0)):oh.flushSync(()=>St(!1))),vt&&(vt.current=await ud(z_({...d,y:n},v.offsetHeight),E)),{y:n}}});function $9(C,H){const{open:rt,elements:vt}=C,{enabled:St=!0,overflowRef:Nt,scrollRef:X,onChange:B}=H,t=G4(B),x=Ur.useRef(!1),E=Ur.useRef(null),i=Ur.useRef(null);return Ur.useEffect(()=>{if(!St)return;function M(d){if(d.ctrlKey||!m||Nt.current==null)return;const v=d.deltaY,r=Nt.current.top>=-.5,e=Nt.current.bottom>=-.5,s=m.scrollHeight-m.clientHeight,n=v<0?-1:1,l=v<0?"max":"min";m.scrollHeight<=m.clientHeight||(!r&&v>0||!e&&v<0?(d.preventDefault(),oh.flushSync(()=>{t(o=>o+Math[l](v,s*n))})):/firefox/i.test(n9())&&(m.scrollTop+=v))}const m=(X==null?void 0:X.current)||vt.floating;if(rt&&m)return m.addEventListener("wheel",M),requestAnimationFrame(()=>{E.current=m.scrollTop,Nt.current!=null&&(i.current={...Nt.current})}),()=>{E.current=null,i.current=null,m.removeEventListener("wheel",M)}},[St,rt,vt.floating,Nt,X,t]),Ur.useMemo(()=>St?{floating:{onKeyDown(){x.current=!0},onWheel(){x.current=!1},onPointerMove(){x.current=!1},onScroll(){const M=(X==null?void 0:X.current)||vt.floating;if(!(!Nt.current||!M||!x.current)){if(E.current!==null){const m=M.scrollTop-E.current;(Nt.current.bottom<-.5&&m<-1||Nt.current.top<-.5&&m>1)&&oh.flushSync(()=>t(d=>d+m))}requestAnimationFrame(()=>{E.current=M.scrollTop})}}}}:{},[St,Nt,vt.floating,X,t])}let Sd=Ur.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Sd.displayName="FloatingContext";let I2=Ur.createContext(null);I2.displayName="PlacementContext";function tA(){return Ur.useContext(Sd).setReference}function eA(){return Ur.useContext(Sd).getReferenceProps}function rA(){let{getFloatingProps:C,slot:H}=Ur.useContext(Sd);return Ur.useCallback((...rt)=>Object.assign({},C(...rt),{"data-anchor":H.anchor}),[C,H])}function nA(C){let H=Ur.useContext(I2),rt=Ur.useMemo(()=>C,[JSON.stringify(C,typeof HTMLElement<"u"?(St,Nt)=>Nt instanceof HTMLElement?Nt.outerHTML:Nt:void 0)]);Ua(()=>{H==null||H(rt??null)},[H,rt]);let vt=Ur.useContext(Sd);return Ur.useMemo(()=>[vt.setFloating,vt.styles],[vt.setFloating,vt.styles])}let R_=4;function iA({children:C,enabled:H=!0}){let[rt,vt]=Ur.useState(null),[St,Nt]=Ur.useState(0),X=Ur.useRef(null),[B,t]=Ur.useState(null);aA(B);let x=H&&rt!==null&&B!==null,{to:E="bottom",gap:i=0,offset:M=0,padding:m=0,inner:d}=oA(rt,B),[v,r="center"]=E.split(" ");Ua(()=>{x&&Nt(0)},[x]);let{refs:e,floatingStyles:s,context:n}=K9({open:x,placement:v==="selection"?r==="center"?"bottom":`bottom-${r}`:r==="center"?`${v}`:`${v}-${r}`,strategy:"fixed",transform:!1,middleware:[N4({mainAxis:v==="selection"?0:i,crossAxis:M}),z9({padding:m}),v!=="selection"&&R9(),v==="selection"&&d?Q9({...d,padding:m,overflowRef:X,offset:St,minItemsVisible:R_,referenceOverflowThreshold:m,onFallbackChange(c){var p,w;if(!c)return;let S=n.elements.floating;if(!S)return;let _=parseFloat(getComputedStyle(S).scrollPaddingBottom)||0,T=Math.min(R_,S.childElementCount),P=0,u=0;for(let g of(w=(p=n.elements.floating)==null?void 0:p.childNodes)!=null?w:[])if(g instanceof HTMLElement){let L=g.offsetTop,A=L+g.clientHeight+_,R=S.scrollTop,O=R+S.clientHeight;if(L>=R&&A<=O)T--;else{u=Math.max(0,Math.min(A,O)-Math.max(L,R)),P=g.clientHeight;break}}T>=1&&Nt(g=>{let L=P*T-u+_;return g>=L?g:L})}}):null,D9({apply({availableWidth:c,availableHeight:p,elements:w}){Object.assign(w.floating.style,{maxWidth:`${c-m}px`,maxHeight:`${p-m}px`})}})].filter(Boolean),whileElementsMounted:O9}),[l=v,o=r]=n.placement.split("-");v==="selection"&&(l="selection");let h=Ur.useMemo(()=>({anchor:[l,o].filter(Boolean).join(" ")}),[l,o]),b=$9(n,{overflowRef:X,onChange:Nt}),{getReferenceProps:f,getFloatingProps:k}=J9([b]),a=oa(c=>{t(c),e.setFloating(c)});return Ur.createElement(I2.Provider,{value:vt},Ur.createElement(Sd.Provider,{value:{setFloating:a,setReference:e.setReference,styles:x?s:{},getReferenceProps:f,getFloatingProps:k,slot:h}},C))}function aA(C){Ua(()=>{if(!C)return;let H=new MutationObserver(()=>{let rt=C.style.maxHeight;parseFloat(rt)!==parseInt(rt)&&(C.style.maxHeight=`${Math.ceil(parseFloat(rt))}px`)});return H.observe(C,{attributes:!0,attributeFilter:["style"]}),()=>{H.disconnect()}},[C])}function oA(C,H){let rt=ym(C==null?void 0:C.gap,H),vt=ym(C==null?void 0:C.offset,H),St=ym(C==null?void 0:C.padding,H);return{...C,gap:rt,offset:vt,padding:St}}function ym(C,H,rt=void 0){let vt=Z0(),St=oa((t,x)=>{if(t==null)return[rt,null];if(typeof t=="number")return[t,null];if(typeof t=="string"){if(!x)return[rt,null];let E=D_(t,x);return[E,i=>{let M=Y4(t);{let m=M.map(d=>window.getComputedStyle(x).getPropertyValue(d));vt.requestAnimationFrame(function d(){vt.nextFrame(d);let v=!1;for(let[e,s]of M.entries()){let n=window.getComputedStyle(x).getPropertyValue(s);if(m[e]!==n){m[e]=n,v=!0;break}}if(!v)return;let r=D_(t,x);E!==r&&(i(r),E=r)})}return vt.dispose}]}return[rt,null]}),Nt=Ur.useMemo(()=>St(C,H)[0],[C,H]),[X=Nt,B]=Ur.useState();return Ua(()=>{let[t,x]=St(C,H);if(B(t),!!x)return x(B)},[C,H]),X}function Y4(C){let H=/var\((.*)\)/.exec(C);if(H){let rt=H[1].indexOf(",");if(rt===-1)return[H[1]];let vt=H[1].slice(0,rt).trim(),St=H[1].slice(rt+1).trim();return St?[vt,...Y4(St)]:[vt]}return[]}function D_(C,H){let rt=document.createElement("div");H.appendChild(rt),rt.style.setProperty("margin-top","0px","important"),rt.style.setProperty("margin-top",C,"important");let vt=parseFloat(window.getComputedStyle(rt).marginTop)||0;return H.removeChild(rt),vt}let O2=Ur.createContext(null);O2.displayName="OpenClosedContext";var nf=(C=>(C[C.Open=1]="Open",C[C.Closed=2]="Closed",C[C.Closing=4]="Closing",C[C.Opening=8]="Opening",C))(nf||{});function K4(){return Ur.useContext(O2)}function J4({value:C,children:H}){return Ti.createElement(O2.Provider,{value:C},H)}function sA(C){function H(){document.readyState!=="loading"&&(C(),document.removeEventListener("DOMContentLoaded",H))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",H),H())}let Gf=[];sA(()=>{function C(H){H.target instanceof HTMLElement&&H.target!==document.body&&Gf[0]!==H.target&&(Gf.unshift(H.target),Gf=Gf.filter(rt=>rt!=null&&rt.isConnected),Gf.splice(10))}window.addEventListener("click",C,{capture:!0}),window.addEventListener("mousedown",C,{capture:!0}),window.addEventListener("focus",C,{capture:!0}),document.body.addEventListener("click",C,{capture:!0}),document.body.addEventListener("mousedown",C,{capture:!0}),document.body.addEventListener("focus",C,{capture:!0})});function lA(C){throw new Error("Unexpected object: "+C)}var Es=(C=>(C[C.First=0]="First",C[C.Previous=1]="Previous",C[C.Next=2]="Next",C[C.Last=3]="Last",C[C.Specific=4]="Specific",C[C.Nothing=5]="Nothing",C))(Es||{});function mm(C,H){let rt=H.resolveItems();if(rt.length<=0)return null;let vt=H.resolveActiveIndex(),St=vt??-1;switch(C.focus){case 0:{for(let Nt=0;Nt<rt.length;++Nt)if(!H.resolveDisabled(rt[Nt],Nt,rt))return Nt;return vt}case 1:{St===-1&&(St=rt.length);for(let Nt=St-1;Nt>=0;--Nt)if(!H.resolveDisabled(rt[Nt],Nt,rt))return Nt;return vt}case 2:{for(let Nt=St+1;Nt<rt.length;++Nt)if(!H.resolveDisabled(rt[Nt],Nt,rt))return Nt;return vt}case 3:{for(let Nt=rt.length-1;Nt>=0;--Nt)if(!H.resolveDisabled(rt[Nt],Nt,rt))return Nt;return vt}case 4:{for(let Nt=0;Nt<rt.length;++Nt)if(H.resolveId(rt[Nt],Nt,rt)===C.id)return Nt;return vt}case 5:return null;default:lA(C)}}let uA=Ur.Fragment;function cA(C,H){let{...rt}=C,vt=!1,{isFocusVisible:St,focusProps:Nt}=pp(),{isHovered:X,hoverProps:B}=dp({isDisabled:vt}),{pressed:t,pressProps:x}=Y0({disabled:vt}),E=dh({ref:H},Nt,B,x),i=Ur.useMemo(()=>({hover:X,focus:St,active:t}),[X,St,t]);return Fa({ourProps:E,theirProps:rt,slot:i,defaultTag:uA,name:"DataInteractive"})}let fA=Oa(cA);function hA(C,H){return C===H&&(C!==0||1/C===1/H)||C!==C&&H!==H}const pA=typeof Object.is=="function"?Object.is:hA,{useState:dA,useEffect:vA,useLayoutEffect:gA,useDebugValue:yA}=w0;function mA(C,H,rt){const vt=H(),[{inst:St},Nt]=dA({inst:{value:vt,getSnapshot:H}});return gA(()=>{St.value=vt,St.getSnapshot=H,xm(St)&&Nt({inst:St})},[C,vt,H]),vA(()=>(xm(St)&&Nt({inst:St}),C(()=>{xm(St)&&Nt({inst:St})})),[C]),yA(vt),vt}function xm(C){const H=C.getSnapshot,rt=C.value;try{const vt=H();return!pA(rt,vt)}catch{return!0}}function xA(C,H,rt){return H()}const bA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_A=!bA,wA=_A?xA:mA,kA="useSyncExternalStore"in w0?(C=>C.useSyncExternalStore)(w0):wA;function TA(C){return kA(C.subscribe,C.getSnapshot,C.getSnapshot)}function MA(C,H){let rt=C(),vt=new Set;return{getSnapshot(){return rt},subscribe(St){return vt.add(St),()=>vt.delete(St)},dispatch(St,...Nt){let X=H[St].call(rt,...Nt);X&&(rt=X,vt.forEach(B=>B()))}}}function AA(){let C;return{before({doc:H}){var rt;let vt=H.documentElement,St=(rt=H.defaultView)!=null?rt:window;C=Math.max(0,St.innerWidth-vt.clientWidth)},after({doc:H,d:rt}){let vt=H.documentElement,St=Math.max(0,vt.clientWidth-vt.offsetWidth),Nt=Math.max(0,C-St);rt.style(vt,"paddingRight",`${Nt}px`)}}}function SA(){return C4()?{before({doc:C,d:H,meta:rt}){function vt(St){return rt.containers.flatMap(Nt=>Nt()).some(Nt=>Nt.contains(St))}H.microTask(()=>{var St;if(window.getComputedStyle(C.documentElement).scrollBehavior!=="auto"){let B=sh();B.style(C.documentElement,"scrollBehavior","auto"),H.add(()=>H.microTask(()=>B.dispose()))}let Nt=(St=window.scrollY)!=null?St:window.pageYOffset,X=null;H.addEventListener(C,"click",B=>{if(B.target instanceof HTMLElement)try{let t=B.target.closest("a");if(!t)return;let{hash:x}=new URL(t.href),E=C.querySelector(x);E&&!vt(E)&&(X=E)}catch{}},!0),H.addEventListener(C,"touchstart",B=>{if(B.target instanceof HTMLElement)if(vt(B.target)){let t=B.target;for(;t.parentElement&&vt(t.parentElement);)t=t.parentElement;H.style(t,"overscrollBehavior","contain")}else H.style(B.target,"touchAction","none")}),H.addEventListener(C,"touchmove",B=>{if(B.target instanceof HTMLElement)if(vt(B.target)){let t=B.target;for(;t.parentElement&&t.dataset.headlessuiPortal!==""&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;t.dataset.headlessuiPortal===""&&B.preventDefault()}else B.preventDefault()},{passive:!1}),H.add(()=>{var B;let t=(B=window.scrollY)!=null?B:window.pageYOffset;Nt!==t&&window.scrollTo(0,Nt),X&&X.isConnected&&(X.scrollIntoView({block:"nearest"}),X=null)})})}}:{}}function EA(){return{before({doc:C,d:H}){H.style(C.documentElement,"overflow","hidden")}}}function LA(C){let H={};for(let rt of C)Object.assign(H,rt(H));return H}let $h=MA(()=>new Map,{PUSH(C,H){var rt;let vt=(rt=this.get(C))!=null?rt:{doc:C,count:0,d:sh(),meta:new Set};return vt.count++,vt.meta.add(H),this.set(C,vt),this},POP(C,H){let rt=this.get(C);return rt&&(rt.count--,rt.meta.delete(H)),this},SCROLL_PREVENT({doc:C,d:H,meta:rt}){let vt={doc:C,d:H,meta:LA(rt)},St=[SA(),AA(),EA()];St.forEach(({before:Nt})=>Nt==null?void 0:Nt(vt)),St.forEach(({after:Nt})=>Nt==null?void 0:Nt(vt))},SCROLL_ALLOW({d:C}){C.dispose()},TEARDOWN({doc:C}){this.delete(C)}});$h.subscribe(()=>{let C=$h.getSnapshot(),H=new Map;for(let[rt]of C)H.set(rt,rt.documentElement.style.overflow);for(let rt of C.values()){let vt=H.get(rt.doc)==="hidden",St=rt.count!==0;(St&&!vt||!St&&vt)&&$h.dispatch(rt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",rt),rt.count===0&&$h.dispatch("TEARDOWN",rt)}});function PA(C,H,rt=()=>({containers:[]})){let vt=TA($h),St=C?vt.get(C):void 0,Nt=St?St.count>0:!1;return Ua(()=>{if(!(!C||!H))return $h.dispatch("PUSH",C,rt),()=>$h.dispatch("POP",C,rt)},[H,C]),Nt}function CA(C,H,rt,vt){let St=rp(rt);Ur.useEffect(()=>{C=C??window;function Nt(X){St.current(X)}return C.addEventListener(H,Nt,vt),()=>C.removeEventListener(H,Nt,vt)},[C,H,vt])}let bm=new Map,s0=new Map;function F_(C,H=!0){Ua(()=>{var rt;if(!H)return;let vt=typeof C=="function"?C():C.current;if(!vt)return;function St(){var X;if(!vt)return;let B=(X=s0.get(vt))!=null?X:1;if(B===1?s0.delete(vt):s0.set(vt,B-1),B!==1)return;let t=bm.get(vt);t&&(t["aria-hidden"]===null?vt.removeAttribute("aria-hidden"):vt.setAttribute("aria-hidden",t["aria-hidden"]),vt.inert=t.inert,bm.delete(vt))}let Nt=(rt=s0.get(vt))!=null?rt:0;return s0.set(vt,Nt+1),Nt!==0||(bm.set(vt,{"aria-hidden":vt.getAttribute("aria-hidden"),inert:vt.inert}),vt.setAttribute("aria-hidden","true"),vt.inert=!0),St},[C,H])}function IA({defaultContainers:C=[],portals:H,mainTreeNodeRef:rt}={}){var vt;let St=Ur.useRef((vt=rt==null?void 0:rt.current)!=null?vt:null),Nt=Ad(St),X=oa(()=>{var B,t,x;let E=[];for(let i of C)i!==null&&(i instanceof HTMLElement?E.push(i):"current"in i&&i.current instanceof HTMLElement&&E.push(i.current));if(H!=null&&H.current)for(let i of H.current)E.push(i);for(let i of(B=Nt==null?void 0:Nt.querySelectorAll("html > *, body > *"))!=null?B:[])i!==document.body&&i!==document.head&&i instanceof HTMLElement&&i.id!=="headlessui-portal-root"&&(i.contains(St.current)||i.contains((x=(t=St.current)==null?void 0:t.getRootNode())==null?void 0:x.host)||E.some(M=>i.contains(M))||E.push(i));return E});return{resolveContainers:X,contains:oa(B=>X().some(t=>t.contains(B))),mainTreeNodeRef:St,MainTreeNode:Ur.useMemo(()=>function(){return rt!=null?null:Ti.createElement(xd,{features:md.Hidden,ref:St})},[St,rt])}}let Q4=Ur.createContext(!1);function OA(){return Ur.useContext(Q4)}function B_(C){return Ti.createElement(Q4.Provider,{value:C.force},C.children)}function z2(){let C=Ur.useRef(!1);return Ua(()=>(C.current=!0,()=>{C.current=!1}),[]),C}function $4(C){let H=oa(C),rt=Ur.useRef(!1);Ur.useEffect(()=>(rt.current=!1,()=>{rt.current=!0,G0(()=>{rt.current&&H()})}),[H])}var h0=(C=>(C[C.Forwards=0]="Forwards",C[C.Backwards=1]="Backwards",C))(h0||{});function zA(){let C=Ur.useRef(0);return I4("keydown",H=>{H.key==="Tab"&&(C.current=H.shiftKey?1:0)},!0),C}function t5(C){if(!C)return new Set;if(typeof C=="function")return new Set(C());let H=new Set;for(let rt of C.current)rt.current instanceof HTMLElement&&H.add(rt.current);return H}let RA="div";var Dg=(C=>(C[C.None=1]="None",C[C.InitialFocus=2]="InitialFocus",C[C.TabLock=4]="TabLock",C[C.FocusLock=8]="FocusLock",C[C.RestoreFocus=16]="RestoreFocus",C[C.AutoFocus=32]="AutoFocus",C[C.All=30]="All",C))(Dg||{});function DA(C,H){let rt=Ur.useRef(null),vt=$o(rt,H),{initialFocus:St,initialFocusFallback:Nt,containers:X,features:B=30,...t}=C;_2()||(B=1);let x=Ad(rt);jA({ownerDocument:x},!!(B&16));let E=HA({ownerDocument:x,container:rt,initialFocus:St,initialFocusFallback:Nt},B);VA({ownerDocument:x,container:rt,containers:X,previousActiveElement:E},!!(B&8));let i=zA(),M=oa(r=>{let e=rt.current;e&&(s=>s())(()=>{Ws(i.current,{[h0.Forwards]:()=>{au(e,Ao.First,{skipElements:[r.relatedTarget,Nt]})},[h0.Backwards]:()=>{au(e,Ao.Last,{skipElements:[r.relatedTarget,Nt]})}})})}),m=Z0(),d=Ur.useRef(!1),v={ref:vt,onKeyDown(r){r.key=="Tab"&&(d.current=!0,m.requestAnimationFrame(()=>{d.current=!1}))},onBlur(r){if(!(B&8))return;let e=t5(X);rt.current instanceof HTMLElement&&e.add(rt.current);let s=r.relatedTarget;s instanceof HTMLElement&&s.dataset.headlessuiFocusGuard!=="true"&&(e5(e,s)||(d.current?au(rt.current,Ws(i.current,{[h0.Forwards]:()=>Ao.Next,[h0.Backwards]:()=>Ao.Previous})|Ao.WrapAround,{relativeTo:r.target}):r.target instanceof HTMLElement&&xc(r.target)))}};return Ti.createElement(Ti.Fragment,null,!!(B&4)&&Ti.createElement(xd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:M,features:md.Focusable}),Fa({ourProps:v,theirProps:t,defaultTag:RA,name:"FocusTrap"}),!!(B&4)&&Ti.createElement(xd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:M,features:md.Focusable}))}let FA=Oa(DA),BA=Object.assign(FA,{features:Dg});function NA(C=!0){let H=Ur.useRef(Gf.slice());return E2(([rt],[vt])=>{vt===!0&&rt===!1&&G0(()=>{H.current.splice(0)}),vt===!1&&rt===!0&&(H.current=Gf.slice())},[C,Gf,H]),oa(()=>{var rt;return(rt=H.current.find(vt=>vt!=null&&vt.isConnected))!=null?rt:null})}function jA({ownerDocument:C},H){let rt=NA(H);E2(()=>{H||(C==null?void 0:C.activeElement)===(C==null?void 0:C.body)&&xc(rt())},[H]),$4(()=>{H&&xc(rt())})}function HA({ownerDocument:C,container:H,initialFocus:rt,initialFocusFallback:vt},St){let Nt=!!(St&2),X=Ur.useRef(null),B=z2();return E2(()=>{if(!Nt){vt!=null&&vt.current&&xc(vt.current);return}let t=H.current;t&&G0(()=>{if(!B.current)return;let x=C==null?void 0:C.activeElement;if(rt!=null&&rt.current){if((rt==null?void 0:rt.current)===x){X.current=x;return}}else if(t.contains(x)){X.current=x;return}if(rt!=null&&rt.current)xc(rt.current);else{if(St&32){if(au(t,Ao.First|Ao.AutoFocus)!==Jh.Error)return}else if(au(t,Ao.First)!==Jh.Error)return;if(vt!=null&&vt.current&&(xc(vt.current),(C==null?void 0:C.activeElement)===vt.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}X.current=C==null?void 0:C.activeElement})},[vt,Nt,St]),X}function VA({ownerDocument:C,container:H,containers:rt,previousActiveElement:vt},St){let Nt=z2();CA(C==null?void 0:C.defaultView,"focus",X=>{if(!St||!Nt.current)return;let B=t5(rt);H.current instanceof HTMLElement&&B.add(H.current);let t=vt.current;if(!t)return;let x=X.target;x&&x instanceof HTMLElement?e5(B,x)?(vt.current=x,xc(x)):(X.preventDefault(),X.stopPropagation(),xc(t)):xc(vt.current)},!0)}function e5(C,H){for(let rt of C)if(rt.contains(H))return!0;return!1}function XA(C){let H=OA(),rt=Ur.useContext(r5),vt=Ad(C),[St,Nt]=Ur.useState(()=>{if(!H&&rt!==null||Jc.isServer)return null;let X=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(X)return X;if(vt===null)return null;let B=vt.createElement("div");return B.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(B)});return Ur.useEffect(()=>{St!==null&&(vt!=null&&vt.body.contains(St)||vt==null||vt.body.appendChild(St))},[St,vt]),Ur.useEffect(()=>{H||rt!==null&&Nt(rt.current)},[rt,Nt,H]),St}let UA=Ur.Fragment;function qA(C,H){let rt=C,vt=Ur.useRef(null),St=$o(M4(E=>{vt.current=E}),H),Nt=Ad(vt),X=XA(vt),[B]=Ur.useState(()=>{var E;return Jc.isServer?null:(E=Nt==null?void 0:Nt.createElement("div"))!=null?E:null}),t=Ur.useContext(k1),x=_2();return Ua(()=>{!X||!B||X.contains(B)||(B.setAttribute("data-headlessui-portal",""),X.appendChild(B))},[X,B]),Ua(()=>{if(B&&t)return t.register(B)},[t,B]),$4(()=>{var E;!X||!B||(B instanceof Node&&X.contains(B)&&X.removeChild(B),X.childNodes.length<=0&&((E=X.parentElement)==null||E.removeChild(X)))}),x?!X||!B?null:oh.createPortal(Fa({ourProps:{ref:St},theirProps:rt,slot:{},defaultTag:UA,name:"Portal"}),B):null}let WA=Ur.Fragment,r5=Ur.createContext(null);function GA(C,H){let{target:rt,...vt}=C,St={ref:$o(H)};return Ti.createElement(r5.Provider,{value:rt},Fa({ourProps:St,theirProps:vt,defaultTag:WA,name:"Popover.Group"}))}let k1=Ur.createContext(null);function ZA(){let C=Ur.useContext(k1),H=Ur.useRef([]),rt=oa(Nt=>(H.current.push(Nt),C&&C.register(Nt),()=>vt(Nt))),vt=oa(Nt=>{let X=H.current.indexOf(Nt);X!==-1&&H.current.splice(X,1),C&&C.unregister(Nt)}),St=Ur.useMemo(()=>({register:rt,unregister:vt,portals:H}),[rt,vt,H]);return[H,Ur.useMemo(()=>function({children:Nt}){return Ti.createElement(k1.Provider,{value:St},Nt)},[St])]}let YA=Oa(qA),KA=Oa(GA),n5=Object.assign(YA,{Group:KA});var N_;let JA=(N_=Ti.startTransition)!=null?N_:function(C){C()};var QA=(C=>(C[C.Open=0]="Open",C[C.Closed=1]="Closed",C))(QA||{}),$A=(C=>(C[C.ToggleDisclosure=0]="ToggleDisclosure",C[C.CloseDisclosure=1]="CloseDisclosure",C[C.SetButtonId=2]="SetButtonId",C[C.SetPanelId=3]="SetPanelId",C[C.LinkPanel=4]="LinkPanel",C[C.UnlinkPanel=5]="UnlinkPanel",C))($A||{});let tS={0:C=>({...C,disclosureState:Ws(C.disclosureState,{0:1,1:0})}),1:C=>C.disclosureState===1?C:{...C,disclosureState:1},4(C){return C.linkedPanel===!0?C:{...C,linkedPanel:!0}},5(C){return C.linkedPanel===!1?C:{...C,linkedPanel:!1}},2(C,H){return C.buttonId===H.buttonId?C:{...C,buttonId:H.buttonId}},3(C,H){return C.panelId===H.panelId?C:{...C,panelId:H.panelId}}},R2=Ur.createContext(null);R2.displayName="DisclosureContext";function D2(C){let H=Ur.useContext(R2);if(H===null){let rt=new Error(`<${C} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(rt,D2),rt}return H}let F2=Ur.createContext(null);F2.displayName="DisclosureAPIContext";function i5(C){let H=Ur.useContext(F2);if(H===null){let rt=new Error(`<${C} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(rt,i5),rt}return H}let B2=Ur.createContext(null);B2.displayName="DisclosurePanelContext";function eS(){return Ur.useContext(B2)}function rS(C,H){return Ws(H.type,tS,C,H)}let nS=Ur.Fragment;function iS(C,H){let{defaultOpen:rt=!1,...vt}=C,St=Ur.useRef(null),Nt=$o(H,M4(r=>{St.current=r},C.as===void 0||C.as===Ur.Fragment)),X=Ur.useRef(null),B=Ur.useRef(null),t=Ur.useReducer(rS,{disclosureState:rt?0:1,linkedPanel:!1,buttonRef:B,panelRef:X,buttonId:null,panelId:null}),[{disclosureState:x,buttonId:E},i]=t,M=oa(r=>{i({type:1});let e=vp(St);if(!e||!E)return;let s=r?r instanceof HTMLElement?r:r.current instanceof HTMLElement?r.current:e.getElementById(E):e.getElementById(E);s==null||s.focus()}),m=Ur.useMemo(()=>({close:M}),[M]),d=Ur.useMemo(()=>({open:x===0,close:M}),[x,M]),v={ref:Nt};return Ti.createElement(R2.Provider,{value:t},Ti.createElement(F2.Provider,{value:m},Ti.createElement(J4,{value:Ws(x,{0:nf.Open,1:nf.Closed})},Fa({ourProps:v,theirProps:vt,slot:d,defaultTag:nS,name:"Disclosure"}))))}let aS="button";function oS(C,H){var rt,vt,St;let Nt=pl(),{id:X=`headlessui-disclosure-button-${Nt}`,...B}=C,[t,x]=D2("Disclosure.Button"),E=eS(),i=E===null?!1:E===t.panelId,M=Ur.useRef(null),m=$o(M,H,i?null:t.buttonRef),d=m4();Ur.useEffect(()=>{if(!i)return x({type:2,buttonId:X}),()=>{x({type:2,buttonId:null})}},[X,x,i]);let v=oa(c=>{var p;if(i){if(t.disclosureState===1)return;switch(c.key){case Ma.Space:case Ma.Enter:c.preventDefault(),c.stopPropagation(),x({type:0}),(p=t.buttonRef.current)==null||p.focus();break}}else switch(c.key){case Ma.Space:case Ma.Enter:c.preventDefault(),c.stopPropagation(),x({type:0});break}}),r=oa(c=>{switch(c.key){case Ma.Space:c.preventDefault();break}}),e=oa(c=>{var p;k4(c.currentTarget)||C.disabled||(i?(x({type:0}),(p=t.buttonRef.current)==null||p.focus()):x({type:0}))}),{isFocusVisible:s,focusProps:n}=pp({autoFocus:(rt=C.autoFocus)!=null?rt:!1}),{isHovered:l,hoverProps:o}=dp({isDisabled:(vt=C.disabled)!=null?vt:!1}),{pressed:h,pressProps:b}=Y0({disabled:(St=C.disabled)!=null?St:!1}),f=Ur.useMemo(()=>{var c;return{open:t.disclosureState===0,hover:l,active:h,focus:s,autofocus:(c=C.autoFocus)!=null?c:!1}},[t,l,h,s,C.autoFocus]),k=S2(C,M),a=dh(i?{ref:m,type:k,onKeyDown:v,onClick:e}:{ref:m,id:X,type:k,"aria-expanded":t.disclosureState===0,"aria-controls":t.linkedPanel?t.panelId:void 0,onKeyDown:v,onKeyUp:r,onClick:e},n,o,b);return Fa({mergeRefs:d,ourProps:a,theirProps:B,slot:f,defaultTag:aS,name:"Disclosure.Button"})}let sS="div",lS=rf.RenderStrategy|rf.Static;function uS(C,H){let rt=pl(),{id:vt=`headlessui-disclosure-panel-${rt}`,...St}=C,[Nt,X]=D2("Disclosure.Panel"),{close:B}=i5("Disclosure.Panel"),t=m4(),x=$o(H,Nt.panelRef,d=>{JA(()=>X({type:d?4:5}))});Ur.useEffect(()=>(X({type:3,panelId:vt}),()=>{X({type:3,panelId:null})}),[vt,X]);let E=K4(),i=E!==null?(E&nf.Open)===nf.Open:Nt.disclosureState===0,M=Ur.useMemo(()=>({open:Nt.disclosureState===0,close:B}),[Nt,B]),m={ref:x,id:vt};return Ti.createElement(B2.Provider,{value:Nt.panelId},Fa({mergeRefs:t,ourProps:m,theirProps:St,slot:M,defaultTag:sS,features:lS,visible:i,name:"Disclosure.Panel"}))}let cS=Oa(iS),fS=Oa(oS),hS=Oa(uS);Object.assign(cS,{Button:fS,Panel:hS});let pS="div";function dS(C,H){let rt=`headlessui-control-${pl()}`,[vt,St]=oy(),[Nt,X]=E4(),B=gp(),{disabled:t=B||!1,...x}=C,E=Ur.useMemo(()=>({disabled:t}),[t]);return Ti.createElement(y4,{value:t},Ti.createElement(St,{value:vt},Ti.createElement(X,{value:Nt},Ti.createElement(RM,{id:rt},Fa({ourProps:{ref:H,disabled:t,"aria-disabled":t||void 0},theirProps:{...x,children:Ti.createElement(OM,null,x.children)},slot:E,defaultTag:pS,name:"Field"})))))}Oa(dS);let vS="div";function gS(C,H){let rt=gp(),{disabled:vt=rt||!1,...St}=C,[Nt,X]=oy(),B=Ur.useMemo(()=>({disabled:vt}),[vt]);return Ti.createElement(y4,{value:vt},Ti.createElement(X,null,Fa({ourProps:{ref:H,role:"group","aria-labelledby":Nt,"aria-disabled":vt||void 0},theirProps:St,slot:B,defaultTag:vS,name:"Fieldset"})))}Oa(gS);let yS="input";function mS(C,H){var rt;let vt=pl(),St=w2(),Nt=gp(),{id:X=St||`headlessui-input-${vt}`,disabled:B=Nt||!1,invalid:t=!1,...x}=C,E=T2(),i=S4(),{isFocusVisible:M,focusProps:m}=pp({isTextInput:!0,autoFocus:(rt=C.autoFocus)!=null?rt:!1}),{isHovered:d,hoverProps:v}=dp({isDisabled:B??!1}),r=dh({ref:H,id:X,"aria-labelledby":E,"aria-describedby":i,"aria-invalid":t?"":void 0,disabled:B||void 0},m,v),e=Ur.useMemo(()=>{var s;return{disabled:B,invalid:t,hover:d,focus:M,autofocus:(s=C.autoFocus)!=null?s:!1}},[B,t,d,M,C.autoFocus]);return Fa({ourProps:r,theirProps:x,slot:e,defaultTag:yS,name:"Input"})}let xS=Oa(mS);function bS(C,H){return Ti.createElement(XM,{as:"div",ref:H,...C})}Oa(bS);function _S(C,H=!0){let rt=Ur.useRef({left:0,top:0});if(Ua(()=>{let St=C.current;if(!St)return;let Nt=St.getBoundingClientRect();Nt&&(rt.current=Nt)},[H]),C.current==null||!H||C.current===document.activeElement)return!1;let vt=C.current.getBoundingClientRect();return vt.top!==rt.current.top||vt.left!==rt.current.left}function j_(C){if(C===null)return{width:0,height:0};let{width:H,height:rt}=C.getBoundingClientRect();return{width:H,height:rt}}function wS(C,H=!1){let[rt,vt]=Ur.useState(()=>j_(C.current));return Ua(()=>{let St=C.current;if(!St)return;let Nt=new ResizeObserver(()=>{vt(j_(St))});return Nt.observe(St),()=>{Nt.disconnect()}},[C]),H?{width:`${rt.width}px`,height:`${rt.height}px`}:rt}let H_=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function V_(C){var H,rt;let vt=(H=C.innerText)!=null?H:"",St=C.cloneNode(!0);if(!(St instanceof HTMLElement))return vt;let Nt=!1;for(let B of St.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))B.remove(),Nt=!0;let X=Nt?(rt=St.innerText)!=null?rt:"":vt;return H_.test(X)&&(X=X.replace(H_,"")),X}function kS(C){let H=C.getAttribute("aria-label");if(typeof H=="string")return H.trim();let rt=C.getAttribute("aria-labelledby");if(rt){let vt=rt.split(" ").map(St=>{let Nt=document.getElementById(St);if(Nt){let X=Nt.getAttribute("aria-label");return typeof X=="string"?X.trim():V_(Nt).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return V_(C).trim()}function TS(C){let H=Ur.useRef(""),rt=Ur.useRef("");return oa(()=>{let vt=C.current;if(!vt)return"";let St=vt.innerText;if(H.current===St)return rt.current;let Nt=kS(vt).trim().toLowerCase();return H.current=St,rt.current=Nt,Nt})}function MS(C,H,rt=()=>[document.body]){PA(C,H,vt=>{var St;return{containers:[...(St=vt.containers)!=null?St:[],rt]}})}var a5=(C=>(C[C.None=0]="None",C[C.Inert=1]="Inert",C[C.ScrollLock=2]="ScrollLock",C[C.FocusTrap=4]="FocusTrap",C[C.All=7]="All",C))(a5||{});let AS="div",SS=rf.RenderStrategy|rf.Static;function ES(C,H){let rt=pl(),{id:vt=`headlessui-modal-${rt}`,initialFocus:St,role:Nt="dialog",features:X=7,enabled:B=!0,focusTrapFeatures:t=Dg.All,...x}=C;B||(X=0);let E=Ur.useRef(!1);Nt=function(){return Nt==="dialog"||Nt==="alertdialog"?Nt:(E.current||(E.current=!0,console.warn(`Invalid role [${Nt}] passed to <Modal />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let i=Ur.useRef(null),M=$o(i,H),m=Ad(i),[d,v]=ZA(),r={get current(){return i.current}},{resolveContainers:e,mainTreeNodeRef:s,MainTreeNode:n}=IA({portals:d,defaultContainers:[r]}),l=Ur.useCallback(()=>{var f,k;return(k=Array.from((f=m==null?void 0:m.querySelectorAll("body > *"))!=null?f:[]).find(a=>a.id==="headlessui-portal-root"?!1:a.contains(s.current)&&a instanceof HTMLElement))!=null?k:null},[s]);F_(l,!!(X&1));let o=Ur.useCallback(()=>{var f,k;return(k=Array.from((f=m==null?void 0:m.querySelectorAll("[data-headlessui-portal]"))!=null?f:[]).find(a=>a.contains(s.current)&&a instanceof HTMLElement))!=null?k:null},[s]);F_(o,!!(X&1)),MS(m,!!(X&2),e);let h=Ur.useMemo(()=>({}),[]),b={ref:M,id:vt,role:Nt,"aria-modal":B||void 0};return Ti.createElement(Ti.Fragment,null,Ti.createElement(B_,{force:!0},Ti.createElement(n5,null,Ti.createElement(BA,{initialFocus:St,containers:e,features:X&4?t:Dg.None},Ti.createElement(B_,{force:!1},Ti.createElement(v,null,Fa({ourProps:b,theirProps:x,slot:h,defaultTag:AS,features:SS,name:"Modal"})))))),Ti.createElement(zM,null,Ti.createElement(n,null)))}let LS=Oa(ES),PS=Object.assign(LS,{});var CS=(C=>(C[C.Open=0]="Open",C[C.Closed=1]="Closed",C))(CS||{}),IS=(C=>(C[C.Pointer=0]="Pointer",C[C.Other=1]="Other",C))(IS||{}),OS=(C=>(C[C.OpenMenu=0]="OpenMenu",C[C.CloseMenu=1]="CloseMenu",C[C.GoToItem=2]="GoToItem",C[C.Search=3]="Search",C[C.ClearSearch=4]="ClearSearch",C[C.RegisterItem=5]="RegisterItem",C[C.UnregisterItem=6]="UnregisterItem",C))(OS||{});function _m(C,H=rt=>rt){let rt=C.activeItemIndex!==null?C.items[C.activeItemIndex]:null,vt=Qh(H(C.items.slice()),Nt=>Nt.dataRef.current.domRef.current),St=rt?vt.indexOf(rt):null;return St===-1&&(St=null),{items:vt,activeItemIndex:St}}let zS={1(C){return C.menuState===1?C:{...C,activeItemIndex:null,menuState:1}},0(C){return C.menuState===0?C:{...C,__demoMode:!1,menuState:0}},2:(C,H)=>{var rt,vt,St,Nt,X;if(C.menuState===1)return C;let B={...C,searchQuery:"",activationTrigger:(rt=H.trigger)!=null?rt:1};if(H.focus===Es.Nothing)return{...B,activeItemIndex:null};if(H.focus===Es.Specific)return{...B,activeItemIndex:C.items.findIndex(E=>E.id===H.id)};if(H.focus===Es.Previous){let E=C.activeItemIndex;if(E!==null){let i=C.items[E].dataRef.current.domRef,M=mm(H,{resolveItems:()=>C.items,resolveActiveIndex:()=>C.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(M!==null){let m=C.items[M].dataRef.current.domRef;if(((vt=i.current)==null?void 0:vt.previousElementSibling)===m.current||((St=m.current)==null?void 0:St.previousElementSibling)===null)return{...B,activeItemIndex:M}}}}else if(H.focus===Es.Next){let E=C.activeItemIndex;if(E!==null){let i=C.items[E].dataRef.current.domRef,M=mm(H,{resolveItems:()=>C.items,resolveActiveIndex:()=>C.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(M!==null){let m=C.items[M].dataRef.current.domRef;if(((Nt=i.current)==null?void 0:Nt.nextElementSibling)===m.current||((X=m.current)==null?void 0:X.nextElementSibling)===null)return{...B,activeItemIndex:M}}}}let t=_m(C),x=mm(H,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:E=>E.id,resolveDisabled:E=>E.dataRef.current.disabled});return{...B,...t,activeItemIndex:x}},3:(C,H)=>{let rt=C.searchQuery!==""?0:1,vt=C.searchQuery+H.value.toLowerCase(),St=(C.activeItemIndex!==null?C.items.slice(C.activeItemIndex+rt).concat(C.items.slice(0,C.activeItemIndex+rt)):C.items).find(X=>{var B;return((B=X.dataRef.current.textValue)==null?void 0:B.startsWith(vt))&&!X.dataRef.current.disabled}),Nt=St?C.items.indexOf(St):-1;return Nt===-1||Nt===C.activeItemIndex?{...C,searchQuery:vt}:{...C,searchQuery:vt,activeItemIndex:Nt,activationTrigger:1}},4(C){return C.searchQuery===""?C:{...C,searchQuery:"",searchActiveItemIndex:null}},5:(C,H)=>{let rt=_m(C,vt=>[...vt,{id:H.id,dataRef:H.dataRef}]);return{...C,...rt}},6:(C,H)=>{let rt=_m(C,vt=>{let St=vt.findIndex(Nt=>Nt.id===H.id);return St!==-1&&vt.splice(St,1),vt});return{...C,...rt,activationTrigger:1}}},N2=Ur.createContext(null);N2.displayName="MenuContext";function uy(C){let H=Ur.useContext(N2);if(H===null){let rt=new Error(`<${C} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(rt,uy),rt}return H}function RS(C,H){return Ws(H.type,zS,C,H)}let DS=Ur.Fragment;function FS(C,H){let{__demoMode:rt=!1,...vt}=C,St=Ur.useReducer(RS,{__demoMode:rt,menuState:rt?0:1,buttonRef:Ur.createRef(),itemsRef:Ur.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:Nt,itemsRef:X,buttonRef:B},t]=St,x=$o(H);$M([B,X],(m,d)=>{var v;t({type:1}),A2(d,M2.Loose)||(m.preventDefault(),(v=B.current)==null||v.focus())},Nt===0);let E=oa(()=>{t({type:1})}),i=Ur.useMemo(()=>({open:Nt===0,close:E}),[Nt,E]),M={ref:x};return Ti.createElement(iA,null,Ti.createElement(N2.Provider,{value:St},Ti.createElement(J4,{value:Ws(Nt,{0:nf.Open,1:nf.Closed})},Fa({ourProps:M,theirProps:vt,slot:i,defaultTag:DS,name:"Menu"}))))}let BS="button";function NS(C,H){var rt,vt,St,Nt;let X=pl(),{id:B=`headlessui-menu-button-${X}`,...t}=C,[x,E]=uy("Menu.Button"),i=eA(),M=$o(x.buttonRef,H,tA()),m=Z0(),d=oa(k=>{switch(k.key){case Ma.Space:case Ma.Enter:case Ma.ArrowDown:k.preventDefault(),k.stopPropagation(),E({type:0}),m.nextFrame(()=>E({type:2,focus:Es.First}));break;case Ma.ArrowUp:k.preventDefault(),k.stopPropagation(),E({type:0}),m.nextFrame(()=>E({type:2,focus:Es.Last}));break}}),v=oa(k=>{switch(k.key){case Ma.Space:k.preventDefault();break}}),r=oa(k=>{if(k4(k.currentTarget))return k.preventDefault();C.disabled||(x.menuState===0?(E({type:1}),m.nextFrame(()=>{var a;return(a=x.buttonRef.current)==null?void 0:a.focus({preventScroll:!0})})):(k.preventDefault(),E({type:0})))}),{isFocusVisible:e,focusProps:s}=pp({autoFocus:(rt=C.autoFocus)!=null?rt:!1}),{isHovered:n,hoverProps:l}=dp({isDisabled:(vt=C.disabled)!=null?vt:!1}),{pressed:o,pressProps:h}=Y0({disabled:(St=C.disabled)!=null?St:!1}),b=Ur.useMemo(()=>{var k;return{open:x.menuState===0,active:o||x.menuState===0,hover:n,focus:e,autofocus:(k=C.autoFocus)!=null?k:!1}},[x,n,e,o,C.autoFocus]),f=dh(i(),{ref:M,id:B,type:S2(C,x.buttonRef),"aria-haspopup":"menu","aria-controls":(Nt=x.itemsRef.current)==null?void 0:Nt.id,"aria-expanded":x.menuState===0,onKeyDown:d,onKeyUp:v,onClick:r},s,l,h);return Fa({ourProps:f,theirProps:t,slot:b,defaultTag:BS,name:"Menu.Button"})}let jS="div",HS=rf.RenderStrategy|rf.Static;function VS(C,H){var rt,vt;let St=pl(),{id:Nt=`headlessui-menu-items-${St}`,anchor:X,modal:B,...t}=C,[x,E]=uy("Menu.Items"),[i,M]=nA(X),m=rA(),d=$o(x.itemsRef,H,X?i:null),v=Ad(x.itemsRef);X!=null&&B==null?B=!0:B==null&&(B=!1);let r=Z0(),e=K4(),s=e!==null?(e&nf.Open)===nf.Open:x.menuState===0,n=_S(x.buttonRef,x.menuState!==0)?!1:s;Ur.useEffect(()=>{let a=x.itemsRef.current;a&&x.menuState===0&&a!==(v==null?void 0:v.activeElement)&&a.focus({preventScroll:!0})},[x.menuState,x.itemsRef,v]),e9({container:x.itemsRef.current,enabled:x.menuState===0,accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});let l=oa(a=>{var c,p;switch(r.dispose(),a.key){case Ma.Space:if(x.searchQuery!=="")return a.preventDefault(),a.stopPropagation(),E({type:3,value:a.key});case Ma.Enter:if(a.preventDefault(),a.stopPropagation(),E({type:1}),x.activeItemIndex!==null){let{dataRef:w}=x.items[x.activeItemIndex];(p=(c=w.current)==null?void 0:c.domRef.current)==null||p.click()}P4(x.buttonRef.current);break;case Ma.ArrowDown:return a.preventDefault(),a.stopPropagation(),E({type:2,focus:Es.Next});case Ma.ArrowUp:return a.preventDefault(),a.stopPropagation(),E({type:2,focus:Es.Previous});case Ma.Home:case Ma.PageUp:return a.preventDefault(),a.stopPropagation(),E({type:2,focus:Es.First});case Ma.End:case Ma.PageDown:return a.preventDefault(),a.stopPropagation(),E({type:2,focus:Es.Last});case Ma.Escape:a.preventDefault(),a.stopPropagation(),E({type:1}),sh().nextFrame(()=>{var w;return(w=x.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case Ma.Tab:a.preventDefault(),a.stopPropagation(),E({type:1}),sh().microTask(()=>{KM(x.buttonRef.current,a.shiftKey?Ao.Previous:Ao.Next)});break;default:a.key.length===1&&(E({type:3,value:a.key}),r.setTimeout(()=>E({type:4}),350));break}}),o=oa(a=>{switch(a.key){case Ma.Space:a.preventDefault();break}}),h=Ur.useMemo(()=>({open:x.menuState===0}),[x]),b=dh(X?m():{},{"aria-activedescendant":x.activeItemIndex===null||(rt=x.items[x.activeItemIndex])==null?void 0:rt.id,"aria-labelledby":(vt=x.buttonRef.current)==null?void 0:vt.id,id:Nt,onKeyDown:l,onKeyUp:o,role:"menu",tabIndex:0,ref:d,style:{...M,"--button-width":wS(x.buttonRef,!0).width}}),f=B?PS:X?n5:Ur.Fragment,k=B?{features:a5.ScrollLock,enabled:x.menuState===0}:{};return Ti.createElement(f,{...k},Fa({ourProps:b,theirProps:t,slot:h,defaultTag:jS,features:HS,visible:n,name:"Menu.Items"}))}let XS=Ur.Fragment;function US(C,H){let rt=pl(),{id:vt=`headlessui-menu-item-${rt}`,disabled:St=!1,...Nt}=C,[X,B]=uy("Menu.Item"),t=X.activeItemIndex!==null?X.items[X.activeItemIndex].id===vt:!1,x=Ur.useRef(null),E=$o(H,x);Ua(()=>{if(X.__demoMode||X.menuState!==0||!t||X.activationTrigger===0)return;let k=sh();return k.requestAnimationFrame(()=>{var a,c;(c=(a=x.current)==null?void 0:a.scrollIntoView)==null||c.call(a,{block:"nearest"})}),k.dispose},[X.__demoMode,x,t,X.menuState,X.activationTrigger,X.activeItemIndex]);let i=TS(x),M=Ur.useRef({disabled:St,domRef:x,get textValue(){return i()}});Ua(()=>{M.current.disabled=St},[M,St]),Ua(()=>(B({type:5,id:vt,dataRef:M}),()=>B({type:6,id:vt})),[M,vt]);let m=oa(()=>{B({type:1})}),d=oa(k=>{if(St)return k.preventDefault();B({type:1}),P4(X.buttonRef.current)}),v=oa(()=>{if(St)return B({type:2,focus:Es.Nothing});B({type:2,focus:Es.Specific,id:vt})}),r=t9(),e=oa(k=>{r.update(k),!St&&(t||B({type:2,focus:Es.Specific,id:vt,trigger:0}))}),s=oa(k=>{r.wasMoved(k)&&(St||t||B({type:2,focus:Es.Specific,id:vt,trigger:0}))}),n=oa(k=>{r.wasMoved(k)&&(St||t&&B({type:2,focus:Es.Nothing}))}),[l,o]=oy(),[h,b]=E4(),f=Ur.useMemo(()=>({active:t,focus:t,disabled:St,close:m}),[t,St,m]);return Ti.createElement(o,null,Ti.createElement(b,null,Fa({ourProps:{id:vt,ref:E,role:"menuitem",tabIndex:St===!0?void 0:-1,"aria-disabled":St===!0?!0:void 0,"aria-labelledby":l,"aria-describedby":h,disabled:void 0,onClick:d,onFocus:v,onPointerEnter:e,onMouseEnter:e,onPointerMove:s,onMouseMove:s,onPointerLeave:n,onMouseLeave:n},theirProps:Nt,slot:f,defaultTag:XS,name:"Menu.Item"})))}let qS="div";function WS(C,H){let[rt,vt]=oy();return Ti.createElement(vt,null,Fa({ourProps:{ref:H,"aria-labelledby":rt,role:"group"},theirProps:C,slot:{},defaultTag:qS,name:"Menu.Section"}))}let GS="header";function ZS(C,H){let rt=pl(),{id:vt=`headlessui-menu-heading-${rt}`,...St}=C,Nt=k2();Ua(()=>Nt.register(vt),[vt,Nt.register]);let X={id:vt,ref:H,role:"presentation",...Nt.props};return Fa({ourProps:X,theirProps:St,slot:{},defaultTag:GS,name:"Menu.Heading"})}let YS="div";function KS(C,H){return Fa({ourProps:{ref:H,role:"separator"},theirProps:C,slot:{},defaultTag:YS,name:"Menu.Separator"})}let JS=Oa(FS),QS=Oa(NS),$S=Oa(VS),tE=Oa(US),eE=Oa(WS),rE=Oa(ZS),nE=Oa(KS),wm=Object.assign(JS,{Button:QS,Items:$S,Item:tE,Section:eE,Heading:rE,Separator:nE});function iE({onFocus:C}){let[H,rt]=Ur.useState(!0),vt=z2();return H?Ti.createElement(xd,{as:"button",type:"button",features:md.Focusable,onFocus:St=>{St.preventDefault();let Nt,X=50;function B(){if(X--<=0){Nt&&cancelAnimationFrame(Nt);return}if(C()){if(cancelAnimationFrame(Nt),!vt.current)return;rt(!1);return}Nt=requestAnimationFrame(B)}Nt=requestAnimationFrame(B)}}):null}const o5=Ur.createContext(null);function aE(){return{groups:new Map,get(C,H){var rt;let vt=this.groups.get(C);vt||(vt=new Map,this.groups.set(C,vt));let St=(rt=vt.get(H))!=null?rt:0;vt.set(H,St+1);let Nt=Array.from(vt.keys()).indexOf(H);function X(){let B=vt.get(H);B>1?vt.set(H,B-1):vt.delete(H)}return[Nt,X]}}}function oE({children:C}){let H=Ur.useRef(aE());return Ur.createElement(o5.Provider,{value:H},C)}function s5(C){let H=Ur.useContext(o5);if(!H)throw new Error("You must wrap your component in a <StableCollection>");let rt=sE(),[vt,St]=H.current.get(C,rt);return Ur.useEffect(()=>St,[]),vt}function sE(){var C,H,rt;let vt=(rt=(H=(C=Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:C.ReactCurrentOwner)==null?void 0:H.current)!=null?rt:null;if(!vt)return Symbol();let St=[],Nt=vt;for(;Nt;)St.push(Nt.index),Nt=Nt.return;return"$."+St.join(".")}var lE=(C=>(C[C.Forwards=0]="Forwards",C[C.Backwards=1]="Backwards",C))(lE||{}),uE=(C=>(C[C.Less=-1]="Less",C[C.Equal=0]="Equal",C[C.Greater=1]="Greater",C))(uE||{}),cE=(C=>(C[C.SetSelectedIndex=0]="SetSelectedIndex",C[C.RegisterTab=1]="RegisterTab",C[C.UnregisterTab=2]="UnregisterTab",C[C.RegisterPanel=3]="RegisterPanel",C[C.UnregisterPanel=4]="UnregisterPanel",C))(cE||{});let fE={0(C,H){var rt;let vt=Qh(C.tabs,E=>E.current),St=Qh(C.panels,E=>E.current),Nt=vt.filter(E=>{var i;return!((i=E.current)!=null&&i.hasAttribute("disabled"))}),X={...C,tabs:vt,panels:St};if(H.index<0||H.index>vt.length-1){let E=Ws(Math.sign(H.index-C.selectedIndex),{[-1]:()=>1,0:()=>Ws(Math.sign(H.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(Nt.length===0)return X;let i=Ws(E,{0:()=>vt.indexOf(Nt[0]),1:()=>vt.indexOf(Nt[Nt.length-1])});return{...X,selectedIndex:i===-1?C.selectedIndex:i}}let B=vt.slice(0,H.index),t=[...vt.slice(H.index),...B].find(E=>Nt.includes(E));if(!t)return X;let x=(rt=vt.indexOf(t))!=null?rt:C.selectedIndex;return x===-1&&(x=C.selectedIndex),{...X,selectedIndex:x}},1(C,H){var rt;if(C.tabs.includes(H.tab))return C;let vt=C.tabs[C.selectedIndex],St=Qh([...C.tabs,H.tab],X=>X.current),Nt=(rt=St.indexOf(vt))!=null?rt:C.selectedIndex;return Nt===-1&&(Nt=C.selectedIndex),{...C,tabs:St,selectedIndex:Nt}},2(C,H){return{...C,tabs:C.tabs.filter(rt=>rt!==H.tab)}},3(C,H){return C.panels.includes(H.panel)?C:{...C,panels:Qh([...C.panels,H.panel],rt=>rt.current)}},4(C,H){return{...C,panels:C.panels.filter(rt=>rt!==H.panel)}}},j2=Ur.createContext(null);j2.displayName="TabsDataContext";function wd(C){let H=Ur.useContext(j2);if(H===null){let rt=new Error(`<${C} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(rt,wd),rt}return H}let H2=Ur.createContext(null);H2.displayName="TabsActionsContext";function V2(C){let H=Ur.useContext(H2);if(H===null){let rt=new Error(`<${C} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(rt,V2),rt}return H}function hE(C,H){return Ws(H.type,fE,C,H)}let pE=Ur.Fragment;function dE(C,H){let{defaultIndex:rt=0,vertical:vt=!1,manual:St=!1,onChange:Nt,selectedIndex:X=null,...B}=C;const t=vt?"vertical":"horizontal",x=St?"manual":"auto";let E=X!==null,i=$o(H),[M,m]=Ur.useReducer(hE,{selectedIndex:X??rt,tabs:[],panels:[]}),d=Ur.useMemo(()=>({selectedIndex:M.selectedIndex}),[M.selectedIndex]),v=rp(Nt||(()=>{})),r=rp(M.tabs),e=Ur.useMemo(()=>({orientation:t,activation:x,...M}),[t,x,M]),s=oa(f=>(m({type:1,tab:f}),()=>m({type:2,tab:f}))),n=oa(f=>(m({type:3,panel:f}),()=>m({type:4,panel:f}))),l=oa(f=>{o.current!==f&&v.current(f),E||m({type:0,index:f})}),o=rp(E?C.selectedIndex:M.selectedIndex),h=Ur.useMemo(()=>({registerTab:s,registerPanel:n,change:l}),[]);Ua(()=>{m({type:0,index:X??rt})},[X]),Ua(()=>{if(o.current===void 0||M.tabs.length<=0)return;let f=Qh(M.tabs,k=>k.current);f.some((k,a)=>M.tabs[a]!==k)&&l(f.indexOf(M.tabs[o.current]))});let b={ref:i};return Ti.createElement(oE,null,Ti.createElement(H2.Provider,{value:h},Ti.createElement(j2.Provider,{value:e},e.tabs.length<=0&&Ti.createElement(iE,{onFocus:()=>{var f,k;for(let a of r.current)if(((f=a.current)==null?void 0:f.tabIndex)===0)return(k=a.current)==null||k.focus(),!0;return!1}}),Fa({ourProps:b,theirProps:B,slot:d,defaultTag:pE,name:"Tabs"}))))}let vE="div";function gE(C,H){let{orientation:rt,selectedIndex:vt}=wd("Tab.List"),St=$o(H),Nt=Ur.useMemo(()=>({selectedIndex:vt}),[vt]);return Fa({ourProps:{ref:St,role:"tablist","aria-orientation":rt},theirProps:C,slot:Nt,defaultTag:vE,name:"Tabs.List"})}let yE="button";function mE(C,H){var rt,vt,St,Nt,X;let B=pl(),{id:t=`headlessui-tabs-tab-${B}`,...x}=C,{orientation:E,activation:i,selectedIndex:M,tabs:m,panels:d}=wd("Tab"),v=V2("Tab"),r=wd("Tab"),e=Ur.useRef(null),s=$o(e,H);Ua(()=>v.registerTab(e),[v,e]);let n=s5("tabs"),l=m.indexOf(e);l===-1&&(l=n);let o=l===M,h=oa(g=>{var L;let A=g();if(A===Jh.Success&&i==="auto"){let R=(L=vp(e))==null?void 0:L.activeElement,O=r.tabs.findIndex(N=>N.current===R);O!==-1&&v.change(O)}return A}),b=oa(g=>{let L=m.map(A=>A.current).filter(Boolean);if(g.key===Ma.Space||g.key===Ma.Enter){g.preventDefault(),g.stopPropagation(),v.change(l);return}switch(g.key){case Ma.Home:case Ma.PageUp:return g.preventDefault(),g.stopPropagation(),h(()=>au(L,Ao.First));case Ma.End:case Ma.PageDown:return g.preventDefault(),g.stopPropagation(),h(()=>au(L,Ao.Last))}if(h(()=>Ws(E,{vertical(){return g.key===Ma.ArrowUp?au(L,Ao.Previous|Ao.WrapAround):g.key===Ma.ArrowDown?au(L,Ao.Next|Ao.WrapAround):Jh.Error},horizontal(){return g.key===Ma.ArrowLeft?au(L,Ao.Previous|Ao.WrapAround):g.key===Ma.ArrowRight?au(L,Ao.Next|Ao.WrapAround):Jh.Error}}))===Jh.Success)return g.preventDefault()}),f=Ur.useRef(!1),k=oa(()=>{var g;f.current||(f.current=!0,(g=e.current)==null||g.focus({preventScroll:!0}),v.change(l),G0(()=>{f.current=!1}))}),a=oa(g=>{g.preventDefault()}),{isFocusVisible:c,focusProps:p}=pp({autoFocus:(rt=C.autoFocus)!=null?rt:!1}),{isHovered:w,hoverProps:S}=dp({isDisabled:(vt=C.disabled)!=null?vt:!1}),{pressed:_,pressProps:T}=Y0({disabled:(St=C.disabled)!=null?St:!1}),P=Ur.useMemo(()=>{var g;return{selected:o,hover:w,active:_,focus:c,autofocus:(g=C.autoFocus)!=null?g:!1}},[o,w,c,_,C.autoFocus]),u=dh({ref:s,onKeyDown:b,onMouseDown:a,onClick:k,id:t,role:"tab",type:S2(C,e),"aria-controls":(X=(Nt=d[l])==null?void 0:Nt.current)==null?void 0:X.id,"aria-selected":o,tabIndex:o?0:-1},p,S,T);return Fa({ourProps:u,theirProps:x,slot:P,defaultTag:yE,name:"Tabs.Tab"})}let xE="div";function bE(C,H){let{selectedIndex:rt}=wd("Tab.Panels"),vt=$o(H),St=Ur.useMemo(()=>({selectedIndex:rt}),[rt]);return Fa({ourProps:{ref:vt},theirProps:C,slot:St,defaultTag:xE,name:"Tabs.Panels"})}let _E="div",wE=rf.RenderStrategy|rf.Static;function kE(C,H){var rt,vt,St,Nt;let X=pl(),{id:B=`headlessui-tabs-panel-${X}`,tabIndex:t=0,...x}=C,{selectedIndex:E,tabs:i,panels:M}=wd("Tab.Panel"),m=V2("Tab.Panel"),d=Ur.useRef(null),v=$o(d,H);Ua(()=>m.registerPanel(d),[m,d]);let r=s5("panels"),e=M.indexOf(d);e===-1&&(e=r);let s=e===E,n=Ur.useMemo(()=>({selected:s}),[s]),l={ref:v,id:B,role:"tabpanel","aria-labelledby":(vt=(rt=i[e])==null?void 0:rt.current)==null?void 0:vt.id,tabIndex:s?t:-1};return!s&&((St=x.unmount)==null||St)&&!((Nt=x.static)!=null&&Nt)?Ti.createElement(xd,{as:"span","aria-hidden":"true",...l}):Fa({ourProps:l,theirProps:x,slot:n,defaultTag:_E,features:wE,visible:s,name:"Tabs.Panel"})}let TE=Oa(mE),ME=Oa(dE),AE=Oa(gE),SE=Oa(bE),EE=Oa(kE);Object.assign(TE,{Group:ME,List:AE,Panels:SE,Panel:EE});let LE="textarea";function PE(C,H){var rt;let vt=pl(),St=w2(),Nt=gp(),{id:X=St||`headlessui-textarea-${vt}`,disabled:B=Nt||!1,invalid:t=!1,...x}=C,E=T2(),i=S4(),{isFocusVisible:M,focusProps:m}=pp({autoFocus:(rt=C.autoFocus)!=null?rt:!1}),{isHovered:d,hoverProps:v}=dp({isDisabled:B??!1}),r=dh({ref:H,id:X,"aria-labelledby":E,"aria-describedby":i,"aria-invalid":t?"":void 0,disabled:B||void 0},m,v),e=Ur.useMemo(()=>{var s;return{disabled:B,invalid:t,hover:d,focus:M,autofocus:(s=C.autoFocus)!=null?s:!1}},[B,t,d,M,C.autoFocus]);return Fa({ourProps:r,theirProps:x,slot:e,defaultTag:LE,name:"Textarea"})}let CE=Oa(PE);const l5=Ti.forwardRef(function(C,H){return On.jsx(fA,{children:On.jsx("a",{...C,ref:H})})});function X_({className:C,...H}){return On.jsx("p",{...H,"data-slot":"text",className:cu("gw-text-sm/6 gw-text-zinc-500 md:gw-text-base/6 dark:gw-text-zinc-400",C)})}Ur.createContext({bleed:!1,dense:!1,grid:!1,striped:!1});Ur.createContext({href:void 0,target:void 0,title:void 0});const IE=(...C)=>C.filter(Boolean).join(" ");function OE({link:C,...H}){const[rt,vt]=Ur.useState(!1),St=IE("gw-inline-block gw-relative gw-h-12 gw-inline-flex gw-w-auto gw-justify-center gw-items-center gw-px-3 gw-text-sm gw-text-nowrap",rt?"gw-bg-nav-dark-gray gw-text-white":"gw-text-nav-light-gray",C.children?"after:gw-content-['▼'] after:gw-text-[10px] after:gw-ml-2":"");return On.jsxs(wm,{as:"li",className:"gw-relative",onMouseOver:()=>vt(!0),onMouseLeave:()=>vt(!1),children:[On.jsx("a",{href:C.href,className:St,...H,children:C.text}),C.children&&rt&&On.jsx(wm.Items,{static:!0,as:"ul",className:"gw-absolute gw-left-0 gw-top-13 gw-width-auto gw-bg-nav-dark-gray",children:C.children.map(Nt=>On.jsx(wm.Item,{as:Ur.Fragment,children:On.jsx("a",{href:Nt.href,className:"gw-block gw-text-sm gw-border-b gw-border-nav-black gw-bg-nav-dark-gray gw-hover:gw-bg-nav-translucent-gray gw-text-nav-light-gray gw-hover:gw-text-white gw-text-nowrap gw-font-semibold gw-px-[16px] gw-py-[8px] gw-bg-none",children:Nt.text})},Nt.id||Nt.text))})]})}function zE({links:C,...H}){return On.jsx("ul",{role:"list",className:"gw-flex gw-flex-row gw-flex-wrap gw-justify-start gw-m-0 gw-pl-0 gw-w-full",...H,children:C.map(rt=>On.jsx(OE,{link:rt},rt.id||rt.text))})}const RE=({links:C=[]})=>On.jsx("div",{className:"gw-hidden md:gw-flex gw-flex-row gw-content-center gw-justify-between gw-w-full gw-pr-3",children:On.jsx(zE,{links:C})});var u5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U_=Ti.createContext&&Ti.createContext(u5),DE=["attr","size","title"];function FE(C,H){if(C==null)return{};var rt=BE(C,H),vt,St;if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(C);for(St=0;St<Nt.length;St++)vt=Nt[St],!(H.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(C,vt)&&(rt[vt]=C[vt])}return rt}function BE(C,H){if(C==null)return{};var rt={},vt=Object.keys(C),St,Nt;for(Nt=0;Nt<vt.length;Nt++)St=vt[Nt],!(H.indexOf(St)>=0)&&(rt[St]=C[St]);return rt}function Fg(){return Fg=Object.assign?Object.assign.bind():function(C){for(var H=1;H<arguments.length;H++){var rt=arguments[H];for(var vt in rt)Object.prototype.hasOwnProperty.call(rt,vt)&&(C[vt]=rt[vt])}return C},Fg.apply(this,arguments)}function q_(C,H){var rt=Object.keys(C);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(C);H&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor(C,St).enumerable})),rt.push.apply(rt,vt)}return rt}function Bg(C){for(var H=1;H<arguments.length;H++){var rt=arguments[H]!=null?arguments[H]:{};H%2?q_(Object(rt),!0).forEach(function(vt){NE(C,vt,rt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(rt)):q_(Object(rt)).forEach(function(vt){Object.defineProperty(C,vt,Object.getOwnPropertyDescriptor(rt,vt))})}return C}function NE(C,H,rt){return H=jE(H),H in C?Object.defineProperty(C,H,{value:rt,enumerable:!0,configurable:!0,writable:!0}):C[H]=rt,C}function jE(C){var H=HE(C,"string");return typeof H=="symbol"?H:String(H)}function HE(C,H){if(typeof C!="object"||C===null)return C;var rt=C[Symbol.toPrimitive];if(rt!==void 0){var vt=rt.call(C,H||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(C)}function c5(C){return C&&C.map((H,rt)=>Ti.createElement(H.tag,Bg({key:rt},H.attr),c5(H.child)))}function vh(C){return H=>Ti.createElement(VE,Fg({attr:Bg({},C.attr)},H),c5(C.child))}function VE(C){var H=rt=>{var{attr:vt,size:St,title:Nt}=C,X=FE(C,DE),B=St||rt.size||"1em",t;return rt.className&&(t=rt.className),C.className&&(t=(t?t+" ":"")+C.className),Ti.createElement("svg",Fg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},rt.attr,vt,X,{className:t,style:Bg(Bg({color:C.color||rt.color},rt.style),C.style),height:B,width:B,xmlns:"http://www.w3.org/2000/svg"}),Nt&&Ti.createElement("title",null,Nt),C.children)};return U_!==void 0?Ti.createElement(U_.Consumer,null,rt=>H(rt)):H(u5)}function XE(C){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(C)}function UE(C){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM144.5 319c-35.1 0-63.5-28.4-63.5-63.5s28.4-63.5 63.5-63.5 63.5 28.4 63.5 63.5-28.4 63.5-63.5 63.5zm159 0c-35.1 0-63.5-28.4-63.5-63.5s28.4-63.5 63.5-63.5 63.5 28.4 63.5 63.5-28.4 63.5-63.5 63.5z"},child:[]}]})(C)}function qE(C){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(C)}function WE(C){return vh({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(C)}function GE(C){return vh({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M288.662 352H31.338c-17.818 0-26.741-21.543-14.142-34.142l128.662-128.662c7.81-7.81 20.474-7.81 28.284 0l128.662 128.662c12.6 12.599 3.676 34.142-14.142 34.142z"},child:[]}]})(C)}const ZE=["gw-cursor-pointer gw-relative gw-isolate gw-inline-flex gw-items-center gw-justify-center gw-gap-x-2 gw-font-semibold","data-[disabled]:gw-cursor-not-allowed data-[disabled]:gw-opacity-50"],YE={xs:"gw-px-2 gw-py-1 gw-text-xs",sm:"gw-px-3 gw-py-1.5 gw-text-sm",md:"gw-px-4 gw-py-2 gw-text-sm",lg:"gw-px-5 gw-py-3 gw-text-base",xl:"gw-px-6 gw-py-4 gw-text-lg"},KE={none:"gw-rounded-none",sm:"gw-rounded-sm",md:"gw-rounded-md",lg:"gw-rounded-lg",xl:"gw-rounded-xl"},JE={light:"gw-bg-white gw-text-usace-black gw-border gw-border-gray/60 hover:gw-bg-gray-100/80 active:gw-bg-gray-200/70",dark:"gw-bg-gray-900 gw-text-white gw-border gw-border-gray-900/90 hover:gw-bg-gray-900/90 active:gw-bg-gray-900/80",primary:"gw-bg-blue-600 gw-text-white gw-border gw-border-blue-700/90 hover:gw-bg-blue-600/90 active:gw-bg-blue-600/80",secondary:"gw-bg-gray-600 gw-text-white gw-border gw-border-gray-700/90 hover:gw-bg-gray-600/90 active:gw-bg-gray-600/80",success:"gw-bg-green-600 gw-text-white gw-border gw-border-green-600/90 hover:gw-bg-green-600/90 active:gw-bg-green-600/80",warning:"gw-bg-orange-600 gw-text-white gw-border gw-border-orange-700/90 hover:gw-bg-orange-600/90 active:gw-bg-orange-600/80",danger:"gw-bg-red-600 gw-text-white gw-border gw-border-red-700/90 hover:gw-bg-red-600/90 active:gw-bg-red-600/80",info:"gw-bg-cyan-400 gw-text-cyan-950 gw-border gw-border-cyan-500/90 hover:gw-bg-cyan-400/80 active:gw-bg-cyan-400/70",white:"gw-bg-white gw-text-usace-black gw-border gw-border-usace-black/60 hover:gw-bg-gray-100/80 active:gw-bg-gray-200/70",zinc:"gw-bg-zinc-800 gw-text-white gw-border gw-border-zinc-800/90 hover:gw-bg-zinc-800/90 active:gw-bg-zinc-800/80",indigo:"gw-bg-indigo-600 gw-text-white gw-border gw-border-indigo-700/90 hover:gw-bg-indigo-600/90 active:gw-bg-indigo-600/80",cyan:"gw-bg-cyan-400 gw-text-cyan-950 gw-border gw-border-cyan-500/90 hover:gw-bg-cyan-400/80 active:gw-bg-cyan-400/70",red:"gw-bg-red-600 gw-text-white gw-border gw-border-red-700/90 hover:gw-bg-red-600/90 active:gw-bg-red-600/80",orange:"gw-bg-orange-600 gw-text-white gw-border gw-border-orange-700/90 hover:gw-bg-orange-600/90 active:gw-bg-orange-600/80",amber:"gw-bg-amber-600 gw-text-white gw-border gw-border-amber-700/90 hover:gw-bg-amber-600/90 active:gw-bg-amber-600/80",yellow:"gw-bg-yellow-600 gw-text-white gw-border gw-border-yellow-700/90 hover:gw-bg-yellow-600/90 active:gw-bg-yellow-600/80",lime:"gw-bg-lime-600 gw-text-white gw-border gw-border-lime-700/90 hover:gw-bg-lime-600/90 active:gw-bg-lime-600/80",green:"gw-bg-green-600 gw-text-white gw-border gw-border-green-700/90 hover:gw-bg-green-600/90 active:gw-bg-green-600/80",emerald:"gw-bg-emerald-600 gw-text-white gw-border gw-border-emerald-700/90 hover:gw-bg-emerald-600/90 active:gw-bg-emerald-600/80",teal:"gw-bg-teal-600 gw-text-white gw-border gw-border-teal-700/90 hover:gw-bg-teal-600/90 active:gw-bg-teal-600/80",sky:"gw-bg-sky-600 gw-text-white gw-border gw-border-sky-700/90 hover:gw-bg-sky-600/90 active:gw-bg-sky-600/80",blue:"gw-bg-blue-600 gw-text-white gw-border gw-border-blue-700/90 hover:gw-bg-blue-600/90 active:gw-bg-blue-600/80",violet:"gw-bg-violet-600 gw-text-white gw-border gw-border-violet-700/90 hover:gw-bg-violet-600/90 active:gw-bg-violet-600/80",purple:"gw-bg-purple-600 gw-text-white gw-border gw-border-purple-700/90 hover:gw-bg-purple-600/90 active:gw-bg-purple-600/80",fuchsia:"gw-bg-fuchsia-600 gw-text-white gw-border gw-border-fuchsia-700/90 hover:gw-bg-fuchsia-600/90 active:gw-bg-fuchsia-600/80",pink:"gw-bg-pink-600 gw-text-white gw-border gw-border-pink-700/90 hover:gw-bg-pink-600/90 active:gw-bg-pink-600/80",rose:"gw-bg-rose-600 gw-text-white gw-border gw-border-rose-700/90 hover:gw-bg-rose-600/90 active:gw-bg-rose-600/80"},QE={light:"gw-bg-transparent gw-text-usace-black gw-border gw-border-gray/60 hover:gw-bg-gray-100/80 active:gw-bg-gray-200/70",dark:"gw-bg-transparent gw-text-usace-black gw-border gw-border-gray-900/90 hover:gw-bg-gray-900 hover:gw-text-white active:gw-bg-gray-200/70",primary:"gw-bg-transparent gw-text-blue-600 gw-border gw-border-blue-700/90 gw-border gw-border-blue-700/90 hover:gw-bg-blue-600/90 hover:gw-text-white active:gw-bg-blue-600/80",secondary:"gw-bg-transparent gw-text-gray-700 gw-border gw-border-gray-700/90 hover:gw-bg-gray-600/90 hover:gw-text-white active:gw-bg-gray-600/80",success:"gw-bg-transparent gw-text-green-600 gw-border gw-border-green-600/90 hover:gw-bg-green-600/90 hover:gw-text-white active:gw-bg-green-600/80",warning:"gw-bg-transparent gw-text-orange-600 gw-border gw-border-orange-700/90 hover:gw-bg-orange-600/90 hover:gw-text-white active:gw-bg-orange-600/80",danger:"gw-bg-transparent gw-text-red-600 gw-border gw-border-red-700/90 hover:gw-bg-red-600/90 hover:gw-text-white active:gw-bg-red-600/80",info:"gw-bg-transparent gw-text-cyan-400 gw-text-cyan-950 gw-border gw-border-cyan-500/90 hover:gw-bg-cyan-400/80 hover:gw-text-white active:gw-bg-cyan-400/70",white:"gw-bg-transparent gw-text-white gw-border gw-border-white hover:gw-bg-gray-100/80  active:gw-bg-gray-200/70",zinc:"gw-bg-transparent gw-text-zinc-800 gw-border gw-border-zinc-800/90 hover:gw-bg-zinc-800/90 hover:gw-text-white active:gw-bg-zinc-800/80",indigo:"gw-bg-transparent gw-text-indigo-600 gw-border gw-border-indigo-700/90 hover:gw-bg-indigo-600/90 hover:gw-text-white active:gw-bg-indigo-600/80",cyan:"gw-bg-transparent gw-text-cyan-400 gw-text-cyan-950 gw-border gw-border-cyan-500/90 hover:gw-bg-cyan-400/80 hover:gw-text-white active:gw-bg-cyan-400/70",red:"gw-bg-transparent gw-text-red-600 gw-border gw-border-red-700/90 hover:gw-bg-red-600/90 hover:gw-text-white active:gw-bg-red-600/80",orange:"gw-bg-transparent gw-text-orange-600 gw-border gw-border-orange-700/90 hover:gw-bg-orange-600/90 hover:gw-text-white active:gw-bg-orange-600/80",amber:"gw-bg-transparent gw-text-amber-600 gw-border gw-border-amber-700/90 hover:gw-bg-amber-600/90 hover:gw-text-white active:gw-bg-amber-600/80",yellow:"gw-bg-transparent gw-text-yellow-600 gw-border gw-border-yellow-700/90 hover:gw-bg-yellow-600/90 hover:gw-text-white active:gw-bg-yellow-600/80",lime:"gw-bg-transparent gw-text-lime-600 gw-border gw-border-lime-700/90 hover:gw-bg-lime-600/90 hover:gw-text-white active:gw-bg-lime-600/80",green:"gw-bg-transparent gw-text-green-600 gw-border gw-border-green-700/90 hover:gw-bg-green-600/90 hover:gw-text-white active:gw-bg-green-600/80",emerald:"gw-bg-transparent gw-text-emerald-600 gw-border gw-border-emerald-700/90 hover:gw-bg-emerald-600/90 hover:gw-text-white active:gw-bg-emerald-600/80",teal:"gw-bg-transparent gw-text-teal-600 gw-border gw-border-teal-700/90 hover:gw-bg-teal-600/90 hover:gw-text-white active:gw-bg-teal-600/80",sky:"gw-bg-transparent gw-text-sky-600 gw-border gw-border-sky-700/90 hover:gw-bg-sky-600/90 hover:gw-text-white active:gw-bg-sky-600/80",blue:"gw-bg-transparent gw-text-blue-600 gw-border gw-border-blue-700/90 hover:gw-bg-blue-600/90 hover:gw-text-white active:gw-bg-blue-600/80",violet:"gw-bg-transparent gw-text-violet-600 gw-border gw-border-violet-700/90 hover:gw-bg-violet-600/90 hover:gw-text-white active:gw-bg-violet-600/80",purple:"gw-bg-transparent gw-text-purple-600 gw-border gw-border-purple-700/90 hover:gw-bg-purple-600/90 hover:gw-text-white active:gw-bg-purple-600/80",fuchsia:"gw-bg-transparent gw-text-fuchsia-600 gw-border gw-border-fuchsia-700/90 hover:gw-bg-fuchsia-600/90 hover:gw-text-white active:gw-bg-fuchsia-600/80",pink:"gw-bg-transparent gw-text-pink-600 gw-border gw-border-pink-700/90 hover:gw-bg-pink-600/90 hover:gw-text-white active:gw-bg-pink-600/80",rose:"gw-bg-transparent gw-text-rose-600 gw-border gw-border-rose-700/90 hover:gw-bg-rose-600/90 hover:gw-text-white active:gw-bg-rose-600/80"},$E={light:"gw-bg-transparent gw-text-gray-600",dark:"gw-bg-transparent gw-text-usace-black",primary:"gw-bg-transparent gw-text-blue-600",secondary:"gw-bg-transparent gw-text-gray-700",success:"gw-bg-transparent gw-text-green-600",warning:"gw-bg-transparent gw-text-orange-600",danger:"gw-bg-transparent gw-text-red-600",info:"gw-bg-transparent gw-text-cyan-400",white:"gw-bg-transparent gw-text-white",zinc:"gw-bg-transparent gw-text-zinc-800",indigo:"gw-bg-transparent gw-text-indigo-600",cyan:"gw-bg-transparent gw-text-cyan-400",red:"gw-bg-transparent gw-text-red-600",orange:"gw-bg-transparent gw-text-orange-600",amber:"gw-bg-transparent gw-text-amber-600",yellow:"gw-bg-transparent gw-text-yellow-600",lime:"gw-bg-transparent gw-text-lime-600",green:"gw-bg-transparent gw-text-green-600",emerald:"gw-bg-transparent gw-text-emerald-600",teal:"gw-bg-transparent gw-text-teal-600",sky:"gw-bg-transparent gw-text-sky-600",blue:"gw-bg-transparent gw-text-blue-600",violet:"gw-bg-transparent gw-text-violet-600",purple:"gw-bg-transparent gw-text-purple-600",fuchsia:"gw-bg-transparent gw-text-fuchsia-600",pink:"gw-bg-transparent gw-text-pink-600",rose:"gw-bg-transparent gw-text-rose-600"},X2=Ti.forwardRef(function({style:C="filled",color:H="primary",size:rt="md",radius:vt="sm",outline:St,plain:Nt,className:X,children:B,...t},x){let E=cu(ZE,KE[vt],YE[rt],C==="filled"?JE[H]:"",C==="outline"?QE[H]:"",C==="plain"?$E[H]:"",X);return"href"in t?On.jsx(l5,{...t,className:E,ref:x,children:On.jsx(Ng,{children:B})}):On.jsx(b4,{...t,className:cu(E,"cursor-default"),ref:x,children:On.jsx(Ng,{children:B})})});function Ng({children:C}){return On.jsxs(On.Fragment,{children:[C,On.jsx("span",{className:"gw-absolute gw-left-1/2 gw-top-1/2 gw-size-[max(gw-100%,gw-2.gw-75rem)gw-] gw--translate-x-1/2 gw--translate-y-1/2 gw-[@gw-media(gw-pointer:gw-fine)]:gw-hidden","aria-hidden":"true"})]})}function tL(C){return vh({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"},child:[]}]})(C)}function eL({link:C,close:H}){const[rt,vt]=Ur.useState(!1);return On.jsxs(On.Fragment,{children:[On.jsxs("div",{className:"gw-flex gw-justify-between gw-items-center gw-text-white gw-text-xl gw-font-semibold gw-px-4 gw-py-2",children:[On.jsx("a",{href:C.href,onClick:H,children:C.text}),On.jsx("span",{className:"gw-grow",onClick:()=>{vt(!rt)},children:On.jsx("span",{className:"gw-flex gw-justify-end",children:C.children&&(rt?On.jsx(GE,{}):On.jsx(WE,{}))})})]}),C.children&&rt?On.jsx("div",{className:"gw-pl-5",children:On.jsx(f5,{links:C.children,close:H})}):null]})}function f5({links:C,close:H}){return On.jsx("ul",{className:"gw-flex gw-flex-col",children:C.map(rt=>On.jsx(eL,{link:rt,close:H},rt.id||rt.text))})}function rL({links:C=[],onClose:H}){const rt=()=>{H&&typeof H=="function"&&H()};return On.jsxs("div",{className:"gw-fixed gw-top-0 gw-left-0 gw-h-full gw-right-0 gw-bg-nav-black gw-bg-opacity-90 gw-z-50",children:[On.jsx("div",{className:"gw-flex gw-justify-end",children:On.jsx(X2,{style:"plain",color:"white",size:"lg",onClick:rt,children:On.jsx(tL,{})})}),On.jsx("div",{className:"gw-relative  gw-h-full gw-overflow-y-auto gw-hide-scrollbar",children:On.jsx(f5,{links:C,close:rt})})]})}const h5="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20105.52%2080.94'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23DE1E2E;}.cls-2{fill:%23fff;}%3c/style%3e%3c/defs%3e%3ctitle%3eusace-logo%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3crect%20class='cls-1'%20width='105.52'%20height='80.94'%20rx='10.67'%20ry='10.67'/%3e%3cpath%20class='cls-2'%20d='M95.07,74.83H11A4.9,4.9,0,0,1,6.1,69.94V11A4.9,4.9,0,0,1,11,6.1H95.07A4.9,4.9,0,0,1,100,11v59A4.89,4.89,0,0,1,95.07,74.83ZM11,8.1A2.9,2.9,0,0,0,8.1,11v59A2.9,2.9,0,0,0,11,72.83H95.07A2.9,2.9,0,0,0,98,69.94V11A2.9,2.9,0,0,0,95.07,8.1Z'/%3e%3cpath%20class='cls-2'%20d='M84.5,52V26.42l4.12-4.12V16.42H83.69v4.33L80,20.68V16.42c0-.05-4.53,0-4.53,0v4.33H71.81V16.42c0-.06-4.87,0-4.87,0V22.3L71,26.42s.06,12.83.06,12.7-10.92,0-10.94,0,0-5.07,0-5.07l2.77-2.77V24.06c0-.14-4.12.06-4.39,0-.09,0,0,4.25,0,4.25H55.06V24.12H50.6a40.46,40.46,0,0,0,.07,4.12H46.82V24.12H42.49c-.13,0,0,7,0,7l3.11,3.11.07,4.86h-11V26.42l3.92-3.92V16.42H33.71v4.33l-3.78-.07V16.42H25.68s0,4.34,0,4.33-3.45-.07-3.78-.07V16.42s-4.93-.06-4.93,0v6.22l3.78,3.71V52.83s-3.92,3.85-3.92,4,.07,6.42.07,6.42H89V56.48ZM29.19,56.41h-3V45.74h3Zm.07-17.29h-3V28.45h3ZM41.08,53.23h-3V45.67h3ZM60.8,60.66H45.74V50.06s2.89-7.51,7.16-7.57l.13,0,.14-.15.17.17c4.65.38,7.46,7.53,7.46,7.53Zm7.29-7.36h-3V45.74h3Zm11.75,3.11h-3V45.74h3ZM80,37.9H77V27.23h3Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function nL(C){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(C)}function iL({title:C="",subtitle:H=""}){return On.jsxs("div",{style:{order:2},className:"gw-w-full gw-pl-[15px] sm:gw-pl-[100px] gw-pr-[15px] gw-py-3 sm:gw-py-0 gw-bg-nav-dark-gray sm:gw-bg-nav-gray",children:[On.jsx("span",{className:"gw-text-lg sm:gw-text-sm gw-font-semibold sm:gw-font-bold gw-text-white sm:gw-text-usace-black gw-leading-4 sm:gw-leading-normal gw-block sm:gw-inline gw-mr-1",children:C}),On.jsx("span",{className:"gw-text-md sm:gw-text-sm gw-text-white sm:gw-text-usace-black gw-font-thin sm:gw-font-normal gw-block sm:gw-inline",children:H})]})}function aL({children:C}){return On.jsx("nav",{style:{order:1},className:"gw-flex gw-flex-row gw-relative gw-justify-between gw-content-center gw-bg-nav-black gw-text-white gw-pl-[91px] gw-pr-2 gw-z-80",children:C})}function oL(){return On.jsxs("div",{className:"gw-absolute gw-left-[15px] sm:gw-bottom-[-15px] gw-w-[48px] sm:gw-w-[82px] gw-z-10",children:[On.jsx("a",{href:"/",children:On.jsx("img",{className:"gw-h-[50px] gw-w-auto",src:h5})}),On.jsx("div",{className:"gw-absolute gw-left-[50px] sm:gw-left-[65px] gw-bottom-[-3px] sm:gw-bottom-[-9px] gw-text-sm gw-text-gray-400",children:"®"})]})}function sL({links:C,title:H,subtitle:rt,navRight:vt}){const[St,Nt]=Ur.useState(!1);return On.jsxs(On.Fragment,{children:[On.jsxs("header",{className:"gw-flex gw-flex-col gw-w-full gw-sticky gw-top-0 gw-z-20",children:[On.jsx(iL,{title:H,subtitle:rt}),On.jsxs(aL,{children:[On.jsx(oL,{}),On.jsx(RE,{links:C}),On.jsx("span",{className:"gw-flex gw-flex-row-reverse gw-justify-end gw-items-center gw-w-full md:gw-max-w-[300px] gw-mr-2",children:vt||null}),On.jsx(X2,{style:"plain",color:"white",className:"md:gw-hidden",onClick:()=>{Nt(!0)},children:On.jsx(nL,{})})]})]}),St?On.jsx(rL,{links:C,onClose:()=>{Nt(!1)}}):null]})}const lL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAAB9CAMAAABNoBenAAACQFBMVEUAAAAuLy4yMzEqKyk2NjUvMC4sLSoxMTAxMjE0NDMiIiAzMzInJyYxMTA1NTQ2NjUlJSM4ODcjIyEnJyY3NzYgHx0wMC8lJSQ4ODcjIyIhIh83NzcgIB4cHRsvLy4uLi03NzY4ODcqKig2NjUoKCczMzI2NjU3NzY0NjM4ODc2NjWTlZg3NzaSlJeRk5Y4ODc5OTiQkpUdHRscGxkiIR8fHxwsLCoyMzI0NTQhIB4aGhctLSwZGBanqa0yMjErKikkJCIjIyGSk5YvLy00MzIXFxWJiYyVlpgxMTApKSetr7N/foCGhog8OzqbnaAWFRMoJyYqKiivsrYrLCl8e3ygoqWTlJelqKyWmJuRkpWYmp6oqq6NjpCeoKMlJSM6Ojmxs7eLi44nJiQwMC+am56anJ+Ki42hpKh9fX+usbWHiIqqrLCCgoSho6d2dneBgYOPkJKjpamcnqKMjI9PTk6XmZyAgIGEhIarrbF0dHV5eHqIiIp4d3lAPz5zcnQTExCGhYeOj5KjpqqXl5lDQUGQkpRHRkZfXl6oq68+PTxMS0t9fH2Cg4Vvbm+rrbBFRENsa2xXVlZZWVmytblgYGF6enxJSEiUl5ptbG2rr7O1t7tRUVBjY2M4OThpaWo5ODdlZWWeoaQ3NjWlpqqYmZyTlpkNDAmEhYednqFbW1uRkZNycHFwcHEREA0CAQC6vMBYWFehoqVnZ2e+wMSOjpFTUlJdXF0ICAUxMC5VVVU6OTjAw8e3ub3Ex8zJzNLU190tu49hAAAAKnRSTlMAkluYL4L+anBH6VKqYkEkyA3SshL0eb8J3eMZ7fiiix0Dvjml7Nq9wL5TSNpkAAAZlUlEQVR42rSWBX/aWh/H5+7uriTnpBC0vcHCOmArVZoMBhOg8qGwwspt6t6yurdMoStzd3lzDxZqZ89lV35V/vY9fs6y39LWLeuObNt/U2NPSK3esGPT6vWrji/7D7R9/dqdBxSaAl1Tzbv7w976xsb6+oHw83udgkK1eMPe1euP/YuwLWv3HpLYv3W+C9dfvfjMGrJSTEyPGcrKuc1sW8XwaLeuQHF4256N+/4xa9eK5RtItb7p+avagNnIMR6/BYNQmxKEwOL3tLuNvtmrzeOTupui3ZvWbv2bqOO7jm0+IlcX/Lj3sMr53sj5bJYYCQCALVDMEOOyfk+w6LEr99Vok0pDn1+3atfv93X7GQHuuFZC+ajKdr8FwEWoJVgIp0zloUGPtbpbigsEJ3+Ptirxa89pee+fY5E2iGAhVApANTvWNYIrl6/ni2SmtQdUK1LgE/m9PjPEMhQMGB9mH9qYzN3nUBw9nhFOcrNnyM5/2tgyGQyADIGAe9iynM/cOxN2kMv/Erdxt+Jz9duL4m28YX1+Mwcz5Jk/iVfyeXv+qPvZ0aMi9/xf3MFtZHduqB2ELpEneNuOSetUaWYj6g6TfNbmC19C0UgR+11yeP2vecv/0NVz1qgQYGPeCzzxRKePBZkBQz08cF3+SMgkBNBTmTuUfWI7GrdeJB73GdkYDgPR6xPk/kTcwZawMdMh9d0i1yVKncofrfQLYyYhZuW8OdmrUefyOXVn9XV/DBcXjF7PpS9s2rxidQtuNmW6aKaCI6+PrNh8NFvx6rpJmGyEkK20fbefXrov19vv32WgNj080G3uIWgp/dnku5LxtjBRYV1xjvJeaREL0/0W2t7eMhxZ2sXd4ett87oChH7OFog6B81dGErIeYUWzgaipsH2RMt5VburNIhpXCl3uRYUAZjF7zdFhcijLPI4IkQgAea0+V2Lc4L3NqAuIXWDDyw4HkvBLw5QLbje/6iDgyhnMmd+InC5fqxEXQ+Kaeu8gTcFbaguJHyWsf6br/Xaoikh9ouIiNufzga+3ALkXtwwGuKBAHKB56VFTuSoQYZ7KCrIU9/0VpYjOgkAtF0vG2WNgVRzINUoPogC7p1kLvJzP3Zb95p+5TP6oRYsqmYu0nZnO7LwrELy82yljQ9I+zFfpe2DoeWbl2Ng0kbd1yxDaeUdkyWRDALPhhWavGIya8AZCrqiEIKEtBALMJWz43YFTggEgiy5SPrwWSVlwVIBEGKsORQUjn8j6TwD2V3riibKWUf2I4HrdB3+JJCaeJKTheNEAflt9E8TZXR7Ii6Lydwe4jyXn0vJWPcEceFZOSTdc9njDlHlEbO5PBbo66rrLSClsQCCeDJTnrhntO6abUjgZloYSQJNszPFeLwiIZUoZmqGK3JfmDzO27Xe53fEIjqFSyAfSElx3rtXFQ1d1S8aLjU/71SJxPpEAO4w3C5PjjbTuxMN1JdGAL9x1ESqE4JiDSkupOUPdNKbIolBPodLBcgNClJsoHNog5qUFDgIPBmQJRq/DhPNtzzrXPmXwLCEECQ1gxOEXE9LVTkOmYCvtgCZDKBpvZyY8+PKgrZ2bRJoavoFkIYpIOS8JLGwaEwI2MKAmfkGezcTLU0e6b7JTei3he6iPwWkKjRywT8SobgfTO1qIXdvLxJ4NM/p4oEl/xgomXCngMD6eQcSuGnIw/5rQJ29ltHywJ5DSOCOzxzkD6O+fwjE9dJcT2oFaqkBMfK9KB5PAzmviPiHQPqqOQWETJVmK4K3SzzBDwIcfLgQiOP8L4RQblypaigH6ddjzloEcIXqEz8IGDUqngPKZXK9Q0bIHXqZTJY2L3DrY279QrfmFpMar1LW03QKtWaa3vNP7CjTbcfn5l+pVBn0WUqDyvFNj1ge3xwqA03IVCpar8TnVmk9v0oxrXsEtWp2v+Ou8Fe0iShMHxmFn7//+BQZfTNk006+C6cbwrulQw87LzvDX/Nmr4xM3k+7CfE4haUEg42SXUt4xxT1FORn+bJdNsNXLLjnHfG9bSZ73jLj9cMSYhGwcKi2xzl2STEyRk1PT6enHlf3poHArJUuncQ9jikbv6zcr0QP0hUNd0JsrcXlMVn6u+5+ViwGqgSMr7ba5Xlmqbr68X52Giidcc69Z6nJpVt/Q40V42Wt0RCCuczIs1yWdbGWBowburl4SB2qrmAVCDhZZ9mLse/z2qOpYiA/ptz/KLEKv8a1LLzu7u5ad8Fp+y6SIOUFnRS2SAghFRq4oU0p8qZYWuibmdq49Remfcp2Xf62DRbrrB1cTr5+x8+p2FosKjr5pjIkZgIuxXNtlU6K22Vwgo6kHJ6WGma/1xkTsuKf2UUu2C/pWZwHmybZpt2f0c4XXUsJo1RnvDpZLLY7gyhdrk8DdvNhaz0w9653hln9bj1Md6YcSuc+ebYo2fTwWBuntldV2QAfOJ8oNP2BnVQBkmQjxezPGy5bkfjx3HAp4p8XEAFLIWSarK87zAo9L3lolRa5tF1dbD4/35y0TlxbdFFlUUPgzQJg2SSnj0GPX/xDsKd9rnvBHPR45ue7RIT5c5wmSI6K0UPdCr1H3vVNeelYG/q6JmTGTiaNpqv2lVQZztDleifLhSGsITuP2g0699b+0MDtOf9pV//pqcFt8IwWUIblYHMndqQENPTP43vTV3jjq+/nnSqCbvPROnWrdllmbu33GtSA+Qlul4taSW6uXSyS8X9m3qsfbJ+5Fu7+br3H7Bl9vLOL4ViYQ4ZcSkWL/c6Y6RJvb+OPW3Ndv1buFZ/59Ed/2JHsNIoEJymHpwWQMZHhSYwTn9jvit+NFxZBJoRh44N/6BUBC1wtKxCJHeToTZXiwvzEnuhFYyQ80PGLb336Y9rM+Lr/TByETSsfiFmvEIPblY+nYwKGRmmD3xBwZVC+ztN4EQCM2+o2eAbOcwjGIBBB/ipaXEXxD2N68YmHxz98fcc/imwYxZQZ8Bs0gJVmhmQK0Siic+nMs/sTIIayOVFePnWIfx54ClOFbCaDYE80mv1eIBrN1/nqm6+947VVqla9cfWV3aKuJV3t5ywPoxBEY+aeP3uC9seAghROCDgb7O3yBGefxiDkkRzPz6kZisl/cZAwLnO9Utor5LuBD5eMF72r16wBDPKh7AYxs7yhH4k+GCG8Tzv3cMj1JQ712/njEdR5fuibmRj2lV8eBTVTsr/9Ynuoba53tOL9zCbcusjTkwdeDaB7VtiE1vEcuzy1lSBLK2/nq2wSZtLYM7CVSJcGH6Q6WXqR4WciTyRAVQU3jS/5f/gdTbv/phOrXhQi0+AdWwvDaI3D6XCfAE44fA+G6nQjHoqbMlR4kciG4DIAAKeaHF6X8lCahk8vm7q1s+/Pb3xG2RJ/3H6bOdH7LovQQ4dB68MCVURSLHgHQyGf45HYOw2So2NpjCd5HknH0mmSpmlIwiGND822twcvO4J18uwP7b9Ulu6hwdWrZdY3mRYrsDZK40Ua5GGDbTDYebmSS5GcUETxYhHbLVaahWQmlsczWAyT0kJuNNcV2jr++zvKUP3o1mT5Ek/MUnxUnEy0iR/Xx3LLUaIGUCTMmTAwbUX7cAzomzQroHR6A3DsDIBi4qtf6jxxM5cZTw4+pzTpXGjmGnBm/Gi2BbBOA8jN5KGJwQEAaAbFm3QdT2IUIRAxCiYJgqOsUCptkgu3Xshz2QNl0//0n+s3m9p09Y56bjG4u9+ZoAFIE8kdsgkb5bSQRK1ZYSKbJtFdGMWjWBSksrywAzWA5rbzFes1wZdrp8p28aV5dO+m33emvFqGBYbP0Um2waYoMo9H+QwtUDzgklGEwKJUI5qJpdEoAnm1Dw0Lo3XJojPPLB9VXtRt6ZObXWd4OBBU6bn9j2kSNtBmA8tGU0yFIDM0B8gwSEeJZFGohFNFSKUEloRH6m5he1A1SkNG3KUq3t6DQ73U8P9os6gA7cU1pFlGOaOVzebYKZg/hwDEAJGvINkwPcUiMyw71cT0L/0DZqVeLzEpt/yi8yeqOrO/V5YPRz1u5StdCMTGY80pFtW/BesUH+IojkJRagcVdundLJ3AdsosO0EgvqXTbhXB9ap88a8+VM9tn3H5pMVCv3rstChK/uzEqjAtXuxxLMGww2dIMdGnN/p8el9tI4xsLKHIMkcN+6ay9PKawhmGhZ7mnvUGr/zi9rfVrcKZkVYBayfq9BhkwCBmLOZQgYIZHEkRAEEIVBKWAnwmzhcJAY1F4yDQLRNsO1gxyrfi3dEvfkQl3zs+lPjXBo8lLxrcQSoisD6GYd7CYmUU8bGACN8IQzMA6neRcJPB8V2m72zrhqJltisSks+9g4/t2jPUQFay6fRk3LFguEmKgem/z0x1RpYjJ+G+6ktftcbEJZlGI6H64V722dqyKJFbm7evAQ3uNli1SgSn9rZajlH2pyvSP5jGDt6QKAZ0nkDA3eXu8rjd4jeB53MKMYu/8Yi/dF9IV0DnDlwT7PhgTD+hv2FwmPN+qWWiCYSk5cOUeBHokeLGH3S1u0Tp9rd3t/tdKhH/4L94vxGP+QrPoZt8ZtJLUn3gbZ0w7O/IFK1V1N4vLUL/h1zz63bGV6WHic2J6XnNzv2V5//q1az/09a/P851d3f9iRtIGgESAiENwdY0lEmFFmiqlLH61vZbyv0OakyK1ajLqLvb3b/2GXA3YJfrcn7lwfv51nNOzuu4nyxRcs0R5cXAX63RyMluhzRDzTFNwLkEQ2I3lbemNtXlgaG/xgMUfH9kVJpe4EAD/lLONJFadJemt2GZsv0lIgCSAVNhWuuQtLuGNKKchhxYHkjSx6jDqL9ABKaQQevVjOp7nrOH+BW99C3kpjP9dqSWbpL580QI07pvZ/KaC2Uv5FYOn33+U0NzXZr4wDHNq8E/y8NlNQNNaZ6kzNFGvvHa879U8hDjlJbeDMTSEo+0xDFJysE/y6se6M3UhSOzmwKowD996uG/iq+76yp8u0eHMWnaQZRFtr1/hgjYUar6fqZ6Iinu1PQsu92+AJulzqKyhfuH3FCPyq3tGc94sYWmftIw9Yd5EEZVd+Rdy+DVVHY2+6Ief9feFeK5jM8Ko+X/CbJIYJF1R6ChOINYE5vkq6A/ej9hQ00W71p7aVl7H48UCd7TvUv8s08iBVLRvkElhIqq+KHb33I1g1jtCJJ/7HUAYmLG7crk5ZeU6UtRGIAAcIrQnvUT6UCxQ8iglNvcaF2ft9SU/pBxjsO4DQJ+358p2L7i4qz9HLXe8/Uh9mRtk2NHrOqfE8WXBNUoSadWAWmGFshQpEyaJj6w1FIw+HtEqIoNdbiz7ovEMntSCqdyB1DMzp/dg1PdCK+O+Fpd83iSOK9AC1c2g5YMYr50vIYj5dBvXxcjMm1ZzuJJLQ1H13uI1M4p2ElT7S3jM++LRF+a4XBlvHGLSXlOkGyoJ4lpRwZRknfbGiaNv7GtAIjaLlnas3nOShTbmUh9NgBk9OxUW8NolG+KjNN9/gpzfL8CTn7DgNi9BhtDTkcy/57XYrmhwUDw17ZTQQIPxn+QZq+vUgMPVqRyHIj2n7VtruiR9UeCgs10Dy724HTHbjIcAZp+vQ2sYqdjNQli+iD1HMvkXCQAUezJgipL25RKHJW0mQr45AyQ2FC44pIX7myIW3s+Fwl1BfHFkJmIWm2GxI+2gzmZGqpiJyMtvZkia7FrFsOBmV/eThBDeyJzWeJs6YNYI2zm8EO9IE+MSZ+YjEq4N0ieR18V0Xf28PVhRG52b9NgogA8VDOjBECDd9tyNeGE014n0sqxsl+Iawx7es1RksXLK4t1IWYIhNevwakKZ+8lViHziQ8u2j4RaQ7Ouqu7SI5oLIATQEbuCwhA4lmNDBRn7pNUOtARFBB5JhIEUWz2vipbCc5rcUyTMrsYwK9cR5JDqt0Bm7zId8nd8ihSfYi2XtwzVtnp/kIhmeOh1ZMYmHg5BFcxLs1qJahxlBxg+BMJEYBkJLcfKcw6PklesymUcodoaxBPjESHlovkkNmuvwgnXqJGO9AFwzQr+PyJIgQI362HweRdh5Wtzgelmfq9tNlZ0IehSSQAVRHUPdWAVJqtgQ/M+UnFVOIbQVkxISRGxHsajzQ4qb56E3shkTzh6kJX/eREv7VNkzzhw2paPp9cgI3utrRkH88D1UBjHw1fFoMyxBwucz6lvOeNOvePESD5wNCDHVlVYkR8OL9te7c81om8l0rXPoFPCkpq9t0hGkjsOGOdwKBkOgrJkMOB4qd2bHRAVRCWo/DxSpPpajZOkniwqAZKAOdBVldAJLcKv7VcWiPtGiSehMRn38VoauNKZ7JCM4V0zbGPzsCgZBR2OeFZdCZbKzKRCx1lw92L43VJCT9zO63F24iSkyuVWoCD/RGPOUGWm2vaNigUfz2zCP3x12+i9Xew5IQYwXXFa8MYTouj4BRmro9UPLUQSX5hsaolicuwvHaHdIYQqxGzfcaGYhrLDRJIjmdYbHvv669/KVx0NqSKXhDNnd1Dbzbv7LRP8AxnJMIql7Q0V4tH9sJvO9ZRmqPx9Z2dnbkVesAHG5JAJaQfytWK9el6OQL+nAlp9VurAdDfudWIoJyWFLdG0r0cuS2vxFIxwjIgDywMhO32/oR4pAR/Fot89pzly+AqLk4BZRs1ug1MJnjtLtUMr+VobHLAJcla5NPLq3N0GxE7xU/uLcEkVeSlIv3xKSAF9Pu4XMC3oz6NIuk+DKxvjlVCAGjH4ca9ad7GVbFcq+NXF3ktr92yHCAvg6Ss5PyAZyAAsMODeyESSgKFturjZ3MD0QQQEPM3YkIqOkIM3xapUPByDoX7m8cfZGQQme6guKOTgkEjuxK7RhFiKJlQ8StnHJaKPweFVK5+mvdOfDI1kPx43Rt8XMaAAMT2f1tjMGo3ENp6022pJEezjmV/iJBpSYP+/JBPxunUtLsdghlKAEOLRW/m6m5p0xsYQAxhnr1tMq3mQUXeNldzHyvjBCSQb5l7+qmXOZcPaVRMY8FYuYxQQE/8uoHULxPMjBhAo3pNLtH5BU81dxmYMptNnSwApPVkSIzRXbEChlSDmCZa48zw1ZK8kvHi9WNEbSQDda6DxPLSoQSi6IE7/KMB0Olazfu5WjHULSMCaECaGo5Yoxh4nIyhcpDTbEKjljENolUjTNDtrJFKUrh2l/XSICJTkvZ9RydGACBIXQYfpzlqW1xmChFTINx1Cc3ZxGorOUQhIvqTvrLeQwhgqilmcFssRodm496TBWsUR+QMMtPZ7FyWluZLy8at9X5MoFjDdUer4oimKEjuHzSk/L4CQ7dbGzpiagFCmtY/FeUy7FYjy4gddz3Ra/evAMngDmCTD/0k7X64xrPobIcqihJKM2y/t+wsrnM2XxnCUQ0prje1D5FswOnoQ+nCZlqRjMvIwaqrcaLP0gArle6J3A08756YhI17Dhqh41Rsb/jRUBBgsLcV8csFzJn+WEloglbVupZAMUIbbc1fHyRZEutrcJSNkEgRZ70X7iOxiTCjACCl1+/7aSnOm+MnW4NH0QXzs7m/SLGdps1wsRcn4Ot6bjEW8hohSI1udD3Mj4tXZSSmQdBooas8rMDiR15y84j23Ft21Q6RtGIQ90TaThzLasQGggCCNu6NBVxtXjQ+aCKwrUlElNuKtJb8kKqr7979BcUGsbu1SpFiwNxjVTZcaI/mmxq0lBbGRhp3dkovzW6HxmoX6xbHFKRgxNDlnqPprathSbtGATHegGNh0OvtP88PB3bKD84b4Jd/Bfgxrrx1LU/VIt1FP//4NV7pi4V4s9LqjMd7hmB9+WKzjDHSNGLsW/9xf7W38mbUjhO0nAmNxdu2GF7h2QyeU1qMvrt3j/z0/VeQmXrfgrtycRf+9tebyd+DKRkjQz9Iph5v85Nb5YK3yLfXx9Ow8xC/8JATbYJBIRCYYDRqEIIp0tip+PrDWnz41kZRzXksjLB99+tO+UQ0+uw9xHwskwlfvCD6Dfv4lddeeuWxW3iJ0JY5Dza9JTfJtsDJRWiQnuyIDQtiuUCBNg2gNDDHtecLYDw/UnJlwYP0dQbicNdWD/LJZ49r948G+1Md5h+/SwS3lsi4HK50b9Y3x22xQ+anAMZc6ydu9MdDi3i9Y6TJ4u3baWu90FNm9shvVXnIF0R/w15mT5udfV4kej7ZXottDG95AkN86OHS5o0zXvfDRnP/JmYZ2/T1HHWr/Cy8vncH++B50d+yrz8levbqsfiks5SR7WqGt+SwubWp3OyVlJX5vctjJH+jZAM6a+NlG9yCc4R/RvS37QWeu23p24TNGsVPbZuxsc2VMtniED+zdxeGeyzIps6H05MhL9uzdx3/4s2/jUt+Ij9aZAHNym3dMatb622N6U0BDanrhBlKtdBwEaI59mjE2jHiTXce//1FVsSiBEH33/VszO4FRqzdCKlbxWds6tqWsKaKlBVsdcFffCf6x+ytd4n+yFyfd4OUyaLT5FH3KI11/iiI7UbMBhP4bmx5kH9O9I/aS4T50lbTKWmDKBRUGDixgmEUAGCvIrEVq2mFfPct0T9tX/LcfqTWj2AMCKkZYEauhcRGRHNYZ7pnQ94Q/Qv29Uesv9ykjx7DmEapVBahGObpXLCum4mvRP+SPf82cTq801w5NjFot/tXbowu6PvNyL+GS96eLxGhrUtf6PP5qmtqg4Pw5x+K/m179lsMr/IMDXEC/Olzz4v+C/vslRe+f/315176S+/ufyvkpIkNbqoiAAAAAElFTkSuQmCC";function uL(){return On.jsx("img",{src:lL,className:"gw-absolute gw-bottom-[56px] gw-left-[50%] gw-h-[125px] gw-w-[112px] gw-ml-[-56px]"})}const cL="data:image/svg+xml,%3csvg%20width='73'%20height='90'%20viewBox='0%200%2073%2090'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.4603%2078.0566H8.9683V87.1841C8.9683%2088.6848%207.91987%2089.5893%206.37807%2089.5893H3.2328C1.67044%2089.5893%200.642578%2088.6848%200.642578%2087.1841V78.0566H3.19169V86.8346C3.19169%2087.0402%203.35615%2087.2252%203.58228%2087.2252H6.09027C6.29584%2087.2252%206.48086%2087.0607%206.48086%2086.8346V78.0566H6.4603ZM9.99616%2087.0402H12.5042V89.5893H9.99616V87.0402ZM13.5526%2080.174C13.5526%2078.9612%2014.4365%2078.0566%2015.8139%2078.0566H19.4525C20.8299%2078.0566%2021.7138%2078.9612%2021.7138%2080.174V81.8597H19.2675V80.6674C19.2675%2080.4618%2019.1031%2080.2768%2018.8769%2080.2768H16.3895C16.1634%2080.2768%2015.9989%2080.4413%2015.9989%2080.6674V81.7364C15.9989%2081.9009%2016.0811%2082.0653%2016.3484%2082.1475L20.1104%2083.2576C21.3849%2083.6277%2021.7138%2084.2033%2021.7138%2085.5395V87.4719C21.7138%2088.6642%2020.8299%2089.5893%2019.4731%2089.5893H15.7728C14.416%2089.5893%2013.532%2088.6642%2013.532%2087.4719V85.6012H15.9578V86.9785C15.9578%2087.1841%2016.1222%2087.3691%2016.3484%2087.3691H18.8564C19.0825%2087.3691%2019.247%2087.2047%2019.247%2086.9785V85.7862C19.247%2085.6217%2019.1236%2085.4573%2018.8975%2085.3956L15.1355%2084.2855C13.8609%2083.9155%2013.532%2083.3399%2013.532%2082.0036L13.5526%2080.174ZM22.7417%2087.0402H25.2497V89.5893H22.7417V87.0402ZM35.7545%2087.6569H31.7047L31.1702%2089.5893H28.5594L32.0131%2078.0566H35.6517L38.9614%2089.5893H36.3095L35.7545%2087.6569ZM35.1378%2085.4367L33.7399%2080.3179L32.3214%2085.4367H35.1378ZM47.5339%2084.82L46.9171%2085.3339L48.9523%2089.5893H46.1565L44.3475%2085.6423H42.6823V89.5893H40.1332V78.0566H45.9715C47.4105%2078.0566%2048.4178%2078.9406%2048.4178%2080.2563V82.5176C48.4384%2083.6688%2048.315%2084.1622%2047.5339%2084.82ZM45.9098%2083.0521V80.7702C45.9098%2080.5646%2045.7454%2080.3796%2045.5192%2080.3796H42.7029V83.4221H45.5192C45.7454%2083.4221%2045.9098%2083.2576%2045.9098%2083.0521ZM57.5453%2078.0566H60.8139V89.5893H58.3881V82.3942L55.9007%2089.5893H55.1812L52.6937%2082.3942V89.5893H50.3502V78.0566H53.6188L55.5923%2084.3061L57.5453%2078.0566ZM72.1204%2078.0566L68.2351%2085.1695V89.5687H65.686V85.19L61.9034%2078.0566H64.8637L67.0633%2082.5176L69.2424%2078.0566H72.1204Z'%20fill='white'/%3e%3cpath%20d='M71.0913%2025.6761H44.5312L36.3289%200.411133L28.1265%2025.6761H1.56641L23.0488%2041.2791L14.8464%2066.5441L36.3289%2050.9411L57.8113%2066.5441L49.6089%2041.2791L71.0913%2025.6761ZM36.3289%2043.1704L26.7697%2050.1188L30.4289%2038.8739L20.8697%2031.9255H32.6902L36.3494%2020.6807L40.0086%2031.9255H51.8291L42.2699%2038.8739L45.9291%2050.1188L36.3289%2043.1704Z'%20fill='%23FFCC01'/%3e%3c/svg%3e",fL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAMAAACZHrEMAAADAFBMVEUAAADj5OUCAy4YGTnq6+vs7e1dXWTp6uro6enl5udUVXUAADPw8fAAAAoCAjAAAA4AAB3g4eMAAEEAADsAAEUZGTmhoaMAAlEAADIAADcAAAoAADQAAC0AABo6OmIMEloAAAtJS24AAEIAACsAAEkAACw7PWYAAE4AADcAAAkAADQAAAXe3+I1N2MAAD8AADY/QWkAACAAADgiJV0AAFEBBFMAAEkAAD4AADMuMGAABFIAABUAAAEpK14VGlkAADUuMGEUGVkhJFz////+/v8hJFv9/f0AAFMmKV0fIloAAFAkJlzh4uPm5+cAAE4rLV/g4eLk5ebX2NwoK126u8IAAEwAAEr7+/zj5OXc3d8AAEDo6ern6OkpLF/a297e3+EdIFoAAEesrbfIyc4tMGAvMmHFxcsAAACxsrtPUHLq6+ve3+K7vMSUlaTu7/DY2dx8fZJ+f5NoaYRjZIAAADsABlSztL3NztNRUnPT09fP0NStrrnq6u2/wMcXG1j5+vqAgZQ0NmPGxsygoa2Bgpa9vsZ4eY4ZHVmkpLBsbobW19vV1tnU1dmbnKpzdIpVV3ddXnrt7u7Q0dbDxMrBwsg2OGUxM2IHDlUAAES4ucGnqLOmprKdnquSk6NXWHdub4dISm9AQWrKy9DHx863t8Cvr7qpqrWQkaBaW3g+P2gUGVf29vhqa4RnaIHLzNF7e5BgYX1GSG05OmYAADbMzdK1tr6HiJpfYH1aXHtCRGvy8vOqq7aLjJ2Gh5jw8PKOj55iY35MTXJKS3AJEFbl5emWl6WMjZ9wcYkbH1kAAFa+v8aDg5dlZoNERm3i4uXR0taKipx2d4xMTnCZmqh4eZBTVHU8PWcQFVbZ2d6YmaeOj6Fxcotqa4dhY4FcXX0zNWITF1cNE1b09PXs7O92d4+IiZt1doxYWXqhoq+XmKYEC1Rub4o6PGX4+PllZoCQkaKEhZcAADBSVHdRUnVyc42EhZrBwsoAACOdnq0lKGAAACvIydAAB1ggJF8AABgAABBD5u1KAAAAQ3RSTlMA/gMF/P0D+/78/p/7RBVbJ/zGqDAMBdJxRzWXhR4V/k32zWW/d+3qr2ldPPv0vmvyjlLz8+LiuIzi2nov5OA89/XlFxFp+QAAKYxJREFUeNq0mAdUG3Ucx40mAnXvvX3u7XM/nz7reZe73F3SeDEJSUhIwiMMySAQQGICgUjZM9AyCzIiUEZlCFiGBSwgFRmVjVJQwKpA3et/xBrFvX59r3fpjf/nvr/f//v7/3vKP4hTTz/ddXLx2efefu05t976GIhbbz3n2tvPPfti15XTTz/1lP8/Tj3VBXL25edcecZdlzx+T2VNQorWZtufknC88p5HLrnrjCvPufxsF9Cp/y+Qi+Tsyx675ZKbOj/5wv/wvozdIpFPYGCgj0gk2j1cG+2fP9B50yW3PHbZFtD/p4/rQ8+94YJHr9v/QVzkUa4QZ515JssDBI6zXKdMJo8ri4z7YP91j15ww7nup/4PUa664ZYHOj8MigjkeTBZuBcvZF/0AS6Hy+UKlXvLX44UMnx8vFhMDw+eT1LQu4YHbrnhqv9DnlPpl152xQNpyZlHhawzWTjv6D6ZZ23HOwV7AnkchhAPbj9sa+PhscdiPxjmMTyBRsKjmclpD1xx2en04/8xykW3PXRnU1AIj8lk+viVJbH2fRL+ul9RQUFwIh7IFXI6nn0vI5zHXYqPykv0rP1AxON4ebB4IUFNd95120X/IQ6d9avvvl6Tf4Dr4cFgyMoPFlRkPZ9oy3t+OP+l/ISsAB8Oj9PUEdT0akBETcFnOE/iT/lL2mJ4MpzF5BzI11x/99X/UbLol5x2w/WFeyJwppdQGKPMGDzsZwsWMiryX09651C+r4iFSyTew/7le4efT7K05+cxOAcLbGW2cOEHyaUi3MMrYk/h9TecRlfdf5Gh+87X7EmUsDx5XAYvzy/Q9mqkLkHGivELYCSF1+7LLPOPavMNK3vWTxmeGFEbl+UpOhjy7Lc2Lp50RBO8DwcPJu7RnH8f/bJ/LcuFF8wlA1U8E9vCGDjHv9a7vPnDWL+3ROFBLx3U6neskd+i38jfJOTWbGtrWvzBvXn7EhO9PYPLcVzUEZWRyI2r9WTiEclzF1z478QBKBdferNN6YXzZP5HKoIzPGXlSQE+peHheRX67i+pb96kvrwG7h6yW1sbcr685ttv36QEbw511VT4KkMCPVmHi2TeAZmVx/ZE8jy8YnQ3X3rxvxDnNCDLQxr/8zxwhuRZQ21cSpPQJ4jDVfpaiini2y/J4mJ5w3rOBL+ly4E0dC2ndq/PbK5OD1bZr7mmISU/S5Thx8NFxwz+e6N8eJ6s8/w3HgLinPaPU3T3zccimTg3JsR7OCUzy9YkxGvLU3LgN3tyhqzSjWI23LWMZGcPjQ5qUlsGR0dnuuu7NjT1DTnZDd/CWPXeSG76geZDcYEcnixrF4sZeezmu/9Zquj5fEbVyxwPXBIQ+xIesLezIiyxtCD1GmnJ0MbMbNXQ9MxQasvq4nKLoWvQtpw9TtqrZrscxDw5tN41h2QPDcmJtU+id8VV5EdKJC+n5YfzPDgvl5xxNXj1P0nR9UWlHjxuZtCBZ+uivUXR4TFH5ETz4ur06upM3ezmqqm7tVuf2i/tZwtaDI4VyO5AZg3ZRrYdqV/uks6ri7uyCTg+ergshhXT/e6z8UESoUfp6vV0qv42y303T+5m4kJeQfaxg8XBOK48YsxVdxXP1c/WQysLy+uEUU4ghiEC6cec0OYOlI8h9p6x6SEYgibIjZYhM0x2r7cSxP5oIb6n413b22HePhzmro9vvs9F83dYLr1m73lMn2Ef78ilvKPDSbUHe8SIpgtBh5ZzHP0rphlnPyaFW6fHYT4EkVThptrIZ2MQOjTVBUOY2ZE929Iw71QXb1hDcy1ZiZ5hVWUMIYfDxc/ba74UDPC3WK7MftULF/o0tXmnt30QIGyrD13pXq9aMa8vkwv8lZLVhhU+RKLFRdlGBIKw/onFFhRhsyEMLVk1Gfkk4lwonmlFKZRcnzGUqJN9hqNkEi6DweUFeIU1XAmG+OssF1/RHech4XA8DxuCJIzd0Sliwdp6lxSGWlrs89J5SL9MIBCbj25MgxSx2WwpVTma06Pmg4BzprsEMOxwoFXT02Mt1ZsDH4/aP017VsRhcBkcXBTiyYzruuLiv0oDWM5I9WN6R5ZHeqfv7eAy9syJ+4dSS+wOqGV53o5AxrHVhX4IwBCdb9shPl/Kl7LtukrBPAyjxgmiQduiHilsnp7e7C0YTdsxZyxZbhWj7+6SCH08ZUe0BzxZmalnAJq/ytKiZPIy8nXB+3jcCKVFTKm6gbk52c3LC/0Y3zE31W1UkQhfBTdPwz0TRsAwLzYsYtB4SbcpzWDQfmErmpo2FLbKu2asigVoYrxlzNFY7YdLZBUVbe0xPKay5a/RgFuuWAdT+mhHu+/SUkh6VmWu3Lq+TmJ8eZ2BDSFYv3FWD0RAjSgq6BykEMS61jpiKhxM1g4uri6u9g12th4/0UDBBGF0ovVTJiPEd/BTl62ha77pfhvKZ/KKDkg8lKlXgKH+Su12ZzJxXPZOyp7gWJmvQLyAbQyhBCwwzVIC2Oik1KNDDnVDVdWIqbj9yHqffnUJMEylTR4pbm1A5lGCQBV1o/12EsEQBB1fLYTl0nln12xrLpW/q61id1RKpITHyuz+8yoGVn1pdhzTZxfHUxal27vrg2/m1kpm19XWVmvz4lB95djGcqeuvaZvcCpev/n2YEH7hmFHcb0V6TeKu3X8XLmTDQhINrzYh0IYBEEIPLfaAgNjdLTOdqOhB3f7DyYoA4QyITMo+1LgxX/Cct81r3rwRC+FSdIPlCV+KK7WLZ5YnZmaTmk6tDkzpZ0anIk/NL3c3FVcn61yOqeXQ1EChSfMcgQyHzGgfGgrEAd/oJJA6FM+Ore5jLIRCB5v7lpotCRG+wUEHLb5BTDDrrkPDPiHSbrwwb1euMQ7OuElGYvbFMqu0mzOjNdrqrp1afwcKcR2CjRTCopAUdTBhsn9BmoOQRBaA1KxpDX38NkuGlTTtGZ00cA5m8sEhmEr1lkNu7Ev5HluVL2uIkbi9dLNFwJp/oDl6vN77/DcHRcW1aeJ9IkP5UML6+OgUAjB7DJlNDudmAMZnUVVJE1AwjmWToEKDO8af6S9lSB/hGETRTqYjbm0qVocAzIhK+pZDRRatzupQ5vnn7wr4Lze868GQ/7BRFpNwnnDy92+h4cTm8QIZm9OtWNSqWNsk7TzMQzUwIgNMUN0sKVotiXtJAz4DbfXEBjkCmQBOtFJIK5zoni0nuDLkZW5mQ2sMUHJlSl9hmUMz93TV/xu2YD83VDix+TxhNG6V5/3LhBj/J6Wwgk7hk2oFofgrXo0O4qmKABFD06i45/8DEaqiLeYHfyfhDIdUS/QN4IeQaSOrk3M8RFiYSMbgy2yAJ5QwuNwmDENN4Bhf7dgfD3wA0o8PXNvSKzYrkbXm6F5BMLgaYNRjtGea8wZGAFYLhiixFbohkGIscmSk3liI3Z4cZQCdyJSUi2FO4soBYWq1vS9vfGURcQL5ILuwPXw/b2yAc57y4k70hMLsgK4uLfvm7AVrR9U9yB0akZV4EgHnGpzyn+CabWYKPIkDGY3f1y3lRk2mxZqpXXSZCTlDpQSEIKexVHT9JJuQHuit2VFkSzkcTmBPG/8vBO3XAxofjNJGiVLVh6srPWXKa2CbKN1sISeEfKJ0VQY+jFLKX0E9iOMiqo/tsOtDMRX2LRGpxRIoSL5UD8srtOKiQlpiaa5enFpYG/B1KZhrEGQnZqDwv4SBiPA57CMdaCbXoj+hjDnPhDl4RmeUOR/6KXI42Kr2TyzbgQMCJG2yZ5A2HSWVtQnNHSWXDACTbtJQMpduiBSNaGfnEMhmKAEAgq2r61VfmHTj+osOm38VPWI3pIjBg4ut88u8wVVfp7C2mOdZd5M3wfPdcFsn0naO3COT1lf4TsRwY0qPprazDYjbMyM7T9ZJhhsOgHZf4SRqyjNMQ2aQ5JSPmafAL1IPDFZrCAb6nfU6acWtTrL4qG2In3dWKvaCfhyDUU9pBpBzP0zXZi4WrSvL63gmJIpGj1juzT077OezGIKcc/08Hf3lQnm1XDVYANYvAFhDH12IIyrKItGUQSsGaQqUorkCEY6WkNRAa2DExkHDGnlBZsAQqtdTKk2FJrUDe2VjQRFwHZEOmfOGW2h+HJgN9mDVU5xbLjWNzNqjw/zM/KybTBAmNMeCvbyrG2LYHgG7BsRWMEHbBgRDEPsUq2mR8UnSZKvskO2ZgGtASUA4cjVTKZZC+uOJywt6XSAQadPjjVUFnaPq+UgVxRomDXtDlBAtEPLpVThfissZdPuPKMmemLiDkYwMhi4V/BDpwOaX1bvOd3KdFFsU8ehEKHuK0RObMywHWyn2a6YLUIFKEUPT4ilTWs96qpiTaFhcPrt0dWPo3rjtaAi+vSGFlPxuJWqLJCLYQqFnWwEQOQYrb1pFPLjZGPDUwkoRp/0zIxBuQnD5RkS/OhRj8jW28D4vxDmohu/8MCDKso/0ZUGvVllXVEZSgi2mY0g0oHONY1po+W4Xl+U8nGb1qbTDuhGtfGrfUUbbycfnytRI04YpWghYFSdnAbnAA0Ren7LMTladMxlyi4n0I7QPoT0zIFdpziW4+OZHhWG41+cf5FLGrcwpvAAjq8m+aXyA8eLe0/o3g1e3WzqsAzoCj7Q6Toso6Pa/VPTCZMDJkNhd32JVYU5YXNoa1NVaA+8YmZjUpJUSUk+UZBC2KGfGgSJlkyaCOTk1Keqlxbo8kfQsVkpoY5MaovWRad7ZIy4pHELc9cXHhxhYtkhi9K3cW1Moz+h72rprKus1PROVRUPlTSoSYi/EDpZ8fl31ASKwrDD3K+mUidNKHD5LdMHASEKy5EFh/Qn50GcxlGbgv8jGh+2alNpk8Tk/YPF/eKmiJc/Ka6IZuCx55/2i6q5tv4Ak8vBA/bF1I4IMCp3vUtBa4/mqhdVuTABRodX+OKxt14p3U+IyQaVFBCoBabeEYFUDv0UiMDwoRUFw/0kDbWjINv4U6IE+sX+eYRechXPqOBvstJf6ng1TMaMbL0PSOP2mAuCvRgcsMeS4IdCVSpn/XTVAonwgY/1TUGQmrYSabagZNfOnTvf26cVhNrVCPAZwVjvCEVC7sCMVckmQgq5YWCkqU9BnmQ1zmkLXf2jZ6YLEluE75QFMIQ449AtJ72GPl5+px8QhsHw8VaWUCq2sbnFZXNmuS4VReRsEGrqy4ydO5+jcQ7YqFCzGviMqSCVbgduGDn8bgIBYT/7F6K6F6VP3NJM0NKsDOmtRntQ6a507yQRs/T+J07CgMOV2vN4uJDD5QnfEZN8uGq6CqbXAnxiTJsNb32KGn2zdOfOZ3Y+/QzAeSW8Aw1dWKNMwZWKX8AginYbTCfCFUA9ov5jE3GyahB4TTdGqSBgX87mIUWjTsiNKxgMYvloH3ab79mX+DO54SE4zzt8TKDC4FlDj6v+BVNFC2Z67aA2UnE0C4gtnI8ymuDc3MIPfwXzdoHcRe8Kfs+8TZtLuq5iGElNTS2woQWUEo9PxS9mx8T0GfKTOcywS852VQ3461pTRvpwwVFGeGBbLsJ35Oi7UXpKYGbIVkjw6Z5ozg1zsfyE82JShRh6p0YxR4/szkpl/ri7gmkxqJqP5+UIthXg60pGc0LNOTsSbL17CwyKg7KQPWHBmawkDT27XVm6otfLMzpYGZR/YL9YzUdNesyJQXSWTBb61WwSEu95+kcWN85zGfnB9aENwOHYP8E4rF8U/mQs9PA5xNDHlaBozQt0h4D5ax9PxrdP9n6yVNk8u0AVR7wWrj+exWR8fMbJLF31aF66T3B87AflmRMr0n6zocW155AKEpb6FxC5FAl950U3ixvnmTeS3xTDUvIkDht4bnIfAdHbNwBC86iMqPbtT2FYvqYxTFmOTZ5Ifik+zZQNmpexeXyCKscZ0UohzyPu0asAyFaWdkQwuf4pXW8rYxtVP5ava12nNaAYm0+GHnzlJMt2dWSHEDHMBzh0VSJSvmDyE3QekcvNEw5gVDAhIHN0H1Trmtp7e5t0KYYd1jVtt9gBXBtxzqayFW+LJOkskchj9w46TzTPw0c44P++ZXl5kQaFCkFTB81yl2tk2zSEFFOFWl7b+czTvyRx4YDDM4HJKjGKkHxIzgZ/xPEfEwqYgJ1klaZuakl36ITuw1d7E/SF9Vaoh7ZORZ8eBncjmKMENO85JTcuuKiNyWm/wpWli85/mRUYlBSAs56FzXy7fGb5xyxRhZYGVKUO7Xt/G8vTINw4TwfmN4gJh4M26n40YW9n89L+gSO9vb3t+/WZr3ymoQb6Qs10B5mws7EcIk1rhfnga+XywfoVgW+pQW8LDmSGXX8RkAY43k3K9MT2yABPYbCYROAGfQmMsEGzoUvGPpEt7nxjJz309vgZzk5u7NCXY9XxuoEjx4I/+9CiW6pO07RWCagwYJK8d7T7xSoVH+HTXQxbUevGQO+mhV9e7s+1HKgIi/ow5szwO5/Ymk836I+ylIXtvhG7qhVzKqNJL4WkfBAkur96xZprCtzGAn68cPQVun5/ps4L+4L7UlISOkdKXjouMML07lcMZYJ7wDXvsh7xPElCcteOZlHv2msulMyAZXR4cl5gWRBLlHDrFswVkzjue9BfF6ZUCcwOtGWWsk/Mz0/MwxPaHYRiHDSkbSzPxTUILBkvunG2YN94afxTMewUfPi2YALqx/i5IxFblk3XVYSFUJhVJD3pSEHnKGmk/b0fMZSgb+ZlHZYwAkF/oic3WFZFBXDK9rE4DF+4NacHGxwRmBecTjMED52oFGRH7tw+qUGRBPd8rxj4NU65JpdSTPbCZtBkxS0ycPXktRdLixQKuZrPZiNoq62ecHXLWZNTEYxLcE+ch4edT2+7z308xoMh8cYDhO0lwZNN7e8c0Q0M2Cwn2geCX+4d2L2dxaWTrJ36njoWsR3H2zf1q6JgzK6So5+8sPMZ15Oua+8FpeUKMDXC7nfq0ly+uKKZhRR9ot2H22ITWaVPnQtgzjJFMEVZ0eHCkARFcWVlfFN1QlH18eOGGs1AU8NnNMtvxXPh8bnfoUeSntuG80K55R2UWmM7yp52XXHjvB/VLSYQNSnYLHJs7Xfmx2fUAk1k1HF9/OEzk3ZcS9dvkYiZWRdf/epwPWWGFV0tCoIiQMDi6hbfZ7azuN/9SrQh9Du4YveLWzXsnmCvD9eIFfOqHO2Bj36BQ+cxNluMzqGGeKmRL5eDXdnMOLoQLXn1UFAbyyfl1lNoy+NJ/Nske2L9FnrIfruhectlMHYOpY/e1gS24Tz/sin0856K3c9tw3m/zCDIJXJhS+0r23FEFfZcxZitCiXJuTk1OahhU1HCjubeD5mMyXsBzAVfML3y414LezkvF5IukPoxlAQdjq3iN7Ztz9F2HPCp442fyw/t2o7zfF4NoUAVRPzX23GeybBRAm2hEVEoCELR1UXkJu/78IOOTCZv7y30ZPIPYLzb5DtweE8on4QbputRYHlyPtl48L3fZXE3J1kF0vgVEnz0me3JikvYwtlf+t4WjvuRF2OqN0eoqroRlcpcrBE02kKOMhg8oUcZmE5nXxLHZCjzdYcSK0JVJNpaNA4jkBxRN1ped7H8MQ74VIux8VPVOzI3juv42uEUFOAIlmLe26bO6+GWRnHma28lZUR+HXfsuCzAGw9KYmVdctUp5z7ytQeD9XwASxSfC1p2sZ50YnIsJ7TvBdcL/hznI78+tPFTK41Dhxvnvay34VxUQS199to2nPej5lLecv08mjos5EYcizmz9pFzT7n8nnCmT2JIEmdXjYKUoqkp8n4IsooNb7hZ/hTntTyDoLExO5b74jacV/z2fwNwFEWfvb6F4642XkHJwV3PAe19diifbf+kOubMyJsuP+X26zJYSYt9B1+NqFOANrkB1g+Axd2Q/jzoMV6IKlSEfqXY89HOp7fhlOp6AI6g6PDzbpyt/O/Wftn+BpgDLVlK/2ebXj0z6bqzTjkrbZeHz56EDzLCNRQJ9WzMOiCromS3y2j/Og5oTSbBWOZzv3xsC+frT+wAR6x34TzjLv7SIyBVzx+PS2cFBAWdebTu2lOu7ZR54a9HDeCRDagUcqQZ0AaBNJyG/2vhfnfgsxJwtp2TLqraDkhAKkJrnn1/Gw64/bWaMJanp4ThIao555RzamQegXnaWG4tgGEba4pgwZsxLpa/jeNO7TacFyPfDoXWxI3Hn33BjQNkA8O8pg8LCQo6nMQU6bdgmOHLNeWlpdkwgKlOEaiDXCx/G8c1s38b5/l3BLlVVnFo3as0jrtlAZgyP51lIIvlgvmhlnOBSqsOA3gUJKxWrdWpdlqvk3V6v5+nN6Zl3AJyk+tF2CARea5mIALpcBqCqCjbGaDO4XP5XMpsOh8tbekK56wdXc+jbekpt9lj1tbr+99rXdNKW+7D4QU//v8f3/fd7/8eHiaUB2JS5QgmqnZgahh6LNzFFcCJzDzQFL1tQ1xTY7mF9ibpJgwfkuBheC3AHIWYcbNVOvnB6BfXvHo09+TLKNsttkCJ/Krepuc3fbO26QP/KElDwbyvZIlZbgEHWeaaRkmY3ig2eeSlUZteeO+t96OTDaB0JmjS6tvjk5u2rIo+ToCHpmE6amPk5hilkIkCeGmJgyUvwjU9zfnJq55f/cG3L8bldy+un+gQr8kxj49lqqnSKRhLnaeyquEVzfnC/GvIpNesNbT56mvf7DqwofHrZ59JrqQjeJEjZ1bBYJ/QW9ZKg2ss5nwTJL1HbmiGDPxJ1/5TA3mH9jdoh998bnWpevFhaJwIeKZhJPlybdb+TgXZHKx8yMbC7cUur/548oa33/7whxde3dBUFHmGaIBkZi6CS2O1s6/KbHawTj16EXQhNEweDxOzsJ11CoUix7EuefvqBAfAnHlBMJlduE4g4ovCrDBHc871FWweJuLjzvFOUiFnzfPbJ6vSuGmR80rE3wjU8J9gfA1SPZ8QMzDD7bAL6rwiDAvAhqoYZTZ07aCls0++GRVlPN3vimSadSEwEe+OB7KOj3swQcZy6ANfuY/BLt/4ci3DUwJ9GHiIW+K2JTcMESGBoBsJYQEZ1YGM1CCZAElDMm+NEfPDjOSavccHsjOYvMN3oaFKHQxVKoNVIXlLKqBAAda1z2x6tjS/uro6v7GxseXoKyB7B0DS20EO7wepKj527Nhwkcvl8ssqKytlSJQGpVLp1YAo5HJ5vS1TDbXNB9Od3zdmMNgNLLwWhiqQaFJZptzs/DHTgBKsDDw17YnJk4kLl9+mTk5ONjXFrV27ehWavo5+Z82a1VO9GZb5fQo3k9HXPNTjQWkGYFY+ZmVJlWZrf6jzXcQKPyG/v7JNNlN8GSBj8HANg4xrtdrOjfvSj+Tura3r6sor3Z7w9BtRq+OSmyZPTp1sioub/DUaxr4LiV/zVinOEMBeNQVMpJ0Ft1MlmycQE4Sq7ZVWcgoDqc2SyFiQyNjIyNi0aZkYGRnp6OgYBRHDvSgZchptVo1ybPDw3iVJR3zCtAWFTOTGYjFsGhIJMDPcTOSQksGBDUhSlS2PSi8R/yfHxtZ0dHe3IgNHLsAylrxyAqbmeRzeuxC/IBc26jG0zMyWZJuRG1E5/ypgpr/LOLMzLXcBIdOc1C/mgSXCJI0Xomk0NCfC5AGdCOtZhwYP/yPDzKBbWMpzNfAEDFhCCTv1FCy3w4MKGvyE3q3JU1MwM/LpzJe0L2ao0GNammomIq00Wxd6Vl2VBM+mZzBQyCAYSHsv8zFdTlZgZOioki6V/hjNRPWSdD0mWm32B+b5jf7Ruqk7Ult5Gwt1THX6lWdRsvRao8JeldDusxY3zJkJh5/Zr6zbLJQWndTnqlIyVwkQaKielwNe/8GdwcLma6+AkKEWVQwOWJmJyjUVJuWgEUREQZvSDCKzjSD+mjJZBYj51ASXzIkDfihKXG6uQKLEkbFGvN4a9EmLRoY0K4QRVO0WL6lkbk6DV0P+4Cg3FgbDPoIityQFJYe/WBO1vjB43VUUDNzc6UzngV8PlumkRwZR0ZHjic8kvJSQsGqSXNfxbFnbGx39c9xv8AoqLCjthg7k/l/f6e2Nivo5cXs3N41rid+sg3oixieje6Ojfp6MCpHckcNTvT/39r6xJaoe/mrJStw4yp3QJg7WINQIrjfP4dbXTa3uE/9A3tiUn3aZbFv9WRUEYS4RozJdieUdFqLV+6sdwbQ1WXXi7tHm7DK0FBfZWQVF6ZLeqRerQxb1zr0EqmdXKYKpqduFj3YTo8FcPmXE2jgPIQ2JtIlKlHdGGxJ3W9oSi9Oo3DqRPYgRzdnDuRWOO5eShqEWtf2n6lX9fVLC0WJGjWXRrwVcEGEcBRNXVqPTdXSLyaBT73FAtR0pu0bJcB4dRS295e0UCiYpNDLa0SHScUmYib1gIhDjITX5WUtuXH70frALaZjArmZCVOjBnDF2aml7ejtcrYTJEMDueSKjBZVTNLXTDK1wQ6IPwQSn1q7p7e39aa8QfSN7ViQJsyHE7d74XW7WIQGyzI4DCCZy52+9V4NjNnXqKJitq4a4kCGnwzuW270+cQeMPciIiW3YjarERDCyDZ+xKeOixzSwYCpiqAnTR2jJrWjym4S4yajSbCEZncF3Ozs7tVm/FaGgK7GBxQFmk4hLHK7LWrtWgmJmxx4diqdu++4qUM0/WQ9fnYSRACNXZyF5IN4Oxj2fMQFlwo/xzTICmiUeP8x6H71vBa3F7eMJUBZGprFwY4umykesX6zSxJLWtlCTTOKoYXj2dtUADMQM5abY9ufVCOZACsBw00KjpKoiuWwahnKTN+oUaRtJ746Y7EQ7ue4aO7AfGYbH5/CP09tW0MUtaC2ZwWCo2Y5qHzdiOLEepk9e3VBPGqbrgAl3OqSaZIAZyTaQDtB99Hx5qry+4FTLaimC2fYBcpMkuh2XOIXSokkKpiY7WVZQFmjeSQVwqLQpwMVLE+1poKs4GCDbSF6Y/AlqRYVeZT/GEfFQK6GS7ermFicquEATfVI5AThVU3EgW5JX9XG5nh2jgAI2GD+5Nhn6L3FTWy0IZvObCMaSP7UFqTbt4lO3tr1pS3JyclzyhgL4q7gLJQeucFuir4bb2jiOkTVyQseoNXZaln5jI03DZ6trj0WoYwjkVzzTgwKxw1gIg5jCQhM4yOudzrO6ALwJYoOkAyYIBMgZtO4yUlWhnk64rc2kVqEkFvXZYkyxKILUfYUd3LYkJwEspGGo7Eub5tzlhzgCtAFBL7bGy6cTOJ3G6Z7BP2T6uZr/rqTeIGPjUj6fx2Ecog1D73I6weSL3LivYKQnH2Xtma3s7GZ77puzVf9FKwJFb9bLBOZzsgS8MNs9fxqGjprzNi4TOKWKfBnW/NE4vVQEz4skVHHU/JnhzUKsPq+cL2TwN9K3Em2aR24sZ2VmVW9OyY7J3HACfYkzJGCYoZeUtnWNCdW5bZyYOZsYSbbw9U6m4eBkVIZUVbSNj/iRLD4TpO/P2jGGeXPyqp5bhS1XzjEMctQFFw+f71yfkGRliXgDta3cWIpl1CEcEuqFlOjhQf1CT+Q/+hkes4R+U693EhQLZLzd1XpMLGl54aWy813Qd5jDgvCu+dxW2JNTaRfx2I6kQxBlJEyo3KuJWQQJDkFpZCy2JcgJvthb3JxhPrHh7rksVAw/+EmAQ4QcUpFaJY9HbeTiuwmK9PxcroI2qR8nmLZP6R3Bcxx13Y8cmKtBG55U3l4vRbPYLKmv+wkRtEmQfzkZ113w9ywI8Yp7g0weSsQ8hkrWe2KObSKoYcjMS/p6rsbfsTjiezABmet5zOC9V/wTC0o94W/LoS+BaEQq39Wzpu3n+GwW6ULsMrSpCsPIr8tnBvaEQ6X/djLkeyGTj1T5emlGlAfdiJTQtqEvabvNGLWhQXnEP7Hk/LQTx3FkfD5b//Hys+bdXr8M44NddP5gq/Kdcig8YsbUTrlf5vPjyAMTVruszZ5KtjU59jaZPZMcHohkFcE2ZSsZHIqZ1iK/VnNCT2t9Bk8nYsBBp3evQ5vr5zl4MAYtplAuzz5S35/xiz9y5nqeo9dXr9mRQSauxt0SR3sXmY4Gswsk/p8kSFNxtaHeWjaCYAazZsJEgJ7mp+LUofEST4GJL+Bk3E+n3n8IGxTEMo44Z/jthM/3ZPAyf9rdStqXckhBXgf0+AgE09rgClmgx4xg/MeFFusmIYKpTzFnWqjg9e1HzRA9A5xm/7lSoGzcvvnAvjIsTAbBSwfMPwbxza8ZwsT69JMnOyUClfyjV9SUqygYHbT+IigbYLbu3tLoIEll+do18ZmxqOpAiffUKAXjP/YXF1n2bYohBFL7qt+qFViY4YubF3BsEJ2efCHIErTXNvYIBFKVsOGglSyccpO9LHj1MCpc91Y5d/grE8mo1UZ6tmlikYZijbcgM7MDIWZsyswM5lBmgQha0mVUMaRuZUl1tv58Qzy9kX0emsvX9OVUmkx2k5jPZ4eKfjlmQcZBswZm7aDWRQZwjUHITTNUktXa5NBHHQwhML6reLDYZSEDuHhw+NAJKlpG/PGdOMHjg2U0er9cEx8O8bnQo4IvyTgqjC+FfCAV6OSNJYpIhEPduDPv7Ik06hLeTJuYvgSJ+POSin9T9p4giwUJTCTFRW5O5XMLPzB4DvKUeZmAIULJjy+XSoc371RzKRxapvPzPBkP/kAMbt6X4+5TMgSQTkXYsoqEOyiWhdLcfO+Pt7LR5BoRyI9hiRW5O+wEaRi6DYigJsvoy7kNBjJjh/Kjrj4CwyqW2FR8Hp9969i9Ny+MhY6bK+7fncMEJwmyknAVzy2qyM+T0UuvC17PadWs32PHBVKRzhg1AKdCWM5377+CZlkozSUXfw3n9DBDfH6GXuDqc0vs1Xn+EFXL/JOqlI5F+X5KkcNNuDrVwYZ128ag0/Dxxf/98C1kv6vO+0AZtmxPsTx9nWtzEBOz8Yq6lGPGkWmef46SaZI0YVFJiatfhPMxw/aBBpm0p/1WDRxLPo1D0ueim+reweZMp4rnS+4UMKRsNS4xrEvJ9glrKDcgotk7G/8ImDS1ISspVykhdIrcehZWtbrQrWJ4jj2JbqNzT+8g++MXf6LgsImiDwrEIpUnLxfX8coytqbk2o2WSNoO00KD6Uyyhrw6rUeqxkU66V4Xm92fN85iWD+8+HHKRadHc9WV9/Q4Ge2VAkJUOTCeV4gJVGK8sGggr2Wjz6bWpc3p+beGArL2rrzsHo0ec4vHDuzzmWS1cNJVY04tevKuqyiW0z5Zv/T2FmUBxjYeh20eWzMxEV4U0ypWm4LarMbqrqxOe7AvkCMEyTFay33F6155q2VgOMbEE8NWUT4W7H05a33JWj+Leavys9uvoM/Un65xLg2/7wcPp7Cq3H706XKxOOeXn1LdEo+aUOubM9t69uW+f/Roy2dv5dfVvT9wXGuvsJpwvVypEPCkcHAAbxjjeeBwAaev4bHwS2mznC4NGOeiu+45rFl2PqbYkUGIvY216SpNCgApZdaAU4079f1yuTHVaILBkckhdtuq0jsblqRiaOqJLUuRtLqX9e28566LwCzA8j8FlbDivDsPZXI6fEVi0U5t6hKlf4BBmOMP73556xhRUIm73aZyTOKq0qYX61WDm6245gUNARNhasw5nsqwHrrzvBVkQYsg56JSbjnvni8N/RLYKqt0V2yulrGwwa1Sqf5wCe7criV4ufsI69UuqxWO4fd9pD1eeliCwXQHxgwzGdbdc94tCIWOlv/vq7MeufLhOrtcUnCrKnRklZwlPV4Ma1+udXydv1RvzQu02pZkVSncAkHOgfa2pPVeKcYOk9p+fOWxKx85i/bQ4uGsvOmB27Iq6iUshxJX4bnV5TZjbqdALDmSnuvH2P3Vg3KjQyJQr3e5JT7DMqm88svbHrhpJY2yyDjnrAi//ra9P55wSNlMuTa9obbUQEgJzWSdRCAQltT1NGR7mMzCAFPgtP748W3Xh68450yg0P8V0qUrLl/+2JJ1P8akOoTO5lQOE2NxlHIWxuTEyGI8ZRK1w6gp+rDkoeWXr7iU/tTiC4QyVfLKpeHLL7uhceOwLCZT0WzsH9LnwNbIgsAJjUx7pOSGy5aHL11J8UPYnkE5+49vesEj19x01/LrL3v0hjuvXQJy7Z03PHTZ9csfvPyaRy6gVc+4nDujkksvWHnRiluWgtyy4qKVF5xDQ59O4v8dZcX/yCI7DjQAAAAASUVORK5CYII=",hL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA3QAAAN1CAMAAAAAEkksAAAAnFBMVEUAAADQICfQICfQICfQICfQICfQICfQICfQICfQICfQICfQICfQICfQICfQICfQICf////QICcbZp1dgbC/yeCMocbTMy378OryxbPmknjaYkn108Qpa6HgemDYVD/sq5Tu8Pbd4u9zjrmls9L44dU6caXVRTVNeKnO1ebeblXpn4bjhmyYqct/l7/vuKSzv9naYUn44NTVRDTvt6MK1BXCAAAAEHRSTlMAEPBAgMDQIKBgMOCwcJBQzKi13QAAjUdJREFUeNrs2s2OgjAUQGH+20IBuzHRRGc3iZt5/8ebypCoiQSEDND2fHuXJ/f2YgQHxGlHZYNU2okjAHMjsyXJPM8L87HC/qyxPydCYEQ3ykYym5Og7gZhBKBX2tbklNSW5ydtfSICQhWnrY2tMqurbHwtkw9BKe+1JWZjiW0vLSPAbzY3XZhdKXTWkh58JNLd5faskBmnTvhDtNn2y+QUSZ613FngOGd6ozx4IE4z7VhvD5XOOG/CKUI1O36/TVU0ipEHF5S1row3Kllz2sSelbW7G+WwRBMedsnP4B7hsWpiV4SSHq2UQyqp+JSHXWh9OJpMVTRcNbEtUWsTGjZNbCdtAtgphwYepxWsLVbS47PJFIlseeFhGEvl/9BcVrAGUQd0NxmX1zzw8Izi1lDQHXoUN4ju4AKKozusKVYUx10FK1LcKieTbQQslIb+Pe5TCd/NsYTIgv3PyRIVzzvMpHKDmTRrJj5WslYukzSMO3CtXFuuIiCQIXc8W5dT7+dmtsG4wzR7H3LX892pdzXvnA4vvs1mGHcYI5rEbOf853bqXMw7x8OLL/POL3v3tttGCIQBOLVzqtJW89/AHgTcICRYad//8Sq1VbucTOJCvLb5LhPbSST/YZhh1zNtaVzW22Nf7rqc4zdclCYPQ4IgD2eIMfI4XNxrv8lDl2yeXHwm58gjkKCo/CBLHosdeO5VZreruvIPQ54VCZx8A0JheDn24fDYT2Z2/xxfsQtzsb60FDKll1mxG699c9ft7eTJUiwdFYUcQix8lRz2a6xgJ4lP89Q3d93Dw+W3cv+U60tOIY2QfdfAwDhNf+l1nBg+xVvf3N25L4872MptrORBSFLMIuBoa0YKUxSZnTD4BG/f++bufr3sLHKAKOYpphDQtDUiQXJK0+si0Vjvqdyvl510T7ZYOU8xBo8hj0RMcjqBD+OExg59YH6H9hg5hPUlh09SioBHFAcGhlPR7KxBQ72VeXd2GrnSXHtJ5wMeVTwnNtD7aNWy1uyxuyu7jRwAfioyMyUZbOnScRRBH8DXUaKRHru7sefIAepEcWgozZ14EENE0wdxZdFGj91d2HfkgOlEG2ShNI0NUTolJugMXEk00WN38/YeOQA6v4gNlGHxz0pbCyIrnWeY0ESP3U27gsgBLruIMe8buaMrvDAwYHS2laGFPre7XXs7fZIhs/WloA3rpY5lnq4REXQ+LtFEj91tahI5y1DfnKsvVy9mLl1FLsGzI4r+A5/QyqGfybw19Y81m2UlEqhvya1VfkFp0qO6tTQw0KlB+Diq+cJrXT8KfWOOlSPHrNLeHK0mkxnC2eAUypCsQjltIWLiyE34bRoHTiWaoZV+4c8NOT6hJrkMbe/5M6T7jyrYxIlUHSlL1wbZKHPM/+OUppNGtPTUG5m3oG7LUgbvSYn6RPqQFw/SxHhiij6Wrl915OMGIWPdTFkcbb32jsq1q90/mci3oD6WrC9tlCaV2L0N5Vs5+EakTeNAaRYJDNUcHh+6a/b1gMrIN6C6zHzbRSMCmagki9evUsAgb3KcYg4xRuuEat76p49cr+MzqlvJx1CfTUVHJ74U/SJTKR4T+WacxEaKDIiNRDQIVPPUP+PuOrU5f7KQz6IBHudaJha/JfraWNpwjh9ti0zlTd3f7aVeGGr50bd2V6jR+RNDPoUGVNwOcYmakEUDvaGQDgzkm1CyUAgRQX/w0aCSw/eH7roc39CIJo9GAzZu/M+pmnAN1jVW/H/AyYcyTYHTD1ESlTz3qd01efmGOhhDyJFPogEd1pcm2TK1QcZsaWAgz+gDuWLobJvLEfr44JrUqiyN4wtCtvXQIH6ji6DIM8lw8vBpDJHljEn3WOy9DBTQAjX0GvNq1KospUpXj+RbUV98sCSuLuNACMylVUyd0QYaS6vjRDE+MlTx3PuY+/flFVXYIVejreRDC5q2YDLLk/GyyYpLsD5j4DGW5nSKUrgyqKD3Mfev0jRc6Px60XxoEP8QK3K7yMGLWWmzaaJKsaj84VyGMuoMzPusfOdenlABG/mpprokn0MDhrbU+q47ovBSW9WeUxrPhc6Ro4x6A/Nv/Rj0T/bOc8tqGAbC9F4kiluwTQmGJBDa+78by6HjIsdxLl7w95c9lOXOStaM7Ga5ghVwlhMfzKNNA/+jzuMi5xDBoo8s2RggvHHGIUI1w7wPVJrlVp3QlyTTidb/gvpoiGFifxm6610LRKeI6iiBoIZh3oNhTXLxHtaBcaJknMY0YBBhjDa79HxHVHAMpFf3CWoZ5n35oDX2+wTx2sEIPax4BCuEmSN9KPGXKhMdHRzTp7q/r7sHjbG7zBmXmMZJ6nOIR6AhjIrOOenyK7yqSUAHxwYgqGeY92LXEnvLHLOgEjWGM+JzrvAIeN7iNoMgDgMIQpoeZHBMAUFNw7wXu2bYXeYkB1CpD5LGU5kG9IjExr+OduBERkEkfsDMRO2UI3jUM8x7sWuDvWVOjV6xIruw0f+E12fKHEpOiZMfbakJwttfI39+vBXXA3hUM8x7sWuBnWXOiUCHqL1P+olMA3ouyDO/TmEIDQF46sVjlp4q2WAnrkRSdg730Ivddpry5tgc/pCORMZXe/1nGiMFw83MuZY3pU3ah4DYi8dLsm1lsb+esxCHL7iPaz2gso2WIiiaRyqD9gpHuWnAtOVlCU2TaXm7mDZ97MYXj9kY/o3pIAGTHKJYhjvoAZVttJS0VENMVbRBPmTeBankEJUBzZhZwQRAZul1eS8ex0Wq879NTI9xfeNOrvbVg1waWihgiXfc6CyYzDhCOb3yfQlNmWd5o+biG1Z+hcV/Sxr+vdc0vprdloYAJ0EkQ8u51FcPTs/FO7gLlTTAGfEhMZR/rmYinO8RrUuD+MYspcK9WMhjFGIED04cfT2UJTz+UvqeXSYNGQXI0qqxhEHOE+2SW1Yeioi0gYUy/Eo7ZTW1buaHNJjdPMigpQnKF1Kio7NgNjZJn+YRgghshAXK0SWhMhY0zA3up89TkrQ0QfnKxnzlmGEauGWFOAwbwQgohaWCOxKjLPyYyn+nt5gn4v4l3A0hOjIL5rwh+ES9MTVhM6i1Qndp/ZZRYww2wCHZuUv9bsw47WRQvkKJzo/Pj2nTAEhmbAi3jLCdiXIf4nvibDik3e75lFNw/RrWgBAdPQ+fYSsjtoVZxJ5/wQxB+OwwyHTMffTdsgvQZGv5hZEwwIiBuILNOGyO2IvH9Jif8Y174uqgF117i+nTZGv5BUE1O0t63sZhG6NtUHSIxIvH0dokwSO9uqAPO+L2FvNILtZqLWnR0VmwFTYgFoMtE3vxOP44+bh1T1wcV/f7FPM4Ll/CetCiw5nIQGWXuKkZtyCI32vSmtNb98RNjjnuRoVl3O5G+SHcxarQonPJ+aODHNal0abSw+s1k4sBA2Twa0NtM+9wmbGQmxc6X2kna1kgOiILNgDBODdkzW3A6XkgLvNS4JHeEzc5UyUJZwwGS+jvan2loW3VACstOhNLUdCmAT9vJe5P1CKFgC8MgX+KgAgRw9zwDMPA7Npx7butX2jTKfiBJERHZsGmxDaown8aBxvgVlqemgR7C7MrwwK6d/CFpvLNhOg4epBZsEiJ0+e7xAWg+24nOZDkv53HJyyhJ6AbPs6FjCYMMqZmbqtf4uQ/XuIS24Z6LMiTRRuHmWEB/WDX7nGOFh2ZBfPdc271+XAGyiH26idRmIjzXdHyecq1rrq/5s4xg7hPdHQWzP1a4to2v+tApgaMzc2TeYhaWxmXumP3l9y5hVMNCi06+rKU8XyZ3/uhy7+bedGJbqm25dodu93cwALUkHEaV5To6CzY3H6+6wiUSGmIkUtD3BHmzN5A9L0LnROHLd1K3yVMiy7n4Szzn5U4DLeR2iuFQ1JzBv+EDTVvt+hRzFOPUJj07hIuE138spQOopM8OBWhV9NHgx5zqBqW033y045Q9Jg7BFPhEwTtSf2n1e2McBupw6q0EGIIrZZPte+26OOUUm4iAXHaIBwfRQzUCIP8VHx8//79IqW04gscgnz4fi+mXM6+nOGJ0CL1Q4hJHltT8M/N1dfKL/Vxykn2VZmFEKNCLBAdkQU7FPb+vZSzEB+AJKrCWS7H60+tqXabrcHDHO0WjAz30tMp27m4fWzpJ5HSWb5c0U3EemZFzFlR+xSWWrn8Pp2p7yMehUvqw1KdOe0WlHPjQufoseXEtzzOlC86HL2LCKpj3svZF1td8c2S0l59GM/dLag/q+pDzFNc+cVmiCIM/gEtOt8MtgprYyb5aYCTMXySk8HTIUJ+C+kW1KFnwrZw6xKWYQaIIvF38kWHnHgwuwz2XtoB/grCLicatwzUd5l2C8rptzgcuzzn3d9ND1TyRSe9Kz92cqa3Tx/gL/PhkzxceYwIXRJuwV66dVDDKqBxa+4DoPnnCFZzevJ++ft6+8mHs5qHx6EJ0RFuwW66dXCi+4fUCDG4xp8M+Yd3g1Vg0yygQYQ8Ks8mCNGthFuwn55/rpFwpmESogiH3xEnTXd91LahAhd8cLz2bJO+jmgJ3vQXR00LbqUbdlU0R+MExOCyuujOveC+82GuXPFs+rJLw8EjuBzClJar4N9+am6kG3anuphBc4gxqJOKbpoHOEcMc70zniPepBsgyMz+UBshSoquutqWeGyoyCxEmdmJRGeWJs9wFJ+WOp2mTHeXc1T4xlebPw/Lp1+dUlVzboAVI6gBYvDpBKKbzkdPGe00cRf0YxAKShkNbqPb5BU1p3hSLpJDjNWhPVB0H/UnOO/wT5phnIKTtfEkWYrEbLrq6sZQFsLXTpl2fJFHvcP/cTlXp7gUw75G09j4t3iFUjbNU7rqqmqO2Yzc0DQCQWXRmfkcN5X1deckD5t0C+yDa9xE3yavoTk3ZHk7bK4uutMr7tmjM948TvACfqUl3f3YMB89t6CMwsvXeyRsv+YmnhsdMuI0ovu41FTc00ePXjx+/PDhw1cPcngIv9OU7rTwNu4H2M+oMEFXXXXNSd8AirPww0XHlqGS1t59kdqTBz9pQnRniB1zFbUCT7sFfK48T+mqq6w55p3CFXH8O1Z0FWaVrx89fvtLVWtQdGfYCUtxU9ot0GjGggLsMExXXfU6NwBsvKNLjYeJzlgOezhrI3+orXHRAfDZYBGEW7D6x28aLtYFk3TV7dIclWUYkEAeIjq25yD3+t3jhy+/iua8iO6MQTPcxxr7mTlxyEGIWWrlkKCrru76nIDte1hOQJyyFdX3tlhvL94+/CqXcyc6AG535TM1eKgcI2EUq1yUwky66qLcx1yoOINGionH8ykEFYvcs3ff9HZuRXfGh/Jy5/z/hRm/YcKFTcpJMdxAV13d3jL+v2OQgs1VRs/lRe71m6/95LkXHQC3Bouw8aOBt86vlcESuuoO0FywR+EMScxAXM+Xhx4KBiaPfzoB/4DozhAaC2A28aKIqHb/ZVcdobkSbOEwZOF739n9KHlBhftNI/+G6AA+FJ2FJx41WaX/K+V01VXWXDDUMGMGbk1ch0lj7NYz3IvnXoX7V0R3hi2Iqjjxu1vwE+UZCfvoqqupufgwhUZ9TwNOuJVJbCxxb4MW3D8kOgBRMMuUsUMB/Abup6uuouaCuQZuMAf29SZL3Ir+sCnS9S5a4v4p0QEMGrdixnCWSHhWQgW66jzNFbNA8Q1uTliH22CSb1Hci9Qp7h8TXYmFwObgiUAeus//n+/XfWbvzLachmEwPOwcVom2dlM3cdtJl3QbBt7/3VgPHLATyXJmmjj9L6HMBZOvkn4teRXPnGOmPGQZoDLdWeI6AJ3kBHalPYNEM5Y1Fq8hUufcZhBJGcHkuURf9rrDxHUCOgF2auqWA+qRijocHnXtMOedboAK29YXC2zdsYhLEjoBdgU6Mo9U1A2OuraYI82UeAUht+M6J4lCR2NHa/+Ih7df3AxIL7E1ZcRl7ljxkVtO+BNeyUIXj131aEUdDuoK7WsMU5FNv2vvTzXOD2mmqAyYCivkEoYuDjtxUbc5nKdTe+BZ0gOkLpC5agpQ28z2mykHbEN8x3J5Ckwrk4YuCjtZUafsn9AYWAU+vxmEnmOINlPqAlShvftZ8cp0L4JcB6EDuM9Rqn34ZF9RSk9iDuRNWmFLqwdNX9Su4CFeoZvf9yTIdRI6gPsKZcqdtR9KOX9vZJjUBTGnzowjow9ipnw2XW4Q9AE62UwmOu/6UUjJRr5iJPmBsKDhr40BYBRsxPUGgb5MgaHFd7uyK+oidLINBMQyrO1qIeo7N/0xTJI5t1jj8KTKNs0UZYGh8epTh9RN6GS3Z2xQUWfjb/M9TbpJ/uQtUqKZAyhYny2QlNw/ud1+6pS6Cp1TDkiKOpo58YhE+qMpQYMouYYa5eiIut7A1+d7Thv8EubJfLXtIXQAhi7t5EWdBYigbgijKe+QrxxCmKNOYfKLuY7mlevTHcCol9CFl3aaXdRl4Ii95TWMJjnRFBcw17KZorJu5pWj4xIA+gtd6L7wmVvUzcAR200ZRpP8PfI1C2WOvt5AqyIzy8UF8srR7QIA+g0dwH1IjnlgJiyqBAl1A2rXEQ06yhehg1cBUWbKl69kKbe6AHJjAEgAOoCvfAIKZlF3ABBQN6B2HdEsEDDnKI8Zfc40idynR9dqCZAKdCGDIoaXr0whnLohteuetMgc38qy/AGUDiI3WgIkBF3IwcM967cItM74V0NrHBDNAiFzxf/zz0ZW0ql9F5EbAyQGXcBO6kzDH5Vs6Mq8svXPzNAaB68xgjmdbTDXHuY0GFVvppQFuzXXC+RSgM4xVFhjtxv0y9skKIyfusE1Dp4jW6r0T/Qo83+msNFu0j6DP5oqZEkRBsriAsitxwBpQhdwxz7XZJfIa5spH3XDszADjEtl6mphpbyfNMpvaO2Rp0p3rkkwnwCkCx0/2G1MDTa5UT730iJGU/fsJhERxiXFHPFJozxmis7bCXO3bSC3HZ0m2yD/JGnoAoJd5i3qLIBRnssOpu4pOuDgLMwnD8ocgHH/whSthLnxNha31WT8E6ElP8wdAVKHjh/sZqVb1Nm/z8W+5l6Ach21gVmYL/EBmXMzyY2Gs2ojzC1HcVbIZLxwcKEx3cEAoHOCHeGn5G5fyHimkErluHHh1L27SUABxqWEOfciyixrw7RcTGIi3Onu3yyV+w9PAMOADu6LAD/FeiYgrLeqa6RuMFOYASaK5TKHZ2KdIL43d7eOHk/+q+WcmVrewWCgA8j4for2TYhZj4F5aIO6jzc91xtky7KvC9n441+FoTJL+Xiyoy0zPi5hSNCB+cL2Uwpfl8B6xtxzlzp3vS5xM+XJ0wjmCvKTZH9ANio7kWaVt4uIH7cCGBZ0/K3yWeXdPrGeMffKCYq+xylpM4VvomQucwSe8uPbatroWcoyy/VkWZOp8v79LQwOOmf1gJR1v2xz/2PT+DeICZspH5Cr3Mcce7pcY4g+6yYD5STbB3DKsbCCbr6DIULn+CmESs/CpCWok6wcvL/prfgmSqEJ5oh9VQzQvtFAmYuC3KIe4i0rMV3AMKELfC+P971oZ5o6d+Ug1ckU/iSKKsO2T638GsoX0xTmRhLvpNFzXLHi5AIGCx1MFbLlzYeUqb1IlTcCnuBVvoB1nnPgnYWDeGuq0i2HuZVTyYV36CYAA4YO9GfkSrvPiYc6o+qsggAz5aaXes0nIZA5zKSHZffthrn5hAhRO56FMmzoAiLQ2d8ML3QtdVaaEn246aHeI1sl8Tsgv/A2AtcyPsytb6mscDFngDuGwUMHX5XIbzsgSZ0qB9Qjd7ri/GRxKvgHUtdSHubWTI+fti2v0DkuJtNCy7CWupqHpUS2nr666ZncA+r8QDcLtTpnArbJ3lw8cnBi/JwdXKELaJRndQgVdWcaNq7dmWpZ9w7ZqgKtSKUlgU5ZGR1y5OCO1Sq4QvdbVuBz753M0/lxG98fJ1nWuQUd39zYB+7/6E1kp2C3jUKO6IoTzF2hC2tezxzLjaAuA19wTLCsC3ojliFsFII5yCPLueM8Djl5V3y9gCt0oYNaezZ1uXfUCX8owbKO6NARDU8bxpwVlHNyB2V+BKZWHA/lCp3DSeiX9KyZOuOHLr2y7jXGQKdVCHMGadmG1HIt6svRuuMwd4VOsC+i6nd2rDvXpEwzdKlstH7EIIW0SqeCOkAZ+RIPPa0lL+ju4AqdaCisYFOnXepK/K20hjBfPRVAJ1zqKRm/ovuWUsvREvjaMuZQrtD5ZAq2301TZxSiMt5qJK0hzBcYpikQKBF7ruJhy908+v6rPIKu4AqdwE4hN+WM205SunZ4KZXduucYqD1tHsuZyxtcS6l/QmtMh024Qhdhp+S1NoAybpFY6IaaMYXdujcYqgIo6uTMWSK1lBRztBZrullwhU40AE3vp260624Wuva5SqFv4I5/0ZoS1ImZU19baYhvxwI4KOPyCl3cdIqtfV5mnihY6KY5ir73DT5guGacejoXMGeIlQJhZhnfLbiFK3TkdIqYuszThSh00yPT777BR5ToTNfTOdBn9/i25Skqs4ze51lB69CtJyztoC+Koc54Fr8qirnevhn5yVOUSJUUdXl4sV1oopwTepbxyeUWxNDFagK9EY2IrZt7z325ai5nDt92uW/wDmUqdPO2xyGcuVwT5ZzoGV0eR9u/8IyOS8Gy+Hx5OehO0B+xqXMLQdmtuH7uG3xEqaqm10yos4C5Fsq50f/J2HjEeGPqMnYSJR66REq/+hU74kV0lfQAeA8HUwJGUbiQ6H1VWd0mc0e+gcLLSkf/F31zKthcoeNKRp3S4it//UswX2CE8pjfBb89txIPfe3mTP9/RK7QyaGLFvRLodSZGeLMQBR0vRpMeY9RmunWJtGtYMfNDXM0cy51rjXqfvYKnbxhR1IHxgBEQ9ebhVZBckm4KdLGqY3e4xktCeYca4Q7d3mEy0I3hp6JQR0h50JjbpFSXyafBcklQZ3wt/A11kKZH0ND5JbbGx/BFbpA2finpvh/FiNHWn1IMEXJ5SwPpk7+zXcrDnP01sCRN+08X1wauiP0TtHUGffjBdLqfoIpSi6VBoI6MXPyKZQJMWRC0jQWx5n2oetzd/yPrIqjrnL3zkuFpLrvYIra4sbxp4oSGnWWMrdg2pbbXWifwZ2mrP3QCS4OXc96Br9koqg7+x6QM9Lqeotc1Bbfe1xhZWL+95WJtC1PC+Ee+IgB3Xpxhe5xqXOD2jnE0ex2i1w0c1kB8KiLZ25JUEO8aH/xiRYDujFcHro19FI0dbxhMkuNqfQowZQklxsNNHXyeo72+/lHUMZhtmBtOdUB6HrXqIulrqo7xagVkuryks8zFMgAENQ9MnMTEPiefOi20AnoJl3XUkhdSY+05MEvNezuko9kWxyz+pEBZWUTQUJk6DdWTdqAbtcN6Dqv+a692kLnTdHwgKS6u0X+jb0zXXsSBqLw4777pCZAl7QNUEo+Bety//fmvmI7yZlBgnb+aivFvDmT2RIyiojoFt9TE5kPu3GZ006JQWf/rKNX6Eambjk8z11gLixbl+qYosfAo+fFZd9xtxn0+IzKXK+UHHT6j87lFTrCSKfj/YKw1W+UHokVcpjvmCKk/us1eWLbHn76s+MCZa4K+l8+qbGhM1foIqwGq27Xh7Mbdb4J/sIZVIMh9V+vQl7AzculUurw+tVxQdqSw1zr1djQ9eoKnQh1lK2+Ybdcn92W6SsiU68GI1J04fHd4riAbc9hrnJqbOgad4VuNOqGe/VyudqxF13KybqHi3hjbDryzHVKjQ6dUVfopKiDbJgwoG/xTTdZh6ToXgJDfQHmnAaOczB01QU2tLpCJ0XdK7F1Qq+7VJN19xfRtiZ2nFhbMcotG68w6IZ2/q9bd4UOsBqY4ABE24C8wT0AlGmjKPlB9kC3ZTDXOjUCdKqsfnNg5wydrrJPVmnS7J/esP7Fsm/WmZ/slPWtOHV0LAG/3uBRJCaTR1H26IFOnrlKqVGgU6rUPzuXc4Yu4ul7TqrEZcHUvcEXCzRyJ7HRDUAU5Yb43ZG2YzCXKUnozs6G8P8LdDUvP+lJ6ugptFH5YbrfIMVYChBFyf+o8AvUdgXOXK3GhE65/luK7n+BruRBp6pg6t4tCCPONvzClJi6lMmjKK9Fd64cZ84aJQzdwIz9HEX5b6BTDa/k1BA7I30Oo20X52ilF0t5tIi2G9GTcb7BmfNKGLozSYtazRu6F471fJWKsBd/gbpVpIOZWF3KMIqCKdPrBWo4c00Mcz5osXfln3DVau7QdcDmBHaqW5o6fpJ8KeNgPoGYkb//EXQu4U1rH84cPtu8zJrQ5dl0Tg1s9tC96A3HP8zYv69WorG3YxHxbanFUh4sou2GL+10UrySZM5ErvPqV7n7J6D7aO2XDJv5yXzoLJnKc3/fCU7X8VdhYmmD+I6evJDcsbZM5vjI0eXT/wp0oYGWM+fnz1nxXn+1hihaJc7f/HTdaxkH82EYJxOnC15Lnoh3ozNXBtVLXxrK/t9B1wBfYOiPW4+n6/ibf0IlmIN0ASbr6It7V4zNXEeNM6L78/476DQPushY81t0w17HOJgJpQ3i0wX5gVvjTScLMjHmSnr90LUu/xZ0bZWdzE+WfbY67AGt/nokdKX5at1g+heJNl5UQfe5HBbnLJXZs8AAsJeSb+09UYfEZe5kmQv081L6h6CrTg5/QF2HvY4zvFZ1CUxCFROAZNIG8QPA1pLO5UuUOVuipbtDo/v0/hXobObwB7T9pXfuNOFeNnXAzXMjr8Y0ug2AvPiGubfQgUsD1KEQ3a+JuZgTQafPU+Md9YD68jbXEmc64i3CIcyX4T2dqaQN4rsLVoLO5a5A5zgbFWC+FfLI/hHouksuQesuRi9tTdY4mx8vHiiQRWuf80OEbiaRIY/Pix8LOecyf4syR6yAH1+UKHUTQEes++bXHxnrWXS/bIQG2CThnNM6tDgqFamLF7qloHO5RIu/+lDmUqVOHDquQ+5/cwAjcyelvQxdjV/UStvLqDLgya+si8+L3wg6ly9R5nQoc8lS9/eha0uyA86eha515O8ZQAe8PTCYkh8iknXTN9ZFF4DlBznn8gZNilsHM4dbPW/oCGyc/a0zPo657rdXZJBJ9HgwZR2erJu+GCxe6FZyzuWuQEP8J0Wba6SXrZ8zdBQ23e8Hryidcva3v2eA7A6nT2UfuiwTkLpooTvyCkzpSpQauCIEcFIRa9x8oSOlqvldzaN8w+r3U6OBtiv8pJIX6Fg6uhhscqFbyjX07IkEHc+5rF7Im54tdCRzp0EqLYY5/yN7br4AZjDHHG9VuQFiKdMUg0UXgN3IhZy2xDmMd7jqXoxh3Uyhax3jcSrkxwDMASMcETmApG7KSuf8IOaF7wrUJ9RoEIVvtpwldDRzhsWcAZgTz5EfCySWQkvd5EK3Euv6zTfESuRFUX6GN00HkwGdPHNKszIlGmBO/li3QlIQtNRNLXRHuYsL9nBtchM9VSfJvAEDOnnmPKuTw0AvTP5YtwHcMFLqJhe612Ipui3jdmNkUipus79AJASbitU9pSHm5I91ayDgQErd1EK35uRC6AOdD/TwajgqkFLDAf6M8nmOksWcAZmTz9btAVEgpG5yoduIpeg2Z/KrYWZrfBXwrZwVdEENUBUrbqR5zLlS7NCSF8A3EVI3sdBtxfyAl9xV2GQuLoqSXg0mDJ08cyWrY9EwMyxZ68Q8qFfwEsWlDhc6eBtB7I1Eg3flIy6cSVDq/g50tWIInWH+kCpwFLSWG0SwQdMGuNThQgdGZId1NiC96gSE7+vQqy9SlDoUOnnmStZ5zDPfUz1QRM54sDWeNuBLnbzQHQs8tEsPIiotNu+jDHR30pM6aejwZV8RUWIw8KkjbgfyYnmDPRSVwaUOFzr81wC2FT2GVSZ4NacVwBR+THzZl+CH8cDn8CzQOKl4wbEAz4d8qZOfL7uTqkV5VwhP7GprR6wCabPzgC5w2fecD6ue2ZHRDBAH9nT8FERL3ZTtBUupap2lwIFuOBiOLkZJrSwFg06+TtRZTpGps7wrA0+XAp3vF4gdoAw5f8i6fB/dWqqj5xVxoMOsCwujpFSBOTp0RgVZRnwYa+Yw0W/BSzmYN2AodNhCnqDQDZuV0FIULRja8HFqoLPOGJP1beS/lz50nQozy2phaniugBn6s3wHcwmktvgt5PJCt5VKF2xGqU5usNNhdVLfzdUxFHTJQxea16hZSZEaDnwOQ5+VVGHKDvDK+FInP+vyAIeE6FOuF11hDT7r2IRz0KYOXesYUtU63o/QSiGhz5PUdLB9klIXO+tyK6T870aaZVLHxy6tYV01UqYNnS0ZlxxbD0ADMdsTDw0us2PBl7q7KQodtAUtiRfPH9NV85SgbEMxTxu6E+cpTgrwDmlm6dCnlopgrsBiMHzcs/w1PVvgNxCRS9n6EbI+gmAuXnd10tD1HKnqFQANxGxHHJXhCGZe8JPKz0C48Gt68J9Ap8Xlh1Pq2MoW67iT+2zK0LWAVCHH1Y4APv486YUczFdMmZC/r+7ZIs5WwLkUcC5xq8j7P4ksEpA09OlCZ0uGVNkSgAZzAU4k8biDeQB0Ar+vTr7UOS9k8uI3o7WbZpHflwkM76vThQ727+gP00EYx3sDGTppXf5EdB9ACyh1hoUOZdc1wqusBpxLrPi6Txa6CpAqqG2pInwIKPTphZp8NnypuzNBYlxY6PaIc9lEeosZQ+jiyNWpQtc4wL8DPqwc8WqxnqBWqIt8zZe6p9NVgK1kRjq/QZxLHZawdnEr2dGVUbTZVKHzwCNAJ9WO2InAUulMqIt8yZe6B1MlxvNCpgDsLeJc+rA6kbiVrGWuQUgUugzw77BGwYYIwqD+hAePM/JS93yCxLik0K2QmsssqDwrFro6xO2izSQJXQv4d1hxmyGDMODJuQU7N+Wl7vatiRLjB0ro4BSdD19ARgcuNBn/q5wtdLZk+HfWKwBZIAhD/O9nULIOl7rxswaRifGtjNC9R4KEPrAYWcdBp2gLyhmkCF0H+HdY64QjgzC4C++xgSnyUvdEPF8gI3RwFKWLPJ0YnRZ0WYLQacC/A+OxHSz99GRhLRNLOfKl7s4Eo1GkhO4tUPjRDj9SXaETcy6V4d0C1vISlzUt2PxYyh5JdslnDR4vaJMXulXYmqMPGGVvr9DJOJeqYvXleoZzSZ8trBOJpRz57D6QzxfwhQ7NOhhwAbmsuUInELlUjteWWxHOJTNU1YOxFL7UybfV3VrE2ZIQOvinuwY/ndQtDzpDL4l5QueBMxlawG15VXE9sOUCdSlrttTd/uv9BWta6MCRFRnrdGL0ueKQRsQJO80SurgHali/puY5l8oiGyNwKzJfNR7J9hfgj8z+lhIHY3i4k69I6ecI3QfqrrS7aRgIPvo4ytW6lpRA61DJrmpTbMzx//8b9+NBIBvNaGV3v7dNXK1mdmZ3HT1hbUfgwwtJQt1qVQXM+KjAxqPCbZe30ieGJ3oML3377vddnXiSQ5YXlo8rSzoL1GRo0gSy+9sA1Sk248PjxpOyMsq19IFRu2BOIpcyywx5MWqo72FHStq591zSjNwroT0wnQSuFL+ka8OzojLKRtwvi9oFMReIBBeB0R7pjLT3MOkSXbaRSpoqcqDfASwCtQ1esTLoSVEZ5bWgt8J2gct5ac+mrrvElyJM/MuT1zZl4ICsgZNmIJeA9qgO+/EiOd7Si+yelpRRtoLcimZuaLJe2lWYktdeDsKRuHfzdIlCiBWShisIeUem2gvcNrhhe8EeFexG2QlAB2+XbTUVCl7pa+v6/k2Oz0DW4ES54V5MOwLPFnfId/RWvycKMgp4Q6BajJWVK/2j3PtD9ca925FiACEDvz5mriCseuDZMlDHMrazYtsuL4UyFgY6o7rbztVc1rl0bAl2WDrpBgJqmgB8csavHICpKcYhf82OLDwvNtTzXgA61CXpFDxnZKdfH/4FAcdngv8zT41pnbM2lEo6iuBF6oF7oZqUYgKMVMYp3mzZX3JeaAnYrYDs8BhdFKstLo4X2ef9jI3JzcX72RO/599orfWlki4AUIOzw06oJqWIgEZFQd1dtRdppeFpod0odzlq2Ffp9M0WLJWM/fMsGuxtAYeT03yNyX2Lzv4Rfc0Eg1UtNwBvOD1pACpUDup4AHlQZjeKAMko0PkGeN7oPSxH3/0CidAZsIqydfEg+0Eaih0G8pKcgEuEhLprtlR6WsSk2yEdYDzQNb5iw6c6XGZyk4m4L+ZqLBYDuo5LmpG8JCPgf5Bu8SXrGjwu0ut8laED7EO6LTrehxfo/3XQ+7po8BeV4ZKm596NOQAlKtv3zB/nJwVMujeCMY4CXctYdPzYiIZ0EeqFwzH00HJJ09Kejtxd43mo44nbGbl5jyfBONAxKgrPX1TM6LEGYkmgmzigmzigq/pEHWVoc0DdFtjpR1t15xcpsdkKxjgIdAawm5C7VD3setilY+4kC1xp3D8spH6jsQ4C1GEG+fYiKZ4BSffiIiV2gl8AAp1VVFFkhVQH6IYaiCWBbuaAbiCBbkydmWrrHFB3y/ZXnapP0l0BfgEPdGNV3ROos0KVioc+0LUc0LUS0PEyl/8bWYcMx/GahMsT7RawN0LZiQKdXD/fD6gz1J9aFug8aYo2AtDxhk7c+wGTwau7ZM/0OcEu+VsBBzoRPu4H1DVhPSadY3oHLCcNtzqtC2b/D9oMUHdDSimnMLvkZRQ1oDNVvvCqAqZbD9DVzFiNqTh2GcCfT/JqXZ0J6nakIH+iu6dhJyg94BydOdL5WrtX11frAbqWEQ8twi5JrblJ1VFMnQnqNluyK+Vc9a0hrwQgxubo7PFzi6tuS2nCioAuEC5bJC+zoDR49a+hESPOCchxTXalvNAcMLgFSk4a6BpfZY2glg7dioDOMC5bh7BDEuimNCLx26Gw/KDZGzZxHyiyyztBRkGBTq6T7gPBnKpqPR1glngqEWKHpO7VpzLmce96wZ3jK3It2FNFdnnDyyivBaDTswu0DTQDcFi16JmH4pCbDAHZxFtq/PexGaSMkeMdubz2hR67vBRkFKxmtRJnyx5eoz+r9wCYqkXHGJieu8hmrVlH+2863PI7MDfsrhQ9dnnNyyi7A0AnXtlrtsibUK1IRWmYQ99yTzSqyVv/g8bAEjD+aJ9rLUfZbPm3PX9MBTpbacSQPSvsmshl7ZhDP3BA1VVKhkH/Pz7b8lLDW9KqO9VyxncC8cUWWbe0CKfAZgARZUXKJaDZB/KRG1JsHhKe8b7aGfi25xvOqjvR6rt8LxSskM8XNICOF8uo9g9vrXPGxLpsMHkzckjlWVd1TK5TzR6wUwb5a/JXnOv0XW54F/LNWoAOQCOk8gx2ds6UJ5uWuIMakjgElZJun/buWblcL9gtKRKeKrFLwbaHytWQuJ54pX0pvcSebOdaU2qoNTLsznEmjNFbSXpACnC8QX7FqTEnOjPjVwLrhbDS6cyL84W7UnextaM+8RyZdpDAPc1Zbfm2OcBHo4RT+pjyDNhIROEvbEH6JkkPWG9XSmoh5H8QTx1rIRAtYIZ7mlGP7E+HmEon4JR+9XSmsZHonVBpQn7BmAx0K21KOXBWZeI55S37DAM0M/c0nR7Z7w4xlZ5X1t9zeftcY9/llWDSQX5BTLuxV+yOD5UYMvFssxDPmUiaSHL1oFfSDQe1AMsfzwR+ie+/PLtIiFt+895nwS0TgW69Nl3GD+utdVTqNUzSTBy7NIrvUzr8D2x5Irbl+OXL/NvU39EtYJ8EViEB3Xq1y+/h1/LxJqbADRy77PRKOiMMAgV61uCa45ePgGZngl2i9uNQ1KNTHrxxa0m6gRT8CaBsFL/vJPQ2OCFl9PnlA6DZWZtdfkxUM2ylFlOdP+JKkq4HClwOqWaaY6dXqgKrBqQUnl+e525HeSe0gCH3iEeAbr3b1ed1JN0IFLhc32TLqklDsg9iBXUT42J3EljyTSkXKXEl7GlAZBS3FNDZWiPMOpIuAH+NQ6rIgv2YLA85AeIxKeUNxy9PMrej3ArYDckoMe0Ir9ek+xl+DUlnmGZly+HUqPh1jfwTAy2l3HD88llew2AnsEuEn3apLR5rbQH7FeMakq4j2GUkC+SgyPad/B9saSnljut0fJjXMHgvsEtERjFJssSKW8B+Rb+GpPPEH5u4lOk1teRZLgIbz86yvuEY6qOshsFGYJfI1wlpF/ZKtMGDEZb/hBS7DCS71LwEwxEkqaMHfLZcf/GDnPOrbwVnHDEeJ3rXpf6bx539GsdnwLR80jHssieNba9o4DTHFOU9PeBzzb1l+DynYXBNq7HbtMLKVXoxHp9ziVpnXD7pGHY5ciP4plLWUeSx/4FaC8ajy1nOCYOt4IwDX6ZjiZr+oobGp6bAoJB06uySQ6rAVwTH3n8yV2mFXSnUSecnDZ5dJMQlzS4/p52rttKLIbmxay7e9WyWcMYNyRu85j9kPspnbQQhhON09KTBw4uEuBOYLiDEBBox9E26kNzA0uglnb4z3nEf1ahOfITjuio6dtD6LeeNPc238PJK+CqAzedYkqQ/SdcCVeC8bNL1xdmlB0AW1lHkx2PYlSIbboXmabYesFsatF8Jfqi+X4AkEKB3mmWTzjHskoSpUE5HaQREZI7qe6op5Xm2ofGdcH0ALWAzS9L0ZZQIUVK/aNINxdllC4AsrqPIReDIrol8xx32Z7lKuvf5v0jL3tf6MsoE9bCMSyZdo8Quj+moG1X/I/bYIrCnWsF4WvcyV0m3FWhuek3oeTVAX0aBZoHikknXFmeXM699dckEok0C+8/AYcVNgxeZSrpLQdAB2GXH1kX6vc49OPVqF0y6rji7nPjLZkq+ynqBoHC07I4yDU4ylXR3QrMzwC4NoAASwfPEAUCb8kkXirPLCHTAsTqKF/KT4Zc8xjwTSjoGb6lfEGiCpn+aPdzGsljSRYZdkvXYrMo9XMLFSfPLLTXJ+jJLSbcR2lEAdjmWllF47X+kOZ5+0rXF2eXIC84hmbM74SkI/BLQDVN++jRLSfdW0FABdtmXllF4lzsUnaozhUo6ll32fB1uk2mHEagGyy93VP/V8ywl3bVwc6Q746GgjIKSRPxHa7tU0oXSS2J9Bnh3ybxZvC9JfnnLDQg9ybF874Y0DDaCXqXZjQLD1USAZLtQ0kVmSSzbjqLq4ZgkTatlmxavqIntp8IsHZf3MFpHVofQX3c5MPtpwzJJ1xIahuc+ZtT9qi7p9mvYeuiO4nZnGWbpduz86uekFoS2UozI1GV9wV3PJktJJ4Vl69Amw8h8MmGXodESPSW8ivE4w3qUaxas0/DGVnphAZMOgclmmaQLOPCP5POcdRm/T7s5J2Z+nNfrH/DrUW4E1yL92ohLmHR827KlMEc/6SIB/IFk6171IoyJrk9kydkrqqj7Qt6VLUcNxMCCsNzHUjMDSTDgsXE8gI05/v/fOAqKw4FedVtep9BrYq93dnokdUvyiTzx8gLo83ZPWdTRPv4lYEG7XGdgwxopXSHwSggGOnnZWGuKikhDnIGkjpl+eRNcpaR0eN5lOlbLeCu2ojbKeCB/0LW8aDmKkWHyjT4GK0pHcWDkuZTU7WRp/KVYA/bCREj0e0cLYk5WFAD4gy7zomUUD7Ho+02j9YJenX8pJXXXZWn8lcgEvTVlzsPez2p5fGXHx5f+oOv49ajUh3QO+WdsJ7QsFqWcStr0LVEav9gv/fjD9kvACroDtnp10AWh2FnES/A9CXt7uDGIRSlnUvnlHVEafw1SOjv7GuTo0n9Ogz4aul0ddINQjiLyjslXxWnsB18Qda5zqfzyofjmkDfg6c2grY8VXWZi+/JYCKuDrrCOShcMoi+5NRBsVi0OnQVlWGYm5Zrlw58Blc4M2vZY0WVagJGY2PjSH3SVUI6iRg7Ov0ok8upJAI2e1Ik8ClDp7IJBY4suN1ICZpfq2pVBF1hHpQsGwfmLMvFKI4oGZ1KEd1fqGj8HKZ29f7Xa/BSwdpGK6bAy6IbjCQbJ94v2TKzRCfK2vvHvAB6FZ3Eoab0cSxkfFwkMMxlf+oOu8CmuqmpHX8WgoX7GonUaPJFY+4cSj/IOhLbmDoNkZQ03UgJmbzVoVwVdtb5gwILWqroN1MIM4oyRZ4o+vZN4lFdiPvoUbNrV6i4nAixaKVlYFXRh7bfSlUUy8WjlUYgF4ZK6l9L1Co9yIbYDvkCCAa543ESDAXj9CLyRP+gG3lEVsdRgdAYd2ekhJnXPpcTqrsCjvBaf/C1wFESE5F0C1iyG3mFN0BXWUek1YJOvYhDImqAo+gsgj9uYlNuGa8/EaudPYMvCCGkrDQbMWdv7g45HTlKXnfDoHOhGcl2SmNQ9VcSyG0JfzynIJs0P3h1pIlEgSsDkqueiP697SqfXgHXOv0tLLb6e1J0qZSE70NdDoJ120flI5SiZPx+VqWDrgW7gHVUWXVTjDLpC/I5iUqdHedf5d41fgLjWnIy2zuUoOlDyggCu1gNdUR2VQH46CzmAg5aTOp3PwHNSHhmufA0YHDPtGnwFAz0kDIsCohVB5wfvcbmUrvjKdAFI425J3RPJ45zQ5OWZGBZ/AAcbYDA2VgJmP26DCDq/D+oXmwNWOYf9I70sQSzseKXkVg+4V4foPMoT0+bf+1nDeQy96jmvBLrEKyiFT+l0zjkaj0Hbqohx2jtl9z8ERWAEj0JGp62vYKCjpFm4jDOtBLrI1ufoKl1yrhMqAKNgVbieOj3O2wHykohqyV66Rtuf/iJdWTha7VYC3RFTuujc44j4MLClhBrGc8VTXgdFYMSnktFpZzmWNinSMS/w8QddEByVGhbWvqALSqarDUq5kLp7blHDnXUeBaTN6LDe0pwG1nU2q4Aure2o0kJCT7B9tc4Gukqcrv5U6e45IcnLlyCTtErjE3NY+4t04NSWqp6reg3QRd5RqY83OoNump2eBiva9MtTJTx9ADpYiQ+lqp1H02G9TZHOSqW0a4BudUdVrTaVIoNDGyy+JI+fKZrDQ7LykuBRaGlcT+l02mNyiFh7T9DpKV2jLKleu2eLEEcr6BrNazxX5qTsZuQl2dxwAa4AvbfSYe0v0nUu7XnZH3RpbUfVLtXsL/Eo2HpNHn+hFILd495M9xoA3eooo3RY+4t0o8ub7kZ/0EWeWSrivJnGucsxAYgC43ewHupxisGZdk68B4QGsTV9RbrsMy7aH3T0kug8Suv8ks4J/DewqDEpz5TikBPqNQYvQcGolUdp1HTKd/v2Xl2x3qALR5TGszPoMji0gQ0ak/JOyQkfUYrBKcC5tR6lV7yMv0jXek0X8wZdUgl/6WWSrlVgHbkmOpOix3o3YLmzHtFizCqFxv4iXVV7TWmvnUEXeUc1iGvaOE+6D0D6cWZSXit9rLcZxeDi79zNFeJRuoMPxaPXubCgE5x/VFM6Z9AlsODQtJqUF0od5I5RDM416ucF8DlEhOQq0sWNJItm0AUhqFP54NoZdBHEotAi6zj0YO86oxi8Xdg1N4a12bZIZ90ExRV0I7/VOy0T83/fbA2kcWiD1t3zSiFiVMUAV17iy4Pje/H1IslhIwKgHXQTf+8gHmSDCjqRR8HW0GSgXgh5l+gxECsvP22BRzGIdEfvR2dBV/OjGpLIB2dn0AWwf7AFWvbSHc8JoRg8A67VeHnW0xLHvRs2UtSJH1zPGAmVhHKUeoXBgHg4bHSOpKdYD4jpzuKb6UAKRPAoniLdtJH2BQC6w2LXHKf0xaaYHcjLgbicLb2MiIfDllk2UCcTb9hlugtAl1rJy+RXj6Jrad1GGvUQ6PDalfTbpWGcatBMxwfsIUVf0BErQtCXXiC4D6YSySDH5GUQ6T1XV5Q20pIOVgvhuYyXfePQ1jPYkLlm/vO5qtBmN9D18LfEllj6Ug/3dnaZ7jkRzrLkpYgtvRUgb6quk7xz+/eLmrjE9LzSXP4IQ/YBXWNoSHCiL58pQh14H6RM3OBqaX5L+ot0YSNjxn5aMKd0bfdvcLbsWwjmXnRuYfI4FAdICWALNAevU/h2me6l+LTHJy8PF+la908YvUA3/YQcsK7lJ4Hl1MG7Lw+6gtNzbGLApqDglhl0p8QoJKLyUicvdT9UbWV0NAG6+tviHvbvXctVTubmsLsroMM8CmmZrb7U+wxOzDLdK6nH4Alg+ihH4xei+WeNk8+z97+yG9hC/PXW0QQ5bH2hVw9L46xFiYQ/V0D3yAw60GNgbRtPhnVZW6TLm5o0ZgLduK9tNYlNHUCiScgu5PE1HX6zQoNuYPlHfd7yDdP8PV2me378ysuk4yF+teLXVaeDbkrVJbFsGOLXj4ttU83/WFlI4whOFejshMVrdWlc1wwk0Fm18fO/9u9dFcXg4O3SIlGqCqnojekuoKsuk+V+8yaBWHehsr+aFgNdniXPjAVaM9CFOmsL62sQzIqKgT95GS0cBxalujGvINXpvEEfgaBteKLcX3ZVM8SY9znGYey10yUd/rt0NOh6ln/UhbqdSRvXZbrTo4MOnI2gZTyGy8SoDQ4b+92qAcSIlnWPFSpu2ddTAwI6HnRBksZ1zUAn8W8SoFMOiA+sYuAv0mHd+m/kRDX7V8t2GP1B1xdLmBiMikuV8mULPZcIm0VAl2aUC2c1CzpdrsZ94/r0MSzTYX7JX6TDtc51/zdHUjx70+VwqgFey4SNdga5+q//2oE7U6CbNGlc1wx050No44JM9xHIdIRi4CXSDRhzP62rhakNk9SVjq015mfJgrnwz+h4qBjUhYM9VBBA17Kg0zvqbs1AxyWQV0Sm40Q6/AsHx3ljmhZctSDeDhbQlQrcHNw91CroutlykJY0oU4tScHjnbE2rkwlwpnuFkS6AfyEPK1e09QrtqoYqCUIuroDuSJ0dl0UQRdm0jhpIyvU6dLZCVWQMnfKV0Sm40W6XP17c+c1pLokYA6jDoMu2N3WvvSzdiIFdMMs1iUtSEXETxQgPLCB7sIBdFBI2YRIhxxXwzONwY28rApx2wRa4lFYjAPYkKbMgi6q0rje3KOXpMyqwMhQ9krIdLxIhymMDONRWarLC2AOR42JwByx7CGkKdpBB84gg7EDwfSSlBs/qsD+B9AJIh0mIxMv1SVx+IqGuXlyFMKYvtWX/KNwrFnmsOvCkAHodGmcUMddafzbAHSIKX332GIfIOjmO3EbIh3Opnpenuh8VLpWJ5i68N168G2VEKMf6oPXbQTJgsHK0UC3m40lIjXBq9DCahDpiEtrXqqLzJmhY45XvLp60cC+SkB9A9I4ZVGasPVOKJjefa8C2x7ovq/JRkS6Cl8UeSm7oYNjHXOYnMWBqx4aVy0AHSmNI/z6l6TooHspNUS8Z0C3CZEOyLCqVFepzkgvoovazfUWvJCtlHalgS4drw7MBrrTZQtS2gO8zRZEun2hQFcWdEu1DXONQ8Irclx1qoCzw2BqqMDFo431DJCfAHR3Df996lsFNieXtiHS7aNhn7tIdW2lY87esgMKAaxWD/2/n7pGUUULTgmLNSzodB7fVnr54jN757rlJAwEYO+Xo0eHXFZacculCG7Benn/d3OtVl0HCJlhaNrl+9nTLSzwkUlmkqwPXEUkVv7ShZGkGyWdlltgvSgJzxOhKSqZwaWb1NhW6975s5lDugwF73T06aR76JTOjYR0GpjQ02Y1WTqZUrB9SXiH06htrnXikRuhY/YWHykxg9KVxNS4QEnKx9V/+FSRPb4v0nkk6YjSyezJlWpuZ8WNc/WUMrfGwPSYPMFvn5FvE8WkdEgnx610b6O5+O7xTLbAgtG/arjSkfodqaOnJZArcMz39qhRnvKIOYy7NUZxOaV0T6K5iB3Sodd1IEm6cXe4Zc06LUjtM6asgUzWOb6oM5Dlv6Oih4K0oDpBuk00D+FK1wALes5MA1E6y9+shO9cm9KVyyVvhHunLTcJZ2E0QvGlGC8Dlc4AQCBJOoJ0hFRd5uNcWem8tdbqn/z91/IMqJhu5RIDAhCHeTW6oSzqk0n3ZEbp3s0nHbkOMgGydDzZm7HOVa3p2tk4twbIGN1zNWqYhzrxvMKZYmPuhXTgIR3cEkiSjiAdIVVXjWolyyaDyam1cjgnT1r5WbJXbAx54x6+dK+jaejOmYchHSFJx5SOP4BTJ8xhRP6OVwUIQE+NpJzUOGERPjGeOKfTXa+P7FZHPsdHHDVhVOlKAAglSUeRjj+fCDuXCzRyQ7v7JHuYFetzb7RiU4Qo3RpGICSdBoBQknQ86QpafLlPhJXDi3XhSkgBiBMR+BvT8acZrFe3fFofiPr4cPiGo1ryBUM6z3k+X7ylCyNJN7IHYenT4NyFhZUBFu6VuvBsbhYC1Z/W0d+Vlm415qvxmEbo6YTSrSaUzv5mf/ok3S2W8be5/0NgKkfiXTayLNsaTkVt/mCtLvv6YI2EdFf3XLojVXr6JB1TOuPbn8xyR+dKNJirmhrCId23ZdcYVy4h3Rc/6Y4fbeNbbi5HuiqdN0mXcqRjK18j5QgD96zWXzcZBEeR4AHtMiDpDsQd0l31S/csXOm6JUiNJ9ojSUeXLmEvE9Eep1c7nctcGzBTNnbURQpB8iubUKEUEBMtLV3UL10UrnQ1DjZ0omZH63LU13qo1FiqqutDfWAgvaK1ttbLwX2CfiRU4w4YfdcRc7HSXZ9augZd+YUhtK2JoaU2EDhZ0ziCB3HpbgAp9pkrHWZi6VZYOo+LUi/KjaAsxkRrZ6fc/+hTSBcDVgzNC3p/3tIl2d0axoVR6MyzyrE8O+UAkuCkWx2dOW/p7N1k18JIktqrnt/C+ZGpRboj8ZTSJeniHNc6t3NVSEm50RRnLt2rUKWzi3NUEjPgnEwzl5m99WRvUiDSykj3QUg6TKjSZf++2Bb8yHudk6h0ydpSkSgtzTstI90qNOniX7z7+8GvauqdkHT6zuYWC564nSOElg6TCRDXUVITIC9dzJau7yhrIemKJbjkULt3XK1SYMN/J5aEszD3XbqPQtKlcCRTC97sHbkCrnPTdbgb8KY5uXSf5aTbOqQ7ICOdXho6FrnLjioNJGdWETXnk3hK9x5/E6aXLh6S7rOodBb+sPToKGCnrIxztWJCnanFx1O6jm+ikc8rAelQsZmUdMU/AfwCARRfGhnn+PenJq4yxYcvHZo7t5aQbjWTdAaOWLVAoB1aNSLJAkpUG5LmfLB0n0KT7mqEdMCXDl+Ppc6ZhB661DVMh1VMDPGIfBwVKXLSPRsp3XqR7qxIBgb8Cjhr6SZ6Ik4o3dNFusukP5eWw3lLlygC91W63SLdjPRe6DI9b+kyRWJ+6VYhSPdlkW5GeldmquG8pdsrCoFJ94gn3dZXOnzDFukE6Cv/snDm0rWKC1+6HcrKeUr3NOpjM0a6WES6ekkZ8NA9l7kEWelK66RUdzAnGkfxle4jYMUEpFsNSbcVlW6/JMd56J4UnRGWTntYQzsjNRG+0q0HpfsYHfgwrXToRwWlW8rA2OS4VPH48XlLV6uJwNJdM6Q7KiMh3Xou6ZaCZx62c7QvSQHOXLpCTQSWLgpNuk8u6dx7ZV17SbdM7eGQ1J0vrQY4pEWutbaZpHSZ1VrnhXOKAZ8zkG7Fly7ykE4vK6SwKDrfWSV7T4EDrZx07fFMa8dWg3xOKN2beaVzhwr43qVLr86XtlsKM9E2LHm/dJYlXY6aarlxFHHpdhHCvee4vHRG9aHv3u6FUTiGLjXQwK8+KyOdQf+D45HhIC7dekC6JyFKV/2XD13woEq7gwkz2RSeREA6x1QIgZW+4S7vz0e6m/HSffV4bQEsCzwTSeruWdb5hNsHGGwBX7oM/ZJkahxJFzukw8mFDwLSfULS+biNiX2kW6wjUtY9Wa1swqVQmr57qIkVKbiLrx1LNbDRftJ9APzsC0i3HpTuo4B06AlZqsF80Sl6WbEbOrxGgp2uk2V6ehGJ4zQEpKNvT7ftrJzs462fdB/Rb5Kkc19C07FF9oKTpOhtnzLgYKSlw6HjwGmISHfjkm6Ad/Fm9ZPtKBseP3jsI12EpRu/yMQG/sdDOkjtkjpwUDZp7+hHDlNKpyeXDoeOjvoXNpq16ZQbvnSbPuluKKftls5CB/u8UgvdlNrWA8MOSRq+dOouQ+Mo90O6GIWXN2gJTgHpqPv8J2MvvBlFoxDuMzbd6LGnVpjxpK6OmIWLkK5UDhjS7YKTbosGNN99vDum45Zu57HchZ5nBdT9dKu+2YkrdvWUy+Ml6UVIl6kJsYR9/n34GPXx4MHDUdLBNeqWvbv5tNtI7fSvgUM7NiYDWelYA3DZhNsMNHAR0h1rk85CumhAugfjpPuMPsF8okjn1kFu4e1WWDpWfreZbpuBEi5DOqsccKS7Dk862G5u3vtEsZhrn+cPGOwZjYm8dAWhGWYG2eZCpNPKAUe6aC7pHg1JF/G6jhifi1jPsHuTBkHp+PFlPdX80hYClq52Sie0ioDxk24zmXRPb6V7Opl0V77SWcclEd69qZCUjh9f5kABH6dMQ5YOHNLJjKPgJ+xrNEwcqHSRg/ce0jXye1okqah0/PMDHn8LoC9Eur2i45QuPk/p4shB7CGdBYRoS8KXTqYl5ntSwKVIZ9WU1KeS7s2tdC+mOs4qcvDd42HWQCUjXXW+dBJ9Tn6XLtnDxUhX2AOtTtQEOJ5eOeme3Er3ZKq+43XkYOXxMFfiaw6XICCd7OhqYXvQuu1u8PMMZpUuN04qknS4LqlptcKcvXQ76OazM7rkS6fEk3SNtHT8+LIZHzhrnDEwe5MCzCudBSeaLB3GtJWi4pdkjm7iA+9hJNuoj5e30r10JNYwu9iRMBidHVf9ZNJbg2bS0vHjy9JTOkz40jlSBk6yplQUKkdBipOr9ZEPqyOb+Mi7eKD08sFA8WW07Ykj14DZRNNKZ4BGpcahQVw6fnxZX750zuS4G1RETrn/3yIBKNJ96Gs4cXr+/VXk5MonFGzCqHXmSMePL/P7JF1C719kmi1dNBvPHwxVPB8ya5gPER5j2SDnuCUpVrbWOYEZpOOf5X2STnM69aZSHuAynXfRbDz4SdTP9Q/2zr07bSOI4mpOmqbvESshBMLogZAACbXp9/9ubeJyEntsZq9mlyOIf3/l5LExtq52Zu7MbvJawWS9pa+clqEVK0B0Zhq9zirR6W2N4U10tnSYkRCzp1qBRnSchy3T3Pz8R8cveWOaLuehFZg7XhMIni35F50+85y66KrJiI7aRiG6f0Jv8IaUpy0pnHmaPMnn1qGCA+Kpee11bsi16AY/NdZ84qKLpyM6ypHMbsBsOhxAdJz5erOgzywW6UOoIkU2pmgSvc7WgwERuKIl3Xcrupb+p4i+AXjnQj8vq81kdzwtvpAez+EdzsfgMx/Da7EHthBMF/gGAqFZUb8l+xddEXVxb4x5HqBlrxV4zJn6+flIIs/WbF79gye/wf5RXEUq1UWwTTffOCl3vg8+8z50w1Lcov9CCgrxJHqdbVOwDN46LGl9i67ozK0ebtjE7WjVgWNprKi4+HYHXEuVRCa630M18/1hYdOUQs9RuNeaoG1wnioab2VWv6KrzOymaaqR7116CqA5fjbtkYhWJ6vk64s3ztxxmIf1ZmubjSbAFlITTDezo3Yftsa++rIzn6Ib7uDc7Drid3rJ1KBjMN9eOLHvcDb7NrLu9KJbpqcEmqhD4kFvLWC4QnKFBaG26ryJLr/xXe5MPCJwN6BjsGGtxi8/1otdKPBDwIw6MKIEbf0D0poReXuOC+dWRO0v/zS+RNfewTb3SImndQZzDHYXJ3eeaECqgwaPKCJKcKQuRYKsylfEZtxPxg5XqbQOLj9TcavlE0l1eYYHO2t0o9syRVqu9WvwyIeRESXnCJQvxVig91WbqAinU8hYO1Xn50jsu7oXYkBfvjHkGOwuTo8u6QnJxQjzx+CRHxURJTbf8wkZCjCeBgyy3HWvSz1qxR636nrFN+uub/zLcnCrG6Di5fHi2SQpMs79MXjkj9CG9Qkcl9V6BplDWeiPtsubGUN33laLW3WtM9EVs/uiBJ+ECDp/b3XxNPOTkGUxm87WHU8TsmGHli8bd/WODHiG1arjmsNpcKuuGS26e79QusBeZwXiGOwuVy9WBNwv+XPwyJ9yIrclO/ZoQmqcVScGzKTDyUu3mqMOt+o6R6LLZ/dGjL3OiFT3TdHF8G0VhoJNZ2HUpWTLwWX5Mvby7u6IXKqkKQhA20CTOxJdNbs3auh1VkPFywVQR5FSxJ+CR34AtieBFVq+HMRKypSuoGLHAmQxXffSBeNGdHdii39Li2SsBipeXq4YrqFDuoIz0u4EIBVAWTVBDKumddliVH6TOtZxThoGd1adIYg78ujOdEh8aayfWr6VrdLDYn1ZH0vBphM9gwdCWKLdl642JQOEajrarjT/UXYtaamdWXVGWTht4iG6JWLDvgOIHRMj8Vl62RZbICr4MTjzmxDQ2rLarOcuuy8r9yXwjKZE7MyqM6otto7o5iga9pO1jyE6pPPydLnQuT4l9qL7IzjzXtxbZRbpfh7KpEhe07uvBPY0JQpnVp3RiD1r6QbJswtxkWTTIcXLrVifP1qL7n1w5mddFSU5HZehJWtELY17z2tij5dRWHUK0fVTfhON/RQR8DwUQB1lznr6xcd6KTgGkmewFSPKHdQrDY1QO+/uaGhaVAqrTiE6M+k30cgguQOSOmBsnN29/yIHy5aUX4JA9gx2aESpaATjRK77GCuaGJneqtOLjm6TS2duVoBN9zeQEaVWx/8IjoHkGSwVEaW+ESx2XQbMaWIorDqF6JpJb/8jwxtjH/oYpI6ysQkcl3YtyB+CwMIz2BNjC0SUyjlW49jwKmlqtCOsOr3onv/bG+XSxwDKaWlo3+28sxHdIhQcA+EUvpTFlMtQxR5KaxzvFwNNjmaEVfcmOvljGMGmG9ePksAxKC9eyp5BSuihnIqROk7kNDOqaXpUCqvOn+ja6JGCbMmj/7H5S1cQXWn/WM3tS38LIYDjIuEzBnL58sg0pyVBFBM7fXBjAp6h1yGX5BncM9r6FV1U1jNGY/qKJ8RRb2ac2nQFMSpjvexQNi8uG7cXa3D2fQct0I+yt2roXwCOwf/8YllIWYRq+HX/Rp3UmetevpqTS0qtVacXne1Vb2VufZpYn7PbPeRl5a/A5ILo7NJ85LiD1Oo8kgQoXp6xFN0x1JNCvVAuBwyMowJHRC5p8dmVzp/o2uxijPvkVIRa+Ks+ls0KS9FFwreSRW+qPWxut3W+C77lg91YAF5EwQ8nwh/wzodJd71yTI1bdZ5EJwe7vf0WbYAYOgaWFUSHHx7+ADSB4QY6L15atDzrRaeyx2N3BcDMlWsdk1M63O8wvkQXS99DIL4o/Czb6kUXA4e1ziUDDi9eyuXLBev21LJynNQVXkw6c7Wm6Ry36ipfomtmApG9NxoDy7bosrLojGi/yHUKeQ+TDXRevJTLlwemYS0HKKnLnbWAta5EZ8gtJR4eZ55EB3wNwu7lb1m96KKx56Ok4tbEDXRevDzzU/gae3X1UrTHW52fXXsx6eLr2X0RbtWVfkSXA66Lsf+GF8CyvfhdkEQnL5QD1vjBKtKDOi/l8uWOxb9aPkHedumq+te5y7TIMTVu1fkRXQSJTsL3snQxZ48tk/vwMguh5iIb6PysBrn7csv+Vy1/I0ld7So4ywkiUgeqXidw6zfRsY9hKzojSATYwyADPfwtOCOd8rxhRp2WDfTQtWiZ0f8h7QO5JR9h1b2JTmqssSqESSndThKobKDz4qU8PH5k7r2WNVR/7BQDBhqhOGkn89awXUw/p5us6CogpdvLTz/eBCaXLx9Eo0Kf1NXjtygDm3T6RMuQYyKFVee/eqlXx7REFwkRo2zAAQY6P2jWao41kcqh+qSuH52M5d4OJDLXnFaoFVadWnT1XYru9ScDSelOQPFS2pfeBc/5cEV7/ADFiBU6YOD/8tWcHBMrrDq16GZ3KTqSPQe+eeGBIz7Bis+xHkIH7KFOsNJBdNm41UFEjilGWHVvohsnOiOkdHgX5BFtAjvzu10jzCp0wBzSTubgYa0IpvJaSdFPJ0VvohsnutgypeOiSxEDnfNnEAiVFMCqwFlBUeKgd7hytyM3JblmGGHV3YzoikmJLhLOJGJVRHHHWdlZ2T8FDEEiTgcNUmjH6hUFCIVInEarHprZYmeiuw/LoLYMHnLAd17aHCI7t9uV3gWcD1fsef4LGs+p1S1gkeuIj5wTK6w6rejuwxyfsZ+f/DR9wkSXPAi+s1BHYXwEep7VJG6aUnqfBxL1DlXsZUDJvIluhOgMO2bWXnSUHEPO1q595H3A+dldz/NSPIn2H2jP6pUxWey8I7Ii5xjcqnsT3QjRdYJChLOWt4clr10KASuro7DDiXQ9z/N9urD4NGtIP7Wy+lA4bxPpyTkDXIjNv0vRGaXoIsR1XtJLLDbH5ZxpTqp5/BC8gNChLDt1u/VmZdku9gmLFFtVy6KhcUBL6qlxq+5NdLjo6Bvm1qLjJItDmqaHrXAVMZ/rkad7uJiT+csR5QlqF1th8aXqyMjKw+HL5J4Y3reHG7EMpiS6hhkGFyEA7iqwuR7Ge0u3In05oiRC2sUODuLLyvPlqyUSseopFFbd1UQXASPewCfrria6HhtU25KMXRz4e/ASf9oWG9csouQcJNcRiy8jRemh9LH1DOQeA9di++uLTnmYiX7ZWCe6QTAM8DtR5c2Gz/WIt9Tx+602D88iSs4KnjRoUeHkM8+Xr0aeG8H0o4Gta9HV9qXDAXjZZUjILNDpRFdgLY17krHLEoOX+VXoIIHAXyE1GCJ2vm8NyX1XUvT9NY1j0Rn7Kk4OqENatgaWbVWiq1k0po4vgXNmIXv8gWCW8CukB/svG/BAIpxaIWWPpZQspzOdY9FVgONp7I2aDli2lPSpEl0pmF/KrW4NWOPiff8JoaRwU0qBlf0L1EzGMT6WdTozkTsWHTWy3M+09ql0XgvL2tekO53oKtaOInEie5JQsMYhe3xDKIsQbUqhBtJOj5p0Ex+p+4zB70J2LLq2tjdfKkcXiGQtke2XUJJOdDk8GjpfITuNZI1z3kmbLCR6uCmlg6LE2v/lq4PvSoq+xaZyLDrK4+ZVrUf0lNa8GgTGOZHtsi09/7v1q8uSTnQN4GrBquMWNr9snPObOp8EIuY5Fl014wYMMl/hXkk+yOBm0syd6M7kURV/xXymjOOhIE4xxF/pjTFffvHsAle+bG8e6V9Zltrh6f//ZeWqJVKKrh91cPKBBGTf74+AwafH9fXLIx5fGqDyXwJOsg8NNOQDfGyidCG6GwUXXTTuNMndBs6oeEqHJ3XzhEA2eHxZAfLJ0EBs+iN1/1HAA4LRm+jsRZch0eX8ieyOKxJYseCSTY2DSV14JITtZv0gfiismTIbk/00RHRLlZQRXTY1Lrr8exWdQaLLTbJ5eN7umACaY93OeFIXrsiSxWE/D234BxsbqEY8nBWpqMCl9VSwVdfjoouuI7poiHtj4qElAK+iq1ggJsR2q/X82e8uj5sFEedw8Zn/GHB4Usd5SEgkOaVLxfHqFFnfpwuYdApaNFvUA09OFBMUXR7Fppl9xfQVoDx/ostZdCk+nV+2O6aFfXra0leSzS5ksNsg5aSOs0cjSjy+pNoyP6vQKOw2RupG2Y/NpET3WW/1y19yPxTXFF0zJrrkkd15u+Ms/+XuSpsUt2JgsqnclZSMb2yDT2zAQI7//98SUqF2GHlGry0/jz39bVNkC9e6kV53Sy+LT1EUnVihAY507FDHuB+CHSWev/QNrbrWXG9Yl5JCBWzV9YshXdeXrdAWu76Xz0S6d7vLkwONweyBBg5w6fihjmOXCB0liCP2yhXom9lYrTsFWYGLWnX5EkiX33x3Y4i27LsPIV1u7CLzglCf0bLCXTqj+CVHVrOOUoNw5FXfPfBiqtCjWRc9KvgHxdWSTl/gmg0Kl9ni1klXIrnLkBjQcie7dI+7xyXszvvojn2MdJTG/WVlJBc2aAu2lpG6O1K0da60pNOd4Daj0bi9NyPpPCCOn9EQ6vjgwODBSz5Th4Nvb4j2Z6Nvt0NeuVwWFXlpXJ+SQhdYJEo/hHRFdWk3EAB9RU06LnC7yMx4RG/gKkc2gSMdm6mDwI37vQnt/jS36lz4taxIjxY9MepRwFZdCZKuUJOu612so5T1FT3phCbFA2bGD8QAlDtplo4vSlEguz5JLEeHQY50dsDVbHjWedm31I01/m/qGJi+o9SjvVTFhKQrWn4a4LOmQMQZK3fyehS+KAVHENfyHK28/5Ja8RW/Qf3X2oJgRBXcPTeWSYd3lPqSp3+MPmVvg+m+y5AEhCfzcvflGwk/OONwDolDlnsi01fOhQcMOtu3gfdkB3iY+2KbdHhHqS95+sfIq/ZB5grN4suIhJoibLxk2y9h7BIaQngQH8809VwJH7A0e5PjpVSPC+qIdDrSWeoo9SVP/xhF5d/jn8BSVraiQVHueAYMT4LhvwyRgxfyUpANKmAhkR4NTGs9Otiqa9SkwztK+2jLqpuyYJsvR8kiEiBExIQMGJIEw7PQZwe26jrghihZ5lhfEGxMyq23Qjqvd9ONdYDBMT3pYiMd/hSSAJ6Ixg0D3DQ4sIMZQxjgVl1rfheifRfNh0+NeuB57mJq0hW3i7tZDFjJU5HuL8cMx6uy3PEMGJ4E499py0wN/GclMXnlUiGZZS+kdcONQD3yFJ6qm5B03l0yWR5c/5ZPQbq/gaoS16blDjEMOL4FDIK9rPWEwRRSSom2Xs0cVvWFbKGEF2BOQ7rO1gnOF/5mIDiGk06UUfTlbg8aBvzKLBlx+MLwiLEOWt6+cgG6S+t8SGcMgimCbmrSFTdfeYKTlVY2azfWUugA0qEyCk9Z1SRiCxkGHL8BBkEmky7EpZTine7yYu5hrVhJoRZ4TDXpvB44wGlI9yD3Rg/3UnmjEkixg2MrbQOrMcOA40dArExk0lGGSymusIfHyKRbm5LieR7N5ItsZoePjrvicAEZBUZwrjWrnWX8CvSDO5l0EZ5Kub35cnsjss5LXk7kedV/+1QfHgAopTQrJd3Dck8tkA6XUfTl7uBghgHH70A7uB+6mDlk3wi11htht6os673A8pYT5Z53pxqr2iWedVsv6R7euzsr6f5wxiPIEvGGLH4Bqxm+A6YewoBZBvX21ZbMEz7g47/1bqfGBtYSlZTCq/zSbUwcfc9aqru72DUE8Ilf7zF6rkPbd6CMgmO3D0VBVI6j4OuJ+IktfKp9wevdtCE+4JO/8XN+M49qLEpJ8W6MbNIZrdHMLy0uY+KLxX8S8TR1ew8VGPByJ8kofMusNpRy4vccXwfE0wh40uB9o6rhBJBPOgtRUu5sA16mBg4BVCRCb8Hp4c/4Hduy9wDXGMeulmUUHkfRTLJG/HaejJHu+aAX4a6BN9hd5op/4ZkzKbnXX0aYUh76rK7JCRLXCucknZVATDuY2Tw5agTZPiRj0eKXB6d0/WXEn+Mw1N/W7FuhAUxeTiqFe2XxwixON6C4AVIK/rDFzV9GpAsg3WRmXpqLfgFulEeijMK7S31/GQ2Y38nAj8mZ/beRs6wtahm7NC1S4yNVV6EHE72U0r/93n78jICq+egqXYH2hbAWit0pAXJlrLvUhJ7jgbPpeeBUGSBSyvGdV70Xao71HLJrcqjrFKkOlZTSEEe3uMgyTDq9mZfmE/oFwXEfApEr1l0qQ89nekK0fW0j7AYOakeFa1CA2kJKALRKSqn1mvRSCj2jWMAQnIZ0k80Z+UJMwxyH7EoMQhsnhJ3B9eo73s8O95dH9jFs1oB3lw1sXVlXUtLJezgPLezPjGs3iwRMOr2Zl0/jF+zihBgEGYXdkKXuL0MmwbL+EpdSgjfXNvRo9L6jiVFsLEI/I//ii5abpcJlUqLtZrOcwhg/nmoblx7j/eWVVTCmX/LTX4wb5AXbeTV31lmusHrodw2+0J4WjRS5vkBv5hXaQhdk15BkZAbdpb6/zIZoHg1oRAde/vBS16IRsJ4mh7aA2JVSvlJ0BQCYpzPzSnzGDLhjnP2tUHeJ++PDXMqGdnleESnlNGyQ92gELKdJMf/r3DxJODLofyxop4maeXozr1AM0m1PNZniBGqXuD/OVZPdUKE6j5FS/hrW6nOw3rhkAVqtxKqUQv9jsy4IzEPNPLnQBQpvAJNRuDOu98ezIaLvASkFyIK5bMLMcCHRivtLSEpZLemmvJn1oa9oC93hfCUMkYM543h/+Z7tvRuy6mJW/tBSV4EyQUNTI7/NHhRGFuuum3T/oWHMU5t5lxGFLjglBCI5H4DuUtdf7ofEm8RASsFLXQ7q55e1E+6OHmhsPwHp2GiA+lLYNB9R6DLCcM0Y44DuEusv+QQB/87hkJSyHVHq4AhYQZOh8z9KmmiAPUyfhXSMeRozrx+zGgWpc+GeC4PArXT4pQb8rMaH4rIBJu6BUsfRz2rS5VU5k3iil1Lofyw0i/IxzMOjzgcyRXLaORL4zLh6P9FZklKSofhKAJQ6hna+rHPRz1ziNLt112gZGDIvJwXgQnciI0TvHOOQjUT4pVnB0Flt+yyl8EfJFKWum2shUecvoWIgUspXU++zoXH7Yq5C54QmTaVwRw+w7xLffzlse9cD9W/HrLpxpe4yIm+3kp09Q+gBp2QlKbCRaCsrhQ6XUeqTIEpg+y7xS1mHbe94yEqAbp119rr4o/cpGAcuHfzaDHxOtAXBwD26SPAGdo4Mvk0dx8+IlMJTz8KCIqjUebZNuqJfDuPu8MwfnT6RfGnn0BAGjkZGuYpNJT5ggI8a8AkCTrDrO0lovNT5VrPOebWEc9wmdV3X9/3e+xeFeZGnT6mkAKcGoNDBMkoteAPwgAFu1eGp513IPjim1HkWTbrbx76srVv6vud1o82SF+fe5cLPvWr8jqTCRqGTZZQkFptKOQKGR8EwKSUIX/eSh4QGD3XwT45rKevcXT7Ij2vc8l7TSIK8i4/WMNvzmBwfd0FQZbvQHYnhKnsDSAQMt+pkKYU3h9Hjz0Ao5UFcjsLGP01uY7mB3EP6lVcQAOEtfcHO5cJ/ngwAmefbLnRXFjgR/yfcpNNbdU49UMGOr4YeEpx0Tjw26J8SBm/e2YHGvfg3z8I4H9EKMimMNhDzcNIh8h2XUWK4yOEmHW7V8QkCHgU7M/ODTRogpS6dNOuca9RKnG1eZ29dBNEK7HFGG4B5KOnwzSgxD54IVFWYdOBVyLKUEj33l0GIk87JRgqY3dKKnIJtSDLgpdy0WPjv7/lq7fmvJupjTRzhCS13+J4G3KqLBvrG0yvZZA+2l3wHpnE0o12OQeC6fu91c60jo69Y4MJLw1qVs+vIgYMDNGUqyyj6cvfdNyp8cYwq0nWoTmfskgIzBfYP4EpU2KQrbMqV6V0kIQh6KYVoBU6db7r0JFUrZPhS5+s7aUvENMAn6fBbWUOeSolfp0wTaXMSEMlp9AuJPIuvZdN3pAf+e0O0giV8PnGYHvN8i0lneagnAfIo4u2reinlxGZ5guT1XXnZmPsbdiMc8tKkr7QpnvRkBXJrTbQC08CQOPyYl5aelaQzH1TDyp1eRtFLKXQ9OM4xpCe81iKNT6Z7vMu6kYDCt3ri8ckOZMOEaAWmgU84ikccTuWLy6hNlqEEDiyj2JdSiBKiAVtuDxgmCoe8+Wi90iM7kCcIniNjC4VPMwFfu7c1bFS3sIxiOZUyjO3TI8WOOWJUO798dLyyIgVUVt3zz9JCMSfpwJ/53ZXMUAvlDpBRVKkU+Zkfn6kFvwSwDdBIrPYoN+tdQXjqmdbQX34I6RLHDIdzTUC5U6VR9FLKWSLd4zNhHDgcuHXSw1nn3FdTzvrCTV3qmdbQX85LOvwOyO3etNxJEbEvmIyCD/gEodheOgFRLVAOsA1arLnLLagnWCDGvlVHa+gv5yIdLJbHj9oVGJe76xGVUXB8h529mFp5BhpLfLCOzxZbuq+tdf2qtb/mFk890xr6S4B0s6ooR6JT8LXchcAFBsjmPRy/gqVOnlk1OZHGwC9+iVIO37jPhJyZ+ks54kVr6C/nIx2erq+3X/+cJcpo2fcAsRTX/sMmybE2qfzBn+bTBh4xdFNRzvU7Vm7smgagcktr6C/nJ10CGMLX4IWYKZe7zEF3o+D49suoUlcHwwptxFKYkJbiv1tkvGLKuFdaVjkrN6h+aduqozX0l/OT7g/EogszxzEud6GD+wU4fh9T6sJBXgV78/D336JlxRNYZTkZ5dLyhiWPc7IAmU1ERIvPXwKkm09FCeoXLePhqTKcQuAeSDB2qXcNnAThXBwCY05/hYZaSvHSyMsrgXIA4xgq6/44nnomIlp8/nJu0oUBGsEIX6kjWQTIKNwv0OMnOJ18DQYPc9BmMOdsFkR0n15MwSNAGMeRL9CqozuWPt8zN+kyOFd/4p75cLmLAL9A6xogk97J1uE4RHAWNTHKpVTTvnBuBdhlailFn3qmNfSXM5MucgyQyApE9g9119nsNBADgaHMUGWMfS6xU0g3hPb//xtlCMTobHkjn5H3E/MCLzzwZnXale4C8Jn5BUo8QViXFd57Lu8oAOohuZTFmK27g3BlxfvQUTDcqqNfMD4/Pi3p3Fc431t0RcTyLXtu4V3qeteAo7qR4a1/tUTjgKMutgXzo9BWR8rKI2CXAQnQoKlnjyLaQ3DS4feLOxp4uc3pwh5bdL5Ab5BzpL+r36zjurxiSx4Ud5t1x4781U5bVsrY4I9WYKuOrrB8k0ho0uEWXeaVL1nuasAYV0udgH1R1F0vZfcX3p9Fs+7gqb9w7D4OVKl3itWbYRYUEYOtu1CmJ12NNOnavfTOMYLTkhEamC/QGeQ40rPYYsILzNXOa9LdLXKfgBoPdQ1CW3X0A+ajYFOSLofHpLObc96ZiV4rEV1FgDEecKxOOu9BmRVeYAqCs9I6VIuWyIlIUNcgtFVHRPatOox04YvLi9ei21M7iskHgFzaK3QmpK4oqQeuvr/AjHnH8L32JIfXeOFdA5lNRDNopUCkC19cnvzR6IyZzAyYMa43yGHsL9QNJuRggblgC4kOAdqVqFUXEwj9e9MVllc9Q6QLX1xuvdLYsCgmgscPxsezCESaE0dX2A0vMN//W8+t8UWVK61dpncN9O9NNINWCkK68MXl2SuNqQPddYXQqaQOP8wJK1OAAlNn0sXvFHZZOIMctwmJZtBKAUgXvrgs/NJ4EXw7rdDppU53mMsjBOfuybo1ex7R5gmOBJe6kFadt/i2lkoBSRd+0SUPAZ98vl3NCk0gATat1O2X1IcleFBNv3SlweK7TLrd+5WynTHd2gbZ+CaaQSsFI52+uMTzX6nz+XYlPwbhUWd97FlGmjvqQVZHKGry4oBmnfG6En+iFxCh9VbdlXS2B8jDko63w/HhgrPXt+NlGS50+tizjGo7/DC3Z5qHjMoeF7BJt9isSY13Ez5f8mmNfsH4gE9CAcF7//hwQdHp2xGVNSR000tdkQGHucKxAys05LNmDyPQr1TgMF0WTJYwIrLvGkxCum8Rh5z/4iZCw/KZeaoQOq3UaQ9ze6ZfTcQhT5Fz7ICwlxrvp9uwLksYEdl3DQDSKafF0eECXkplHn5uC0DoppU64TDX/ounF+B21qgCGgxoXYljgWfBQhH+Sjrbs6wA6fSriPDhgpq5DoyfZ0DoJpS6ff9hropaqMt2AY2sKeLYIHWlHgkqdQEJT3OQuoCk46zA81+l5NsR5YDQTSl1Zd9hLu3yzkvUN8B9qYRGxjrYvQZ477T7g8EQApKOP0b4cIHg27FwPiB0oaWukA5zfr97CfgGeC2l985wZQUOj/reKf2AeYMcIJ3aLcCHC5zk2xEVCqHTS538M8l7itKMz9XJaLAgMN5QxE1qfexZH0OjOUhdMNLxZwjPf2V+387GiU4+1RGDL7JdO2qjVh7r1tNf2RjDEz6homA0B6kLRTpeLeHDBZXk2xG5VCN0eqlDTew8lRuR21R3rPs4/e1x71GpC3agpDlIXWDSlWkUKYcLuG/HvowLXXip439Xosves1idI9Md6xb/4T99F0bqcG+e5iB1YUnnary4PHcOF3D1uGg8uvDDBpW0dHZfAv1ehgZIXwRmwQdA6oK+Nc1B6sKSroruz3/5hwsA110tdPphg6x1mGMoHPlxwo910Mz44khqcBnRk1xfX9IcpC4o6c6RYrhgy8jLzK9GN0cXXuoK6sur5coKIUrLjuVgInYrGhcfg0gd3sWhOUgdQjq9Qyc3+ZbScAH7MjgwPq3ULbu3MaQX9Vk4qp1/3mB6rVsHqWfxLg7NQeoA0il2qOP5r0L07Yj2/1/ofkjdIylR6s+H1iX14YKFMPGtxguAB3qDfEOj4513jonmIHUA6RSRS3y57Fby7YhyC0In7cDMyTX40pThAwfn+/O9H8blwNuJ9zZsvHynOUidjnT6p2bvvEKXC77d9cvaSyDD78BsUokrHMjAQXb/Z/pmRSMinljq4iPfTfGHdLaHDQKQDsoQXryBjVrw7cTgxosH0+FVhCLNSIbbgx45vhbkcAxwtJpK6uKP3Jn8QzrbwwYq0uk7ASf/BshMHi7gnVH9Umf9JT5A+0PEHv1u+IaCxZiJsN20UhcvfJ8wdIXlEXIN6fRNlNQRg2uiRvDtrl8Oe00PfomPfgKVT1XIOJEPK2bXhR45+DCt1MVvP3moRH9geFtKANIBod2lXyVdh2/Hvqy/jy58GIwHv/woL/7+pYwcZh2uQHqDfDM66TZMZBnpbF5XB5MOT6LgI2fycMElsiN0Qu6ZBb/8WKYl0IhqYwmQICAZNmGljmvWilvzdAOzOzCDkG4ZDcOWJLjO4YL/HgC7xctIgBj8qqJUKBbgZAodJ2bdGnsfPenec/2iHzBvG4QgXaaqiyTfTs4mvn4wNZ4pf2BXM9l3EbT12QTrhAPTcWzSxby+pBaM3mwAkE7TuETuApaHC7LIhi/e65ADwa8s5YS8gA1RuVkXnnWf3kIJTD3D18yXBGaBUFgmnfsaAWjcEKuq/vfLFgJgvQ45Evw6+1zuPIJwAsyzcKzbQQlMPek+sMqWfsC8baAiHR6Qx3K/rukYLrDiiyO2QTv4xWd+WCAFQ2WBde8hqdOT7sDkC5iIAGGZdFWE4uSkyxIb5Mj45sF/wVMxJOlHWfs7uRGKswXWYVKnP0Ae/z2pEZH9Xkry3zkXRemZupGz4YLalF3AbAMs+HVJ/T2WLIKxVLHusJqZ1F2vwWzXl8DZE4Rd0i2ju1D0mAdl/e9wgS27YIhtsHfitX0X9gKMUjXQcljNS+p+kW7Xri+vpDOeS0kscI5dyS2ko0zZBYMG6/xC524Obg4/0nG7TuUH745BpA6fWEeI8+mf+nKgo4gXmGZJB5gFwFAnfxpt2QVDbIPUJ+Xlvnu1V3QPUqdi3eIY3qv7ODLpNv/Ul/QT1s265D9xrs7Pl7zZ+265kWNhRqYLkGmDWrj3uPFsusBRY6zD19DqG/LvxiXd4p/6kmgGBeaIpHPp8GJyyy6M6rTK+XCBvS7KgF5K1d9yugCfLSrWBReiGCkw9e/zvi1eRDMoMJP/YNCdtuzz3utl4bvpnsNEmS6Cuez919p6f04cn5U531jNiTXCaz3p4vb70l/YHSJPAnAOm21xRcsql2NhFrsorJciNBeztP/eg/sPx5WSdfpp8g1SYOoVddWqL4lmUGCORrr6/tmWvC2DUgFrsosyIIKZuu7qsQKOdIFZt/gUWOp2q1FJ96FVX9IvGLfIk4lN8dpJTkN6FncdWeyiDNjcUHQve17i1gvOuqmeiQQoMPWkO7TITr9hOoOZGOAcUdNjlfOUhskuypBcSnMNfkmThVWkQY4cY/CDnV5DjqPOEa1v68vrr01nMBMLnGNeQy6sx7LYRRm68PmSRgzpoJ1EKRAI07Fu8S6o1B1GJV1yW1/SHxge8kmscG7f/p1ZT2TKzkQPOuOTlv6f4jQkdXN2dSjWcSRBpS4Zk3S72/qSfsK6b5CQHg0cU+J9z9QtUzZohzQXXvz3LsqQGZ+6GDIhsOyITJehtU5fYl41J3yBGfNvdrghneXkc0JqLJXRwPrXa+yR2mcd7VETC8CA1WB4VLnpKhIukZp1i7dTdDF3QIGpJt3mhutEZP9Yl0wXcl721KaZr8NwcsOLy5cPrICZdTLknUTVlY5q1h2Hl1QfAbFDJSQZkXSLm/qSiOwf65LJOHfuqU2XLYPdZ5VvrVt0glmH7FpwPXmCYhLW6ecOYqDAVL/Dp78UIiL7x7pkKs5VPX++6WzJFFv2sFm16P7iqbLHf+nJE7i9nnWHCR6Po5h80ZPOV1/SLxh365KJOHfqsd6qnuNMem6/j12L7i+eRyAyJv7duzLLCGcdvvtZnwrbAE+eWktXf6hOf2F3yifRck5vFtSu91sWpZz/evbAFNACs/dIl4v/5jjrYvUTorcNFms16fhI0o4YDO58VpAO2CmQOr4apM7IpR4+ZoxguRS6f/XAGFgaDNouLyxLq2DW4Q8aLna4gsRq0vFvBSTMEOE3RLpqMOdK72BBdTULpFnY/ZyKS5YGQ490mTRPX4/AugR6SFYK2yDUVbBx5z0J5pspyRSLv7KeKaASmhKytYuoG68jAN1rZiuHTfJyVKPMk+3eKWbIAxWYcSd/zTdTEjXn8I/bir0msW4G+a82HgIFZvdOorNwlAZYh1sH+quSN0CBqSTdjnywOtGahOdc0/Mnz+jVvxxPH1gEUGDW1MbAXZl61kFnmcX7UXspeoGKO20/882UO0nnTnf/p+fsNdWOo0cmhgs0BWbjP9LVThl15TUqb2IiiI9wLyVkgRn3zuiZTqYkoS8sqHtKo2LQ1q+ZdS5hi9y/k6giP1wRoaid4gNelQuLRSJrSCfXl0bnyBMV5/D/8JK9Jl1zP7fO5Xf2znTZSSCIwmqp5e4gMEPYwSxATOLy/u/mVi7XBpozPVHAnD9W6V2sJB/T3ae7h1jkYErXjl+SvPdw5UaQzEhizAa5Q0EG9EWpxRRTQOjI6DNoFiSamHdcsWBRtjhgkY/tJNon7KvSIdPlHxNBOUUSY4bXW7XpT6G3CoKgmV1aF0p2yuIG3X500od2/S42uBwJMPmdRLFhq1cbyCQfebErNJupS7e5UuAGuvTP/1YV+gPHtf9VdfhVtf9V/+6ayNS/o1KNXBuKmwU0LD3z+9MXHFx+1bMHFq9RN7zjZJvfJfWIUFcMZjM1+kEJnQaYaeNmjuHtHCblRCLMWXlEm6kGnYnPA9AtZqCnTy89In4nkT7zT7vMYmlY4c6l2l1cBpiH0gl0/r+fk5PpxLRb2pkF2WCdvPX0dhy6Od3/OF2P8JSuTfh6bkaegIg1QdXs4Idy4DDA9N1M7JWLPudGBvUzQc2s+J1H8lNzHLon9+au+w/gJ9PgJcnkW2DqMqMYxw5QXYkCTHkJ0x9x2qs3S9Nh8OU07z1AyfBoZm76LrqnhZRFrCIa02uPUwcXjFvrtbS5AXxs2LUT9Fa/cwHdYS43YTkNLT/kHqBuoOY5NEEX9TA6/z2XnF5h1jjX+EXJKTRkHTAhJlhRKQE8UOMA/6nVb+X/RSm9OLryMR6+hkAn5MfSgkLsLbDPmeo+5xvsDTa3mBvJ26I/KTTElJvlVQqUMAXQneZwOYg0tBTt10+GZ8AoczS32S7bLQB8g1gxMjFhjqEOCEDIej5Qu7du1kumjRy63TLrKCGwURaqD2yGjFqT9w+VxQtuRQF9gyOTzu0JcyLqspEjyeaE2AVOuj0ODvo6mzlcPgcqDYCpAsh92g5aRnn/A/jsLd0t+KUXorSu0IQ5IXW5AYsecv+gPADU2UNXz+AaLIEhTksomLJxp6H78x/a4Qxwltc/Ohpo5RviMvKFSBs0/vuagwg7SYvnQQxdurTyZfpOKaDzC3t47wegPJKH77Tg8vEC3AI6b4CfPSbvhUW84aIAKvwy7JCArxaPDV2WVb/0K2a2DVPfMDRd5lgMVPA2Cx1cZdI6fCuoJsw5oi5T2GEnx67GqcOh8xfVkxKqQZnMgxXz9/PnWxUNfJoiz1vQPmcn7WAd+7CjzImoyz9Ah50cu/KAU4e7f+WdKYNfmmGOd2iYXghUreLrIvpniSAiy66W3v6F7ymKmIcdYU5KnY6gw06OXZXC1OHQvVVr0Cft4aLDKS00/7OmhG5iWqe3zMMuAuf5eW343i1c/kU2m13LoPPVCnT0rLQBPhBHyueqErqJaV0+vvGrgDe08XpvgMMOsMtLSX9nLdu/Uqmli6AC53T8Ur2sF/M1JXQT3bqMlJI45rKMow5pxaSM2CZC6akSbESoSwl079TCFWnPUnsGYG5Z2KoSOq4Jk4Jl4knMeR5AHVDAIQ0quPy39rcGHCRt1Du1bG08e20nUpeb/sLlwlbLulnekBCrm2EOow4PMdXFvuq3C6se6nZgAzA+u9CoBQtuQjkm3BM0m7wsbAUtl1RPPUba9A/rdAPZNkodXsVUpcTu8t9aLh9LG3voTmq5gquWxZ3QcM+UZZhlYfO/zv8qs3VxLzXZ6MxHZpAAHW+4bnxJm9PpT3wCbGQIhy5VS5U5erzoNWodlywU08yChc/Q2e/kOyqTM8yRUakcoA40ymlBBdfhXWmzBelkPRp7UcsUbIjr5M/YRm/52kwBmgXei3vLFr8yZaOnMaeMS+p0p4AYUxhm1lD7PQ5drRapDn5UGtqpnA/xzN6gtSpXHF21zjAHUAepNUCMiSutL/DFp2lgB11aquXpw3sPVGz6PgoZE7kWA5+UlbniQDEFYM45dfoTMyWwe+OKu8bN5iPf2b6VJri61LgKLXoYG81+YKL2K6jJYHvmCuZWh/UEDiGmDBbnRm6xZmY8xgzTN2Lu3pZQi9mhsYHOJw+Mk/9db/6RdgF87xy89Yt/TEemZ/h53UUUMnAgYo6k0Al9PVF9ZNo7q9pFb30YELfO7rAbRqhC+tmur/St3CjgjNszlymMXqO9uk4UOnAAMSehDtaR+YWBm7PisEMOCRy6d4AzeHWlYckdc7CSUV8gN5ObPFdfRCGdKVbMGQF18sNOBYSXq8uvUOgOwEDRtVVXV5jiKcY98H2ipij2VtyJgmx95hd/FRB18sxOXlGRnxXoCttKzWQDpl8Bt4gDSsb7vXQEjaQsepuz08t8tOmNwsljbkOoI1drwWXMa1dU8GkhDLrTPC418IGiJeqLM9FiAXRWr2ycR1DC1MlgFH4cjOYLJ6NZ7Yf5YecHCHQ+sOYWlRw56s3h2huGug3Hu/dDa1i45+iO1uNI5ptdmTrdqQVgx0AnG4C/PnKKNB+JzaREsw4vneZZa/cX1X2AOkIQRN3es9H7hMXu72/bOrxdzEnHIxdZPQ4ZqJL+lhUGz5UXLqESZjb8SvHU0e/B3QNGleC0k42k89DJcrrrI2cyT6yMCxrz7WTmFnfHsaAL0x11mlAHM0cLKjMMMr8MLVQIdPLqpRw5qk57DlRwbdM6mbwRYoUdl5ZdmNlIqtwahkfCHKz3H2aJ3ZtD2HDQCbzx6yMXvffc6Myu4S+AGsrqOi779FBGXc5ShzOHx5iqfIf7dnLtTg0DHTq/594KxyNL3DhgLe8jsOBvtWYBaBy0RkCdsWOOPipnZ5d/427HQYc30cgzTiSylEvzq4jyCPBu12oWgL3PuR11ov2J5E1jFczs5lNf3dHl5P9i1b+j1N1DICwVq+ijBwk3DuizNtv+htz4MbeuLmfAOBBQt/+dul9fF8cx4Q/zynlVs7olZ6Z7nokbLlc8pTYZF8k34orWY7XkfXv4xAFPHc2V82SIx/hHGNGe1TdFm71nq41RvMpw92YumiV0QDInNA7OnrXWadAxdh1InSbUjezXi5B3nbao8LrMJcqcIXRmo72raMPUJ0E9Xz1zE6lLAOpGy1tba+w+FmqKqtMs7qSaH3SFHDl4zgfXeg06fM5HI9SNl5ST2ANEKyq83s7guJsbdIWb+gk254Prf2GOmORy6pj5jrN1bvc+Ugs57uYFnTMzHJvzwbViU9wNdd3QxGI3YR0bIILdErK7OUHnEDlozgd/tq7aFAe2rRPq2CbngrwVVJF9ITP7oKapfDd9H9CKoXOLHDjng+m/Ym7aWj59ZqgjfxmJxobl2KlqqomwWujcIwfN+UBazbo9gDpexQTqIvI+sIvzcWWJmqrmBHB3ReiqwJXmiNwXHaXGwdobUa5E3d2QQhtJEyCf282aO/8ucXXqbq5olsh9USGLZ/5D5sj+hn4VI4NR3R9h/EZx2kLuAcVuxtzdge7knjhen0TIZcxbA8z5EN2Y+6n7KHW0yfkOc3s1QWeJY/u+UIAaQV1FBp2b3+u/rf6aL6fPzO5laM7nrm7M4dR1I9S1eugL5WsX8S4Vquot0NMvhY5sJpJewTBdppNZ4fHWrn1SG1u77n9ouJRQl02sDBuaYySce4BLb4yCFJygg0cOXSkOKk8BNkkg7bHcMJEhZhxsvT90Y84ZdfxX7QkigFXOOAjggVdf/cDz3cyNp1hQSXvKce0Tgbkd85MNN+YE1DGzwF1/cK/PV1gG9/6TQtW8cx1put976YeNAlWIC5aZITYbooyNLm/MCahjXtpoKMpot2KrnOpjZ9SswJNC54cBPqG6EXc16zPzroA5f3Jjzh11hqXuPNyp2cFWOWCYw+DV38yEOUFHgJPElWAFhUQnsAou8bgxZ0ldzlK3GdmbEScODjuqvDDKRuUl9NOrQddAa078d2BIidcrgWnUrfZwJUxDyo25q1GXj0K1ARaQAtJZoixVyciTL5tN/fAC+ALQIYdX/Ck2uF3Xef26MeeMupZJ6tSGDKTSeoxceWeUtcogrH3X0FUpf76Fl8p615DgkON3DLUWHSy5YS2HG3NOqMvIvzPtJ0cDGKmQ2k9KpOoreqkz6FQzth+zfheUkonw1nOoznIoTp+V0Xc/GobJB2/M2VG37Wcu1t//zJhey30EUIdJHxMlVnAJa39nCx23+n3nnwhuqJIMjcjxRq7IpoMlm/JO3pizoU4nfcztzQ+2Cm6woDXYgxUzET4oJ6q+wBf6KH3+nwSHof9DYRg0SqwPxyusPcltClwbuoqo1R6vG3Of2TuzHalhIIrCsIstJYFjx7LzYlkkQVED//9vbGJpbpxy7Dh0T/s8opmeIdO3q3xrcZbqzD9nuV6EVOe69blYTfthQXd5fHj37uP7b9EPFHj8EOun0VIRpgawXAdLYppSNZeqOrCphr/7mCduig4rfor25ARVhD01GOYslF2N4tD/4usGU3oHy6uquXTV9Uu2s/SYQP7EDZDQQD0vC4x394gCikusG2CqMlI8tzrLw6juVaTqeszv//QxW81N0an8fYm87nRzL9DKUmmGDXWDrk3tYKmay9ngQCb4OSlt6Kqr1oQ3lc5Ugs+TbK6cLwWck8i6gWC+cnMHS9Vcqur4VmiFKSZO0YFHXQhh+ra5Uj71g6AC5NQNrE6+OOSeX0B3sOpmHKI7L8jhFF1XTnSIVVcY8ORk6UhsA0yxd+RaiuDG9lvuu/uZHxd38AeCYCdBdGURwzWd8PQ4UAGy6wZiTl++UTW3r+oCy6DWgp0Cr6w8n01/BZamHo/KKfm6gRbgoCS3rN9VzXGqu6NoUHSYjeBfycoi7iUvvEuOeAcLjr+aYOQvC5wogtu5l6fQ/XUIig4TEsxHpjawx8ZO6huDpUKI4QLPeK1Up5KCy64bWJ2+sbtqLld1fF7iodVysUHFy6WOFOV+vw9nI6gU1vQXE/L0aCwVw1M0fbhuMGWt63767EElpzkFMatHAdEHPyGH9t+SkP+3fjdQQU7T/1ae7KcTlcQ4SdEIF6gbCJnhoNR2yyKqc2BR4hAI/sH+ZJ9mpR3JKUFFsUbJtjmcT1IZS4UxDjpGUuoGA+OgMDyvmitQsBtQUvyF/ea3IPX6NVtt76k04jSNspi3iXI75Pxm3OZyjMKnb/MclNqGknJtZFoT0cwHO/NLkJa9Zqvv6BBOg+rLae+THNXJ0kF0Epoj0+oGjIPC8fpBpUzBrudWOIsxpDrymFwicqDjsCejeqmbndCyV+b0mY6kk2mdBz4u0x4pilqeS+Ht3QbV4QpnZmLcYm4Txhk6HHsalOql1ClKk6NSQ8HIxksuJdQNDU8b+YK1VFC4dDCxWy29BlnCUNcqrRL0//h8Op0G9Z1RLjKq7wynEwS1A8lvsut3u+qslgqKmJhcQU53653sHRvo0FOpsMjAc06oG2Rd/fKk2papqos1Mb1kyqeouhn6plnmjipbV1nqtO/OclCqbZnFY4pEcbcd+5WOMbNhtXFlGasCoc7QBtQeDkq1LY/pf+b3NIgV0ekmGmcEVXA/hWsauxysHG1B5zsodPf2QaWYncJPObZDMJr5ldvKpZQX6qlcIHZ0vyJRfqjzbfZl8U+rbXlgT5iXK3sa5MoU0FI9QRgXlh1V/lLceUizeaHO5Dko1UI5xE5h5wqUX2qbdeC4QbnBBMOdG6jyU3E47d1nhTqaG0B7iqQuQ9mN18TATPVr6daWK4ZXBXRz0Mm8+RzTjm7Z6fB5oU649JsE62KGHXl0R7F0romiC/vUZylraKOXs3TD+Ek3gKNdQl0HHnQktQtlX54xBztoteRwK8Uhcf56all27c2q7pfigCEn1AkLdYNtKUU9zgHFDnZIpxsWs1bPFTCoUlWHikP69FAnVOsW6gatoVjqcQ446mDH11ixTyJiLnmQDdLe3LnuTHFIS6FQJ1jJ/S1N3252UOpQAXBoxQ6rB0jHjSl0eKt/A/R0S4DikCH0RBUnufMsdNrqoNTqXCkePiEgulSOjZdQHAfZsUK+nR5oYXRET7jFJ8onBarFifB5m4NSr8EqyGOKx4PdH3wLmCZOdgr3BtwEwswRivsR5jaHOuOW/i6i3eKg1GZL5JjJVmRwTBbEdTxrwwx8Sbr/bFIcnMqYUGdcQJrdQLHUSkExsHbAIxTTrs7OGbhJ0N/cmuhiFcdbWYqRXLI1VSsFDEeuLMIcE5XS/U4hrQs2Wnr6xY2JLl5xiGBCHUgOpBnN4wcV5MAUE+nkShVONo0zbE2996EtHjPdW1jF4UJePtSh5LJD3d2jB5UDePaEttDJkOb82U5ZK5mZcWzGvb/jBqZtOGD1PBfqsH8hN9RV1/JAHtMmuv5sKgd8kXb06LyglYnzPvewJ8UPanYDdemK40NdJ5n6eiTVtTyURy9pG4OSUva/3ik4TN5bSHpAdjDv4+g+Ibqpl7/14bYrzo7OroU6D5ILPOQ4akH8aB6+omwM7JRlZXceN0e6J1ijpDs3iMbtijt/Ihjq+l0lVy8q+A+8vqNM5uVSgtHcu8L37X1pSPGd6vXSDIZdfgBBxWHsx2Wifj/J1U0oB4EluzzaUM28k5yTKVR79d5lZ8bgnUFiKb/Uk2enWe1aqJvhuaYP4z+py2T/D48pB7Fyhrc9u/DUuKtdg/nDLOEawke8l2UBPznIFgKhbsfF9dVBORL0U9LpVkct/dgetanBD52gcqBZwjNhfqm5uQN8iKaM5KqD8n95+IY2wk+M48g4ltdzQXNdy1GVER+aJTwjYX7pOcVhFcWVkFztQfnvPEr3U/jxOOMKqw7PPlpOlAdvlvBIwvxy4hSHjq4pIbmXtQflv5NePNCgOhEpO017Indvc7Hdd8As2QCF80tUXDhJd03mlSDIm1oouATeJga7idneDLLLFEa+6ES3moBCptc3qfhQfilAcWtZqNnxArIa5i6KxGAnXBMnu5bpVspkeZWEkr/QkNrGvtDUpNIt5pfCzBu7w9w+kqth7gJJC3ZdsBR3jpiZOViGJNE1AfoNL9Q1KehZdX4hv3RRijvHbJNcDXPXRFqwM7EX0ali+SVKHxTEzeCGRSeabbRSmY6ICVObOqBdtuRqmLtckmp2Qxt5Ed18uOgct7MT0RAy42UjewXnxTFNcfzn2hbJ1TB3ySTV7KyOu4iuLyc6hW492itRE0USRCej9KaG5Ve0DcD1YyKOy995am3ugnmU0o2p2phFDfow0c286FofKzrVREBBdAMw/ZhIly+52oJy0aR0Y/qeX9RgMcXbCawYwD8jWkSKzsQ5lSGmJMX5SffwW+VI7q52Wl40sMqBBxY14JSd0KXWzKJUJvxnZI4UnV00S6I/QHyS4v4pqXSZkqNXdaDg0nmRUj2w4WjnejU67LvYj0DckVxzJIKio0WzRMNrhdDbFYclFZkluZd1bu4K2Gqo4EV0PCPtB7gkjOgwPIUS1T+qcWdmSR+9SHDarjisJnY/f4qlFB7XOsF1sNVQgakCFk/ZMBUD1ni0UaLrGzlOHZ2jottrPAb+0TKKw91fEsbCY3lSDZTrIXGXg3GxTfj7MYAC4kTXelZ0sToXFERzARb7MfELuyTJ1duvrg24RJInfBFdkSYwpkzHl9i0SBWdCNmXyMTl1aF+zJnSqR0o18qjjT4m46mUsVGw7WMOHLzaiPf1GFtLbCO/EPNLh4oLICiHugTlSknyMXFTA2IoDz48YQQcNW/nqFgtydgeaswvLShu54dUPcvr5uFjSkMox9ydnAj/rp5CChJtA5hE0Y3cf4jPL/kpH0rnrjZ9XTHPksfKjWY6OPYCXzygINsyFma86Ex0Ixjml6C4/fPL5zWzvG6gfBBNN5ev0aGpYcMKMoyFGS+6Dn5oGMwvh7nh0VOq6J7UcYLr58VLSsSPbfGtRFimCytIMb8NfEuQaDcW80vXNklt0Dz1MPeVvTPYbRUGougrr0kakeZpNsQQARsUiSLx/5/3pGYRqWYGD2Djwj3bKMomR7bvzNgb4u09oamUxpdzcpnODlKeiaZFz0tnnJevXLG/9GQcWpu3xtSqnd1rYRZxThBF/CBjIky1dL2i2G/CGIeer82hSlRs7563kN/6ghbFDhJr2SAmwlRLlysKj2UY45CfbJC/B4oRq0wnGsREmGrpWvf40vWilSafYxyK4RslSu3u3LJVDhvUChFm6yzdQ1MFscNKuQ1aDyLLDXNOKTbYf3/BGNRxEab9Ffef7UigdDYOyoFfoN3DnhmSpWMiTK10RlF7zLwahyrBDohLO6ZMJxrERJgq6b40s0q9R+MoxfzOHohJu5KJEXmDhq+DL5XSdZbsAqUv46DcjohHOyZwlAxiIkyddIVmFD4bCG/qguYC5XZGLNrV7JBNwa6BTIQp7VVHPZIV6n8a19JsoNwOiUM7rkzHGCRGmBrpqNFcnlsubxwdoNweOR9pdRqmTMdIJ0WYRiWd0Uy/ZQsbhyLBjlm/XM7u8mSDBiPMWiNdrhrM7TnjoBzQa/dB6yGV6eghGTQcYSoiSVUj2Pf+cinj0GMJ/pzW005ezkQrhiNMhUiVKknJyoyWIblCOWDN24VDKtONSkftLOnIKvSFIMXwDlg3ypTnAkYN6uZIZ8+x+ueIwBKsn6nUQgvkuEH1HOlqy3fPXJCeAPtwl1BY5DuZHQy6T7+Py37QwCM4ygGOt8+UwnITLggabdSyI0xNOFJYhvojPeMoB1j+XSgkkiUuBlW3ydJlP56KrMgXH9hXAplTwCyzklYbJ4PaqdK9Vtn786lIT6Tv2FcCB84HCoLcdeJmUDdZOvN6KtIbF8ynAldO14QC0Eq9WI2bQfVU6aqMfIJFDsR6uiuKPDf3odjeOBp0F6RbDSxyYBKngGFmVrT5V0cv3KXLmvikO34irgST+6ETWgd36ai6xSVdcsVL4eB/e/ey2yAMRGFYMDNgYxvLm6pVpa666/u/XxNVbCqljRQCNvzfOxzNjctDfCx7uD90P6Ph++vibfH1UjZHW4lVjGkom1tC97lk6aM0YOAKjrWMWsXHHeo2JLaVWNU0k7s/BAY5XJC7G0gcWkLuSBz+Re6eaUgkDjccYp9ZG2Nzgi11PpYz6x3XAewgn7XRDDOvyGE3YzpdwYs0ldhdnk8z4Q2UONRi9K4vBxeY4lCbKcXDBq+Pnp4SdTpi8ILjFofKTd4dZqkZHBUOjRjzvPtfuB5lmpnh0BhJsdGSN9BRol2daFvJC1GFAofmXZPXwClvcOQNxyJ+tkpXm72pp5/EQXWSqopesDlR3nAG4jVa2ZVFzTzThbPpxKuzUDYVzGmmuOHkRvE6m5Vn6s1Us3DqBn6lT5KqrZc/M1NNQmED7jCJZL2wq3Inu9ILEWEdCTysk1vYiLTkG1EnYlZuSoqkAAAAAElFTkSuQmCC";function pL({army:C,usace:H,rsgis:rt,cwbi:vt}){return On.jsxs("div",{className:"gw-flex gw-flex-row gw-justify-center gw-align-middle gw-gap-6 gw-mb-4",children:[C&&On.jsx("a",{href:"https://www.army.mil",target:"_blank",rel:"noopener",children:On.jsx("img",{src:cL,alt:"U.S. Army",className:"gw-max-h-[75px]"})}),H&&On.jsx("a",{href:"https://www.usace.army.mil",target:"_blank",rel:"noopener",children:On.jsx("img",{src:h5,alt:"U.S. Army Corps of Engineers",className:"gw-max-h-[75px] gw-h-[75px] gw-w-auto"})}),rt&&On.jsx("a",{href:"https://www.erdc.usace.army.mil/Media/Fact-Sheets/Fact-Sheet-Article-View/article/476649/remote-sensinggeographic-information-systems-center/",target:"_blank",rel:"noopener",children:On.jsx("img",{src:fL,alt:"Remote Sensing - GIS Center of Expertise",className:"gw-max-h-[75px]"})}),vt&&On.jsx("a",{href:"https://cwbi.sec.usace.army.mil",target:"_blank",rel:"noopener",children:On.jsx("img",{src:hL,alt:"Civil Works Business Intelligence",className:"gw-max-h-[75px]"})})]})}function dL(C){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(C)}function vL({facebook:C,twitter:H,youtube:rt,flickr:vt}){return On.jsxs("ul",{className:"gw-text-2xl gw-flex gw-flex-row gw-flex-wrap gw-gap-2 gw-list-none gw-mb-3",children:[C&&On.jsx("li",{children:On.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",title:"Facebook",children:On.jsx(XE,{})})}),H&&On.jsx("li",{children:On.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",title:"Twitter",children:On.jsx(dL,{})})}),rt&&On.jsx("li",{children:On.jsx("a",{href:rt,target:"_blank",rel:"noopener noreferrer",title:"YouTube",children:On.jsx(qE,{})})}),vt&&On.jsx("li",{children:On.jsx("a",{href:vt,target:"_blank",rel:"noopener noreferrer",title:"Flickr",children:On.jsx(UE,{})})})]})}function W_({links:C=[],columnCount:H=2}){return On.jsx("ul",{className:"gw-list-none",style:{columnCount:H,columnGap:"40px",margin:0,padding:"0 0 0 2px"},children:C.map((rt,vt)=>{const St=rt.href.startsWith("http")?"_blank":"",Nt=rt.href.startsWith("http")?"noopener noreferrer":"";return On.jsx("li",{className:"gw-mb-2",children:On.jsx("a",{href:rt.href,target:St,rel:Nt,className:"gw-hover:gw-underline",children:rt.text})},rt.text+vt)})})}function gL({missionText:C,aboutText:H,facebookUrl:rt,twitterUrl:vt,youtubeUrl:St,flickrUrl:Nt,usaceLinks:X,externalLinks:B,armyLogo:t,usaceLogo:x,rsgisLogo:E,cwbiLogo:i}){return On.jsxs("footer",{className:"gw-relative gw-text-footer-light-gray gw-text-sm gw-bg-footer-black gw-border-t-gray-600 gw-border-t-4 gw-pb-[128px]",children:[On.jsx(uL,{}),On.jsxs("div",{className:"gw-bg-footer-gray gw-pt-8 gw-pb-16",children:[On.jsx(h4,{fluid:!0,children:On.jsxs("div",{className:"gw-grid gw-grid-cols-12 gw-gap-2",children:[On.jsx("div",{className:"gw-col-span-12 lg:gw-col-span-6",children:On.jsxs("div",{className:"gw-grid gw-grid-cols-12 gw-gap-2",children:[On.jsx("div",{className:"gw-col-span-6 lg:gw-col-span-12",children:C&&On.jsxs(On.Fragment,{children:[On.jsx("h2",{className:"gw-text-lg",children:"Our Mission"}),On.jsx(X_,{children:C})]})}),On.jsx("div",{className:"gw-col-span-6 lg:gw-col-span-12",children:H&&On.jsxs(On.Fragment,{children:[On.jsx("h2",{className:"gw-text-lg",children:"About this Website"}),On.jsx(X_,{children:H})]})})]})}),On.jsxs("div",{className:"gw-col-span-8 gw-mt-8 lg:gw-mt-2 lg:gw-col-span-4",children:[On.jsx(vL,{facebook:rt,twitter:vt,youtube:St,flickr:Nt}),On.jsx(W_,{links:X})]}),On.jsx("div",{className:"gw-col-span-4 gw-mt-[66px] lg:gw-mt-2  lg:gw-col-span-2",children:On.jsx(W_,{links:B,columnCount:1})})]})}),On.jsx(pL,{army:t,usace:x,rsgis:E,cwbi:i})]})]})}const yL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAMAAABBPP0LAAAAG1BMVEUdM7EeNLIeM7HgQCDaPh/bPh/bPx/////bPyBEby41AAAAUElEQVQI123MNw4CABDEwD3jC/9/MQ1BQrgeOSkIqYe2o2FZtthXgQLgbHVMZdlsfUQFQnHtjP1+8BUhBDKOqtmfot6ojqPzR7TjdU+f6vkED+IDPhTBcMAAAAAASUVORK5CYII=",mL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%3e%3ctitle%3eicon-dot-gov%3c/title%3e%3cpath%20fill='%232378C3'%20fill-rule='evenodd'%20d='M32%200c17.673%200%2032%2014.327%2032%2032%200%2017.673-14.327%2032-32%2032C14.327%2064%200%2049.673%200%2032%200%2014.327%2014.327%200%2032%200zm0%201.208C14.994%201.208%201.208%2014.994%201.208%2032S14.994%2062.792%2032%2062.792%2062.792%2049.006%2062.792%2032%2049.006%201.208%2032%201.208zm10.59%2038.858a.857.857%200%200%201%20.882.822v1.642H18.886v-1.642a.857.857%200%200%201%20.882-.822H42.59zM25.443%2027.774v9.829h1.642v-9.83h3.273v9.83H32v-9.83h3.272v9.83h1.643v-9.83h3.272v9.83h.76a.857.857%200%200%201%20.882.821v.821h-21.3v-.809a.857.857%200%200%201%20.88-.82h.762v-9.842h3.272zm5.736-8.188l12.293%204.915v1.642h-1.63a.857.857%200%200%201-.882.822H21.41a.857.857%200%200%201-.882-.822h-1.642v-1.642l12.293-4.915z'/%3e%3c/svg%3e",xL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%3e%3ctitle%3eicon-https%3c/title%3e%3cpath%20fill='%23719F2A'%20fill-rule='evenodd'%20d='M32%200c17.673%200%2032%2014.327%2032%2032%200%2017.673-14.327%2032-32%2032C14.327%2064%200%2049.673%200%2032%200%2014.327%2014.327%200%2032%200zm0%201.208C14.994%201.208%201.208%2014.994%201.208%2032S14.994%2062.792%2032%2062.792%2062.792%2049.006%2062.792%2032%2049.006%201.208%2032%201.208zm0%2018.886a7.245%207.245%200%200%201%207.245%207.245v3.103h.52c.86%200%201.557.698%201.557%201.558v9.322c0%20.86-.697%201.558-1.557%201.558h-15.53c-.86%200-1.557-.697-1.557-1.558V32c0-.86.697-1.558%201.557-1.558h.52V27.34A7.245%207.245%200%200%201%2032%2020.094zm0%203.103a4.142%204.142%200%200%200-4.142%204.142v3.103h8.284V27.34A4.142%204.142%200%200%200%2032%2023.197z'/%3e%3c/svg%3e";function bL(...C){return C.filter(Boolean).join(" ")}const _L=()=>{const[C,H]=Ur.useState(!1);return On.jsx("div",{id:"dnn_ctl03_header_banner_container",className:"header_banner_container",children:On.jsxs("span",{className:"header_banner_inner",children:[On.jsxs("div",{className:"header_banner_flag gw-flex gw-items-center gw-justify-start",children:[On.jsx("img",{src:yL,className:"gw-mr-2"}),"An official website of the United States government",On.jsx("div",{className:"header_banner_accordion",tabIndex:0,children:On.jsxs("u",{onClick:()=>{H(!C)},children:["Here's how you know",On.jsx("span",{className:bL("expand-more-container",C?"active":""),children:On.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[On.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),On.jsx("path",{className:"expand-more",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})]})})]})})]}),C?On.jsxs("div",{className:"header_banner_panel active active",style:{paddingTop:"24px",paddingBottom:"18px",maxHeight:"328px"},children:[On.jsxs("div",{className:"header_banner_panel_item",children:[On.jsx("img",{src:mL,className:"gw-h-[50px] gw-w-[50px] gw-mr-4"}),On.jsxs("div",{id:"dnn_ctl03_bannerContentLeft",className:"header_banner_content",children:[On.jsx("p",{className:"banner-contentLeft-text",children:On.jsx("strong",{children:" Official websites use .mil "})}),"A ",On.jsx("strong",{children:".mil"})," website belongs to an official U.S. Department of Defense organization in the United States."]})]}),On.jsxs("div",{className:"header_banner_panel_item https",children:[On.jsx("img",{src:xL,className:"gw-h-[50px] gw-w-[50px] gw-mr-4"}),On.jsxs("div",{id:"dnn_ctl03_bannerContentRight",className:"header_banner_content",children:[On.jsx("p",{className:"banner-contentRight-text",children:On.jsx("strong",{children:"Secure .mil websites use HTTPS"})}),On.jsxs("div",{children:[" ","A"," ",On.jsxs("strong",{children:["lock (",On.jsx("span",{className:"header_banner_icon_lock",children:On.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"64",viewBox:"0 0 52 64",children:[On.jsx("title",{children:"lock "}),On.jsx("path",{className:"icon_lock",fillRule:"evenodd",d:"M26 0c10.493 0 19 8.507 19 19v9h3a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V32a4 4 0 0 1 4-4h3v-9C7 8.507 15.507 0 26 0zm0 8c-5.979 0-10.843 4.77-10.996 10.712L15 19v9h22v-9c0-6.075-4.925-11-11-11z"})," "]})}),")"]})," ","or ",On.jsx("strong",{children:" https://"})," means you’ve safely connected to the .mil website. Share sensitive information only on official, secure websites."]})]})]})]}):null]})})};function wL({children:C,navRight:H=void 0,showFooter:rt=!0,links:vt,usaBanner:St=!0,msgBanner:Nt=!1,title:X="US Army Corps of Engineers",subtitle:B="",missionText:t="",aboutText:x="",facebookUrl:E="",twitterUrl:i="",youtubeUrl:M="",flickrUrl:m="",usaceLinks:d=[],externalLinks:v=[],armyLogo:r=!0,usaceLogo:e=!0,rsgisLogo:s=!1,cwbiLogo:n=!1}){return On.jsxs("div",{className:"gw-grid gw-min-h-[100vh] gw-grid-rows-1fr-auto",children:[On.jsxs("div",{children:[St&&On.jsx(_L,{}),Nt&&On.jsx(Nt,{}),On.jsx(sL,{links:vt,title:X,subtitle:B,navRight:H}),C]}),rt&&On.jsx(gL,{missionText:t,aboutText:x,facebookUrl:E,twitterUrl:i,youtubeUrl:M,flickrUrl:m,usaceLinks:d,externalLinks:v,armyLogo:r,usaceLogo:e,rsgisLogo:s,cwbiLogo:n})]})}const kL={red:"gw-bg-red-500/15 gw-text-red-700 group-data-[hover]:gw-bg-red-500/25 dark:gw-bg-red-500/10 dark:gw-text-red-400 dark:group-data-[hover]:gw-bg-red-500/20",orange:"gw-bg-orange-500/15 gw-text-orange-700 group-data-[hover]:gw-bg-orange-500/25 dark:gw-bg-orange-500/10 dark:gw-text-orange-400 dark:group-data-[hover]:gw-bg-orange-500/20",amber:"gw-bg-amber-400/20 gw-text-amber-700 group-data-[hover]:gw-bg-amber-400/30 dark:gw-bg-amber-400/10 dark:gw-text-amber-400 dark:group-data-[hover]:gw-bg-amber-400/15",yellow:"gw-bg-yellow-400/20 gw-text-yellow-700 group-data-[hover]:gw-bg-yellow-400/30 dark:gw-bg-yellow-400/10 dark:gw-text-yellow-300 dark:group-data-[hover]:gw-bg-yellow-400/15",lime:"gw-bg-lime-400/20 gw-text-lime-700 group-data-[hover]:gw-bg-lime-400/30 dark:gw-bg-lime-400/10 dark:gw-text-lime-300 dark:group-data-[hover]:gw-bg-lime-400/15",green:"gw-bg-green-500/15 gw-text-green-700 group-data-[hover]:gw-bg-green-500/25 dark:gw-bg-green-500/10 dark:gw-text-green-400 dark:group-data-[hover]:gw-bg-green-500/20",emerald:"gw-bg-emerald-500/15 gw-text-emerald-700 group-data-[hover]:gw-bg-emerald-500/25 dark:gw-bg-emerald-500/10 dark:gw-text-emerald-400 dark:group-data-[hover]:gw-bg-emerald-500/20",teal:"gw-bg-teal-500/15 gw-text-teal-700 group-data-[hover]:gw-bg-teal-500/25 dark:gw-bg-teal-500/10 dark:gw-text-teal-300 dark:group-data-[hover]:gw-bg-teal-500/20",cyan:"gw-bg-cyan-400/20 gw-text-cyan-700 group-data-[hover]:gw-bg-cyan-400/30 dark:gw-bg-cyan-400/10 dark:gw-text-cyan-300 dark:group-data-[hover]:gw-bg-cyan-400/15",sky:"gw-bg-sky-500/15 gw-text-sky-700 group-data-[hover]:gw-bg-sky-500/25 dark:gw-bg-sky-500/10 dark:gw-text-sky-300 dark:group-data-[hover]:gw-bg-sky-500/20",blue:"gw-bg-blue-500/15 gw-text-blue-700 group-data-[hover]:gw-bg-blue-500/25 dark:gw-text-blue-400 dark:group-data-[hover]:gw-bg-blue-500/25",indigo:"gw-bg-indigo-500/15 gw-text-indigo-700 group-data-[hover]:gw-bg-indigo-500/25 dark:gw-text-indigo-400 dark:group-data-[hover]:gw-bg-indigo-500/20",violet:"gw-bg-violet-500/15 gw-text-violet-700 group-data-[hover]:gw-bg-violet-500/25 dark:gw-text-violet-400 dark:group-data-[hover]:gw-bg-violet-500/20",purple:"gw-bg-purple-500/15 gw-text-purple-700 group-data-[hover]:gw-bg-purple-500/25 dark:gw-text-purple-400 dark:group-data-[hover]:gw-bg-purple-500/20",fuchsia:"gw-bg-fuchsia-400/15 gw-text-fuchsia-700 group-data-[hover]:gw-bg-fuchsia-400/25 dark:gw-bg-fuchsia-400/10 dark:gw-text-fuchsia-400 dark:group-data-[hover]:gw-bg-fuchsia-400/20",pink:"gw-bg-pink-400/15 gw-text-pink-700 group-data-[hover]:gw-bg-pink-400/25 dark:gw-bg-pink-400/10 dark:gw-text-pink-400 dark:group-data-[hover]:gw-bg-pink-400/20",rose:"gw-bg-rose-400/15 gw-text-rose-700 group-data-[hover]:gw-bg-rose-400/25 dark:gw-bg-rose-400/10 dark:gw-text-rose-400 dark:group-data-[hover]:gw-bg-rose-400/20",zinc:"gw-bg-zinc-600/10 gw-text-zinc-700 group-data-[hover]:gw-bg-zinc-600/20 dark:gw-bg-white/5 dark:gw-text-zinc-400 dark:group-data-[hover]:gw-bg-white/10"};function G_({color:C="zinc",className:H,...rt}){return On.jsx("span",{...rt,className:cu(H,"gw-inline-flex gw-items-center gw-gap-x-1.5 gw-rounded-md gw-px-1.5 gw-py-0.5 gw-text-sm/5 gw-font-medium sm:gw-text-xs/5 forced-colors:gw-outline",kL[C])})}Ti.forwardRef(function({color:C="zinc",className:H,children:rt,...vt},St){let Nt=cu(H,"gw-group gw-relative gw-inline-flex gw-rounded-md focus:gw-outline-none data-[focus]:gw-outline data-[focus]:gw-outline-2 data-[focus]:gw-outline-offset-2 data-[focus]:gw-outline-blue-500");return"href"in vt?On.jsx(l5,{...vt,className:Nt,ref:St,children:On.jsx(Ng,{children:On.jsx(G_,{color:C,children:rt})})}):On.jsx(b4,{...vt,className:Nt,ref:St,children:On.jsx(Ng,{children:On.jsx(G_,{color:C,children:rt})})})});const TL=["date","datetime-local","month","time","week"];Ur.forwardRef(function({className:C,...H},rt){return On.jsx("span",{"data-slot":"control",className:cu([C,"gw-relative gw-block gw-w-full","before:gw-absolute before:gw-inset-px before:gw-rounded-[calc(theme(borderRadius.lg)-1px)] before:gw-bg-white before:gw-shadow","dark:before:gw-hidden","after:gw-pointer-events-none after:gw-absolute after:gw-inset-0 after:gw-rounded-lg after:gw-ring-inset after:gw-ring-transparent sm:after:gw-focus-within:ring-2 sm:after:gw-focus-within:gw-ring-blue-500","has-[[data-disabled]]:gw-opacity-50 before:has-[[data-disabled]]:gw-bg-zinc-950/5 before:has-[[data-disabled]]:gw-shadow-none","before:has-[[data-invalid]]:gw-shadow-red-500/10"]),children:On.jsx(xS,{ref:rt,className:cu([H.type&&TL.includes(H.type)&&["[&::-webkit-datetime-edit-fields-wrapper]:gw-p-0","[&::-webkit-date-and-time-value]:gw-min-h-[1.5em]","[&::-webkit-datetime-edit]:gw-inline-flex","[&::-webkit-datetime-edit]:gw-p-0","[&::-webkit-datetime-edit-year-field]:gw-p-0","[&::-webkit-datetime-edit-month-field]:gw-p-0","[&::-webkit-datetime-edit-day-field]:gw-p-0","[&::-webkit-datetime-edit-hour-field]:gw-p-0","[&::-webkit-datetime-edit-minute-field]:gw-p-0","[&::-webkit-datetime-edit-second-field]:gw-p-0","[&::-webkit-datetime-edit-millisecond-field]:gw-p-0","[&::-webkit-datetime-edit-meridiem-field]:gw-p-0"],"gw-relative gw-block gw-w-full gw-appearance-none gw-rounded-lg gw-px-[calc(theme(spacing[3.5])-1px)] gw-py-[calc(theme(spacing[2.5])-1px)] sm:gw-px-[calc(theme(spacing[3])-1px)] sm:gw-py-[calc(theme(spacing[1.5])-1px)]","gw-text-base/6 gw-text-zinc-950 placeholder:gw-text-zinc-500 sm:gw-text-sm/6 dark:gw-text-white","gw-border gw-border-zinc-950/10 data-[hover]:gw-border-zinc-950/20 dark:gw-border-white/10 dark:data-[hover]:gw-border-white/20","gw-bg-transparent dark:gw-bg-white/5","focus:gw-outline-none","data-[invalid]:gw-border-red-500 data-[invalid]:data-[hover]:gw-border-red-500 data-[invalid]:dark:gw-border-red-500 data-[invalid]:data-[hover]:dark:gw-border-red-500","data-[disabled]:gw-border-zinc-950/20 dark:gw-data-[hover]:data-[disabled]:gw-border-white/15 data-[disabled]:dark:gw-border-white/15 data-[disabled]:dark:gw-bg-white/[2.5%]"]),...H})})});Ur.forwardRef(function({className:C,resizable:H=!0,...rt},vt){return On.jsx("span",{"data-slot":"control",className:cu([C,"gw-relative gw-block gw-w-full","before:gw-absolute before:gw-inset-px before:gw-rounded-[calc(theme(borderRadius.lg)-1px)] before:gw-bg-white before:gw-shadow","dark:before:gw-hidden","after:gw-pointer-events-none after:gw-absolute after:gw-inset-0 after:gw-rounded-lg after:gw-ring-inset after:gw-ring-transparent sm:after:focus-within:gw-ring-2 sm:after:focus-within:gw-ring-blue-500","has-[[data-disabled]]:gw-opacity-50 before:has-[[data-disabled]]:gw-bg-zinc-950/5 before:has-[[data-disabled]]:gw-shadow-none"]),children:On.jsx(CE,{ref:vt,className:cu(["gw-relative gw-block gw-h-full gw-w-full gw-appearance-none gw-rounded-lg gw-px-[calc(theme(spacing[3.5])-1px)] gw-py-[calc(theme(spacing[2.5])-1px)] sm:gw-px-[calc(theme(spacing.3)-1px)] sm:gw-py-[calc(theme(spacing[1.5])-1px)]","gw-text-base/6 gw-text-zinc-950 placeholder:gw-text-zinc-500 sm:gw-text-sm/6 dark:gw-text-white","gw-border gw-border-zinc-950/10 data-[hover]:gw-border-zinc-950/20 dark:gw-border-white/10 dark:data-[hover]:gw-border-white/20","gw-bg-transparent dark:gw-bg-white/5","focus:gw-outline-none","data-[invalid]:gw-border-red-500 data-[invalid]:data-[hover]:gw-border-red-500 data-[invalid]:dark:gw-border-red-600 data-[invalid]:data-[hover]:dark:gw-border-red-600","disabled:gw-border-zinc-950/20 disabled:dark:gw-border-white/15 disabled:dark:gw-bg-white/[2.5%] dark:data-[hover]:disabled:gw-border-white/15",H?"gw-resize-y":"gw-resize-none"]),...rt})})});var p5={exports:{}};(function(C,H){(function(rt,vt){C.exports=vt()})(self,function(){return function(){var rt={79288:function(X,B,t){var x=t(3400),E={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in E){var M=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");x.addStyleRule(M,E[i])}},86712:function(X,B,t){X.exports=t(84224)},37240:function(X,B,t){X.exports=t(51132)},29744:function(X,B,t){X.exports=t(94456)},29352:function(X,B,t){X.exports=t(67244)},96144:function(X,B,t){X.exports=t(97776)},53219:function(X,B,t){X.exports=t(61712)},4624:function(X,B,t){X.exports=t(95856)},54543:function(X,B,t){X.exports=t(54272)},45e3:function(X,B,t){X.exports=t(85404)},62300:function(X,B,t){X.exports=t(26048)},6920:function(X,B,t){X.exports=t(66240)},10264:function(X,B,t){X.exports=t(40448)},32016:function(X,B,t){X.exports=t(64884)},27528:function(X,B,t){X.exports=t(15088)},75556:function(X,B,t){X.exports=t(76744)},39204:function(X,B,t){X.exports=t(94704)},73996:function(X,B,t){X.exports=t(62396)},16489:function(X,B,t){X.exports=t(32028)},5e3:function(X,B,t){X.exports=t(81932)},77280:function(X,B,t){X.exports=t(45536)},33992:function(X,B,t){X.exports=t(42600)},17600:function(X,B,t){X.exports=t(21536)},49116:function(X,B,t){X.exports=t(65664)},46808:function(X,B,t){X.exports=t(29044)},36168:function(X,B,t){X.exports=t(48928)},13792:function(X,B,t){var x=t(32016);x.register([t(37240),t(29352),t(5e3),t(33992),t(17600),t(49116),t(6920),t(67484),t(79440),t(39204),t(83096),t(36168),t(20260),t(63560),t(65832),t(46808),t(73996),t(48824),t(89904),t(25120),t(13752),t(4340),t(62300),t(29800),t(8363),t(54543),t(86636),t(42192),t(32140),t(77280),t(89296),t(56816),t(70192),t(45e3),t(27528),t(84764),t(3920),t(50248),t(4624),t(69967),t(10264),t(86152),t(53219),t(81604),t(63796),t(29744),t(89336),t(86712),t(75556),t(16489),t(97312),t(96144)]),X.exports=x},3920:function(X,B,t){X.exports=t(43480)},25120:function(X,B,t){X.exports=t(6296)},4340:function(X,B,t){X.exports=t(7404)},86152:function(X,B,t){X.exports=t(65456)},56816:function(X,B,t){X.exports=t(22020)},89296:function(X,B,t){X.exports=t(29928)},20260:function(X,B,t){X.exports=t(75792)},32140:function(X,B,t){X.exports=t(156)},84764:function(X,B,t){X.exports=t(45499)},48824:function(X,B,t){X.exports=t(3296)},69967:function(X,B,t){X.exports=t(4184)},8363:function(X,B,t){X.exports=t(36952)},86636:function(X,B,t){X.exports=t(38983)},70192:function(X,B,t){X.exports=t(11572)},81604:function(X,B,t){X.exports=t(76924)},63796:function(X,B,t){X.exports=t(62944)},89336:function(X,B,t){X.exports=t(95443)},67484:function(X,B,t){X.exports=t(34864)},97312:function(X,B,t){X.exports=t(76272)},42192:function(X,B,t){X.exports=t(97924)},29800:function(X,B,t){X.exports=t(15436)},63560:function(X,B,t){X.exports=t(5621)},89904:function(X,B,t){X.exports=t(91304)},50248:function(X,B,t){X.exports=t(41724)},65832:function(X,B,t){X.exports=t(31991)},79440:function(X,B,t){X.exports=t(22869)},13752:function(X,B,t){X.exports=t(67776)},83096:function(X,B,t){X.exports=t(95952)},72196:function(X){X.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(X,B,t){var x=t(72196),E=t(25376),i=t(33816),M=t(31780).templatedArray;t(36208),X.exports=M("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:x.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:x.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:E({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(X,B,t){var x=t(3400),E=t(54460),i=t(23816).draw;X.exports=function(d){var v=d._fullLayout,r=x.filterVisible(v.annotations);if(r.length&&d._fullData.length)return x.syncOrAsync([i,M],d)};function M(d){var v=d._fullLayout;x.filterVisible(v.annotations).forEach(function(r){var e=E.getFromId(d,r.xref),s=E.getFromId(d,r.yref),n=E.getRefType(r.xref),l=E.getRefType(r.yref);r._extremes={},n==="range"&&m(r,e),l==="range"&&m(r,s)})}function m(d,v){var r=v._id,e=r.charAt(0),s=d[e],n=d["a"+e],l=d[e+"ref"],o=d["a"+e+"ref"],h=d["_"+e+"padplus"],b=d["_"+e+"padminus"],f={x:1,y:-1}[e]*d[e+"shift"],k=3*d.arrowsize*d.arrowwidth||0,a=k+f,c=k-f,p=3*d.startarrowsize*d.arrowwidth||0,w=p+f,S=p-f,_;if(o===l){var T=E.findExtremes(v,[v.r2c(s)],{ppadplus:a,ppadminus:c}),P=E.findExtremes(v,[v.r2c(n)],{ppadplus:Math.max(h,w),ppadminus:Math.max(b,S)});_={min:[T.min[0],P.min[0]],max:[T.max[0],P.max[0]]}}else w=n?w+n:w,S=n?S-n:S,_=E.findExtremes(v,[v.r2c(s)],{ppadplus:Math.max(h,a,w),ppadminus:Math.max(b,c,S)});d._extremes[r]=_}},42300:function(X,B,t){var x=t(3400),E=t(24040),i=t(31780).arrayEditor;X.exports={hasClickToShow:M,onClick:m};function M(r,e){var s=d(r,e);return s.on.length>0||s.explicitOff.length>0}function m(r,e){var s=d(r,e),n=s.on,l=s.off.concat(s.explicitOff),o={},h=r._fullLayout.annotations,b,f;if(n.length||l.length){for(b=0;b<n.length;b++)f=i(r.layout,"annotations",h[n[b]]),f.modifyItem("visible",!0),x.extendFlat(o,f.getUpdateObj());for(b=0;b<l.length;b++)f=i(r.layout,"annotations",h[l[b]]),f.modifyItem("visible",!1),x.extendFlat(o,f.getUpdateObj());return E.call("update",r,{},o)}}function d(r,e){var s=r._fullLayout.annotations,n=[],l=[],o=[],h=(e||[]).length,b,f,k,a,c,p,w,S;for(b=0;b<s.length;b++)if(k=s[b],a=k.clicktoshow,a){for(f=0;f<h;f++)if(c=e[f],p=c.xaxis,w=c.yaxis,p._id===k.xref&&w._id===k.yref&&p.d2r(c.x)===v(k._xclick,p)&&w.d2r(c.y)===v(k._yclick,w)){k.visible?a==="onout"?S=l:S=o:S=n,S.push(b);break}f===h&&k.visible&&a==="onout"&&l.push(b)}return{on:n,off:l,explicitOff:o}}function v(r,e){return e.type==="log"?e.l2r(r):e.d2r(r)}},87192:function(X,B,t){var x=t(3400),E=t(76308);X.exports=function(i,M,m,d){d("opacity");var v=d("bgcolor"),r=d("bordercolor"),e=E.opacity(r);d("borderpad");var s=d("borderwidth"),n=d("showarrow");d("text",n?" ":m._dfltTitle.annotation),d("textangle"),x.coerceFont(d,"font",m.font),d("width"),d("align");var l=d("height");if(l&&d("valign"),n){var o=d("arrowside"),h,b;o.indexOf("end")!==-1&&(h=d("arrowhead"),b=d("arrowsize")),o.indexOf("start")!==-1&&(d("startarrowhead",h),d("startarrowsize",b)),d("arrowcolor",e?M.bordercolor:E.defaultLine),d("arrowwidth",(e&&s||1)*2),d("standoff"),d("startstandoff")}var f=d("hovertext"),k=m.hoverlabel||{};if(f){var a=d("hoverlabel.bgcolor",k.bgcolor||(E.opacity(v)?E.rgb(v):E.defaultLine)),c=d("hoverlabel.bordercolor",k.bordercolor||E.contrast(a));x.coerceFont(d,"hoverlabel.font",{family:k.font.family,size:k.font.size,color:k.font.color||c})}d("captureevents",!!f)}},26828:function(X,B,t){var x=t(38248),E=t(36896);X.exports=function(i,M,m,d){M=M||{};var v=m==="log"&&M.type==="linear",r=m==="linear"&&M.type==="log";if(!(v||r))return;var e=i._fullLayout.annotations,s=M._id.charAt(0),n,l;function o(b){var f=n[b],k=null;v?k=E(f,M.range):k=Math.pow(10,f),x(k)||(k=null),d(l+b,k)}for(var h=0;h<e.length;h++)n=e[h],l="annotations["+h+"].",n[s+"ref"]===M._id&&o(s),n["a"+s+"ref"]===M._id&&o("a"+s)}},45216:function(X,B,t){var x=t(3400),E=t(54460),i=t(51272),M=t(87192),m=t(13916);X.exports=function(v,r){i(v,r,{name:"annotations",handleItemDefaults:d})};function d(v,r,e){function s(u,g){return x.coerce(v,r,m,u,g)}var n=s("visible"),l=s("clicktoshow");if(n||l){M(v,r,e,s);for(var o=r.showarrow,h=["x","y"],b=[-10,-30],f={_fullLayout:e},k=0;k<2;k++){var a=h[k],c=E.coerceRef(v,r,f,a,"","paper");if(c!=="paper"){var p=E.getFromId(f,c);p._annIndices.push(r._index)}if(E.coercePosition(r,f,s,c,a,.5),o){var w="a"+a,S=E.coerceRef(v,r,f,w,"pixel",["pixel","paper"]);S!=="pixel"&&S!==c&&(S=r[w]="pixel");var _=S==="pixel"?b[k]:.4;E.coercePosition(r,f,s,S,w,_)}s(a+"anchor"),s(a+"shift")}if(x.noneOrAll(v,r,["x","y"]),o&&x.noneOrAll(v,r,["ax","ay"]),l){var T=s("xclick"),P=s("yclick");r._xclick=T===void 0?r.x:E.cleanPosition(T,f,r.xref),r._yclick=P===void 0?r.y:E.cleanPosition(P,f,r.yref)}}}},23816:function(X,B,t){var x=t(33428),E=t(24040),i=t(7316),M=t(3400),m=M.strTranslate,d=t(54460),v=t(76308),r=t(43616),e=t(93024),s=t(72736),n=t(93972),l=t(86476),o=t(31780).arrayEditor,h=t(33652);X.exports={draw:b,drawOne:f,drawRaw:a};function b(c){var p=c._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var w=0;w<p.annotations.length;w++)p.annotations[w].visible&&f(c,w);return i.previousPromises(c)}function f(c,p){var w=c._fullLayout,S=w.annotations[p]||{},_=d.getFromId(c,S.xref),T=d.getFromId(c,S.yref);_&&_.setScale(),T&&T.setScale(),a(c,S,p,!1,_,T)}function k(c,p,w,S,_){var T=_[w],P=_[w+"ref"],u=w.indexOf("y")!==-1,g=d.getRefType(P)==="domain",L=u?S.h:S.w;return c?g?T+(u?-p:p)/c._length:c.p2r(c.r2p(T)+p):T+(u?-p:p)/L}function a(c,p,w,S,_,T){var P=c._fullLayout,u=c._fullLayout._size,g=c._context.edits,L,A;S?(L="annotation-"+S,A=S+".annotations"):(L="annotation",A="annotations");var R=o(c.layout,A,p),O=R.modifyBase,N=R.modifyItem,z=R.getUpdateObj;P._infolayer.selectAll("."+L+'[data-index="'+w+'"]').remove();var F="clip"+P._uid+"_ann"+w;if(!p._input||p.visible===!1){x.selectAll("#"+F).remove();return}var I={x:{},y:{}},j=+p.textangle||0,V=P._infolayer.append("g").classed(L,!0).attr("data-index",String(w)).style("opacity",p.opacity),W=V.append("g").classed("annotation-text-g",!0),K=g[p.showarrow?"annotationTail":"annotationPosition"],et=p.captureevents||g.annotationText||K;function lt(gt){var wt={index:w,annotation:p._input,fullAnnotation:p,event:gt};return S&&(wt.subplotId=S),wt}var ot=W.append("g").style("pointer-events",et?"all":null).call(n,"pointer").on("click",function(){c._dragging=!1,c.emit("plotly_clickannotation",lt(x.event))});p.hovertext&&ot.on("mouseover",function(){var gt=p.hoverlabel,wt=gt.font,kt=this.getBoundingClientRect(),Ot=c.getBoundingClientRect();e.loneHover({x0:kt.left-Ot.left,x1:kt.right-Ot.left,y:(kt.top+kt.bottom)/2-Ot.top,text:p.hovertext,color:gt.bgcolor,borderColor:gt.bordercolor,fontFamily:wt.family,fontSize:wt.size,fontColor:wt.color},{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:c})}).on("mouseout",function(){e.loneUnhover(P._hoverlayer.node())});var q=p.borderwidth,J=p.borderpad,it=q+J,Z=ot.append("rect").attr("class","bg").style("stroke-width",q+"px").call(v.stroke,p.bordercolor).call(v.fill,p.bgcolor),tt=p.width||p.height,st=P._topclips.selectAll("#"+F).data(tt?[0]:[]);st.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),st.exit().remove();var Q=p.font,G=P._meta?M.templateString(p.text,P._meta):p.text,ut=ot.append("text").classed("annotation-text",!0).text(G);function at(gt){return gt.call(r.font,Q).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),s.convertToTspans(gt,c,dt),gt}function dt(){var gt=ut.selectAll("a");if(gt.size()===1&&gt.text()===ut.text()){var wt=ot.insert("a",":first-child").attr({"xlink:xlink:href":gt.attr("xlink:href"),"xlink:xlink:show":gt.attr("xlink:show")}).style({cursor:"pointer"});wt.node().appendChild(Z.node())}var kt=ot.select(".annotation-text-math-group"),Ot=!kt.empty(),bt=r.bBox((Ot?kt:ut).node()),_t=bt.width,mt=bt.height,Pt=p.width||_t,Rt=p.height||mt,Ht=Math.round(Pt+2*it),Dt=Math.round(Rt+2*it);function Xt(_r,rr){return rr==="auto"&&(_r<.3333333333333333?rr="left":_r>.6666666666666666?rr="right":rr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[rr]}for(var se=!1,Yt=["x","y"],ue=0;ue<Yt.length;ue++){var ie=Yt[ue],fe=p[ie+"ref"]||ie,ce=p["a"+ie+"ref"],ye={x:_,y:T}[ie],de=(j+(ie==="x"?0:-90))*Math.PI/180,Te=Ht*Math.cos(de),Et=Dt*Math.sin(de),Vt=Math.abs(Te)+Math.abs(Et),te=p[ie+"anchor"],Jt=p[ie+"shift"]*(ie==="x"?1:-1),Ut=I[ie],It,pt,xt,Ct,At,Ft=d.getRefType(fe);if(ye&&Ft!=="domain"){var Wt=ye.r2fraction(p[ie]);(Wt<0||Wt>1)&&(ce===fe?(Wt=ye.r2fraction(p["a"+ie]),(Wt<0||Wt>1)&&(se=!0)):se=!0),It=ye._offset+ye.r2p(p[ie]),Ct=.5}else{var Qt=Ft==="domain";ie==="x"?(xt=p[ie],It=Qt?ye._offset+ye._length*xt:It=u.l+u.w*xt):(xt=1-p[ie],It=Qt?ye._offset+ye._length*xt:It=u.t+u.h*xt),Ct=p.showarrow?.5:xt}if(p.showarrow){Ut.head=It;var he=p["a"+ie];if(At=Te*Xt(.5,p.xanchor)-Et*Xt(.5,p.yanchor),ce===fe){var ve=d.getRefType(ce);ve==="domain"?(ie==="y"&&(he=1-he),Ut.tail=ye._offset+ye._length*he):ve==="paper"?ie==="y"?(he=1-he,Ut.tail=u.t+u.h*he):Ut.tail=u.l+u.w*he:Ut.tail=ye._offset+ye.r2p(he),pt=At}else Ut.tail=It+he,pt=At+he;Ut.text=Ut.tail+At;var Je=P[ie==="x"?"width":"height"];if(fe==="paper"&&(Ut.head=M.constrain(Ut.head,1,Je-1)),ce==="pixel"){var Ue=-Math.max(Ut.tail-3,Ut.text),ke=Math.min(Ut.tail+3,Ut.text)-Je;Ue>0?(Ut.tail+=Ue,Ut.text+=Ue):ke>0&&(Ut.tail-=ke,Ut.text-=ke)}Ut.tail+=Jt,Ut.head+=Jt}else At=Vt*Xt(Ct,te),pt=At,Ut.text=It+At;Ut.text+=Jt,At+=Jt,pt+=Jt,p["_"+ie+"padplus"]=Vt/2+pt,p["_"+ie+"padminus"]=Vt/2-pt,p["_"+ie+"size"]=Vt,p["_"+ie+"shift"]=At}if(se){ot.remove();return}var Le=0,Ge=0;if(p.align!=="left"&&(Le=(Pt-_t)*(p.align==="center"?.5:1)),p.valign!=="top"&&(Ge=(Rt-mt)*(p.valign==="middle"?.5:1)),Ot)kt.select("svg").attr({x:it+Le-1,y:it+Ge}).call(r.setClipUrl,tt?F:null,c);else{var mr=it+Ge-bt.top,xe=it+Le-bt.left;ut.call(s.positionText,xe,mr).call(r.setClipUrl,tt?F:null,c)}st.select("rect").call(r.setRect,it,it,Pt,Rt),Z.call(r.setRect,q/2,q/2,Ht-q,Dt-q),ot.call(r.setTranslate,Math.round(I.x.text-Ht/2),Math.round(I.y.text-Dt/2)),W.attr({transform:"rotate("+j+","+I.x.text+","+I.y.text+")"});var Xe=function(_r,rr){V.selectAll(".annotation-arrow-g").remove();var re=I.x.head,le=I.y.head,me=I.x.tail+_r,Ee=I.y.tail+rr,ze=I.x.text+_r,Oe=I.y.text+rr,Fe=M.rotationXYMatrix(j,ze,Oe),Re=M.apply2DTransform(Fe),Ke=M.apply2DTransform2(Fe),or=+Z.attr("width"),pr=+Z.attr("height"),hr=ze-.5*or,jt=hr+or,Gt=Oe-.5*pr,Ce=Gt+pr,Ie=[[hr,Gt,hr,Ce],[hr,Ce,jt,Ce],[jt,Ce,jt,Gt],[jt,Gt,hr,Gt]].map(Ke);if(!Ie.reduce(function(Ir,sn){return Ir^!!M.segmentsIntersect(re,le,re+1e6,le+1e6,sn[0],sn[1],sn[2],sn[3])},!1)){Ie.forEach(function(Ir){var sn=M.segmentsIntersect(me,Ee,re,le,Ir[0],Ir[1],Ir[2],Ir[3]);sn&&(me=sn.x,Ee=sn.y)});var We=p.arrowwidth,$e=p.arrowcolor,ir=p.arrowside,er=V.append("g").style({opacity:v.opacity($e)}).classed("annotation-arrow-g",!0),De=er.append("path").attr("d","M"+me+","+Ee+"L"+re+","+le).style("stroke-width",We+"px").call(v.stroke,v.rgb($e));if(h(De,ir,p),g.annotationPosition&&De.node().parentNode&&!S){var lr=re,vr=le;if(p.standoff){var dr=Math.sqrt(Math.pow(re-me,2)+Math.pow(le-Ee,2));lr+=p.standoff*(me-re)/dr,vr+=p.standoff*(Ee-le)/dr}var fr=er.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(me-lr)+","+(Ee-vr),transform:m(lr,vr)}).style("stroke-width",We+6+"px").call(v.stroke,"rgba(0,0,0,0)").call(v.fill,"rgba(0,0,0,0)"),zr,Or;l.init({element:fr.node(),gd:c,prepFn:function(){var Ir=r.getTranslate(ot);zr=Ir.x,Or=Ir.y,_&&_.autorange&&O(_._name+".autorange",!0),T&&T.autorange&&O(T._name+".autorange",!0)},moveFn:function(Ir,sn){var nn=Re(zr,Or),kn=nn[0]+Ir,Mn=nn[1]+sn;ot.call(r.setTranslate,kn,Mn),N("x",k(_,Ir,"x",u,p)),N("y",k(T,sn,"y",u,p)),p.axref===p.xref&&N("ax",k(_,Ir,"ax",u,p)),p.ayref===p.yref&&N("ay",k(T,sn,"ay",u,p)),er.attr("transform",m(Ir,sn)),W.attr({transform:"rotate("+j+","+kn+","+Mn+")"})},doneFn:function(){E.call("_guiRelayout",c,z());var Ir=document.querySelector(".js-notes-box-panel");Ir&&Ir.redraw(Ir.selectedObj)}})}}};if(p.showarrow&&Xe(0,0),K){var Ye;l.init({element:ot.node(),gd:c,prepFn:function(){Ye=W.attr("transform")},moveFn:function(_r,rr){var re="pointer";if(p.showarrow)p.axref===p.xref?N("ax",k(_,_r,"ax",u,p)):N("ax",p.ax+_r),p.ayref===p.yref?N("ay",k(T,rr,"ay",u.w,p)):N("ay",p.ay+rr),Xe(_r,rr);else{if(S)return;var le,me;if(_)le=k(_,_r,"x",u,p);else{var Ee=p._xsize/u.w,ze=p.x+(p._xshift-p.xshift)/u.w-Ee/2;le=l.align(ze+_r/u.w,Ee,0,1,p.xanchor)}if(T)me=k(T,rr,"y",u,p);else{var Oe=p._ysize/u.h,Fe=p.y-(p._yshift+p.yshift)/u.h-Oe/2;me=l.align(Fe-rr/u.h,Oe,0,1,p.yanchor)}N("x",le),N("y",me),(!_||!T)&&(re=l.getCursor(_?.5:le,T?.5:me,p.xanchor,p.yanchor))}W.attr({transform:m(_r,rr)+Ye}),n(ot,re)},clickFn:function(_r,rr){p.captureevents&&c.emit("plotly_clickannotation",lt(rr))},doneFn:function(){n(ot),E.call("_guiRelayout",c,z());var _r=document.querySelector(".js-notes-box-panel");_r&&_r.redraw(_r.selectedObj)}})}}g.annotationText?ut.call(s.makeEditable,{delegate:ot,gd:c}).call(at).on("edit",function(gt){p.text=gt,this.call(at),N("text",gt),_&&_.autorange&&O(_._name+".autorange",!0),T&&T.autorange&&O(T._name+".autorange",!0),E.call("_guiRelayout",c,z())}):ut.call(at)}},33652:function(X,B,t){var x=t(33428),E=t(76308),i=t(72196),M=t(3400),m=M.strScale,d=M.strRotate,v=M.strTranslate;X.exports=function(r,e,s){var n=r.node(),l=i[s.arrowhead||0],o=i[s.startarrowhead||0],h=(s.arrowwidth||1)*(s.arrowsize||1),b=(s.arrowwidth||1)*(s.startarrowsize||1),f=e.indexOf("start")>=0,k=e.indexOf("end")>=0,a=l.backoff*h+s.standoff,c=o.backoff*b+s.startstandoff,p,w,S,_;if(n.nodeName==="line"){p={x:+r.attr("x1"),y:+r.attr("y1")},w={x:+r.attr("x2"),y:+r.attr("y2")};var T=p.x-w.x,P=p.y-w.y;if(S=Math.atan2(P,T),_=S+Math.PI,a&&c&&a+c>Math.sqrt(T*T+P*P)){V();return}if(a){if(a*a>T*T+P*P){V();return}var u=a*Math.cos(S),g=a*Math.sin(S);w.x+=u,w.y+=g,r.attr({x2:w.x,y2:w.y})}if(c){if(c*c>T*T+P*P){V();return}var L=c*Math.cos(S),A=c*Math.sin(S);p.x-=L,p.y-=A,r.attr({x1:p.x,y1:p.y})}}else if(n.nodeName==="path"){var R=n.getTotalLength(),O="";if(R<a+c){V();return}var N=n.getPointAtLength(0),z=n.getPointAtLength(.1);S=Math.atan2(N.y-z.y,N.x-z.x),p=n.getPointAtLength(Math.min(c,R)),O="0px,"+c+"px,";var F=n.getPointAtLength(R),I=n.getPointAtLength(R-.1);_=Math.atan2(F.y-I.y,F.x-I.x),w=n.getPointAtLength(Math.max(0,R-a));var j=O?c+a:a;O+=R-j+"px,"+R+"px",r.style("stroke-dasharray",O)}function V(){r.style("stroke-dasharray","0px,100px")}function W(K,et,lt,ot){K.path&&(K.noRotate&&(lt=0),x.select(n.parentNode).append("path").attr({class:r.attr("class"),d:K.path,transform:v(et.x,et.y)+d(lt*180/Math.PI)+m(ot)}).style({fill:E.rgb(s.arrowcolor),"stroke-width":0}))}f&&W(o,p,S,b),k&&W(l,w,_,h)}},79180:function(X,B,t){var x=t(23816),E=t(42300);X.exports={moduleType:"component",name:"annotations",layoutAttributes:t(13916),supplyLayoutDefaults:t(45216),includeBasePlot:t(36632)("annotations"),calcAutorange:t(90272),draw:x.draw,drawOne:x.drawOne,drawRaw:x.drawRaw,hasClickToShow:E.hasClickToShow,onClick:E.onClick,convertCoords:t(26828)}},45899:function(X,B,t){var x=t(13916),E=t(67824).overrideAll,i=t(31780).templatedArray;X.exports=E(i("annotation",{visible:x.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:x.xanchor,xshift:x.xshift,yanchor:x.yanchor,yshift:x.yshift,text:x.text,textangle:x.textangle,font:x.font,width:x.width,height:x.height,opacity:x.opacity,align:x.align,valign:x.valign,bgcolor:x.bgcolor,bordercolor:x.bordercolor,borderpad:x.borderpad,borderwidth:x.borderwidth,showarrow:x.showarrow,arrowcolor:x.arrowcolor,arrowhead:x.arrowhead,startarrowhead:x.startarrowhead,arrowside:x.arrowside,arrowsize:x.arrowsize,startarrowsize:x.startarrowsize,arrowwidth:x.arrowwidth,standoff:x.standoff,startstandoff:x.startstandoff,hovertext:x.hovertext,hoverlabel:x.hoverlabel,captureevents:x.captureevents}),"calc","from-root")},42456:function(X,B,t){var x=t(3400),E=t(54460);X.exports=function(M){for(var m=M.fullSceneLayout,d=m.annotations,v=0;v<d.length;v++)i(d[v],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()};function i(M,m){var d=m.fullSceneLayout,v=d.domain,r=m.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};M._xa={},x.extendFlat(M._xa,e),E.setConvert(M._xa),M._xa._offset=r.l+v.x[0]*r.w,M._xa.l2p=function(){return .5*(1+M._pdata[0]/M._pdata[3])*r.w*(v.x[1]-v.x[0])},M._ya={},x.extendFlat(M._ya,e),E.setConvert(M._ya),M._ya._offset=r.t+(1-v.y[1])*r.h,M._ya.l2p=function(){return .5*(1-M._pdata[1]/M._pdata[3])*r.h*(v.y[1]-v.y[0])}}},52808:function(X,B,t){var x=t(3400),E=t(54460),i=t(51272),M=t(87192),m=t(45899);X.exports=function(v,r,e){i(v,r,{name:"annotations",handleItemDefaults:d,fullLayout:e.fullLayout})};function d(v,r,e,s){function n(h,b){return x.coerce(v,r,m,h,b)}function l(h){var b=h+"axis",f={_fullLayout:{}};return f._fullLayout[b]=e[b],E.coercePosition(r,f,n,h,h,.5)}var o=n("visible");o&&(M(v,r,s.fullLayout,n),l("x"),l("y"),l("z"),x.noneOrAll(v,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),x.noneOrAll(v,r,["ax","ay"])))}},71836:function(X,B,t){var x=t(23816).drawRaw,E=t(94424),i=["x","y","z"];X.exports=function(M){for(var m=M.fullSceneLayout,d=M.dataScale,v=m.annotations,r=0;r<v.length;r++){for(var e=v[r],s=!1,n=0;n<3;n++){var l=i[n],o=e[l],h=m[l+"axis"],b=h.r2fraction(o);if(b<0||b>1){s=!0;break}}s?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+r+'"]').remove():(e._pdata=E(M.glplot.cameraParams,[m.xaxis.r2l(e.x)*d[0],m.yaxis.r2l(e.y)*d[1],m.zaxis.r2l(e.z)*d[2]]),x(M.graphDiv,e,r,M.id,e._xa,e._ya))}}},56864:function(X,B,t){var x=t(24040),E=t(3400);X.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(45899)}}},layoutAttributes:t(45899),handleDefaults:t(52808),includeBasePlot:i,convert:t(42456),draw:t(71836)};function i(M,m){var d=x.subplotsRegistry.gl3d;if(d)for(var v=d.attrRegex,r=Object.keys(M),e=0;e<r.length;e++){var s=r[e];v.test(s)&&(M[s].annotations||[]).length&&(E.pushUnique(m._basePlotModules,d),E.pushUnique(m._subplots.gl3d,s))}}},54976:function(X,B,t){X.exports=t(38700),t(15168),t(67020),t(89792),t(55668),t(65168),t(2084),t(26368),t(24747),t(65616),t(30632),t(73040),t(1104),t(51456),t(4592),t(45348)},97776:function(X,B,t){var x=t(54976),E=t(3400),i=t(39032),M=i.EPOCHJD,m=i.ONEDAY,d={valType:"enumerated",values:E.sortObjectKeys(x.calendars),editType:"calc",dflt:"gregorian"},v=function(_,T,P,u){var g={};return g[P]=d,E.coerce(_,T,g,P,u)},r=function(_,T,P,u){for(var g=0;g<P.length;g++)v(_,T,P[g]+"calendar",u.calendar)},e={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},l="##",o={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function h(_,T,P){for(var u=Math.floor((T+.05)/m)+M,g=f(P).fromJD(u),L=0,A,R,O,N,z;(L=_.indexOf("%",L))!==-1;)A=_.charAt(L+1),A==="0"||A==="-"||A==="_"?(O=3,R=_.charAt(L+2),A==="_"&&(A="-")):(R=A,A="0",O=2),N=o[R],N?(N===l?z=l:z=g.formatDate(N[A]),_=_.substr(0,L)+z+_.substr(L+O),L+=z.length):L+=O;return _}var b={};function f(_){var T=b[_];return T||(T=b[_]=x.instance(_),T)}function k(_){return E.extendFlat({},d,{description:_})}function a(_){return"Sets the calendar system to use with `"+_+"` date data."}var c={xcalendar:k(a("x"))},p=E.extendFlat({},c,{ycalendar:k(a("y"))}),w=E.extendFlat({},p,{zcalendar:k(a("z"))}),S=k(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));X.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:w,surface:w,mesh3d:w,scattergl:p,ohlc:c,candlestick:c},layout:{calendar:k(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:S},yaxis:{calendar:S},scene:{xaxis:{calendar:S},yaxis:{calendar:S},zaxis:{calendar:S}},polar:{radialaxis:{calendar:S}}},transforms:{filter:{valuecalendar:k(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:k(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:v,handleTraceDefaults:r,CANONICAL_SUNDAY:s,CANONICAL_TICK:e,DFLTRANGE:n,getCal:f,worldCalFmt:h}},22548:function(X,B){B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},76308:function(X,B,t){var x=t(49760),E=t(38248),i=t(38116).isTypedArray,M=X.exports={},m=t(22548);M.defaults=m.defaults;var d=M.defaultLine=m.defaultLine;M.lightLine=m.lightLine;var v=M.background=m.background;M.tinyRGB=function(e){var s=e.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},M.rgb=function(e){return M.tinyRGB(x(e))},M.opacity=function(e){return e?x(e).getAlpha():0},M.addOpacity=function(e,s){var n=x(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+s+")"},M.combine=function(e,s){var n=x(e).toRgb();if(n.a===1)return x(e).toRgbString();var l=x(s||v).toRgb(),o=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},h={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return x(h).toRgbString()},M.interpolate=function(e,s,n){var l=x(e).toRgb(),o=x(s).toRgb(),h={r:n*l.r+(1-n)*o.r,g:n*l.g+(1-n)*o.g,b:n*l.b+(1-n)*o.b};return x(h).toRgbString()},M.contrast=function(e,s,n){var l=x(e);l.getAlpha()!==1&&(l=x(M.combine(e,v)));var o=l.isDark()?s?l.lighten(s):v:n?l.darken(n):d;return o.toString()},M.stroke=function(e,s){var n=x(s);e.style({stroke:M.tinyRGB(n),"stroke-opacity":n.getAlpha()})},M.fill=function(e,s){var n=x(s);e.style({fill:M.tinyRGB(n),"fill-opacity":n.getAlpha()})},M.clean=function(e){if(!(!e||typeof e!="object")){var s=Object.keys(e),n,l,o,h;for(n=0;n<s.length;n++)if(o=s[n],h=e[o],o.substr(o.length-5)==="color")if(Array.isArray(h))for(l=0;l<h.length;l++)h[l]=r(h[l]);else e[o]=r(h);else if(o.substr(o.length-10)==="colorscale"&&Array.isArray(h))for(l=0;l<h.length;l++)Array.isArray(h[l])&&(h[l][1]=r(h[l][1]));else if(Array.isArray(h)){var b=h[0];if(!Array.isArray(b)&&b&&typeof b=="object")for(l=0;l<h.length;l++)M.clean(h[l])}else h&&typeof h=="object"&&!i(h)&&M.clean(h)}};function r(e){if(E(e)||typeof e!="string")return e;var s=e.trim();if(s.substr(0,3)!=="rgb")return e;var n=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var l=n[1].trim().split(/\s*[\s,]\s*/),o=s.charAt(3)==="a"&&l.length===4;if(!o&&l.length!==3)return e;for(var h=0;h<l.length;h++){if(!l[h].length||(l[h]=Number(l[h]),!(l[h]>=0)))return e;if(h===3)l[h]>1&&(l[h]=1);else if(l[h]>=1)return e}var b=Math.round(l[0]*255)+", "+Math.round(l[1]*255)+", "+Math.round(l[2]*255);return o?"rgba("+b+", "+l[3]+")":"rgb("+b+")"}},42996:function(X,B,t){var x=t(94724),E=t(25376),i=t(92880).extendFlat,M=t(67824).overrideAll;X.exports=M({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:x.linecolor,outlinewidth:x.linewidth,bordercolor:x.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:x.minor.tickmode,nticks:x.nticks,tick0:x.tick0,dtick:x.dtick,tickvals:x.tickvals,ticktext:x.ticktext,ticks:i({},x.ticks,{dflt:""}),ticklabeloverflow:i({},x.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:x.ticklen,tickwidth:x.tickwidth,tickcolor:x.tickcolor,ticklabelstep:x.ticklabelstep,showticklabels:x.showticklabels,labelalias:x.labelalias,tickfont:E({}),tickangle:x.tickangle,tickformat:x.tickformat,tickformatstops:x.tickformatstops,tickprefix:x.tickprefix,showtickprefix:x.showtickprefix,ticksuffix:x.ticksuffix,showticksuffix:x.showticksuffix,separatethousands:x.separatethousands,exponentformat:x.exponentformat,minexponent:x.minexponent,showexponent:x.showexponent,title:{text:{valType:"string"},font:E({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:E({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(X){X.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(X,B,t){var x=t(3400),E=t(31780),i=t(26332),M=t(25404),m=t(95936),d=t(42568),v=t(42996);X.exports=function(r,e,s){var n=E.newContainer(e,"colorbar"),l=r.colorbar||{};function o(F,I){return x.coerce(l,n,v,F,I)}var h=s.margin||{t:0,b:0,l:0,r:0},b=s.width-h.l-h.r,f=s.height-h.t-h.b,k=o("orientation"),a=k==="v",c=o("thicknessmode");o("thickness",c==="fraction"?30/(a?b:f):30);var p=o("lenmode");o("len",p==="fraction"?1:a?f:b);var w=o("yref"),S=o("xref"),_=w==="paper",T=S==="paper",P,u,g,L="left";a?(g="middle",L=T?"left":"right",P=T?1.02:1,u=.5):(g=_?"bottom":"top",L="center",P=.5,u=_?1.02:1),x.coerce(l,n,{x:{valType:"number",min:T?-2:0,max:T?3:1,dflt:P}},"x"),x.coerce(l,n,{y:{valType:"number",min:_?-2:0,max:_?3:1,dflt:u}},"y"),o("xanchor",L),o("xpad"),o("yanchor",g),o("ypad"),x.noneOrAll(l,n,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var A=x.coerce(l,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:a?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",A.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(l,n,o,"linear");var R=s.font,O={noAutotickangles:!0,outerTicks:!1,font:R};A.indexOf("inside")!==-1&&(O.bgColor="black"),d(l,n,o,"linear",O),m(l,n,o,"linear",O),M(l,n,o,"linear",O),o("title.text",s._dfltTitle.colorbar);var N=n.showticklabels?n.tickfont:R,z=x.extendFlat({},N,{color:R.color,size:x.bigFont(N.size)});x.coerceFont(o,"title.font",z),o("title.side",a?"top":"right")}},37848:function(X,B,t){var x=t(33428),E=t(49760),i=t(7316),M=t(24040),m=t(54460),d=t(86476),v=t(3400),r=v.strTranslate,e=t(92880).extendFlat,s=t(93972),n=t(43616),l=t(76308),o=t(81668),h=t(72736),b=t(94288).flipScale,f=t(28336),k=t(37668),a=t(94724),c=t(84284),p=c.LINE_SPACING,w=c.FROM_TL,S=c.FROM_BR,_=t(63964).cn;function T(R){var O=R._fullLayout,N=O._infolayer.selectAll("g."+_.colorbar).data(P(R),function(z){return z._id});N.enter().append("g").attr("class",function(z){return z._id}).classed(_.colorbar,!0),N.each(function(z){var F=x.select(this);v.ensureSingle(F,"rect",_.cbbg),v.ensureSingle(F,"g",_.cbfills),v.ensureSingle(F,"g",_.cblines),v.ensureSingle(F,"g",_.cbaxis,function(j){j.classed(_.crisp,!0)}),v.ensureSingle(F,"g",_.cbtitleunshift,function(j){j.append("g").classed(_.cbtitle,!0)}),v.ensureSingle(F,"rect",_.cboutline);var I=u(F,z,R);I&&I.then&&(R._promises||[]).push(I),R._context.edits.colorbarPosition&&g(F,z,R)}),N.exit().each(function(z){i.autoMargin(R,z._id)}).remove(),N.order()}function P(R){var O=R._fullLayout,N=R.calcdata,z=[],F,I,j,V;function W(Q){return e(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function K(){typeof V.calc=="function"?V.calc(R,j,F):(F._fillgradient=I.reversescale?b(I.colorscale):I.colorscale,F._zrange=[I[V.min],I[V.max]])}for(var et=0;et<N.length;et++){var lt=N[et];if(j=lt[0].trace,!!j._module){var ot=j._module.colorbar;if(j.visible===!0&&ot)for(var q=Array.isArray(ot),J=q?ot:[ot],it=0;it<J.length;it++){V=J[it];var Z=V.container;I=Z?j[Z]:j,I&&I.showscale&&(F=W(I.colorbar),F._id="cb"+j.uid+(q&&Z?"-"+Z:""),F._traceIndex=j.index,F._propPrefix=(Z?Z+".":"")+"colorbar.",F._meta=j._meta,K(),z.push(F))}}}for(var tt in O._colorAxes)if(I=O[tt],I.showscale){var st=O._colorAxes[tt];F=W(I.colorbar),F._id="cb"+tt,F._propPrefix=tt+".colorbar.",F._meta=O._meta,V={min:"cmin",max:"cmax"},st[0]!=="heatmap"&&(j=st[1],V.calc=j._module.colorbar.calc),K(),z.push(F)}return z}function u(R,O,N){var z=O.orientation==="v",F=O.len,I=O.lenmode,j=O.thickness,V=O.thicknessmode,W=O.outlinewidth,K=O.borderwidth,et=O.bgcolor,lt=O.xanchor,ot=O.yanchor,q=O.xpad,J=O.ypad,it=O.x,Z=z?O.y:1-O.y,tt=O.yref==="paper",st=O.xref==="paper",Q=N._fullLayout,G=Q._size,ut=O._fillcolor,at=O._line,dt=O.title,gt=dt.side,wt=O._zrange||x.extent((typeof ut=="function"?ut:at.color).domain()),kt=typeof at.color=="function"?at.color:function(){return at.color},Ot=typeof ut=="function"?ut:function(){return ut},bt=O._levels,_t=L(N,O,wt),mt=_t.fill,Pt=_t.line,Rt=Math.round(j*(V==="fraction"?z?G.w:G.h:1)),Ht=Rt/(z?G.w:G.h),Dt=Math.round(F*(I==="fraction"?z?G.h:G.w:1)),Xt=Dt/(z?G.h:G.w),se=st?G.w:N._fullLayout.width,Yt=tt?G.h:N._fullLayout.height,ue=Math.round(z?it*se+q:Z*Yt+J),ie={center:.5,right:1}[lt]||0,fe={top:1,middle:.5}[ot]||0,ce=z?it-ie*Ht:Z-fe*Ht,ye=z?Z-fe*Xt:it-ie*Xt,de=Math.round(z?Yt*(1-ye):se*ye);O._lenFrac=Xt,O._thickFrac=Ht,O._uFrac=ce,O._vFrac=ye;var Te=O._axis=A(N,O,wt);Te.position=Ht+(z?it+q/G.w:Z+J/G.h);var Et=["top","bottom"].indexOf(gt)!==-1;if(z&&Et&&(Te.title.side=gt,Te.titlex=it+q/G.w,Te.titley=ye+(dt.side==="top"?Xt-J/G.h:J/G.h)),!z&&!Et&&(Te.title.side=gt,Te.titley=Z+J/G.h,Te.titlex=ye+q/G.w),at.color&&O.tickmode==="auto"){Te.tickmode="linear",Te.tick0=bt.start;var Vt=bt.size,te=v.constrain(Dt/50,4,15)+1,Jt=(wt[1]-wt[0])/((O.nticks||te)*Vt);if(Jt>1){var Ut=Math.pow(10,Math.floor(Math.log(Jt)/Math.LN10));Vt*=Ut*v.roundUp(Jt/Ut,[2,5,10]),(Math.abs(bt.start)/bt.size+1e-6)%1<2e-6&&(Te.tick0=0)}Te.dtick=Vt}Te.domain=z?[ye+J/G.h,ye+Xt-J/G.h]:[ye+q/G.w,ye+Xt-q/G.w],Te.setScale(),R.attr("transform",r(Math.round(G.l),Math.round(G.t)));var It=R.select("."+_.cbtitleunshift).attr("transform",r(-Math.round(G.l),-Math.round(G.t))),pt=Te.ticklabelposition,xt=Te.title.font.size,Ct=R.select("."+_.cbaxis),At,Ft=0,Wt=0;function Qt(ke,Le){var Ge={propContainer:Te,propName:O._propPrefix+"title",traceIndex:O._traceIndex,_meta:O._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:R.select("."+_.cbtitle)},mr=ke.charAt(0)==="h"?ke.substr(1):"h"+ke;R.selectAll("."+mr+",."+mr+"-math-group").remove(),o.draw(N,ke,e(Ge,Le||{}))}function he(){if(z&&Et||!z&&!Et){var ke,Le;gt==="top"&&(ke=q+G.l+se*it,Le=J+G.t+Yt*(1-ye-Xt)+3+xt*.75),gt==="bottom"&&(ke=q+G.l+se*it,Le=J+G.t+Yt*(1-ye)-3-xt*.25),gt==="right"&&(Le=J+G.t+Yt*Z+3+xt*.75,ke=q+G.l+se*ye),Qt(Te._id+"title",{attributes:{x:ke,y:Le,"text-anchor":z?"start":"middle"}})}}function ve(){if(z&&!Et||!z&&Et){var ke=Te.position||0,Le=Te._offset+Te._length/2,Ge,mr;if(gt==="right")mr=Le,Ge=G.l+se*ke+10+xt*(Te.showticklabels?1:.5);else if(Ge=Le,gt==="bottom"&&(mr=G.t+Yt*ke+10+(pt.indexOf("inside")===-1?Te.tickfont.size:0)+(Te.ticks!=="intside"&&O.ticklen||0)),gt==="top"){var xe=dt.text.split("<br>").length;mr=G.t+Yt*ke+10-Rt-p*xt*xe}Qt((z?"h":"v")+Te._id+"title",{avoid:{selection:x.select(N).selectAll("g."+Te._id+"tick"),side:gt,offsetTop:z?0:G.t,offsetLeft:z?G.l:0,maxShift:z?Q.width:Q.height},attributes:{x:Ge,y:mr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Je(){if(!z&&!Et||z&&Et){var ke=R.select("."+_.cbtitle),Le=ke.select("text"),Ge=[-W/2,W/2],mr=ke.select(".h"+Te._id+"title-math-group").node(),xe=15.6;Le.node()&&(xe=parseInt(Le.node().style.fontSize,10)*p);var Xe;if(mr?(Xe=n.bBox(mr),Wt=Xe.width,Ft=Xe.height,Ft>xe&&(Ge[1]-=(Ft-xe)/2)):Le.node()&&!Le.classed(_.jsPlaceholder)&&(Xe=n.bBox(Le.node()),Wt=Xe.width,Ft=Xe.height),z){if(Ft){if(Ft+=5,gt==="top")Te.domain[1]-=Ft/G.h,Ge[1]*=-1;else{Te.domain[0]+=Ft/G.h;var Ye=h.lineCount(Le);Ge[1]+=(1-Ye)*xe}ke.attr("transform",r(Ge[0],Ge[1])),Te.setScale()}}else Wt&&(gt==="right"&&(Te.domain[0]+=(Wt+xt/2)/G.w),ke.attr("transform",r(Ge[0],Ge[1])),Te.setScale())}R.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",z?r(0,Math.round(G.h*(1-Te.domain[1]))):r(Math.round(G.w*Te.domain[0]),0)),Ct.attr("transform",z?r(0,Math.round(-G.t)):r(Math.round(-G.l),0));var _r=R.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(mt);_r.enter().append("rect").classed(_.cbfill,!0).attr("style",""),_r.exit().remove();var rr=wt.map(Te.c2p).map(Math.round).sort(function(ze,Oe){return ze-Oe});_r.each(function(ze,Oe){var Fe=[Oe===0?wt[0]:(mt[Oe]+mt[Oe-1])/2,Oe===mt.length-1?wt[1]:(mt[Oe]+mt[Oe+1])/2].map(Te.c2p).map(Math.round);z&&(Fe[1]=v.constrain(Fe[1]+(Fe[1]>Fe[0])?1:-1,rr[0],rr[1]));var Re=x.select(this).attr(z?"x":"y",ue).attr(z?"y":"x",x.min(Fe)).attr(z?"width":"height",Math.max(Rt,2)).attr(z?"height":"width",Math.max(x.max(Fe)-x.min(Fe),2));if(O._fillgradient)n.gradient(Re,N,O._id,z?"vertical":"horizontalreversed",O._fillgradient,"fill");else{var Ke=Ot(ze).replace("e-","");Re.attr("fill",E(Ke).toHexString())}});var re=R.select("."+_.cblines).selectAll("path."+_.cbline).data(at.color&&at.width?Pt:[]);re.enter().append("path").classed(_.cbline,!0),re.exit().remove(),re.each(function(ze){var Oe=ue,Fe=Math.round(Te.c2p(ze))+at.width/2%1;x.select(this).attr("d","M"+(z?Oe+","+Fe:Fe+","+Oe)+(z?"h":"v")+Rt).call(n.lineGroupStyle,at.width,kt(ze),at.dash)}),Ct.selectAll("g."+Te._id+"tick,path").remove();var le=ue+Rt+(W||0)/2-(O.ticks==="outside"?1:0),me=m.calcTicks(Te),Ee=m.getTickSigns(Te)[2];return m.drawTicks(N,Te,{vals:Te.ticks==="inside"?m.clipEnds(Te,me):me,layer:Ct,path:m.makeTickPath(Te,le,Ee),transFn:m.makeTransTickFn(Te)}),m.drawLabels(N,Te,{vals:me,layer:Ct,transFn:m.makeTransTickLabelFn(Te),labelFns:m.makeLabelFns(Te,le)})}function Ue(){var ke,Le=Rt+W/2;pt.indexOf("inside")===-1&&(ke=n.bBox(Ct.node()),Le+=z?ke.width:ke.height),At=It.select("text");var Ge=0,mr=z&&gt==="top",xe=!z&&gt==="right",Xe=0;if(At.node()&&!At.classed(_.jsPlaceholder)){var Ye,_r=It.select(".h"+Te._id+"title-math-group").node();_r&&(z&&Et||!z&&!Et)?(ke=n.bBox(_r),Ge=ke.width,Ye=ke.height):(ke=n.bBox(It.node()),Ge=ke.right-G.l-(z?ue:de),Ye=ke.bottom-G.t-(z?de:ue),!z&&gt==="top"&&(Le+=ke.height,Xe=ke.height)),xe&&(At.attr("transform",r(Ge/2+xt/2,0)),Ge*=2),Le=Math.max(Le,z?Ge:Ye)}var rr=(z?q:J)*2+Le+K+W/2,re=0;!z&&dt.text&&ot==="bottom"&&Z<=0&&(re=rr/2,rr+=re,Xe+=re),Q._hColorbarMoveTitle=re,Q._hColorbarMoveCBTitle=Xe;var le=K+W,me=(z?ue:de)-le/2-(z?q:0),Ee=(z?de:ue)-(z?Dt:J+Xe-re);R.select("."+_.cbbg).attr("x",me).attr("y",Ee).attr(z?"width":"height",Math.max(rr-re,2)).attr(z?"height":"width",Math.max(Dt+le,2)).call(l.fill,et).call(l.stroke,O.bordercolor).style("stroke-width",K);var ze=xe?Math.max(Ge-10,0):0;R.selectAll("."+_.cboutline).attr("x",(z?ue:de+q)+ze).attr("y",(z?de+J-Dt:ue)+(mr?Ft:0)).attr(z?"width":"height",Math.max(Rt,2)).attr(z?"height":"width",Math.max(Dt-(z?2*J+Ft:2*q+ze),2)).call(l.stroke,O.outlinecolor).style({fill:"none","stroke-width":W});var Oe=z?ie*rr:0,Fe=z?0:(1-fe)*rr-Xe;if(Oe=st?G.l-Oe:-Oe,Fe=tt?G.t-Fe:-Fe,R.attr("transform",r(Oe,Fe)),!z&&(K||E(et).getAlpha()&&!E.equals(Q.paper_bgcolor,et))){var Re=Ct.selectAll("text"),Ke=Re[0].length,or=R.select("."+_.cbbg).node(),pr=n.bBox(or),hr=n.getTranslate(R),jt=2;Re.each(function(vr,dr){var fr=0,zr=Ke-1;if(dr===fr||dr===zr){var Or=n.bBox(this),Ir=n.getTranslate(this),sn;if(dr===zr){var nn=Or.right+Ir.x,kn=pr.right+hr.x+de-K-jt+it;sn=kn-nn,sn>0&&(sn=0)}else if(dr===fr){var Mn=Or.left+Ir.x,kr=pr.left+hr.x+de+K+jt;sn=kr-Mn,sn<0&&(sn=0)}sn&&(Ke<3?this.setAttribute("transform","translate("+sn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Gt={},Ce=w[lt],Ie=S[lt],We=w[ot],$e=S[ot],ir=rr-Rt;z?(I==="pixels"?(Gt.y=Z,Gt.t=Dt*We,Gt.b=Dt*$e):(Gt.t=Gt.b=0,Gt.yt=Z+F*We,Gt.yb=Z-F*$e),V==="pixels"?(Gt.x=it,Gt.l=rr*Ce,Gt.r=rr*Ie):(Gt.l=ir*Ce,Gt.r=ir*Ie,Gt.xl=it-j*Ce,Gt.xr=it+j*Ie)):(I==="pixels"?(Gt.x=it,Gt.l=Dt*Ce,Gt.r=Dt*Ie):(Gt.l=Gt.r=0,Gt.xl=it+F*Ce,Gt.xr=it-F*Ie),V==="pixels"?(Gt.y=1-Z,Gt.t=rr*We,Gt.b=rr*$e):(Gt.t=ir*We,Gt.b=ir*$e,Gt.yt=Z-j*We,Gt.yb=Z+j*$e));var er=O.y<.5?"b":"t",De=O.x<.5?"l":"r";N._fullLayout._reservedMargin[O._id]={};var lr={r:Q.width-me-Oe,l:me+Gt.r,b:Q.height-Ee-Fe,t:Ee+Gt.b};st&&tt?i.autoMargin(N,O._id,Gt):st?N._fullLayout._reservedMargin[O._id][er]=lr[er]:tt||z?N._fullLayout._reservedMargin[O._id][De]=lr[De]:N._fullLayout._reservedMargin[O._id][er]=lr[er]}return v.syncOrAsync([i.previousPromises,he,Je,ve,i.previousPromises,Ue],N)}function g(R,O,N){var z=O.orientation==="v",F=N._fullLayout,I=F._size,j,V,W;d.init({element:R.node(),gd:N,prepFn:function(){j=R.attr("transform"),s(R)},moveFn:function(K,et){R.attr("transform",j+r(K,et)),V=d.align((z?O._uFrac:O._vFrac)+K/I.w,z?O._thickFrac:O._lenFrac,0,1,O.xanchor),W=d.align((z?O._vFrac:1-O._uFrac)-et/I.h,z?O._lenFrac:O._thickFrac,0,1,O.yanchor);var lt=d.getCursor(V,W,O.xanchor,O.yanchor);s(R,lt)},doneFn:function(){if(s(R),V!==void 0&&W!==void 0){var K={};K[O._propPrefix+"x"]=V,K[O._propPrefix+"y"]=W,O._traceIndex!==void 0?M.call("_guiRestyle",N,K,O._traceIndex):M.call("_guiRelayout",N,K)}}})}function L(R,O,N){var z=O._levels,F=[],I=[],j,V,W=z.end+z.size/100,K=z.size,et=1.001*N[0]-.001*N[1],lt=1.001*N[1]-.001*N[0];for(V=0;V<1e5&&(j=z.start+V*K,!(K>0?j>=W:j<=W));V++)j>et&&j<lt&&F.push(j);if(O._fillgradient)I=[0];else if(typeof O._fillcolor=="function"){var ot=O._filllevels;if(ot)for(W=ot.end+ot.size/100,K=ot.size,V=0;V<1e5&&(j=ot.start+V*K,!(K>0?j>=W:j<=W));V++)j>N[0]&&j<N[1]&&I.push(j);else I=F.map(function(q){return q-z.size/2}),I.push(I[I.length-1]+z.size)}else O._fillcolor&&typeof O._fillcolor=="string"&&(I=[0]);return z.size<0&&(F.reverse(),I.reverse()),{line:F,fill:I}}function A(R,O,N){var z=R._fullLayout,F=O.orientation==="v",I={type:"linear",range:N,tickmode:O.tickmode,nticks:O.nticks,tick0:O.tick0,dtick:O.dtick,tickvals:O.tickvals,ticktext:O.ticktext,ticks:O.ticks,ticklen:O.ticklen,tickwidth:O.tickwidth,tickcolor:O.tickcolor,showticklabels:O.showticklabels,labelalias:O.labelalias,ticklabelposition:O.ticklabelposition,ticklabeloverflow:O.ticklabeloverflow,ticklabelstep:O.ticklabelstep,tickfont:O.tickfont,tickangle:O.tickangle,tickformat:O.tickformat,exponentformat:O.exponentformat,minexponent:O.minexponent,separatethousands:O.separatethousands,showexponent:O.showexponent,showtickprefix:O.showtickprefix,tickprefix:O.tickprefix,showticksuffix:O.showticksuffix,ticksuffix:O.ticksuffix,title:O.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},j=F?"y":"x",V={type:"linear",_id:j+O._id},W={letter:j,font:z.font,noAutotickangles:j==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:z.calendar};function K(et,lt){return v.coerce(I,V,a,et,lt)}return f(I,V,K,W,z),k(I,V,K,W),V}X.exports={draw:T}},90553:function(X,B,t){var x=t(3400);X.exports=function(E){return x.isPlainObject(E.colorbar)}},55080:function(X,B,t){X.exports={moduleType:"component",name:"colorbar",attributes:t(42996),supplyDefaults:t(64013),draw:t(37848).draw,hasColorbar:t(90553)}},49084:function(X,B,t){var x=t(42996),E=t(53756).counter,i=t(95376),M=t(88304).scales;i(M),X.exports=function(m,d){m=m||"",d=d||{};var v=d.cLetter||"c";"onlyIfNumerical"in d&&d.onlyIfNumerical;var r="noScale"in d?d.noScale:m==="marker.line",e="showScaleDflt"in d?d.showScaleDflt:v==="z",s=typeof d.colorscaleDflt=="string"?M[d.colorscaleDflt]:null,n=d.editTypeOverride||"",l;"colorAttr"in d?(l=d.colorAttr,d.colorAttr):l={z:"z",c:"color"}[v];var o=v+"auto",h=v+"min",b=v+"max",f=v+"mid",k={};k[h]=k[b]=void 0;var a={};a[o]=!1;var c={};return l==="color"&&(c.color={valType:"color",arrayOk:!0,editType:n||"style"},d.anim&&(c.color.anim=!0)),c[o]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:k},c[h]={valType:"number",dflt:null,editType:n||"plot",impliedEdits:a},c[b]={valType:"number",dflt:null,editType:n||"plot",impliedEdits:a},c[f]={valType:"number",dflt:null,editType:"calc",impliedEdits:k},c.colorscale={valType:"colorscale",editType:"calc",dflt:s,impliedEdits:{autocolorscale:!1}},c.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},c.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(c.showscale={valType:"boolean",dflt:e,editType:"calc"},c.colorbar=x),d.noColorAxis||(c.coloraxis={valType:"subplotid",regex:E("coloraxis"),dflt:null,editType:"calc"}),c}},47128:function(X,B,t){var x=t(38248),E=t(3400),i=t(94288).extractOpts;X.exports=function(M,m,d){var v=M._fullLayout,r=d.vals,e=d.containerStr,s=e?E.nestedProperty(m,e).get():m,n=i(s),l=n.auto!==!1,o=n.min,h=n.max,b=n.mid,f=function(){return E.aggNums(Math.min,null,r)},k=function(){return E.aggNums(Math.max,null,r)};if(o===void 0?o=f():l&&(s._colorAx&&x(o)?o=Math.min(o,f()):o=f()),h===void 0?h=k():l&&(s._colorAx&&x(h)?h=Math.max(h,k()):h=k()),l&&b!==void 0&&(h-b>b-o?o=b-(h-b):h-b<b-o&&(h=b+(b-o))),o===h&&(o-=.5,h+=.5),n._sync("min",o),n._sync("max",h),n.autocolorscale){var a;o*h<0?a=v.colorscale.diverging:o>=0?a=v.colorscale.sequential:a=v.colorscale.sequentialminus,n._sync("colorscale",a)}}},95504:function(X,B,t){var x=t(3400),E=t(94288).hasColorscale,i=t(94288).extractOpts;X.exports=function(M,m){function d(o,h){var b=o["_"+h];b!==void 0&&(o[h]=b)}function v(o,h){var b=h.container?x.nestedProperty(o,h.container).get():o;if(b)if(b.coloraxis)b._colorAx=m[b.coloraxis];else{var f=i(b),k=f.auto;(k||f.min===void 0)&&d(b,h.min),(k||f.max===void 0)&&d(b,h.max),f.autocolorscale&&d(b,"colorscale")}}for(var r=0;r<M.length;r++){var e=M[r],s=e._module.colorbar;if(s)if(Array.isArray(s))for(var n=0;n<s.length;n++)v(e,s[n]);else v(e,s);E(e,"marker.line")&&v(e,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in m._colorAxes)v(m[l],{min:"cmin",max:"cmax"})}},27260:function(X,B,t){var x=t(38248),E=t(3400),i=t(90553),M=t(64013),m=t(88304).isValid,d=t(24040).traceIs;function v(r,e){var s=e.slice(0,e.length-1);return e?E.nestedProperty(r,s).get()||{}:r}X.exports=function r(e,s,n,l,o){var h=o.prefix,b=o.cLetter,f="_module"in s,k=v(e,h),a=v(s,h),c=v(s._template||{},h)||{},p=function(){return delete e.coloraxis,delete s.coloraxis,r(e,s,n,l,o)};if(f){var w=n._colorAxes||{},S=l(h+"coloraxis");if(S){var _=d(s,"contour")&&E.nestedProperty(s,"contours.coloring").get()||"heatmap",T=w[S];T?(T[2].push(p),T[0]!==_&&(T[0]=!1,E.warn(["Ignoring coloraxis:",S,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[S]=[_,s,[p]];return}}var P=k[b+"min"],u=k[b+"max"],g=x(P)&&x(u)&&P<u,L=l(h+b+"auto",!g);L?l(h+b+"mid"):(l(h+b+"min"),l(h+b+"max"));var A=k.colorscale,R=c.colorscale,O;if(A!==void 0&&(O=!m(A)),R!==void 0&&(O=!m(R)),l(h+"autocolorscale",O),l(h+"colorscale"),l(h+"reversescale"),h!=="marker.line."){var N;h&&f&&(N=i(k));var z=l(h+"showscale",N);z&&(h&&c&&(a._template=c),M(k,a,n))}}},94288:function(X,B,t){var x=t(33428),E=t(49760),i=t(38248),M=t(3400),m=t(76308),d=t(88304).isValid;function v(f,k,a){var c=k?M.nestedProperty(f,k).get()||{}:f,p=c[a||"color"];p&&p._inputArray&&(p=p._inputArray);var w=!1;if(M.isArrayOrTypedArray(p)){for(var S=0;S<p.length;S++)if(i(p[S])){w=!0;break}}return M.isPlainObject(c)&&(w||c.showscale===!0||i(c.cmin)&&i(c.cmax)||d(c.colorscale)||M.isPlainObject(c.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],e=["min","max","mid","auto"];function s(f){var k=f._colorAx,a=k||f,c={},p,w,S;for(w=0;w<r.length;w++)S=r[w],c[S]=a[S];if(k)for(p="c",w=0;w<e.length;w++)S=e[w],c[S]=a["c"+S];else{var _;for(w=0;w<e.length;w++){if(S=e[w],_="c"+S,_ in a){c[S]=a[_];continue}_="z"+S,_ in a&&(c[S]=a[_])}p=_.charAt(0)}return c._sync=function(T,P){var u=e.indexOf(T)!==-1?p+T:T;a[u]=a["_"+u]=P},c}function n(f){for(var k=s(f),a=k.min,c=k.max,p=k.reversescale?l(k.colorscale):k.colorscale,w=p.length,S=new Array(w),_=new Array(w),T=0;T<w;T++){var P=p[T];S[T]=a+P[0]*(c-a),_[T]=P[1]}return{domain:S,range:_}}function l(f){for(var k=f.length,a=new Array(k),c=k-1,p=0;c>=0;c--,p++){var w=f[c];a[p]=[1-w[0],w[1]]}return a}function o(f,k){k=k||{};for(var a=f.domain,c=f.range,p=c.length,w=new Array(p),S=0;S<p;S++){var _=E(c[S]).toRgb();w[S]=[_.r,_.g,_.b,_.a]}var T=x.scale.linear().domain(a).range(w).clamp(!0),P=k.noNumericCheck,u=k.returnArray,g;return P&&u?g=T:P?g=function(L){return b(T(L))}:u?g=function(L){return i(L)?T(L):E(L).isValid()?L:m.defaultLine}:g=function(L){return i(L)?b(T(L)):E(L).isValid()?L:m.defaultLine},g.domain=T.domain,g.range=function(){return c},g}function h(f,k){return o(n(f),k)}function b(f){var k={r:f[0],g:f[1],b:f[2],a:f[3]};return E(k).toRgbString()}X.exports={hasColorscale:v,extractOpts:s,extractScale:n,flipScale:l,makeColorScaleFunc:o,makeColorScaleFuncFromTrace:h}},8932:function(X,B,t){var x=t(88304),E=t(94288);X.exports={moduleType:"component",name:"colorscale",attributes:t(49084),layoutAttributes:t(92332),supplyLayoutDefaults:t(51608),handleDefaults:t(27260),crossTraceDefaults:t(95504),calc:t(47128),scales:x.scales,defaultScale:x.defaultScale,getScale:x.get,isValidScale:x.isValid,hasColorscale:E.hasColorscale,extractOpts:E.extractOpts,extractScale:E.extractScale,flipScale:E.flipScale,makeColorScaleFunc:E.makeColorScaleFunc,makeColorScaleFuncFromTrace:E.makeColorScaleFuncFromTrace}},92332:function(X,B,t){var x=t(92880).extendFlat,E=t(49084),i=t(88304).scales;X.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:x({_isSubplotObj:!0,editType:"calc"},E("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(X,B,t){var x=t(3400),E=t(31780),i=t(92332),M=t(27260);X.exports=function(m,d){function v(b,f){return x.coerce(m,d,i,b,f)}v("colorscale.sequential"),v("colorscale.sequentialminus"),v("colorscale.diverging");var r=d._colorAxes,e,s;function n(b,f){return x.coerce(e,s,i.coloraxis,b,f)}for(var l in r){var o=r[l];if(o[0])e=m[l]||{},s=E.newContainer(d,l,"coloraxis"),s._name=l,M(e,s,d,n,{prefix:"",cLetter:"c"});else{for(var h=0;h<o[2].length;h++)o[2][h]();delete d._colorAxes[l]}}}},88304:function(X,B,t){var x=t(49760),E={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=E.RdBu;function M(v,r){if(r||(r=i),!v)return r;function e(){try{v=E[v]||JSON.parse(v)}catch{v=r}}return typeof v=="string"&&(e(),typeof v=="string"&&e()),m(v)?v:r}function m(v){var r=0;if(!Array.isArray(v)||v.length<2||!v[0]||!v[v.length-1]||+v[0][0]!=0||+v[v.length-1][0]!=1)return!1;for(var e=0;e<v.length;e++){var s=v[e];if(s.length!==2||+s[0]<r||!x(s[1]).isValid())return!1;r=+s[0]}return!0}function d(v){return E[v]!==void 0?!0:m(v)}X.exports={scales:E,defaultScale:i,get:M,isValid:d}},78316:function(X){X.exports=function(B,t,x,E,i){var M=(B-x)/(E-x),m=M+t/(E-x),d=(M+m)/2;return i==="left"||i==="bottom"?M:i==="center"||i==="middle"?d:i==="right"||i==="top"?m:M<.6666666666666666-d?M:m>1.3333333333333333-d?m:d}},67416:function(X,B,t){var x=t(3400),E=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];X.exports=function(i,M,m,d){return m==="left"?i=0:m==="center"?i=1:m==="right"?i=2:i=x.constrain(Math.floor(i*3),0,2),d==="bottom"?M=0:d==="middle"?M=1:d==="top"?M=2:M=x.constrain(Math.floor(M*3),0,2),E[M][i]}},72760:function(X,B){B.selectMode=function(t){return t==="lasso"||t==="select"},B.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},B.openMode=function(t){return t==="drawline"||t==="drawopenpath"},B.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},B.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},B.selectingOrDrawing=function(t){return B.freeMode(t)||B.rectMode(t)}},86476:function(X,B,t){var x=t(29128),E=t(52264),i=t(89184),M=t(3400).removeElement,m=t(33816),d=X.exports={};d.align=t(78316),d.getCursor=t(67416);var v=t(2616);d.unhover=v.wrapped,d.unhoverRaw=v.raw,d.init=function(s){var n=s.gd,l=1,o=n._context.doubleClickDelay,h=s.element,b,f,k,a,c,p,w,S;n._mouseDownTime||(n._mouseDownTime=0),h.style.pointerEvents="all",h.onmousedown=P,i?(h._ontouchstart&&h.removeEventListener("touchstart",h._ontouchstart),h._ontouchstart=P,h.addEventListener("touchstart",P,{passive:!1})):h.ontouchstart=P;function _(L,A,R){return Math.abs(L)<R&&(L=0),Math.abs(A)<R&&(A=0),[L,A]}var T=s.clampFn||_;function P(L){n._dragged=!1,n._dragging=!0;var A=e(L);b=A[0],f=A[1],w=L.target,p=L,S=L.buttons===2||L.ctrlKey,typeof L.clientX>"u"&&typeof L.clientY>"u"&&(L.clientX=b,L.clientY=f),k=new Date().getTime(),k-n._mouseDownTime<o?l+=1:(l=1,n._mouseDownTime=k),s.prepFn&&s.prepFn(L,b,f),E&&!S?(c=r(),c.style.cursor=window.getComputedStyle(h).cursor):E||(c=document,a=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(h).cursor),document.addEventListener("mouseup",g),document.addEventListener("touchend",g),s.dragmode!==!1&&(L.preventDefault(),document.addEventListener("mousemove",u),document.addEventListener("touchmove",u,{passive:!1}))}function u(L){L.preventDefault();var A=e(L),R=s.minDrag||m.MINDRAG,O=T(A[0]-b,A[1]-f,R),N=O[0],z=O[1];(N||z)&&(n._dragged=!0,d.unhover(n,L)),n._dragged&&s.moveFn&&!S&&(n._dragdata={element:h,dx:N,dy:z},s.moveFn(N,z))}function g(L){if(delete n._dragdata,s.dragmode!==!1&&(L.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("touchmove",u)),document.removeEventListener("mouseup",g),document.removeEventListener("touchend",g),E?M(c):a&&(c.documentElement.style.cursor=a,a=null),!n._dragging){n._dragged=!1;return}if(n._dragging=!1,new Date().getTime()-n._mouseDownTime>o&&(l=Math.max(l-1,1)),n._dragged)s.doneFn&&s.doneFn();else if(s.clickFn&&s.clickFn(l,p),!S){var A;try{A=new MouseEvent("click",L)}catch{var R=e(L);A=document.createEvent("MouseEvents"),A.initMouseEvent("click",L.bubbles,L.cancelable,L.view,L.detail,L.screenX,L.screenY,R[0],R[1],L.ctrlKey,L.altKey,L.shiftKey,L.metaKey,L.button,L.relatedTarget)}w.dispatchEvent(A)}n._dragging=!1,n._dragged=!1}};function r(){var s=document.createElement("div");s.className="dragcover";var n=s.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(s),s}d.coverSlip=r;function e(s){return x(s.changedTouches?s.changedTouches[0]:s,document.body)}},2616:function(X,B,t){var x=t(95924),E=t(91200),i=t(52200).getGraphDiv,M=t(92456),m=X.exports={};m.wrapped=function(d,v,r){d=i(d),d._fullLayout&&E.clear(d._fullLayout._uid+M.HOVERID),m.raw(d,v,r)},m.raw=function(d,v){var r=d._fullLayout,e=d._hoverdata;v||(v={}),!(v.target&&!d._dragged&&x.triggerHandler(d,"plotly_beforehover",v)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,v.target&&e&&d.emit("plotly_unhover",{event:v,points:e}))}},98192:function(X,B){B.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(X,B,t){var x=t(33428),E=t(3400),i=E.numberFormat,M=t(38248),m=t(49760),d=t(24040),v=t(76308),r=t(8932),e=E.strTranslate,s=t(72736),n=t(9616),l=t(84284),o=l.LINE_SPACING,h=t(13448).DESELECTDIM,b=t(43028),f=t(7152),k=t(10624).appendArrayPointValue,a=X.exports={};a.font=function(bt,_t,mt,Pt){E.isPlainObject(_t)&&(Pt=_t.color,mt=_t.size,_t=_t.family),_t&&bt.style("font-family",_t),mt+1&&bt.style("font-size",mt+"px"),Pt&&bt.call(v.fill,Pt)},a.setPosition=function(bt,_t,mt){bt.attr("x",_t).attr("y",mt)},a.setSize=function(bt,_t,mt){bt.attr("width",_t).attr("height",mt)},a.setRect=function(bt,_t,mt,Pt,Rt){bt.call(a.setPosition,_t,mt).call(a.setSize,Pt,Rt)},a.translatePoint=function(bt,_t,mt,Pt){var Rt=mt.c2p(bt.x),Ht=Pt.c2p(bt.y);if(M(Rt)&&M(Ht)&&_t.node())_t.node().nodeName==="text"?_t.attr("x",Rt).attr("y",Ht):_t.attr("transform",e(Rt,Ht));else return!1;return!0},a.translatePoints=function(bt,_t,mt){bt.each(function(Pt){var Rt=x.select(this);a.translatePoint(Pt,Rt,_t,mt)})},a.hideOutsideRangePoint=function(bt,_t,mt,Pt,Rt,Ht){_t.attr("display",mt.isPtWithinRange(bt,Rt)&&Pt.isPtWithinRange(bt,Ht)?null:"none")},a.hideOutsideRangePoints=function(bt,_t){if(_t._hasClipOnAxisFalse){var mt=_t.xaxis,Pt=_t.yaxis;bt.each(function(Rt){var Ht=Rt[0].trace,Dt=Ht.xcalendar,Xt=Ht.ycalendar,se=d.traceIs(Ht,"bar-like")?".bartext":".point,.textpoint";bt.selectAll(se).each(function(Yt){a.hideOutsideRangePoint(Yt,x.select(this),mt,Pt,Dt,Xt)})})}},a.crispRound=function(bt,_t,mt){return!_t||!M(_t)?mt||0:bt._context.staticPlot?_t:_t<1?1:Math.round(_t)},a.singleLineStyle=function(bt,_t,mt,Pt,Rt){_t.style("fill","none");var Ht=(((bt||[])[0]||{}).trace||{}).line||{},Dt=mt||Ht.width||0,Xt=Rt||Ht.dash||"";v.stroke(_t,Pt||Ht.color),a.dashLine(_t,Xt,Dt)},a.lineGroupStyle=function(bt,_t,mt,Pt){bt.style("fill","none").each(function(Rt){var Ht=(((Rt||[])[0]||{}).trace||{}).line||{},Dt=_t||Ht.width||0,Xt=Pt||Ht.dash||"";x.select(this).call(v.stroke,mt||Ht.color).call(a.dashLine,Xt,Dt)})},a.dashLine=function(bt,_t,mt){mt=+mt||0,_t=a.dashStyle(_t,mt),bt.style({"stroke-dasharray":_t,"stroke-width":mt+"px"})},a.dashStyle=function(bt,_t){_t=+_t||1;var mt=Math.max(_t,3);return bt==="solid"?bt="":bt==="dot"?bt=mt+"px,"+mt+"px":bt==="dash"?bt=3*mt+"px,"+3*mt+"px":bt==="longdash"?bt=5*mt+"px,"+5*mt+"px":bt==="dashdot"?bt=3*mt+"px,"+mt+"px,"+mt+"px,"+mt+"px":bt==="longdashdot"&&(bt=5*mt+"px,"+2*mt+"px,"+mt+"px,"+2*mt+"px"),bt};function c(bt,_t,mt,Pt){var Rt=_t.fillpattern,Ht=_t.fillgradient,Dt=Rt&&a.getPatternAttr(Rt.shape,0,"");if(Dt){var Xt=a.getPatternAttr(Rt.bgcolor,0,null),se=a.getPatternAttr(Rt.fgcolor,0,null),Yt=Rt.fgopacity,ue=a.getPatternAttr(Rt.size,0,8),ie=a.getPatternAttr(Rt.solidity,0,.3),fe=_t.uid;a.pattern(bt,"point",mt,fe,Dt,ue,ie,void 0,Rt.fillmode,Xt,se,Yt)}else if(Ht&&Ht.type!=="none"){var ce=Ht.type,ye="scatterfill-"+_t.uid;if(Pt&&(ye="legendfill-"+_t.uid),!Pt&&(Ht.start!==void 0||Ht.stop!==void 0)){var de,Te;ce==="horizontal"?(de={x:Ht.start,y:0},Te={x:Ht.stop,y:0}):ce==="vertical"&&(de={x:0,y:Ht.start},Te={x:0,y:Ht.stop}),de.x=_t._xA.c2p(de.x===void 0?_t._extremes.x.min[0].val:de.x,!0),de.y=_t._yA.c2p(de.y===void 0?_t._extremes.y.min[0].val:de.y,!0),Te.x=_t._xA.c2p(Te.x===void 0?_t._extremes.x.max[0].val:Te.x,!0),Te.y=_t._yA.c2p(Te.y===void 0?_t._extremes.y.max[0].val:Te.y,!0),bt.call(u,mt,ye,"linear",Ht.colorscale,"fill",de,Te,!0,!1)}else ce==="horizontal"&&(ce=ce+"reversed"),bt.call(a.gradient,mt,ye,ce,Ht.colorscale,"fill")}else _t.fillcolor&&bt.call(v.fill,_t.fillcolor)}a.singleFillStyle=function(bt,_t){var mt=x.select(bt.node()),Pt=mt.data(),Rt=((Pt[0]||[])[0]||{}).trace||{};c(bt,Rt,_t,!1)},a.fillGroupStyle=function(bt,_t,mt){bt.style("stroke-width",0).each(function(Pt){var Rt=x.select(this);Pt[0].trace&&c(Rt,Pt[0].trace,_t,mt)})};var p=t(71984);a.symbolNames=[],a.symbolFuncs=[],a.symbolBackOffs=[],a.symbolNeedLines={},a.symbolNoDot={},a.symbolNoFill={},a.symbolList=[],Object.keys(p).forEach(function(bt){var _t=p[bt],mt=_t.n;a.symbolList.push(mt,String(mt),bt,mt+100,String(mt+100),bt+"-open"),a.symbolNames[mt]=bt,a.symbolFuncs[mt]=_t.f,a.symbolBackOffs[mt]=_t.backoff||0,_t.needLine&&(a.symbolNeedLines[mt]=!0),_t.noDot?a.symbolNoDot[mt]=!0:a.symbolList.push(mt+200,String(mt+200),bt+"-dot",mt+300,String(mt+300),bt+"-open-dot"),_t.noFill&&(a.symbolNoFill[mt]=!0)});var w=a.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";a.symbolNumber=function(bt){if(M(bt))bt=+bt;else if(typeof bt=="string"){var _t=0;bt.indexOf("-open")>0&&(_t=100,bt=bt.replace("-open","")),bt.indexOf("-dot")>0&&(_t+=200,bt=bt.replace("-dot","")),bt=a.symbolNames.indexOf(bt),bt>=0&&(bt+=_t)}return bt%100>=w||bt>=400?0:Math.floor(Math.max(bt,0))};function _(bt,_t,mt,Pt){var Rt=bt%100;return a.symbolFuncs[Rt](_t,mt,Pt)+(bt>=200?S:"")}var T=i("~f"),P={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};a.gradient=function(bt,_t,mt,Pt,Rt,Ht){var Dt=P[Pt];return u(bt,_t,mt,Dt.type,Rt,Ht,Dt.start,Dt.stop,!1,Dt.reversed)};function u(bt,_t,mt,Pt,Rt,Ht,Dt,Xt,se,Yt){var ue=Rt.length,ie;Pt==="linear"?ie={node:"linearGradient",attrs:{x1:Dt.x,y1:Dt.y,x2:Xt.x,y2:Xt.y,gradientUnits:se?"userSpaceOnUse":"objectBoundingBox"},reversed:Yt}:Pt==="radial"&&(ie={node:"radialGradient",reversed:Yt});for(var fe=new Array(ue),ce=0;ce<ue;ce++)ie.reversed?fe[ue-1-ce]=[T((1-Rt[ce][0])*100),Rt[ce][1]]:fe[ce]=[T(Rt[ce][0]*100),Rt[ce][1]];var ye=_t._fullLayout,de="g"+ye._uid+"-"+mt,Te=ye._defs.select(".gradients").selectAll("#"+de).data([Pt+fe.join(";")],E.identity);Te.exit().remove(),Te.enter().append(ie.node).each(function(){var Et=x.select(this);ie.attrs&&Et.attr(ie.attrs),Et.attr("id",de);var Vt=Et.selectAll("stop").data(fe);Vt.exit().remove(),Vt.enter().append("stop"),Vt.each(function(te){var Jt=m(te[1]);x.select(this).attr({offset:te[0]+"%","stop-color":v.tinyRGB(Jt),"stop-opacity":Jt.getAlpha()})})}),bt.style(Ht,q(de,_t)).style(Ht+"-opacity",null),bt.classed("gradient_filled",!0)}a.pattern=function(bt,_t,mt,Pt,Rt,Ht,Dt,Xt,se,Yt,ue,ie){var fe=_t==="legend";Xt&&(se==="overlay"?(Yt=Xt,ue=v.contrast(Yt)):(Yt=void 0,ue=Xt));var ce=mt._fullLayout,ye="p"+ce._uid+"-"+Pt,de,Te,Et=function(Qt,he,ve,Je,Ue){return Je+(Ue-Je)*(Qt-he)/(ve-he)},Vt,te,Jt,Ut,It={},pt=m(ue),xt=v.tinyRGB(pt),Ct=pt.getAlpha(),At=ie*Ct;switch(Rt){case"/":de=Ht*Math.sqrt(2),Te=Ht*Math.sqrt(2),Vt="M-"+de/4+","+Te/4+"l"+de/2+",-"+Te/2+"M0,"+Te+"L"+de+",0M"+de/4*3+","+Te/4*5+"l"+de/2+",-"+Te/2,te=Dt*Ht,Ut="path",It={d:Vt,opacity:At,stroke:xt,"stroke-width":te+"px"};break;case"\\":de=Ht*Math.sqrt(2),Te=Ht*Math.sqrt(2),Vt="M"+de/4*3+",-"+Te/4+"l"+de/2+","+Te/2+"M0,0L"+de+","+Te+"M-"+de/4+","+Te/4*3+"l"+de/2+","+Te/2,te=Dt*Ht,Ut="path",It={d:Vt,opacity:At,stroke:xt,"stroke-width":te+"px"};break;case"x":de=Ht*Math.sqrt(2),Te=Ht*Math.sqrt(2),Vt="M-"+de/4+","+Te/4+"l"+de/2+",-"+Te/2+"M0,"+Te+"L"+de+",0M"+de/4*3+","+Te/4*5+"l"+de/2+",-"+Te/2+"M"+de/4*3+",-"+Te/4+"l"+de/2+","+Te/2+"M0,0L"+de+","+Te+"M-"+de/4+","+Te/4*3+"l"+de/2+","+Te/2,te=Ht-Ht*Math.sqrt(1-Dt),Ut="path",It={d:Vt,opacity:At,stroke:xt,"stroke-width":te+"px"};break;case"|":de=Ht,Te=Ht,Ut="path",Vt="M"+de/2+",0L"+de/2+","+Te,te=Dt*Ht,Ut="path",It={d:Vt,opacity:At,stroke:xt,"stroke-width":te+"px"};break;case"-":de=Ht,Te=Ht,Ut="path",Vt="M0,"+Te/2+"L"+de+","+Te/2,te=Dt*Ht,Ut="path",It={d:Vt,opacity:At,stroke:xt,"stroke-width":te+"px"};break;case"+":de=Ht,Te=Ht,Ut="path",Vt="M"+de/2+",0L"+de/2+","+Te+"M0,"+Te/2+"L"+de+","+Te/2,te=Ht-Ht*Math.sqrt(1-Dt),Ut="path",It={d:Vt,opacity:At,stroke:xt,"stroke-width":te+"px"};break;case".":de=Ht,Te=Ht,Dt<Math.PI/4?Jt=Math.sqrt(Dt*Ht*Ht/Math.PI):Jt=Et(Dt,Math.PI/4,1,Ht/2,Ht/Math.sqrt(2)),Ut="circle",It={cx:de/2,cy:Te/2,r:Jt,opacity:At,fill:xt};break}var Ft=[Rt||"noSh",Yt||"noBg",ue||"noFg",Ht,Dt].join(";"),Wt=ce._defs.select(".patterns").selectAll("#"+ye).data([Ft],E.identity);Wt.exit().remove(),Wt.enter().append("pattern").each(function(){var Qt=x.select(this);if(Qt.attr({id:ye,width:de+"px",height:Te+"px",patternUnits:"userSpaceOnUse",patternTransform:fe?"scale(0.8)":""}),Yt){var he=m(Yt),ve=v.tinyRGB(he),Je=he.getAlpha(),Ue=Qt.selectAll("rect").data([0]);Ue.exit().remove(),Ue.enter().append("rect").attr({width:de+"px",height:Te+"px",fill:ve,"fill-opacity":Je})}var ke=Qt.selectAll(Ut).data([0]);ke.exit().remove(),ke.enter().append(Ut).attr(It)}),bt.style("fill",q(ye,mt)).style("fill-opacity",null),bt.classed("pattern_filled",!0)},a.initGradients=function(bt){var _t=bt._fullLayout,mt=E.ensureSingle(_t._defs,"g","gradients");mt.selectAll("linearGradient,radialGradient").remove(),x.select(bt).selectAll(".gradient_filled").classed("gradient_filled",!1)},a.initPatterns=function(bt){var _t=bt._fullLayout,mt=E.ensureSingle(_t._defs,"g","patterns");mt.selectAll("pattern").remove(),x.select(bt).selectAll(".pattern_filled").classed("pattern_filled",!1)},a.getPatternAttr=function(bt,_t,mt){return bt&&E.isArrayOrTypedArray(bt)?_t<bt.length?bt[_t]:mt:bt},a.pointStyle=function(bt,_t,mt,Pt){if(bt.size()){var Rt=a.makePointStyleFns(_t);bt.each(function(Ht){a.singlePointStyle(Ht,x.select(this),_t,Rt,mt,Pt)})}},a.singlePointStyle=function(bt,_t,mt,Pt,Rt,Ht){var Dt=mt.marker,Xt=Dt.line;if(Ht&&Ht.i>=0&&bt.i===void 0&&(bt.i=Ht.i),_t.style("opacity",Pt.selectedOpacityFn?Pt.selectedOpacityFn(bt):bt.mo===void 0?Dt.opacity:bt.mo),Pt.ms2mrc){var se;bt.ms==="various"||Dt.size==="various"?se=3:se=Pt.ms2mrc(bt.ms),bt.mrc=se,Pt.selectedSizeFn&&(se=bt.mrc=Pt.selectedSizeFn(bt));var Yt=a.symbolNumber(bt.mx||Dt.symbol)||0;bt.om=Yt%200>=100;var ue=Ot(bt,mt),ie=Z(bt,mt);_t.attr("d",_(Yt,se,ue,ie))}var fe=!1,ce,ye,de;if(bt.so)de=Xt.outlierwidth,ye=Xt.outliercolor,ce=Dt.outliercolor;else{var Te=(Xt||{}).width;de=(bt.mlw+1||Te+1||(bt.trace?(bt.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in bt?ye=bt.mlcc=Pt.lineScale(bt.mlc):E.isArrayOrTypedArray(Xt.color)?ye=v.defaultLine:ye=Xt.color,E.isArrayOrTypedArray(Dt.color)&&(ce=v.defaultLine,fe=!0),"mc"in bt?ce=bt.mcc=Pt.markerScale(bt.mc):ce=Dt.color||Dt.colors||"rgba(0,0,0,0)",Pt.selectedColorFn&&(ce=Pt.selectedColorFn(bt))}if(bt.om)_t.call(v.stroke,ce).style({"stroke-width":(de||1)+"px",fill:"none"});else{_t.style("stroke-width",(bt.isBlank?0:de)+"px");var Et=Dt.gradient,Vt=bt.mgt;Vt?fe=!0:Vt=Et&&Et.type,E.isArrayOrTypedArray(Vt)&&(Vt=Vt[0],P[Vt]||(Vt=0));var te=Dt.pattern,Jt=te&&a.getPatternAttr(te.shape,bt.i,"");if(Vt&&Vt!=="none"){var Ut=bt.mgc;Ut?fe=!0:Ut=Et.color;var It=mt.uid;fe&&(It+="-"+bt.i),a.gradient(_t,Rt,It,Vt,[[0,Ut],[1,ce]],"fill")}else if(Jt){var pt=!1,xt=te.fgcolor;!xt&&Ht&&Ht.color&&(xt=Ht.color,pt=!0);var Ct=a.getPatternAttr(xt,bt.i,Ht&&Ht.color||null),At=a.getPatternAttr(te.bgcolor,bt.i,null),Ft=te.fgopacity,Wt=a.getPatternAttr(te.size,bt.i,8),Qt=a.getPatternAttr(te.solidity,bt.i,.3);pt=pt||bt.mcc||E.isArrayOrTypedArray(te.shape)||E.isArrayOrTypedArray(te.bgcolor)||E.isArrayOrTypedArray(te.fgcolor)||E.isArrayOrTypedArray(te.size)||E.isArrayOrTypedArray(te.solidity);var he=mt.uid;pt&&(he+="-"+bt.i),a.pattern(_t,"point",Rt,he,Jt,Wt,Qt,bt.mcc,te.fillmode,At,Ct,Ft)}else E.isArrayOrTypedArray(ce)?v.fill(_t,ce[bt.i]):v.fill(_t,ce);de&&v.stroke(_t,ye)}},a.makePointStyleFns=function(bt){var _t={},mt=bt.marker;return _t.markerScale=a.tryColorscale(mt,""),_t.lineScale=a.tryColorscale(mt,"line"),d.traceIs(bt,"symbols")&&(_t.ms2mrc=b.isBubble(bt)?f(bt):function(){return(mt.size||6)/2}),bt.selectedpoints&&E.extendFlat(_t,a.makeSelectedPointStyleFns(bt)),_t},a.makeSelectedPointStyleFns=function(bt){var _t={},mt=bt.selected||{},Pt=bt.unselected||{},Rt=bt.marker||{},Ht=mt.marker||{},Dt=Pt.marker||{},Xt=Rt.opacity,se=Ht.opacity,Yt=Dt.opacity,ue=se!==void 0,ie=Yt!==void 0;(E.isArrayOrTypedArray(Xt)||ue||ie)&&(_t.selectedOpacityFn=function(Jt){var Ut=Jt.mo===void 0?Rt.opacity:Jt.mo;return Jt.selected?ue?se:Ut:ie?Yt:h*Ut});var fe=Rt.color,ce=Ht.color,ye=Dt.color;(ce||ye)&&(_t.selectedColorFn=function(Jt){var Ut=Jt.mcc||fe;return Jt.selected?ce||Ut:ye||Ut});var de=Rt.size,Te=Ht.size,Et=Dt.size,Vt=Te!==void 0,te=Et!==void 0;return d.traceIs(bt,"symbols")&&(Vt||te)&&(_t.selectedSizeFn=function(Jt){var Ut=Jt.mrc||de/2;return Jt.selected?Vt?Te/2:Ut:te?Et/2:Ut}),_t},a.makeSelectedTextStyleFns=function(bt){var _t={},mt=bt.selected||{},Pt=bt.unselected||{},Rt=bt.textfont||{},Ht=mt.textfont||{},Dt=Pt.textfont||{},Xt=Rt.color,se=Ht.color,Yt=Dt.color;return _t.selectedTextColorFn=function(ue){var ie=ue.tc||Xt;return ue.selected?se||ie:Yt||(se?ie:v.addOpacity(ie,h))},_t},a.selectedPointStyle=function(bt,_t){if(!(!bt.size()||!_t.selectedpoints)){var mt=a.makeSelectedPointStyleFns(_t),Pt=_t.marker||{},Rt=[];mt.selectedOpacityFn&&Rt.push(function(Ht,Dt){Ht.style("opacity",mt.selectedOpacityFn(Dt))}),mt.selectedColorFn&&Rt.push(function(Ht,Dt){v.fill(Ht,mt.selectedColorFn(Dt))}),mt.selectedSizeFn&&Rt.push(function(Ht,Dt){var Xt=Dt.mx||Pt.symbol||0,se=mt.selectedSizeFn(Dt);Ht.attr("d",_(a.symbolNumber(Xt),se,Ot(Dt,_t),Z(Dt,_t))),Dt.mrc2=se}),Rt.length&&bt.each(function(Ht){for(var Dt=x.select(this),Xt=0;Xt<Rt.length;Xt++)Rt[Xt](Dt,Ht)})}},a.tryColorscale=function(bt,_t){var mt=_t?E.nestedProperty(bt,_t).get():bt;if(mt){var Pt=mt.color;if((mt.colorscale||mt._colorAx)&&E.isArrayOrTypedArray(Pt))return r.makeColorScaleFuncFromTrace(mt)}return E.identity};var g={start:1,end:-1,middle:0,bottom:1,top:-1};function L(bt,_t,mt,Pt,Rt){var Ht=x.select(bt.node().parentNode),Dt=_t.indexOf("top")!==-1?"top":_t.indexOf("bottom")!==-1?"bottom":"middle",Xt=_t.indexOf("left")!==-1?"end":_t.indexOf("right")!==-1?"start":"middle",se=Pt?Pt/.8+1:0,Yt=(s.lineCount(bt)-1)*o+1,ue=g[Xt]*se,ie=mt*.75+g[Dt]*se+(g[Dt]-1)*Yt*mt/2;bt.attr("text-anchor",Xt),Rt||Ht.attr("transform",e(ue,ie))}function A(bt,_t){var mt=bt.ts||_t.textfont.size;return M(mt)&&mt>0?mt:0}a.textPointStyle=function(bt,_t,mt){if(bt.size()){var Pt;if(_t.selectedpoints){var Rt=a.makeSelectedTextStyleFns(_t);Pt=Rt.selectedTextColorFn}var Ht=_t.texttemplate,Dt=mt._fullLayout;bt.each(function(Xt){var se=x.select(this),Yt=Ht?E.extractOption(Xt,_t,"txt","texttemplate"):E.extractOption(Xt,_t,"tx","text");if(!Yt&&Yt!==0){se.remove();return}if(Ht){var ue=_t._module.formatLabels,ie=ue?ue(Xt,_t,Dt):{},fe={};k(fe,_t,Xt.i);var ce=_t._meta||{};Yt=E.texttemplateString(Yt,ie,Dt._d3locale,fe,Xt,ce)}var ye=Xt.tp||_t.textposition,de=A(Xt,_t),Te=Pt?Pt(Xt):Xt.tc||_t.textfont.color;se.call(a.font,Xt.tf||_t.textfont.family,de,Te).text(Yt).call(s.convertToTspans,mt).call(L,ye,de,Xt.mrc)})}},a.selectedTextStyle=function(bt,_t){if(!(!bt.size()||!_t.selectedpoints)){var mt=a.makeSelectedTextStyleFns(_t);bt.each(function(Pt){var Rt=x.select(this),Ht=mt.selectedTextColorFn(Pt),Dt=Pt.tp||_t.textposition,Xt=A(Pt,_t);v.fill(Rt,Ht);var se=d.traceIs(_t,"bar-like");L(Rt,Dt,Xt,Pt.mrc2||Pt.mrc,se)})}};var R=.5;a.smoothopen=function(bt,_t){if(bt.length<3)return"M"+bt.join("L");var mt="M"+bt[0],Pt=[],Rt;for(Rt=1;Rt<bt.length-1;Rt++)Pt.push(j(bt[Rt-1],bt[Rt],bt[Rt+1],_t));for(mt+="Q"+Pt[0][0]+" "+bt[1],Rt=2;Rt<bt.length-1;Rt++)mt+="C"+Pt[Rt-2][1]+" "+Pt[Rt-1][0]+" "+bt[Rt];return mt+="Q"+Pt[bt.length-3][1]+" "+bt[bt.length-1],mt},a.smoothclosed=function(bt,_t){if(bt.length<3)return"M"+bt.join("L")+"Z";var mt="M"+bt[0],Pt=bt.length-1,Rt=[j(bt[Pt],bt[0],bt[1],_t)],Ht;for(Ht=1;Ht<Pt;Ht++)Rt.push(j(bt[Ht-1],bt[Ht],bt[Ht+1],_t));for(Rt.push(j(bt[Pt-1],bt[Pt],bt[0],_t)),Ht=1;Ht<=Pt;Ht++)mt+="C"+Rt[Ht-1][1]+" "+Rt[Ht][0]+" "+bt[Ht];return mt+="C"+Rt[Pt][1]+" "+Rt[0][0]+" "+bt[0]+"Z",mt};var O,N;function z(bt,_t,mt){return mt&&(bt=K(bt)),_t?I(bt[1]):F(bt[0])}function F(bt){var _t=x.round(bt,2);return O=_t,_t}function I(bt){var _t=x.round(bt,2);return N=_t,_t}function j(bt,_t,mt,Pt){var Rt=bt[0]-_t[0],Ht=bt[1]-_t[1],Dt=mt[0]-_t[0],Xt=mt[1]-_t[1],se=Math.pow(Rt*Rt+Ht*Ht,R/2),Yt=Math.pow(Dt*Dt+Xt*Xt,R/2),ue=(Yt*Yt*Rt-se*se*Dt)*Pt,ie=(Yt*Yt*Ht-se*se*Xt)*Pt,fe=3*Yt*(se+Yt),ce=3*se*(se+Yt);return[[F(_t[0]+(fe&&ue/fe)),I(_t[1]+(fe&&ie/fe))],[F(_t[0]-(ce&&ue/ce)),I(_t[1]-(ce&&ie/ce))]]}var V={hv:function(bt,_t,mt){return"H"+F(_t[0])+"V"+z(_t,1,mt)},vh:function(bt,_t,mt){return"V"+I(_t[1])+"H"+z(_t,0,mt)},hvh:function(bt,_t,mt){return"H"+F((bt[0]+_t[0])/2)+"V"+I(_t[1])+"H"+z(_t,0,mt)},vhv:function(bt,_t,mt){return"V"+I((bt[1]+_t[1])/2)+"H"+F(_t[0])+"V"+z(_t,1,mt)}},W=function(bt,_t,mt){return"L"+z(_t,0,mt)+","+z(_t,1,mt)};a.steps=function(bt){var _t=V[bt]||W;return function(mt){for(var Pt="M"+F(mt[0][0])+","+I(mt[0][1]),Rt=mt.length,Ht=1;Ht<Rt;Ht++)Pt+=_t(mt[Ht-1],mt[Ht],Ht===Rt-1);return Pt}};function K(bt,_t){var mt=bt.backoff,Pt=bt.trace,Rt=bt.d,Ht=bt.i;if(mt&&Pt&&Pt.marker&&Pt.marker.angle%360===0&&Pt.line&&Pt.line.shape!=="spline"){var Dt=E.isArrayOrTypedArray(mt),Xt=bt,se=_t?_t[0]:O||0,Yt=_t?_t[1]:N||0,ue=Xt[0],ie=Xt[1],fe=ue-se,ce=ie-Yt,ye=Math.atan2(ce,fe),de=Dt?mt[Ht]:mt;if(de==="auto"){var Te=Xt.i;Pt.type==="scatter"&&Te--;var Et=Xt.marker,Vt=Et.symbol;E.isArrayOrTypedArray(Vt)&&(Vt=Vt[Te]);var te=Et.size;E.isArrayOrTypedArray(te)&&(te=te[Te]),de=Et?a.symbolBackOffs[a.symbolNumber(Vt)]*te:0,de+=a.getMarkerStandoff(Rt[Te],Pt)||0}var Jt=ue-de*Math.cos(ye),Ut=ie-de*Math.sin(ye);(Jt<=ue&&Jt>=se||Jt>=ue&&Jt<=se)&&(Ut<=ie&&Ut>=Yt||Ut>=ie&&Ut<=Yt)&&(bt=[Jt,Ut])}return bt}a.applyBackoff=K,a.makeTester=function(){var bt=E.ensureSingleById(x.select("body"),"svg","js-plotly-tester",function(mt){mt.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),_t=E.ensureSingle(bt,"path","js-reference-point",function(mt){mt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});a.tester=bt,a.testref=_t},a.savedBBoxes={};var et=0,lt=1e4;a.bBox=function(bt,_t,mt){mt||(mt=ot(bt));var Pt;if(mt){if(Pt=a.savedBBoxes[mt],Pt)return E.extendFlat({},Pt)}else if(bt.childNodes.length===1){var Rt=bt.childNodes[0];if(mt=ot(Rt),mt){var Ht=+Rt.getAttribute("x")||0,Dt=+Rt.getAttribute("y")||0,Xt=Rt.getAttribute("transform");if(!Xt){var se=a.bBox(Rt,!1,mt);return Ht&&(se.left+=Ht,se.right+=Ht),Dt&&(se.top+=Dt,se.bottom+=Dt),se}if(mt+="~"+Ht+"~"+Dt+"~"+Xt,Pt=a.savedBBoxes[mt],Pt)return E.extendFlat({},Pt)}}var Yt,ue;_t?Yt=bt:(ue=a.tester.node(),Yt=bt.cloneNode(!0),ue.appendChild(Yt)),x.select(Yt).attr("transform",null).call(s.positionText,0,0);var ie=Yt.getBoundingClientRect(),fe=a.testref.node().getBoundingClientRect();_t||ue.removeChild(Yt);var ce={height:ie.height,width:ie.width,left:ie.left-fe.left,top:ie.top-fe.top,right:ie.right-fe.left,bottom:ie.bottom-fe.top};return et>=lt&&(a.savedBBoxes={},et=0),mt&&(a.savedBBoxes[mt]=ce),et++,E.extendFlat({},ce)};function ot(bt){var _t=bt.getAttribute("data-unformatted");if(_t!==null)return _t+bt.getAttribute("data-math")+bt.getAttribute("text-anchor")+bt.getAttribute("style")}a.setClipUrl=function(bt,_t,mt){bt.attr("clip-path",q(_t,mt))};function q(bt,_t){if(!bt)return null;var mt=_t._context,Pt=mt._exportedPlot?"":mt._baseUrl||"";return Pt?"url('"+Pt+"#"+bt+"')":"url(#"+bt+")"}a.getTranslate=function(bt){var _t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,mt=bt.attr?"attr":"getAttribute",Pt=bt[mt]("transform")||"",Rt=Pt.replace(_t,function(Ht,Dt,Xt){return[Dt,Xt].join(" ")}).split(" ");return{x:+Rt[0]||0,y:+Rt[1]||0}},a.setTranslate=function(bt,_t,mt){var Pt=/(\btranslate\(.*?\);?)/,Rt=bt.attr?"attr":"getAttribute",Ht=bt.attr?"attr":"setAttribute",Dt=bt[Rt]("transform")||"";return _t=_t||0,mt=mt||0,Dt=Dt.replace(Pt,"").trim(),Dt+=e(_t,mt),Dt=Dt.trim(),bt[Ht]("transform",Dt),Dt},a.getScale=function(bt){var _t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,mt=bt.attr?"attr":"getAttribute",Pt=bt[mt]("transform")||"",Rt=Pt.replace(_t,function(Ht,Dt,Xt){return[Dt,Xt].join(" ")}).split(" ");return{x:+Rt[0]||1,y:+Rt[1]||1}},a.setScale=function(bt,_t,mt){var Pt=/(\bscale\(.*?\);?)/,Rt=bt.attr?"attr":"getAttribute",Ht=bt.attr?"attr":"setAttribute",Dt=bt[Rt]("transform")||"";return _t=_t||1,mt=mt||1,Dt=Dt.replace(Pt,"").trim(),Dt+="scale("+_t+","+mt+")",Dt=Dt.trim(),bt[Ht]("transform",Dt),Dt};var J=/\s*sc.*/;a.setPointGroupScale=function(bt,_t,mt){if(_t=_t||1,mt=mt||1,!!bt){var Pt=_t===1&&mt===1?"":"scale("+_t+","+mt+")";bt.each(function(){var Rt=(this.getAttribute("transform")||"").replace(J,"");Rt+=Pt,Rt=Rt.trim(),this.setAttribute("transform",Rt)})}};var it=/translate\([^)]*\)\s*$/;a.setTextPointsScale=function(bt,_t,mt){bt&&bt.each(function(){var Pt,Rt=x.select(this),Ht=Rt.select("text");if(Ht.node()){var Dt=parseFloat(Ht.attr("x")||0),Xt=parseFloat(Ht.attr("y")||0),se=(Rt.attr("transform")||"").match(it);_t===1&&mt===1?Pt=[]:Pt=[e(Dt,Xt),"scale("+_t+","+mt+")",e(-Dt,-Xt)],se&&Pt.push(se),Rt.attr("transform",Pt.join(""))}})};function Z(bt,_t){var mt;return bt&&(mt=bt.mf),mt===void 0&&(mt=_t.marker&&_t.marker.standoff||0),!_t._geo&&!_t._xA?-mt:mt}a.getMarkerStandoff=Z;var tt=Math.atan2,st=Math.cos,Q=Math.sin;function G(bt,_t){var mt=_t[0],Pt=_t[1];return[mt*st(bt)-Pt*Q(bt),mt*Q(bt)+Pt*st(bt)]}var ut,at,dt,gt,wt,kt;function Ot(bt,_t){var mt=bt.ma;mt===void 0&&(mt=_t.marker.angle,(!mt||E.isArrayOrTypedArray(mt))&&(mt=0));var Pt,Rt,Ht=_t.marker.angleref;if(Ht==="previous"||Ht==="north"){if(_t._geo){var Dt=_t._geo.project(bt.lonlat);Pt=Dt[0],Rt=Dt[1]}else{var Xt=_t._xA,se=_t._yA;if(Xt&&se)Pt=Xt.c2p(bt.x),Rt=se.c2p(bt.y);else return 90}if(_t._geo){var Yt=bt.lonlat[0],ue=bt.lonlat[1],ie=_t._geo.project([Yt,ue+1e-5]),fe=_t._geo.project([Yt+1e-5,ue]),ce=tt(fe[1]-Rt,fe[0]-Pt),ye=tt(ie[1]-Rt,ie[0]-Pt),de;if(Ht==="north")de=mt/180*Math.PI;else if(Ht==="previous"){var Te=Yt/180*Math.PI,Et=ue/180*Math.PI,Vt=ut/180*Math.PI,te=at/180*Math.PI,Jt=Vt-Te,Ut=st(te)*Q(Jt),It=Q(te)*st(Et)-st(te)*Q(Et)*st(Jt);de=-tt(Ut,It)-Math.PI,ut=Yt,at=ue}var pt=G(ce,[st(de),0]),xt=G(ye,[Q(de),0]);mt=tt(pt[1]+xt[1],pt[0]+xt[0])/Math.PI*180,Ht==="previous"&&!(kt===_t.uid&&bt.i===wt+1)&&(mt=null)}if(Ht==="previous"&&!_t._geo)if(kt===_t.uid&&bt.i===wt+1&&M(Pt)&&M(Rt)){var Ct=Pt-dt,At=Rt-gt,Ft=_t.line&&_t.line.shape||"",Wt=Ft.slice(Ft.length-1);Wt==="h"&&(At=0),Wt==="v"&&(Ct=0),mt+=tt(At,Ct)/Math.PI*180+90}else mt=null}return dt=Pt,gt=Rt,wt=bt.i,kt=_t.uid,mt}a.getMarkerAngle=Ot},71984:function(X,B,t){var x=t(21984),E=t(33428).round,i="M0,0Z",M=Math.sqrt(2),m=Math.sqrt(3),d=Math.PI,v=Math.cos,r=Math.sin;X.exports={circle:{n:0,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c="M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z";return k?h(f,k,c):c}},square:{n:1,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")}},diamond:{n:2,f:function(b,f,k){if(e(f))return i;var a=E(b*1.3,2);return h(f,k,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"Z")}},cross:{n:3,f:function(b,f,k){if(e(f))return i;var a=E(b*.4,2),c=E(b*1.2,2);return h(f,k,"M"+c+","+a+"H"+a+"V"+c+"H-"+a+"V"+a+"H-"+c+"V-"+a+"H-"+a+"V-"+c+"H"+a+"V-"+a+"H"+c+"Z")}},x:{n:4,f:function(b,f,k){if(e(f))return i;var a=E(b*.8/M,2),c="l"+a+","+a,p="l"+a+",-"+a,w="l-"+a+",-"+a,S="l-"+a+","+a;return h(f,k,"M0,"+a+c+p+w+p+w+S+w+S+c+S+c+"Z")}},"triangle-up":{n:5,f:function(b,f,k){if(e(f))return i;var a=E(b*2/m,2),c=E(b/2,2),p=E(b,2);return h(f,k,"M-"+a+","+c+"H"+a+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(b,f,k){if(e(f))return i;var a=E(b*2/m,2),c=E(b/2,2),p=E(b,2);return h(f,k,"M-"+a+",-"+c+"H"+a+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(b,f,k){if(e(f))return i;var a=E(b*2/m,2),c=E(b/2,2),p=E(b,2);return h(f,k,"M"+c+",-"+a+"V"+a+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(b,f,k){if(e(f))return i;var a=E(b*2/m,2),c=E(b/2,2),p=E(b,2);return h(f,k,"M-"+c+",-"+a+"V"+a+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(b,f,k){if(e(f))return i;var a=E(b*.6,2),c=E(b*1.2,2);return h(f,k,"M-"+c+",-"+a+"H"+a+"V"+c+"Z")}},"triangle-se":{n:10,f:function(b,f,k){if(e(f))return i;var a=E(b*.6,2),c=E(b*1.2,2);return h(f,k,"M"+a+",-"+c+"V"+a+"H-"+c+"Z")}},"triangle-sw":{n:11,f:function(b,f,k){if(e(f))return i;var a=E(b*.6,2),c=E(b*1.2,2);return h(f,k,"M"+c+","+a+"H-"+a+"V-"+c+"Z")}},"triangle-nw":{n:12,f:function(b,f,k){if(e(f))return i;var a=E(b*.6,2),c=E(b*1.2,2);return h(f,k,"M-"+a+","+c+"V-"+a+"H"+c+"Z")}},pentagon:{n:13,f:function(b,f,k){if(e(f))return i;var a=E(b*.951,2),c=E(b*.588,2),p=E(-b,2),w=E(b*-.309,2),S=E(b*.809,2);return h(f,k,"M"+a+","+w+"L"+c+","+S+"H-"+c+"L-"+a+","+w+"L0,"+p+"Z")}},hexagon:{n:14,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c=E(b/2,2),p=E(b*m/2,2);return h(f,k,"M"+p+",-"+c+"V"+c+"L0,"+a+"L-"+p+","+c+"V-"+c+"L0,-"+a+"Z")}},hexagon2:{n:15,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c=E(b/2,2),p=E(b*m/2,2);return h(f,k,"M-"+c+","+p+"H"+c+"L"+a+",0L"+c+",-"+p+"H-"+c+"L-"+a+",0Z")}},octagon:{n:16,f:function(b,f,k){if(e(f))return i;var a=E(b*.924,2),c=E(b*.383,2);return h(f,k,"M-"+c+",-"+a+"H"+c+"L"+a+",-"+c+"V"+c+"L"+c+","+a+"H-"+c+"L-"+a+","+c+"V-"+c+"Z")}},star:{n:17,f:function(b,f,k){if(e(f))return i;var a=b*1.4,c=E(a*.225,2),p=E(a*.951,2),w=E(a*.363,2),S=E(a*.588,2),_=E(-a,2),T=E(a*-.309,2),P=E(a*.118,2),u=E(a*.809,2),g=E(a*.382,2);return h(f,k,"M"+c+","+T+"H"+p+"L"+w+","+P+"L"+S+","+u+"L0,"+g+"L-"+S+","+u+"L-"+w+","+P+"L-"+p+","+T+"H-"+c+"L0,"+_+"Z")}},hexagram:{n:18,f:function(b,f,k){if(e(f))return i;var a=E(b*.66,2),c=E(b*.38,2),p=E(b*.76,2);return h(f,k,"M-"+p+",0l-"+c+",-"+a+"h"+p+"l"+c+",-"+a+"l"+c+","+a+"h"+p+"l-"+c+","+a+"l"+c+","+a+"h-"+p+"l-"+c+","+a+"l-"+c+",-"+a+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(b,f,k){if(e(f))return i;var a=E(b*m*.8,2),c=E(b*.8,2),p=E(b*1.6,2),w=E(b*4,2),S="A "+w+","+w+" 0 0 1 ";return h(f,k,"M-"+a+","+c+S+a+","+c+S+"0,-"+p+S+"-"+a+","+c+"Z")}},"star-triangle-down":{n:20,f:function(b,f,k){if(e(f))return i;var a=E(b*m*.8,2),c=E(b*.8,2),p=E(b*1.6,2),w=E(b*4,2),S="A "+w+","+w+" 0 0 1 ";return h(f,k,"M"+a+",-"+c+S+"-"+a+",-"+c+S+"0,"+p+S+a+",-"+c+"Z")}},"star-square":{n:21,f:function(b,f,k){if(e(f))return i;var a=E(b*1.1,2),c=E(b*2,2),p="A "+c+","+c+" 0 0 1 ";return h(f,k,"M-"+a+",-"+a+p+"-"+a+","+a+p+a+","+a+p+a+",-"+a+p+"-"+a+",-"+a+"Z")}},"star-diamond":{n:22,f:function(b,f,k){if(e(f))return i;var a=E(b*1.4,2),c=E(b*1.9,2),p="A "+c+","+c+" 0 0 1 ";return h(f,k,"M-"+a+",0"+p+"0,"+a+p+a+",0"+p+"0,-"+a+p+"-"+a+",0Z")}},"diamond-tall":{n:23,f:function(b,f,k){if(e(f))return i;var a=E(b*.7,2),c=E(b*1.4,2);return h(f,k,"M0,"+c+"L"+a+",0L0,-"+c+"L-"+a+",0Z")}},"diamond-wide":{n:24,f:function(b,f,k){if(e(f))return i;var a=E(b*1.4,2),c=E(b*.7,2);return h(f,k,"M0,"+c+"L"+a+",0L0,-"+c+"L-"+a+",0Z")}},hourglass:{n:25,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M"+a+","+a+"H-"+a+"L"+a+",-"+a+"H-"+a+"Z")},noDot:!0},bowtie:{n:26,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M"+a+","+a+"V-"+a+"L-"+a+","+a+"V-"+a+"Z")},noDot:!0},"circle-cross":{n:27,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c=E(b/M,2);return h(f,k,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(b,f,k){if(e(f))return i;var a=E(b*1.3,2);return h(f,k,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM0,-"+a+"V"+a+"M-"+a+",0H"+a)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(b,f,k){if(e(f))return i;var a=E(b*1.3,2),c=E(b*.65,2);return h(f,k,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM-"+c+",-"+c+"L"+c+","+c+"M-"+c+","+c+"L"+c+",-"+c)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(b,f,k){if(e(f))return i;var a=E(b*1.4,2);return h(f,k,"M0,"+a+"V-"+a+"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(b,f,k){if(e(f))return i;var a=E(b*1.2,2),c=E(b*.85,2);return h(f,k,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(b,f,k){if(e(f))return i;var a=E(b/2,2),c=E(b,2);return h(f,k,"M"+a+","+c+"V-"+c+"M"+(a-c)+",-"+c+"V"+c+"M"+c+","+a+"H-"+c+"M-"+c+","+(a-c)+"H"+c)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(b,f,k){if(e(f))return i;var a=E(b*1.2,2),c=E(b*1.6,2),p=E(b*.8,2);return h(f,k,"M-"+a+","+p+"L0,0M"+a+","+p+"L0,0M0,-"+c+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(b,f,k){if(e(f))return i;var a=E(b*1.2,2),c=E(b*1.6,2),p=E(b*.8,2);return h(f,k,"M-"+a+",-"+p+"L0,0M"+a+",-"+p+"L0,0M0,"+c+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(b,f,k){if(e(f))return i;var a=E(b*1.2,2),c=E(b*1.6,2),p=E(b*.8,2);return h(f,k,"M"+p+","+a+"L0,0M"+p+",-"+a+"L0,0M-"+c+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(b,f,k){if(e(f))return i;var a=E(b*1.2,2),c=E(b*1.6,2),p=E(b*.8,2);return h(f,k,"M-"+p+","+a+"L0,0M-"+p+",-"+a+"L0,0M"+c+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(b,f,k){if(e(f))return i;var a=E(b*1.4,2);return h(f,k,"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(b,f,k){if(e(f))return i;var a=E(b*1.4,2);return h(f,k,"M0,"+a+"V-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(b,f,k){if(e(f))return i;var a=E(b,2);return h(f,k,"M"+a+","+a+"L-"+a+",-"+a)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c=E(b*2,2);return h(f,k,"M0,0L-"+a+","+c+"H"+a+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c=E(b*2,2);return h(f,k,"M0,0L-"+a+",-"+c+"H"+a+"Z")},noDot:!0},"arrow-left":{n:47,f:function(b,f,k){if(e(f))return i;var a=E(b*2,2),c=E(b,2);return h(f,k,"M0,0L"+a+",-"+c+"V"+c+"Z")},noDot:!0},"arrow-right":{n:48,f:function(b,f,k){if(e(f))return i;var a=E(b*2,2),c=E(b,2);return h(f,k,"M0,0L-"+a+",-"+c+"V"+c+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c=E(b*2,2);return h(f,k,"M-"+a+",0H"+a+"M0,0L-"+a+","+c+"H"+a+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(b,f,k){if(e(f))return i;var a=E(b,2),c=E(b*2,2);return h(f,k,"M-"+a+",0H"+a+"M0,0L-"+a+",-"+c+"H"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(b,f,k){if(e(f))return i;var a=E(b*2,2),c=E(b,2);return h(f,k,"M0,-"+c+"V"+c+"M0,0L"+a+",-"+c+"V"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(b,f,k){if(e(f))return i;var a=E(b*2,2),c=E(b,2);return h(f,k,"M0,-"+c+"V"+c+"M0,0L-"+a+",-"+c+"V"+c+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(b,f,k){if(e(f))return i;var a=d/2.5,c=2*b*v(a),p=2*b*r(a);return h(f,k,"M0,0L"+-c+","+p+"L"+c+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(b,f,k){if(e(f))return i;var a=d/4,c=2*b*v(a),p=2*b*r(a);return h(f,k,"M0,0L"+-c+","+p+"A "+2*b+","+2*b+" 0 0 1 "+c+","+p+"Z")},backoff:.4,noDot:!0}};function e(b){return b===null}var s,n,l,o;function h(b,f,k){if((!b||b%360===0)&&!f)return k;if(l===b&&o===f&&s===k)return n;l=b,o=f,s=k;function a(O,N){var z=v(O),F=r(O),I=N[0],j=N[1]+(f||0);return[I*z-j*F,I*F+j*z]}for(var c=b/180*d,p=0,w=0,S=x(k),_="",T=0;T<S.length;T++){var P=S[T],u=P[0],g=p,L=w;if(u==="M"||u==="L")p=+P[1],w=+P[2];else if(u==="m"||u==="l")p+=+P[1],w+=+P[2];else if(u==="H")p=+P[1];else if(u==="h")p+=+P[1];else if(u==="V")w=+P[1];else if(u==="v")w+=+P[1];else if(u==="A"){p=+P[1],w=+P[2];var A=a(c,[+P[6],+P[7]]);P[6]=A[0],P[7]=A[1],P[3]=+P[3]+b}(u==="H"||u==="V")&&(u="L"),(u==="h"||u==="v")&&(u="l"),(u==="m"||u==="l")&&(p-=g,w-=L);var R=a(c,[p,w]);(u==="H"||u==="V")&&(u="L"),(u==="M"||u==="L"||u==="m"||u==="l")&&(P[1]=R[0],P[2]=R[1]),P[0]=u,_+=P[0]+P.slice(1).join(",")}return n=_,_}},97644:function(X){X.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(X,B,t){var x=t(38248),E=t(24040),i=t(54460),M=t(3400),m=t(93792);X.exports=function(v){for(var r=v.calcdata,e=0;e<r.length;e++){var s=r[e],n=s[0].trace;if(n.visible===!0&&E.traceIs(n,"errorBarsOK")){var l=i.getFromId(v,n.xaxis),o=i.getFromId(v,n.yaxis);d(s,n,l,"x"),d(s,n,o,"y")}}};function d(v,r,e,s){var n=r["error_"+s]||{},l=n.visible&&["linear","log"].indexOf(e.type)!==-1,o=[];if(l){for(var h=m(n),b=0;b<v.length;b++){var f=v[b],k=f.i;if(k===void 0)k=b;else if(k===null)continue;var a=f[s];if(x(e.c2l(a))){var c=h(a,k);if(x(c[0])&&x(c[1])){var p=f[s+"s"]=a-c[0],w=f[s+"h"]=a+c[1];o.push(p,w)}}}var S=e._id,_=r._extremes[S],T=i.findExtremes(e,o,M.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(T.min),_.max=_.max.concat(T.max)}}},93792:function(X){X.exports=function(t){var x=t.type,E=t.symmetric;if(x==="data"){var i=t.array||[];if(E)return function(v,r){var e=+i[r];return[e,e]};var M=t.arrayminus||[];return function(v,r){var e=+i[r],s=+M[r];return!isNaN(e)||!isNaN(s)?[s||0,e||0]:[NaN,NaN]}}else{var m=B(x,t.value),d=B(x,t.valueminus);return E||t.valueminus===void 0?function(v){var r=m(v);return[r,r]}:function(v){return[d(v),m(v)]}}};function B(t,x){if(t==="percent")return function(E){return Math.abs(E*x/100)};if(t==="constant")return function(){return Math.abs(x)};if(t==="sqrt")return function(E){return Math.sqrt(Math.abs(E))}}},65200:function(X,B,t){var x=t(38248),E=t(24040),i=t(3400),M=t(31780),m=t(97644);X.exports=function(d,v,r,e){var s="error_"+e.axis,n=M.newContainer(v,s),l=d[s]||{};function o(p,w){return i.coerce(l,n,m,p,w)}var h=l.array!==void 0||l.value!==void 0||l.type==="sqrt",b=o("visible",h);if(b!==!1){var f=o("type","array"in l?"data":"percent"),k=!0;f!=="sqrt"&&(k=o("symmetric",!((f==="data"?"arrayminus":"valueminus")in l))),f==="data"?(o("array"),o("traceref"),k||(o("arrayminus"),o("tracerefminus"))):(f==="percent"||f==="constant")&&(o("value"),k||o("valueminus"));var a="copy_"+e.inherit+"style";if(e.inherit){var c=v["error_"+e.inherit];(c||{}).visible&&o(a,!(l.color||x(l.thickness)||x(l.width)))}(!e.inherit||!n[a])&&(o("color",r),o("thickness"),o("width",E.traceIs(v,"gl3d")?0:4))}}},64968:function(X,B,t){var x=t(3400),E=t(67824).overrideAll,i=t(97644),M={error_x:x.extendFlat({},i),error_y:x.extendFlat({},i)};delete M.error_x.copy_zstyle,delete M.error_y.copy_zstyle,delete M.error_y.copy_ystyle;var m={error_x:x.extendFlat({},i),error_y:x.extendFlat({},i),error_z:x.extendFlat({},i)};delete m.error_x.copy_ystyle,delete m.error_y.copy_ystyle,delete m.error_z.copy_ystyle,delete m.error_z.copy_zstyle,X.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:M,bar:M,histogram:M,scatter3d:E(m,"calc","nested"),scattergl:E(M,"calc","nested")}},supplyDefaults:t(65200),calc:t(14880),makeComputeError:t(93792),plot:t(78512),style:t(92036),hoverInfo:d};function d(v,r,e){(r.error_y||{}).visible&&(e.yerr=v.yh-v.y,r.error_y.symmetric||(e.yerrneg=v.y-v.ys)),(r.error_x||{}).visible&&(e.xerr=v.xh-v.x,r.error_x.symmetric||(e.xerrneg=v.x-v.xs))}},78512:function(X,B,t){var x=t(33428),E=t(38248),i=t(43616),M=t(43028);X.exports=function(d,v,r,e){var s,n=r.xaxis,l=r.yaxis,o=e&&e.duration>0,h=d._context.staticPlot;v.each(function(b){var f=b[0].trace,k=f.error_x||{},a=f.error_y||{},c;f.ids&&(c=function(_){return _.id});var p=M.hasMarkers(f)&&f.marker.maxdisplayed>0;!a.visible&&!k.visible&&(b=[]);var w=x.select(this).selectAll("g.errorbar").data(b,c);if(w.exit().remove(),!!b.length){k.visible||w.selectAll("path.xerror").remove(),a.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var S=w.enter().append("g").classed("errorbar",!0);o&&S.style("opacity",0).transition().duration(e.duration).style("opacity",1),i.setClipUrl(w,r.layerClipId,d),w.each(function(_){var T=x.select(this),P=m(_,n,l);if(!(p&&!_.vis)){var u,g=T.select("path.yerror");if(a.visible&&E(P.x)&&E(P.yh)&&E(P.ys)){var L=a.width;u="M"+(P.x-L)+","+P.yh+"h"+2*L+"m-"+L+",0V"+P.ys,P.noYS||(u+="m-"+L+",0h"+2*L),s=!g.size(),s?g=T.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("yerror",!0):o&&(g=g.transition().duration(e.duration).ease(e.easing)),g.attr("d",u)}else g.remove();var A=T.select("path.xerror");if(k.visible&&E(P.y)&&E(P.xh)&&E(P.xs)){var R=(k.copy_ystyle?a:k).width;u="M"+P.xh+","+(P.y-R)+"v"+2*R+"m0,-"+R+"H"+P.xs,P.noXS||(u+="m0,-"+R+"v"+2*R),s=!A.size(),s?A=T.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("xerror",!0):o&&(A=A.transition().duration(e.duration).ease(e.easing)),A.attr("d",u)}else A.remove()}})}})};function m(d,v,r){var e={x:v.c2p(d.x),y:r.c2p(d.y)};return d.yh!==void 0&&(e.yh=r.c2p(d.yh),e.ys=r.c2p(d.ys),E(e.ys)||(e.noYS=!0,e.ys=r.c2p(d.ys,!0))),d.xh!==void 0&&(e.xh=v.c2p(d.xh),e.xs=v.c2p(d.xs),E(e.xs)||(e.noXS=!0,e.xs=v.c2p(d.xs,!0))),e}},92036:function(X,B,t){var x=t(33428),E=t(76308);X.exports=function(i){i.each(function(M){var m=M[0].trace,d=m.error_y||{},v=m.error_x||{},r=x.select(this);r.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(E.stroke,d.color),v.copy_ystyle&&(v=d),r.selectAll("path.xerror").style("stroke-width",v.thickness+"px").call(E.stroke,v.color)})}},55756:function(X,B,t){var x=t(25376),E=t(65460).hoverlabel,i=t(92880).extendFlat;X.exports={hoverlabel:{bgcolor:i({},E.bgcolor,{arrayOk:!0}),bordercolor:i({},E.bordercolor,{arrayOk:!0}),font:x({arrayOk:!0,editType:"none"}),align:i({},E.align,{arrayOk:!0}),namelength:i({},E.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(X,B,t){var x=t(3400),E=t(24040);X.exports=function(M){var m=M.calcdata,d=M._fullLayout;function v(l){return function(o){return x.coerceHoverinfo({hoverinfo:o},{_module:l._module},d)}}for(var r=0;r<m.length;r++){var e=m[r],s=e[0].trace;if(!E.traceIs(s,"pie-like")){var n=E.traceIs(s,"2dMap")?i:x.fillArray;n(s.hoverinfo,e,"hi",v(s)),s.hovertemplate&&n(s.hovertemplate,e,"ht"),s.hoverlabel&&(n(s.hoverlabel.bgcolor,e,"hbg"),n(s.hoverlabel.bordercolor,e,"hbc"),n(s.hoverlabel.font.size,e,"hts"),n(s.hoverlabel.font.color,e,"htc"),n(s.hoverlabel.font.family,e,"htf"),n(s.hoverlabel.namelength,e,"hnl"),n(s.hoverlabel.align,e,"hta"))}}};function i(M,m,d,v){v=v||x.identity,Array.isArray(M)&&(m[0][d]=v(M))}},62376:function(X,B,t){var x=t(24040),E=t(83292).hover;X.exports=function(i,M,m){var d=x.getComponentMethod("annotations","onClick")(i,i._hoverdata);m!==void 0&&E(i,M,m,!0);function v(){i.emit("plotly_click",{points:i._hoverdata,event:M})}i._hoverdata&&M&&M.target&&(d&&d.then?d.then(v):v(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},92456:function(X){X.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(X,B,t){var x=t(3400),E=t(55756),i=t(16132);X.exports=function(M,m,d,v){function r(s,n){return x.coerce(M,m,E,s,n)}var e=x.extendFlat({},v.hoverlabel);m.hovertemplate&&(e.namelength=-1),i(M,m,r,e)}},10624:function(X,B,t){var x=t(3400);B.getSubplot=function(v){return v.subplot||v.xaxis+v.yaxis||v.geo},B.isTraceInSubplots=function(v,r){if(v.type==="splom"){for(var e=v.xaxes||[],s=v.yaxes||[],n=0;n<e.length;n++)for(var l=0;l<s.length;l++)if(r.indexOf(e[n]+s[l])!==-1)return!0;return!1}return r.indexOf(B.getSubplot(v))!==-1},B.flat=function(v,r){for(var e=new Array(v.length),s=0;s<v.length;s++)e[s]=r;return e},B.p2c=function(v,r){for(var e=new Array(v.length),s=0;s<v.length;s++)e[s]=v[s].p2c(r);return e},B.getDistanceFunction=function(v,r,e,s){return v==="closest"?s||B.quadrature(r,e):v.charAt(0)==="x"?r:e},B.getClosest=function(v,r,e){if(e.index!==!1)e.index>=0&&e.index<v.length?e.distance=0:e.index=!1;else for(var s=0;s<v.length;s++){var n=r(v[s]);n<=e.distance&&(e.index=s,e.distance=n)}return e},B.inbox=function(v,r,e){return v*r<0||v===0?e:1/0},B.quadrature=function(v,r){return function(e){var s=v(e),n=r(e);return Math.sqrt(s*s+n*n)}},B.makeEventData=function(v,r,e){var s="index"in v?v.index:v.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:s};if(r._indexToPoints){var l=r._indexToPoints[s];l.length===1?n.pointIndex=l[0]:n.pointIndices=l}else n.pointIndex=s;return r._module.eventData?n=r._module.eventData(n,v,r,e,s):("xVal"in v?n.x=v.xVal:"x"in v&&(n.x=v.x),"yVal"in v?n.y=v.yVal:"y"in v&&(n.y=v.y),v.xa&&(n.xaxis=v.xa),v.ya&&(n.yaxis=v.ya),v.zLabelVal!==void 0&&(n.z=v.zLabelVal)),B.appendArrayPointValue(n,r,s),n},B.appendArrayPointValue=function(v,r,e){var s=r._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var l=s[n],o=i(l);if(v[o]===void 0){var h=x.nestedProperty(r,l).get(),b=M(h,e);b!==void 0&&(v[o]=b)}}},B.appendArrayMultiPointValues=function(v,r,e){var s=r._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var l=s[n],o=i(l);if(v[o]===void 0){for(var h=x.nestedProperty(r,l).get(),b=new Array(e.length),f=0;f<e.length;f++)b[f]=M(h,e[f]);v[o]=b}}};var E={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(v){return E[v]||v}function M(v,r){if(Array.isArray(r)){if(Array.isArray(v)&&Array.isArray(v[r[0]]))return v[r[0]][r[1]]}else return v[r]}var m={x:!0,y:!0},d={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(v){return typeof v!="string"?!1:!!d[v]},B.isXYhover=function(v){return typeof v!="string"?!1:!!m[v]}},83292:function(X,B,t){var x=t(33428),E=t(38248),i=t(49760),M=t(3400),m=M.strTranslate,d=M.strRotate,v=t(95924),r=t(72736),e=t(72213),s=t(43616),n=t(76308),l=t(86476),o=t(54460),h=t(24040),b=t(10624),f=t(92456),k=t(77864),a=t(31140),c=f.YANGLE,p=Math.PI*c/180,w=1/Math.sin(p),S=Math.cos(p),_=Math.sin(p),T=f.HOVERARROWSIZE,P=f.HOVERTEXTPAD,u={box:!0,ohlc:!0,violin:!0,candlestick:!0},g={scatter:!0,scattergl:!0,splom:!0};B.hover=function(tt,st,Q,G){tt=M.getGraphDiv(tt);var ut=st.target;M.throttle(tt._fullLayout._uid+f.HOVERID,f.HOVERMINTIME,function(){L(tt,st,Q,G,ut)})},B.loneHover=function(tt,st){var Q=!0;Array.isArray(tt)||(Q=!1,tt=[tt]);var G=st.gd,ut=J(G),at=it(G),dt=tt.map(function(Rt){var Ht=Rt._x0||Rt.x0||Rt.x||0,Dt=Rt._x1||Rt.x1||Rt.x||0,Xt=Rt._y0||Rt.y0||Rt.y||0,se=Rt._y1||Rt.y1||Rt.y||0,Yt=Rt.eventData;if(Yt){var ue=Math.min(Ht,Dt),ie=Math.max(Ht,Dt),fe=Math.min(Xt,se),ce=Math.max(Xt,se),ye=Rt.trace;if(h.traceIs(ye,"gl3d")){var de=G._fullLayout[ye.scene]._scene.container,Te=de.offsetLeft,Et=de.offsetTop;ue+=Te,ie+=Te,fe+=Et,ce+=Et}Yt.bbox={x0:ue+at,x1:ie+at,y0:fe+ut,y1:ce+ut},st.inOut_bbox&&st.inOut_bbox.push(Yt.bbox)}else Yt=!1;return{color:Rt.color||n.defaultLine,x0:Rt.x0||Rt.x||0,x1:Rt.x1||Rt.x||0,y0:Rt.y0||Rt.y||0,y1:Rt.y1||Rt.y||0,xLabel:Rt.xLabel,yLabel:Rt.yLabel,zLabel:Rt.zLabel,text:Rt.text,name:Rt.name,idealAlign:Rt.idealAlign,borderColor:Rt.borderColor,fontFamily:Rt.fontFamily,fontSize:Rt.fontSize,fontColor:Rt.fontColor,nameLength:Rt.nameLength,textAlign:Rt.textAlign,trace:Rt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Rt.hovertemplate||!1,hovertemplateLabels:Rt.hovertemplateLabels||!1,eventData:Yt}}),gt=!1,wt=O(dt,{gd:G,hovermode:"closest",rotateLabels:gt,bgColor:st.bgColor||n.background,container:x.select(st.container),outerContainer:st.outerContainer||st.container}),kt=wt.hoverLabels,Ot=5,bt=0,_t=0;kt.sort(function(Rt,Ht){return Rt.y0-Ht.y0}).each(function(Rt,Ht){var Dt=Rt.y0-Rt.by/2;Dt-Ot<bt?Rt.offset=bt-Dt+Ot:Rt.offset=0,bt=Dt+Rt.by+Rt.offset,Ht===st.anchorIndex&&(_t=Rt.offset)}).each(function(Rt){Rt.offset-=_t});var mt=G._fullLayout._invScaleX,Pt=G._fullLayout._invScaleY;return j(kt,gt,mt,Pt),Q?kt:kt.node()};function L(tt,st,Q,G,ut){Q||(Q="xy");var at=Array.isArray(Q)?Q:[Q],dt=tt._fullLayout,gt=dt._plots||[],wt=gt[Q],kt=dt._has("cartesian");if(wt){var Ot=wt.overlays.map(function(Er){return Er.id});at=at.concat(Ot)}for(var bt=at.length,_t=new Array(bt),mt=new Array(bt),Pt=!1,Rt=0;Rt<bt;Rt++){var Ht=at[Rt];if(gt[Ht])Pt=!0,_t[Rt]=gt[Ht].xaxis,mt[Rt]=gt[Ht].yaxis;else if(dt[Ht]&&dt[Ht]._subplot){var Dt=dt[Ht]._subplot;_t[Rt]=Dt.xaxis,mt[Rt]=Dt.yaxis}else{M.warn("Unrecognized subplot: "+Ht);return}}var Xt=st.hovermode||dt.hovermode;if(Xt&&!Pt&&(Xt="closest"),["x","y","closest","x unified","y unified"].indexOf(Xt)===-1||!tt.calcdata||tt.querySelector(".zoombox")||tt._dragging)return l.unhoverRaw(tt,st);var se=dt.hoverdistance;se===-1&&(se=1/0);var Yt=dt.spikedistance;Yt===-1&&(Yt=1/0);var ue=[],ie=[],fe,ce,ye,de,Te,Et,Vt,te,Jt,Ut,It,pt,xt,Ct={hLinePoint:null,vLinePoint:null},At=!1;if(Array.isArray(st))for(Xt="array",ye=0;ye<st.length;ye++)Te=tt.calcdata[st[ye].curveNumber||0],Te&&(Et=Te[0].trace,Te[0].trace.hoverinfo!=="skip"&&(ie.push(Te),Et.orientation==="h"&&(At=!0)));else{for(de=0;de<tt.calcdata.length;de++)Te=tt.calcdata[de],Et=Te[0].trace,Et.hoverinfo!=="skip"&&b.isTraceInSubplots(Et,at)&&(ie.push(Te),Et.orientation==="h"&&(At=!0));var Ft=!ut,Wt,Qt;if(Ft)"xpx"in st?Wt=st.xpx:Wt=_t[0]._length/2,"ypx"in st?Qt=st.ypx:Qt=mt[0]._length/2;else{if(v.triggerHandler(tt,"plotly_beforehover",st)===!1)return;var he=ut.getBoundingClientRect();Wt=st.clientX-he.left,Qt=st.clientY-he.top,dt._calcInverseTransform(tt);var ve=M.apply3DTransform(dt._invTransform)(Wt,Qt);if(Wt=ve[0],Qt=ve[1],Wt<0||Wt>_t[0]._length||Qt<0||Qt>mt[0]._length)return l.unhoverRaw(tt,st)}if(st.pointerX=Wt+_t[0]._offset,st.pointerY=Qt+mt[0]._offset,"xval"in st?fe=b.flat(at,st.xval):fe=b.p2c(_t,Wt),"yval"in st?ce=b.flat(at,st.yval):ce=b.p2c(mt,Qt),!E(fe[0])||!E(ce[0]))return M.warn("Fx.hover failed",st,tt),l.unhoverRaw(tt,st)}var Je=1/0;function Ue(Er,Vr){for(de=0;de<ie.length;de++)if(Te=ie[de],!(!Te||!Te[0]||!Te[0].trace)&&(Et=Te[0].trace,!(Et.visible!==!0||Et._length===0)&&["carpet","contourcarpet"].indexOf(Et._module.name)===-1)){if(Et.type==="splom"?(te=0,Vt=at[te]):(Vt=b.getSubplot(Et),te=at.indexOf(Vt)),Jt=Xt,b.isUnifiedHover(Jt)&&(Jt=Jt.charAt(0)),pt={cd:Te,trace:Et,xa:_t[te],ya:mt[te],maxHoverDistance:se,maxSpikeDistance:Yt,index:!1,distance:Math.min(Je,se),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Et.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},dt[Vt]&&(pt.subplot=dt[Vt]._subplot),dt._splomScenes&&dt._splomScenes[Et.uid]&&(pt.scene=dt._splomScenes[Et.uid]),xt=ue.length,Jt==="array"){var qr=st[de];"pointNumber"in qr?(pt.index=qr.pointNumber,Jt="closest"):(Jt="","xval"in qr&&(Ut=qr.xval,Jt="x"),"yval"in qr&&(It=qr.yval,Jt=Jt?"closest":"y"))}else Er!==void 0&&Vr!==void 0?(Ut=Er,It=Vr):(Ut=fe[te],It=ce[te]);if(se!==0)if(Et._module&&Et._module.hoverPoints){var rn=Et._module.hoverPoints(pt,Ut,It,Jt,{finiteRange:!0,hoverLayer:dt._hoverlayer});if(rn)for(var gn,ln=0;ln<rn.length;ln++)gn=rn[ln],E(gn.x0)&&E(gn.y0)&&ue.push(V(gn,Xt))}else M.log("Unrecognized trace type in hover:",Et);if(Xt==="closest"&&ue.length>xt&&(ue.splice(0,xt),Je=ue[0].distance),kt&&Yt!==0&&ue.length===0){pt.distance=Yt,pt.index=!1;var zn=Et._module.hoverPoints(pt,Ut,It,"closest",{hoverLayer:dt._hoverlayer});if(zn&&(zn=zn.filter(function(ri){return ri.spikeDistance<=Yt})),zn&&zn.length){var Rn,ai=zn.filter(function(ri){return ri.xa.showspikes&&ri.xa.spikesnap!=="hovered data"});if(ai.length){var fi=ai[0];E(fi.x0)&&E(fi.y0)&&(Rn=Le(fi),(!Ct.vLinePoint||Ct.vLinePoint.spikeDistance>Rn.spikeDistance)&&(Ct.vLinePoint=Rn))}var mi=zn.filter(function(ri){return ri.ya.showspikes&&ri.ya.spikesnap!=="hovered data"});if(mi.length){var li=mi[0];E(li.x0)&&E(li.y0)&&(Rn=Le(li),(!Ct.hLinePoint||Ct.hLinePoint.spikeDistance>Rn.spikeDistance)&&(Ct.hLinePoint=Rn))}}}}}Ue();function ke(Er,Vr,qr){for(var rn=null,gn=1/0,ln,zn=0;zn<Er.length;zn++)ln=Er[zn].spikeDistance,qr&&zn===0&&(ln=-1/0),ln<=gn&&ln<=Vr&&(rn=Er[zn],gn=ln);return rn}function Le(Er){return Er?{xa:Er.xa,ya:Er.ya,x:Er.xSpike!==void 0?Er.xSpike:(Er.x0+Er.x1)/2,y:Er.ySpike!==void 0?Er.ySpike:(Er.y0+Er.y1)/2,distance:Er.distance,spikeDistance:Er.spikeDistance,curveNumber:Er.trace.index,color:Er.color,pointNumber:Er.index}:null}var Ge={fullLayout:dt,container:dt._hoverlayer,event:st},mr=tt._spikepoints,xe={vLinePoint:Ct.vLinePoint,hLinePoint:Ct.hLinePoint};tt._spikepoints=xe;var Xe=function(){ue.sort(function(Er,Vr){return Er.distance-Vr.distance}),ue=ot(ue,Xt)};Xe();var Ye=Xt.charAt(0),_r=(Ye==="x"||Ye==="y")&&ue[0]&&g[ue[0].trace.type];if(kt&&Yt!==0&&ue.length!==0){var rr=ue.filter(function(Er){return Er.ya.showspikes}),re=ke(rr,Yt,_r);Ct.hLinePoint=Le(re);var le=ue.filter(function(Er){return Er.xa.showspikes}),me=ke(le,Yt,_r);Ct.vLinePoint=Le(me)}if(ue.length===0){var Ee=l.unhoverRaw(tt,st);return kt&&(Ct.hLinePoint!==null||Ct.vLinePoint!==null)&&et(mr)&&W(tt,Ct,Ge),Ee}if(kt&&et(mr)&&W(tt,Ct,Ge),b.isXYhover(Jt)&&ue[0].length!==0&&ue[0].trace.type!=="splom"){var ze=ue[0];u[ze.trace.type]?ue=ue.filter(function(Er){return Er.trace.index===ze.trace.index}):ue=[ze];var Oe=ue.length,Fe=q("x",ze,dt),Re=q("y",ze,dt);Ue(Fe,Re);var Ke=[],or={},pr=0,hr=function(Er){var Vr=u[Er.trace.type]?A(Er):Er.trace.index;if(!or[Vr])pr++,or[Vr]=pr,Ke.push(Er);else{var qr=or[Vr]-1,rn=Ke[qr];qr>0&&Math.abs(Er.distance)<Math.abs(rn.distance)&&(Ke[qr]=Er)}},jt;for(jt=0;jt<Oe;jt++)hr(ue[jt]);for(jt=ue.length-1;jt>Oe-1;jt--)hr(ue[jt]);ue=Ke,Xe()}var Gt=tt._hoverdata,Ce=[],Ie=J(tt),We=it(tt);for(ye=0;ye<ue.length;ye++){var $e=ue[ye],ir=b.makeEventData($e,$e.trace,$e.cd);if($e.hovertemplate!==!1){var er=!1;$e.cd[$e.index]&&$e.cd[$e.index].ht&&(er=$e.cd[$e.index].ht),$e.hovertemplate=er||$e.trace.hovertemplate||!1}if($e.xa&&$e.ya){var De=$e.x0+$e.xa._offset,lr=$e.x1+$e.xa._offset,vr=$e.y0+$e.ya._offset,dr=$e.y1+$e.ya._offset,fr=Math.min(De,lr),zr=Math.max(De,lr),Or=Math.min(vr,dr),Ir=Math.max(vr,dr);ir.bbox={x0:fr+We,x1:zr+We,y0:Or+Ie,y1:Ir+Ie}}$e.eventData=[ir],Ce.push(ir)}tt._hoverdata=Ce;var sn=Xt==="y"&&(ie.length>1||ue.length>1)||Xt==="closest"&&At&&ue.length>1,nn=n.combine(dt.plot_bgcolor||n.background,dt.paper_bgcolor),kn=O(ue,{gd:tt,hovermode:Xt,rotateLabels:sn,bgColor:nn,container:dt._hoverlayer,outerContainer:dt._paper.node(),commonLabelOpts:dt.hoverlabel,hoverdistance:dt.hoverdistance}),Mn=kn.hoverLabels;if(b.isUnifiedHover(Xt)||(z(Mn,sn,dt,kn.commonLabelBoundingBox),j(Mn,sn,dt._invScaleX,dt._invScaleY)),ut&&ut.tagName){var kr=h.getComponentMethod("annotations","hasClickToShow")(tt,Ce);e(x.select(ut),kr?"pointer":"")}!ut||G||!K(tt,st,Gt)||(Gt&&tt.emit("plotly_unhover",{event:st,points:Gt}),tt.emit("plotly_hover",{event:st,points:tt._hoverdata,xaxes:_t,yaxes:mt,xvals:fe,yvals:ce}))}function A(tt){return[tt.trace.index,tt.index,tt.x0,tt.y0,tt.name,tt.attr,tt.xa?tt.xa._id:"",tt.ya?tt.ya._id:""].join(",")}var R=/<extra>([\s\S]*)<\/extra>/;function O(tt,st){var Q=st.gd,G=Q._fullLayout,ut=st.hovermode,at=st.rotateLabels,dt=st.bgColor,gt=st.container,wt=st.outerContainer,kt=st.commonLabelOpts||{};if(tt.length===0)return[[]];var Ot=st.fontFamily||f.HOVERFONT,bt=st.fontSize||f.HOVERFONTSIZE,_t=tt[0],mt=_t.xa,Pt=_t.ya,Rt=ut.charAt(0),Ht=Rt+"Label",Dt=_t[Ht];if(Dt===void 0&&mt.type==="multicategory")for(var Xt=0;Xt<tt.length&&(Dt=tt[Xt][Ht],Dt===void 0);Xt++);var se=Z(Q,wt),Yt=se.top,ue=se.width,ie=se.height,fe=Dt!==void 0&&_t.distance<=st.hoverdistance&&(ut==="x"||ut==="y");if(fe){var ce=!0,ye,de;for(ye=0;ye<tt.length;ye++)if(ce&&tt[ye].zLabel===void 0&&(ce=!1),de=tt[ye].hoverinfo||tt[ye].trace.hoverinfo,de){var Te=Array.isArray(de)?de:de.split("+");if(Te.indexOf("all")===-1&&Te.indexOf(ut)===-1){fe=!1;break}}ce&&(fe=!1)}var Et=gt.selectAll("g.axistext").data(fe?[0]:[]);Et.enter().append("g").classed("axistext",!0),Et.exit().remove();var Vt={minX:0,maxX:0,minY:0,maxY:0};if(Et.each(function(){var Oe=x.select(this),Fe=M.ensureSingle(Oe,"path","",function(Ir){Ir.style({"stroke-width":"1px"})}),Re=M.ensureSingle(Oe,"text","",function(Ir){Ir.attr("data-notex",1)}),Ke=kt.bgcolor||n.defaultLine,or=kt.bordercolor||n.contrast(Ke),pr=n.contrast(Ke),hr={family:kt.font.family||Ot,size:kt.font.size||bt,color:kt.font.color||pr};Fe.style({fill:Ke,stroke:or}),Re.text(Dt).call(s.font,hr).call(r.positionText,0,0).call(r.convertToTspans,Q),Oe.attr("transform","");var jt=Z(Q,Re.node()),Gt,Ce;if(ut==="x"){var Ie=mt.side==="top"?"-":"";Re.attr("text-anchor","middle").call(r.positionText,0,mt.side==="top"?Yt-jt.bottom-T-P:Yt-jt.top+T+P),Gt=mt._offset+(_t.x0+_t.x1)/2,Ce=Pt._offset+(mt.side==="top"?0:Pt._length);var We=jt.width/2+P,$e=Gt;Gt<We?$e=We:Gt>G.width-We&&($e=G.width-We),Fe.attr("d","M"+(Gt-$e)+",0L"+(Gt-$e+T)+","+Ie+T+"H"+We+"v"+Ie+(P*2+jt.height)+"H"+-We+"V"+Ie+T+"H"+(Gt-$e-T)+"Z"),Gt=$e,Vt.minX=Gt-We,Vt.maxX=Gt+We,mt.side==="top"?(Vt.minY=Ce-(P*2+jt.height),Vt.maxY=Ce-P):(Vt.minY=Ce+P,Vt.maxY=Ce+(P*2+jt.height))}else{var ir,er,De;Pt.side==="right"?(ir="start",er=1,De="",Gt=mt._offset+mt._length):(ir="end",er=-1,De="-",Gt=mt._offset),Ce=Pt._offset+(_t.y0+_t.y1)/2,Re.attr("text-anchor",ir),Fe.attr("d","M0,0L"+De+T+","+T+"V"+(P+jt.height/2)+"h"+De+(P*2+jt.width)+"V-"+(P+jt.height/2)+"H"+De+T+"V-"+T+"Z"),Vt.minY=Ce-(P+jt.height/2),Vt.maxY=Ce+(P+jt.height/2),Pt.side==="right"?(Vt.minX=Gt+T,Vt.maxX=Gt+T+(P*2+jt.width)):(Vt.minX=Gt-T-(P*2+jt.width),Vt.maxX=Gt-T);var lr=jt.height/2,vr=Yt-jt.top-lr,dr="clip"+G._uid+"commonlabel"+Pt._id,fr;if(Gt<jt.width+2*P+T){fr="M-"+(T+P)+"-"+lr+"h-"+(jt.width-P)+"V"+lr+"h"+(jt.width-P)+"Z";var zr=jt.width-Gt+P;r.positionText(Re,zr,vr),ir==="end"&&Re.selectAll("tspan").each(function(){var Ir=x.select(this),sn=s.tester.append("text").text(Ir.text()).call(s.font,hr),nn=Z(Q,sn.node());Math.round(nn.width)<Math.round(jt.width)&&Ir.attr("x",zr-nn.width),sn.remove()})}else r.positionText(Re,er*(P+T),vr),fr=null;var Or=G._topclips.selectAll("#"+dr).data(fr?[0]:[]);Or.enter().append("clipPath").attr("id",dr).append("path"),Or.exit().remove(),Or.select("path").attr("d",fr),s.setClipUrl(Re,fr?dr:null,Q)}Oe.attr("transform",m(Gt,Ce))}),b.isUnifiedHover(ut)){gt.selectAll("g.hovertext").remove();var te=tt.filter(function(Oe){return Oe.hoverinfo!=="none"});if(te.length===0)return[];var Jt=G.hoverlabel,Ut=Jt.font,It={showlegend:!0,legend:{title:{text:Dt,font:Ut},font:Ut,bgcolor:Jt.bgcolor,bordercolor:Jt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:G.legend?G.legend.traceorder:void 0,orientation:"v"}},pt={font:Ut};k(It,pt,Q._fullData);var xt=pt.legend;xt.entries=[];for(var Ct=0;Ct<te.length;Ct++){var At=te[Ct];if(At.hoverinfo!=="none"){var Ft=N(At,!0,ut,G,Dt),Wt=Ft[0],Qt=Ft[1];At.name=Qt,Qt!==""?At.text=Qt+" : "+Wt:At.text=Wt;var he=At.cd[At.index];he&&(he.mc&&(At.mc=he.mc),he.mcc&&(At.mc=he.mcc),he.mlc&&(At.mlc=he.mlc),he.mlcc&&(At.mlc=he.mlcc),he.mlw&&(At.mlw=he.mlw),he.mrc&&(At.mrc=he.mrc),he.dir&&(At.dir=he.dir)),At._distinct=!0,xt.entries.push([At])}}xt.entries.sort(function(Oe,Fe){return Oe[0].trace.index-Fe[0].trace.index}),xt.layer=gt,xt._inHover=!0,xt._groupTitleFont=Jt.grouptitlefont,a(Q,xt);var ve=gt.select("g.legend"),Je=Z(Q,ve.node()),Ue=Je.width+2*P,ke=Je.height+2*P,Le=te[0],Ge=(Le.x0+Le.x1)/2,mr=(Le.y0+Le.y1)/2,xe=!(h.traceIs(Le.trace,"bar-like")||h.traceIs(Le.trace,"box-violin")),Xe,Ye;Rt==="y"?xe?(Ye=mr-P,Xe=mr+P):(Ye=Math.min.apply(null,te.map(function(Oe){return Math.min(Oe.y0,Oe.y1)})),Xe=Math.max.apply(null,te.map(function(Oe){return Math.max(Oe.y0,Oe.y1)}))):Ye=Xe=M.mean(te.map(function(Oe){return(Oe.y0+Oe.y1)/2}))-ke/2;var _r,rr;Rt==="x"?xe?(_r=Ge+P,rr=Ge-P):(_r=Math.max.apply(null,te.map(function(Oe){return Math.max(Oe.x0,Oe.x1)})),rr=Math.min.apply(null,te.map(function(Oe){return Math.min(Oe.x0,Oe.x1)}))):_r=rr=M.mean(te.map(function(Oe){return(Oe.x0+Oe.x1)/2}))-Ue/2;var re=mt._offset,le=Pt._offset;Xe+=le,_r+=re,rr+=re-Ue,Ye+=le-ke;var me,Ee;return _r+Ue<ue&&_r>=0?me=_r:rr+Ue<ue&&rr>=0?me=rr:re+Ue<ue?me=re:_r-Ge<Ge-rr+Ue?me=ue-Ue:me=0,me+=P,Xe+ke<ie&&Xe>=0?Ee=Xe:Ye+ke<ie&&Ye>=0?Ee=Ye:le+ke<ie?Ee=le:Xe-mr<mr-Ye+ke?Ee=ie-ke:Ee=0,Ee+=P,ve.attr("transform",m(me-1,Ee-1)),ve}var ze=gt.selectAll("g.hovertext").data(tt,function(Oe){return A(Oe)});return ze.enter().append("g").classed("hovertext",!0).each(function(){var Oe=x.select(this);Oe.append("rect").call(n.fill,n.addOpacity(dt,.8)),Oe.append("text").classed("name",!0),Oe.append("path").style("stroke-width","1px"),Oe.append("text").classed("nums",!0).call(s.font,Ot,bt)}),ze.exit().remove(),ze.each(function(Oe){var Fe=x.select(this).attr("transform",""),Re=Oe.color;Array.isArray(Re)&&(Re=Re[Oe.eventData[0].pointNumber]);var Ke=Oe.bgcolor||Re,or=n.combine(n.opacity(Ke)?Ke:n.defaultLine,dt),pr=n.combine(n.opacity(Re)?Re:n.defaultLine,dt),hr=Oe.borderColor||n.contrast(or),jt=N(Oe,fe,ut,G,Dt,Fe),Gt=jt[0],Ce=jt[1],Ie=Fe.select("text.nums").call(s.font,Oe.fontFamily||Ot,Oe.fontSize||bt,Oe.fontColor||hr).text(Gt).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q),We=Fe.select("text.name"),$e=0,ir=0;if(Ce&&Ce!==Gt){We.call(s.font,Oe.fontFamily||Ot,Oe.fontSize||bt,pr).text(Ce).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q);var er=Z(Q,We.node());$e=er.width+2*P,ir=er.height+2*P}else We.remove(),Fe.select("rect").remove();Fe.select("path").style({fill:or,stroke:hr});var De=Oe.xa._offset+(Oe.x0+Oe.x1)/2,lr=Oe.ya._offset+(Oe.y0+Oe.y1)/2,vr=Math.abs(Oe.x1-Oe.x0),dr=Math.abs(Oe.y1-Oe.y0),fr=Z(Q,Ie.node()),zr=fr.width/G._invScaleX,Or=fr.height/G._invScaleY;Oe.ty0=(Yt-fr.top)/G._invScaleY,Oe.bx=zr+2*P,Oe.by=Math.max(Or+2*P,ir),Oe.anchor="start",Oe.txwidth=zr,Oe.tx2width=$e,Oe.offset=0;var Ir=(zr+T+P+$e)*G._invScaleX,sn,nn;if(at)Oe.pos=De,sn=lr+dr/2+Ir<=ie,nn=lr-dr/2-Ir>=0,(Oe.idealAlign==="top"||!sn)&&nn?(lr-=dr/2,Oe.anchor="end"):sn?(lr+=dr/2,Oe.anchor="start"):Oe.anchor="middle",Oe.crossPos=lr;else{if(Oe.pos=lr,sn=De+vr/2+Ir<=ue,nn=De-vr/2-Ir>=0,(Oe.idealAlign==="left"||!sn)&&nn)De-=vr/2,Oe.anchor="end";else if(sn)De+=vr/2,Oe.anchor="start";else{Oe.anchor="middle";var kn=Ir/2,Mn=De+kn-ue,kr=De-kn;Mn>0&&(De-=Mn),kr<0&&(De+=-kr)}Oe.crossPos=De}Ie.attr("text-anchor",Oe.anchor),$e&&We.attr("text-anchor",Oe.anchor),Fe.attr("transform",m(De,lr)+(at?d(c):""))}),{hoverLabels:ze,commonLabelBoundingBox:Vt}}function N(tt,st,Q,G,ut,at){var dt="",gt="";tt.nameOverride!==void 0&&(tt.name=tt.nameOverride),tt.name&&(tt.trace._meta&&(tt.name=M.templateString(tt.name,tt.trace._meta)),dt=lt(tt.name,tt.nameLength));var wt=Q.charAt(0),kt=wt==="x"?"y":"x";tt.zLabel!==void 0?(tt.xLabel!==void 0&&(gt+="x: "+tt.xLabel+"<br>"),tt.yLabel!==void 0&&(gt+="y: "+tt.yLabel+"<br>"),tt.trace.type!=="choropleth"&&tt.trace.type!=="choroplethmapbox"&&(gt+=(gt?"z: ":"")+tt.zLabel)):st&&tt[wt+"Label"]===ut?gt=tt[kt+"Label"]||"":tt.xLabel===void 0?tt.yLabel!==void 0&&tt.trace.type!=="scattercarpet"&&(gt=tt.yLabel):tt.yLabel===void 0?gt=tt.xLabel:gt="("+tt.xLabel+", "+tt.yLabel+")",(tt.text||tt.text===0)&&!Array.isArray(tt.text)&&(gt+=(gt?"<br>":"")+tt.text),tt.extraText!==void 0&&(gt+=(gt?"<br>":"")+tt.extraText),at&&gt===""&&!tt.hovertemplate&&(dt===""&&at.remove(),gt=dt);var Ot=tt.hovertemplate||!1;if(Ot){var bt=tt.hovertemplateLabels||tt;tt[wt+"Label"]!==ut&&(bt[wt+"other"]=bt[wt+"Val"],bt[wt+"otherLabel"]=bt[wt+"Label"]),gt=M.hovertemplateString(Ot,bt,G._d3locale,tt.eventData[0]||{},tt.trace._meta),gt=gt.replace(R,function(_t,mt){return dt=lt(mt,tt.nameLength),""})}return[gt,dt]}function z(tt,st,Q,G){var ut=st?"xa":"ya",at=st?"ya":"xa",dt=0,gt=1,wt=tt.size(),kt=new Array(wt),Ot=0,bt=G.minX,_t=G.maxX,mt=G.minY,Pt=G.maxY,Rt=function(Ut){return Ut*Q._invScaleX},Ht=function(Ut){return Ut*Q._invScaleY};tt.each(function(Ut){var It=Ut[ut],pt=Ut[at],xt=It._id.charAt(0)==="x",Ct=It.range;Ot===0&&Ct&&Ct[0]>Ct[1]!==xt&&(gt=-1);var At=0,Ft=xt?Q.width:Q.height;if(Q.hovermode==="x"||Q.hovermode==="y"){var Wt=F(Ut,st),Qt=Ut.anchor,he=Qt==="end"?-1:1,ve,Je;if(Qt==="middle")ve=Ut.crossPos+(xt?Ht(Wt.y-Ut.by/2):Rt(Ut.bx/2+Ut.tx2width/2)),Je=ve+(xt?Ht(Ut.by):Rt(Ut.bx));else if(xt)ve=Ut.crossPos+Ht(T+Wt.y)-Ht(Ut.by/2-T),Je=ve+Ht(Ut.by);else{var Ue=Rt(he*T+Wt.x),ke=Ue+Rt(he*Ut.bx);ve=Ut.crossPos+Math.min(Ue,ke),Je=Ut.crossPos+Math.max(Ue,ke)}xt?mt!==void 0&&Pt!==void 0&&Math.min(Je,Pt)-Math.max(ve,mt)>1&&(pt.side==="left"?(At=pt._mainLinePosition,Ft=Q.width):Ft=pt._mainLinePosition):bt!==void 0&&_t!==void 0&&Math.min(Je,_t)-Math.max(ve,bt)>1&&(pt.side==="top"?(At=pt._mainLinePosition,Ft=Q.height):Ft=pt._mainLinePosition)}kt[Ot++]=[{datum:Ut,traceIndex:Ut.trace.index,dp:0,pos:Ut.pos,posref:Ut.posref,size:Ut.by*(xt?w:1)/2,pmin:At,pmax:Ft}]}),kt.sort(function(Ut,It){return Ut[0].posref-It[0].posref||gt*(It[0].traceIndex-Ut[0].traceIndex)});var Dt,Xt,se,Yt,ue,ie,fe;function ce(Ut){var It=Ut[0],pt=Ut[Ut.length-1];if(Xt=It.pmin-It.pos-It.dp+It.size,se=pt.pos+pt.dp+pt.size-It.pmax,Xt>.01){for(ue=Ut.length-1;ue>=0;ue--)Ut[ue].dp+=Xt;Dt=!1}if(!(se<.01)){if(Xt<-.01){for(ue=Ut.length-1;ue>=0;ue--)Ut[ue].dp-=se;Dt=!1}if(Dt){var xt=0;for(Yt=0;Yt<Ut.length;Yt++)ie=Ut[Yt],ie.pos+ie.dp+ie.size>It.pmax&&xt++;for(Yt=Ut.length-1;Yt>=0&&!(xt<=0);Yt--)ie=Ut[Yt],ie.pos>It.pmax-1&&(ie.del=!0,xt--);for(Yt=0;Yt<Ut.length&&!(xt<=0);Yt++)if(ie=Ut[Yt],ie.pos<It.pmin+1)for(ie.del=!0,xt--,se=ie.size*2,ue=Ut.length-1;ue>=0;ue--)Ut[ue].dp-=se;for(Yt=Ut.length-1;Yt>=0&&!(xt<=0);Yt--)ie=Ut[Yt],ie.pos+ie.dp+ie.size>It.pmax&&(ie.del=!0,xt--)}}}for(;!Dt&&dt<=wt;){for(dt++,Dt=!0,Yt=0;Yt<kt.length-1;){var ye=kt[Yt],de=kt[Yt+1],Te=ye[ye.length-1],Et=de[0];if(Xt=Te.pos+Te.dp+Te.size-Et.pos-Et.dp+Et.size,Xt>.01&&Te.pmin===Et.pmin&&Te.pmax===Et.pmax){for(ue=de.length-1;ue>=0;ue--)de[ue].dp+=Xt;for(ye.push.apply(ye,de),kt.splice(Yt+1,1),fe=0,ue=ye.length-1;ue>=0;ue--)fe+=ye[ue].dp;for(se=fe/ye.length,ue=ye.length-1;ue>=0;ue--)ye[ue].dp-=se;Dt=!1}else Yt++}kt.forEach(ce)}for(Yt=kt.length-1;Yt>=0;Yt--){var Vt=kt[Yt];for(ue=Vt.length-1;ue>=0;ue--){var te=Vt[ue],Jt=te.datum;Jt.offset=te.dp,Jt.del=te.del}}}function F(tt,st){var Q=0,G=tt.offset;return st&&(G*=-_,Q=tt.offset*S),{x:Q,y:G}}function I(tt){var st={start:1,end:-1,middle:0}[tt.anchor],Q=st*(T+P),G=Q+st*(tt.txwidth+P),ut=tt.anchor==="middle";return ut&&(Q-=tt.tx2width/2,G+=tt.txwidth/2+P),{alignShift:st,textShiftX:Q,text2ShiftX:G}}function j(tt,st,Q,G){var ut=function(dt){return dt*Q},at=function(dt){return dt*G};tt.each(function(dt){var gt=x.select(this);if(dt.del)return gt.remove();var wt=gt.select("text.nums"),kt=dt.anchor,Ot=kt==="end"?-1:1,bt=I(dt),_t=F(dt,st),mt=_t.x,Pt=_t.y,Rt=kt==="middle";gt.select("path").attr("d",Rt?"M-"+ut(dt.bx/2+dt.tx2width/2)+","+at(Pt-dt.by/2)+"h"+ut(dt.bx)+"v"+at(dt.by)+"h-"+ut(dt.bx)+"Z":"M0,0L"+ut(Ot*T+mt)+","+at(T+Pt)+"v"+at(dt.by/2-T)+"h"+ut(Ot*dt.bx)+"v-"+at(dt.by)+"H"+ut(Ot*T+mt)+"V"+at(Pt-T)+"Z");var Ht=mt+bt.textShiftX,Dt=Pt+dt.ty0-dt.by/2+P,Xt=dt.textAlign||"auto";Xt!=="auto"&&(Xt==="left"&&kt!=="start"?(wt.attr("text-anchor","start"),Ht=Rt?-dt.bx/2-dt.tx2width/2+P:-dt.bx-P):Xt==="right"&&kt!=="end"&&(wt.attr("text-anchor","end"),Ht=Rt?dt.bx/2-dt.tx2width/2-P:dt.bx+P)),wt.call(r.positionText,ut(Ht),at(Dt)),dt.tx2width&&(gt.select("text.name").call(r.positionText,ut(bt.text2ShiftX+bt.alignShift*P+mt),at(Pt+dt.ty0-dt.by/2+P)),gt.select("rect").call(s.setRect,ut(bt.text2ShiftX+(bt.alignShift-1)*dt.tx2width/2+mt),at(Pt-dt.by/2-1),ut(dt.tx2width),at(dt.by+2)))})}function V(tt,st){var Q=tt.index,G=tt.trace||{},ut=tt.cd[0],at=tt.cd[Q]||{};function dt(_t){return _t||E(_t)&&_t===0}var gt=Array.isArray(Q)?function(_t,mt){var Pt=M.castOption(ut,Q,_t);return dt(Pt)?Pt:M.extractOption({},G,"",mt)}:function(_t,mt){return M.extractOption(at,G,_t,mt)};function wt(_t,mt,Pt){var Rt=gt(mt,Pt);dt(Rt)&&(tt[_t]=Rt)}if(wt("hoverinfo","hi","hoverinfo"),wt("bgcolor","hbg","hoverlabel.bgcolor"),wt("borderColor","hbc","hoverlabel.bordercolor"),wt("fontFamily","htf","hoverlabel.font.family"),wt("fontSize","hts","hoverlabel.font.size"),wt("fontColor","htc","hoverlabel.font.color"),wt("nameLength","hnl","hoverlabel.namelength"),wt("textAlign","hta","hoverlabel.align"),tt.posref=st==="y"||st==="closest"&&G.orientation==="h"?tt.xa._offset+(tt.x0+tt.x1)/2:tt.ya._offset+(tt.y0+tt.y1)/2,tt.x0=M.constrain(tt.x0,0,tt.xa._length),tt.x1=M.constrain(tt.x1,0,tt.xa._length),tt.y0=M.constrain(tt.y0,0,tt.ya._length),tt.y1=M.constrain(tt.y1,0,tt.ya._length),tt.xLabelVal!==void 0&&(tt.xLabel="xLabel"in tt?tt.xLabel:o.hoverLabelText(tt.xa,tt.xLabelVal,G.xhoverformat),tt.xVal=tt.xa.c2d(tt.xLabelVal)),tt.yLabelVal!==void 0&&(tt.yLabel="yLabel"in tt?tt.yLabel:o.hoverLabelText(tt.ya,tt.yLabelVal,G.yhoverformat),tt.yVal=tt.ya.c2d(tt.yLabelVal)),tt.zLabelVal!==void 0&&tt.zLabel===void 0&&(tt.zLabel=String(tt.zLabelVal)),!isNaN(tt.xerr)&&!(tt.xa.type==="log"&&tt.xerr<=0)){var kt=o.tickText(tt.xa,tt.xa.c2l(tt.xerr),"hover").text;tt.xerrneg!==void 0?tt.xLabel+=" +"+kt+" / -"+o.tickText(tt.xa,tt.xa.c2l(tt.xerrneg),"hover").text:tt.xLabel+=" ± "+kt,st==="x"&&(tt.distance+=1)}if(!isNaN(tt.yerr)&&!(tt.ya.type==="log"&&tt.yerr<=0)){var Ot=o.tickText(tt.ya,tt.ya.c2l(tt.yerr),"hover").text;tt.yerrneg!==void 0?tt.yLabel+=" +"+Ot+" / -"+o.tickText(tt.ya,tt.ya.c2l(tt.yerrneg),"hover").text:tt.yLabel+=" ± "+Ot,st==="y"&&(tt.distance+=1)}var bt=tt.hoverinfo||tt.trace.hoverinfo;return bt&&bt!=="all"&&(bt=Array.isArray(bt)?bt:bt.split("+"),bt.indexOf("x")===-1&&(tt.xLabel=void 0),bt.indexOf("y")===-1&&(tt.yLabel=void 0),bt.indexOf("z")===-1&&(tt.zLabel=void 0),bt.indexOf("text")===-1&&(tt.text=void 0),bt.indexOf("name")===-1&&(tt.name=void 0)),tt}function W(tt,st,Q){var G=Q.container,ut=Q.fullLayout,at=ut._size,dt=Q.event,gt=!!st.hLinePoint,wt=!!st.vLinePoint,kt,Ot;if(G.selectAll(".spikeline").remove(),!!(wt||gt)){var bt=n.combine(ut.plot_bgcolor,ut.paper_bgcolor);if(gt){var _t=st.hLinePoint,mt,Pt;kt=_t&&_t.xa,Ot=_t&&_t.ya;var Rt=Ot.spikesnap;Rt==="cursor"?(mt=dt.pointerX,Pt=dt.pointerY):(mt=kt._offset+_t.x,Pt=Ot._offset+_t.y);var Ht=i.readability(_t.color,bt)<1.5?n.contrast(bt):_t.color,Dt=Ot.spikemode,Xt=Ot.spikethickness,se=Ot.spikecolor||Ht,Yt=o.getPxPosition(tt,Ot),ue,ie;if(Dt.indexOf("toaxis")!==-1||Dt.indexOf("across")!==-1){if(Dt.indexOf("toaxis")!==-1&&(ue=Yt,ie=mt),Dt.indexOf("across")!==-1){var fe=Ot._counterDomainMin,ce=Ot._counterDomainMax;Ot.anchor==="free"&&(fe=Math.min(fe,Ot.position),ce=Math.max(ce,Ot.position)),ue=at.l+fe*at.w,ie=at.l+ce*at.w}G.insert("line",":first-child").attr({x1:ue,x2:ie,y1:Pt,y2:Pt,"stroke-width":Xt,stroke:se,"stroke-dasharray":s.dashStyle(Ot.spikedash,Xt)}).classed("spikeline",!0).classed("crisp",!0),G.insert("line",":first-child").attr({x1:ue,x2:ie,y1:Pt,y2:Pt,"stroke-width":Xt+2,stroke:bt}).classed("spikeline",!0).classed("crisp",!0)}Dt.indexOf("marker")!==-1&&G.insert("circle",":first-child").attr({cx:Yt+(Ot.side!=="right"?Xt:-Xt),cy:Pt,r:Xt,fill:se}).classed("spikeline",!0)}if(wt){var ye=st.vLinePoint,de,Te;kt=ye&&ye.xa,Ot=ye&&ye.ya;var Et=kt.spikesnap;Et==="cursor"?(de=dt.pointerX,Te=dt.pointerY):(de=kt._offset+ye.x,Te=Ot._offset+ye.y);var Vt=i.readability(ye.color,bt)<1.5?n.contrast(bt):ye.color,te=kt.spikemode,Jt=kt.spikethickness,Ut=kt.spikecolor||Vt,It=o.getPxPosition(tt,kt),pt,xt;if(te.indexOf("toaxis")!==-1||te.indexOf("across")!==-1){if(te.indexOf("toaxis")!==-1&&(pt=It,xt=Te),te.indexOf("across")!==-1){var Ct=kt._counterDomainMin,At=kt._counterDomainMax;kt.anchor==="free"&&(Ct=Math.min(Ct,kt.position),At=Math.max(At,kt.position)),pt=at.t+(1-At)*at.h,xt=at.t+(1-Ct)*at.h}G.insert("line",":first-child").attr({x1:de,x2:de,y1:pt,y2:xt,"stroke-width":Jt,stroke:Ut,"stroke-dasharray":s.dashStyle(kt.spikedash,Jt)}).classed("spikeline",!0).classed("crisp",!0),G.insert("line",":first-child").attr({x1:de,x2:de,y1:pt,y2:xt,"stroke-width":Jt+2,stroke:bt}).classed("spikeline",!0).classed("crisp",!0)}te.indexOf("marker")!==-1&&G.insert("circle",":first-child").attr({cx:de,cy:It-(kt.side!=="top"?Jt:-Jt),r:Jt,fill:Ut}).classed("spikeline",!0)}}}function K(tt,st,Q){if(!Q||Q.length!==tt._hoverdata.length)return!0;for(var G=Q.length-1;G>=0;G--){var ut=Q[G],at=tt._hoverdata[G];if(ut.curveNumber!==at.curveNumber||String(ut.pointNumber)!==String(at.pointNumber)||String(ut.pointNumbers)!==String(at.pointNumbers))return!0}return!1}function et(tt,st){return!st||st.vLinePoint!==tt._spikepoints.vLinePoint||st.hLinePoint!==tt._spikepoints.hLinePoint}function lt(tt,st){return r.plainText(tt||"",{len:st,allowedTags:["br","sub","sup","b","i","em"]})}function ot(tt,st){for(var Q=st.charAt(0),G=[],ut=[],at=[],dt=0;dt<tt.length;dt++){var gt=tt[dt];h.traceIs(gt.trace,"bar-like")||h.traceIs(gt.trace,"box-violin")?at.push(gt):gt.trace[Q+"period"]?ut.push(gt):G.push(gt)}return G.concat(ut).concat(at)}function q(tt,st,Q){var G=st[tt+"a"],ut=st[tt+"Val"],at=st.cd[0];if(G.type==="category"||G.type==="multicategory")ut=G._categoriesMap[ut];else if(G.type==="date"){var dt=st.trace[tt+"periodalignment"];if(dt){var gt=st.cd[st.index],wt=gt[tt+"Start"];wt===void 0&&(wt=gt[tt]);var kt=gt[tt+"End"];kt===void 0&&(kt=gt[tt]);var Ot=kt-wt;dt==="end"?ut+=Ot:dt==="middle"&&(ut+=Ot/2)}ut=G.d2c(ut)}return at&&at.t&&at.t.posLetter===G._id&&(Q.boxmode==="group"||Q.violinmode==="group")&&(ut+=at.t.dPos),ut}function J(tt){return tt.offsetTop+tt.clientTop}function it(tt){return tt.offsetLeft+tt.clientLeft}function Z(tt,st){var Q=tt._fullLayout,G=st.getBoundingClientRect(),ut=G.left,at=G.top,dt=ut+G.width,gt=at+G.height,wt=M.apply3DTransform(Q._invTransform)(ut,at),kt=M.apply3DTransform(Q._invTransform)(dt,gt),Ot=wt[0],bt=wt[1],_t=kt[0],mt=kt[1];return{x:Ot,y:bt,width:_t-Ot,height:mt-bt,top:Math.min(bt,mt),left:Math.min(Ot,_t),right:Math.max(Ot,_t),bottom:Math.max(bt,mt)}}},16132:function(X,B,t){var x=t(3400),E=t(76308),i=t(10624).isUnifiedHover;X.exports=function(M,m,d,v){v=v||{};var r=m.legend;function e(s){v.font[s]||(v.font[s]=r?m.legend.font[s]:m.font[s])}m&&i(m.hovermode)&&(v.font||(v.font={}),e("size"),e("family"),e("color"),r?(v.bgcolor||(v.bgcolor=E.combine(m.legend.bgcolor,m.paper_bgcolor)),v.bordercolor||(v.bordercolor=m.legend.bordercolor)):v.bgcolor||(v.bgcolor=m.paper_bgcolor)),d("hoverlabel.bgcolor",v.bgcolor),d("hoverlabel.bordercolor",v.bordercolor),d("hoverlabel.namelength",v.namelength),x.coerceFont(d,"hoverlabel.font",v.font),d("hoverlabel.align",v.align)}},41008:function(X,B,t){var x=t(3400),E=t(65460);X.exports=function(i,M){function m(d,v){return M[d]!==void 0?M[d]:x.coerce(i,M,E,d,v)}return m("clickmode"),m("hovermode")}},93024:function(X,B,t){var x=t(33428),E=t(3400),i=t(86476),M=t(10624),m=t(65460),d=t(83292);X.exports={moduleType:"component",name:"fx",constants:t(92456),schema:{layout:m},attributes:t(55756),layoutAttributes:m,supplyLayoutGlobalDefaults:t(81976),supplyDefaults:t(95448),supplyLayoutDefaults:t(88336),calc:t(55056),getDistanceFunction:M.getDistanceFunction,getClosest:M.getClosest,inbox:M.inbox,quadrature:M.quadrature,appendArrayPointValue:M.appendArrayPointValue,castHoverOption:r,castHoverinfo:e,hover:d.hover,unhover:i.unhover,loneHover:d.loneHover,loneUnhover:v,click:t(62376)};function v(s){var n=E.isD3Selection(s)?s:x.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(s,n,l){return E.castOption(s,n,"hoverlabel."+l)}function e(s,n,l){function o(h){return E.coerceHoverinfo({hoverinfo:h},{_module:s._module},n)}return E.castOption(s,l,"hoverinfo",o)}},65460:function(X,B,t){var x=t(92456),E=t(25376),i=E({editType:"none"});i.family.dflt=x.HOVERFONT,i.size.dflt=x.HOVERFONTSIZE,X.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:E({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(X,B,t){var x=t(3400),E=t(65460),i=t(41008),M=t(16132);X.exports=function(m,d){function v(o,h){return x.coerce(m,d,E,o,h)}var r=i(m,d);r&&(v("hoverdistance"),v("spikedistance"));var e=v("dragmode");e==="select"&&v("selectdirection");var s=d._has("mapbox"),n=d._has("geo"),l=d._basePlotModules.length;d.dragmode==="zoom"&&((s||n)&&l===1||s&&n&&l===2)&&(d.dragmode="pan"),M(m,d,v),x.coerceFont(v,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},81976:function(X,B,t){var x=t(3400),E=t(16132),i=t(65460);X.exports=function(M,m){function d(v,r){return x.coerce(M,m,i,v,r)}E(M,m,d)}},12704:function(X,B,t){var x=t(3400),E=t(53756).counter,i=t(86968).u,M=t(33816).idRegex,m=t(31780),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[E("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[M.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[M.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function v(l,o,h){var b=o[h+"axes"],f=Object.keys((l._splomAxes||{})[h]||{});if(Array.isArray(b))return b;if(f.length)return f}function r(l,o){var h=l.grid||{},b=v(o,h,"x"),f=v(o,h,"y");if(!l.grid&&!b&&!f)return;var k=Array.isArray(h.subplots)&&Array.isArray(h.subplots[0]),a=Array.isArray(b),c=Array.isArray(f),p=a&&b!==h.xaxes&&c&&f!==h.yaxes,w,S;k?(w=h.subplots.length,S=h.subplots[0].length):(c&&(w=f.length),a&&(S=b.length));var _=m.newContainer(o,"grid");function T(F,I){return x.coerce(h,_,d,F,I)}var P=T("rows",w),u=T("columns",S);if(!(P*u>1)){delete o.grid;return}if(!k&&!a&&!c){var g=T("pattern")==="independent";g&&(k=!0)}_._hasSubplotGrid=k;var L=T("roworder"),A=L==="top to bottom",R=k?.2:.1,O=k?.3:.1,N,z;p&&o._splomGridDflt&&(N=o._splomGridDflt.xside,z=o._splomGridDflt.yside),_._domains={x:e("x",T,R,N,u),y:e("y",T,O,z,P,A)}}function e(l,o,h,b,f,k){var a=o(l+"gap",h),c=o("domain."+l);o(l+"side",b);for(var p=new Array(f),w=c[0],S=(c[1]-w)/(f-a),_=S*(1-a),T=0;T<f;T++){var P=w+S*T;p[k?f-1-T:T]=[P,P+_]}return p}function s(l,o){var h=o.grid;if(!(!h||!h._domains)){var b=l.grid||{},f=o._subplots,k=h._hasSubplotGrid,a=h.rows,c=h.columns,p=h.pattern==="independent",w,S,_,T,P,u,g,L=h._axisMap={};if(k){var A=b.subplots||[];u=h.subplots=new Array(a);var R=1;for(w=0;w<a;w++){var O=u[w]=new Array(c),N=A[w]||[];for(S=0;S<c;S++)if(p?(P=R===1?"xy":"x"+R+"y"+R,R++):P=N[S],O[S]="",f.cartesian.indexOf(P)!==-1){if(g=P.indexOf("y"),_=P.slice(0,g),T=P.slice(g),L[_]!==void 0&&L[_]!==S||L[T]!==void 0&&L[T]!==w)continue;O[S]=P,L[_]=S,L[T]=w}}}else{var z=v(o,b,"x"),F=v(o,b,"y");h.xaxes=n(z,f.xaxis,c,L,"x"),h.yaxes=n(F,f.yaxis,a,L,"y")}var I=h._anchors={},j=h.roworder==="top to bottom";for(var V in L){var W=V.charAt(0),K=h[W+"side"],et,lt,ot;if(K.length<8)I[V]="free";else if(W==="x"){if(K.charAt(0)==="t"===j?(et=0,lt=1,ot=a):(et=a-1,lt=-1,ot=-1),k){var q=L[V];for(w=et;w!==ot;w+=lt)if(P=u[w][q],!!P&&(g=P.indexOf("y"),P.slice(0,g)===V)){I[V]=P.slice(g);break}}else for(w=et;w!==ot;w+=lt)if(T=h.yaxes[w],f.cartesian.indexOf(V+T)!==-1){I[V]=T;break}}else if(K.charAt(0)==="l"?(et=0,lt=1,ot=c):(et=c-1,lt=-1,ot=-1),k){var J=L[V];for(w=et;w!==ot;w+=lt)if(P=u[J][w],!!P&&(g=P.indexOf("y"),P.slice(g)===V)){I[V]=P.slice(0,g);break}}else for(w=et;w!==ot;w+=lt)if(_=h.xaxes[w],f.cartesian.indexOf(_+V)!==-1){I[V]=_;break}}}}function n(l,o,h,b,f){var k=new Array(h),a;function c(p,w){o.indexOf(w)!==-1&&b[w]===void 0?(k[p]=w,b[w]=p):k[p]=""}if(Array.isArray(l))for(a=0;a<h;a++)c(a,l[a]);else for(c(0,f),a=1;a<h;a++)c(a,f+(a+1));return k}X.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:r,contentDefaults:s}},65760:function(X,B,t){var x=t(33816),E=t(31780).templatedArray;t(36208),X.exports=E("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",x.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",x.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(X,B,t){var x=t(38248),E=t(36896);X.exports=function(i,M,m,d){M=M||{};var v=m==="log"&&M.type==="linear",r=m==="linear"&&M.type==="log";if(v||r){for(var e=i._fullLayout.images,s=M._id.charAt(0),n,l,o=0;o<e.length;o++)if(n=e[o],l="images["+o+"].",n[s+"ref"]===M._id){var h=n[s],b=n["size"+s],f=null,k=null;if(v){f=E(h,M.range);var a=b/Math.pow(10,f)/2;k=2*Math.log(a+Math.sqrt(1+a*a))/Math.LN10}else f=Math.pow(10,h),k=f*(Math.pow(10,b/2)-Math.pow(10,-b/2));x(f)?x(k)||(k=null):(f=null,k=null),d(l+s,f),d(l+"size"+s,k)}}}},25024:function(X,B,t){var x=t(3400),E=t(54460),i=t(51272),M=t(65760),m="images";X.exports=function(v,r){var e={name:m,handleItemDefaults:d};i(v,r,e)};function d(v,r,e){function s(c,p){return x.coerce(v,r,M,c,p)}var n=s("source"),l=s("visible",!!n);if(!l)return r;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var o={_fullLayout:e},h=["x","y"],b=0;b<2;b++){var f=h[b],k=E.coerceRef(v,r,o,f,"paper",void 0);if(k!=="paper"){var a=E.getFromId(o,k);a._imgIndices.push(r._index)}E.coercePosition(r,o,s,k,f,0)}return r}},60963:function(X,B,t){var x=t(33428),E=t(43616),i=t(54460),M=t(79811),m=t(9616);X.exports=function(d){var v=d._fullLayout,r=[],e={},s=[],n,l;for(l=0;l<v.images.length;l++){var o=v.images[l];if(o.visible)if(o.layer==="below"&&o.xref!=="paper"&&o.yref!=="paper"){n=M.ref2id(o.xref)+M.ref2id(o.yref);var h=v._plots[n];if(!h){s.push(o);continue}h.mainplot&&(n=h.mainplot.id),e[n]||(e[n]=[]),e[n].push(o)}else o.layer==="above"?r.push(o):s.push(o)}var b={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function f(_){var T=x.select(this);if(this._imgSrc!==_.source)if(T.attr("xmlns",m.svg),_.source&&_.source.slice(0,5)==="data:")T.attr("xlink:href",_.source),this._imgSrc=_.source;else{var P=new Promise((function(u){var g=new Image;this.img=g,g.setAttribute("crossOrigin","anonymous"),g.onerror=L,g.onload=function(){var A=document.createElement("canvas");A.width=this.width,A.height=this.height;var R=A.getContext("2d",{willReadFrequently:!0});R.drawImage(this,0,0);var O=A.toDataURL("image/png");T.attr("xlink:href",O),u()},T.on("error",L),g.src=_.source,this._imgSrc=_.source;function L(){T.remove(),u()}}).bind(this));d._promises.push(P)}}function k(_){var T=x.select(this),P=i.getFromId(d,_.xref),u=i.getFromId(d,_.yref),g=i.getRefType(_.xref)==="domain",L=i.getRefType(_.yref)==="domain",A=v._size,R,O;P!==void 0?R=typeof _.xref=="string"&&g?P._length*_.sizex:Math.abs(P.l2p(_.sizex)-P.l2p(0)):R=_.sizex*A.w,u!==void 0?O=typeof _.yref=="string"&&L?u._length*_.sizey:Math.abs(u.l2p(_.sizey)-u.l2p(0)):O=_.sizey*A.h;var N=R*b.x[_.xanchor].offset,z=O*b.y[_.yanchor].offset,F=b.x[_.xanchor].sizing+b.y[_.yanchor].sizing,I,j;switch(P!==void 0?I=typeof _.xref=="string"&&g?P._length*_.x+P._offset:P.r2p(_.x)+P._offset:I=_.x*A.w+A.l,I+=N,u!==void 0?j=typeof _.yref=="string"&&L?u._length*(1-_.y)+u._offset:u.r2p(_.y)+u._offset:j=A.h-_.y*A.h+A.t,j+=z,_.sizing){case"fill":F+=" slice";break;case"stretch":F="none";break}T.attr({x:I,y:j,width:R,height:O,preserveAspectRatio:F,opacity:_.opacity});var V=P&&i.getRefType(_.xref)!=="domain"?P._id:"",W=u&&i.getRefType(_.yref)!=="domain"?u._id:"",K=V+W;E.setClipUrl(T,K?"clip"+v._uid+K:null,d)}var a=v._imageLowerLayer.selectAll("image").data(s),c=v._imageUpperLayer.selectAll("image").data(r);a.enter().append("image"),c.enter().append("image"),a.exit().remove(),c.exit().remove(),a.each(function(_){f.bind(this)(_),k.bind(this)(_)}),c.each(function(_){f.bind(this)(_),k.bind(this)(_)});var p=Object.keys(v._plots);for(l=0;l<p.length;l++){n=p[l];var w=v._plots[n];if(w.imagelayer){var S=w.imagelayer.selectAll("image").data(e[n]||[]);S.enter().append("image"),S.exit().remove(),S.each(function(_){f.bind(this)(_),k.bind(this)(_)})}}}},7402:function(X,B,t){X.exports={moduleType:"component",name:"images",layoutAttributes:t(65760),supplyLayoutDefaults:t(25024),includeBasePlot:t(36632)("images"),draw:t(60963),convertCoords:t(63556)}},3800:function(X,B,t){var x=t(25376),E=t(22548);X.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:x({editType:"legend"}),grouptitlefont:x({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:x({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(X){X.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(X,B,t){var x=t(24040),E=t(3400),i=t(31780),M=t(45464),m=t(3800),d=t(64859),v=t(42451);function r(e,s,n,l){var o=s[e]||{},h=i.newContainer(n,e);function b(ot,q){return E.coerce(o,h,m,ot,q)}var f=E.coerceFont(b,"font",n.font);b("bgcolor",n.paper_bgcolor),b("bordercolor");var k=b("visible");if(k){for(var a,c=function(ot,q){var J=a._input,it=a;return E.coerce(J,it,M,ot,q)},p=n.font||{},w=E.coerceFont(b,"grouptitlefont",E.extendFlat({},p,{size:Math.round(p.size*1.1)})),S=0,_=!1,T="normal",P=(n.shapes||[]).filter(function(ot){return ot.showlegend}),u=l.concat(P).filter(function(ot){return e===(ot.legend||"legend")}),g=0;g<u.length;g++)if(a=u[g],!!a.visible){var L=a._isShape;(a.showlegend||a._dfltShowLegend&&!(a._module&&a._module.attributes&&a._module.attributes.showlegend&&a._module.attributes.showlegend.dflt===!1))&&(S++,a.showlegend&&(_=!0,(!L&&x.traceIs(a,"pie-like")||a._input.showlegend===!0)&&S++),E.coerceFont(c,"legendgrouptitle.font",w)),(!L&&x.traceIs(a,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(a.fill)!==-1)&&(T=v.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),a.legendgroup!==void 0&&a.legendgroup!==""&&(T=v.isReversed({traceorder:T})?"reversed+grouped":"grouped")}var A=E.coerce(s,n,d,"showlegend",_&&S>(e==="legend"?1:0));if(A===!1&&(n[e]=void 0),!(A===!1&&!o.uirevision)&&(b("uirevision",n.uirevision),A!==!1)){b("borderwidth");var R=b("orientation"),O=b("yref"),N=b("xref"),z=R==="h",F=O==="paper",I=N==="paper",j,V,W,K="left";z?(j=0,x.getComponentMethod("rangeslider","isVisible")(s.xaxis)?F?(V=1.1,W="bottom"):(V=1,W="top"):F?(V=-.1,W="top"):(V=0,W="bottom")):(V=1,W="auto",I?j=1.02:(j=1,K="right")),E.coerce(o,h,{x:{valType:"number",editType:"legend",min:I?-2:0,max:I?3:1,dflt:j}},"x"),E.coerce(o,h,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:V}},"y"),b("traceorder",T),v.isGrouped(n[e])&&b("tracegroupgap"),b("entrywidth"),b("entrywidthmode"),b("indentation"),b("itemsizing"),b("itemwidth"),b("itemclick"),b("itemdoubleclick"),b("groupclick"),b("xanchor",K),b("yanchor",W),b("valign"),E.noneOrAll(o,h,["x","y"]);var et=b("title.text");if(et){b("title.side",z?"left":"top");var lt=E.extendFlat({},f,{size:E.bigFont(f.size)});E.coerceFont(b,"title.font",lt)}}}}X.exports=function(e,s,n){var l,o=n.slice(),h=s.shapes;if(h)for(l=0;l<h.length;l++){var b=h[l];if(b.showlegend){var f={_input:b._input,visible:b.visible,showlegend:b.showlegend,legend:b.legend};o.push(f)}}var k=["legend"];for(l=0;l<o.length;l++)E.pushUnique(k,o[l].legend);for(s._legends=[],l=0;l<k.length;l++){var a=k[l];r(a,e,s,o),s[a]&&s[a].visible&&(s[a]._id=a),s._legends.push(a)}}},31140:function(X,B,t){var x=t(33428),E=t(3400),i=t(7316),M=t(24040),m=t(95924),d=t(86476),v=t(43616),r=t(76308),e=t(72736),s=t(33048),n=t(65196),l=t(84284),o=l.LINE_SPACING,h=l.FROM_TL,b=l.FROM_BR,f=t(35456),k=t(2012),a=t(42451),c=1,p=/^legend[0-9]*$/;X.exports=function(j,V){if(V)S(j,V);else{var W=j._fullLayout,K=W._legends,et=W._infolayer.selectAll('[class^="legend"]');et.each(function(){var J=x.select(this),it=J.attr("class"),Z=it.split(" ")[0];Z.match(p)&&K.indexOf(Z)===-1&&J.remove()});for(var lt=0;lt<K.length;lt++){var ot=K[lt],q=j._fullLayout[ot];S(j,q)}}};function w(j,V,W){if(!(V.title.side!=="top center"&&V.title.side!=="top right")){var K=V.title.font,et=K.size*o,lt=0,ot=j.node(),q=v.bBox(ot).width;V.title.side==="top center"?lt=.5*(V._width-2*W-2*n.titlePad-q):V.title.side==="top right"&&(lt=V._width-2*W-2*n.titlePad-q),e.positionText(j,W+n.titlePad+lt,W+et)}}function S(j,V){var W=V||{},K=j._fullLayout,et=I(W),lt,ot,q=W._inHover;if(q?(ot=W.layer,lt="hover"):(ot=K._infolayer,lt=et),!!ot){lt+=K._uid,j._legendMouseDownTime||(j._legendMouseDownTime=0);var J;if(q){if(!W.entries)return;J=f(W.entries,W)}else{for(var it=(j.calcdata||[]).slice(),Z=K.shapes,tt=0;tt<Z.length;tt++){var st=Z[tt];if(st.showlegend){var Q={_isShape:!0,_fullInput:st,index:st._index,name:st.name||st.label.text||"shape "+st._index,legend:st.legend,legendgroup:st.legendgroup,legendgrouptitle:st.legendgrouptitle,legendrank:st.legendrank,legendwidth:st.legendwidth,showlegend:st.showlegend,visible:st.visible,opacity:st.opacity,mode:st.type==="line"?"lines":"markers",line:st.line,marker:{line:st.line,color:st.fillcolor,size:12,symbol:st.type==="rect"?"square":st.type==="circle"?"circle":"hexagon2"}};it.push([{trace:Q}])}}J=K.showlegend&&f(it,W,K._legends.length>1)}var G=K.hiddenlabels||[];if(!q&&(!K.showlegend||!J.length))return ot.selectAll("."+et).remove(),K._topdefs.select("#"+lt).remove(),i.autoMargin(j,et);var ut=E.ensureSingle(ot,"g",et,function(mt){q||mt.attr("pointer-events","all")}),at=E.ensureSingleById(K._topdefs,"clipPath",lt,function(mt){mt.append("rect")}),dt=E.ensureSingle(ut,"rect","bg",function(mt){mt.attr("shape-rendering","crispEdges")});dt.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var gt=E.ensureSingle(ut,"g","scrollbox"),wt=W.title;W._titleWidth=0,W._titleHeight=0;var kt;wt.text?(kt=E.ensureSingle(gt,"text",et+"titletext"),kt.attr("text-anchor","start").call(v.font,wt.font).text(wt.text),L(kt,gt,j,W,c)):gt.selectAll("."+et+"titletext").remove();var Ot=E.ensureSingle(ut,"rect","scrollbar",function(mt){mt.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),bt=gt.selectAll("g.groups").data(J);bt.enter().append("g").attr("class","groups"),bt.exit().remove();var _t=bt.selectAll("g.traces").data(E.identity);_t.enter().append("g").attr("class","traces"),_t.exit().remove(),_t.style("opacity",function(mt){var Pt=mt[0].trace;return M.traceIs(Pt,"pie-like")?G.indexOf(mt[0].label)!==-1?.5:1:Pt.visible==="legendonly"?.5:1}).each(function(){x.select(this).call(P,j,W)}).call(k,j,W).each(function(){q||x.select(this).call(g,j,et)}),E.syncOrAsync([i.previousPromises,function(){return O(j,bt,_t,W)},function(){var mt=K._size,Pt=W.borderwidth,Rt=W.xref==="paper",Ht=W.yref==="paper";if(wt.text&&w(kt,W,Pt),!q){var Dt,Xt;Rt?Dt=mt.l+mt.w*W.x-h[z(W)]*W._width:Dt=K.width*W.x-h[z(W)]*W._width,Ht?Xt=mt.t+mt.h*(1-W.y)-h[F(W)]*W._effHeight:Xt=K.height*(1-W.y)-h[F(W)]*W._effHeight;var se=N(j,et,Dt,Xt);if(se)return;if(K.margin.autoexpand){var Yt=Dt,ue=Xt;Dt=Rt?E.constrain(Dt,0,K.width-W._width):Yt,Xt=Ht?E.constrain(Xt,0,K.height-W._effHeight):ue,Dt!==Yt&&E.log("Constrain "+et+".x to make legend fit inside graph"),Xt!==ue&&E.log("Constrain "+et+".y to make legend fit inside graph")}v.setTranslate(ut,Dt,Xt)}if(Ot.on(".drag",null),ut.on("wheel",null),q||W._height<=W._maxHeight||j._context.staticPlot){var ie=W._effHeight;q&&(ie=W._height),dt.attr({width:W._width-Pt,height:ie-Pt,x:Pt/2,y:Pt/2}),v.setTranslate(gt,0,0),at.select("rect").attr({width:W._width-2*Pt,height:ie-2*Pt,x:Pt,y:Pt}),v.setClipUrl(gt,lt,j),v.setRect(Ot,0,0,0,0),delete W._scrollY}else{var fe=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),ce=W._effHeight-fe-2*n.scrollBarMargin,ye=W._height-W._effHeight,de=ce/ye,Te=Math.min(W._scrollY||0,ye);dt.attr({width:W._width-2*Pt+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Pt,x:Pt/2,y:Pt/2}),at.select("rect").attr({width:W._width-2*Pt+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Pt,x:Pt,y:Pt+Te}),v.setClipUrl(gt,lt,j),xt(Te,fe,de),ut.on("wheel",function(){Te=E.constrain(W._scrollY+x.event.deltaY/ce*ye,0,ye),xt(Te,fe,de),Te!==0&&Te!==ye&&x.event.preventDefault()});var Et,Vt,te,Jt=function(Qt,he,ve){var Je=(ve-he)/de+Qt;return E.constrain(Je,0,ye)},Ut=function(Qt,he,ve){var Je=(he-ve)/de+Qt;return E.constrain(Je,0,ye)},It=x.behavior.drag().on("dragstart",function(){var Qt=x.event.sourceEvent;Qt.type==="touchstart"?Et=Qt.changedTouches[0].clientY:Et=Qt.clientY,te=Te}).on("drag",function(){var Qt=x.event.sourceEvent;Qt.buttons===2||Qt.ctrlKey||(Qt.type==="touchmove"?Vt=Qt.changedTouches[0].clientY:Vt=Qt.clientY,Te=Jt(te,Et,Vt),xt(Te,fe,de))});Ot.call(It);var pt=x.behavior.drag().on("dragstart",function(){var Qt=x.event.sourceEvent;Qt.type==="touchstart"&&(Et=Qt.changedTouches[0].clientY,te=Te)}).on("drag",function(){var Qt=x.event.sourceEvent;Qt.type==="touchmove"&&(Vt=Qt.changedTouches[0].clientY,Te=Ut(te,Et,Vt),xt(Te,fe,de))});gt.call(pt)}function xt(Qt,he,ve){W._scrollY=j._fullLayout[et]._scrollY=Qt,v.setTranslate(gt,0,-Qt),v.setRect(Ot,W._width,n.scrollBarMargin+Qt*ve,n.scrollBarWidth,he),at.select("rect").attr("y",Pt+Qt)}if(j._context.edits.legendPosition){var Ct,At,Ft,Wt;ut.classed("cursor-move",!0),d.init({element:ut.node(),gd:j,prepFn:function(){var Qt=v.getTranslate(ut);Ft=Qt.x,Wt=Qt.y},moveFn:function(Qt,he){var ve=Ft+Qt,Je=Wt+he;v.setTranslate(ut,ve,Je),Ct=d.align(ve,W._width,mt.l,mt.l+mt.w,W.xanchor),At=d.align(Je+W._height,-W._height,mt.t+mt.h,mt.t,W.yanchor)},doneFn:function(){if(Ct!==void 0&&At!==void 0){var Qt={};Qt[et+".x"]=Ct,Qt[et+".y"]=At,M.call("_guiRelayout",j,Qt)}},clickFn:function(Qt,he){var ve=ot.selectAll("g.traces").filter(function(){var Je=this.getBoundingClientRect();return he.clientX>=Je.left&&he.clientX<=Je.right&&he.clientY>=Je.top&&he.clientY<=Je.bottom});ve.size()>0&&T(j,ut,ve,Qt,he)}})}}],j)}}function _(j,V,W){var K=j[0],et=K.width,lt=V.entrywidthmode,ot=K.trace.legendwidth||V.entrywidth;return lt==="fraction"?V._maxWidth*ot:W+(ot||et)}function T(j,V,W,K,et){var lt=W.data()[0][0].trace,ot={event:et,node:W.node(),curveNumber:lt.index,expandedIndex:lt._expandedIndex,data:j.data,layout:j.layout,frames:j._transitionData._frames,config:j._context,fullData:j._fullData,fullLayout:j._fullLayout};lt._group&&(ot.group=lt._group),M.traceIs(lt,"pie-like")&&(ot.label=W.datum()[0].label);var q=m.triggerHandler(j,"plotly_legendclick",ot);if(K===1){if(q===!1)return;V._clickTimeout=setTimeout(function(){j._fullLayout&&s(W,j,K)},j._context.doubleClickDelay)}else if(K===2){V._clickTimeout&&clearTimeout(V._clickTimeout),j._legendMouseDownTime=0;var J=m.triggerHandler(j,"plotly_legenddoubleclick",ot);J!==!1&&q!==!1&&s(W,j,K)}}function P(j,V,W){var K=I(W),et=j.data()[0][0],lt=et.trace,ot=M.traceIs(lt,"pie-like"),q=!W._inHover&&V._context.edits.legendText&&!ot,J=W._maxNameLength,it,Z;et.groupTitle?(it=et.groupTitle.text,Z=et.groupTitle.font):(Z=W.font,W.entries?it=et.text:(it=ot?et.label:lt.name,lt._meta&&(it=E.templateString(it,lt._meta))));var tt=E.ensureSingle(j,"text",K+"text");tt.attr("text-anchor","start").call(v.font,Z).text(q?u(it,J):it);var st=W.indentation+W.itemwidth+n.itemGap*2;e.positionText(tt,st,0),q?tt.call(e.makeEditable,{gd:V,text:it}).call(L,j,V,W).on("edit",function(Q){this.text(u(Q,J)).call(L,j,V,W);var G=et.trace._fullInput||{},ut={};if(M.hasTransform(G,"groupby")){var at=M.getTransformIndices(G,"groupby"),dt=at[at.length-1],gt=E.keyedContainer(G,"transforms["+dt+"].styles","target","value.name");gt.set(et.trace._group,Q),ut=gt.constructUpdate()}else ut.name=Q;return G._isShape?M.call("_guiRelayout",V,"shapes["+lt.index+"].name",ut.name):M.call("_guiRestyle",V,ut,lt.index)}):L(tt,j,V,W)}function u(j,V){var W=Math.max(4,V);if(j&&j.trim().length>=W/2)return j;j=j||"";for(var K=W-j.length;K>0;K--)j+=" ";return j}function g(j,V,W){var K=V._context.doubleClickDelay,et,lt=1,ot=E.ensureSingle(j,"rect",W+"toggle",function(q){V._context.staticPlot||q.style("cursor","pointer").attr("pointer-events","all"),q.call(r.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(ot.on("mousedown",function(){et=new Date().getTime(),et-V._legendMouseDownTime<K?lt+=1:(lt=1,V._legendMouseDownTime=et)}),ot.on("mouseup",function(){if(!(V._dragged||V._editing)){var q=V._fullLayout[W];new Date().getTime()-V._legendMouseDownTime>K&&(lt=Math.max(lt-1,1)),T(V,q,j,lt,x.event)}}))}function L(j,V,W,K,et){K._inHover&&j.attr("data-notex",!0),e.convertToTspans(j,W,function(){A(V,W,K,et)})}function A(j,V,W,K){var et=j.data()[0][0];if(!W._inHover&&et&&!et.trace.showlegend){j.remove();return}var lt=j.select("g[class*=math-group]"),ot=lt.node(),q=I(W);W||(W=V._fullLayout[q]);var J=W.borderwidth,it;K===c?it=W.title.font:et.groupTitle?it=et.groupTitle.font:it=W.font;var Z=it.size*o,tt,st;if(ot){var Q=v.bBox(ot);tt=Q.height,st=Q.width,K===c?v.setTranslate(lt,J,J+tt*.75):v.setTranslate(lt,0,tt*.25)}else{var G="."+q+(K===c?"title":"")+"text",ut=j.select(G),at=e.lineCount(ut),dt=ut.node();if(tt=Z*at,st=dt?v.bBox(dt).width:0,K===c)W.title.side==="left"&&(st+=n.itemGap*2),e.positionText(ut,J+n.titlePad,J+Z);else{var gt=n.itemGap*2+W.indentation+W.itemwidth;et.groupTitle&&(gt=n.itemGap,st-=W.indentation+W.itemwidth),e.positionText(ut,gt,-Z*((at-1)/2-.3))}}K===c?(W._titleWidth=st,W._titleHeight=tt):(et.lineHeight=Z,et.height=Math.max(tt,16)+3,et.width=st)}function R(j){var V=0,W=0,K=j.title.side;return K&&(K.indexOf("left")!==-1&&(V=j._titleWidth),K.indexOf("top")!==-1&&(W=j._titleHeight)),[V,W]}function O(j,V,W,K){var et=j._fullLayout,lt=I(K);K||(K=et[lt]);var ot=et._size,q=a.isVertical(K),J=a.isGrouped(K),it=K.entrywidthmode==="fraction",Z=K.borderwidth,tt=2*Z,st=n.itemGap,Q=K.indentation+K.itemwidth+st*2,G=2*(Z+st),ut=F(K),at=K.y<0||K.y===0&&ut==="top",dt=K.y>1||K.y===1&&ut==="bottom",gt=K.tracegroupgap,wt={};K._maxHeight=Math.max(at||dt?et.height/2:ot.h,30);var kt=0;K._width=0,K._height=0;var Ot=R(K);if(q)W.each(function(te){var Jt=te[0].height;v.setTranslate(this,Z+Ot[0],Z+Ot[1]+K._height+Jt/2+st),K._height+=Jt,K._width=Math.max(K._width,te[0].width)}),kt=Q+K._width,K._width+=st+Q+tt,K._height+=G,J&&(V.each(function(te,Jt){v.setTranslate(this,0,Jt*K.tracegroupgap)}),K._height+=(K._lgroupsLength-1)*K.tracegroupgap);else{var bt=z(K),_t=K.x<0||K.x===0&&bt==="right",mt=K.x>1||K.x===1&&bt==="left",Pt=dt||at,Rt=et.width/2;K._maxWidth=Math.max(_t?Pt&&bt==="left"?ot.l+ot.w:Rt:mt?Pt&&bt==="right"?ot.r+ot.w:Rt:ot.w,2*Q);var Ht=0,Dt=0;W.each(function(te){var Jt=_(te,K,Q);Ht=Math.max(Ht,Jt),Dt+=Jt}),kt=null;var Xt=0;if(J){var se=0,Yt=0,ue=0;V.each(function(){var te=0,Jt=0;x.select(this).selectAll("g.traces").each(function(It){var pt=_(It,K,Q),xt=It[0].height;v.setTranslate(this,Ot[0],Ot[1]+Z+st+xt/2+Jt),Jt+=xt,te=Math.max(te,pt),wt[It[0].trace.legendgroup]=te});var Ut=te+st;Yt>0&&Ut+Z+Yt>K._maxWidth?(Xt=Math.max(Xt,Yt),Yt=0,ue+=se+gt,se=Jt):se=Math.max(se,Jt),v.setTranslate(this,Yt,ue),Yt+=Ut}),K._width=Math.max(Xt,Yt)+Z,K._height=ue+se+G}else{var ie=W.size(),fe=Dt+tt+(ie-1)*st<K._maxWidth,ce=0,ye=0,de=0,Te=0;W.each(function(te){var Jt=te[0].height,Ut=_(te,K,Q),It=fe?Ut:Ht;it||(It+=st),It+Z+ye-st>=K._maxWidth&&(Xt=Math.max(Xt,Te),ye=0,de+=ce,K._height+=ce,ce=0),v.setTranslate(this,Ot[0]+Z+ye,Ot[1]+Z+de+Jt/2+st),Te=ye+Ut+st,ye+=It,ce=Math.max(ce,Jt)}),fe?(K._width=ye+tt,K._height=ce+G):(K._width=Math.max(Xt,Te)+tt,K._height+=ce+G)}}K._width=Math.ceil(Math.max(K._width+Ot[0],K._titleWidth+2*(Z+n.titlePad))),K._height=Math.ceil(Math.max(K._height+Ot[1],K._titleHeight+2*(Z+n.itemGap))),K._effHeight=Math.min(K._height,K._maxHeight);var Et=j._context.edits,Vt=Et.legendText||Et.legendPosition;W.each(function(te){var Jt=x.select(this).select("."+lt+"toggle"),Ut=te[0].height,It=te[0].trace.legendgroup,pt=_(te,K,Q);J&&It!==""&&(pt=wt[It]);var xt=Vt?Q:kt||pt;!q&&!it&&(xt+=st/2),v.setRect(Jt,0,-Ut/2,xt,Ut)})}function N(j,V,W,K){var et=j._fullLayout,lt=et[V],ot=z(lt),q=F(lt),J=lt.xref==="paper",it=lt.yref==="paper";j._fullLayout._reservedMargin[V]={};var Z=lt.y<.5?"b":"t",tt=lt.x<.5?"l":"r",st={r:et.width-W,l:W+lt._width,b:et.height-K,t:K+lt._effHeight};if(J&&it)return i.autoMargin(j,V,{x:lt.x,y:lt.y,l:lt._width*h[ot],r:lt._width*b[ot],b:lt._effHeight*b[q],t:lt._effHeight*h[q]});J?j._fullLayout._reservedMargin[V][Z]=st[Z]:it||lt.orientation==="v"?j._fullLayout._reservedMargin[V][tt]=st[tt]:j._fullLayout._reservedMargin[V][Z]=st[Z]}function z(j){return E.isRightAnchor(j)?"right":E.isCenterAnchor(j)?"center":"left"}function F(j){return E.isBottomAnchor(j)?"bottom":E.isMiddleAnchor(j)?"middle":"top"}function I(j){return j._id||"legend"}},35456:function(X,B,t){var x=t(24040),E=t(42451);X.exports=function(i,M,m){var d=M._inHover,v=E.isGrouped(M),r=E.isReversed(M),e={},s=[],n=!1,l={},o=0,h=0,b,f;function k(I,j,V){if(M.visible!==!1&&!(m&&I!==M._id))if(j===""||!E.isGrouped(M)){var W="~~i"+o;s.push(W),e[W]=[V],o++}else s.indexOf(j)===-1?(s.push(j),n=!0,e[j]=[V]):e[j].push(V)}for(b=0;b<i.length;b++){var a=i[b],c=a[0],p=c.trace,w=p.legend,S=p.legendgroup;if(!(!d&&(!p.visible||!p.showlegend)))if(x.traceIs(p,"pie-like"))for(l[S]||(l[S]={}),f=0;f<a.length;f++){var _=a[f].label;l[S][_]||(k(w,S,{label:_,color:a[f].color,i:a[f].i,trace:p,pts:a[f].pts}),l[S][_]=!0,h=Math.max(h,(_||"").length))}else k(w,S,c),h=Math.max(h,(p.name||"").length)}if(!s.length)return[];var T=!n||!v,P=[];for(b=0;b<s.length;b++){var u=e[s[b]];T?P.push(u[0]):P.push(u)}for(T&&(P=[P]),b=0;b<P.length;b++){var g=1/0;for(f=0;f<P[b].length;f++){var L=P[b][f].trace.legendrank;g>L&&(g=L)}P[b][0]._groupMinRank=g,P[b][0]._preGroupSort=b}var A=function(I,j){return I[0]._groupMinRank-j[0]._groupMinRank||I[0]._preGroupSort-j[0]._preGroupSort},R=function(I,j){return I.trace.legendrank-j.trace.legendrank||I._preSort-j._preSort};for(P.forEach(function(I,j){I[0]._preGroupSort=j}),P.sort(A),b=0;b<P.length;b++){P[b].forEach(function(I,j){I._preSort=j}),P[b].sort(R);var O=P[b][0].trace,N=null;for(f=0;f<P[b].length;f++){var z=P[b][f].trace.legendgrouptitle;if(z&&z.text){N=z,d&&(z.font=M._groupTitleFont);break}}if(r&&P[b].reverse(),N){var F=!1;for(f=0;f<P[b].length;f++)if(x.traceIs(P[b][f].trace,"pie-like")){F=!0;break}P[b].unshift({i:-1,groupTitle:N,noClick:F,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:M.groupclick==="toggleitem"?!0:O.visible}})}for(f=0;f<P[b].length;f++)P[b][f]=[P[b][f]]}return M._lgroupsLength=P.length,M._maxNameLength=h,P}},33048:function(X,B,t){var x=t(24040),E=t(3400),i=E.pushUnique,M=!0;X.exports=function(m,d,v){var r=d._fullLayout;if(d._dragged||d._editing)return;var e=r.legend.itemclick,s=r.legend.itemdoubleclick,n=r.legend.groupclick;v===1&&e==="toggle"&&s==="toggleothers"&&M&&d.data&&d._context.showTips&&E.notifier(E._(d,"Double-click on legend to isolate one trace"),"long"),M=!1;var l;if(v===1?l=e:v===2&&(l=s),!l)return;var o=n==="togglegroup",h=r.hiddenlabels?r.hiddenlabels.slice():[],b=m.data()[0][0];if(b.groupTitle&&b.noClick)return;var f=d._fullData,k=(r.shapes||[]).filter(function(Pt){return Pt.showlegend}),a=f.concat(k),c=b.trace;c._isShape&&(c=c._fullInput);var p=c.legendgroup,w,S,_,T,P,u,g={},L=[],A=[],R=[];function O(Pt,Rt){var Ht=L.indexOf(Pt),Dt=g.visible;return Dt||(Dt=g.visible=[]),L.indexOf(Pt)===-1&&(L.push(Pt),Ht=L.length-1),Dt[Ht]=Rt,Ht}var N=(r.shapes||[]).map(function(Pt){return Pt._input}),z=!1;function F(Pt,Rt){N[Pt].visible=Rt,z=!0}function I(Pt,Rt){if(!(b.groupTitle&&!o)){var Ht=Pt._fullInput||Pt,Dt=Ht._isShape,Xt=Ht.index;if(Xt===void 0&&(Xt=Ht._index),x.hasTransform(Ht,"groupby")){var se=A[Xt];if(!se){var Yt=x.getTransformIndices(Ht,"groupby"),ue=Yt[Yt.length-1];se=E.keyedContainer(Ht,"transforms["+ue+"].styles","target","value.visible"),A[Xt]=se}var ie=se.get(Pt._group);ie===void 0&&(ie=!0),ie!==!1&&se.set(Pt._group,Rt),R[Xt]=O(Xt,Ht.visible!==!1)}else{var fe=Ht.visible===!1?!1:Rt;Dt?F(Xt,fe):O(Xt,fe)}}}var j=c.legend,V=c._fullInput,W=V&&V._isShape;if(!W&&x.traceIs(c,"pie-like")){var K=b.label,et=h.indexOf(K);if(l==="toggle")et===-1?h.push(K):h.splice(et,1);else if(l==="toggleothers"){var lt=et!==-1,ot=[];for(w=0;w<d.calcdata.length;w++){var q=d.calcdata[w];for(S=0;S<q.length;S++){var J=q[S],it=J.label;j===q[0].trace.legend&&K!==it&&(h.indexOf(it)===-1&&(lt=!0),i(h,it),ot.push(it))}}if(!lt)for(var Z=0;Z<ot.length;Z++){var tt=h.indexOf(ot[Z]);tt!==-1&&h.splice(tt,1)}}x.call("_guiRelayout",d,"hiddenlabels",h)}else{var st=p&&p.length,Q=[],G;if(st)for(w=0;w<a.length;w++)G=a[w],G.visible&&G.legendgroup===p&&Q.push(w);if(l==="toggle"){var ut;switch(c.visible){case!0:ut="legendonly";break;case!1:ut=!1;break;case"legendonly":ut=!0;break}if(st)if(o)for(w=0;w<a.length;w++){var at=a[w];at.visible!==!1&&at.legendgroup===p&&I(at,ut)}else I(c,ut);else I(c,ut)}else if(l==="toggleothers"){var dt,gt,wt,kt,Ot,bt=!0;for(w=0;w<a.length;w++)if(Ot=a[w],dt=Ot===c,wt=Ot.showlegend!==!0,!(dt||wt)&&(gt=st&&Ot.legendgroup===p,!gt&&Ot.legend===j&&Ot.visible===!0&&!x.traceIs(Ot,"notLegendIsolatable"))){bt=!1;break}for(w=0;w<a.length;w++)if(Ot=a[w],!(Ot.visible===!1||Ot.legend!==j)&&!x.traceIs(Ot,"notLegendIsolatable"))switch(c.visible){case"legendonly":I(Ot,!0);break;case!0:kt=bt?!0:"legendonly",dt=Ot===c,wt=Ot.showlegend!==!0&&!Ot.legendgroup,gt=dt||st&&Ot.legendgroup===p,I(Ot,gt||wt?!0:kt);break}}for(w=0;w<A.length;w++)if(_=A[w],!!_){var _t=_.constructUpdate(),mt=Object.keys(_t);for(S=0;S<mt.length;S++)T=mt[S],u=g[T]=g[T]||[],u[R[w]]=_t[T]}for(P=Object.keys(g),w=0;w<P.length;w++)for(T=P[w],S=0;S<L.length;S++)g[T].hasOwnProperty(S)||(g[T][S]=void 0);z?x.call("_guiUpdate",d,g,{shapes:N},L):x.call("_guiRestyle",d,g,L)}}},42451:function(X,B){B.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},B.isVertical=function(t){return t.orientation!=="h"},B.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},2780:function(X,B,t){X.exports={moduleType:"component",name:"legend",layoutAttributes:t(3800),supplyLayoutDefaults:t(77864),draw:t(31140),style:t(2012)}},2012:function(X,B,t){var x=t(33428),E=t(24040),i=t(3400),M=i.strTranslate,m=t(43616),d=t(76308),v=t(94288).extractOpts,r=t(43028),e=t(10528),s=t(69656).castOption,n=t(65196),l=12,o=5,h=2,b=10,f=5;X.exports=function(p,w,S){var _=w._fullLayout;S||(S=_.legend);var T=S.itemsizing==="constant",P=S.itemwidth,u=(P+n.itemGap*2)/2,g=M(u,0),L=function(ot,q,J,it){var Z;if(ot+1)Z=ot;else if(q&&q.width>0)Z=q.width;else return 0;return T?it:Math.min(Z,J)};p.each(function(ot){var q=x.select(this),J=i.ensureSingle(q,"g","layers");J.style("opacity",ot[0].trace.opacity);var it=S.indentation,Z=S.valign,tt=ot[0].lineHeight,st=ot[0].height;if(Z==="middle"&&it===0||!tt||!st)J.attr("transform",null);else{var Q={top:1,bottom:-1}[Z],G=Q*(.5*(tt-st+3))||0,ut=S.indentation;J.attr("transform",M(ut,G))}var at=J.selectAll("g.legendfill").data([ot]);at.enter().append("g").classed("legendfill",!0);var dt=J.selectAll("g.legendlines").data([ot]);dt.enter().append("g").classed("legendlines",!0);var gt=J.selectAll("g.legendsymbols").data([ot]);gt.enter().append("g").classed("legendsymbols",!0),gt.selectAll("g.legendpoints").data([ot]).enter().append("g").classed("legendpoints",!0)}).each(lt).each(O).each(z).each(N).each(I).each(K).each(W).each(A).each(R).each(j).each(V);function A(ot){var q=a(ot),J=q.showFill,it=q.showLine,Z=q.showGradientLine,tt=q.showGradientFill,st=q.anyFill,Q=q.anyLine,G=ot[0],ut=G.trace,at,dt,gt=v(ut),wt=gt.colorscale,kt=gt.reversescale,Ot=function(Dt){if(Dt.size())if(J)m.fillGroupStyle(Dt,w,!0);else{var Xt="legendfill-"+ut.uid;m.gradient(Dt,w,Xt,k(kt),wt,"fill")}},bt=function(Dt){if(Dt.size()){var Xt="legendline-"+ut.uid;m.lineGroupStyle(Dt),m.gradient(Dt,w,Xt,k(kt),wt,"stroke")}},_t=r.hasMarkers(ut)||!st?"M5,0":Q?"M5,-2":"M5,-3",mt=x.select(this),Pt=mt.select(".legendfill").selectAll("path").data(J||tt?[ot]:[]);if(Pt.enter().append("path").classed("js-fill",!0),Pt.exit().remove(),Pt.attr("d",_t+"h"+P+"v6h-"+P+"z").call(Ot),it||Z){var Rt=L(void 0,ut.line,b,o);dt=i.minExtend(ut,{line:{width:Rt}}),at=[i.minExtend(G,{trace:dt})]}var Ht=mt.select(".legendlines").selectAll("path").data(it||Z?[at]:[]);Ht.enter().append("path").classed("js-line",!0),Ht.exit().remove(),Ht.attr("d",_t+(Z?"l"+P+",0.0001":"h"+P)).call(it?m.lineGroupStyle:bt)}function R(ot){var q=a(ot),J=q.anyFill,it=q.anyLine,Z=q.showLine,tt=q.showMarker,st=ot[0],Q=st.trace,G=!tt&&!it&&!J&&r.hasText(Q),ut,at;function dt(Pt,Rt,Ht,Dt){var Xt=i.nestedProperty(Q,Pt).get(),se=i.isArrayOrTypedArray(Xt)&&Rt?Rt(Xt):Xt;if(T&&se&&Dt!==void 0&&(se=Dt),Ht){if(se<Ht[0])return Ht[0];if(se>Ht[1])return Ht[1]}return se}function gt(Pt){return st._distinct&&st.index&&Pt[st.index]?Pt[st.index]:Pt[0]}if(tt||G||Z){var wt={},kt={};if(tt){wt.mc=dt("marker.color",gt),wt.mx=dt("marker.symbol",gt),wt.mo=dt("marker.opacity",i.mean,[.2,1]),wt.mlc=dt("marker.line.color",gt),wt.mlw=dt("marker.line.width",i.mean,[0,5],h),kt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ot=dt("marker.size",i.mean,[2,16],l);wt.ms=Ot,kt.marker.size=Ot}Z&&(kt.line={width:dt("line.width",gt,[0,10],o)}),G&&(wt.tx="Aa",wt.tp=dt("textposition",gt),wt.ts=10,wt.tc=dt("textfont.color",gt),wt.tf=dt("textfont.family",gt)),ut=[i.minExtend(st,wt)],at=i.minExtend(Q,kt),at.selectedpoints=null,at.texttemplate=null}var bt=x.select(this).select("g.legendpoints"),_t=bt.selectAll("path.scatterpts").data(tt?ut:[]);_t.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",g),_t.exit().remove(),_t.call(m.pointStyle,at,w),tt&&(ut[0].mrc=3);var mt=bt.selectAll("g.pointtext").data(G?ut:[]);mt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",g),mt.exit().remove(),mt.selectAll("text").call(m.textPointStyle,at,w)}function O(ot){var q=ot[0].trace,J=q.type==="waterfall";if(ot[0]._distinct&&J){var it=ot[0].trace[ot[0].dir].marker;return ot[0].mc=it.color,ot[0].mlw=it.line.width,ot[0].mlc=it.line.color,F(ot,this,"waterfall")}var Z=[];q.visible&&J&&(Z=ot[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var tt=x.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Z);tt.enter().append("path").classed("legendwaterfall",!0).attr("transform",g).style("stroke-miterlimit",1),tt.exit().remove(),tt.each(function(st){var Q=x.select(this),G=q[st[0]].marker,ut=L(void 0,G.line,f,h);Q.attr("d",st[1]).style("stroke-width",ut+"px").call(d.fill,G.color),ut&&Q.call(d.stroke,G.line.color)})}function N(ot){F(ot,this)}function z(ot){F(ot,this,"funnel")}function F(ot,q,J){var it=ot[0].trace,Z=it.marker||{},tt=Z.line||{},st=Z.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",Q=J?it.visible&&it.type===J:E.traceIs(it,"bar"),G=x.select(q).select("g.legendpoints").selectAll("path.legend"+J).data(Q?[ot]:[]);G.enter().append("path").classed("legend"+J,!0).attr("d",st).attr("transform",g),G.exit().remove(),G.each(function(ut){var at=x.select(this),dt=ut[0],gt=L(dt.mlw,Z.line,f,h);at.style("stroke-width",gt+"px");var wt=dt.mcc;if(!S._inHover&&"mc"in dt){var kt=v(Z),Ot=kt.mid;Ot===void 0&&(Ot=(kt.max+kt.min)/2),wt=m.tryColorscale(Z,"")(Ot)}var bt=wt||dt.mc||Z.color,_t=Z.pattern,mt=_t&&m.getPatternAttr(_t.shape,0,"");if(mt){var Pt=m.getPatternAttr(_t.bgcolor,0,null),Rt=m.getPatternAttr(_t.fgcolor,0,null),Ht=_t.fgopacity,Dt=c(_t.size,8,10),Xt=c(_t.solidity,.5,1),se="legend-"+it.uid;at.call(m.pattern,"legend",w,se,mt,Dt,Xt,wt,_t.fillmode,Pt,Rt,Ht)}else at.call(d.fill,bt);gt&&d.stroke(at,dt.mlc||tt.color)})}function I(ot){var q=ot[0].trace,J=x.select(this).select("g.legendpoints").selectAll("path.legendbox").data(q.visible&&E.traceIs(q,"box-violin")?[ot]:[]);J.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",g),J.exit().remove(),J.each(function(){var it=x.select(this);if((q.boxpoints==="all"||q.points==="all")&&d.opacity(q.fillcolor)===0&&d.opacity((q.line||{}).color)===0){var Z=i.minExtend(q,{marker:{size:T?l:i.constrain(q.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});J.call(m.pointStyle,Z,w)}else{var tt=L(void 0,q.line,f,h);it.style("stroke-width",tt+"px").call(d.fill,q.fillcolor),tt&&d.stroke(it,q.line.color)}})}function j(ot){var q=ot[0].trace,J=x.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(q.visible&&q.type==="candlestick"?[ot,ot]:[]);J.enter().append("path").classed("legendcandle",!0).attr("d",function(it,Z){return Z?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",g).style("stroke-miterlimit",1),J.exit().remove(),J.each(function(it,Z){var tt=x.select(this),st=q[Z?"increasing":"decreasing"],Q=L(void 0,st.line,f,h);tt.style("stroke-width",Q+"px").call(d.fill,st.fillcolor),Q&&d.stroke(tt,st.line.color)})}function V(ot){var q=ot[0].trace,J=x.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(q.visible&&q.type==="ohlc"?[ot,ot]:[]);J.enter().append("path").classed("legendohlc",!0).attr("d",function(it,Z){return Z?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",g).style("stroke-miterlimit",1),J.exit().remove(),J.each(function(it,Z){var tt=x.select(this),st=q[Z?"increasing":"decreasing"],Q=L(void 0,st.line,f,h);tt.style("fill","none").call(m.dashLine,st.line.dash,Q),Q&&d.stroke(tt,st.line.color)})}function W(ot){et(ot,this,"pie")}function K(ot){et(ot,this,"funnelarea")}function et(ot,q,J){var it=ot[0],Z=it.trace,tt=J?Z.visible&&Z.type===J:E.traceIs(Z,J),st=x.select(q).select("g.legendpoints").selectAll("path.legend"+J).data(tt?[ot]:[]);if(st.enter().append("path").classed("legend"+J,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",g),st.exit().remove(),st.size()){var Q=Z.marker||{},G=L(s(Q.line.width,it.pts),Q.line,f,h),ut="pieLike",at=i.minExtend(Z,{marker:{line:{width:G}}},ut),dt=i.minExtend(it,{trace:at},ut);e(st,dt,at,w)}}function lt(ot){var q=ot[0].trace,J,it=[];if(q.visible)switch(q.type){case"histogram2d":case"heatmap":it=[["M-15,-2V4H15V-2Z"]],J=!0;break;case"choropleth":case"choroplethmapbox":it=[["M-6,-6V6H6V-6Z"]],J=!0;break;case"densitymapbox":it=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],J="radial";break;case"cone":it=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],J=!1;break;case"streamtube":it=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],J=!1;break;case"surface":it=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],J=!0;break;case"mesh3d":it=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],J=!1;break;case"volume":it=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],J=!0;break;case"isosurface":it=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],J=!1;break}var Z=x.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(it);Z.enter().append("path").classed("legend3dandfriends",!0).attr("transform",g).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(tt,st){var Q=x.select(this),G=v(q),ut=G.colorscale,at=G.reversescale,dt=function(Ot){if(Ot.size()){var bt="legendfill-"+q.uid;m.gradient(Ot,w,bt,k(at,J==="radial"),ut,"fill")}},gt;if(ut){if(!J){var wt=ut.length;gt=st===0?ut[at?wt-1:0][1]:st===1?ut[at?0:wt-1][1]:ut[Math.floor((wt-1)/2)][1]}}else{var kt=q.vertexcolor||q.facecolor||q.color;gt=i.isArrayOrTypedArray(kt)?kt[st]||kt[0]:kt}Q.attr("d",tt[0]),gt?Q.call(d.fill,gt):Q.call(dt)})}};function k(p,w){var S=w?"radial":"horizontal";return S+(p?"":"reversed")}function a(p){var w=p[0].trace,S=w.contours,_=r.hasLines(w),T=r.hasMarkers(w),P=w.visible&&w.fill&&w.fill!=="none",u=!1,g=!1;if(S){var L=S.coloring;L==="lines"?u=!0:_=L==="none"||L==="heatmap"||S.showlines,S.type==="constraint"?P=S._operation!=="=":(L==="fill"||L==="heatmap")&&(g=!0)}return{showMarker:T,showLine:_,showFill:P,showGradientLine:u,showGradientFill:g,anyLine:_||u,anyFill:P||g}}function c(p,w,S){return p&&i.isArrayOrTypedArray(p)?w:p>S?S:p}},66540:function(X,B,t){t(76052),X.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(X,B,t){var x=t(24040),E=t(7316),i=t(79811),M=t(9224),m=t(4016).eraseActiveShape,d=t(3400),v=d._,r=X.exports={};r.toImage={name:"toImage",title:function(p){var w=p._context.toImageButtonOptions||{},S=w.format||"png";return S==="png"?v(p,"Download plot as a png"):v(p,"Download plot")},icon:M.camera,click:function(p){var w=p._context.toImageButtonOptions,S={format:w.format||"png"};d.notifier(v(p,"Taking snapshot - this may take a few seconds"),"long"),S.format!=="svg"&&d.isIE()&&(d.notifier(v(p,"IE only supports svg.  Changing format to svg."),"long"),S.format="svg"),["filename","width","height","scale"].forEach(function(_){_ in w&&(S[_]=w[_])}),x.call("downloadImage",p,S).then(function(_){d.notifier(v(p,"Snapshot succeeded")+" - "+_,"long")}).catch(function(){d.notifier(v(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(p){return v(p,"Edit in Chart Studio")},icon:M.disk,click:function(p){E.sendDataToCloud(p)}},r.editInChartStudio={name:"editInChartStudio",title:function(p){return v(p,"Edit in Chart Studio")},icon:M.pencil,click:function(p){E.sendDataToCloud(p)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return v(p,"Zoom")},attr:"dragmode",val:"zoom",icon:M.zoombox,click:e},r.pan2d={name:"pan2d",_cat:"pan",title:function(p){return v(p,"Pan")},attr:"dragmode",val:"pan",icon:M.pan,click:e},r.select2d={name:"select2d",_cat:"select",title:function(p){return v(p,"Box Select")},attr:"dragmode",val:"select",icon:M.selectbox,click:e},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return v(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:M.lasso,click:e},r.drawclosedpath={name:"drawclosedpath",title:function(p){return v(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:M.drawclosedpath,click:e},r.drawopenpath={name:"drawopenpath",title:function(p){return v(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:M.drawopenpath,click:e},r.drawline={name:"drawline",title:function(p){return v(p,"Draw line")},attr:"dragmode",val:"drawline",icon:M.drawline,click:e},r.drawrect={name:"drawrect",title:function(p){return v(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:M.drawrect,click:e},r.drawcircle={name:"drawcircle",title:function(p){return v(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:M.drawcircle,click:e},r.eraseshape={name:"eraseshape",title:function(p){return v(p,"Erase active shape")},icon:M.eraseshape,click:m},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return v(p,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:e},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return v(p,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:e},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return v(p,"Autoscale")},attr:"zoom",val:"auto",icon:M.autoscale,click:e},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return v(p,"Reset axes")},attr:"zoom",val:"reset",icon:M.home,click:e},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return v(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:M.tooltip_basic,gravity:"ne",click:e},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return v(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:M.tooltip_compare,gravity:"ne",click:e};function e(p,w){var S=w.currentTarget,_=S.getAttribute("data-attr"),T=S.getAttribute("data-val")||!0,P=p._fullLayout,u={},g=i.list(p,null,!0),L=P._cartesianSpikesEnabled,A,R;if(_==="zoom"){var O=T==="in"?.5:2,N=(1+O)/2,z=(1-O)/2,F;for(R=0;R<g.length;R++)if(A=g[R],!A.fixedrange)if(F=A._name,T==="auto")u[F+".autorange"]=!0;else if(T==="reset")A._rangeInitial0===void 0&&A._rangeInitial1===void 0?u[F+".autorange"]=!0:A._rangeInitial0===void 0?(u[F+".autorange"]=A._autorangeInitial,u[F+".range"]=[null,A._rangeInitial1]):A._rangeInitial1===void 0?(u[F+".range"]=[A._rangeInitial0,null],u[F+".autorange"]=A._autorangeInitial):u[F+".range"]=[A._rangeInitial0,A._rangeInitial1],A._showSpikeInitial!==void 0&&(u[F+".showspikes"]=A._showSpikeInitial,L==="on"&&!A._showSpikeInitial&&(L="off"));else{var I=[A.r2l(A.range[0]),A.r2l(A.range[1])],j=[N*I[0]+z*I[1],N*I[1]+z*I[0]];u[F+".range[0]"]=A.l2r(j[0]),u[F+".range[1]"]=A.l2r(j[1])}}else _==="hovermode"&&(T==="x"||T==="y")&&(T=P._isHoriz?"y":"x",S.setAttribute("data-val",T)),u[_]=T;P._cartesianSpikesEnabled=L,x.call("_guiRelayout",p,u)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return v(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:M.zoombox,click:s},r.pan3d={name:"pan3d",_cat:"pan",title:function(p){return v(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:M.pan,click:s},r.orbitRotation={name:"orbitRotation",title:function(p){return v(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:M["3d_rotate"],click:s},r.tableRotation={name:"tableRotation",title:function(p){return v(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:M["z-axis"],click:s};function s(p,w){for(var S=w.currentTarget,_=S.getAttribute("data-attr"),T=S.getAttribute("data-val")||!0,P=p._fullLayout._subplots.gl3d||[],u={},g=_.split("."),L=0;L<P.length;L++)u[P[L]+"."+g[1]]=T;var A=T==="pan"?T:"zoom";u.dragmode=A,x.call("_guiRelayout",p,u)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return v(p,"Reset camera to default")},attr:"resetDefault",icon:M.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return v(p,"Reset camera to last save")},attr:"resetLastSave",icon:M.movie,click:n};function n(p,w){for(var S=w.currentTarget,_=S.getAttribute("data-attr"),T=_==="resetLastSave",P=_==="resetDefault",u=p._fullLayout,g=u._subplots.gl3d||[],L={},A=0;A<g.length;A++){var R=g[A],O=R+".camera",N=R+".aspectratio",z=R+".aspectmode",F=u[R]._scene,I;T?(L[O+".up"]=F.viewInitial.up,L[O+".eye"]=F.viewInitial.eye,L[O+".center"]=F.viewInitial.center,I=!0):P&&(L[O+".up"]=null,L[O+".eye"]=null,L[O+".center"]=null,I=!0),I&&(L[N+".x"]=F.viewInitial.aspectratio.x,L[N+".y"]=F.viewInitial.aspectratio.y,L[N+".z"]=F.viewInitial.aspectratio.z,L[z]=F.viewInitial.aspectmode)}x.call("_guiRelayout",p,L)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return v(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:o};function l(p,w){var S=w.currentTarget,_=S._previousVal,T=p._fullLayout,P=T._subplots.gl3d||[],u=["xaxis","yaxis","zaxis"],g={},L={};if(_)L=_,S._previousVal=null;else{for(var A=0;A<P.length;A++){var R=P[A],O=T[R],N=R+".hovermode";g[N]=O.hovermode,L[N]=!1;for(var z=0;z<3;z++){var F=u[z],I=R+"."+F+".showspikes";L[I]=!1,g[I]=O[F].showspikes}}S._previousVal=g}return L}function o(p,w){var S=l(p,w);x.call("_guiRelayout",p,S)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return v(p,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:h},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return v(p,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:h},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return v(p,"Reset")},attr:"reset",val:null,icon:M.autoscale,click:h},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return v(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:f};function h(p,w){for(var S=w.currentTarget,_=S.getAttribute("data-attr"),T=S.getAttribute("data-val")||!0,P=p._fullLayout,u=P._subplots.geo||[],g=0;g<u.length;g++){var L=u[g],A=P[L];if(_==="zoom"){var R=A.projection.scale,O=T==="in"?2*R:.5*R;x.call("_guiRelayout",p,L+".projection.scale",O)}}_==="reset"&&c(p,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return v(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:f},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return v(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:M.tooltip_basic,gravity:"ne",click:f};function b(p){var w=p._fullLayout;return w.hovermode?!1:w._has("cartesian")?w._isHoriz?"y":"x":"closest"}function f(p){var w=b(p);x.call("_guiRelayout",p,"hovermode",w)}r.resetViewSankey={name:"resetSankeyGroup",title:function(p){return v(p,"Reset view")},icon:M.home,click:function(p){for(var w={"node.groups":[],"node.x":[],"node.y":[]},S=0;S<p._fullData.length;S++){var _=p._fullData[S]._viewInitial;w["node.groups"].push(_.node.groups.slice()),w["node.x"].push(_.node.x.slice()),w["node.y"].push(_.node.y.slice())}x.call("restyle",p,w)}},r.toggleHover={name:"toggleHover",title:function(p){return v(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:function(p,w){var S=l(p,w);S.hovermode=b(p),x.call("_guiRelayout",p,S)}},r.resetViews={name:"resetViews",title:function(p){return v(p,"Reset views")},icon:M.home,click:function(p,w){var S=w.currentTarget;S.setAttribute("data-attr","zoom"),S.setAttribute("data-val","reset"),e(p,w),S.setAttribute("data-attr","resetLastSave"),n(p,w),c(p,"geo"),c(p,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(p){return v(p,"Toggle Spike Lines")},icon:M.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var w=p._fullLayout,S=w._cartesianSpikesEnabled;w._cartesianSpikesEnabled=S==="on"?"off":"on",x.call("_guiRelayout",p,k(p))}};function k(p){for(var w=p._fullLayout,S=w._cartesianSpikesEnabled==="on",_=i.list(p,null,!0),T={},P=0;P<_.length;P++){var u=_[P];T[u._name+".showspikes"]=S?!0:u._showSpikeInitial}return T}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return v(p,"Reset view")},attr:"reset",icon:M.home,click:function(p){c(p,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return v(p,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:a},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return v(p,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:a};function a(p,w){for(var S=w.currentTarget,_=S.getAttribute("data-val"),T=p._fullLayout,P=T._subplots.mapbox||[],u=1.05,g={},L=0;L<P.length;L++){var A=P[L],R=T[A].zoom,O=_==="in"?u*R:R/u;g[A+".zoom"]=O}x.call("_guiRelayout",p,g)}function c(p,w){for(var S=p._fullLayout,_=S._subplots[w]||[],T={},P=0;P<_.length;P++)for(var u=_[P],g=S[u]._subplot,L=g.viewInitial,A=Object.keys(L),R=0;R<A.length;R++){var O=A[R];T[u+"."+O]=L[O]}x.call("_guiRelayout",p,T)}},76052:function(X,B,t){var x=t(44248),E=Object.keys(x),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],M=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),m=[],d=function(v){if(M.indexOf(v._cat||v.name)===-1){var r=v.name,e=(v._cat||v.name).toLowerCase();m.indexOf(r)===-1&&m.push(r),m.indexOf(e)===-1&&m.push(e)}};E.forEach(function(v){d(x[v])}),m.sort(),X.exports={DRAW_MODES:i,backButtons:M,foreButtons:m}},90824:function(X,B,t){var x=t(3400),E=t(76308),i=t(31780),M=t(66540);X.exports=function(m,d){var v=m.modebar||{},r=i.newContainer(d,"modebar");function e(n,l){return x.coerce(v,r,M,n,l)}e("orientation"),e("bgcolor",E.addOpacity(d.paper_bgcolor,.5));var s=E.contrast(E.rgb(d.modebar.bgcolor));e("color",E.addOpacity(s,.3)),e("activecolor",E.addOpacity(s,.7)),e("uirevision",d.uirevision),e("add"),e("remove")}},45460:function(X,B,t){X.exports={moduleType:"component",name:"modebar",layoutAttributes:t(66540),supplyLayoutDefaults:t(90824),manage:t(18816)}},18816:function(X,B,t){var x=t(79811),E=t(43028),i=t(24040),M=t(10624).isUnifiedHover,m=t(66400),d=t(44248),v=t(76052).DRAW_MODES,r=t(3400).extendDeep;X.exports=function(b){var f=b._fullLayout,k=b._context,a=f._modeBar;if(!k.displayModeBar&&!k.watermark){a&&(a.destroy(),delete f._modeBar);return}if(!Array.isArray(k.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(k.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var c=k.modeBarButtons,p;Array.isArray(c)&&c.length?p=h(c):!k.displayModeBar&&k.watermark?p=[]:p=e(b),a?a.update(b,p):f._modeBar=m(b,p)};function e(b){var f=b._fullLayout,k=b._fullData,a=b._context;function c(Q,G){if(typeof G=="string"){if(G.toLowerCase()===Q.toLowerCase())return!0}else{var ut=G.name,at=G._cat||G.name;if(ut===Q||at===Q.toLowerCase())return!0}return!1}var p=f.modebar.add;typeof p=="string"&&(p=[p]);var w=f.modebar.remove;typeof w=="string"&&(w=[w]);var S=a.modeBarButtonsToAdd.concat(p.filter(function(Q){for(var G=0;G<a.modeBarButtonsToRemove.length;G++)if(c(Q,a.modeBarButtonsToRemove[G]))return!1;return!0})),_=a.modeBarButtonsToRemove.concat(w.filter(function(Q){for(var G=0;G<a.modeBarButtonsToAdd.length;G++)if(c(Q,a.modeBarButtonsToAdd[G]))return!1;return!0})),T=f._has("cartesian"),P=f._has("gl3d"),u=f._has("geo"),g=f._has("pie"),L=f._has("funnelarea"),A=f._has("gl2d"),R=f._has("ternary"),O=f._has("mapbox"),N=f._has("polar"),z=f._has("smith"),F=f._has("sankey"),I=s(f),j=M(f.hovermode),V=[];function W(Q){if(Q.length){for(var G=[],ut=0;ut<Q.length;ut++){for(var at=Q[ut],dt=d[at],gt=dt.name.toLowerCase(),wt=(dt._cat||dt.name).toLowerCase(),kt=!1,Ot=0;Ot<_.length;Ot++){var bt=_[Ot].toLowerCase();if(bt===gt||bt===wt){kt=!0;break}}kt||G.push(d[at])}V.push(G)}}var K=["toImage"];a.showEditInChartStudio?K.push("editInChartStudio"):a.showSendToCloud&&K.push("sendDataToCloud"),W(K);var et=[],lt=[],ot=[],q=[];(T||A||g||L||R)+u+P+O+N+z>1?(lt=["toggleHover"],ot=["resetViews"]):u?(et=["zoomInGeo","zoomOutGeo"],lt=["hoverClosestGeo"],ot=["resetGeo"]):P?(lt=["hoverClosest3d"],ot=["resetCameraDefault3d","resetCameraLastSave3d"]):O?(et=["zoomInMapbox","zoomOutMapbox"],lt=["toggleHover"],ot=["resetViewMapbox"]):A?lt=["hoverClosestGl2d"]:g?lt=["hoverClosestPie"]:F?(lt=["hoverClosestCartesian","hoverCompareCartesian"],ot=["resetViewSankey"]):lt=["toggleHover"],T&&(lt=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(l(k)||j)&&(lt=[]),(T||A)&&!I&&(et=["zoomIn2d","zoomOut2d","autoScale2d"],ot[0]!=="resetViews"&&(ot=["resetScale2d"])),P?q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(T||A)&&!I||R?q=["zoom2d","pan2d"]:O||u?q=["pan2d"]:N&&(q=["zoom2d"]),n(k)&&q.push("select2d","lasso2d");var J=[],it=function(Q){J.indexOf(Q)===-1&&lt.indexOf(Q)!==-1&&J.push(Q)};if(Array.isArray(S)){for(var Z=[],tt=0;tt<S.length;tt++){var st=S[tt];typeof st=="string"?(st=st.toLowerCase(),v.indexOf(st)!==-1?(f._has("mapbox")||f._has("cartesian"))&&q.push(st):st==="togglespikelines"?it("toggleSpikelines"):st==="togglehover"?it("toggleHover"):st==="hovercompare"?it("hoverCompareCartesian"):st==="hoverclosest"?(it("hoverClosestCartesian"),it("hoverClosestGeo"),it("hoverClosest3d"),it("hoverClosestGl2d"),it("hoverClosestPie")):st==="v1hovermode"&&(it("toggleHover"),it("hoverClosestCartesian"),it("hoverCompareCartesian"),it("hoverClosestGeo"),it("hoverClosest3d"),it("hoverClosestGl2d"),it("hoverClosestPie"))):Z.push(st)}S=Z}return W(q),W(et.concat(ot)),W(J),o(V,S)}function s(b){for(var f=x.list({_fullLayout:b},null,!0),k=0;k<f.length;k++)if(!f[k].fixedrange)return!1;return!0}function n(b){for(var f=!1,k=0;k<b.length&&!f;k++){var a=b[k];!a._module||!a._module.selectPoints||(i.traceIs(a,"scatter-like")?(E.hasMarkers(a)||E.hasText(a))&&(f=!0):i.traceIs(a,"box-violin")?(a.boxpoints==="all"||a.points==="all")&&(f=!0):f=!0)}return f}function l(b){for(var f=0;f<b.length;f++)if(!i.traceIs(b[f],"noHover"))return!1;return!0}function o(b,f){if(f.length)if(Array.isArray(f[0]))for(var k=0;k<f.length;k++)b.push(f[k]);else b.push(f);return b}function h(b){for(var f=r([],b),k=0;k<f.length;k++)for(var a=f[k],c=0;c<a.length;c++){var p=a[c];if(typeof p=="string")if(d[p]!==void 0)f[k][c]=d[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return f}},66400:function(X,B,t){var x=t(33428),E=t(38248),i=t(3400),M=t(9224),m=t(25788).version,d=new DOMParser;function v(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=v.prototype;r.update=function(n,l){this.graphInfo=n;var o=this.graphInfo._context,h=this.graphInfo._fullLayout,b="modebar-"+h._uid;this.element.setAttribute("id",b),this._uid=b,this.element.className="modebar",o.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),h.modebar.orientation==="v"&&(this.element.className+=" vertical",l=l.reverse());var f=h.modebar,k=o.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(b),i.addRelatedStyleRule(b,k+"#"+b+" .modebar-group","background-color: "+f.bgcolor),i.addRelatedStyleRule(b,"#"+b+" .modebar-btn .icon path","fill: "+f.color),i.addRelatedStyleRule(b,"#"+b+" .modebar-btn:hover .icon path","fill: "+f.activecolor),i.addRelatedStyleRule(b,"#"+b+" .modebar-btn.active .icon path","fill: "+f.activecolor);var a=!this.hasButtons(l),c=this.hasLogo!==o.displaylogo,p=this.locale!==o.locale;if(this.locale=o.locale,(a||c||p)&&(this.removeAllButtons(),this.updateButtons(l),o.watermark||o.displaylogo)){var w=this.getLogo();o.watermark&&(w.className=w.className+" watermark"),h.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var l=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(o){var h=l.createGroup();o.forEach(function(b){var f=b.name;if(!f)throw new Error("must provide button 'name' in button config");if(l.buttonsNames.indexOf(f)!==-1)throw new Error("button name '"+f+"' is taken");l.buttonsNames.push(f);var k=l.createButton(b);l.buttonElements.push(k),h.appendChild(k)}),l.element.appendChild(h)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var l=this,o=document.createElement("a");o.setAttribute("rel","tooltip"),o.className="modebar-btn";var h=n.title;h===void 0?h=n.name:typeof h=="function"&&(h=h(this.graphInfo)),(h||h===0)&&o.setAttribute("data-title",h),n.attr!==void 0&&o.setAttribute("data-attr",n.attr);var b=n.val;b!==void 0&&(typeof b=="function"&&(b=b(this.graphInfo)),o.setAttribute("data-val",b));var f=n.click;if(typeof f!="function")throw new Error("must provide button 'click' function in button config");o.addEventListener("click",function(a){n.click(l.graphInfo,a),l.updateActiveButton(a.currentTarget)}),o.setAttribute("data-toggle",n.toggle||!1),n.toggle&&x.select(o).classed("active",!0);var k=n.icon;return typeof k=="function"?o.appendChild(k()):o.appendChild(this.createIcon(k||M.question)),o.setAttribute("data-gravity",n.gravity||"n"),o},r.createIcon=function(n){var l=E(n.height)?Number(n.height):n.ascent-n.descent,o="http://www.w3.org/2000/svg",h;if(n.path){h=document.createElementNS(o,"svg"),h.setAttribute("viewBox",[0,0,n.width,l].join(" ")),h.setAttribute("class","icon");var b=document.createElementNS(o,"path");b.setAttribute("d",n.path),n.transform?b.setAttribute("transform",n.transform):n.ascent!==void 0&&b.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),h.appendChild(b)}if(n.svg){var f=d.parseFromString(n.svg,"application/xml");h=f.childNodes[0]}return h.setAttribute("height","1em"),h.setAttribute("width","1em"),h},r.updateActiveButton=function(n){var l=this.graphInfo._fullLayout,o=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(h){var b=h.getAttribute("data-val")||!0,f=h.getAttribute("data-attr"),k=h.getAttribute("data-toggle")==="true",a=x.select(h);if(k)f===o&&a.classed("active",!a.classed("active"));else{var c=f===null?f:i.nestedProperty(l,f).get();a.classed("active",c===b)}})},r.hasButtons=function(n){var l=this.buttons;if(!l||n.length!==l.length)return!1;for(var o=0;o<n.length;++o){if(n[o].length!==l[o].length)return!1;for(var h=0;h<n[o].length;h++)if(n[o][h].name!==l[o][h].name)return!1}return!0};function e(n){return n+" (v"+m+")"}r.getLogo=function(){var n=this.createGroup(),l=document.createElement("a");return l.href="https://plotly.com/",l.target="_blank",l.setAttribute("data-title",e(i._(this.graphInfo,"Produced with Plotly.js"))),l.className="modebar-btn plotlyjsicon modebar-btn--logo",l.appendChild(this.createIcon(M.newplotlylogo)),n.appendChild(l),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function s(n,l){var o=n._fullLayout,h=new v({graphInfo:n,container:o._modebardiv.node(),buttons:l});return o._privateplot&&x.select(h.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),h}X.exports=s},26680:function(X,B,t){var x=t(25376),E=t(22548),i=t(31780).templatedArray,M=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});X.exports={visible:{valType:"boolean",editType:"plot"},buttons:M,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:x({editType:"plot"}),bgcolor:{valType:"color",dflt:E.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(X){X.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(X,B,t){var x=t(3400),E=t(76308),i=t(31780),M=t(51272),m=t(26680),d=t(85984);X.exports=function(e,s,n,l,o){var h=e.rangeselector||{},b=i.newContainer(s,"rangeselector");function f(w,S){return x.coerce(h,b,m,w,S)}var k=M(h,b,{name:"buttons",handleItemDefaults:v,calendar:o}),a=f("visible",k.length>0);if(a){var c=r(s,n,l);f("x",c[0]),f("y",c[1]),x.noneOrAll(e,s,["x","y"]),f("xanchor"),f("yanchor"),x.coerceFont(f,"font",n.font);var p=f("bgcolor");f("activecolor",E.contrast(p,d.lightAmount,d.darkAmount)),f("bordercolor"),f("borderwidth")}};function v(e,s,n,l){var o=l.calendar;function h(k,a){return x.coerce(e,s,m.buttons,k,a)}var b=h("visible");if(b){var f=h("step");f!=="all"&&(o&&o!=="gregorian"&&(f==="month"||f==="year")?s.stepmode="backward":h("stepmode"),h("count")),h("label")}}function r(e,s,n){for(var l=n.filter(function(f){return s[f].anchor===e._id}),o=0,h=0;h<l.length;h++){var b=s[l[h]].domain;b&&(o=Math.max(b[1],o))}return[e.domain[0],o+d.yPad]}},50216:function(X,B,t){var x=t(33428),E=t(24040),i=t(7316),M=t(76308),m=t(43616),d=t(3400),v=d.strTranslate,r=t(72736),e=t(79811),s=t(84284),n=s.LINE_SPACING,l=s.FROM_TL,o=s.FROM_BR,h=t(85984),b=t(48040);X.exports=function(T){var P=T._fullLayout,u=P._infolayer.selectAll(".rangeselector").data(f(T),k);u.enter().append("g").classed("rangeselector",!0),u.exit().remove(),u.style({cursor:"pointer","pointer-events":"all"}),u.each(function(g){var L=x.select(this),A=g,R=A.rangeselector,O=L.selectAll("g.button").data(d.filterVisible(R.buttons));O.enter().append("g").classed("button",!0),O.exit().remove(),O.each(function(N){var z=x.select(this),F=b(A,N);N._isActive=a(A,N,F),z.call(c,R,N),z.call(w,R,N,T),z.on("click",function(){T._dragged||E.call("_guiRelayout",T,F)}),z.on("mouseover",function(){N._isHovered=!0,z.call(c,R,N)}),z.on("mouseout",function(){N._isHovered=!1,z.call(c,R,N)})}),_(T,O,R,A._name,L)})};function f(T){for(var P=e.list(T,"x",!0),u=[],g=0;g<P.length;g++){var L=P[g];L.rangeselector&&L.rangeselector.visible&&u.push(L)}return u}function k(T){return T._id}function a(T,P,u){if(P.step==="all")return T.autorange===!0;var g=Object.keys(u);return T.range[0]===u[g[0]]&&T.range[1]===u[g[1]]}function c(T,P,u){var g=d.ensureSingle(T,"rect","selector-rect",function(L){L.attr("shape-rendering","crispEdges")});g.attr({rx:h.rx,ry:h.ry}),g.call(M.stroke,P.bordercolor).call(M.fill,p(P,u)).style("stroke-width",P.borderwidth+"px")}function p(T,P){return P._isActive||P._isHovered?T.activecolor:T.bgcolor}function w(T,P,u,g){function L(R){r.convertToTspans(R,g)}var A=d.ensureSingle(T,"text","selector-text",function(R){R.attr("text-anchor","middle")});A.call(m.font,P.font).text(S(u,g._fullLayout._meta)).call(L)}function S(T,P){return T.label?P?d.templateString(T.label,P):T.label:T.step==="all"?"all":T.count+T.step.charAt(0)}function _(T,P,u,g,L){var A=0,R=0,O=u.borderwidth;P.each(function(){var V=x.select(this),W=V.select(".selector-text"),K=u.font.size*n,et=Math.max(K*r.lineCount(W),16)+3;R=Math.max(R,et)}),P.each(function(){var V=x.select(this),W=V.select(".selector-rect"),K=V.select(".selector-text"),et=K.node()&&m.bBox(K.node()).width,lt=u.font.size*n,ot=r.lineCount(K),q=Math.max(et+10,h.minButtonWidth);V.attr("transform",v(O+A,O)),W.attr({x:0,y:0,width:q,height:R}),r.positionText(K,q/2,R/2-(ot-1)*lt/2+3),A+=q+5});var N=T._fullLayout._size,z=N.l+N.w*u.x,F=N.t+N.h*(1-u.y),I="left";d.isRightAnchor(u)&&(z-=A,I="right"),d.isCenterAnchor(u)&&(z-=A/2,I="center");var j="top";d.isBottomAnchor(u)&&(F-=R,j="bottom"),d.isMiddleAnchor(u)&&(F-=R/2,j="middle"),A=Math.ceil(A),R=Math.ceil(R),z=Math.round(z),F=Math.round(F),i.autoMargin(T,g+"-range-selector",{x:u.x,y:u.y,l:A*l[I],r:A*o[I],b:R*o[j],t:R*l[j]}),L.attr("transform",v(z,F))}},48040:function(X,B,t){var x=t(73220),E=t(3400).titleCase;X.exports=function(M,m){var d=M._name,v={};if(m.step==="all")v[d+".autorange"]=!0;else{var r=i(M,m);v[d+".range[0]"]=r[0],v[d+".range[1]"]=r[1]}return v};function i(M,m){var d=M.range,v=new Date(M.r2l(d[1])),r=m.step,e=x["utc"+E(r)],s=m.count,n;switch(m.stepmode){case"backward":n=M.l2r(+e.offset(v,-s));break;case"todate":var l=e.offset(v,-s);n=M.l2r(+e.ceil(l));break}var o=d[1];return[n,o]}},41152:function(X,B,t){X.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(26680)}}},layoutAttributes:t(26680),handleDefaults:t(22148),draw:t(50216)}},11200:function(X,B,t){var x=t(22548);X.exports={bgcolor:{valType:"color",dflt:x.background,editType:"plot"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(X,B,t){var x=t(79811).list,E=t(19280).getAutoRange,i=t(74636);X.exports=function(M){for(var m=x(M,"x",!0),d=0;d<m.length;d++){var v=m[d],r=v[i.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=E(M,v))}}},74636:function(X){X.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(X,B,t){var x=t(3400),E=t(31780),i=t(79811),M=t(11200),m=t(10936);X.exports=function(d,v,r){var e=d[r],s=v[r];if(!(e.rangeslider||v._requestRangeslider[s._id]))return;x.isPlainObject(e.rangeslider)||(e.rangeslider={});var n=e.rangeslider,l=E.newContainer(s,"rangeslider");function o(u,g){return x.coerce(n,l,M,u,g)}var h,b;function f(u,g){return x.coerce(h,b,m,u,g)}var k=o("visible");if(k){o("bgcolor",v.plot_bgcolor),o("bordercolor"),o("borderwidth"),o("thickness"),o("autorange",!s.isValidRange(n.range)),o("range");var a=v._subplots;if(a)for(var c=a.cartesian.filter(function(u){return u.substr(0,u.indexOf("y"))===i.name2id(r)}).map(function(u){return u.substr(u.indexOf("y"),u.length)}),p=x.simpleMap(c,i.id2name),w=0;w<p.length;w++){var S=p[w];h=n[S]||{},b=E.newContainer(l,S,"yaxis");var _=v[S],T;h.range&&_.isValidRange(h.range)&&(T="fixed");var P=f("rangemode",T);P!=="match"&&f("range",_.range.slice())}l._input=n}}},20060:function(X,B,t){var x=t(33428),E=t(24040),i=t(7316),M=t(3400),m=M.strTranslate,d=t(43616),v=t(76308),r=t(81668),e=t(57952),s=t(79811),n=t(86476),l=t(93972),o=t(74636);X.exports=function(P){for(var u=P._fullLayout,g=u._rangeSliderData,L=0;L<g.length;L++){var A=g[L][o.name];A._clipId=A._id+"-"+u._uid}function R(N){return N._name}var O=u._infolayer.selectAll("g."+o.containerClassName).data(g,R);O.exit().each(function(N){var z=N[o.name];u._topdefs.select("#"+z._clipId).remove()}).remove(),g.length!==0&&(O.enter().append("g").classed(o.containerClassName,!0).attr("pointer-events","all"),O.each(function(N){var z=x.select(this),F=N[o.name],I=u[s.id2name(N.anchor)],j=F[s.id2name(N.anchor)];if(F.range){var V=M.simpleMap(F.range,N.r2l),W=M.simpleMap(N.range,N.r2l),K;W[0]<W[1]?K=[Math.min(V[0],W[0]),Math.max(V[1],W[1])]:K=[Math.max(V[0],W[0]),Math.min(V[1],W[1])],F.range=F._input.range=M.simpleMap(K,N.l2r)}N.cleanRange("rangeslider.range");var et=u._size,lt=N.domain;F._width=et.w*(lt[1]-lt[0]);var ot=Math.round(et.l+et.w*lt[0]),q=Math.round(et.t+et.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+F._offsetShift+o.extraPad);z.attr("transform",m(ot,q)),F._rl=M.simpleMap(F.range,N.r2l);var J=F._rl[0],it=F._rl[1],Z=it-J;if(F.p2d=function(kt){return kt/F._width*Z+J},F.d2p=function(kt){return(kt-J)/Z*F._width},N.rangebreaks){var tt=N.locateBreaks(J,it);if(tt.length){var st,Q,G=0;for(st=0;st<tt.length;st++)Q=tt[st],G+=Q.max-Q.min;var ut=F._width/(it-J-G),at=[-ut*J];for(st=0;st<tt.length;st++)Q=tt[st],at.push(at[at.length-1]-ut*(Q.max-Q.min));for(F.d2p=function(kt){for(var Ot=at[0],bt=0;bt<tt.length;bt++){var _t=tt[bt];if(kt>=_t.max)Ot=at[bt+1];else if(kt<_t.min)break}return Ot+ut*kt},st=0;st<tt.length;st++)Q=tt[st],Q.pmin=F.d2p(Q.min),Q.pmax=F.d2p(Q.max);F.p2d=function(kt){for(var Ot=at[0],bt=0;bt<tt.length;bt++){var _t=tt[bt];if(kt>=_t.pmax)Ot=at[bt+1];else if(kt<_t.pmin)break}return(kt-Ot)/ut}}}if(j.rangemode!=="match"){var dt=I.r2l(j.range[0]),gt=I.r2l(j.range[1]),wt=gt-dt;F.d2pOppAxis=function(kt){return(kt-dt)/wt*F._height}}z.call(a,P,N,F).call(c,P,N,F).call(p,P,N,F).call(S,P,N,F,j).call(_,P,N,F).call(T,P,N,F),b(z,P,N,F),k(z,P,N,F,I,j),N.side==="bottom"&&r.draw(P,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:u._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:q+F._height+F._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function h(P){return typeof P.clientX=="number"?P.clientX:P.touches&&P.touches.length>0?P.touches[0].clientX:0}function b(P,u,g,L){if(u._context.staticPlot)return;var A=P.select("rect."+o.slideBoxClassName).node(),R=P.select("rect."+o.grabAreaMinClassName).node(),O=P.select("rect."+o.grabAreaMaxClassName).node();function N(){var z=x.event,F=z.target,I=h(z),j=I-P.node().getBoundingClientRect().left,V=L.d2p(g._rl[0]),W=L.d2p(g._rl[1]),K=n.coverSlip();this.addEventListener("touchmove",et),this.addEventListener("touchend",lt),K.addEventListener("mousemove",et),K.addEventListener("mouseup",lt);function et(ot){var q=h(ot),J=+q-I,it,Z,tt;switch(F){case A:if(tt="ew-resize",V+J>g._length||W+J<0)return;it=V+J,Z=W+J;break;case R:if(tt="col-resize",V+J>g._length)return;it=V+J,Z=W;break;case O:if(tt="col-resize",W+J<0)return;it=V,Z=W+J;break;default:tt="ew-resize",it=j,Z=j+J;break}if(Z<it){var st=Z;Z=it,it=st}L._pixelMin=it,L._pixelMax=Z,l(x.select(K),tt),f(P,u,g,L)}function lt(){K.removeEventListener("mousemove",et),K.removeEventListener("mouseup",lt),this.removeEventListener("touchmove",et),this.removeEventListener("touchend",lt),M.removeElement(K)}}P.on("mousedown",N),P.on("touchstart",N)}function f(P,u,g,L){function A(N){return g.l2r(M.constrain(N,L._rl[0],L._rl[1]))}var R=A(L.p2d(L._pixelMin)),O=A(L.p2d(L._pixelMax));window.requestAnimationFrame(function(){E.call("_guiRelayout",u,g._name+".range",[R,O])})}function k(P,u,g,L,A,R){var O=o.handleWidth/2;function N(ot){return M.constrain(ot,0,L._width)}function z(ot){return M.constrain(ot,0,L._height)}function F(ot){return M.constrain(ot,-O,L._width+O)}var I=N(L.d2p(g._rl[0])),j=N(L.d2p(g._rl[1]));if(P.select("rect."+o.slideBoxClassName).attr("x",I).attr("width",j-I),P.select("rect."+o.maskMinClassName).attr("width",I),P.select("rect."+o.maskMaxClassName).attr("x",j).attr("width",L._width-j),R.rangemode!=="match"){var V=L._height-z(L.d2pOppAxis(A._rl[1])),W=L._height-z(L.d2pOppAxis(A._rl[0]));P.select("rect."+o.maskMinOppAxisClassName).attr("x",I).attr("height",V).attr("width",j-I),P.select("rect."+o.maskMaxOppAxisClassName).attr("x",I).attr("y",W).attr("height",L._height-W).attr("width",j-I),P.select("rect."+o.slideBoxClassName).attr("y",V).attr("height",W-V)}var K=.5,et=Math.round(F(I-O))-K,lt=Math.round(F(j-O))+K;P.select("g."+o.grabberMinClassName).attr("transform",m(et,K)),P.select("g."+o.grabberMaxClassName).attr("transform",m(lt,K))}function a(P,u,g,L){var A=M.ensureSingle(P,"rect",o.bgClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),R=L.borderwidth%2===0?L.borderwidth:L.borderwidth-1,O=-L._offsetShift,N=d.crispRound(u,L.borderwidth);A.attr({width:L._width+R,height:L._height+R,transform:m(O,O),"stroke-width":N}).call(v.stroke,L.bordercolor).call(v.fill,L.bgcolor)}function c(P,u,g,L){var A=u._fullLayout,R=M.ensureSingleById(A._topdefs,"clipPath",L._clipId,function(O){O.append("rect").attr({x:0,y:0})});R.select("rect").attr({width:L._width,height:L._height})}function p(P,u,g,L){var A=u.calcdata,R=P.selectAll("g."+o.rangePlotClassName).data(g._subplotsWith,M.identity);R.enter().append("g").attr("class",function(N){return o.rangePlotClassName+" "+N}).call(d.setClipUrl,L._clipId,u),R.order(),R.exit().remove();var O;R.each(function(N,z){var F=x.select(this),I=z===0,j=s.getFromId(u,N,"y"),V=j._name,W=L[V],K={data:[],layout:{xaxis:{type:g.type,domain:[0,1],range:L.range.slice(),calendar:g.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:u._context};g.rangebreaks&&(K.layout.xaxis.rangebreaks=g.rangebreaks),K.layout[V]={type:j.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():j.range.slice(),calendar:j.calendar},j.rangebreaks&&(K.layout[V].rangebreaks=j.rangebreaks),i.supplyDefaults(K);var et=K._fullLayout.xaxis,lt=K._fullLayout[V];et.clearCalc(),et.setScale(),lt.clearCalc(),lt.setScale();var ot={id:N,plotgroup:F,xaxis:et,yaxis:lt,isRangePlot:!0};I?O=ot:(ot.mainplot="xy",ot.mainplotinfo=O),e.rangePlot(u,ot,w(A,N))})}function w(P,u){for(var g=[],L=0;L<P.length;L++){var A=P[L],R=A[0].trace;R.xaxis+R.yaxis===u&&g.push(A)}return g}function S(P,u,g,L,A){var R=M.ensureSingle(P,"rect",o.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});R.attr("height",L._height).call(v.fill,o.maskColor);var O=M.ensureSingle(P,"rect",o.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(O.attr("height",L._height).call(v.fill,o.maskColor),A.rangemode!=="match"){var N=M.ensureSingle(P,"rect",o.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",L._width).call(v.fill,o.maskOppAxisColor);var z=M.ensureSingle(P,"rect",o.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});z.attr("width",L._width).style("border-top",o.maskOppBorder).call(v.fill,o.maskOppAxisColor)}}function _(P,u,g,L){if(!u._context.staticPlot){var A=M.ensureSingle(P,"rect",o.slideBoxClassName,function(R){R.attr({y:0,cursor:o.slideBoxCursor,"shape-rendering":"crispEdges"})});A.attr({height:L._height,fill:o.slideBoxFill})}}function T(P,u,g,L){var A=M.ensureSingle(P,"g",o.grabberMinClassName),R=M.ensureSingle(P,"g",o.grabberMaxClassName),O={x:0,width:o.handleWidth,rx:o.handleRadius,fill:v.background,stroke:v.defaultLine,"stroke-width":o.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(L._height/4),height:Math.round(L._height/2)},z=M.ensureSingle(A,"rect",o.handleMinClassName,function(W){W.attr(O)});z.attr(N);var F=M.ensureSingle(R,"rect",o.handleMaxClassName,function(W){W.attr(O)});F.attr(N);var I={width:o.grabAreaWidth,x:0,y:0,fill:o.grabAreaFill,cursor:u._context.staticPlot?void 0:o.grabAreaCursor},j=M.ensureSingle(A,"rect",o.grabAreaMinClassName,function(W){W.attr(I)});j.attr("height",L._height);var V=M.ensureSingle(R,"rect",o.grabAreaMaxClassName,function(W){W.attr(I)});V.attr("height",L._height)}},97944:function(X,B,t){var x=t(79811),E=t(72736),i=t(74636),M=t(84284).LINE_SPACING,m=i.name;function d(v){var r=v&&v[m];return r&&r.visible}B.isVisible=d,B.makeData=function(v){var r=x.list({_fullLayout:v},"x",!0),e=v.margin,s=[];if(!v._has("gl2d"))for(var n=0;n<r.length;n++){var l=r[n];if(d(l)){s.push(l);var o=l[m];o._id=m+l._id,o._height=(v.height-e.b-e.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}v._rangeSliderData=s},B.autoMarginOpts=function(v,r){var e=v._fullLayout,s=r[m],n=r._id.charAt(0),l=0,o=0;if(r.side==="bottom"&&(l=r._depth,r.title.text!==e._dfltTitle[n])){o=1.5*r.title.font.size+10+s._offsetShift;var h=(r.title.text.match(E.BR_TAG_ALL)||[]).length;o+=h*r.title.font.size*M}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:s._height+l+Math.max(e.margin.b,o),pad:i.extraPad+s._offsetShift*2}}},49692:function(X,B,t){var x=t(3400),E=t(11200),i=t(10936),M=t(97944);X.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:x.extendFlat({},E,{yaxis:i})}}},layoutAttributes:t(11200),handleDefaults:t(94040),calcAutorange:t(26652),draw:t(20060),isVisible:M.isVisible,makeData:M.makeData,autoMarginOpts:M.autoMarginOpts}},10936:function(X){X.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(X,B,t){var x=t(13916),E=t(52904).line,i=t(98192).u,M=t(92880).extendFlat,m=t(67824).overrideAll,d=t(31780).templatedArray;t(36208),X.exports=m(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:M({},x.xref,{}),yref:M({},x.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:E.color,width:M({},E.width,{min:1,dflt:1}),dash:M({},i,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(X){X.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(X,B,t){var x=t(3400),E=t(54460),i=t(51272),M=t(93956),m=t(65152);X.exports=function(v,r){i(v,r,{name:"selections",handleItemDefaults:d});for(var e=r.selections,s=0;s<e.length;s++){var n=e[s];n&&n.path===void 0&&(n.x0===void 0||n.x1===void 0||n.y0===void 0||n.y1===void 0)&&(r.selections[s]=null)}};function d(v,r,e){function s(A,R){return x.coerce(v,r,M,A,R)}var n=s("path"),l=n?"path":"rect",o=s("type",l),h=o!=="path";h&&delete r.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var b=["x","y"],f=0;f<2;f++){var k=b[f],a={_fullLayout:e},c,p,w,S=E.coerceRef(v,r,a,k);if(c=E.getFromId(a,S),c._selectionIndices.push(r._index),w=m.rangeToShapePosition(c),p=m.shapePositionToRange(c),h){var _=k+"0",T=k+"1",P=v[_],u=v[T];v[_]=p(v[_],!0),v[T]=p(v[T],!0),E.coercePosition(r,a,s,S,_),E.coercePosition(r,a,s,S,T);var g=r[_],L=r[T];g!==void 0&&L!==void 0&&(r[_]=w(g),r[T]=w(L),v[_]=P,v[T]=u)}}h&&x.noneOrAll(v,r,["x0","x1","y0","y1"])}},23640:function(X,B,t){var x=t(9856).readPaths,E=t(55496),i=t(1936).clearOutlineControllers,M=t(76308),m=t(43616),d=t(31780).arrayEditor,v=t(65152),r=v.getPathString;X.exports={draw:e,drawOne:n,activateLastSelection:h};function e(f){var k=f._fullLayout;i(f),k._selectionLayer.selectAll("path").remove();for(var a in k._plots){var c=k._plots[a].selectionLayer;c&&c.selectAll("path").remove()}for(var p=0;p<k.selections.length;p++)n(f,p)}function s(f){return f._context.editSelection}function n(f,k){f._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+k+'"]').remove();var a=v.makeSelectionsOptionsAndPlotinfo(f,k),c=a.options,p=a.plotinfo;if(!c._input)return;w(f._fullLayout._selectionLayer);function w(S){var _=r(f,c),T={"data-index":k,"fill-rule":"evenodd",d:_},P=c.opacity,u="rgba(0,0,0,0)",g=c.line.color||M.contrast(f._fullLayout.plot_bgcolor),L=c.line.width,A=c.line.dash;L||(L=5,A="solid");var R=s(f)&&f._fullLayout._activeSelectionIndex===k;R&&(u=f._fullLayout.activeselection.fillcolor,P=f._fullLayout.activeselection.opacity);for(var O=[],N=1;N>=0;N--){var z=S.append("path").attr(T).style("opacity",N?.1:P).call(M.stroke,g).call(M.fill,u).call(m.dashLine,N?"solid":A,N?4+L:L);if(l(z,f,c),R){var F=d(f.layout,"selections",c);z.style({cursor:"move"});var I={element:z.node(),plotinfo:p,gd:f,editHelpers:F,isActiveSelection:!0},j=x(_,f);E(j,z,I)}else z.style("pointer-events",N?"all":"none");O[N]=z}var V=O[0],W=O[1];W.node().addEventListener("click",function(){return o(f,V)})}}function l(f,k,a){var c=a.xref+a.yref;m.setClipUrl(f,"clip"+k._fullLayout._uid+c,k)}function o(f,k){if(s(f)){var a=k.node(),c=+a.getAttribute("data-index");if(c>=0){if(c===f._fullLayout._activeSelectionIndex){b(f);return}f._fullLayout._activeSelectionIndex=c,f._fullLayout._deactivateSelection=b,e(f)}}}function h(f){if(s(f)){var k=f._fullLayout.selections.length-1;f._fullLayout._activeSelectionIndex=k,f._fullLayout._deactivateSelection=b,e(f)}}function b(f){if(s(f)){var k=f._fullLayout._activeSelectionIndex;k>=0&&(i(f),delete f._fullLayout._activeSelectionIndex,e(f))}}},34200:function(X,B,t){var x=t(98192).u,E=t(92880).extendFlat;X.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:E({},x,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(X){X.exports=function(B,t,x){x("newselection.mode");var E=x("newselection.line.width");E&&(x("newselection.line.color"),x("newselection.line.dash")),x("activeselection.fillcolor"),x("activeselection.opacity")}},5968:function(X,B,t){var x=t(72760),E=x.selectMode,i=t(1936),M=i.clearOutline,m=t(9856),d=m.readPaths,v=m.writePaths,r=m.fixDatesForPaths;X.exports=function(e,s){if(e.length){var n=e[0][0];if(n){var l=n.getAttribute("d"),o=s.gd,h=o._fullLayout.newselection,b=s.plotinfo,f=b.xaxis,k=b.yaxis,a=s.isActiveSelection,c=s.dragmode,p=(o.layout||{}).selections||[];if(!E(c)&&a!==void 0){var w=o._fullLayout._activeSelectionIndex;if(w<p.length)switch(o._fullLayout.selections[w].type){case"rect":c="select";break;case"path":c="lasso";break}}var S=d(l,o,b,a),_={xref:f._id,yref:k._id,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}},T;S.length===1&&(T=S[0]),T&&T.length===5&&c==="select"?(_.type="rect",_.x0=T[0][1],_.y0=T[0][2],_.x1=T[2][1],_.y1=T[2][2]):(_.type="path",f&&k&&r(S,f,k),_.path=v(S),T=null),M(o);for(var P=s.editHelpers,u=(P||{}).modifyItem,g=[],L=0;L<p.length;L++){var A=o._fullLayout.selections[L];if(!A){g[L]=A;continue}if(g[L]=A._input,a!==void 0&&L===o._fullLayout._activeSelectionIndex){var R=_;switch(A.type){case"rect":u("x0",R.x0),u("x1",R.x1),u("y0",R.y0),u("y1",R.y1);break;case"path":u("path",R.path);break}}}return a===void 0?(g.push(_),g):P?P.getUpdateObj():{}}}}},5840:function(X,B,t){var x=t(3400).strTranslate;function E(d,v){switch(d.type){case"log":return d.p2d(v);case"date":return d.p2r(v,0,d.calendar);default:return d.p2r(v)}}function i(d,v){switch(d.type){case"log":return d.d2p(v);case"date":return d.r2p(v,0,d.calendar);default:return d.r2p(v)}}function M(d){var v=d._id.charAt(0)==="y"?1:0;return function(r){return E(d,r[v])}}function m(d){return x(d.xaxis._offset,d.yaxis._offset)}X.exports={p2r:E,r2p:i,axValue:M,getTransform:m}},22676:function(X,B,t){var x=t(23640),E=t(43156);X.exports={moduleType:"component",name:"selections",layoutAttributes:t(93956),supplyLayoutDefaults:t(74224),supplyDrawNewSelectionDefaults:t(81004),includeBasePlot:t(36632)("selections"),draw:x.draw,drawOne:x.drawOne,reselect:E.reselect,prepSelect:E.prepSelect,clearOutline:E.clearOutline,clearSelectionsCache:E.clearSelectionsCache,selectOnClick:E.selectOnClick}},43156:function(X,B,t){var x=t(14756),E=t(61456),i=t(24040),M=t(43616).dashStyle,m=t(76308),d=t(93024),v=t(10624).makeEventData,r=t(72760),e=r.freeMode,s=r.rectMode,n=r.drawMode,l=r.openMode,o=r.selectMode,h=t(65152),b=t(85448),f=t(55496),k=t(1936).clearOutline,a=t(9856),c=a.handleEllipse,p=a.readPaths,w=t(93940).newShapes,S=t(5968),_=t(23640).activateLastSelection,T=t(3400),P=T.sorterAsc,u=t(92065),g=t(91200),L=t(79811).getFromId,A=t(73696),R=t(39172).redrawReglTraces,O=t(83280),N=O.MINSELECT,z=u.filter,F=u.tester,I=t(5840),j=I.p2r,V=I.axValue,W=I.getTransform;function K(Ut){return Ut.subplot!==void 0}function et(Ut,It,pt,xt,Ct){var At=!K(xt),Ft=e(Ct),Wt=s(Ct),Qt=l(Ct),he=n(Ct),ve=o(Ct),Je=Ct==="drawline",Ue=Ct==="drawcircle",ke=Je||Ue,Le=xt.gd,Ge=Le._fullLayout,mr=ve&&Ge.newselection.mode==="immediate"&&At,xe=Ge._zoomlayer,Xe=xt.element.getBoundingClientRect(),Ye=xt.plotinfo,_r=W(Ye),rr=It-Xe.left,re=pt-Xe.top;Ge._calcInverseTransform(Le);var le=T.apply3DTransform(Ge._invTransform)(rr,re);rr=le[0],re=le[1];var me=Ge._invScaleX,Ee=Ge._invScaleY,ze=rr,Oe=re,Fe="M"+rr+","+re,Re=xt.xaxes[0],Ke=xt.yaxes[0],or=Re._length,pr=Ke._length,hr=Ut.altKey&&!(n(Ct)&&Qt),jt,Gt,Ce,Ie,We,$e,ir;Z(Ut,Le,xt),Ft&&(jt=z([[rr,re]],O.BENDPX));var er=xe.selectAll("path.select-outline-"+Ye.id).data([1]),De=he?Ge.newshape:Ge.newselection;he&&(xt.hasText=De.label.text||De.label.texttemplate);var lr=he&&!Qt?De.fillcolor:"rgba(0,0,0,0)",vr=De.line.color||(At?m.contrast(Le._fullLayout.plot_bgcolor):"#7f7f7f");er.enter().append("path").attr("class","select-outline select-outline-"+Ye.id).style({opacity:he?De.opacity/2:1,"stroke-dasharray":M(De.line.dash,De.line.width),"stroke-width":De.line.width+"px","shape-rendering":"crispEdges"}).call(m.stroke,vr).call(m.fill,lr).attr("fill-rule","evenodd").classed("cursor-move",!!he).attr("transform",_r).attr("d",Fe+"Z");var dr=xe.append("path").attr("class","zoombox-corners").style({fill:m.background,stroke:m.defaultLine,"stroke-width":1}).attr("transform",_r).attr("d","M0,0Z");if(he&&xt.hasText){var fr=xe.select(".label-temp");fr.empty()&&(fr=xe.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var zr=Ge._uid+O.SELECTID,Or=[],Ir=ut(Le,xt.xaxes,xt.yaxes,xt.subplot);mr&&!Ut.shiftKey&&(xt._clearSubplotSelections=function(){if(At){var nn=Re._id,kn=Ke._id;Yt(Le,nn,kn,Ir);for(var Mn=(Le.layout||{}).selections||[],kr=[],Er=!1,Vr=0;Vr<Mn.length;Vr++){var qr=Ge.selections[Vr];qr.xref!==nn||qr.yref!==kn?kr.push(Mn[Vr]):Er=!0}Er&&(Le._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Le,{selections:kr}))}});var sn=Et(xt);xt.moveFn=function(nn,kn){xt._clearSubplotSelections&&(xt._clearSubplotSelections(),xt._clearSubplotSelections=void 0),ze=Math.max(0,Math.min(or,me*nn+rr)),Oe=Math.max(0,Math.min(pr,Ee*kn+re));var Mn=Math.abs(ze-rr),kr=Math.abs(Oe-re);if(Wt){var Er,Vr,qr;if(ve){var rn=Ge.selectdirection;switch(rn==="any"?kr<Math.min(Mn*.6,N)?Er="h":Mn<Math.min(kr*.6,N)?Er="v":Er="d":Er=rn,Er){case"h":Vr=Ue?pr/2:0,qr=pr;break;case"v":Vr=Ue?or/2:0,qr=or;break}}if(he)switch(Ge.newshape.drawdirection){case"vertical":Er="h",Vr=Ue?pr/2:0,qr=pr;break;case"horizontal":Er="v",Vr=Ue?or/2:0,qr=or;break;case"ortho":Mn<kr?(Er="h",Vr=re,qr=Oe):(Er="v",Vr=rr,qr=ze);break;default:Er="d"}Er==="h"?(Ie=ke?c(Ue,[ze,Vr],[ze,qr]):[[rr,Vr],[rr,qr],[ze,qr],[ze,Vr]],Ie.xmin=ke?ze:Math.min(rr,ze),Ie.xmax=ke?ze:Math.max(rr,ze),Ie.ymin=Math.min(Vr,qr),Ie.ymax=Math.max(Vr,qr),dr.attr("d","M"+Ie.xmin+","+(re-N)+"h-4v"+2*N+"h4ZM"+(Ie.xmax-1)+","+(re-N)+"h4v"+2*N+"h-4Z")):Er==="v"?(Ie=ke?c(Ue,[Vr,Oe],[qr,Oe]):[[Vr,re],[Vr,Oe],[qr,Oe],[qr,re]],Ie.xmin=Math.min(Vr,qr),Ie.xmax=Math.max(Vr,qr),Ie.ymin=ke?Oe:Math.min(re,Oe),Ie.ymax=ke?Oe:Math.max(re,Oe),dr.attr("d","M"+(rr-N)+","+Ie.ymin+"v-4h"+2*N+"v4ZM"+(rr-N)+","+(Ie.ymax-1)+"v4h"+2*N+"v-4Z")):Er==="d"&&(Ie=ke?c(Ue,[rr,re],[ze,Oe]):[[rr,re],[rr,Oe],[ze,Oe],[ze,re]],Ie.xmin=Math.min(rr,ze),Ie.xmax=Math.max(rr,ze),Ie.ymin=Math.min(re,Oe),Ie.ymax=Math.max(re,Oe),dr.attr("d","M0,0Z"))}else Ft&&(jt.addPt([ze,Oe]),Ie=jt.filtered);if(xt.selectionDefs&&xt.selectionDefs.length?(Ce=mt(xt.mergedPolygons,Ie,hr),Ie.subtract=hr,Gt=it(xt.selectionDefs.concat([Ie]))):(Ce=[Ie],Gt=F(Ie)),f(Rt(Ce,Qt),er,xt),ve){var gn=Dt(Le,!1),ln=gn.eventData?gn.eventData.points.slice():[];gn=Dt(Le,!1,Gt,Ir,xt),Gt=gn.selectionTesters,ir=gn.eventData;var zn;jt?zn=jt.filtered:zn=ye(Ce),g.throttle(zr,O.SELECTDELAY,function(){Or=Ht(Gt,Ir);for(var Rn=Or.slice(),ai=0;ai<ln.length;ai++){for(var fi=ln[ai],mi=!1,li=0;li<Rn.length;li++)if(Rn[li].curveNumber===fi.curveNumber&&Rn[li].pointNumber===fi.pointNumber){mi=!0;break}mi||Rn.push(fi)}Rn.length&&(ir||(ir={}),ir.points=Rn),sn(ir,zn),Vt(Le,ir)})}},xt.clickFn=function(nn,kn){if(dr.remove(),Le._fullLayout._activeShapeIndex>=0){Le._fullLayout._deactivateShape(Le);return}if(!he){var Mn=Ge.clickmode;g.done(zr).then(function(){if(g.clear(zr),nn===2){for(er.remove(),We=0;We<Ir.length;We++)$e=Ir[We],$e._module.selectPoints($e,!1);if(bt(Le,Ir),Q(xt),Jt(Le),Ir.length){var kr=Ir[0].xaxis,Er=Ir[0].yaxis;if(kr&&Er){for(var Vr=[],qr=Le._fullLayout.selections,rn=0;rn<qr.length;rn++){var gn=qr[rn];gn&&(gn.xref!==kr._id||gn.yref!==Er._id)&&Vr.push(gn)}Vr.length<qr.length&&(Le._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Le,{selections:Vr}))}}}else Mn.indexOf("select")>-1&&lt(kn,Le,xt.xaxes,xt.yaxes,xt.subplot,xt,er),Mn==="event"&&te(Le,void 0);d.click(Le,kn,Ye.id)}).catch(T.error)}},xt.doneFn=function(){dr.remove(),g.done(zr).then(function(){g.clear(zr),!mr&&Ie&&xt.selectionDefs&&(Ie.subtract=hr,xt.selectionDefs.push(Ie),xt.mergedPolygons.length=0,[].push.apply(xt.mergedPolygons,Ce)),(mr||he)&&Q(xt,mr),xt.doneFnCompleted&&xt.doneFnCompleted(Or),ve&&te(Le,ir)}).catch(T.error)}}function lt(Ut,It,pt,xt,Ct,At,Ft){var Wt=It._hoverdata,Qt=It._fullLayout,he=Qt.clickmode,ve=he.indexOf("event")>-1,Je=[],Ue,ke,Le,Ge,mr,xe,Xe,Ye,_r,rr;if(dt(Wt)){Z(Ut,It,At),Ue=ut(It,pt,xt,Ct);var re=gt(Wt,Ue),le=re.pointNumbers.length>0;if(le?kt(Ue,re):Ot(Ue)&&(Xe=wt(re))){for(Ft&&Ft.remove(),rr=0;rr<Ue.length;rr++)ke=Ue[rr],ke._module.selectPoints(ke,!1);bt(It,Ue),Q(At),ve&&Jt(It)}else{Ye=Ut.shiftKey&&(Xe!==void 0?Xe:wt(re)),Le=ot(re.pointNumber,re.searchInfo,Ye);var me=At.selectionDefs.concat([Le]);for(Ge=it(me),rr=0;rr<Ue.length;rr++)if(mr=Ue[rr]._module.selectPoints(Ue[rr],Ge),xe=Pt(mr,Ue[rr]),Je.length)for(var Ee=0;Ee<xe.length;Ee++)Je.push(xe[Ee]);else Je=xe;if(_r={points:Je},bt(It,Ue,_r),Le&&At&&At.selectionDefs.push(Le),Ft){var ze=At.mergedPolygons,Oe=l(At.dragmode);f(Rt(ze,Oe),Ft,At)}ve&&te(It,_r)}}}function ot(Ut,It,pt){return{pointNumber:Ut,searchInfo:It,subtract:!!pt}}function q(Ut){return"pointNumber"in Ut&&"searchInfo"in Ut}function J(Ut){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(It,pt,xt,Ct){var At=Ut.searchInfo.cd[0].trace._expandedIndex,Ft=Ct.cd[0].trace._expandedIndex;return Ft===At&&xt===Ut.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ut.subtract}}function it(Ut){if(!Ut.length)return;for(var It=[],pt=q(Ut[0])?0:Ut[0][0][0],xt=pt,Ct=q(Ut[0])?0:Ut[0][0][1],At=Ct,Ft=0;Ft<Ut.length;Ft++)if(q(Ut[Ft]))It.push(J(Ut[Ft]));else{var Wt=F(Ut[Ft]);Wt.subtract=!!Ut[Ft].subtract,It.push(Wt),pt=Math.min(pt,Wt.xmin),xt=Math.max(xt,Wt.xmax),Ct=Math.min(Ct,Wt.ymin),At=Math.max(At,Wt.ymax)}function Qt(he,ve,Je,Ue){for(var ke=!1,Le=0;Le<It.length;Le++)It[Le].contains(he,ve,Je,Ue)&&(ke=!It[Le].subtract);return ke}return{xmin:pt,xmax:xt,ymin:Ct,ymax:At,pts:[],contains:Qt,isRect:!1,degenerate:!1}}function Z(Ut,It,pt){var xt=It._fullLayout,Ct=pt.plotinfo,At=pt.dragmode,Ft=xt._lastSelectedSubplot&&xt._lastSelectedSubplot===Ct.id,Wt=(Ut.shiftKey||Ut.altKey)&&!(n(At)&&l(At));Ft&&Wt&&Ct.selection&&Ct.selection.selectionDefs&&!pt.selectionDefs?(pt.selectionDefs=Ct.selection.selectionDefs,pt.mergedPolygons=Ct.selection.mergedPolygons):(!Wt||!Ct.selection)&&Q(pt),Ft||(k(It),xt._lastSelectedSubplot=Ct.id)}function tt(Ut){return Ut._fullLayout._activeShapeIndex>=0}function st(Ut){return Ut._fullLayout._activeSelectionIndex>=0}function Q(Ut,It){var pt=Ut.dragmode,xt=Ut.plotinfo,Ct=Ut.gd;tt(Ct)&&Ct._fullLayout._deactivateShape(Ct),st(Ct)&&Ct._fullLayout._deactivateSelection(Ct);var At=Ct._fullLayout,Ft=At._zoomlayer,Wt=n(pt),Qt=o(pt);if(Wt||Qt){var he=Ft.selectAll(".select-outline-"+xt.id);if(he&&Ct._fullLayout._outlining){var ve;Wt&&(ve=w(he,Ut)),ve&&i.call("_guiRelayout",Ct,{shapes:ve});var Je;Qt&&!K(Ut)&&(Je=S(he,Ut)),Je&&(Ct._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Ct,{selections:Je}).then(function(){It&&_(Ct)})),Ct._fullLayout._outlining=!1}}xt.selection={},xt.selection.selectionDefs=Ut.selectionDefs=[],xt.selection.mergedPolygons=Ut.mergedPolygons=[]}function G(Ut){return Ut._id}function ut(Ut,It,pt,xt){if(!Ut.calcdata)return[];var Ct=[],At=It.map(G),Ft=pt.map(G),Wt,Qt,he;for(he=0;he<Ut.calcdata.length;he++)if(Wt=Ut.calcdata[he],Qt=Wt[0].trace,!(Qt.visible!==!0||!Qt._module||!Qt._module.selectPoints))if(K({subplot:xt})&&(Qt.subplot===xt||Qt.geo===xt))Ct.push(at(Qt._module,Wt,It[0],pt[0]));else if(Qt.type==="splom"){if(Qt._xaxes[At[0]]&&Qt._yaxes[Ft[0]]){var ve=at(Qt._module,Wt,It[0],pt[0]);ve.scene=Ut._fullLayout._splomScenes[Qt.uid],Ct.push(ve)}}else if(Qt.type==="sankey"){var Je=at(Qt._module,Wt,It[0],pt[0]);Ct.push(Je)}else{if(At.indexOf(Qt.xaxis)===-1&&(!Qt._xA||!Qt._xA.overlaying)||Ft.indexOf(Qt.yaxis)===-1&&(!Qt._yA||!Qt._yA.overlaying))continue;Ct.push(at(Qt._module,Wt,L(Ut,Qt.xaxis),L(Ut,Qt.yaxis)))}return Ct}function at(Ut,It,pt,xt){return{_module:Ut,cd:It,xaxis:pt,yaxis:xt}}function dt(Ut){return Ut&&Array.isArray(Ut)&&Ut[0].hoverOnBox!==!0}function gt(Ut,It){var pt=Ut[0],xt=-1,Ct=[],At,Ft;for(Ft=0;Ft<It.length;Ft++)if(At=It[Ft],pt.fullData._expandedIndex===At.cd[0].trace._expandedIndex){if(pt.hoverOnBox===!0)break;pt.pointNumber!==void 0?xt=pt.pointNumber:pt.binNumber!==void 0&&(xt=pt.binNumber,Ct=pt.pointNumbers);break}return{pointNumber:xt,pointNumbers:Ct,searchInfo:At}}function wt(Ut){var It=Ut.searchInfo.cd[0].trace,pt=Ut.pointNumber,xt=Ut.pointNumbers,Ct=xt.length>0,At=Ct?xt[0]:pt;return It.selectedpoints?It.selectedpoints.indexOf(At)>-1:!1}function kt(Ut,It){var pt=[],xt,Ct,At,Ft;for(Ft=0;Ft<Ut.length;Ft++)xt=Ut[Ft],xt.cd[0].trace.selectedpoints&&xt.cd[0].trace.selectedpoints.length>0&&pt.push(xt);if(pt.length===1&&(At=pt[0]===It.searchInfo,At&&(Ct=It.searchInfo.cd[0].trace,Ct.selectedpoints.length===It.pointNumbers.length))){for(Ft=0;Ft<It.pointNumbers.length;Ft++)if(Ct.selectedpoints.indexOf(It.pointNumbers[Ft])<0)return!1;return!0}return!1}function Ot(Ut){var It=0,pt,xt,Ct;for(Ct=0;Ct<Ut.length;Ct++)if(pt=Ut[Ct],xt=pt.cd[0].trace,xt.selectedpoints&&(xt.selectedpoints.length>1||(It+=xt.selectedpoints.length,It>1)))return!1;return It===1}function bt(Ut,It,pt){var xt;for(xt=0;xt<It.length;xt++){var Ct=It[xt].cd[0].trace._fullInput,At=Ut._fullLayout._tracePreGUI[Ct.uid]||{};At.selectedpoints===void 0&&(At.selectedpoints=Ct._input.selectedpoints||null)}var Ft;if(pt){var Wt=pt.points||[];for(xt=0;xt<It.length;xt++)Ft=It[xt].cd[0].trace,Ft._input.selectedpoints=Ft._fullInput.selectedpoints=[],Ft._fullInput!==Ft&&(Ft.selectedpoints=[]);for(var Qt=0;Qt<Wt.length;Qt++){var he=Wt[Qt],ve=he.data,Je=he.fullData,Ue=he.pointIndex,ke=he.pointIndices;ke?([].push.apply(ve.selectedpoints,ke),Ft._fullInput!==Ft&&[].push.apply(Je.selectedpoints,ke)):(ve.selectedpoints.push(Ue),Ft._fullInput!==Ft&&Je.selectedpoints.push(Ue))}}else for(xt=0;xt<It.length;xt++)Ft=It[xt].cd[0].trace,delete Ft.selectedpoints,delete Ft._input.selectedpoints,Ft._fullInput!==Ft&&delete Ft._fullInput.selectedpoints;_t(Ut,It)}function _t(Ut,It){for(var pt=!1,xt=0;xt<It.length;xt++){var Ct=It[xt],At=Ct.cd;i.traceIs(At[0].trace,"regl")&&(pt=!0);var Ft=Ct._module,Wt=Ft.styleOnSelect||Ft.style;Wt&&(Wt(Ut,At,At[0].node3),At[0].nodeRangePlot3&&Wt(Ut,At,At[0].nodeRangePlot3))}pt&&(A(Ut),R(Ut))}function mt(Ut,It,pt){for(var xt=pt?x.difference:x.union,Ct=xt({regions:Ut},{regions:[It]}),At=Ct.regions.reverse(),Ft=0;Ft<At.length;Ft++){var Wt=At[Ft];Wt.subtract=fe(Wt,At.slice(0,Ft))}return At}function Pt(Ut,It){if(Array.isArray(Ut))for(var pt=It.cd,xt=It.cd[0].trace,Ct=0;Ct<Ut.length;Ct++)Ut[Ct]=v(Ut[Ct],xt,pt);return Ut}function Rt(Ut,It){for(var pt=[],xt=0;xt<Ut.length;xt++){pt[xt]=[];for(var Ct=0;Ct<Ut[xt].length;Ct++){pt[xt][Ct]=[],pt[xt][Ct][0]=Ct?"L":"M";for(var At=0;At<Ut[xt][Ct].length;At++)pt[xt][Ct].push(Ut[xt][Ct][At])}It||pt[xt].push(["Z",pt[xt][0][1],pt[xt][0][2]])}return pt}function Ht(Ut,It){for(var pt=[],xt,Ct,At=0;At<It.length;At++){var Ft=It[At];Ct=Ft._module.selectPoints(Ft,Ut),xt=Pt(Ct,Ft),pt=pt.concat(xt)}return pt}function Dt(Ut,It,pt,xt,Ct){var At=!!xt,Ft,Wt,Qt;Ct&&(Ft=Ct.plotinfo,Wt=Ct.xaxes[0]._id,Qt=Ct.yaxes[0]._id);var he=[],ve=[],Je=ie(Ut),Ue=Ut._fullLayout;if(Ft){var ke=Ue._zoomlayer,Le=Ue.dragmode,Ge=n(Le),mr=o(Le);if(Ge||mr){var xe=L(Ut,Wt,"x"),Xe=L(Ut,Qt,"y");if(xe&&Xe){var Ye=ke.selectAll(".select-outline-"+Ft.id);if(Ye&&Ut._fullLayout._outlining&&Ye.length){for(var _r=Ye[0][0],rr=_r.getAttribute("d"),re=p(rr,Ut,Ft),le=[],me=0;me<re.length;me++){for(var Ee=re[me],ze=[],Oe=0;Oe<Ee.length;Oe++)ze.push([ce(xe,Ee[Oe][1]),ce(Xe,Ee[Oe][2])]);ze.xref=Wt,ze.yref=Qt,ze.subtract=fe(ze,le),le.push(ze)}Je=Je.concat(le)}}}}var Fe=Wt&&Qt?[Wt+Qt]:Ue._subplots.cartesian;Xt(Ut);for(var Re={},Ke=0;Ke<Fe.length;Ke++){var or=Fe[Ke],pr=or.indexOf("y"),hr=or.slice(0,pr),jt=or.slice(pr),Gt=Wt&&Qt?pt:void 0;if(Gt=ue(Je,hr,jt,Gt),Gt){var Ce=xt;if(!At){var Ie=L(Ut,hr,"x"),We=L(Ut,jt,"y");Ce=ut(Ut,[Ie],[We],or);for(var $e=0;$e<Ce.length;$e++){var ir=Ce[$e],er=ir.cd[0],De=er.trace;if(ir._module.name==="scattergl"&&!er.t.xpx){var lr=De.x,vr=De.y,dr=De._length;er.t.xpx=[],er.t.ypx=[];for(var fr=0;fr<dr;fr++)er.t.xpx[fr]=Ie.c2p(lr[fr]),er.t.ypx[fr]=We.c2p(vr[fr])}ir._module.name==="splom"&&(Re[De.uid]||(Re[De.uid]=!0))}}var zr=Ht(Gt,Ce);he=he.concat(zr),ve=ve.concat(Ce)}}var Or={points:he};bt(Ut,ve,Or);var Ir=Ue.clickmode,sn=Ir.indexOf("event")>-1&&It;if(!Ft&&It){var nn=ie(Ut,!0);if(nn.length){var kn=nn[0].xref,Mn=nn[0].yref;if(kn&&Mn){var kr=ye(nn),Er=Te([L(Ut,kn,"x"),L(Ut,Mn,"y")]);Er(Or,kr)}}Ut._fullLayout._noEmitSelectedAtStart?Ut._fullLayout._noEmitSelectedAtStart=!1:sn&&te(Ut,Or),Ue._reselect=!1}if(!Ft&&Ue._deselect){var Vr=Ue._deselect;Wt=Vr.xref,Qt=Vr.yref,se(Wt,Qt,ve)||Yt(Ut,Wt,Qt,xt),sn&&(Or.points.length?te(Ut,Or):Jt(Ut)),Ue._deselect=!1}return{eventData:Or,selectionTesters:pt}}function Xt(Ut){var It=Ut.calcdata;if(It)for(var pt=0;pt<It.length;pt++){var xt=It[pt][0],Ct=xt.trace,At=Ut._fullLayout._splomScenes;if(At){var Ft=At[Ct.uid];Ft&&(Ft.selectBatch=[])}}}function se(Ut,It,pt){for(var xt=0;xt<pt.length;xt++){var Ct=pt[xt];if(Ct.xaxis&&Ct.xaxis._id===Ut&&Ct.yaxis&&Ct.yaxis._id===It)return!0}return!1}function Yt(Ut,It,pt,xt){xt=ut(Ut,[L(Ut,It,"x")],[L(Ut,pt,"y")],It+pt);for(var Ct=0;Ct<xt.length;Ct++){var At=xt[Ct];At._module.selectPoints(At,!1)}bt(Ut,xt)}function ue(Ut,It,pt,xt){for(var Ct,At=0;At<Ut.length;At++){var Ft=Ut[At];if(!(It!==Ft.xref||pt!==Ft.yref))if(Ct){var Wt=!!Ft.subtract;Ct=mt(Ct,Ft,Wt),xt=it(Ct)}else Ct=[Ft],xt=F(Ft)}return xt}function ie(Ut,It){for(var pt=[],xt=Ut._fullLayout,Ct=xt.selections,At=Ct.length,Ft=0;Ft<At;Ft++)if(!(It&&Ft!==xt._activeSelectionIndex)){var Wt=Ct[Ft];if(Wt){var Qt=Wt.xref,he=Wt.yref,ve=L(Ut,Qt,"x"),Je=L(Ut,he,"y"),Ue,ke,Le,Ge,mr;if(Wt.type==="rect"){mr=[];var xe=ce(ve,Wt.x0),Xe=ce(ve,Wt.x1),Ye=ce(Je,Wt.y0),_r=ce(Je,Wt.y1);mr=[[xe,Ye],[xe,_r],[Xe,_r],[Xe,Ye]],Ue=Math.min(xe,Xe),ke=Math.max(xe,Xe),Le=Math.min(Ye,_r),Ge=Math.max(Ye,_r),mr.xmin=Ue,mr.xmax=ke,mr.ymin=Le,mr.ymax=Ge,mr.xref=Qt,mr.yref=he,mr.subtract=!1,mr.isRect=!0,pt.push(mr)}else if(Wt.type==="path")for(var rr=Wt.path.split("Z"),re=[],le=0;le<rr.length;le++){var me=rr[le];if(me){me+="Z";var Ee=h.extractPathCoords(me,b.paramIsX,"raw"),ze=h.extractPathCoords(me,b.paramIsY,"raw");Ue=1/0,ke=-1/0,Le=1/0,Ge=-1/0,mr=[];for(var Oe=0;Oe<Ee.length;Oe++){var Fe=ce(ve,Ee[Oe]),Re=ce(Je,ze[Oe]);mr.push([Fe,Re]),Ue=Math.min(Fe,Ue),ke=Math.max(Fe,ke),Le=Math.min(Re,Le),Ge=Math.max(Re,Ge)}mr.xmin=Ue,mr.xmax=ke,mr.ymin=Le,mr.ymax=Ge,mr.xref=Qt,mr.yref=he,mr.subtract=fe(mr,re),re.push(mr),pt.push(mr)}}}}return pt}function fe(Ut,It){for(var pt=!1,xt=0;xt<It.length;xt++)for(var Ct=It[xt],At=0;At<Ut.length;At++)if(E(Ut[At],Ct)){pt=!pt;break}return pt}function ce(Ut,It){return Ut.type==="date"&&(It=It.replace("_"," ")),Ut.type==="log"?Ut.c2p(It):Ut.r2p(It,null,Ut.calendar)}function ye(Ut){for(var It=Ut.length,pt=[],xt=0;xt<It;xt++){var Ct=Ut[xt];pt=pt.concat(Ct),pt=pt.concat([Ct[0]])}return de(pt)}function de(Ut){return Ut.isRect=Ut.length===5&&Ut[0][0]===Ut[4][0]&&Ut[0][1]===Ut[4][1]&&Ut[0][0]===Ut[1][0]&&Ut[2][0]===Ut[3][0]&&Ut[0][1]===Ut[3][1]&&Ut[1][1]===Ut[2][1]||Ut[0][1]===Ut[1][1]&&Ut[2][1]===Ut[3][1]&&Ut[0][0]===Ut[3][0]&&Ut[1][0]===Ut[2][0],Ut.isRect&&(Ut.xmin=Math.min(Ut[0][0],Ut[2][0]),Ut.xmax=Math.max(Ut[0][0],Ut[2][0]),Ut.ymin=Math.min(Ut[0][1],Ut[2][1]),Ut.ymax=Math.max(Ut[0][1],Ut[2][1])),Ut}function Te(Ut){return function(It,pt){for(var xt,Ct,At=0;At<Ut.length;At++){var Ft=Ut[At],Wt=Ft._id,Qt=Wt.charAt(0);if(pt.isRect){xt||(xt={});var he=pt[Qt+"min"],ve=pt[Qt+"max"];he!==void 0&&ve!==void 0&&(xt[Wt]=[j(Ft,he),j(Ft,ve)].sort(P))}else Ct||(Ct={}),Ct[Wt]=pt.map(V(Ft))}xt&&(It.range=xt),Ct&&(It.lassoPoints=Ct)}}function Et(Ut){var It=Ut.plotinfo;return It.fillRangeItems||Te(Ut.xaxes.concat(Ut.yaxes))}function Vt(Ut,It){Ut.emit("plotly_selecting",It)}function te(Ut,It){It&&(It.selections=(Ut.layout||{}).selections||[]),Ut.emit("plotly_selected",It)}function Jt(Ut){Ut.emit("plotly_deselect",null)}X.exports={reselect:Dt,prepSelect:et,clearOutline:k,clearSelectionsCache:Q,selectOnClick:lt}},46056:function(X,B,t){var x=t(13916),E=t(25376),i=t(52904).line,M=t(98192).u,m=t(92880).extendFlat,d=t(31780).templatedArray;t(36208);var v=t(45464),r=t(21776).ye,e=t(97728);X.exports=d("shape",{visible:m({},v.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:m({},v.legend,{editType:"calc+arraydraw"}),legendgroup:m({},v.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:m({},v.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:E({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:m({},v.legendrank,{editType:"calc+arraydraw"}),legendwidth:m({},v.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:m({},x.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:m({},x.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:m({},i.color,{editType:"arraydraw"}),width:m({},i.width,{editType:"calc+arraydraw"}),dash:m({},M,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(e)}),font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(X,B,t){var x=t(3400),E=t(54460),i=t(85448),M=t(65152);X.exports=function(e){var s=e._fullLayout,n=x.filterVisible(s.shapes);if(!(!n.length||!e._fullData.length))for(var l=0;l<n.length;l++){var o=n[l];o._extremes={};var h,b,f=E.getRefType(o.xref),k=E.getRefType(o.yref);if(o.xref!=="paper"&&f!=="domain"){var a=o.xsizemode==="pixel"?o.xanchor:o.x0,c=o.xsizemode==="pixel"?o.xanchor:o.x1;h=E.getFromId(e,o.xref),b=r(h,a,c,o.path,i.paramIsX),b&&(o._extremes[h._id]=E.findExtremes(h,b,m(o)))}if(o.yref!=="paper"&&k!=="domain"){var p=o.ysizemode==="pixel"?o.yanchor:o.y0,w=o.ysizemode==="pixel"?o.yanchor:o.y1;h=E.getFromId(e,o.yref),b=r(h,p,w,o.path,i.paramIsY),b&&(o._extremes[h._id]=E.findExtremes(h,b,d(o)))}}};function m(e){return v(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function d(e){return v(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function v(e,s,n,l,o,h){var b=e/2,f=h;if(s==="pixel"){var k=o?M.extractPathCoords(o,h?i.paramIsY:i.paramIsX):[n,l],a=x.aggNums(Math.max,null,k),c=x.aggNums(Math.min,null,k),p=c<0?Math.abs(c)+b:b,w=a>0?a+b:b;return{ppad:b,ppadplus:f?p:w,ppadminus:f?w:p}}else return{ppad:b}}function r(e,s,n,l,o){var h=e.type==="category"||e.type==="multicategory"?e.r2c:e.d2c;if(s!==void 0)return[h(s),h(n)];if(l){var b=1/0,f=-1/0,k=l.match(i.segmentRE),a,c,p,w,S;for(e.type==="date"&&(h=M.decodeDate(h)),a=0;a<k.length;a++)c=k[a],p=o[c.charAt(0)].drawn,p!==void 0&&(w=k[a].substr(1).match(i.paramRE),!(!w||w.length<p)&&(S=h(w[p]),S<b&&(b=S),S>f&&(f=S)));if(f>=b)return[b,f]}}},85448:function(X){X.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(X,B,t){var x=t(3400),E=t(54460),i=t(51272),M=t(46056),m=t(65152);X.exports=function(r,e){i(r,e,{name:"shapes",handleItemDefaults:v})};function d(r,e){return r?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}function v(r,e,s){function n(q,J){return x.coerce(r,e,M,q,J)}e._isShape=!0;var l=n("visible");if(l){var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),x.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var h=n("path"),b=h?"path":"rect",f=n("type",b),k=f!=="path";k&&delete e.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var a=n("line.width");a&&(n("line.color"),n("line.dash"));for(var c=n("xsizemode"),p=n("ysizemode"),w=["x","y"],S=0;S<2;S++){var _=w[S],T=_+"anchor",P=_==="x"?c:p,u={_fullLayout:s},g,L,A,R=E.coerceRef(r,e,u,_,void 0,"paper"),O=E.getRefType(R);if(O==="range"?(g=E.getFromId(u,R),g._shapeIndices.push(e._index),A=m.rangeToShapePosition(g),L=m.shapePositionToRange(g)):L=A=x.identity,k){var N=.25,z=.75,F=_+"0",I=_+"1",j=r[F],V=r[I];r[F]=L(r[F],!0),r[I]=L(r[I],!0),P==="pixel"?(n(F,0),n(I,10)):(E.coercePosition(e,u,n,R,F,N),E.coercePosition(e,u,n,R,I,z)),e[F]=A(e[F]),e[I]=A(e[I]),r[F]=j,r[I]=V}if(P==="pixel"){var W=r[T];r[T]=L(r[T],!0),E.coercePosition(e,u,n,R,T,.25),e[T]=A(e[T]),r[T]=W}}k&&x.noneOrAll(r,e,["x0","x1","y0","y1"]);var K=f==="line",et,lt;if(k&&(et=n("label.texttemplate")),et||(lt=n("label.text")),lt||et){n("label.textangle");var ot=n("label.textposition",K?"middle":"middle center");n("label.xanchor"),n("label.yanchor",d(K,ot)),n("label.padding"),x.coerceFont(n,"label.font",s.font)}}}},60728:function(X,B,t){var x=t(3400),E=t(54460),i=t(72736),M=t(43616),m=t(9856).readPaths,d=t(65152),v=d.getPathString,r=t(97728),e=t(84284).FROM_TL;X.exports=function(l,o,h,b){if(b.selectAll(".shape-label").remove(),!!(h.label.text||h.label.texttemplate)){var f;if(h.label.texttemplate){var k={};if(h.type!=="path"){var a=E.getFromId(l,h.xref),c=E.getFromId(l,h.yref);for(var p in r){var w=r[p](h,a,c);w!==void 0&&(k[p]=w)}}f=x.texttemplateStringForShapes(h.label.texttemplate,{},l._fullLayout._d3locale,k)}else f=h.label.text;var S={"data-index":o},_=h.label.font,T={"data-notex":1},P=b.append("g").attr(S).classed("shape-label",!0),u=P.append("text").attr(T).classed("shape-label-text",!0).text(f),g,L,A,R;if(h.path){var O=v(l,h),N=m(O,l);g=1/0,A=1/0,L=-1/0,R=-1/0;for(var z=0;z<N.length;z++)for(var F=0;F<N[z].length;F++)for(var I=N[z][F],j=1;j<I.length;j+=2){var V=I[j],W=I[j+1];g=Math.min(g,V),L=Math.max(L,V),A=Math.min(A,W),R=Math.max(R,W)}}else{var K=E.getFromId(l,h.xref),et=E.getRefType(h.xref),lt=E.getFromId(l,h.yref),ot=E.getRefType(h.yref),q=d.getDataToPixel(l,K,!1,et),J=d.getDataToPixel(l,lt,!0,ot);g=q(h.x0),L=q(h.x1),A=J(h.y0),R=J(h.y1)}var it=h.label.textangle;it==="auto"&&(h.type==="line"?it=s(g,A,L,R):it=0),u.call(function(ut){return ut.call(M.font,_).attr({}),i.convertToTspans(ut,l),ut});var Z=M.bBox(u.node()),tt=n(g,A,L,R,h,it,Z),st=tt.textx,Q=tt.texty,G=tt.xanchor;u.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[G],y:Q,x:st,transform:"rotate("+it+","+st+","+Q+")"}).call(i.positionText,st,Q)}};function s(l,o,h,b){var f,k;return k=Math.abs(h-l),h>=l?f=o-b:f=b-o,-180/Math.PI*Math.atan2(f,k)}function n(l,o,h,b,f,k,a){var c=f.label.textposition,p=f.label.textangle,w=f.label.padding,S=f.type,_=Math.PI/180*k,T=Math.sin(_),P=Math.cos(_),u=f.label.xanchor,g=f.label.yanchor,L,A,R,O;if(S==="line"){c==="start"?(L=l,A=o):c==="end"?(L=h,A=b):(L=(l+h)/2,A=(o+b)/2),u==="auto"&&(c==="start"?p==="auto"?h>l?u="left":h<l?u="right":u="center":h>l?u="right":h<l?u="left":u="center":c==="end"?p==="auto"?h>l?u="right":h<l?u="left":u="center":h>l?u="left":h<l?u="right":u="center":u="center");var N={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(p==="auto"){var F=z[g];R=-w*T*F,O=w*P*F}else{var I=N[u],j=z[g];R=w*I,O=w*j}L=L+R,A=A+O}else R=w+3,c.indexOf("right")!==-1?(L=Math.max(l,h)-R,u==="auto"&&(u="right")):c.indexOf("left")!==-1?(L=Math.min(l,h)+R,u==="auto"&&(u="left")):(L=(l+h)/2,u==="auto"&&(u="center")),c.indexOf("top")!==-1?A=Math.min(o,b):c.indexOf("bottom")!==-1?A=Math.max(o,b):A=(o+b)/2,O=w,g==="bottom"?A=A-O:g==="top"&&(A=A+O);var V=e[g],W=f.label.font.size,K=a.height,et=(K*V-W)*T,lt=-(K*V-W)*P;return{textx:L+et,texty:A+lt,xanchor:u}}},55496:function(X,B,t){var x=t(3400),E=x.strTranslate,i=t(86476),M=t(72760),m=M.drawMode,d=M.selectMode,v=t(24040),r=t(76308),e=t(7e3),s=e.i000,n=e.i090,l=e.i180,o=e.i270,h=t(1936),b=h.clearOutlineControllers,f=t(9856),k=f.pointsOnRectangle,a=f.pointsOnEllipse,c=f.writePaths,p=t(93940).newShapes,w=t(93940).createShapeObj,S=t(5968),_=t(60728);X.exports=function g(L,A,R,O){O||(O=0);var N=R.gd;function z(){g(L,A,R,O++),(a(L[0])||R.hasText)&&F({redrawing:!0})}function F(mt){var Pt={};R.isActiveShape!==void 0&&(R.isActiveShape=!1,Pt=p(A,R)),R.isActiveSelection!==void 0&&(R.isActiveSelection=!1,Pt=S(A,R),N._fullLayout._reselect=!0),Object.keys(Pt).length&&v.call((mt||{}).redrawing?"relayout":"_guiRelayout",N,Pt)}var I=N._fullLayout,j=I._zoomlayer,V=R.dragmode,W=m(V),K=d(V);(W||K)&&(N._fullLayout._outlining=!0),b(N),A.attr("d",c(L));var et,lt,ot,q,J;if(!O&&(R.isActiveShape||R.isActiveSelection)){J=T([],L);var it=j.append("g").attr("class","outline-controllers");dt(it),_t()}if(W&&R.hasText){var Z=j.select(".label-temp"),tt=w(A,R,R.dragmode);_(N,"label-temp",tt,Z)}function st(mt){ot=+mt.srcElement.getAttribute("data-i"),q=+mt.srcElement.getAttribute("data-j"),et[ot][q].moveFn=Q}function Q(mt,Pt){if(L.length){var Rt=J[ot][q][1],Ht=J[ot][q][2],Dt=L[ot],Xt=Dt.length;if(k(Dt)){var se=mt,Yt=Pt;if(R.isActiveSelection){var ue=P(Dt,q);ue[1]===Dt[q][1]?Yt=0:se=0}for(var ie=0;ie<Xt;ie++)if(ie!==q){var fe=Dt[ie];fe[1]===Dt[q][1]&&(fe[1]=Rt+se),fe[2]===Dt[q][2]&&(fe[2]=Ht+Yt)}if(Dt[q][1]=Rt+se,Dt[q][2]=Ht+Yt,!k(Dt))for(var ce=0;ce<Xt;ce++)for(var ye=0;ye<Dt[ce].length;ye++)Dt[ce][ye]=J[ot][ce][ye]}else Dt[q][1]=Rt+mt,Dt[q][2]=Ht+Pt;z()}}function G(){F()}function ut(){if(L.length&&L[ot]&&L[ot].length){for(var mt=[],Pt=0;Pt<L[ot].length;Pt++)Pt!==q&&mt.push(L[ot][Pt]);mt.length>1&&!(mt.length===2&&mt[1][0]==="Z")&&(q===0&&(mt[0][0]="M"),L[ot]=mt,z(),F())}}function at(mt,Pt){if(mt===2){ot=+Pt.srcElement.getAttribute("data-i"),q=+Pt.srcElement.getAttribute("data-j");var Rt=L[ot];!k(Rt)&&!a(Rt)&&ut()}}function dt(mt){et=[];for(var Pt=0;Pt<L.length;Pt++){var Rt=L[Pt],Ht=k(Rt),Dt=!Ht&&a(Rt);et[Pt]=[];for(var Xt=Rt.length,se=0;se<Xt;se++)if(Rt[se][0]!=="Z"&&!(Dt&&se!==s&&se!==n&&se!==l&&se!==o)){var Yt=Ht&&R.isActiveSelection,ue;Yt&&(ue=P(Rt,se));var ie=Rt[se][1],fe=Rt[se][2],ce=mt.append(Yt?"rect":"circle").attr("data-i",Pt).attr("data-j",se).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Yt){var ye=ue[1]-ie,de=ue[2]-fe,Te=de?5:Math.max(Math.min(25,Math.abs(ye)-5),5),Et=ye?5:Math.max(Math.min(25,Math.abs(de)-5),5);ce.classed(de?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Te).attr("height",Et).attr("x",ie-Te/2).attr("y",fe-Et/2).attr("transform",E(ye/2,de/2))}else ce.classed("cursor-grab",!0).attr("r",5).attr("cx",ie).attr("cy",fe);et[Pt][se]={element:ce.node(),gd:N,prepFn:st,doneFn:G,clickFn:at},i.init(et[Pt][se])}}}function gt(mt,Pt){if(L.length)for(var Rt=0;Rt<L.length;Rt++)for(var Ht=0;Ht<L[Rt].length;Ht++)for(var Dt=0;Dt+2<L[Rt][Ht].length;Dt+=2)L[Rt][Ht][Dt+1]=J[Rt][Ht][Dt+1]+mt,L[Rt][Ht][Dt+2]=J[Rt][Ht][Dt+2]+Pt}function wt(mt,Pt){gt(mt,Pt),z()}function kt(mt){ot=+mt.srcElement.getAttribute("data-i"),ot||(ot=0),lt[ot].moveFn=wt}function Ot(){F()}function bt(mt){mt===2&&u(N)}function _t(){if(lt=[],!!L.length){var mt=0;lt[mt]={element:A[0][0],gd:N,prepFn:kt,doneFn:Ot,clickFn:bt},i.init(lt[mt])}}};function T(g,L){for(var A=0;A<L.length;A++){var R=L[A];g[A]=[];for(var O=0;O<R.length;O++){g[A][O]=[];for(var N=0;N<R[O].length;N++)g[A][O][N]=R[O][N]}}return g}function P(g,L){var A=g[L][1],R=g[L][2],O=g.length,N,z,F;return N=(L+1)%O,z=g[N][1],F=g[N][2],z===A&&F===R&&(N=(L+2)%O,z=g[N][1],F=g[N][2]),[N,z,F]}function u(g){if(d(g._fullLayout.dragmode)){b(g);var L=g._fullLayout._activeSelectionIndex,A=(g.layout||{}).selections||[];if(L<A.length){for(var R=[],O=0;O<A.length;O++)O!==L&&R.push(A[O]);delete g._fullLayout._activeSelectionIndex;var N=g._fullLayout.selections[L];g._fullLayout._deselect={xref:N.xref,yref:N.yref},v.call("_guiRelayout",g,{selections:R})}}}},4016:function(X,B,t){var x=t(33428),E=t(24040),i=t(3400),M=t(54460),m=t(9856).readPaths,d=t(55496),v=t(60728),r=t(1936).clearOutlineControllers,e=t(76308),s=t(43616),n=t(31780).arrayEditor,l=t(86476),o=t(93972),h=t(85448),b=t(65152),f=b.getPathString;X.exports={draw:k,drawOne:p,eraseActiveShape:u,drawLabel:v};function k(g){var L=g._fullLayout;L._shapeUpperLayer.selectAll("path").remove(),L._shapeLowerLayer.selectAll("path").remove(),L._shapeUpperLayer.selectAll("text").remove(),L._shapeLowerLayer.selectAll("text").remove();for(var A in L._plots){var R=L._plots[A].shapelayer;R&&(R.selectAll("path").remove(),R.selectAll("text").remove())}for(var O=0;O<L.shapes.length;O++)L.shapes[O].visible===!0&&p(g,O)}function a(g){return!!g._fullLayout._outlining}function c(g){return!g._context.edits.shapePosition}function p(g,L){g._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+L+'"]').remove();var A=b.makeShapesOptionsAndPlotinfo(g,L),R=A.options,O=A.plotinfo;if(!R._input||R.visible!==!0)return;if(R.layer!=="below")z(g._fullLayout._shapeUpperLayer);else if(R.xref==="paper"||R.yref==="paper")z(g._fullLayout._shapeLowerLayer);else if(O._hadPlotinfo){var N=O.mainplotinfo||O;z(N.shapelayer)}else z(g._fullLayout._shapeLowerLayer);function z(F){var I=f(g,R),j={"data-index":L,"fill-rule":R.fillrule,d:I},V=R.opacity,W=R.fillcolor,K=R.line.width?R.line.color:"rgba(0,0,0,0)",et=R.line.width,lt=R.line.dash;!et&&R.editable===!0&&(et=5,lt="solid");var ot=I[I.length-1]!=="Z",q=c(g)&&R.editable&&g._fullLayout._activeShapeIndex===L;q&&(W=ot?"rgba(0,0,0,0)":g._fullLayout.activeshape.fillcolor,V=g._fullLayout.activeshape.opacity);var J=F.append("g").classed("shape-group",!0).attr({"data-index":L}),it=J.append("path").attr(j).style("opacity",V).call(e.stroke,K).call(e.fill,W).call(s.dashLine,lt,et);w(J,g,R),v(g,L,R,J);var Z;if((q||g._context.edits.shapePosition)&&(Z=n(g.layout,"shapes",R)),q){it.style({cursor:"move"});var tt={element:it.node(),plotinfo:O,gd:g,editHelpers:Z,hasText:R.label.text||R.label.texttemplate,isActiveShape:!0},st=m(I,g);d(st,it,tt)}else g._context.edits.shapePosition?S(g,it,R,L,F,Z):R.editable===!0&&it.style("pointer-events",ot||e.opacity(W)*V<=.5?"stroke":"all");it.node().addEventListener("click",function(){return T(g,it)})}}function w(g,L,A){var R=(A.xref+A.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(g,R?"clip"+L._fullLayout._uid+R:null,L)}function S(g,L,A,R,O,N){var z=10,F=10,I=A.xsizemode==="pixel",j=A.ysizemode==="pixel",V=A.type==="line",W=A.type==="path",K=N.modifyItem,et,lt,ot,q,J,it,Z,tt,st,Q,G,ut,at,dt,gt,wt=x.select(L.node().parentNode),kt=M.getFromId(g,A.xref),Ot=M.getRefType(A.xref),bt=M.getFromId(g,A.yref),_t=M.getRefType(A.yref),mt=b.getDataToPixel(g,kt,!1,Ot),Pt=b.getDataToPixel(g,bt,!0,_t),Rt=b.getPixelToData(g,kt,!1,Ot),Ht=b.getPixelToData(g,bt,!0,_t),Dt=Yt(),Xt={element:Dt.node(),gd:g,prepFn:fe,doneFn:ce,clickFn:ye},se;l.init(Xt),Dt.node().onmousemove=ie;function Yt(){return V?ue():L}function ue(){var Jt=10,Ut=Math.max(A.line.width,Jt),It=O.append("g").attr("data-index",R).attr("drag-helper",!0);It.append("path").attr("d",L.attr("d")).style({cursor:"move","stroke-width":Ut,"stroke-opacity":"0"});var pt={"fill-opacity":"0"},xt=Math.max(Ut/2,Jt);return It.append("circle").attr({"data-line-point":"start-point",cx:I?mt(A.xanchor)+A.x0:mt(A.x0),cy:j?Pt(A.yanchor)-A.y0:Pt(A.y0),r:xt}).style(pt).classed("cursor-grab",!0),It.append("circle").attr({"data-line-point":"end-point",cx:I?mt(A.xanchor)+A.x1:mt(A.x1),cy:j?Pt(A.yanchor)-A.y1:Pt(A.y1),r:xt}).style(pt).classed("cursor-grab",!0),It}function ie(Jt){if(a(g)){se=null;return}if(V)Jt.target.tagName==="path"?se="move":se=Jt.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ut=Xt.element.getBoundingClientRect(),It=Ut.right-Ut.left,pt=Ut.bottom-Ut.top,xt=Jt.clientX-Ut.left,Ct=Jt.clientY-Ut.top,At=!W&&It>z&&pt>F&&!Jt.shiftKey?l.getCursor(xt/It,1-Ct/pt):"move";o(L,At),se=At.split("-")[0]}}function fe(Jt){a(g)||(I&&(J=mt(A.xanchor)),j&&(it=Pt(A.yanchor)),A.type==="path"?gt=A.path:(et=I?A.x0:mt(A.x0),lt=j?A.y0:Pt(A.y0),ot=I?A.x1:mt(A.x1),q=j?A.y1:Pt(A.y1)),et<ot?(st=et,at="x0",Q=ot,dt="x1"):(st=ot,at="x1",Q=et,dt="x0"),!j&&lt<q||j&&lt>q?(Z=lt,G="y0",tt=q,ut="y1"):(Z=q,G="y1",tt=lt,ut="y0"),ie(Jt),Et(O,A),te(L,A,g),Xt.moveFn=se==="move"?de:Te,Xt.altKey=Jt.altKey)}function ce(){a(g)||(o(L),Vt(O),w(L,g,A),E.call("_guiRelayout",g,N.getUpdateObj()))}function ye(){a(g)||Vt(O)}function de(Jt,Ut){if(A.type==="path"){var It=function(Ct){return Ct},pt=It,xt=It;I?K("xanchor",A.xanchor=Rt(J+Jt)):(pt=function(Ct){return Rt(mt(Ct)+Jt)},kt&&kt.type==="date"&&(pt=b.encodeDate(pt))),j?K("yanchor",A.yanchor=Ht(it+Ut)):(xt=function(Ct){return Ht(Pt(Ct)+Ut)},bt&&bt.type==="date"&&(xt=b.encodeDate(xt))),K("path",A.path=_(gt,pt,xt))}else I?K("xanchor",A.xanchor=Rt(J+Jt)):(K("x0",A.x0=Rt(et+Jt)),K("x1",A.x1=Rt(ot+Jt))),j?K("yanchor",A.yanchor=Ht(it+Ut)):(K("y0",A.y0=Ht(lt+Ut)),K("y1",A.y1=Ht(q+Ut)));L.attr("d",f(g,A)),Et(O,A),v(g,R,A,wt)}function Te(Jt,Ut){if(W){var It=function(xe){return xe},pt=It,xt=It;I?K("xanchor",A.xanchor=Rt(J+Jt)):(pt=function(xe){return Rt(mt(xe)+Jt)},kt&&kt.type==="date"&&(pt=b.encodeDate(pt))),j?K("yanchor",A.yanchor=Ht(it+Ut)):(xt=function(xe){return Ht(Pt(xe)+Ut)},bt&&bt.type==="date"&&(xt=b.encodeDate(xt))),K("path",A.path=_(gt,pt,xt))}else if(V){if(se==="resize-over-start-point"){var Ct=et+Jt,At=j?lt-Ut:lt+Ut;K("x0",A.x0=I?Ct:Rt(Ct)),K("y0",A.y0=j?At:Ht(At))}else if(se==="resize-over-end-point"){var Ft=ot+Jt,Wt=j?q-Ut:q+Ut;K("x1",A.x1=I?Ft:Rt(Ft)),K("y1",A.y1=j?Wt:Ht(Wt))}}else{var Qt=function(xe){return se.indexOf(xe)!==-1},he=Qt("n"),ve=Qt("s"),Je=Qt("w"),Ue=Qt("e"),ke=he?Z+Ut:Z,Le=ve?tt+Ut:tt,Ge=Je?st+Jt:st,mr=Ue?Q+Jt:Q;j&&(he&&(ke=Z-Ut),ve&&(Le=tt-Ut)),(!j&&Le-ke>F||j&&ke-Le>F)&&(K(G,A[G]=j?ke:Ht(ke)),K(ut,A[ut]=j?Le:Ht(Le))),mr-Ge>z&&(K(at,A[at]=I?Ge:Rt(Ge)),K(dt,A[dt]=I?mr:Rt(mr)))}L.attr("d",f(g,A)),Et(O,A),v(g,R,A,wt)}function Et(Jt,Ut){(I||j)&&It();function It(){var pt=Ut.type!=="path",xt=Jt.selectAll(".visual-cue").data([0]),Ct=1;xt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ct}).classed("visual-cue",!0);var At=mt(I?Ut.xanchor:i.midRange(pt?[Ut.x0,Ut.x1]:b.extractPathCoords(Ut.path,h.paramIsX))),Ft=Pt(j?Ut.yanchor:i.midRange(pt?[Ut.y0,Ut.y1]:b.extractPathCoords(Ut.path,h.paramIsY)));if(At=b.roundPositionForSharpStrokeRendering(At,Ct),Ft=b.roundPositionForSharpStrokeRendering(Ft,Ct),I&&j){var Wt="M"+(At-1-Ct)+","+(Ft-1-Ct)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";xt.attr("d",Wt)}else if(I){var Qt="M"+(At-1-Ct)+","+(Ft-9-Ct)+"v18 h2 v-18 Z";xt.attr("d",Qt)}else{var he="M"+(At-9-Ct)+","+(Ft-1-Ct)+"h18 v2 h-18 Z";xt.attr("d",he)}}}function Vt(Jt){Jt.selectAll(".visual-cue").remove()}function te(Jt,Ut,It){var pt=Ut.xref,xt=Ut.yref,Ct=M.getFromId(It,pt),At=M.getFromId(It,xt),Ft="";pt!=="paper"&&!Ct.autorange&&(Ft+=pt),xt!=="paper"&&!At.autorange&&(Ft+=xt),s.setClipUrl(Jt,Ft?"clip"+It._fullLayout._uid+Ft:null,It)}}function _(g,L,A){return g.replace(h.segmentRE,function(R){var O=0,N=R.charAt(0),z=h.paramIsX[N],F=h.paramIsY[N],I=h.numParams[N],j=R.substr(1).replace(h.paramRE,function(V){return O>=I||(z[O]?V=L(V):F[O]&&(V=A(V)),O++),V});return N+j})}function T(g,L){if(c(g)){var A=L.node(),R=+A.getAttribute("data-index");if(R>=0){if(R===g._fullLayout._activeShapeIndex){P(g);return}g._fullLayout._activeShapeIndex=R,g._fullLayout._deactivateShape=P,k(g)}}}function P(g){if(c(g)){var L=g._fullLayout._activeShapeIndex;L>=0&&(r(g),delete g._fullLayout._activeShapeIndex,k(g))}}function u(g){if(c(g)){r(g);var L=g._fullLayout._activeShapeIndex,A=(g.layout||{}).shapes||[];if(L<A.length){for(var R=[],O=0;O<A.length;O++)O!==L&&R.push(A[O]);return delete g._fullLayout._activeShapeIndex,E.call("_guiRelayout",g,{shapes:R})}}}},92872:function(X,B,t){var x=t(67824).overrideAll,E=t(45464),i=t(25376),M=t(98192).u,m=t(92880).extendFlat,d=t(21776).ye,v=t(97728);X.exports=x({newshape:{visible:m({},E.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:m({},E.legend,{}),legendgroup:m({},E.legendgroup,{}),legendgrouptitle:{text:m({},E.legendgrouptitle.text,{}),font:i({})},legendrank:m({},E.legendrank,{}),legendwidth:m({},E.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:m({},M,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:m({},E.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(v)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(X){var B=32;X.exports={CIRCLE_SIDES:B,i000:0,i090:B/4,i180:B/2,i270:B/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(X,B,t){var x=t(76308),E=t(3400);function i(M,m){return M?"bottom":m.indexOf("top")!==-1?"top":m.indexOf("bottom")!==-1?"bottom":"middle"}X.exports=function(M,m,d){d("newshape.visible"),d("newshape.name"),d("newshape.showlegend"),d("newshape.legend"),d("newshape.legendwidth"),d("newshape.legendgroup"),d("newshape.legendgrouptitle.text"),E.coerceFont(d,"newshape.legendgrouptitle.font"),d("newshape.legendrank"),d("newshape.drawdirection"),d("newshape.layer"),d("newshape.fillcolor"),d("newshape.fillrule"),d("newshape.opacity");var v=d("newshape.line.width");if(v){var r=(M||{}).plot_bgcolor||"#FFF";d("newshape.line.color",x.contrast(r)),d("newshape.line.dash")}var e=M.dragmode==="drawline",s=d("newshape.label.text"),n=d("newshape.label.texttemplate");if(s||n){d("newshape.label.textangle");var l=d("newshape.label.textposition",e?"middle":"middle center");d("newshape.label.xanchor"),d("newshape.label.yanchor",i(e,l)),d("newshape.label.padding"),E.coerceFont(d,"newshape.label.font",m.font)}d("activeshape.fillcolor"),d("activeshape.opacity")}},9856:function(X,B,t){var x=t(21984),E=t(7e3),i=E.CIRCLE_SIDES,M=E.SQRT2,m=t(5840),d=m.p2r,v=m.r2p,r=[0,3,4,5,6,1,2],e=[0,3,4,1,2];B.writePaths=function(l){var o=l.length;if(!o)return"M0,0Z";for(var h="",b=0;b<o;b++)for(var f=l[b].length,k=0;k<f;k++){var a=l[b][k][0];if(a==="Z")h+="Z";else for(var c=l[b][k].length,p=0;p<c;p++){var w=p;a==="Q"||a==="S"?w=e[p]:a==="C"&&(w=r[p]),h+=l[b][k][w],p>0&&p<c-1&&(h+=",")}}return h},B.readPaths=function(l,o,h,b){var f=x(l),k=[],a=-1,c=function(){a++,k[a]=[]},p,w=0,S=0,_,T,P=function(){_=w,T=S};P();for(var u=0;u<f.length;u++){var g=[],L,A,R,O,N=f[u][0],z=N;switch(N){case"M":c(),w=+f[u][1],S=+f[u][2],g.push([z,w,S]),P();break;case"Q":case"S":L=+f[u][1],R=+f[u][2],w=+f[u][3],S=+f[u][4],g.push([z,w,S,L,R]);break;case"C":L=+f[u][1],R=+f[u][2],A=+f[u][3],O=+f[u][4],w=+f[u][5],S=+f[u][6],g.push([z,w,S,L,R,A,O]);break;case"T":case"L":w=+f[u][1],S=+f[u][2],g.push([z,w,S]);break;case"H":z="L",w=+f[u][1],g.push([z,w,S]);break;case"V":z="L",S=+f[u][1],g.push([z,w,S]);break;case"A":z="L";var F=+f[u][1],I=+f[u][2];+f[u][4]||(F=-F,I=-I);var j=w-F,V=S;for(p=1;p<=i/2;p++){var W=2*Math.PI*p/i;g.push([z,j+F*Math.cos(W),V+I*Math.sin(W)])}break;case"Z":(w!==_||S!==T)&&(w=_,S=T,g.push([z,w,S]));break}for(var K=(h||{}).domain,et=o._fullLayout._size,lt=h&&h.xsizemode==="pixel",ot=h&&h.ysizemode==="pixel",q=b===!1,J=0;J<g.length;J++){for(p=0;p+2<7;p+=2){var it=g[J][p+1],Z=g[J][p+2];it===void 0||Z===void 0||(w=it,S=Z,h&&(h.xaxis&&h.xaxis.p2r?(q&&(it-=h.xaxis._offset),lt?it=v(h.xaxis,h.xanchor)+it:it=d(h.xaxis,it)):(q&&(it-=et.l),K?it=K.x[0]+it/et.w:it=it/et.w),h.yaxis&&h.yaxis.p2r?(q&&(Z-=h.yaxis._offset),ot?Z=v(h.yaxis,h.yanchor)-Z:Z=d(h.yaxis,Z)):(q&&(Z-=et.t),K?Z=K.y[1]-Z/et.h:Z=1-Z/et.h)),g[J][p+1]=it,g[J][p+2]=Z)}k[a].push(g[J].slice())}}return k};function s(l,o){return Math.abs(l-o)<=1e-6}function n(l,o){var h=o[1]-l[1],b=o[2]-l[2];return Math.sqrt(h*h+b*b)}B.pointsOnRectangle=function(l){var o=l.length;if(o!==5)return!1;for(var h=1;h<3;h++){var b=l[0][h]-l[1][h],f=l[3][h]-l[2][h];if(!s(b,f))return!1;var k=l[0][h]-l[3][h],a=l[1][h]-l[2][h];if(!s(k,a))return!1}return!s(l[0][1],l[1][1])&&!s(l[0][1],l[3][1])?!1:!!(n(l[0],l[1])*n(l[0],l[3]))},B.pointsOnEllipse=function(l){var o=l.length;if(o!==i+1)return!1;o=i;for(var h=0;h<o;h++){var b=(o*2-h)%o,f=(o/2+b)%o,k=(o/2+h)%o;if(!s(n(l[h],l[k]),n(l[b],l[f])))return!1}return!0},B.handleEllipse=function(l,o,h){if(!l)return[o,h];var b=B.ellipseOver({x0:o[0],y0:o[1],x1:h[0],y1:h[1]}),f=(b.x1+b.x0)/2,k=(b.y1+b.y0)/2,a=(b.x1-b.x0)/2,c=(b.y1-b.y0)/2;a||(a=c=c/M),c||(c=a=a/M);for(var p=[],w=0;w<i;w++){var S=w*2*Math.PI/i;p.push([f+a*Math.cos(S),k+c*Math.sin(S)])}return p},B.ellipseOver=function(l){var o=l.x0,h=l.y0,b=l.x1,f=l.y1,k=b-o,a=f-h;o-=k,h-=a;var c=(o+b)/2,p=(h+f)/2,w=M;return k*=w,a*=w,{x0:c-k,y0:p-a,x1:c+k,y1:p+a}},B.fixDatesForPaths=function(l,o,h){var b=o.type==="date",f=h.type==="date";if(!b&&!f)return l;for(var k=0;k<l.length;k++)for(var a=0;a<l[k].length;a++)for(var c=0;c+2<l[k][a].length;c+=2)b&&(l[k][a][c+1]=l[k][a][c+1].replace(" ","_")),f&&(l[k][a][c+2]=l[k][a][c+2].replace(" ","_"));return l}},93940:function(X,B,t){var x=t(72760),E=x.drawMode,i=x.openMode,M=t(7e3),m=M.i000,d=M.i090,v=M.i180,r=M.i270,e=M.cos45,s=M.sin45,n=t(5840),l=n.p2r,o=n.r2p,h=t(1936),b=h.clearOutline,f=t(9856),k=f.readPaths,a=f.writePaths,c=f.ellipseOver,p=f.fixDatesForPaths;function w(_,T){if(_.length){var P=_[0][0];if(P){var u=T.gd,g=T.isActiveShape,L=T.dragmode,A=(u.layout||{}).shapes||[];if(!E(L)&&g!==void 0){var R=u._fullLayout._activeShapeIndex;if(R<A.length)switch(u._fullLayout.shapes[R].type){case"rect":L="drawrect";break;case"circle":L="drawcircle";break;case"line":L="drawline";break;case"path":var O=A[R].path||"";O[O.length-1]==="Z"?L="drawclosedpath":L="drawopenpath";break}}var N=S(_,T,L);b(u);for(var z=T.editHelpers,F=(z||{}).modifyItem,I=[],j=0;j<A.length;j++){var V=u._fullLayout.shapes[j];if(I[j]=V._input,g!==void 0&&j===u._fullLayout._activeShapeIndex){var W=N;switch(V.type){case"line":case"rect":case"circle":F("x0",W.x0),F("x1",W.x1),F("y0",W.y0),F("y1",W.y1);break;case"path":F("path",W.path);break}}}return g===void 0?(I.push(N),I):z?z.getUpdateObj():{}}}}function S(_,T,P){var u=_[0][0],g=T.gd,L=u.getAttribute("d"),A=g._fullLayout.newshape,R=T.plotinfo,O=T.isActiveShape,N=R.xaxis,z=R.yaxis,F=!!R.domain||!R.xaxis,I=!!R.domain||!R.yaxis,j=i(P),V=k(L,g,R,O),W={editable:!0,visible:A.visible,name:A.name,showlegend:A.showlegend,legend:A.legend,legendwidth:A.legendwidth,legendgroup:A.legendgroup,legendgrouptitle:{text:A.legendgrouptitle.text,font:A.legendgrouptitle.font},legendrank:A.legendrank,label:A.label,xref:F?"paper":N._id,yref:I?"paper":z._id,layer:A.layer,opacity:A.opacity,line:{color:A.line.color,width:A.line.width,dash:A.line.dash}};j||(W.fillcolor=A.fillcolor,W.fillrule=A.fillrule);var K;if(V.length===1&&(K=V[0]),K&&K.length===5&&P==="drawrect")W.type="rect",W.x0=K[0][1],W.y0=K[0][2],W.x1=K[2][1],W.y1=K[2][2];else if(K&&P==="drawline")W.type="line",W.x0=K[0][1],W.y0=K[0][2],W.x1=K[1][1],W.y1=K[1][2];else if(K&&P==="drawcircle"){W.type="circle";var et=K[m][1],lt=K[d][1],ot=K[v][1],q=K[r][1],J=K[m][2],it=K[d][2],Z=K[v][2],tt=K[r][2],st=R.xaxis&&(R.xaxis.type==="date"||R.xaxis.type==="log"),Q=R.yaxis&&(R.yaxis.type==="date"||R.yaxis.type==="log");st&&(et=o(R.xaxis,et),lt=o(R.xaxis,lt),ot=o(R.xaxis,ot),q=o(R.xaxis,q)),Q&&(J=o(R.yaxis,J),it=o(R.yaxis,it),Z=o(R.yaxis,Z),tt=o(R.yaxis,tt));var G=(lt+q)/2,ut=(J+Z)/2,at=(q-lt+ot-et)/2,dt=(tt-it+Z-J)/2,gt=c({x0:G,y0:ut,x1:G+at*e,y1:ut+dt*s});st&&(gt.x0=l(R.xaxis,gt.x0),gt.x1=l(R.xaxis,gt.x1)),Q&&(gt.y0=l(R.yaxis,gt.y0),gt.y1=l(R.yaxis,gt.y1)),W.x0=gt.x0,W.y0=gt.y0,W.x1=gt.x1,W.y1=gt.y1}else W.type="path",N&&z&&p(V,N,z),W.path=a(V),K=null;return W}X.exports={newShapes:w,createShapeObj:S}},1936:function(X){function B(x){var E=x._fullLayout._zoomlayer;E&&E.selectAll(".outline-controllers").remove()}function t(x){var E=x._fullLayout._zoomlayer;E&&E.selectAll(".select-outline").remove(),x._fullLayout._outlining=!1}X.exports={clearOutlineControllers:B,clearOutline:t}},65152:function(X,B,t){var x=t(85448),E=t(3400),i=t(54460);B.rangeToShapePosition=function(m){return m.type==="log"?m.r2d:function(d){return d}},B.shapePositionToRange=function(m){return m.type==="log"?m.d2r:function(d){return d}},B.decodeDate=function(m){return function(d){return d.replace&&(d=d.replace("_"," ")),m(d)}},B.encodeDate=function(m){return function(d){return m(d).replace(" ","_")}},B.extractPathCoords=function(m,d,v){var r=[],e=m.match(x.segmentRE);return e.forEach(function(s){var n=d[s.charAt(0)].drawn;if(n!==void 0){var l=s.substr(1).match(x.paramRE);if(!(!l||l.length<n)){var o=l[n],h=v?o:E.cleanNumber(o);r.push(h)}}}),r},B.getDataToPixel=function(m,d,v,r){var e=m._fullLayout._size,s;if(d)if(r==="domain")s=function(l){return d._length*(v?1-l:l)+d._offset};else{var n=B.shapePositionToRange(d);s=function(l){return d._offset+d.r2p(n(l,!0))},d.type==="date"&&(s=B.decodeDate(s))}else v?s=function(l){return e.t+e.h*(1-l)}:s=function(l){return e.l+e.w*l};return s},B.getPixelToData=function(m,d,v,r){var e=m._fullLayout._size,s;if(d)if(r==="domain")s=function(l){var o=(l-d._offset)/d._length;return v?1-o:o};else{var n=B.rangeToShapePosition(d);s=function(l){return n(d.p2r(l-d._offset))}}else v?s=function(l){return 1-(l-e.t)/e.h}:s=function(l){return(l-e.l)/e.w};return s},B.roundPositionForSharpStrokeRendering=function(m,d){var v=Math.round(d%2)===1,r=Math.round(m);return v?r+.5:r},B.makeShapesOptionsAndPlotinfo=function(m,d){var v=m._fullLayout.shapes[d]||{},r=m._fullLayout._plots[v.xref+v.yref],e=!!r;return e?r._hadPlotinfo=!0:(r={},v.xref&&v.xref!=="paper"&&(r.xaxis=m._fullLayout[v.xref+"axis"]),v.yref&&v.yref!=="paper"&&(r.yaxis=m._fullLayout[v.yref+"axis"])),r.xsizemode=v.xsizemode,r.ysizemode=v.ysizemode,r.xanchor=v.xanchor,r.yanchor=v.yanchor,{options:v,plotinfo:r}},B.makeSelectionsOptionsAndPlotinfo=function(m,d){var v=m._fullLayout.selections[d]||{},r=m._fullLayout._plots[v.xref+v.yref],e=!!r;return e?r._hadPlotinfo=!0:(r={},v.xref&&(r.xaxis=m._fullLayout[v.xref+"axis"]),v.yref&&(r.yaxis=m._fullLayout[v.yref+"axis"])),{options:v,plotinfo:r}},B.getPathString=function(m,d){var v=d.type,r=i.getRefType(d.xref),e=i.getRefType(d.yref),s=i.getFromId(m,d.xref),n=i.getFromId(m,d.yref),l=m._fullLayout._size,o,h,b,f,k,a,c,p;if(s?r==="domain"?h=function(R){return s._offset+s._length*R}:(o=B.shapePositionToRange(s),h=function(R){return s._offset+s.r2p(o(R,!0))}):h=function(R){return l.l+l.w*R},n?e==="domain"?f=function(R){return n._offset+n._length*(1-R)}:(b=B.shapePositionToRange(n),f=function(R){return n._offset+n.r2p(b(R,!0))}):f=function(R){return l.t+l.h*(1-R)},v==="path")return s&&s.type==="date"&&(h=B.decodeDate(h)),n&&n.type==="date"&&(f=B.decodeDate(f)),M(d,h,f);if(d.xsizemode==="pixel"){var w=h(d.xanchor);k=w+d.x0,a=w+d.x1}else k=h(d.x0),a=h(d.x1);if(d.ysizemode==="pixel"){var S=f(d.yanchor);c=S-d.y0,p=S-d.y1}else c=f(d.y0),p=f(d.y1);if(v==="line")return"M"+k+","+c+"L"+a+","+p;if(v==="rect")return"M"+k+","+c+"H"+a+"V"+p+"H"+k+"Z";var _=(k+a)/2,T=(c+p)/2,P=Math.abs(_-k),u=Math.abs(T-c),g="A"+P+","+u,L=_+P+","+T,A=_+","+(T-u);return"M"+L+g+" 0 1,1 "+A+g+" 0 0,1 "+L+"Z"};function M(m,d,v){var r=m.path,e=m.xsizemode,s=m.ysizemode,n=m.xanchor,l=m.yanchor;return r.replace(x.segmentRE,function(o){var h=0,b=o.charAt(0),f=x.paramIsX[b],k=x.paramIsY[b],a=x.numParams[b],c=o.substr(1).replace(x.paramRE,function(p){return f[h]?e==="pixel"?p=d(n)+Number(p):p=d(p):k[h]&&(s==="pixel"?p=v(l)-Number(p):p=v(p)),h++,h>a&&(p="X"),p});return h>a&&(c=c.replace(/[\s,]*X.*/,""),E.log("Ignoring extra params in segment "+o)),b+c})}},41592:function(X,B,t){var x=t(4016);X.exports={moduleType:"component",name:"shapes",layoutAttributes:t(46056),supplyLayoutDefaults:t(43712),supplyDrawNewShapeDefaults:t(65144),includeBasePlot:t(36632)("shapes"),calcAutorange:t(96084),draw:x.draw,drawOne:x.drawOne}},97728:function(X){function B(o,h){return h?h.d2l(o):o}function t(o,h){return h?h.l2d(o):o}function x(o){return o.x0}function E(o){return o.x1}function i(o){return o.y0}function M(o){return o.y1}function m(o,h){return B(o.x1,h)-B(o.x0,h)}function d(o,h,b){return B(o.y1,b)-B(o.y0,b)}function v(o,h){return Math.abs(m(o,h))}function r(o,h,b){return Math.abs(d(o,h,b))}function e(o,h,b){return o.type!=="line"?void 0:Math.sqrt(Math.pow(m(o,h),2)+Math.pow(d(o,h,b),2))}function s(o,h){return t((B(o.x1,h)+B(o.x0,h))/2,h)}function n(o,h,b){return t((B(o.y1,b)+B(o.y0,b))/2,b)}function l(o,h,b){return o.type!=="line"?void 0:d(o,h,b)/m(o,h)}X.exports={x0:x,x1:E,y0:i,y1:M,slope:l,dx:m,dy:d,width:v,height:r,length:e,xcenter:s,ycenter:n}},89861:function(X,B,t){var x=t(25376),E=t(66741),i=t(92880).extendDeepAll,M=t(67824).overrideAll,m=t(85656),d=t(31780).templatedArray,v=t(60876),r=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});X.exports=M(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(E({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:m.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:x({})},font:x({}),activebgcolor:{valType:"color",dflt:v.gripBgActiveColor},bgcolor:{valType:"color",dflt:v.railBgColor},bordercolor:{valType:"color",dflt:v.railBorderColor},borderwidth:{valType:"number",min:0,dflt:v.railBorderWidth},ticklen:{valType:"number",min:0,dflt:v.tickLength},tickcolor:{valType:"color",dflt:v.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:v.minorTickLength}}),"arraydraw","from-root")},60876:function(X){X.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(X,B,t){var x=t(3400),E=t(51272),i=t(89861),M=t(60876),m=M.name,d=i.steps;X.exports=function(e,s){E(e,s,{name:m,handleItemDefaults:v})};function v(e,s,n){function l(p,w){return x.coerce(e,s,i,p,w)}for(var o=E(e,s,{name:"steps",handleItemDefaults:r}),h=0,b=0;b<o.length;b++)o[b].visible&&h++;var f;if(h<2?f=s.visible=!1:f=l("visible"),!!f){s._stepCount=h;var k=s._visibleSteps=x.filterVisible(o),a=l("active");(o[a]||{}).visible||(s.active=k[0]._index),l("x"),l("y"),x.noneOrAll(e,s,["x","y"]),l("xanchor"),l("yanchor"),l("len"),l("lenmode"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),x.coerceFont(l,"font",n.font);var c=l("currentvalue.visible");c&&(l("currentvalue.xanchor"),l("currentvalue.prefix"),l("currentvalue.suffix"),l("currentvalue.offset"),x.coerceFont(l,"currentvalue.font",s.font)),l("transition.duration"),l("transition.easing"),l("bgcolor"),l("activebgcolor"),l("bordercolor"),l("borderwidth"),l("ticklen"),l("tickwidth"),l("tickcolor"),l("minorticklen")}}function r(e,s){function n(h,b){return x.coerce(e,s,d,h,b)}var l;if(e.method!=="skip"&&!Array.isArray(e.args)?l=s.visible=!1:l=n("visible"),l){n("method"),n("args");var o=n("label","step-"+s._index);n("value",o),n("execute")}}},79664:function(X,B,t){var x=t(33428),E=t(7316),i=t(76308),M=t(43616),m=t(3400),d=m.strTranslate,v=t(72736),r=t(31780).arrayEditor,e=t(60876),s=t(84284),n=s.LINE_SPACING,l=s.FROM_TL,o=s.FROM_BR;X.exports=function(z){var F=z._context.staticPlot,I=z._fullLayout,j=b(I,z),V=I._infolayer.selectAll("g."+e.containerClassName).data(j.length>0?[0]:[]);V.enter().append("g").classed(e.containerClassName,!0).style("cursor",F?null:"ew-resize");function W(ot){ot._commandObserver&&(ot._commandObserver.remove(),delete ot._commandObserver),E.autoMargin(z,h(ot))}if(V.exit().each(function(){x.select(this).selectAll("g."+e.groupClassName).each(W)}).remove(),j.length!==0){var K=V.selectAll("g."+e.groupClassName).data(j,f);K.enter().append("g").classed(e.groupClassName,!0),K.exit().each(W).remove();for(var et=0;et<j.length;et++){var lt=j[et];k(z,lt)}K.each(function(ot){var q=x.select(this);g(ot),E.manageCommandObserver(z,ot,ot._visibleSteps,function(J){var it=q.data()[0];it.active!==J.index&&(it._dragging||T(z,q,it,J.index,!1,!0))}),a(z,x.select(this),ot)})}};function h(z){return e.autoMarginIdRoot+z._index}function b(z,F){for(var I=z[e.name],j=[],V=0;V<I.length;V++){var W=I[V];W.visible&&(W._gd=F,j.push(W))}return j}function f(z){return z._index}function k(z,F){var I=M.tester.selectAll("g."+e.labelGroupClass).data(F._visibleSteps);I.enter().append("g").classed(e.labelGroupClass,!0);var j=0,V=0;I.each(function(tt){var st=x.select(this),Q=w(st,{step:tt},F),G=Q.node();if(G){var ut=M.bBox(G);V=Math.max(V,ut.height),j=Math.max(j,ut.width)}}),I.remove();var W=F._dims={};W.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var K=z._fullLayout._size;W.lx=K.l+K.w*F.x,W.ly=K.t+K.h*(1-F.y),F.lenmode==="fraction"?W.outerLength=Math.round(K.w*F.len):W.outerLength=F.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-F.pad.l-F.pad.r);var et=W.inputAreaLength-2*e.stepInset,lt=et/(F._stepCount-1),ot=j+e.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(ot/lt)),W.labelHeight=V,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,F.currentvalue.visible){var q=M.tester.append("g");I.each(function(tt){var st=c(q,F,tt.label),Q=st.node()&&M.bBox(st.node())||{width:0,height:0},G=v.lineCount(st);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(Q.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(Q.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,G)}),W.currentValueTotalHeight=W.currentValueHeight+F.currentvalue.offset,q.remove()}W.height=W.currentValueTotalHeight+e.tickOffset+F.ticklen+e.labelOffset+W.labelHeight+F.pad.t+F.pad.b;var J="left";m.isRightAnchor(F)&&(W.lx-=W.outerLength,J="right"),m.isCenterAnchor(F)&&(W.lx-=W.outerLength/2,J="center");var it="top";m.isBottomAnchor(F)&&(W.ly-=W.height,it="bottom"),m.isMiddleAnchor(F)&&(W.ly-=W.height/2,it="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var Z={y:F.y,b:W.height*o[it],t:W.height*l[it]};F.lenmode==="fraction"?(Z.l=0,Z.xl=F.x-F.len*l[J],Z.r=0,Z.xr=F.x+F.len*o[J]):(Z.x=F.x,Z.l=W.outerLength*l[J],Z.r=W.outerLength*o[J]),E.autoMargin(z,h(F),Z)}function a(z,F,I){(I.steps[I.active]||{}).visible||(I.active=I._visibleSteps[0]._index),F.call(c,I).call(N,I).call(S,I).call(u,I).call(O,z,I).call(p,z,I);var j=I._dims;M.setTranslate(F,j.lx+I.pad.l,j.ly+I.pad.t),F.call(L,I,!1),F.call(c,I)}function c(z,F,I){if(F.currentvalue.visible){var j=F._dims,V,W;switch(F.currentvalue.xanchor){case"right":V=j.inputAreaLength-e.currentValueInset-j.currentValueMaxWidth,W="left";break;case"center":V=j.inputAreaLength*.5,W="middle";break;default:V=e.currentValueInset,W="left"}var K=m.ensureSingle(z,"text",e.labelClass,function(it){it.attr({"text-anchor":W,"data-notex":1})}),et=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof I=="string")et+=I;else{var lt=F.steps[F.active].label,ot=F._gd._fullLayout._meta;ot&&(lt=m.templateString(lt,ot)),et+=lt}F.currentvalue.suffix&&(et+=F.currentvalue.suffix),K.call(M.font,F.currentvalue.font).text(et).call(v.convertToTspans,F._gd);var q=v.lineCount(K),J=(j.currentValueMaxLines+1-q)*F.currentvalue.font.size*n;return v.positionText(K,V,J),K}}function p(z,F,I){var j=m.ensureSingle(z,"rect",e.gripRectClass,function(V){V.call(P,F,z,I).style("pointer-events","all")});j.attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(i.stroke,I.bordercolor).call(i.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function w(z,F,I){var j=m.ensureSingle(z,"text",e.labelClass,function(K){K.attr({"text-anchor":"middle","data-notex":1})}),V=F.step.label,W=I._gd._fullLayout._meta;return W&&(V=m.templateString(V,W)),j.call(M.font,I.font).text(V).call(v.convertToTspans,I._gd),j}function S(z,F){var I=m.ensureSingle(z,"g",e.labelsClass),j=F._dims,V=I.selectAll("g."+e.labelGroupClass).data(j.labelSteps);V.enter().append("g").classed(e.labelGroupClass,!0),V.exit().remove(),V.each(function(W){var K=x.select(this);K.call(w,W,F),M.setTranslate(K,A(F,W.fraction),e.tickOffset+F.ticklen+F.font.size*n+e.labelOffset+j.currentValueTotalHeight)})}function _(z,F,I,j,V){var W=Math.round(j*(I._stepCount-1)),K=I._visibleSteps[W]._index;K!==I.active&&T(z,F,I,K,!0,V)}function T(z,F,I,j,V,W){var K=I.active;I.active=j,r(z.layout,e.name,I).applyUpdate("active",j);var et=I.steps[I.active];F.call(L,I,W),F.call(c,I),z.emit("plotly_sliderchange",{slider:I,step:I.steps[I.active],interaction:V,previousActive:K}),et&&et.method&&V&&(F._nextMethod?(F._nextMethod.step=et,F._nextMethod.doCallback=V,F._nextMethod.doTransition=W):(F._nextMethod={step:et,doCallback:V,doTransition:W},F._nextMethodRaf=window.requestAnimationFrame(function(){var lt=F._nextMethod.step;lt.method&&(lt.execute&&E.executeAPICommand(z,lt.method,lt.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function P(z,F,I){if(F._context.staticPlot)return;var j=I.node(),V=x.select(F);function W(){return I.data()[0]}function K(){var et=W();F.emit("plotly_sliderstart",{slider:et});var lt=I.select("."+e.gripRectClass);x.event.stopPropagation(),x.event.preventDefault(),lt.call(i.fill,et.activebgcolor);var ot=R(et,x.mouse(j)[0]);_(F,I,et,ot,!0),et._dragging=!0;function q(){var it=W(),Z=R(it,x.mouse(j)[0]);_(F,I,it,Z,!1)}V.on("mousemove",q),V.on("touchmove",q);function J(){var it=W();it._dragging=!1,lt.call(i.fill,it.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),F.emit("plotly_sliderend",{slider:it,step:it.steps[it.active]})}V.on("mouseup",J),V.on("touchend",J)}z.on("mousedown",K),z.on("touchstart",K)}function u(z,F){var I=z.selectAll("rect."+e.tickRectClass).data(F._visibleSteps),j=F._dims;I.enter().append("rect").classed(e.tickRectClass,!0),I.exit().remove(),I.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),I.each(function(V,W){var K=W%j.labelStride===0,et=x.select(this);et.attr({height:K?F.ticklen:F.minorticklen}).call(i.fill,F.tickcolor),M.setTranslate(et,A(F,W/(F._stepCount-1))-.5*F.tickwidth,(K?e.tickOffset:e.minorTickOffset)+j.currentValueTotalHeight)})}function g(z){var F=z._dims;F.labelSteps=[];for(var I=z._stepCount,j=0;j<I;j+=F.labelStride)F.labelSteps.push({fraction:j/(I-1),step:z._visibleSteps[j]})}function L(z,F,I){for(var j=z.select("rect."+e.gripRectClass),V=0,W=0;W<F._stepCount;W++)if(F._visibleSteps[W]._index===F.active){V=W;break}var K=A(F,V/(F._stepCount-1));if(!F._invokingCommand){var et=j;I&&F.transition.duration>0&&(et=et.transition().duration(F.transition.duration).ease(F.transition.easing)),et.attr("transform",d(K-e.gripWidth*.5,F._dims.currentValueTotalHeight))}}function A(z,F){var I=z._dims;return I.inputAreaStart+e.stepInset+(I.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,F))}function R(z,F){var I=z._dims;return Math.min(1,Math.max(0,(F-e.stepInset-I.inputAreaStart)/(I.inputAreaLength-2*e.stepInset-2*I.inputAreaStart)))}function O(z,F,I){var j=I._dims,V=m.ensureSingle(z,"rect",e.railTouchRectClass,function(W){W.call(P,F,z,I).style("pointer-events","all")});V.attr({width:j.inputAreaLength,height:Math.max(j.inputAreaWidth,e.tickOffset+I.ticklen+j.labelHeight)}).call(i.fill,I.bgcolor).attr("opacity",0),M.setTranslate(V,0,j.currentValueTotalHeight)}function N(z,F){var I=F._dims,j=I.inputAreaLength-e.railInset*2,V=m.ensureSingle(z,"rect",e.railRectClass);V.attr({width:j,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,F.bordercolor).call(i.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),M.setTranslate(V,e.railInset,(I.inputAreaWidth-e.railWidth)*.5+I.currentValueTotalHeight)}},97544:function(X,B,t){var x=t(60876);X.exports={moduleType:"component",name:x.name,layoutAttributes:t(89861),supplyLayoutDefaults:t(8132),draw:t(79664)}},81668:function(X,B,t){var x=t(33428),E=t(38248),i=t(7316),M=t(24040),m=t(3400),d=m.strTranslate,v=t(43616),r=t(76308),e=t(72736),s=t(13448),n=t(84284).OPPOSITE_SIDE,l=/ [XY][0-9]* /;function o(h,b,f){var k=f.propContainer,a=f.propName,c=f.placeholder,p=f.traceIndex,w=f.avoid||{},S=f.attributes,_=f.transform,T=f.containerGroup,P=h._fullLayout,u=1,g=!1,L=k.title,A=(L&&L.text?L.text:"").trim(),R=L&&L.font?L.font:{},O=R.family,N=R.size,z=R.color,F;a==="title.text"?F="titleText":a.indexOf("axis")!==-1?F="axisTitleText":a.indexOf("colorbar"!==-1)&&(F="colorbarTitleText");var I=h._context.edits[F];A===""?u=0:A.replace(l," % ")===c.replace(l," % ")&&(u=.2,g=!0,I||(A="")),f._meta?A=m.templateString(A,f._meta):P._meta&&(A=m.templateString(A,P._meta));var j=A||I,V;T||(T=m.ensureSingle(P._infolayer,"g","g-"+b),V=P._hColorbarMoveTitle);var W=T.selectAll("text").data(j?[0]:[]);if(W.enter().append("text"),W.text(A).attr("class",b),W.exit().remove(),!j)return T;function K(q){m.syncOrAsync([et,lt],q)}function et(q){var J;return!_&&V&&(_={}),_?(J="",_.rotate&&(J+="rotate("+[_.rotate,S.x,S.y]+")"),(_.offset||V)&&(J+=d(0,(_.offset||0)-(V||0)))):J=null,q.attr("transform",J),q.style({"font-family":O,"font-size":x.round(N,2)+"px",fill:r.rgb(z),opacity:u*r.opacity(z),"font-weight":i.fontWeight}).attr(S).call(e.convertToTspans,h),i.previousPromises(h)}function lt(q){var J=x.select(q.node().parentNode);if(w&&w.selection&&w.side&&A){J.attr("transform",null);var it=n[w.side],Z=w.side==="left"||w.side==="top"?-1:1,tt=E(w.pad)?w.pad:2,st=v.bBox(J.node()),Q={t:0,b:0,l:0,r:0},G=h._fullLayout._reservedMargin;for(var ut in G)for(var at in G[ut]){var dt=G[ut][at];Q[at]=Math.max(Q[at],dt)}var gt={left:Q.l,top:Q.t,right:P.width-Q.r,bottom:P.height-Q.b},wt=w.maxShift||Z*(gt[w.side]-st[w.side]),kt=0;if(wt<0)kt=wt;else{var Ot=w.offsetLeft||0,bt=w.offsetTop||0;st.left-=Ot,st.right-=Ot,st.top-=bt,st.bottom-=bt,w.selection.each(function(){var mt=v.bBox(this);m.bBoxIntersect(st,mt,tt)&&(kt=Math.max(kt,Z*(mt[w.side]-st[it])+tt))}),kt=Math.min(wt,kt),k._titleScoot=Math.abs(kt)}if(kt>0||wt<0){var _t={left:[-kt,0],right:[kt,0],top:[0,-kt],bottom:[0,kt]}[w.side];J.attr("transform",d(_t[0],_t[1]))}}}W.call(K);function ot(){u=0,g=!0,W.text(c).on("mouseover.opacity",function(){x.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){x.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return I&&(A?W.on(".opacity",null):ot(),W.call(e.makeEditable,{gd:h}).on("edit",function(q){p!==void 0?M.call("_guiRestyle",h,a,q,p):M.call("_guiRelayout",h,a,q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(K)}).on("input",function(q){this.text(q||" ").call(e.positionText,S.x,S.y)})),W.classed("js-placeholder",g),T}X.exports={draw:o}},88444:function(X,B,t){var x=t(25376),E=t(22548),i=t(92880).extendFlat,M=t(67824).overrideAll,m=t(66741),d=t(31780).templatedArray,v=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});X.exports=M(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:v,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(m({editType:"arraydraw"}),{}),font:x({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:E.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(X){X.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(X,B,t){var x=t(3400),E=t(51272),i=t(88444),M=t(73712),m=M.name,d=i.buttons;X.exports=function(e,s){var n={name:m,handleItemDefaults:v};E(e,s,n)};function v(e,s,n){function l(b,f){return x.coerce(e,s,i,b,f)}var o=E(e,s,{name:"buttons",handleItemDefaults:r}),h=l("visible",o.length>0);h&&(l("active"),l("direction"),l("type"),l("showactive"),l("x"),l("y"),x.noneOrAll(e,s,["x","y"]),l("xanchor"),l("yanchor"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),x.coerceFont(l,"font",n.font),l("bgcolor",n.paper_bgcolor),l("bordercolor"),l("borderwidth"))}function r(e,s){function n(o,h){return x.coerce(e,s,d,o,h)}var l=n("visible",e.method==="skip"||Array.isArray(e.args));l&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(X,B,t){var x=t(33428),E=t(7316),i=t(76308),M=t(43616),m=t(3400),d=t(72736),v=t(31780).arrayEditor,r=t(84284).LINE_SPACING,e=t(73712),s=t(37400);X.exports=function(A){var R=A._fullLayout,O=m.filterVisible(R[e.name]);function N(et){E.autoMargin(A,u(et))}var z=R._menulayer.selectAll("g."+e.containerClassName).data(O.length>0?[0]:[]);if(z.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),z.exit().each(function(){x.select(this).selectAll("g."+e.headerGroupClassName).each(N)}).remove(),O.length!==0){var F=z.selectAll("g."+e.headerGroupClassName).data(O,n);F.enter().append("g").classed(e.headerGroupClassName,!0);for(var I=m.ensureSingle(z,"g",e.dropdownButtonGroupClassName,function(et){et.style("pointer-events","all")}),j=0;j<O.length;j++){var V=O[j];P(A,V)}var W="updatemenus"+R._uid,K=new s(A,I,W);F.enter().size()&&(I.node().parentNode.appendChild(I.node()),I.call(L)),F.exit().each(function(et){I.call(L),N(et)}).remove(),F.each(function(et){var lt=x.select(this),ot=et.type==="dropdown"?I:null;E.manageCommandObserver(A,et,et.buttons,function(q){h(A,et,et.buttons[q.index],lt,ot,K,q.index,!0)}),et.type==="dropdown"?(b(A,lt,I,K,et),o(I,et)&&f(A,lt,I,K,et)):f(A,lt,null,null,et)})}};function n(A){return A._index}function l(A){return+A.attr(e.menuIndexAttrName)==-1}function o(A,R){return+A.attr(e.menuIndexAttrName)===R._index}function h(A,R,O,N,z,F,I,j){R.active=I,v(A.layout,e.name,R).applyUpdate("active",I),R.type==="buttons"?f(A,N,null,null,R):R.type==="dropdown"&&(z.attr(e.menuIndexAttrName,"-1"),b(A,N,z,F,R),j||f(A,N,z,F,R))}function b(A,R,O,N,z){var F=m.ensureSingle(R,"g",e.headerClassName,function(lt){lt.style("pointer-events","all")}),I=z._dims,j=z.active,V=z.buttons[j]||e.blankHeaderOpts,W={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},K={width:I.headerWidth,height:I.headerHeight};F.call(c,z,V,A).call(g,z,W,K);var et=m.ensureSingle(R,"text",e.headerArrowClassName,function(lt){lt.attr("text-anchor","end").call(M.font,z.font).text(e.arrowSymbol[z.direction])});et.attr({x:I.headerWidth-e.arrowOffsetX+z.pad.l,y:I.headerHeight/2+e.textOffsetY+z.pad.t}),F.on("click",function(){O.call(L,String(o(O,z)?-1:z._index)),f(A,R,O,N,z)}),F.on("mouseover",function(){F.call(_)}),F.on("mouseout",function(){F.call(T,z)}),M.setTranslate(R,I.lx,I.ly)}function f(A,R,O,N,z){O||(O=R,O.attr("pointer-events","all"));var F=!l(O)||z.type==="buttons"?z.buttons:[],I=z.type==="dropdown"?e.dropdownButtonClassName:e.buttonClassName,j=O.selectAll("g."+I).data(m.filterVisible(F)),V=j.enter().append("g").classed(I,!0),W=j.exit();z.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var K=0,et=0,lt=z._dims,ot=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ot?et=lt.headerHeight+e.gapButtonHeader:K=lt.headerWidth+e.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(et=-e.gapButtonHeader+e.gapButton-lt.openHeight),z.type==="dropdown"&&z.direction==="left"&&(K=-e.gapButtonHeader+e.gapButton-lt.openWidth);var q={x:lt.lx+K+z.pad.l,y:lt.ly+et+z.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},J={l:q.x+z.borderwidth,t:q.y+z.borderwidth};j.each(function(it,Z){var tt=x.select(this);tt.call(c,z,it,A).call(g,z,q),tt.on("click",function(){x.event.defaultPrevented||(it.execute&&(it.args2&&z.active===Z?(h(A,z,it,R,O,N,-1),E.executeAPICommand(A,it.method,it.args2)):(h(A,z,it,R,O,N,Z),E.executeAPICommand(A,it.method,it.args))),A.emit("plotly_buttonclicked",{menu:z,button:it,active:z.active}))}),tt.on("mouseover",function(){tt.call(_)}),tt.on("mouseout",function(){tt.call(T,z),j.call(S,z)})}),j.call(S,z),ot?(J.w=Math.max(lt.openWidth,lt.headerWidth),J.h=q.y-J.t):(J.w=q.x-J.l,J.h=Math.max(lt.openHeight,lt.headerHeight)),J.direction=z.direction,N&&(j.size()?k(A,R,O,N,z,J):a(N))}function k(A,R,O,N,z,F){var I=z.direction,j=I==="up"||I==="down",V=z._dims,W=z.active,K,et,lt;if(j)for(et=0,lt=0;lt<W;lt++)et+=V.heights[lt]+e.gapButton;else for(K=0,lt=0;lt<W;lt++)K+=V.widths[lt]+e.gapButton;N.enable(F,K,et),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function a(A){var R=!!A.hbar,O=!!A.vbar;R&&A.hbar.transition().attr("opacity","0").each("end",function(){R=!1,O||A.disable()}),O&&A.vbar.transition().attr("opacity","0").each("end",function(){O=!1,R||A.disable()})}function c(A,R,O,N){A.call(p,R).call(w,R,O,N)}function p(A,R){var O=m.ensureSingle(A,"rect",e.itemRectClassName,function(N){N.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})});O.call(i.stroke,R.bordercolor).call(i.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px")}function w(A,R,O,N){var z=m.ensureSingle(A,"text",e.itemTextClassName,function(j){j.attr({"text-anchor":"start","data-notex":1})}),F=O.label,I=N._fullLayout._meta;I&&(F=m.templateString(F,I)),z.call(M.font,R.font).text(F).call(d.convertToTspans,N)}function S(A,R){var O=R.active;A.each(function(N,z){var F=x.select(this);z===O&&R.showactive&&F.select("rect."+e.itemRectClassName).call(i.fill,e.activeColor)})}function _(A){A.select("rect."+e.itemRectClassName).call(i.fill,e.hoverColor)}function T(A,R){A.select("rect."+e.itemRectClassName).call(i.fill,R.bgcolor)}function P(A,R){var O=R._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=M.tester.selectAll("g."+e.dropdownButtonClassName).data(m.filterVisible(R.buttons));N.enter().append("g").classed(e.dropdownButtonClassName,!0);var z=["up","down"].indexOf(R.direction)!==-1;N.each(function(K,et){var lt=x.select(this);lt.call(c,R,K,A);var ot=lt.select("."+e.itemTextClassName),q=ot.node()&&M.bBox(ot.node()).width,J=Math.max(q+e.textPadX,e.minWidth),it=R.font.size*r,Z=d.lineCount(ot),tt=Math.max(it*Z,e.minHeight)+e.textOffsetY;tt=Math.ceil(tt),J=Math.ceil(J),O.widths[et]=J,O.heights[et]=tt,O.height1=Math.max(O.height1,tt),O.width1=Math.max(O.width1,J),z?(O.totalWidth=Math.max(O.totalWidth,J),O.openWidth=O.totalWidth,O.totalHeight+=tt+e.gapButton,O.openHeight+=tt+e.gapButton):(O.totalWidth+=J+e.gapButton,O.openWidth+=J+e.gapButton,O.totalHeight=Math.max(O.totalHeight,tt),O.openHeight=O.totalHeight)}),z?O.totalHeight-=e.gapButton:O.totalWidth-=e.gapButton,O.headerWidth=O.width1+e.arrowPadX,O.headerHeight=O.height1,R.type==="dropdown"&&(z?(O.width1+=e.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=e.arrowPadX),N.remove();var F=O.totalWidth+R.pad.l+R.pad.r,I=O.totalHeight+R.pad.t+R.pad.b,j=A._fullLayout._size;O.lx=j.l+j.w*R.x,O.ly=j.t+j.h*(1-R.y);var V="left";m.isRightAnchor(R)&&(O.lx-=F,V="right"),m.isCenterAnchor(R)&&(O.lx-=F/2,V="center");var W="top";m.isBottomAnchor(R)&&(O.ly-=I,W="bottom"),m.isMiddleAnchor(R)&&(O.ly-=I/2,W="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),E.autoMargin(A,u(R),{x:R.x,y:R.y,l:F*({right:1,center:.5}[V]||0),r:F*({left:1,center:.5}[V]||0),b:I*({top:1,middle:.5}[W]||0),t:I*({bottom:1,middle:.5}[W]||0)})}function u(A){return e.autoMarginIdRoot+A._index}function g(A,R,O,N){N=N||{};var z=A.select("."+e.itemRectClassName),F=A.select("."+e.itemTextClassName),I=R.borderwidth,j=O.index,V=R._dims;M.setTranslate(A,I+O.x,I+O.y);var W=["up","down"].indexOf(R.direction)!==-1,K=N.height||(W?V.heights[j]:V.height1);z.attr({x:0,y:0,width:N.width||(W?V.width1:V.widths[j]),height:K});var et=R.font.size*r,lt=d.lineCount(F),ot=(lt-1)*et/2;d.positionText(F,e.textOffsetX,K/2-ot+e.textOffsetY),W?O.y+=V.heights[j]+O.yPad:O.x+=V.widths[j]+O.xPad,O.index++}function L(A,R){A.attr(e.menuIndexAttrName,R||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}},76908:function(X,B,t){var x=t(73712);X.exports={moduleType:"component",name:x.name,layoutAttributes:t(88444),supplyLayoutDefaults:t(91384),draw:t(14420)}},37400:function(X,B,t){X.exports=m;var x=t(33428),E=t(76308),i=t(43616),M=t(3400);function m(d,v,r){this.gd=d,this.container=v,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}m.barWidth=2,m.barLength=20,m.barRadius=2,m.barPad=1,m.barColor="#808BA4",m.prototype.enable=function(d,v,r){var e=this.gd._fullLayout,s=e.width,n=e.height;this.position=d;var l=this.position.l,o=this.position.w,h=this.position.t,b=this.position.h,f=this.position.direction,k=f==="down",a=f==="left",c=f==="right",p=f==="up",w=o,S=b,_,T,P,u;!k&&!a&&!c&&!p&&(this.position.direction="down",k=!0);var g=k||p;g?(_=l,T=_+w,k?(P=h,u=Math.min(P+S,n),S=u-P):(u=h+S,P=Math.max(u-S,0),S=u-P)):(P=h,u=P+S,a?(T=l+w,_=Math.max(T-w,0),w=T-_):(_=l,T=Math.min(_+w,s),w=T-_)),this._box={l:_,t:P,w,h:S};var L=o>w,A=m.barLength+2*m.barPad,R=m.barWidth+2*m.barPad,O=l,N=h+b;N+R>n&&(N=n-R);var z=this.container.selectAll("rect.scrollbar-horizontal").data(L?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(E.fill,m.barColor),L?(this.hbar=z.attr({rx:m.barRadius,ry:m.barRadius,x:O,y:N,width:A,height:R}),this._hbarXMin=O+A/2,this._hbarTranslateMax=w-A):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var F=b>S,I=m.barWidth+2*m.barPad,j=m.barLength+2*m.barPad,V=l+o,W=h;V+I>s&&(V=s-I);var K=this.container.selectAll("rect.scrollbar-vertical").data(F?[0]:[]);K.exit().on(".drag",null).remove(),K.enter().append("rect").classed("scrollbar-vertical",!0).call(E.fill,m.barColor),F?(this.vbar=K.attr({rx:m.barRadius,ry:m.barRadius,x:V,y:W,width:I,height:j}),this._vbarYMin=W+j/2,this._vbarTranslateMax=S-j):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var et=this.id,lt=_-.5,ot=F?T+I+.5:T+.5,q=P-.5,J=L?u+R+.5:u+.5,it=e._topdefs.selectAll("#"+et).data(L||F?[0]:[]);if(it.exit().remove(),it.enter().append("clipPath").attr("id",et).append("rect"),L||F?(this._clipRect=it.select("rect").attr({x:Math.floor(lt),y:Math.floor(q),width:Math.ceil(ot)-Math.floor(lt),height:Math.ceil(J)-Math.floor(q)}),this.container.call(i.setClipUrl,et,this.gd),this.bg.attr({x:l,y:h,width:o,height:b})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),L||F){var Z=x.behavior.drag().on("dragstart",function(){x.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Z);var tt=x.behavior.drag().on("dragstart",function(){x.event.sourceEvent.preventDefault(),x.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));L&&this.hbar.on(".drag",null).call(tt),F&&this.vbar.on(".drag",null).call(tt)}this.setTranslate(v,r)},m.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},m.prototype._onBoxDrag=function(){var d=this.translateX,v=this.translateY;this.hbar&&(d-=x.event.dx),this.vbar&&(v-=x.event.dy),this.setTranslate(d,v)},m.prototype._onBoxWheel=function(){var d=this.translateX,v=this.translateY;this.hbar&&(d+=x.event.deltaY),this.vbar&&(v+=x.event.deltaY),this.setTranslate(d,v)},m.prototype._onBarDrag=function(){var d=this.translateX,v=this.translateY;if(this.hbar){var r=d+this._hbarXMin,e=r+this._hbarTranslateMax,s=M.constrain(x.event.x,r,e),n=(s-r)/(e-r),l=this.position.w-this._box.w;d=n*l}if(this.vbar){var o=v+this._vbarYMin,h=o+this._vbarTranslateMax,b=M.constrain(x.event.y,o,h),f=(b-o)/(h-o),k=this.position.h-this._box.h;v=f*k}this.setTranslate(d,v)},m.prototype.setTranslate=function(d,v){var r=this.position.w-this._box.w,e=this.position.h-this._box.h;if(d=M.constrain(d||0,0,r),v=M.constrain(v||0,0,e),this.translateX=d,this.translateY=v,this.container.call(i.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-v),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+v-.5)}),this.hbar){var s=d/r;this.hbar.call(i.setTranslate,d+s*this._hbarTranslateMax,v)}if(this.vbar){var n=v/e;this.vbar.call(i.setTranslate,d,v+n*this._vbarTranslateMax)}}},84284:function(X){X.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(X){X.exports={axisRefDescription:function(B,t,x){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+x+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",t,"and the",x,"of the domain of the","second",B,"axis."].join(" ")}}},48164:function(X){X.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(X){X.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(X){X.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(X){X.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(X){X.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(X){X.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(X){X.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(X,B){B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(t){return t.join(": ")+"; "}).join("")},9616:function(X,B){B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},64884:function(X,B,t){B.version=t(25788).version,t(88324),t(79288);for(var x=t(24040),E=B.register=x.register,i=t(22448),M=Object.keys(i),m=0;m<M.length;m++){var d=M[m];d.charAt(0)!=="_"&&(B[d]=i[d]),E({moduleType:"apiMethod",name:d,fn:i[d]})}E(t(65875)),E([t(79180),t(56864),t(22676),t(41592),t(7402),t(76908),t(97544),t(49692),t(41152),t(12704),t(64968),t(8932),t(55080),t(2780),t(93024),t(45460)]),E([t(6580),t(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(E(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=t(9224);var v=t(93024),r=t(7316);B.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},B.Fx={hover:v.hover,unhover:v.unhover,loneHover:v.loneHover,loneUnhover:v.loneUnhover},B.Snapshot=t(78904),B.PlotSchema=t(73060)},9224:function(X){X.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(X,B){B.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=.3333333333333333},B.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>.3333333333333333&&t.x<.6666666666666666},B.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=.6666666666666666},B.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=.6666666666666666},B.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>.3333333333333333&&t.y<.6666666666666666},B.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=.3333333333333333}},11864:function(X,B,t){var x=t(20435),E=x.mod,i=x.modHalf,M=Math.PI,m=2*M;function d(k){return k/180*M}function v(k){return k/M*180}function r(k){return Math.abs(k[1]-k[0])>m-1e-14}function e(k,a){return i(a-k,m)}function s(k,a){return Math.abs(e(k,a))}function n(k,a){if(r(a))return!0;var c,p;a[0]<a[1]?(c=a[0],p=a[1]):(c=a[1],p=a[0]),c=E(c,m),p=E(p,m),c>p&&(p+=m);var w=E(k,m),S=w+m;return w>=c&&w<=p||S>=c&&S<=p}function l(k,a,c,p){if(!n(a,p))return!1;var w,S;return c[0]<c[1]?(w=c[0],S=c[1]):(w=c[1],S=c[0]),k>=w&&k<=S}function o(k,a,c,p,w,S,_){w=w||0,S=S||0;var T=r([c,p]),P,u,g,L,A;T?(P=0,u=M,g=m):c<p?(P=c,g=p):(P=p,g=c),k<a?(L=k,A=a):(L=a,A=k);function R(F,I){return[F*Math.cos(I)+w,S-F*Math.sin(I)]}var O=Math.abs(g-P)<=M?0:1;function N(F,I,j){return"A"+[F,F]+" "+[0,O,j]+" "+R(F,I)}var z;return T?L===null?z="M"+R(A,P)+N(A,u,0)+N(A,g,0)+"Z":z="M"+R(L,P)+N(L,u,0)+N(L,g,0)+"ZM"+R(A,P)+N(A,u,1)+N(A,g,1)+"Z":L===null?(z="M"+R(A,P)+N(A,g,0),_&&(z+="L0,0Z")):z="M"+R(L,P)+"L"+R(A,P)+N(A,g,0)+"L"+R(L,g)+N(L,P,1)+"Z",z}function h(k,a,c,p,w){return o(null,k,a,c,p,w,0)}function b(k,a,c,p,w){return o(null,k,a,c,p,w,1)}function f(k,a,c,p,w,S){return o(k,a,c,p,w,S,1)}X.exports={deg2rad:d,rad2deg:v,angleDelta:e,angleDist:s,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:l,pathArc:h,pathSector:b,pathAnnulus:f}},38116:function(X,B,t){var x=t(83160).decode,E=t(63620),i=Array.isArray,M=ArrayBuffer,m=DataView;function d(o){return M.isView(o)&&!(o instanceof m)}B.isTypedArray=d;function v(o){return i(o)||d(o)}B.isArrayOrTypedArray=v;function r(o){return!v(o[0])}B.isArray1D=r,B.ensureArray=function(o,h){return i(o)||(o=[]),o.length=h,o};var e={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};e.uint8c=e.u1c,e.uint8=e.u1,e.int8=e.i1,e.uint16=e.u2,e.int16=e.i2,e.uint32=e.u4,e.int32=e.i4,e.float32=e.f4,e.float64=e.f8;function s(o){return o.constructor===ArrayBuffer}B.isArrayBuffer=s,B.decodeTypedArraySpec=function(o){var h=[],b=n(o),f=b.dtype,k=e[f];if(!k)throw new Error('Error in dtype: "'+f+'"');var a=k.BYTES_PER_ELEMENT,c=b.bdata;s(c)||(c=x(c));var p=b.shape===void 0?[c.byteLength/a]:(""+b.shape).split(",");p.reverse();var w=p.length,S,_,T=+p[0],P=a*T,u=0;if(w===1)h=new k(c);else if(w===2)for(S=+p[1],_=0;_<S;_++)h[_]=new k(c,u,T),u+=P;else if(w===3){S=+p[1];for(var g=+p[2],L=0;L<g;L++)for(h[L]=[],_=0;_<S;_++)h[L][_]=new k(c,u,T),u+=P}else throw new Error("ndim: "+w+'is not supported with the shape:"'+b.shape+'"');return h.bdata=b.bdata,h.dtype=b.dtype,h.shape=p.reverse().join(","),o._inputArray=h,h},B.isTypedArraySpec=function(o){return E(o)&&o.hasOwnProperty("dtype")&&typeof o.dtype=="string"&&o.hasOwnProperty("bdata")&&(typeof o.bdata=="string"||s(o.bdata))&&(o.shape===void 0||o.hasOwnProperty("shape")&&(typeof o.shape=="string"||typeof o.shape=="number"))};function n(o){return{bdata:o.bdata,dtype:o.dtype,shape:o.shape}}B.concat=function(){var o=[],h=!0,b=0,f,k,a,c,p,w,S,_;for(a=0;a<arguments.length;a++)c=arguments[a],w=c.length,w&&(k?o.push(c):(k=c,p=w),i(c)?f=!1:(h=!1,b?f!==c.constructor&&(f=!1):f=c.constructor),b+=w);if(!b)return[];if(!o.length)return k;if(h)return k.concat.apply(k,o);if(f){for(S=new f(b),S.set(k),a=0;a<o.length;a++)c=o[a],S.set(c,p),p+=c.length;return S}for(S=new Array(b),_=0;_<k.length;_++)S[_]=k[_];for(a=0;a<o.length;a++){for(c=o[a],_=0;_<c.length;_++)S[p+_]=c[_];p+=_}return S},B.maxRowLength=function(o){return l(o,Math.max,0)},B.minRowLength=function(o){return l(o,Math.min,1/0)};function l(o,h,b){if(v(o))if(v(o[0])){for(var f=b,k=0;k<o.length;k++)f=h(f,o[k].length);return f}else return o.length;return 0}},54037:function(X,B,t){var x=t(38248),E=t(39032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;X.exports=function(M){return typeof M=="string"&&(M=M.replace(i,"")),x(M)?Number(M):E}},73696:function(X){X.exports=function(B){var t=B._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(x){x.regl&&x.regl.clear({color:!0,depth:!0})})}},75352:function(X){X.exports=function(B){B._responsiveChartHandler&&(window.removeEventListener("resize",B._responsiveChartHandler),delete B._responsiveChartHandler)}},63064:function(X,B,t){var x=t(38248),E=t(49760),i=t(45464),M=t(88304),m=t(76308),d=t(13448).DESELECTDIM,v=t(22296),r=t(53756).counter,e=t(20435).modHalf,s=t(38116).isArrayOrTypedArray,n=t(38116).isTypedArraySpec,l=t(38116).decodeTypedArraySpec;B.valObjectMeta={data_array:{coerceFunction:function(h,b,f){b.set(s(h)?h:n(h)?l(h):f)}},enumerated:{coerceFunction:function(h,b,f,k){k.coerceNumber&&(h=+h),k.values.indexOf(h)===-1?b.set(f):b.set(h)},validateFunction:function(h,b){b.coerceNumber&&(h=+h);for(var f=b.values,k=0;k<f.length;k++){var a=String(f[k]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var c=new RegExp(a.substr(1,a.length-2));if(c.test(h))return!0}else if(h===f[k])return!0}return!1}},boolean:{coerceFunction:function(h,b,f){h===!0||h===!1?b.set(h):b.set(f)}},number:{coerceFunction:function(h,b,f,k){!x(h)||k.min!==void 0&&h<k.min||k.max!==void 0&&h>k.max?b.set(f):b.set(+h)}},integer:{coerceFunction:function(h,b,f,k){h%1||!x(h)||k.min!==void 0&&h<k.min||k.max!==void 0&&h>k.max?b.set(f):b.set(+h)}},string:{coerceFunction:function(h,b,f,k){if(typeof h!="string"){var a=typeof h=="number";k.strict===!0||!a?b.set(f):b.set(String(h))}else k.noBlank&&!h?b.set(f):b.set(h)}},color:{coerceFunction:function(h,b,f){E(h).isValid()?b.set(h):b.set(f)}},colorlist:{coerceFunction:function(h,b,f){function k(a){return E(a).isValid()}!Array.isArray(h)||!h.length?b.set(f):h.every(k)?b.set(h):b.set(f)}},colorscale:{coerceFunction:function(h,b,f){b.set(M.get(h,f))}},angle:{coerceFunction:function(h,b,f){h==="auto"?b.set("auto"):x(h)?b.set(e(+h,360)):b.set(f)}},subplotid:{coerceFunction:function(h,b,f,k){var a=k.regex||r(f);if(typeof h=="string"&&a.test(h)){b.set(h);return}b.set(f)},validateFunction:function(h,b){var f=b.dflt;return h===f?!0:typeof h!="string"?!1:!!r(f).test(h)}},flaglist:{coerceFunction:function(h,b,f,k){if((k.extras||[]).indexOf(h)!==-1){b.set(h);return}if(typeof h!="string"){b.set(f);return}for(var a=h.split("+"),c=0;c<a.length;){var p=a[c];k.flags.indexOf(p)===-1||a.indexOf(p)<c?a.splice(c,1):c++}a.length?b.set(a.join("+")):b.set(f)}},any:{coerceFunction:function(h,b,f){h===void 0?b.set(f):b.set(n(h)?l(h):h)}},info_array:{coerceFunction:function(h,b,f,k){function a(N,z,F){var I,j={set:function(V){I=V}};return F===void 0&&(F=z.dflt),B.valObjectMeta[z.valType].coerceFunction(N,j,F,z),I}if(n(h)&&(h=l(h)),!s(h)){b.set(f);return}var c=k.dimensions===2||k.dimensions==="1-2"&&Array.isArray(h)&&s(h[0]),p=k.items,w=[],S=Array.isArray(p),_=S&&c&&s(p[0]),T=c&&S&&!_,P=S&&!T?p.length:h.length,u,g,L,A,R,O;if(f=Array.isArray(f)?f:[],c)for(u=0;u<P;u++)for(w[u]=[],L=s(h[u])?h[u]:[],T?R=p.length:S?R=p[u].length:R=L.length,g=0;g<R;g++)T?A=p[g]:S?A=p[u][g]:A=p,O=a(L[g],A,(f[u]||[])[g]),O!==void 0&&(w[u][g]=O);else for(u=0;u<P;u++)O=a(h[u],S?p[u]:p,f[u]),O!==void 0&&(w[u]=O);b.set(w)},validateFunction:function(h,b){if(!s(h))return!1;var f=b.items,k=Array.isArray(f),a=b.dimensions===2;if(!b.freeLength&&h.length!==f.length)return!1;for(var c=0;c<h.length;c++)if(a){if(!s(h[c])||!b.freeLength&&h[c].length!==f[c].length)return!1;for(var p=0;p<h[c].length;p++)if(!o(h[c][p],k?f[c][p]:f))return!1}else if(!o(h[c],k?f[c]:f))return!1;return!0}}},B.coerce=function(h,b,f,k,a){var c=v(f,k).get(),p=v(h,k),w=v(b,k),S=p.get(),_=b._template;if(S===void 0&&_&&(S=v(_,k).get(),_=0),a===void 0&&(a=c.dflt),c.arrayOk){if(s(S))return w.set(S),S;if(n(S))return S=l(S),w.set(S),S}var T=B.valObjectMeta[c.valType].coerceFunction;T(S,w,a,c);var P=w.get();return _&&P===a&&!o(S,c)&&(S=v(_,k).get(),T(S,w,a,c),P=w.get()),P},B.coerce2=function(h,b,f,k,a){var c=v(h,k),p=B.coerce(h,b,f,k,a),w=c.get();return w!=null?p:!1},B.coerceFont=function(h,b,f){var k={};return f=f||{},k.family=h(b+".family",f.family),k.size=h(b+".size",f.size),k.color=h(b+".color",f.color),k},B.coercePattern=function(h,b,f,k){var a=h(b+".shape");if(a){h(b+".solidity"),h(b+".size");var c=h(b+".fillmode"),p=c==="overlay";if(!k){var w=h(b+".bgcolor",p?f:void 0);h(b+".fgcolor",p?m.contrast(w):f)}h(b+".fgopacity",p?.5:1)}},B.coerceHoverinfo=function(h,b,f){var k=b._module.attributes,a=k.hoverinfo?k:i,c=a.hoverinfo,p;if(f._dataLength===1){var w=c.dflt==="all"?c.flags.slice():c.dflt.split("+");w.splice(w.indexOf("name"),1),p=w.join("+")}return B.coerce(h,b,a,"hoverinfo",p)},B.coerceSelectionMarkerOpacity=function(h,b){if(h.marker){var f=h.marker.opacity;if(f!==void 0){var k,a;!s(f)&&!h.selected&&!h.unselected&&(k=f,a=d*f),b("selected.marker.opacity",k),b("unselected.marker.opacity",a)}}};function o(h,b){var f=B.valObjectMeta[b.valType];if(b.arrayOk&&s(h))return!0;if(f.validateFunction)return f.validateFunction(h,b);var k={},a=k,c={set:function(p){a=p}};return f.coerceFunction(h,c,k,b),a!==k}B.validate=o},67555:function(X,B,t){var x=t(94336).Yn,E=t(38248),i=t(24248),M=t(20435).mod,m=t(39032),d=m.BADNUM,v=m.ONEDAY,r=m.ONEHOUR,e=m.ONEMIN,s=m.ONESEC,n=m.EPOCHJD,l=t(24040),o=t(94336).E9,h=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,f=new Date().getFullYear()-70;function k(z){return z&&l.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}B.dateTick0=function(z,F){var I=a(z,!!F);if(F<2)return I;var j=B.dateTime2ms(I,z);return j+=v*(F-1),B.ms2DateTime(j,0,z)};function a(z,F){return k(z)?F?l.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:l.getComponentMethod("calendars","CANONICAL_TICK")[z]:F?"2000-01-02":"2000-01-01"}B.dfltRange=function(z){return k(z)?l.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},B.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var c,p;B.dateTime2ms=function(z,F){if(B.isJSDate(z)){var I=z.getTimezoneOffset()*e,j=(z.getUTCMinutes()-z.getMinutes())*e+(z.getUTCSeconds()-z.getSeconds())*s+(z.getUTCMilliseconds()-z.getMilliseconds());if(j){var V=3*e;I=I-V/2+M(j-I+V/2,V)}return z=Number(z)-I,z>=c&&z<=p?z:d}if(typeof z!="string"&&typeof z!="number")return d;z=String(z);var W=k(F),K=z.charAt(0);W&&(K==="G"||K==="g")&&(z=z.substr(1),F="");var et=W&&F.substr(0,7)==="chinese",lt=z.match(et?b:h);if(!lt)return d;var ot=lt[1],q=lt[3]||"1",J=Number(lt[5]||1),it=Number(lt[7]||0),Z=Number(lt[9]||0),tt=Number(lt[11]||0);if(W){if(ot.length===2)return d;ot=Number(ot);var st;try{var Q=l.getComponentMethod("calendars","getCal")(F);if(et){var G=q.charAt(q.length-1)==="i";q=parseInt(q,10),st=Q.newDate(ot,Q.toMonthIndex(ot,q,G),J)}else st=Q.newDate(ot,Number(q),J)}catch{return d}return st?(st.toJD()-n)*v+it*r+Z*e+tt*s:d}ot.length===2?ot=(Number(ot)+2e3-f)%100+f:ot=Number(ot),q-=1;var ut=new Date(Date.UTC(2e3,q,J,it,Z));return ut.setUTCFullYear(ot),ut.getUTCMonth()!==q||ut.getUTCDate()!==J?d:ut.getTime()+tt*s},c=B.MIN_MS=B.dateTime2ms("-9999"),p=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(z,F){return B.dateTime2ms(z,F)!==d};function w(z,F){return String(z+Math.pow(10,F)).substr(1)}var S=90*v,_=3*r,T=5*e;B.ms2DateTime=function(z,F,I){if(typeof z!="number"||!(z>=c&&z<=p))return d;F||(F=0);var j=Math.floor(M(z+.05,1)*10),V=Math.round(z-j/10),W,K,et,lt,ot,q;if(k(I)){var J=Math.floor(V/v)+n,it=Math.floor(M(z,v));try{W=l.getComponentMethod("calendars","getCal")(I).fromJD(J).formatDate("yyyy-mm-dd")}catch{W=o("G%Y-%m-%d")(new Date(V))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;K=F<S?Math.floor(it/r):0,et=F<S?Math.floor(it%r/e):0,lt=F<_?Math.floor(it%e/s):0,ot=F<T?it%s*10+j:0}else q=new Date(V),W=o("%Y-%m-%d")(q),K=F<S?q.getUTCHours():0,et=F<S?q.getUTCMinutes():0,lt=F<_?q.getUTCSeconds():0,ot=F<T?q.getUTCMilliseconds()*10+j:0;return P(W,K,et,lt,ot)},B.ms2DateTimeLocal=function(z){if(!(z>=c+v&&z<=p-v))return d;var F=Math.floor(M(z+.05,1)*10),I=new Date(Math.round(z-F/10)),j=x("%Y-%m-%d")(I),V=I.getHours(),W=I.getMinutes(),K=I.getSeconds(),et=I.getUTCMilliseconds()*10+F;return P(j,V,W,K,et)};function P(z,F,I,j,V){if((F||I||j||V)&&(z+=" "+w(F,2)+":"+w(I,2),(j||V)&&(z+=":"+w(j,2),V))){for(var W=4;V%10===0;)W-=1,V/=10;z+="."+w(V,W)}return z}B.cleanDate=function(z,F,I){if(z===d)return F;if(B.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(k(I))return i.error("JS Dates and milliseconds are incompatible with world calendars",z),F;if(z=B.ms2DateTimeLocal(+z),!z&&F!==void 0)return F}else if(!B.isDateTime(z,I))return i.error("unrecognized date",z),F;return z};var u=/%\d?f/g,g=/%h/g,L={1:"1",2:"1",3:"2",4:"2"};function A(z,F,I,j){z=z.replace(u,function(W){var K=Math.min(+W.charAt(1)||6,6),et=(F/1e3%1+2).toFixed(K).substr(2).replace(/0+$/,"")||"0";return et});var V=new Date(Math.floor(F+.05));if(z=z.replace(g,function(){return L[I("%q")(V)]}),k(j))try{z=l.getComponentMethod("calendars","worldCalFmt")(z,F,j)}catch{return"Invalid"}return I(z)(V)}var R=[59,59.9,59.99,59.999,59.9999];function O(z,F){var I=M(z+.05,v),j=w(Math.floor(I/r),2)+":"+w(M(Math.floor(I/e),60),2);if(F!=="M"){E(F)||(F=0);var V=Math.min(M(z/s,60),R[F]),W=(100+V).toFixed(F).substr(1);F>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),j+=":"+W}return j}B.formatDate=function(z,F,I,j,V,W){if(V=k(V)&&V,!F)if(I==="y")F=W.year;else if(I==="m")F=W.month;else if(I==="d")F=W.dayMonth+`
`+W.year;else return O(z,I)+`
`+A(W.dayMonthYear,z,j,V);return A(F,z,j,V)};var N=3*v;B.incrementMonth=function(z,F,I){I=k(I)&&I;var j=M(z,v);if(z=Math.round(z-j),I)try{var V=Math.round(z/v)+n,W=l.getComponentMethod("calendars","getCal")(I),K=W.fromJD(V);return F%12?W.add(K,F,"m"):W.add(K,F/12,"y"),(K.toJD()-n)*v+j}catch{i.error("invalid ms "+z+" in calendar "+I)}var et=new Date(z+N);return et.setUTCMonth(et.getUTCMonth()+F)+j-N},B.findExactDates=function(z,F){for(var I=0,j=0,V=0,W=0,K,et,lt=k(F)&&l.getComponentMethod("calendars","getCal")(F),ot=0;ot<z.length;ot++){if(et=z[ot],!E(et)){W++;continue}if(!(et%v))if(lt)try{K=lt.fromJD(et/v+n),K.day()===1?K.month()===1?I++:j++:V++}catch{}else K=new Date(et),K.getUTCDate()===1?K.getUTCMonth()===0?I++:j++:V++}j+=I,V+=j;var q=z.length-W;return{exactYears:I/q,exactMonths:j/q,exactDays:V/q}}},52200:function(X,B,t){var x=t(33428),E=t(24248),i=t(52248),M=t(36524);function m(f){var k;if(typeof f=="string"){if(k=document.getElementById(f),k===null)throw new Error("No DOM element with id '"+f+"' exists on the page.");return k}else if(f==null)throw new Error("DOM element provided is null or undefined");return f}function d(f){var k=x.select(f);return k.node()instanceof HTMLElement&&k.size()&&k.classed("js-plotly-plot")}function v(f){var k=f&&f.parentNode;k&&k.removeChild(f)}function r(f,k){e("global",f,k)}function e(f,k,a){var c="plotly.js-style-"+f,p=document.getElementById(c);p||(p=document.createElement("style"),p.setAttribute("id",c),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var w=p.sheet;w.insertRule?w.insertRule(k+"{"+a+"}",0):w.addRule?w.addRule(k,a,0):E.warn("addStyleRule failed")}function s(f){var k="plotly.js-style-"+f,a=document.getElementById(k);a&&v(a)}function n(f){var k=o(f),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return k.forEach(function(c){var p=l(c);if(p){var w=i.convertCssMatrix(p);a=M.multiply(a,a,w)}}),a}function l(f){var k=window.getComputedStyle(f,null),a=k.getPropertyValue("-webkit-transform")||k.getPropertyValue("-moz-transform")||k.getPropertyValue("-ms-transform")||k.getPropertyValue("-o-transform")||k.getPropertyValue("transform");return a==="none"?null:a.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(c){return+c})}function o(f){for(var k=[];h(f);)k.push(f),f=f.parentNode;return k}function h(f){return f&&(f instanceof Element||f instanceof HTMLElement)}function b(f,k){return f&&k&&f.top===k.top&&f.left===k.left&&f.right===k.right&&f.bottom===k.bottom}X.exports={getGraphDiv:m,isPlotDiv:d,removeElement:v,addStyleRule:r,addRelatedStyleRule:e,deleteRelatedStyleRule:s,getFullTransformMatrix:n,getElementTransformMatrix:l,getElementAndAncestors:o,equalDomRects:b}},95924:function(X,B,t){var x=t(61252).EventEmitter,E={init:function(i){if(i._ev instanceof x)return i;var M=new x,m=new x;return i._ev=M,i._internalEv=m,i.on=M.on.bind(M),i.once=M.once.bind(M),i.removeListener=M.removeListener.bind(M),i.removeAllListeners=M.removeAllListeners.bind(M),i._internalOn=m.on.bind(m),i._internalOnce=m.once.bind(m),i._removeInternalListener=m.removeListener.bind(m),i._removeAllInternalListeners=m.removeAllListeners.bind(m),i.emit=function(d,v){typeof jQuery<"u"&&jQuery(i).trigger(d,v),M.emit(d,v),m.emit(d,v)},i},triggerHandler:function(i,M,m){var d,v;typeof jQuery<"u"&&(d=jQuery(i).triggerHandler(M,m));var r=i._ev;if(!r)return d;var e=r._events[M];if(!e)return d;function s(l){if(l.listener){if(r.removeListener(M,l.listener),!l.fired)return l.fired=!0,l.listener.apply(r,[m])}else return l.apply(r,[m])}e=Array.isArray(e)?e:[e];var n;for(n=0;n<e.length-1;n++)s(e[n]);return v=s(e[n]),d!==void 0?d:v},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};X.exports=E},92880:function(X,B,t){var x=t(63620),E=Array.isArray;function i(m,d){var v,r;for(v=0;v<m.length;v++){if(r=m[v],r!==null&&typeof r=="object")return!1;r!==void 0&&(d[v]=r)}return!0}B.extendFlat=function(){return M(arguments,!1,!1,!1)},B.extendDeep=function(){return M(arguments,!0,!1,!1)},B.extendDeepAll=function(){return M(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return M(arguments,!0,!1,!0)};function M(m,d,v,r){var e=m[0],s=m.length,n,l,o,h,b,f,k;if(s===2&&E(e)&&E(m[1])&&e.length===0){if(k=i(m[1],e),k)return e;e.splice(0,e.length)}for(var a=1;a<s;a++){n=m[a];for(l in n)o=e[l],h=n[l],r&&E(h)?e[l]=h:d&&h&&(x(h)||(b=E(h)))?(b?(b=!1,f=o&&E(o)?o:[]):f=o&&x(o)?o:{},e[l]=M([f,h],d,v,r)):(typeof h<"u"||v)&&(e[l]=h)}return e}},68944:function(X){X.exports=function(B){for(var t={},x=[],E=0,i=0;i<B.length;i++){var M=B[i];t[M]!==1&&(t[M]=1,x[E++]=M)}return x}},43880:function(X){X.exports=function(E){for(var i=x(E)?t:B,M=[],m=0;m<E.length;m++){var d=E[m];i(d)&&M.push(d)}return M};function B(E){return E.visible===!0}function t(E){var i=E[0].trace;return i.visible===!0&&i._length!==0}function x(E){return Array.isArray(E)&&Array.isArray(E[0])&&E[0][0]&&E[0][0].trace}},27144:function(X,B,t){var x=t(33428),E=t(36116),i=t(40440),M=t(77844),m=t(42428),d=t(35536),v=t(24248),r=t(63620),e=t(22296),s=t(92065),n=Object.keys(E),l={"ISO-3":d,"USA-states":d,"country names":o};function o(w){for(var S=0;S<n.length;S++){var _=n[S],T=new RegExp(E[_]);if(T.test(w.trim().toLowerCase()))return _}return v.log("Unrecognized country name: "+w+"."),!1}function h(w,S,_){if(!S||typeof S!="string")return!1;var T=l[w](S),P,u,g;if(T){if(w==="USA-states")for(P=[],g=0;g<_.length;g++)u=_[g],u.properties&&u.properties.gu&&u.properties.gu==="USA"&&P.push(u);else P=_;for(g=0;g<P.length;g++)if(u=P[g],u.id===T)return u;v.log(["Location with id",T,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function b(w){var S=w.geometry,_=S.coordinates,T=w.id,P=[],u,g,L,A;function R(O){for(var N=0;N<O.length-1;N++)if(O[N][0]>0&&O[N+1][0]<0)return N;return null}switch(T==="RUS"||T==="FJI"?u=function(O){var N;if(R(O)===null)N=O;else for(N=new Array(O.length),A=0;A<O.length;A++)N[A]=[O[A][0]<0?O[A][0]+360:O[A][0],O[A][1]];P.push(s.tester(N))}:T==="ATA"?u=function(O){var N=R(O);if(N===null)return P.push(s.tester(O));var z=new Array(O.length+1),F=0;for(A=0;A<O.length;A++)A>N?z[F++]=[O[A][0]+360,O[A][1]]:A===N?(z[F++]=O[A],z[F++]=[O[A][0],-90]):z[F++]=O[A];var I=s.tester(z);I.pts.pop(),P.push(I)}:u=function(O){P.push(s.tester(O))},S.type){case"MultiPolygon":for(g=0;g<_.length;g++)for(L=0;L<_[g].length;L++)u(_[g][L]);break;case"Polygon":for(g=0;g<_.length;g++)u(_[g]);break}return P}function f(w){var S=w.geojson,_=window.PlotlyGeoAssets||{},T=typeof S=="string"?_[S]:S;return r(T)?T:(v.error("Oops ... something went wrong when fetching "+S),!1)}function k(w){var S=w[0].trace,_=f(S);if(!_)return!1;var T={},P=[],u;for(u=0;u<S._length;u++){var g=w[u];(g.loc||g.loc===0)&&(T[g.loc]=g)}function L(O){var N=e(O,S.featureidkey||"id").get(),z=T[N];if(z){var F=O.geometry;if(F.type==="Polygon"||F.type==="MultiPolygon"){var I={type:"Feature",id:N,geometry:F,properties:{}};I.properties.ct=a(I),z.fIn=O,z.fOut=I,P.push(I)}else v.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete T[N]}switch(_.type){case"FeatureCollection":var A=_.features;for(u=0;u<A.length;u++)L(A[u]);break;case"Feature":L(_);break;default:return v.warn(["Invalid GeoJSON type",(_.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var R in T)v.log(["Location *"+R+"*","does not have a matching feature with id-key","*"+S.featureidkey+"*."].join(" "));return P}function a(w){var S=w.geometry,_;if(S.type==="MultiPolygon")for(var T=S.coordinates,P=0,u=0;u<T.length;u++){var g={type:"Polygon",coordinates:T[u]},L=i.default(g);L>P&&(P=L,_=g)}else _=S;return M.default(_).geometry.coordinates}function c(w){var S=window.PlotlyGeoAssets||{},_=[];function T(A){return new Promise(function(R,O){x.json(A,function(N,z){if(N){delete S[A];var F=N.status===404?'GeoJSON at URL "'+A+'" does not exist.':"Unexpected error while fetching from "+A;return O(new Error(F))}return S[A]=z,R(z)})})}function P(A){return new Promise(function(R,O){var N=0,z=setInterval(function(){if(S[A]&&S[A]!=="pending")return clearInterval(z),R(S[A]);if(N>100)return clearInterval(z),O("Unexpected error while fetching from "+A);N++},50)})}for(var u=0;u<w.length;u++){var g=w[u][0].trace,L=g.geojson;typeof L=="string"&&(S[L]?S[L]==="pending"&&_.push(P(L)):(S[L]="pending",_.push(T(L))))}return _}function p(w){return m.default(w)}X.exports={locationToFeature:h,feature2polygons:b,getTraceGeojson:f,extractTraceFeature:k,fetchTraceGeoData:c,computeBbox:p}},44808:function(X,B,t){var x=t(39032).BADNUM;B.calcTraceToLineCoords=function(E){for(var i=E[0].trace,M=i.connectgaps,m=[],d=[],v=0;v<E.length;v++){var r=E[v],e=r.lonlat;e[0]!==x?d.push(e):!M&&d.length>0&&(m.push(d),d=[])}return d.length>0&&m.push(d),m},B.makeLine=function(E){return E.length===1?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}},B.makePolygon=function(E){if(E.length===1)return{type:"Polygon",coordinates:E};for(var i=new Array(E.length),M=0;M<E.length;M++)i[M]=[E[M]];return{type:"MultiPolygon",coordinates:i}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(X,B,t){var x=t(20435).mod;B.segmentsIntersect=E;function E(v,r,e,s,n,l,o,h){var b=e-v,f=n-v,k=o-n,a=s-r,c=l-r,p=h-l,w=b*p-k*a;if(w===0)return null;var S=(f*p-k*c)/w,_=(f*a-b*c)/w;return _<0||_>1||S<0||S>1?null:{x:v+b*S,y:r+a*S}}B.segmentDistance=function(v,r,e,s,n,l,o,h){if(E(v,r,e,s,n,l,o,h))return 0;var b=e-v,f=s-r,k=o-n,a=h-l,c=b*b+f*f,p=k*k+a*a,w=Math.min(i(b,f,c,n-v,l-r),i(b,f,c,o-v,h-r),i(k,a,p,v-n,r-l),i(k,a,p,e-n,s-l));return Math.sqrt(w)};function i(v,r,e,s,n){var l=s*v+n*r;if(l<0)return s*s+n*n;if(l>e){var o=s-v,h=n-r;return o*o+h*h}else{var b=s*r-n*v;return b*b/e}}var M,m,d;B.getTextLocation=function(v,r,e,s){if((v!==m||s!==d)&&(M={},m=v,d=s),M[e])return M[e];var n=v.getPointAtLength(x(e-s/2,r)),l=v.getPointAtLength(x(e+s/2,r)),o=Math.atan((l.y-n.y)/(l.x-n.x)),h=v.getPointAtLength(x(e,r)),b=(h.x*4+n.x+l.x)/6,f=(h.y*4+n.y+l.y)/6,k={x:b,y:f,theta:o};return M[e]=k,k},B.clearLocationCache=function(){m=null},B.getVisibleSegment=function(v,r,e){var s=r.left,n=r.right,l=r.top,o=r.bottom,h=0,b=v.getTotalLength(),f=b,k,a;function c(w){var S=v.getPointAtLength(w);w===0?k=S:w===b&&(a=S);var _=S.x<s?s-S.x:S.x>n?S.x-n:0,T=S.y<l?l-S.y:S.y>o?S.y-o:0;return Math.sqrt(_*_+T*T)}for(var p=c(h);p;){if(h+=p+e,h>f)return;p=c(h)}for(p=c(f);p;){if(f-=p+e,h>f)return;p=c(f)}return{min:h,max:f,len:f-h,total:b,isClosed:h===0&&f===b&&Math.abs(k.x-a.x)<.1&&Math.abs(k.y-a.y)<.1}},B.findPointOnPath=function(v,r,e,s){s=s||{};for(var n=s.pathLength||v.getTotalLength(),l=s.tolerance||.001,o=s.iterationLimit||30,h=v.getPointAtLength(0)[e]>v.getPointAtLength(n)[e]?-1:1,b=0,f=0,k=n,a,c,p;b<o;){if(a=(f+k)/2,c=v.getPointAtLength(a),p=c[e]-r,Math.abs(p)<l)return c;h*p>0?k=a:f=a,b++}return c}},33040:function(X,B,t){var x=t(38248),E=t(49760),i=t(72160),M=t(8932),m=t(22548).defaultLine,d=t(38116).isArrayOrTypedArray,v=i(m),r=1;function e(h,b){var f=h;return f[3]*=b,f}function s(h){if(x(h))return v;var b=i(h);return b.length?b:v}function n(h){return x(h)?h:r}function l(h,b,f){var k=h.color;k&&k._inputArray&&(k=k._inputArray);var a=d(k),c=d(b),p=M.extractOpts(h),w=[],S,_,T,P,u;if(p.colorscale!==void 0?S=M.makeColorScaleFuncFromTrace(h):S=s,a?_=function(L,A){return L[A]===void 0?v:i(S(L[A]))}:_=s,c?T=function(L,A){return L[A]===void 0?r:n(L[A])}:T=n,a||c)for(var g=0;g<f;g++)P=_(k,g),u=T(b,g),w[g]=e(P,u);else w=e(i(k),b);return w}function o(h){var b=M.extractOpts(h),f=b.colorscale;return b.reversescale&&(f=M.flipScale(b.colorscale)),f.map(function(k){var a=k[0],c=E(k[1]),p=c.toRgb();return{index:a,rgb:[p.r,p.g,p.b,p.a]}})}X.exports={formatColor:l,parseColorScale:o}},71688:function(X,B,t){var x=t(35536);function E(i){return[i]}X.exports={keyFun:function(i){return i.key},repeat:E,descend:x,wrap:E,unwrap:function(i){return i[0]}}},35536:function(X){X.exports=function(B){return B}},1396:function(X){X.exports=function(B,t){if(!t)return B;var x=1/Math.abs(t),E=x>1?(x*B+x*t)/x:B+t,i=String(E).length;if(i>16){var M=String(t).length,m=String(B).length;if(i>=m+M){var d=parseFloat(E).toPrecision(12);d.indexOf("e+")===-1&&(E=+d)}}return E}},3400:function(X,B,t){var x=t(33428),E=t(94336).E9,i=t(57624).E9,M=t(38248),m=t(39032),d=m.FP_SAFE,v=-d,r=m.BADNUM,e=X.exports={};e.adjustFormat=function(tt){return!tt||/^\d[.]\df/.test(tt)||/[.]\d%/.test(tt)?tt:tt==="0.f"?"~f":/^\d%/.test(tt)?"~%":/^\ds/.test(tt)?"~s":!/^[~,.0$]/.test(tt)&&/[&fps]/.test(tt)?"~"+tt:tt};var s={};e.warnBadFormat=function(tt){var st=String(tt);s[st]||(s[st]=1,e.warn('encountered bad format: "'+st+'"'))},e.noFormat=function(tt){return String(tt)},e.numberFormat=function(tt){var st;try{st=i(e.adjustFormat(tt))}catch{return e.warnBadFormat(tt),e.noFormat}return st},e.nestedProperty=t(22296),e.keyedContainer=t(37804),e.relativeAttr=t(23193),e.isPlainObject=t(63620),e.toLogRange=t(36896),e.relinkPrivateKeys=t(51528);var n=t(38116);e.isArrayBuffer=n.isArrayBuffer,e.isTypedArray=n.isTypedArray,e.isArrayOrTypedArray=n.isArrayOrTypedArray,e.isArray1D=n.isArray1D,e.ensureArray=n.ensureArray,e.concat=n.concat,e.maxRowLength=n.maxRowLength,e.minRowLength=n.minRowLength;var l=t(20435);e.mod=l.mod,e.modHalf=l.modHalf;var o=t(63064);e.valObjectMeta=o.valObjectMeta,e.coerce=o.coerce,e.coerce2=o.coerce2,e.coerceFont=o.coerceFont,e.coercePattern=o.coercePattern,e.coerceHoverinfo=o.coerceHoverinfo,e.coerceSelectionMarkerOpacity=o.coerceSelectionMarkerOpacity,e.validate=o.validate;var h=t(67555);e.dateTime2ms=h.dateTime2ms,e.isDateTime=h.isDateTime,e.ms2DateTime=h.ms2DateTime,e.ms2DateTimeLocal=h.ms2DateTimeLocal,e.cleanDate=h.cleanDate,e.isJSDate=h.isJSDate,e.formatDate=h.formatDate,e.incrementMonth=h.incrementMonth,e.dateTick0=h.dateTick0,e.dfltRange=h.dfltRange,e.findExactDates=h.findExactDates,e.MIN_MS=h.MIN_MS,e.MAX_MS=h.MAX_MS;var b=t(14952);e.findBin=b.findBin,e.sorterAsc=b.sorterAsc,e.sorterDes=b.sorterDes,e.distinctVals=b.distinctVals,e.roundUp=b.roundUp,e.sort=b.sort,e.findIndexOfMin=b.findIndexOfMin,e.sortObjectKeys=t(95376);var f=t(63084);e.aggNums=f.aggNums,e.len=f.len,e.mean=f.mean,e.median=f.median,e.midRange=f.midRange,e.variance=f.variance,e.stdev=f.stdev,e.interp=f.interp;var k=t(52248);e.init2dArray=k.init2dArray,e.transposeRagged=k.transposeRagged,e.dot=k.dot,e.translationMatrix=k.translationMatrix,e.rotationMatrix=k.rotationMatrix,e.rotationXYMatrix=k.rotationXYMatrix,e.apply3DTransform=k.apply3DTransform,e.apply2DTransform=k.apply2DTransform,e.apply2DTransform2=k.apply2DTransform2,e.convertCssMatrix=k.convertCssMatrix,e.inverseTransformMatrix=k.inverseTransformMatrix;var a=t(11864);e.deg2rad=a.deg2rad,e.rad2deg=a.rad2deg,e.angleDelta=a.angleDelta,e.angleDist=a.angleDist,e.isFullCircle=a.isFullCircle,e.isAngleInsideSector=a.isAngleInsideSector,e.isPtInsideSector=a.isPtInsideSector,e.pathArc=a.pathArc,e.pathSector=a.pathSector,e.pathAnnulus=a.pathAnnulus;var c=t(98308);e.isLeftAnchor=c.isLeftAnchor,e.isCenterAnchor=c.isCenterAnchor,e.isRightAnchor=c.isRightAnchor,e.isTopAnchor=c.isTopAnchor,e.isMiddleAnchor=c.isMiddleAnchor,e.isBottomAnchor=c.isBottomAnchor;var p=t(92348);e.segmentsIntersect=p.segmentsIntersect,e.segmentDistance=p.segmentDistance,e.getTextLocation=p.getTextLocation,e.clearLocationCache=p.clearLocationCache,e.getVisibleSegment=p.getVisibleSegment,e.findPointOnPath=p.findPointOnPath;var w=t(92880);e.extendFlat=w.extendFlat,e.extendDeep=w.extendDeep,e.extendDeepAll=w.extendDeepAll,e.extendDeepNoArrays=w.extendDeepNoArrays;var S=t(24248);e.log=S.log,e.warn=S.warn,e.error=S.error;var _=t(53756);e.counterRegex=_.counter;var T=t(91200);e.throttle=T.throttle,e.throttleDone=T.done,e.clearThrottle=T.clear;var P=t(52200);e.getGraphDiv=P.getGraphDiv,e.isPlotDiv=P.isPlotDiv,e.removeElement=P.removeElement,e.addStyleRule=P.addStyleRule,e.addRelatedStyleRule=P.addRelatedStyleRule,e.deleteRelatedStyleRule=P.deleteRelatedStyleRule,e.getFullTransformMatrix=P.getFullTransformMatrix,e.getElementTransformMatrix=P.getElementTransformMatrix,e.getElementAndAncestors=P.getElementAndAncestors,e.equalDomRects=P.equalDomRects,e.clearResponsive=t(75352),e.preserveDrawingBuffer=t(34296),e.makeTraceGroups=t(30988),e._=t(98356),e.notifier=t(41792),e.filterUnique=t(68944),e.filterVisible=t(43880),e.pushUnique=t(52416),e.increment=t(1396),e.cleanNumber=t(54037),e.ensureNumber=function(tt){return M(tt)?(tt=Number(tt),tt>d||tt<v?r:tt):r},e.isIndex=function(tt,st){return st!==void 0&&tt>=st?!1:M(tt)&&tt>=0&&tt%1===0},e.noop=t(16628),e.identity=t(35536),e.repeat=function(tt,st){for(var Q=new Array(st),G=0;G<st;G++)Q[G]=tt;return Q},e.swapAttrs=function(tt,st,Q,G){Q||(Q="x"),G||(G="y");for(var ut=0;ut<st.length;ut++){var at=st[ut],dt=e.nestedProperty(tt,at.replace("?",Q)),gt=e.nestedProperty(tt,at.replace("?",G)),wt=dt.get();dt.set(gt.get()),gt.set(wt)}},e.raiseToTop=function(tt){tt.parentNode.appendChild(tt)},e.cancelTransition=function(tt){return tt.transition().duration(0)},e.constrain=function(tt,st,Q){return st>Q?Math.max(Q,Math.min(st,tt)):Math.max(st,Math.min(Q,tt))},e.bBoxIntersect=function(tt,st,Q){return Q=Q||0,tt.left<=st.right+Q&&st.left<=tt.right+Q&&tt.top<=st.bottom+Q&&st.top<=tt.bottom+Q},e.simpleMap=function(tt,st,Q,G,ut){for(var at=tt.length,dt=new Array(at),gt=0;gt<at;gt++)dt[gt]=st(tt[gt],Q,G,ut);return dt},e.randstr=function tt(st,Q,G,ut){if(G||(G=16),Q===void 0&&(Q=24),Q<=0)return"0";var at=Math.log(Math.pow(2,Q))/Math.log(G),dt="",gt,wt,kt;for(gt=2;at===1/0;gt*=2)at=Math.log(Math.pow(2,Q/gt))/Math.log(G)*gt;var Ot=at-Math.floor(at);for(gt=0;gt<Math.floor(at);gt++)kt=Math.floor(Math.random()*G).toString(G),dt=kt+dt;Ot&&(wt=Math.pow(G,Ot),kt=Math.floor(Math.random()*wt).toString(G),dt=kt+dt);var bt=parseInt(dt,G);return st&&st[dt]||bt!==1/0&&bt>=Math.pow(2,Q)?ut>10?(e.warn("randstr failed uniqueness"),dt):tt(st,Q,G,(ut||0)+1):dt},e.OptionControl=function(tt,st){tt||(tt={}),st||(st="opt");var Q={};return Q.optionList=[],Q._newoption=function(G){G[st]=tt,Q[G.name]=G,Q.optionList.push(G)},Q["_"+st]=tt,Q},e.smooth=function(tt,st){if(st=Math.round(st)||0,st<2)return tt;var Q=tt.length,G=2*Q,ut=2*st-1,at=new Array(ut),dt=new Array(Q),gt,wt,kt,Ot;for(gt=0;gt<ut;gt++)at[gt]=(1-Math.cos(Math.PI*(gt+1)/st))/(2*st);for(gt=0;gt<Q;gt++){for(Ot=0,wt=0;wt<ut;wt++)kt=gt+wt+1-st,kt<-Q?kt-=G*Math.round(kt/G):kt>=G&&(kt-=G*Math.floor(kt/G)),kt<0?kt=-1-kt:kt>=Q&&(kt=G-1-kt),Ot+=tt[kt]*at[wt];dt[gt]=Ot}return dt},e.syncOrAsync=function(tt,st,Q){var G,ut;function at(){return e.syncOrAsync(tt,st,Q)}for(;tt.length;)if(ut=tt.splice(0,1)[0],G=ut(st),G&&G.then)return G.then(at);return Q&&Q(st)},e.stripTrailingSlash=function(tt){return tt.substr(-1)==="/"?tt.substr(0,tt.length-1):tt},e.noneOrAll=function(tt,st,Q){if(tt){var G=!1,ut=!0,at,dt;for(at=0;at<Q.length;at++)dt=tt[Q[at]],dt!=null?G=!0:ut=!1;if(G&&!ut)for(at=0;at<Q.length;at++)tt[Q[at]]=st[Q[at]]}},e.mergeArray=function(tt,st,Q,G){var ut=typeof G=="function";if(e.isArrayOrTypedArray(tt))for(var at=Math.min(tt.length,st.length),dt=0;dt<at;dt++){var gt=tt[dt];st[dt][Q]=ut?G(gt):gt}},e.mergeArrayCastPositive=function(tt,st,Q){return e.mergeArray(tt,st,Q,function(G){var ut=+G;return isFinite(ut)&&ut>0?ut:0})},e.fillArray=function(tt,st,Q,G){if(G=G||e.identity,e.isArrayOrTypedArray(tt))for(var ut=0;ut<st.length;ut++)st[ut][Q]=G(tt[ut])},e.castOption=function(tt,st,Q,G){G=G||e.identity;var ut=e.nestedProperty(tt,Q).get();return e.isArrayOrTypedArray(ut)?Array.isArray(st)&&e.isArrayOrTypedArray(ut[st[0]])?G(ut[st[0]][st[1]]):G(ut[st]):ut},e.extractOption=function(tt,st,Q,G){if(Q in tt)return tt[Q];var ut=e.nestedProperty(st,G).get();if(!Array.isArray(ut))return ut};function u(tt){var st={};for(var Q in tt)for(var G=tt[Q],ut=0;ut<G.length;ut++)st[G[ut]]=+Q;return st}e.tagSelected=function(tt,st,Q){var G=st.selectedpoints,ut=st._indexToPoints,at;ut&&(at=u(ut));function dt(bt){return bt!==void 0&&bt<tt.length}for(var gt=0;gt<G.length;gt++){var wt=G[gt];if(e.isIndex(wt)||e.isArrayOrTypedArray(wt)&&e.isIndex(wt[0])&&e.isIndex(wt[1])){var kt=at?at[wt]:wt,Ot=Q?Q[kt]:kt;dt(Ot)&&(tt[Ot].selected=1)}}},e.selIndices2selPoints=function(tt){var st=tt.selectedpoints,Q=tt._indexToPoints;if(Q){for(var G=u(Q),ut=[],at=0;at<st.length;at++){var dt=st[at];if(e.isIndex(dt)){var gt=G[dt];e.isIndex(gt)&&ut.push(gt)}}return ut}else return st},e.getTargetArray=function(tt,st){var Q=st.target;if(typeof Q=="string"&&Q){var G=e.nestedProperty(tt,Q).get();return e.isArrayOrTypedArray(G)?G:!1}else if(e.isArrayOrTypedArray(Q))return Q;return!1};function g(tt,st,Q){var G={};typeof st!="object"&&(st={});var ut=Q==="pieLike"?-1:3,at=Object.keys(tt),dt,gt,wt;for(dt=0;dt<at.length;dt++)gt=at[dt],wt=tt[gt],!(gt.charAt(0)==="_"||typeof wt=="function")&&(gt==="module"?G[gt]=wt:Array.isArray(wt)?gt==="colorscale"||ut===-1?G[gt]=wt.slice():G[gt]=wt.slice(0,ut):e.isTypedArray(wt)?ut===-1?G[gt]=wt.subarray():G[gt]=wt.subarray(0,ut):wt&&typeof wt=="object"?G[gt]=g(tt[gt],st[gt],Q):G[gt]=wt);for(at=Object.keys(st),dt=0;dt<at.length;dt++)gt=at[dt],wt=st[gt],(typeof wt!="object"||!(gt in G)||typeof G[gt]!="object")&&(G[gt]=wt);return G}e.minExtend=g,e.titleCase=function(tt){return tt.charAt(0).toUpperCase()+tt.substr(1)},e.containsAny=function(tt,st){for(var Q=0;Q<st.length;Q++)if(tt.indexOf(st[Q])!==-1)return!0;return!1},e.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var L=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return L.test(window.navigator.userAgent)};var A=/iPad|iPhone|iPod/;e.isIOS=function(){return A.test(window.navigator.userAgent)};var R=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var tt=R.exec(window.navigator.userAgent);if(tt&&tt.length===2){var st=parseInt(tt[1]);if(!isNaN(st))return st}return null},e.isD3Selection=function(tt){return tt instanceof x.selection},e.ensureSingle=function(tt,st,Q,G){var ut=tt.select(st+(Q?"."+Q:""));if(ut.size())return ut;var at=tt.append(st);return Q&&at.classed(Q,!0),G&&at.call(G),at},e.ensureSingleById=function(tt,st,Q,G){var ut=tt.select(st+"#"+Q);if(ut.size())return ut;var at=tt.append(st).attr("id",Q);return G&&at.call(G),at},e.objectFromPath=function(tt,st){for(var Q=tt.split("."),G,ut=G={},at=0;at<Q.length;at++){var dt=Q[at],gt=null,wt=Q[at].match(/(.*)\[([0-9]+)\]/);wt?(dt=wt[1],gt=wt[2],G=G[dt]=[],at===Q.length-1?G[gt]=st:G[gt]={},G=G[gt]):(at===Q.length-1?G[dt]=st:G[dt]={},G=G[dt])}return ut};var O=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function z(tt){return tt.slice(0,2)==="__"}e.expandObjectPaths=function(tt){var st,Q,G,ut,at,dt,gt;if(typeof tt=="object"&&!Array.isArray(tt)){for(Q in tt)if(tt.hasOwnProperty(Q))if(st=Q.match(O)){if(ut=tt[Q],G=st[1],z(G))continue;delete tt[Q],tt[G]=e.extendDeepNoArrays(tt[G]||{},e.objectFromPath(Q,e.expandObjectPaths(ut))[G])}else if(st=Q.match(N)){if(ut=tt[Q],G=st[1],z(G))continue;if(at=parseInt(st[2]),delete tt[Q],tt[G]=tt[G]||[],st[3]===".")gt=st[4],dt=tt[G][at]=tt[G][at]||{},e.extendDeepNoArrays(dt,e.objectFromPath(gt,e.expandObjectPaths(ut)));else{if(z(G))continue;tt[G][at]=e.expandObjectPaths(ut)}}else{if(z(Q))continue;tt[Q]=e.expandObjectPaths(tt[Q])}}return tt},e.numSeparate=function(tt,st,Q){if(Q||(Q=!1),typeof st!="string"||st.length===0)throw new Error("Separator string required for formatting!");typeof tt=="number"&&(tt=String(tt));var G=/(\d+)(\d{3})/,ut=st.charAt(0),at=st.charAt(1),dt=tt.split("."),gt=dt[0],wt=dt.length>1?ut+dt[1]:"";if(at&&(dt.length>1||gt.length>4||Q))for(;G.test(gt);)gt=gt.replace(G,"$1"+at+"$2");return gt+wt},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;e.templateString=function(tt,st){var Q={};return tt.replace(e.TEMPLATE_STRING_REGEX,function(G,ut){var at;return F.test(ut)?at=st[ut]:(Q[ut]=Q[ut]||e.nestedProperty(st,ut).get,at=Q[ut]()),e.isValidTextValue(at)?at:""})};var I={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return lt.apply(I,arguments)};var j={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return lt.apply(j,arguments)};var V=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(tt){var st=tt.match(V);return st?{key:st[1],op:st[2],number:Number(st[3])}:{key:tt,op:null,number:null}}var K={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return lt.apply(K,arguments)};var et=/^[:|\|]/;function lt(tt,st,Q){var G=this,ut=arguments;st||(st={});var at={};return tt.replace(e.TEMPLATE_STRING_REGEX,function(dt,gt,wt){var kt=gt==="xother"||gt==="yother",Ot=gt==="_xother"||gt==="_yother",bt=gt==="_xother_"||gt==="_yother_",_t=gt==="xother_"||gt==="yother_",mt=kt||Ot||_t||bt,Pt=gt;(Ot||bt)&&(Pt=Pt.substring(1)),(_t||bt)&&(Pt=Pt.substring(0,Pt.length-1));var Rt=null,Ht=null;if(G.parseMultDiv){var Dt=W(Pt);Pt=Dt.key,Rt=Dt.op,Ht=Dt.number}var Xt;if(mt){if(Xt=st[Pt],Xt===void 0)return""}else{var se,Yt;for(Yt=3;Yt<ut.length;Yt++)if(se=ut[Yt],!!se){if(se.hasOwnProperty(Pt)){Xt=se[Pt];break}if(F.test(Pt)||(Xt=e.nestedProperty(se,Pt).get(),Xt=at[Pt]||e.nestedProperty(se,Pt).get(),Xt&&(at[Pt]=Xt)),Xt!==void 0)break}}if(Xt!==void 0&&(Rt==="*"&&(Xt*=Ht),Rt==="/"&&(Xt/=Ht)),Xt===void 0&&G)return G.count<G.max&&(e.warn("Variable '"+Pt+"' in "+G.name+" could not be found!"),Xt=dt),G.count===G.max&&e.warn("Too many "+G.name+" warnings - additional warnings will be suppressed"),G.count++,dt;if(wt){var ue;if(wt[0]===":"&&(ue=Q?Q.numberFormat:e.numberFormat,Xt!==""&&(Xt=ue(wt.replace(et,""))(Xt))),wt[0]==="|"){ue=Q?Q.timeFormat:E;var ie=e.dateTime2ms(Xt);Xt=e.formatDate(ie,wt.replace(et,""),!1,ue)}}else{var fe=Pt+"Label";st.hasOwnProperty(fe)&&(Xt=st[fe])}return mt&&(Xt="("+Xt+")",(Ot||bt)&&(Xt=" "+Xt),(_t||bt)&&(Xt=Xt+" ")),Xt})}var ot=48,q=57;e.subplotSort=function(tt,st){for(var Q=Math.min(tt.length,st.length)+1,G=0,ut=0,at=0;at<Q;at++){var dt=tt.charCodeAt(at)||0,gt=st.charCodeAt(at)||0,wt=dt>=ot&&dt<=q,kt=gt>=ot&&gt<=q;if(wt&&(G=10*G+dt-ot),kt&&(ut=10*ut+gt-ot),!wt||!kt){if(G!==ut)return G-ut;if(dt!==gt)return dt-gt}}return ut-G};var J=2e9;e.seedPseudoRandom=function(){J=2e9},e.pseudoRandom=function(){var tt=J;return J=(69069*J+1)%4294967296,Math.abs(J-tt)<429496729?e.pseudoRandom():J/4294967296},e.fillText=function(tt,st,Q){var G=Array.isArray(Q)?function(dt){Q.push(dt)}:function(dt){Q.text=dt},ut=e.extractOption(tt,st,"htx","hovertext");if(e.isValidTextValue(ut))return G(ut);var at=e.extractOption(tt,st,"tx","text");if(e.isValidTextValue(at))return G(at)},e.isValidTextValue=function(tt){return tt||tt===0},e.formatPercent=function(tt,st){st=st||0;for(var Q=(Math.round(100*tt*Math.pow(10,st))*Math.pow(.1,st)).toFixed(st)+"%",G=0;G<st;G++)Q.indexOf(".")!==-1&&(Q=Q.replace("0%","%"),Q=Q.replace(".%","%"));return Q},e.isHidden=function(tt){var st=window.getComputedStyle(tt).display;return!st||st==="none"},e.strTranslate=function(tt,st){return tt||st?"translate("+tt+","+st+")":""},e.strRotate=function(tt){return tt?"rotate("+tt+")":""},e.strScale=function(tt){return tt!==1?"scale("+tt+")":""},e.getTextTransform=function(tt){var st=tt.noCenter,Q=tt.textX,G=tt.textY,ut=tt.targetX,at=tt.targetY,dt=tt.anchorX||0,gt=tt.anchorY||0,wt=tt.rotate,kt=tt.scale;return kt?kt>1&&(kt=1):kt=0,e.strTranslate(ut-kt*(Q+dt),at-kt*(G+gt))+e.strScale(kt)+(wt?"rotate("+wt+(st?"":" "+Q+" "+G)+")":"")},e.setTransormAndDisplay=function(tt,st){tt.attr("transform",e.getTextTransform(st)),tt.style("display",st.scale?null:"none")},e.ensureUniformFontSize=function(tt,st){var Q=e.extendFlat({},st);return Q.size=Math.max(st.size,tt._fullLayout.uniformtext.minsize||0),Q},e.join2=function(tt,st,Q){var G=tt.length;return G>1?tt.slice(0,-1).join(st)+Q+tt[G-1]:tt.join(st)},e.bigFont=function(tt){return Math.round(1.2*tt)};var it=e.getFirefoxVersion(),Z=it!==null&&it<86;e.getPositionFromD3Event=function(){return Z?[x.event.layerX,x.event.layerY]:[x.event.offsetX,x.event.offsetY]}},63620:function(X){X.exports=function(B){return window&&window.process&&window.process.versions?Object.prototype.toString.call(B)==="[object Object]":Object.prototype.toString.call(B)==="[object Object]"&&Object.getPrototypeOf(B).hasOwnProperty("hasOwnProperty")}},37804:function(X,B,t){var x=t(22296),E=/^\w*$/,i=0,M=1,m=2,d=3,v=4;X.exports=function(r,e,s,n){s=s||"name",n=n||"value";var l,o,h,b={};e&&e.length?(h=x(r,e),o=h.get()):o=r,e=e||"";var f={};if(o)for(l=0;l<o.length;l++)f[o[l][s]]=l;var k=E.test(n),a={set:function(c,p){var w=p===null?v:i;if(!o){if(!h||w===v)return;o=[],h.set(o)}var S=f[c];if(S===void 0){if(w===v)return;w=w|d,S=o.length,f[c]=S}else p!==(k?o[S][n]:x(o[S],n).get())&&(w=w|m);var _=o[S]=o[S]||{};return _[s]=c,k?_[n]=p:x(_,n).set(p),p!==null&&(w=w&~v),b[S]=b[S]|w,a},get:function(c){if(o){var p=f[c];if(p!==void 0)return k?o[p][n]:x(o[p],n).get()}},rename:function(c,p){var w=f[c];return w===void 0||(b[w]=b[w]|M,f[p]=w,delete f[c],o[w][s]=p),a},remove:function(c){var p=f[c];if(p===void 0)return a;var w=o[p];if(Object.keys(w).length>2)return b[p]=b[p]|m,a.set(c,null);if(k){for(l=p;l<o.length;l++)b[l]=b[l]|d;for(l=p;l<o.length;l++)f[o[l][s]]--;o.splice(p,1),delete f[c]}else x(w,n).set(null),b[p]=b[p]|m|v;return a},constructUpdate:function(){for(var c,p,w={},S=Object.keys(b),_=0;_<S.length;_++)p=S[_],c=e+"["+p+"]",o[p]?(b[p]&M&&(w[c+"."+s]=o[p][s]),b[p]&m&&(k?w[c+"."+n]=b[p]&v?null:o[p][n]:w[c+"."+n]=b[p]&v?null:x(o[p],n).get())):w[c]=null;return w}};return a}},98356:function(X,B,t){var x=t(24040);X.exports=function(E,i){for(var M=E._context.locale,m=0;m<2;m++){for(var d=E._context.locales,v=0;v<2;v++){var r=(d[M]||{}).dictionary;if(r){var e=r[i];if(e)return e}d=x.localeRegistry}var s=M.split("-")[0];if(s===M)break;M=s}return i}},24248:function(X,B,t){var x=t(20556).dfltConfig,E=t(41792),i=X.exports={};i.log=function(){var M;if(x.logging>1){var m=["LOG:"];for(M=0;M<arguments.length;M++)m.push(arguments[M]);console.trace.apply(console,m)}if(x.notifyOnLogging>1){var d=[];for(M=0;M<arguments.length;M++)d.push(arguments[M]);E(d.join("<br>"),"long")}},i.warn=function(){var M;if(x.logging>0){var m=["WARN:"];for(M=0;M<arguments.length;M++)m.push(arguments[M]);console.trace.apply(console,m)}if(x.notifyOnLogging>0){var d=[];for(M=0;M<arguments.length;M++)d.push(arguments[M]);E(d.join("<br>"),"stick")}},i.error=function(){var M;if(x.logging>0){var m=["ERROR:"];for(M=0;M<arguments.length;M++)m.push(arguments[M]);console.error.apply(console,m)}if(x.notifyOnLogging>0){var d=[];for(M=0;M<arguments.length;M++)d.push(arguments[M]);E(d.join("<br>"),"stick")}}},30988:function(X,B,t){var x=t(33428);X.exports=function(E,i,M){var m=E.selectAll("g."+M.replace(/\s/g,".")).data(i,function(v){return v[0].trace.uid});m.exit().remove(),m.enter().append("g").attr("class",M),m.order();var d=E.classed("rangeplot")?"nodeRangePlot3":"node3";return m.each(function(v){v[0][d]=x.select(this)}),m}},52248:function(X,B,t){var x=t(36524);B.init2dArray=function(E,i){for(var M=new Array(E),m=0;m<E;m++)M[m]=new Array(i);return M},B.transposeRagged=function(E){var i=0,M=E.length,m,d;for(m=0;m<M;m++)i=Math.max(i,E[m].length);var v=new Array(i);for(m=0;m<i;m++)for(v[m]=new Array(M),d=0;d<M;d++)v[m][d]=E[d][m];return v},B.dot=function(E,i){if(!(E.length&&i.length)||E.length!==i.length)return null;var M=E.length,m,d;if(E[0].length)for(m=new Array(M),d=0;d<M;d++)m[d]=B.dot(E[d],i);else if(i[0].length){var v=B.transposeRagged(i);for(m=new Array(v.length),d=0;d<v.length;d++)m[d]=B.dot(E,v[d])}else for(m=0,d=0;d<M;d++)m+=E[d]*i[d];return m},B.translationMatrix=function(E,i){return[[1,0,E],[0,1,i],[0,0,1]]},B.rotationMatrix=function(E){var i=E*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},B.rotationXYMatrix=function(E,i,M){return B.dot(B.dot(B.translationMatrix(i,M),B.rotationMatrix(E)),B.translationMatrix(-i,-M))},B.apply3DTransform=function(E){return function(){var i=arguments,M=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return B.dot(E,[M[0],M[1],M[2],1]).slice(0,3)}},B.apply2DTransform=function(E){return function(){var i=arguments;i.length===3&&(i=i[0]);var M=arguments.length===1?i[0]:[i[0],i[1]];return B.dot(E,[M[0],M[1],1]).slice(0,2)}},B.apply2DTransform2=function(E){var i=B.apply2DTransform(E);return function(M){return i(M.slice(0,2)).concat(i(M.slice(2,4)))}},B.convertCssMatrix=function(E){if(E){var i=E.length;if(i===16)return E;if(i===6)return[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(E){var i=[];return x.invert(i,E),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},20435:function(X){function B(x,E){var i=x%E;return i<0?i+E:i}function t(x,E){return Math.abs(x)>E/2?x-Math.round(x/E)*E:x}X.exports={mod:B,modHalf:t}},22296:function(X,B,t){var x=t(38248),E=t(38116).isArrayOrTypedArray;X.exports=function(n,l){if(x(l))l=String(l);else if(typeof l!="string"||l.substr(l.length-4)==="[-1]")throw"bad property string";var o=l.split("."),h,b,f,k;for(k=0;k<o.length;k++)if(String(o[k]).slice(0,2)==="__")throw"bad property string";for(k=0;k<o.length;){if(h=String(o[k]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),h){if(h[1])o[k]=h[1];else if(k===0)o.splice(0,1);else throw"bad property string";for(b=h[2].substr(1,h[2].length-2).split("]["),f=0;f<b.length;f++)k++,o.splice(k,0,Number(b[f]))}k++}return typeof n!="object"?s(n,l,o):{set:d(n,o,l),get:i(n,o),astr:l,parts:o,obj:n}};function i(n,l){return function(){var o=n,h,b,f,k,a;for(k=0;k<l.length-1;k++){if(h=l[k],h===-1){for(b=!0,f=[],a=0;a<o.length;a++)f[a]=i(o[a],l.slice(k+1))(),f[a]!==f[0]&&(b=!1);return b?f[0]:f}if(typeof h=="number"&&!E(o)||(o=o[h],typeof o!="object"||o===null))return}if(!(typeof o!="object"||o===null)&&(f=o[l[k]],f!==null))return f}}var M=/(^|\.)args\[/;function m(n,l){return n===void 0||n===null&&!l.match(M)}function d(n,l,o){return function(h){var b=n,f="",k=m(h,o),a,c;for(c=0;c<l.length-1;c++){if(a=l[c],typeof a=="number"&&!E(b))throw"array index but container is not an array";if(a===-1){if(k=!r(b,l.slice(c+1),h,o),k)break;return}if(!e(b,a,l[c+1],k))break;if(b=b[a],typeof b!="object"||b===null)throw"container is not an object";f=v(f,a)}if(k){if(c===l.length-1&&(delete b[l[c]],Array.isArray(b)&&+l[c]===b.length-1))for(;b.length&&b[b.length-1]===void 0;)b.pop()}else b[l[c]]=h}}function v(n,l){var o=l;return x(l)?o="["+l+"]":n&&(o="."+l),n+o}function r(n,l,o,h){var b=E(o),f=!0,k=o,a=h.replace("-1",0),c=b?!1:m(o,a),p=l[0],w;for(w=0;w<n.length;w++)a=h.replace("-1",w),b&&(k=o[w%o.length],c=m(k,a)),c&&(f=!1),e(n,w,p,c)&&d(n[w],l,h.replace("-1",w))(k);return f}function e(n,l,o,h){if(n[l]===void 0){if(h)return!1;typeof o=="number"?n[l]=[]:n[l]={}}return!0}function s(n,l,o){return{set:function(){throw"bad container"},get:function(){},astr:l,parts:o,obj:n}}},16628:function(X){X.exports=function(){}},41792:function(X,B,t){var x=t(33428),E=t(38248),i=[];X.exports=function(M,m){if(i.indexOf(M)!==-1)return;i.push(M);var d=1e3;E(m)?d=m:m==="long"&&(d=3e3);var v=x.select("body").selectAll(".plotly-notifier").data([0]);v.enter().append("div").classed("plotly-notifier",!0);var r=v.selectAll(".notifier-note").data(i);function e(s){s.duration(700).style("opacity",0).each("end",function(n){var l=i.indexOf(n);l!==-1&&i.splice(l,1),x.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var n=x.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(e)});for(var l=n.append("p"),o=s.split(/<br\s*\/?>/g),h=0;h<o.length;h++)h&&l.append("br"),l.append("span").text(o[h]);m==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(d).call(e)})}},72213:function(X,B,t){var x=t(93972),E="data-savedcursor",i="!!";X.exports=function(M,m){var d=M.attr(E);if(m){if(!d){for(var v=(M.attr("class")||"").split(" "),r=0;r<v.length;r++){var e=v[r];e.indexOf("cursor-")===0&&M.attr(E,e.substr(7)).classed(e,!1)}M.attr(E)||M.attr(E,i)}x(M,m)}else d&&(M.attr(E,null),d===i?x(M):x(M,d))}},92065:function(X,B,t){var x=t(52248).dot,E=t(39032).BADNUM,i=X.exports={};i.tester=function(M){var m=M.slice(),d=m[0][0],v=d,r=m[0][1],e=r,s;for((m[m.length-1][0]!==m[0][0]||m[m.length-1][1]!==m[0][1])&&m.push(m[0]),s=1;s<m.length;s++)d=Math.min(d,m[s][0]),v=Math.max(v,m[s][0]),r=Math.min(r,m[s][1]),e=Math.max(e,m[s][1]);var n=!1,l;m.length===5&&(m[0][0]===m[1][0]?m[2][0]===m[3][0]&&m[0][1]===m[3][1]&&m[1][1]===m[2][1]&&(n=!0,l=function(k){return k[0]===m[0][0]}):m[0][1]===m[1][1]&&m[2][1]===m[3][1]&&m[0][0]===m[3][0]&&m[1][0]===m[2][0]&&(n=!0,l=function(k){return k[1]===m[0][1]}));function o(k,a){var c=k[0],p=k[1];return!(c===E||c<d||c>v||p===E||p<r||p>e||a&&l(k))}function h(k,a){var c=k[0],p=k[1];if(c===E||c<d||c>v||p===E||p<r||p>e)return!1;var w=m.length,S=m[0][0],_=m[0][1],T=0,P,u,g,L,A;for(P=1;P<w;P++)if(u=S,g=_,S=m[P][0],_=m[P][1],L=Math.min(u,S),!(c<L||c>Math.max(u,S)||p>Math.max(g,_)))if(p<Math.min(g,_))c!==L&&T++;else{if(S===u?A=p:A=g+(c-u)*(_-g)/(S-u),p===A)return!(P===1&&a);p<=A&&c!==L&&T++}return T%2===1}var b=!0,f=m[0];for(s=1;s<m.length;s++)if(f[0]!==m[s][0]||f[1]!==m[s][1]){b=!1;break}return{xmin:d,xmax:v,ymin:r,ymax:e,pts:m,contains:n?o:h,isRect:n,degenerate:b}},i.isSegmentBent=function(M,m,d,v){var r=M[m],e=[M[d][0]-r[0],M[d][1]-r[1]],s=x(e,e),n=Math.sqrt(s),l=[-e[1]/n,e[0]/n],o,h,b;for(o=m+1;o<d;o++)if(h=[M[o][0]-r[0],M[o][1]-r[1]],b=x(h,e),b<0||b>s||Math.abs(x(h,l))>v)return!0;return!1},i.filter=function(M,m){var d=[M[0]],v=0,r=0;function e(n){M.push(n);var l=d.length,o=v;d.splice(r+1);for(var h=o+1;h<M.length;h++)(h===M.length-1||i.isSegmentBent(M,o,h+1,m))&&(d.push(M[h]),d.length<l-2&&(v=h,r=d.length-1),o=h)}if(M.length>1){var s=M.pop();e(s)}return{addPt:e,raw:M,filtered:d}}},5048:function(X,B,t){var x=t(16576),E=t(28624);X.exports=function(i,M,m){var d=i._fullLayout,v=!0;return d._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(m);return}if(!(r.pick&&!d._has("parcoords"))){try{r.regl=E({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:i._context.plotGlPixelRatio||t.g.devicePixelRatio,extensions:M||[],cachedCode:m||{}})}catch{v=!1}r.regl||(v=!1),v&&this.addEventListener("webglcontextlost",function(e){i&&i.emit&&i.emit("plotly_webglcontextlost",{event:e,layer:r.key})},!1)}}),v||x({container:d._glcontainer.node()}),v}},34296:function(X,B,t){var x=t(38248),E=t(25928);X.exports=function(M){var m;if(M&&M.hasOwnProperty("userAgent")?m=M.userAgent:m=i(),typeof m!="string")return!0;var d=E({ua:{headers:{"user-agent":m}},tablet:!0,featureDetect:!1});if(!d)for(var v=m.split(" "),r=1;r<v.length;r++){var e=v[r];if(e.indexOf("Safari")!==-1)for(var s=r-1;s>-1;s--){var n=v[s];if(n.substr(0,8)==="Version/"){var l=n.substr(8).split(".")[0];if(x(l)&&(l=+l),l>=13)return!0}}}return d};function i(){var M;return typeof navigator<"u"&&(M=navigator.userAgent),M&&M.headers&&typeof M.headers["user-agent"]=="string"&&(M=M.headers["user-agent"]),M}},52416:function(X){X.exports=function(B,t){if(t instanceof RegExp){for(var x=t.toString(),E=0;E<B.length;E++)if(B[E]instanceof RegExp&&B[E].toString()===x)return B;B.push(t)}else(t||t===0)&&B.indexOf(t)===-1&&B.push(t);return B}},94552:function(X,B,t){var x=t(3400),E=t(20556).dfltConfig;function i(m,d){for(var v=[],r,e=0;e<d.length;e++)r=d[e],r===m?v[e]=r:typeof r=="object"?v[e]=Array.isArray(r)?x.extendDeep([],r):x.extendDeepAll({},r):v[e]=r;return v}var M={};M.add=function(m,d,v,r,e){var s,n;if(m.undoQueue=m.undoQueue||{index:0,queue:[],sequence:!1},n=m.undoQueue.index,m.autoplay){m.undoQueue.inSequence||(m.autoplay=!1);return}!m.undoQueue.sequence||m.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},m.undoQueue.queue.splice(n,m.undoQueue.queue.length-n,s),m.undoQueue.index+=1):s=m.undoQueue.queue[n-1],m.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(d),s.undo.args.unshift(v),s.redo.calls.push(r),s.redo.args.push(e)),m.undoQueue.queue.length>E.queueLength&&(m.undoQueue.queue.shift(),m.undoQueue.index--)},M.startSequence=function(m){m.undoQueue=m.undoQueue||{index:0,queue:[],sequence:!1},m.undoQueue.sequence=!0,m.undoQueue.beginSequence=!0},M.stopSequence=function(m){m.undoQueue=m.undoQueue||{index:0,queue:[],sequence:!1},m.undoQueue.sequence=!1,m.undoQueue.beginSequence=!1},M.undo=function(m){var d,v;if(!(m.undoQueue===void 0||isNaN(m.undoQueue.index)||m.undoQueue.index<=0)){for(m.undoQueue.index--,d=m.undoQueue.queue[m.undoQueue.index],m.undoQueue.inSequence=!0,v=0;v<d.undo.calls.length;v++)M.plotDo(m,d.undo.calls[v],d.undo.args[v]);m.undoQueue.inSequence=!1,m.autoplay=!1}},M.redo=function(m){var d,v;if(!(m.undoQueue===void 0||isNaN(m.undoQueue.index)||m.undoQueue.index>=m.undoQueue.queue.length)){for(d=m.undoQueue.queue[m.undoQueue.index],m.undoQueue.inSequence=!0,v=0;v<d.redo.calls.length;v++)M.plotDo(m,d.redo.calls[v],d.redo.args[v]);m.undoQueue.inSequence=!1,m.autoplay=!1,m.undoQueue.index++}},M.plotDo=function(m,d,v){m.autoplay=!0,v=i(m,v),d.apply(null,v)},X.exports=M},53756:function(X,B){B.counter=function(t,x,E,i){var M=(x||"")+(E?"":"$"),m=i===!1?"":"^";return t==="xy"?new RegExp(m+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+M):new RegExp(m+t+"([2-9]|[1-9][0-9]+)?"+M)}},23193:function(X){var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;X.exports=function(x,E){for(;E;){var i=x.match(B);if(i)x=i[1];else if(x.match(t))x="";else throw new Error("bad relativeAttr call:"+[x,E]);if(E.charAt(0)==="^")E=E.slice(1);else break}return x&&E.charAt(0)!=="["?x+"."+E:x+E}},51528:function(X,B,t){var x=t(38116).isArrayOrTypedArray,E=t(63620);X.exports=function i(M,m){for(var d in m){var v=m[d],r=M[d];if(r!==v)if(d.charAt(0)==="_"||typeof v=="function"){if(d in M)continue;M[d]=v}else if(x(v)&&x(r)&&E(v[0])){if(d==="customdata"||d==="ids")continue;for(var e=Math.min(v.length,r.length),s=0;s<e;s++)r[s]!==v[s]&&E(v[s])&&E(r[s])&&i(r[s],v[s])}else E(v)&&E(r)&&(i(r,v),Object.keys(r).length||delete M[d])}}},14952:function(X,B,t){var x=t(38248),E=t(24248),i=t(35536),M=t(39032).BADNUM,m=1e-9;B.findBin=function(s,n,l){if(x(n.start))return l?Math.ceil((s-n.start)/n.size-m)-1:Math.floor((s-n.start)/n.size+m);var o=0,h=n.length,b=0,f=h>1?(n[h-1]-n[0])/(h-1):1,k,a;for(f>=0?a=l?d:v:a=l?e:r,s+=f*m*(l?-1:1)*(f>=0?1:-1);o<h&&b++<100;)k=Math.floor((o+h)/2),a(n[k],s)?o=k+1:h=k;return b>90&&E.log("Long binary search..."),o-1};function d(s,n){return s<n}function v(s,n){return s<=n}function r(s,n){return s>n}function e(s,n){return s>=n}B.sorterAsc=function(s,n){return s-n},B.sorterDes=function(s,n){return n-s},B.distinctVals=function(s){var n=s.slice();n.sort(B.sorterAsc);var l;for(l=n.length-1;l>-1&&n[l]===M;l--);for(var o=n[l]-n[0]||1,h=o/(l||1)/1e4,b=[],f,k=0;k<=l;k++){var a=n[k],c=a-f;f===void 0?(b.push(a),f=a):c>h&&(o=Math.min(o,c),b.push(a),f=a)}return{vals:b,minDiff:o}},B.roundUp=function(s,n,l){for(var o=0,h=n.length-1,b,f=0,k=l?0:1,a=l?1:0,c=l?Math.ceil:Math.floor;o<h&&f++<100;)b=c((o+h)/2),n[b]<=s?o=b+k:h=b-a;return n[o]},B.sort=function(s,n){for(var l=0,o=0,h=1;h<s.length;h++){var b=n(s[h],s[h-1]);if(b<0?l=1:b>0&&(o=1),l&&o)return s.sort(n)}return o?s:s.reverse()},B.findIndexOfMin=function(s,n){n=n||i;for(var l=1/0,o,h=0;h<s.length;h++){var b=n(s[h]);b<l&&(l=b,o=h)}return o}},93972:function(X){X.exports=function(B,t){(B.attr("class")||"").split(" ").forEach(function(x){x.indexOf("cursor-")===0&&B.classed(x,!1)}),t&&B.classed("cursor-"+t,!0)}},16576:function(X,B,t){var x=t(76308),E=function(){};X.exports=function(i){for(var M in i)typeof i[M]=="function"&&(i[M]=E);i.destroy=function(){i.container.parentNode.removeChild(i.container)};var m=document.createElement("div");m.className="no-webgl",m.style.cursor="pointer",m.style.fontSize="24px",m.style.color=x.defaults[0],m.style.position="absolute",m.style.left=m.style.top="0px",m.style.width=m.style.height="100%",m.style["background-color"]=x.lightLine,m.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",m.appendChild(d),i.container.appendChild(m),i.container.style.background="#FFFFFF",i.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(X){X.exports=function(B){return Object.keys(B).sort()}},63084:function(X,B,t){var x=t(38248),E=t(38116).isArrayOrTypedArray;B.aggNums=function(i,M,m,d){var v,r;if((!d||d>m.length)&&(d=m.length),x(M)||(M=!1),E(m[0])){for(r=new Array(d),v=0;v<d;v++)r[v]=B.aggNums(i,M,m[v]);m=r}for(v=0;v<d;v++)x(M)?x(m[v])&&(M=i(+M,+m[v])):M=m[v];return M},B.len=function(i){return B.aggNums(function(M){return M+1},0,i)},B.mean=function(i,M){return M||(M=B.len(i)),B.aggNums(function(m,d){return m+d},0,i)/M},B.midRange=function(i){if(!(i===void 0||i.length===0))return(B.aggNums(Math.max,null,i)+B.aggNums(Math.min,null,i))/2},B.variance=function(i,M,m){return M||(M=B.len(i)),x(m)||(m=B.mean(i,M)),B.aggNums(function(d,v){return d+Math.pow(v-m,2)},0,i)/M},B.stdev=function(i,M,m){return Math.sqrt(B.variance(i,M,m))},B.median=function(i){var M=i.slice().sort();return B.interp(M,.5)},B.interp=function(i,M){if(!x(M))throw"n should be a finite number";if(M=M*i.length-.5,M<0)return i[0];if(M>i.length-1)return i[i.length-1];var m=M%1;return m*i[Math.ceil(M)]+(1-m)*i[Math.floor(M)]}},43080:function(X,B,t){var x=t(72160);function E(i){return i?x(i):[0,0,0,1]}X.exports=E},9188:function(X,B,t){var x=t(2264),E=t(43616),i=t(3400),M=null;function m(){if(M!==null)return M;M=!1;var d=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!d){var v=Array.from(x.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")M=v.some(function(l){return r.apply(null,l)});else{var e=E.tester.append("image").attr("style",x.STYLE),s=window.getComputedStyle(e.node()),n=s.imageRendering;M=v.some(function(l){var o=l[1];return n===o||n===o.toLowerCase()}),e.remove()}}return M}X.exports=m},72736:function(X,B,t){var x=t(33428),E=t(3400),i=E.strTranslate,M=t(9616),m=t(84284).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(I,j,V){var W=I.text(),K=!I.attr("data-notex")&&j&&j._context.typesetMath&&typeof MathJax<"u"&&W.match(d),et=x.select(I.node().parentNode);if(et.empty())return;var lt=I.attr("class")?I.attr("class").split(" ")[0]:"text";lt+="-math",et.selectAll("svg."+lt).remove(),et.selectAll("g."+lt+"-group").remove(),I.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function ot(){et.empty()||(lt=I.attr("class")+"-math",et.select("svg."+lt).remove()),I.text("").style("white-space","pre");var q=O(I.node(),W);q&&I.style("pointer-events","all"),B.positionText(I),V&&V.call(I)}return K?(j&&j._promises||[]).push(new Promise(function(q){I.style("display","none");var J=parseInt(I.node().style.fontSize,10),it={fontSize:J};n(K[2],it,function(Z,tt,st){et.selectAll("svg."+lt).remove(),et.selectAll("g."+lt+"-group").remove();var Q=Z&&Z.select("svg");if(!Q||!Q.node()){ot(),q();return}var G=et.append("g").classed(lt+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});G.node().appendChild(Q.node()),tt&&tt.node()&&Q.node().insertBefore(tt.node().cloneNode(!0),Q.node().firstChild);var ut=st.width,at=st.height;Q.attr({class:lt,height:at,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var dt=I.node().style.fill||"black",gt=Q.select("g");gt.attr({fill:dt,stroke:dt});var wt=gt.node().getBoundingClientRect(),kt=wt.width,Ot=wt.height;(kt>ut||Ot>at)&&(Q.style("overflow","hidden"),wt=Q.node().getBoundingClientRect(),kt=wt.width,Ot=wt.height);var bt=+I.attr("x"),_t=+I.attr("y"),mt=J||I.node().getBoundingClientRect().height,Pt=-mt/4;if(lt[0]==="y")G.attr({transform:"rotate("+[-90,bt,_t]+")"+i(-kt/2,Pt-Ot/2)});else if(lt[0]==="l")_t=Pt-Ot/2;else if(lt[0]==="a"&&lt.indexOf("atitle")!==0)bt=0,_t=Pt;else{var Rt=I.attr("text-anchor");bt=bt-kt*(Rt==="middle"?.5:Rt==="end"?1:0),_t=_t+Pt-Ot/2}Q.attr({x:bt,y:_t}),V&&V.call(I,G),q(G)})})):ot(),I};var v=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function e(I){return I.replace(v,"\\lt ").replace(r,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function n(I,j,V){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){E.warn("No MathJax version:",MathJax.version);return}var K,et,lt,ot,q=function(){return et=E.extendDeepAll({},MathJax.Hub.config),lt=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},J=function(){et=E.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},it=function(){if(K=MathJax.Hub.config.menuSettings.renderer,K!=="SVG")return MathJax.Hub.setRenderer("SVG")},Z=function(){K=MathJax.config.startup.output,K!=="svg"&&(MathJax.config.startup.output="svg")},tt=function(){var dt="math-output-"+E.randstr({},64);ot=x.select("body").append("div").attr({id:dt}).style({visibility:"hidden",position:"absolute","font-size":j.fontSize+"px"}).text(e(I));var gt=ot.node();return W===2?MathJax.Hub.Typeset(gt):MathJax.typeset([gt])},st=function(){var dt=ot.select(W===2?".MathJax_SVG":".MathJax"),gt=!dt.empty()&&ot.select("svg").node();if(!gt)E.log("There was an error in the tex syntax.",I),V();else{var wt=gt.getBoundingClientRect(),kt;W===2?kt=x.select("body").select("#MathJax_SVG_glyphs"):kt=dt.select("defs"),V(dt,kt,wt)}ot.remove()},Q=function(){if(K!=="SVG")return MathJax.Hub.setRenderer(K)},G=function(){K!=="svg"&&(MathJax.config.startup.output=K)},ut=function(){return lt!==void 0&&(MathJax.Hub.processSectionDelay=lt),MathJax.Hub.Config(et)},at=function(){MathJax.config=et};W===2?MathJax.Hub.Queue(q,it,tt,st,Q,ut):W===3&&(J(),Z(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){tt(),st(),G(),at()}))}var l={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},o={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},b="​",f=["http:","https:","mailto:","",void 0,":"],k=B.NEWLINES=/(\r\n?|\n)/g,a=/(<[^<>]*>)/,c=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var w=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,S=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,_=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,T=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(I,j){if(!I)return null;var V=I.match(j),W=V&&(V[3]||V[4]);return W&&A(W)}var u=/(^|;)\s*color:/;B.plainText=function(I,j){j=j||{};for(var V=j.len!==void 0&&j.len!==-1?j.len:1/0,W=j.allowedTags!==void 0?j.allowedTags:["br"],K="...",et=K.length,lt=I.split(a),ot=[],q="",J=0,it=0;it<lt.length;it++){var Z=lt[it],tt=Z.match(c),st=tt&&tt[2].toLowerCase();if(st)W.indexOf(st)!==-1&&(ot.push(Z),q=st);else{var Q=Z.length;if(J+Q<V)ot.push(Z),J+=Q;else if(J<V){var G=V-J;q&&(q!=="br"||G<=et||Q<=et)&&ot.pop(),V>et?ot.push(Z.substr(0,G-et)+K):ot.push(Z.substr(0,G));break}q=""}}return ot.join("")};var g={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},L=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function A(I){return I.replace(L,function(j,V){var W;return V.charAt(0)==="#"?W=R(V.charAt(1)==="x"?parseInt(V.substr(2),16):parseInt(V.substr(1),10)):W=g[V],W||j})}B.convertEntities=A;function R(I){if(!(I>1114111)){var j=String.fromCodePoint;if(j)return j(I);var V=String.fromCharCode;return I<=65535?V(I):V((I>>10)+55232,I%1024+56320)}}function O(I,j){j=j.replace(k," ");var V=!1,W=[],K,et=-1;function lt(){et++;var Ot=document.createElementNS(M.svg,"tspan");x.select(Ot).attr({class:"line",dy:et*m+"em"}),I.appendChild(Ot),K=Ot;var bt=W;if(W=[{node:Ot}],bt.length>1)for(var _t=1;_t<bt.length;_t++)ot(bt[_t])}function ot(Ot){var bt=Ot.type,_t={},mt;if(bt==="a"){mt="a";var Pt=Ot.target,Rt=Ot.href,Ht=Ot.popup;Rt&&(_t={"xlink:xlink:show":Pt==="_blank"||Pt.charAt(0)!=="_"?"new":"replace",target:Pt,"xlink:xlink:href":Rt},Ht&&(_t.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ht+'");return false;'))}else mt="tspan";Ot.style&&(_t.style=Ot.style);var Dt=document.createElementNS(M.svg,mt);if(bt==="sup"||bt==="sub"){q(K,b),K.appendChild(Dt);var Xt=document.createElementNS(M.svg,"tspan");q(Xt,b),x.select(Xt).attr("dy",h[bt]),_t.dy=o[bt],K.appendChild(Dt),K.appendChild(Xt)}else K.appendChild(Dt);x.select(Dt).attr(_t),K=Ot.node=Dt,W.push(Ot)}function q(Ot,bt){Ot.appendChild(document.createTextNode(bt))}function J(Ot){if(W.length===1){E.log("Ignoring unexpected end tag </"+Ot+">.",j);return}var bt=W.pop();Ot!==bt.type&&E.log("Start tag <"+bt.type+"> doesnt match end tag <"+Ot+">. Pretending it did match.",j),K=W[W.length-1].node}var it=p.test(j);it?lt():(K=I,W=[{node:I}]);for(var Z=j.split(a),tt=0;tt<Z.length;tt++){var st=Z[tt],Q=st.match(c),G=Q&&Q[2].toLowerCase(),ut=l[G];if(G==="br")lt();else if(ut===void 0)q(K,A(st));else if(Q[1])J(G);else{var at=Q[4],dt={type:G},gt=P(at,w);if(gt?(gt=gt.replace(u,"$1 fill:"),ut&&(gt+=";"+ut)):ut&&(gt=ut),gt&&(dt.style=gt),G==="a"){V=!0;var wt=P(at,S);if(wt){var kt=N(wt);kt&&(dt.href=kt,dt.target=P(at,_)||"_blank",dt.popup=P(at,T))}}ot(dt)}}return V}function N(I){var j=encodeURI(decodeURI(I)),V=document.createElement("a"),W=document.createElement("a");V.href=I,W.href=j;var K=V.protocol,et=W.protocol;return f.indexOf(K)!==-1&&f.indexOf(et)!==-1?j:""}B.sanitizeHTML=function(I){I=I.replace(k," ");for(var j=document.createElement("p"),V=j,W=[],K=I.split(a),et=0;et<K.length;et++){var lt=K[et],ot=lt.match(c),q=ot&&ot[2].toLowerCase();if(q in l)if(ot[1])W.length&&(V=W.pop());else{var J=ot[4],it=P(J,w),Z=it?{style:it}:{};if(q==="a"){var tt=P(J,S);if(tt){var st=N(tt);if(st){Z.href=st;var Q=P(J,_);Q&&(Z.target=Q)}}}var G=document.createElement(q);V.appendChild(G),x.select(G).attr(Z),V=G,W.push(G)}else V.appendChild(document.createTextNode(A(lt)))}var ut="innerHTML";return j[ut]},B.lineCount=function(I){return I.selectAll("tspan.line").size()||1},B.positionText=function(I,j,V){return I.each(function(){var W=x.select(this);function K(ot,q){return q===void 0?(q=W.attr(ot),q===null&&(W.attr(ot,0),q=0)):W.attr(ot,q),q}var et=K("x",j),lt=K("y",V);this.nodeName==="text"&&W.selectAll("tspan.line").attr({x:et,y:lt})})};function z(I,j,V){var W=V.horizontalAlign,K=V.verticalAlign||"top",et=I.node().getBoundingClientRect(),lt=j.node().getBoundingClientRect(),ot,q,J;return K==="bottom"?q=function(){return et.bottom-ot.height}:K==="middle"?q=function(){return et.top+(et.height-ot.height)/2}:q=function(){return et.top},W==="right"?J=function(){return et.right-ot.width}:W==="center"?J=function(){return et.left+(et.width-ot.width)/2}:J=function(){return et.left},function(){ot=this.node().getBoundingClientRect();var it=J()-lt.left,Z=q()-lt.top,tt=V.gd||{};if(V.gd){tt._fullLayout._calcInverseTransform(tt);var st=E.apply3DTransform(tt._fullLayout._invTransform)(it,Z);it=st[0],Z=st[1]}return this.style({top:Z+"px",left:it+"px","z-index":1e3}),this}}var F="1px ";B.makeTextShadow=function(I){var j=F,V=F,W=F;return j+V+W+I+", -"+j+"-"+V+W+I+", "+j+"-"+V+W+I+", -"+j+V+W+I},B.makeEditable=function(I,j){var V=j.gd,W=j.delegate,K=x.dispatch("edit","input","cancel"),et=W||I;if(I.style({"pointer-events":W?"none":"all"}),I.size()!==1)throw new Error("boo");function lt(){q(),I.style({opacity:0});var J=et.attr("class"),it;J?it="."+J.split(" ")[0]+"-math-group":it="[class*=-math-group]",it&&x.select(I.node().parentNode).select(it).style({opacity:0})}function ot(J){var it=J.node(),Z=document.createRange();Z.selectNodeContents(it);var tt=window.getSelection();tt.removeAllRanges(),tt.addRange(Z),it.focus()}function q(){var J=x.select(V),it=J.select(".svg-container"),Z=it.append("div"),tt=I.node().style,st=parseFloat(tt.fontSize||12),Q=j.text;Q===void 0&&(Q=I.attr("data-unformatted")),Z.classed("plugin-editable editable",!0).style({position:"absolute","font-family":tt.fontFamily||"Arial","font-size":st,color:j.fill||tt.fill||"black",opacity:1,"background-color":j.background||"transparent",outline:"#ffffff33 1px solid",margin:[-st/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(z(I,it,j)).on("blur",function(){V._editing=!1,I.text(this.textContent).style({opacity:1});var G=x.select(this).attr("class"),ut;G?ut="."+G.split(" ")[0]+"-math-group":ut="[class*=-math-group]",ut&&x.select(I.node().parentNode).select(ut).style({opacity:0});var at=this.textContent;x.select(this).transition().duration(0).remove(),x.select(document).on("mouseup",null),K.edit.call(I,at)}).on("focus",function(){var G=this;V._editing=!0,x.select(document).on("mouseup",function(){if(x.event.target===G)return!1;document.activeElement===Z.node()&&Z.node().blur()})}).on("keyup",function(){x.event.which===27?(V._editing=!1,I.style({opacity:1}),x.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),K.cancel.call(I,this.textContent)):(K.input.call(I,this.textContent),x.select(this).call(z(I,it,j)))}).on("keydown",function(){x.event.which===13&&this.blur()}).call(ot)}return j.immediate?lt():et.on("click",lt),x.rebind(I,K,"on")}},91200:function(X,B){var t={};B.throttle=function(E,i,M){var m=t[E],d=Date.now();if(!m){for(var v in t)t[v].ts<d-6e4&&delete t[v];m=t[E]={ts:0,timer:null}}x(m);function r(){M(),m.ts=Date.now(),m.onDone&&(m.onDone(),m.onDone=null)}if(d>m.ts+i){r();return}m.timer=setTimeout(function(){r(),m.timer=null},i)},B.done=function(E){var i=t[E];return!i||!i.timer?Promise.resolve():new Promise(function(M){var m=i.onDone;i.onDone=function(){m&&m(),M(),i.onDone=null}})},B.clear=function(E){if(E)x(t[E]),delete t[E];else for(var i in t)B.clear(i)};function x(E){E&&E.timer!==null&&(clearTimeout(E.timer),E.timer=null)}},36896:function(X,B,t){var x=t(38248);X.exports=function(E,i){if(E>0)return Math.log(E)/Math.LN10;var M=Math.log(Math.min(i[0],i[1]))/Math.LN10;return x(M)||(M=Math.log(Math.max(i[0],i[1]))/Math.LN10-6),M}},59972:function(X,B,t){var x=X.exports={},E=t(79552).locationmodeToLayer,i=t(55712).NO;x.getTopojsonName=function(M){return[M.scope.replace(/ /g,"-"),"_",M.resolution.toString(),"m"].join("")},x.getTopojsonPath=function(M,m){return M+m+".json"},x.getTopojsonFeatures=function(M,m){var d=E[M.locationmode],v=m.objects[d];return i(m,v).features}},11680:function(X){X.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(X){X.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(X,B,t){var x=t(24040);X.exports=function(E){for(var i=x.layoutArrayContainers,M=x.layoutArrayRegexes,m=E.split("[")[0],d,v,r=0;r<M.length;r++)if(v=E.match(M[r]),v&&v.index===0){d=v[0];break}if(d||(d=i[i.indexOf(m)]),!d)return!1;var e=E.substr(d.length);return e?(v=e.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),v?{array:d,index:Number(v[1]),property:v[3]||""}:!1):{array:d,index:"",property:""}}},67824:function(X,B,t){var x=t(92880).extendFlat,E=t(63620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},M={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},m=i.flags.slice().concat(["fullReplot"]),d=M.flags.slice().concat("layoutReplot");X.exports={traces:i,layout:M,traceFlags:function(){return v(m)},layoutFlags:function(){return v(d)},update:function(s,n){var l=n.editType;if(l&&l!=="none")for(var o=l.split("+"),h=0;h<o.length;h++)s[o[h]]=!0},overrideAll:r};function v(s){for(var n={},l=0;l<s.length;l++)n[s[l]]=!1;return n}function r(s,n,l){var o=x({},s);for(var h in o){var b=o[h];E(b)&&(o[h]=e(b,n,l,h))}return l==="from-root"&&(o.editType=n),o}function e(s,n,l,o){if(s.valType){var h=x({},s);if(h.editType=n,Array.isArray(s.items)){h.items=new Array(s.items.length);for(var b=0;b<s.items.length;b++)h.items[b]=e(s.items[b],n)}return h}else return r(s,n,o.charAt(0)==="_"?"nested":"from-root")}},93404:function(X,B,t){var x=t(38248),E=t(61784),i=t(24040),M=t(3400),m=t(7316),d=t(79811),v=t(76308),r=d.cleanId,e=d.getFromTrace,s=i.traceIs;B.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&M.log("Clearing previous rejected promises from queue."),p._promises=[]},B.cleanLayout=function(p){var w,S;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var _=(m.subplotsRegistry.cartesian||{}).attrRegex,T=(m.subplotsRegistry.polar||{}).attrRegex,P=(m.subplotsRegistry.ternary||{}).attrRegex,u=(m.subplotsRegistry.gl3d||{}).attrRegex,g=Object.keys(p);for(w=0;w<g.length;w++){var L=g[w];if(_&&_.test(L)){var A=p[L];A.anchor&&A.anchor!=="free"&&(A.anchor=r(A.anchor)),A.overlaying&&(A.overlaying=r(A.overlaying)),A.type||(A.isdate?A.type="date":A.islog?A.type="log":A.isdate===!1&&A.islog===!1&&(A.type="linear")),(A.autorange==="withzero"||A.autorange==="tozero")&&(A.autorange=!0,A.rangemode="tozero"),A.insiderange&&delete A.range,delete A.islog,delete A.isdate,delete A.categories,f(A,"domain")&&delete A.domain,A.autotick!==void 0&&(A.tickmode===void 0&&(A.tickmode=A.autotick?"auto":"linear"),delete A.autotick),l(A)}else if(T&&T.test(L)){var R=p[L];l(R.radialaxis)}else if(P&&P.test(L)){var O=p[L];l(O.aaxis),l(O.baxis),l(O.caxis)}else if(u&&u.test(L)){var N=p[L],z=N.cameraposition;if(Array.isArray(z)&&z[0].length===4){var F=z[0],I=z[1],j=z[2],V=E([],F),W=[];for(S=0;S<3;++S)W[S]=I[S]+j*V[2+4*S];N.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:I[0],y:I[1],z:I[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}l(N.xaxis),l(N.yaxis),l(N.zaxis)}}var K=Array.isArray(p.annotations)?p.annotations.length:0;for(w=0;w<K;w++){var et=p.annotations[w];M.isPlainObject(et)&&(et.ref&&(et.ref==="paper"?(et.xref="paper",et.yref="paper"):et.ref==="data"&&(et.xref="x",et.yref="y"),delete et.ref),n(et,"xref"),n(et,"yref"))}var lt=Array.isArray(p.shapes)?p.shapes.length:0;for(w=0;w<lt;w++){var ot=p.shapes[w];M.isPlainObject(ot)&&(n(ot,"xref"),n(ot,"yref"))}var q=Array.isArray(p.images)?p.images.length:0;for(w=0;w<q;w++){var J=p.images[w];M.isPlainObject(J)&&(n(J,"xref"),n(J,"yref"))}var it=p.legend;return it&&(it.x>3?(it.x=1.02,it.xanchor="left"):it.x<-2&&(it.x=-.02,it.xanchor="right"),it.y>3?(it.y=1.02,it.yanchor="bottom"):it.y<-2&&(it.y=-.02,it.yanchor="top")),l(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),v.clean(p),p.template&&p.template.layout&&B.cleanLayout(p.template.layout),p};function n(p,w){var S=p[w],_=w.charAt(0);S&&S!=="paper"&&(p[w]=r(S,_,!0))}function l(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),w("titlefont","font"),w("titleposition","position"),w("titleside","side"),w("titleoffset","offset"));function w(S,_){var T=p[S],P=p.title&&p.title[_];T&&!P&&(p.title||(p.title={}),p.title[_]=p[S],delete p[S])}}B.cleanData=function(p){for(var w=0;w<p.length;w++){var S=p[w],_;if(S.type==="histogramy"&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var T=v.defaults,P=S.error_y.color||(s(S,"bar")?v.defaultLine:T[w%T.length]);S.error_y.color=v.addOpacity(v.rgb(P),v.opacity(P)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&(S.bardir==="h"&&(s(S,"bar")||S.type.substr(0,9)==="histogram")&&(S.orientation="h",B.swapXYData(S)),delete S.bardir),S.type==="histogramy"&&B.swapXYData(S),(S.type==="histogramx"||S.type==="histogramy")&&(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=r(S.xaxis,"x")),S.yaxis&&(S.yaxis=r(S.yaxis,"y")),s(S,"gl3d")&&S.scene&&(S.scene=m.subplotsRegistry.gl3d.cleanId(S.scene)),!s(S,"pie-like")&&!s(S,"bar-like"))if(Array.isArray(S.textposition))for(_=0;_<S.textposition.length;_++)S.textposition[_]=b(S.textposition[_]);else S.textposition&&(S.textposition=b(S.textposition));var u=i.getModule(S);if(u&&u.colorbar){var g=u.colorbar.container,L=g?S[g]:S;L&&L.colorscale&&(L.colorscale==="YIGnBu"&&(L.colorscale="YlGnBu"),L.colorscale==="YIOrRd"&&(L.colorscale="YlOrRd"))}if(S.type==="surface"&&M.isPlainObject(S.contours)){var A=["x","y","z"];for(_=0;_<A.length;_++){var R=S.contours[A[_]];M.isPlainObject(R)&&(R.highlightColor&&(R.highlightcolor=R.highlightColor,delete R.highlightColor),R.highlightWidth&&(R.highlightwidth=R.highlightWidth,delete R.highlightWidth))}}if(S.type==="candlestick"||S.type==="ohlc"){var O=(S.increasing||{}).showlegend!==!1,N=(S.decreasing||{}).showlegend!==!1,z=o(S.increasing),F=o(S.decreasing);if(z!==!1&&F!==!1){var I=h(z,F,O,N);I&&(S.name=I)}else(z||F)&&!S.name&&(S.name=z||F)}if(Array.isArray(S.transforms)){var j=S.transforms;for(_=0;_<j.length;_++){var V=j[_];if(M.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var W=V.styles,K=Object.keys(W);V.styles=[];for(var et=0;et<K.length;et++)V.styles.push({target:K[et],value:W[K[et]]})}break}}}f(S,"line")&&delete S.line,"marker"in S&&(f(S.marker,"line")&&delete S.marker.line,f(S,"marker")&&delete S.marker),v.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),l(S),S.colorbar&&l(S.colorbar),S.marker&&S.marker.colorbar&&l(S.marker.colorbar),S.line&&S.line.colorbar&&l(S.line.colorbar),S.aaxis&&l(S.aaxis),S.baxis&&l(S.baxis)}};function o(p){if(!M.isPlainObject(p))return!1;var w=p.name;return delete p.name,delete p.showlegend,(typeof w=="string"||typeof w=="number")&&String(w)}function h(p,w,S,_){if(S&&!_)return p;if(_&&!S||!p.trim())return w;if(!w.trim())return p;var T=Math.min(p.length,w.length),P;for(P=0;P<T&&p.charAt(P)===w.charAt(P);P++);var u=p.substr(0,P);return u.trim()}function b(p){var w="middle",S="center";return typeof p=="string"&&(p.indexOf("top")!==-1?w="top":p.indexOf("bottom")!==-1&&(w="bottom"),p.indexOf("left")!==-1?S="left":p.indexOf("right")!==-1&&(S="right")),w+" "+S}function f(p,w){return w in p&&typeof p[w]=="object"&&Object.keys(p[w]).length===0}B.swapXYData=function(p){var w;if(M.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var S=p.error_y,_="copy_ystyle"in S?S.copy_ystyle:!(S.color||S.thickness||S.width);M.swapAttrs(p,["error_?.copy_ystyle"]),_&&M.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var T=p.hoverinfo.split("+");for(w=0;w<T.length;w++)T[w]==="x"?T[w]="y":T[w]==="y"&&(T[w]="x");p.hoverinfo=T.join("+")}},B.coerceTraceIndices=function(p,w){if(x(w))return[w];if(!Array.isArray(w)||!w.length)return p.data.map(function(T,P){return P});if(Array.isArray(w)){for(var S=[],_=0;_<w.length;_++)M.isIndex(w[_],p.data.length)?S.push(w[_]):M.warn("trace index (",w[_],") is not a number or is out of bounds");return S}return w},B.manageArrayContainers=function(p,w,S){var _=p.obj,T=p.parts,P=T.length,u=T[P-1],g=x(u);if(g&&w===null){var L=T.slice(0,P-1).join("."),A=M.nestedProperty(_,L).get();A.splice(u,1)}else g&&p.get()===void 0&&p.get()===void 0&&(S[p.astr]=null),p.set(w)};var k=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function a(p){var w=p.search(k);if(w>0)return p.substr(0,w)}B.hasParent=function(p,w){for(var S=a(w);S;){if(S in p)return!0;S=a(S)}return!1};var c=["x","y","z"];B.clearAxisTypes=function(p,w,S){for(var _=0;_<w.length;_++)for(var T=p._fullData[_],P=0;P<3;P++){var u=e(p,T,c[P]);if(u&&u.type!=="log"){var g=u._name,L=u._id.substr(1);if(L.substr(0,5)==="scene"){if(S[L]!==void 0)continue;g=L+"."+g}var A=g+".type";S[g]===void 0&&S[A]===void 0&&M.nestedProperty(p.layout,A).set(null)}}}},22448:function(X,B,t){var x=t(36424);B._doPlot=x._doPlot,B.newPlot=x.newPlot,B.restyle=x.restyle,B.relayout=x.relayout,B.redraw=x.redraw,B.update=x.update,B._guiRestyle=x._guiRestyle,B._guiRelayout=x._guiRelayout,B._guiUpdate=x._guiUpdate,B._storeDirectGUIEdit=x._storeDirectGUIEdit,B.react=x.react,B.extendTraces=x.extendTraces,B.prependTraces=x.prependTraces,B.addTraces=x.addTraces,B.deleteTraces=x.deleteTraces,B.moveTraces=x.moveTraces,B.purge=x.purge,B.addFrames=x.addFrames,B.deleteFrames=x.deleteFrames,B.animate=x.animate,B.setPlotConfig=x.setPlotConfig;var E=t(52200).getGraphDiv,i=t(4016).eraseActiveShape;B.deleteActiveShape=function(m){return i(E(m))},B.toImage=t(67024),B.validate=t(21480),B.downloadImage=t(39792);var M=t(94828);B.makeTemplate=M.makeTemplate,B.validateTemplate=M.validateTemplate},17680:function(X,B,t){var x=t(63620),E=t(16628),i=t(24248),M=t(14952).sorterAsc,m=t(24040);B.containerArrayMatch=t(69820);var d=B.isAddVal=function(r){return r==="add"||x(r)},v=B.isRemoveVal=function(r){return r===null||r==="remove"};B.applyContainerArrayChanges=function(r,e,s,n,l){var o=e.astr,h=m.getComponentMethod(o,"supplyLayoutDefaults"),b=m.getComponentMethod(o,"draw"),f=m.getComponentMethod(o,"drawOne"),k=n.replot||n.recalc||h===E||b===E,a=r.layout,c=r._fullLayout;if(s[""]){Object.keys(s).length>1&&i.warn("Full array edits are incompatible with other edits",o);var p=s[""][""];if(v(p))e.set(null);else if(Array.isArray(p))e.set(p);else return i.warn("Unrecognized full array edit value",o,p),!0;return k?!1:(h(a,c),b(r),!0)}var w=Object.keys(s).map(Number).sort(M),S=e.get(),_=S||[],T=l(c,o).get(),P=[],u=-1,g=_.length,L,A,R,O,N,z,F,I;for(L=0;L<w.length;L++){if(R=w[L],O=s[R],N=Object.keys(O),z=O[""],F=d(z),R<0||R>_.length-(F?0:1)){i.warn("index out of range",o,R);continue}if(z!==void 0)N.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",o,R),v(z)?P.push(R):F?(z==="add"&&(z={}),_.splice(R,0,z),T&&T.splice(R,0,{})):i.warn("Unrecognized full object edit value",o,R,z),u===-1&&(u=R);else for(A=0;A<N.length;A++)I=o+"["+R+"].",l(_[R],N[A],I).set(O[N[A]])}for(L=P.length-1;L>=0;L--)_.splice(P[L],1),T&&T.splice(P[L],1);if(_.length?S||e.set(_):e.set(null),k)return!1;if(h(a,c),f!==E){var j;if(u===-1)j=w;else{for(g=Math.max(_.length,g),j=[],L=0;L<w.length&&(R=w[L],!(R>=u));L++)j.push(R);for(L=u;L<g;L++)j.push(L)}for(L=0;L<j.length;L++)f(r,j[L])}else b(r);return!0}},36424:function(X,B,t){var x=t(33428),E=t(38248),i=t(52264),M=t(3400),m=M.nestedProperty,d=t(95924),v=t(94552),r=t(24040),e=t(73060),s=t(7316),n=t(54460),l=t(96312),o=t(94724),h=t(43616),b=t(76308),f=t(42464).initInteractions,k=t(9616),a=t(22676).clearOutline,c=t(20556).dfltConfig,p=t(17680),w=t(93404),S=t(39172),_=t(67824),T=t(33816).AX_NAME_PATTERN,P=0,u=5;function g(At,Ft,Wt,Qt){var he;if(At=M.getGraphDiv(At),d.init(At),M.isPlainObject(Ft)){var ve=Ft;Ft=ve.data,Wt=ve.layout,Qt=ve.config,he=ve.frames}var Je=d.triggerHandler(At,"plotly_beforeplot",[Ft,Wt,Qt]);if(Je===!1)return Promise.reject();!Ft&&!Wt&&!M.isPlotDiv(At)&&M.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",At);function Ue(){if(he)return B.addFrames(At,he)}N(At,Qt),Wt||(Wt={}),x.select(At).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(At._promises)||(At._promises=[]);var ke=(At.data||[]).length===0&&Array.isArray(Ft);Array.isArray(Ft)&&(w.cleanData(Ft),ke?At.data=Ft:At.data.push.apply(At.data,Ft),At.empty=!1),(!At.layout||ke)&&(At.layout=w.cleanLayout(Wt)),s.supplyDefaults(At);var Le=At._fullLayout,Ge=Le._has("cartesian");Le._replotting=!0,(ke||Le._shouldCreateBgLayer)&&(Ct(At),Le._shouldCreateBgLayer&&delete Le._shouldCreateBgLayer),h.initGradients(At),h.initPatterns(At),ke&&n.saveShowSpikeInitial(At);var mr=!At.calcdata||At.calcdata.length!==(At._fullData||[]).length;mr&&s.doCalcdata(At);for(var xe=0;xe<At.calcdata.length;xe++)At.calcdata[xe][0].trace=At._fullData[xe];At._context.responsive?At._responsiveChartHandler||(At._responsiveChartHandler=function(){M.isHidden(At)||s.resize(At)},window.addEventListener("resize",At._responsiveChartHandler)):M.clearResponsive(At);var Xe=M.extendFlat({},Le._size),Ye=0;function _r(){for(var Fe=Le._basePlotModules,Re=0;Re<Fe.length;Re++)Fe[Re].drawFramework&&Fe[Re].drawFramework(At);!Le._glcanvas&&Le._has("gl")&&(Le._glcanvas=Le._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(hr){return hr.key}),Le._glcanvas.enter().append("canvas").attr("class",function(hr){return"gl-canvas gl-canvas-"+hr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ke=At._context.plotGlPixelRatio;if(Le._glcanvas){Le._glcanvas.attr("width",Le.width*Ke).attr("height",Le.height*Ke).style("width",Le.width+"px").style("height",Le.height+"px");var or=Le._glcanvas.data()[0].regl;if(or&&(Math.floor(Le.width*Ke)!==or._gl.drawingBufferWidth||Math.floor(Le.height*Ke)!==or._gl.drawingBufferHeight)){var pr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Ye)M.error(pr);else return M.log(pr+" Clearing graph and plotting again."),s.cleanPlot([],{},At._fullData,Le),s.supplyDefaults(At),Le=At._fullLayout,s.doCalcdata(At),Ye++,_r()}}return Le.modebar.orientation==="h"?Le._modebardiv.style("height",null).style("width","100%"):Le._modebardiv.style("width",null).style("height",Le.height+"px"),s.previousPromises(At)}function rr(){if(s.clearAutoMarginIds(At),S.drawMarginPushers(At),n.allowAutoMargin(At),At._fullLayout.title.text&&At._fullLayout.title.automargin&&s.allowAutoMargin(At,"title.automargin"),Le._has("pie"))for(var Fe=At._fullData,Re=0;Re<Fe.length;Re++){var Ke=Fe[Re];Ke.type==="pie"&&Ke.automargin&&s.allowAutoMargin(At,"pie."+Ke.uid+".automargin")}return s.doAutoMargin(At),s.previousPromises(At)}function re(){if(s.didMarginChange(Xe,Le._size))return M.syncOrAsync([rr,S.layoutStyles],At)}function le(){if(!mr){me();return}return M.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),me],At)}function me(){At._transitioning||(S.doAutoRangeAndConstraints(At),ke&&n.saveRangeInitial(At),r.getComponentMethod("rangeslider","calcAutorange")(At))}function Ee(){return n.draw(At,ke?"":"redraw")}var ze=[s.previousPromises,Ue,_r,rr,re];Ge&&ze.push(le),ze.push(S.layoutStyles),Ge&&ze.push(Ee,function(Fe){var Re=Fe._fullLayout._insideTickLabelsUpdaterange;if(Re)return Fe._fullLayout._insideTickLabelsUpdaterange=void 0,wt(Fe,Re).then(function(){n.saveRangeInitial(Fe,!0)})}),ze.push(S.drawData,S.finalDraw,f,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var Oe=M.syncOrAsync(ze,At);return(!Oe||!Oe.then)&&(Oe=Promise.resolve()),Oe.then(function(){return L(At),At})}function L(At){var Ft=At._fullLayout;Ft._redrawFromAutoMarginCount?Ft._redrawFromAutoMarginCount--:At.emit("plotly_afterplot")}function A(At){return M.extendFlat(c,At)}function R(At,Ft){try{At._fullLayout._paper.style("background",Ft)}catch(Wt){M.error(Wt)}}function O(At,Ft){var Wt=b.combine(Ft,"white");R(At,Wt)}function N(At,Ft){if(!At._context){At._context=M.extendDeep({},c);var Wt=x.select("base");At._context._baseUrl=Wt.size()&&Wt.attr("href")?window.location.href.split("#")[0]:""}var Qt=At._context,he,ve,Je;if(Ft){for(ve=Object.keys(Ft),he=0;he<ve.length;he++)Je=ve[he],!(Je==="editable"||Je==="edits")&&Je in Qt&&(Je==="setBackground"&&Ft[Je]==="opaque"?Qt[Je]=O:Qt[Je]=Ft[Je]);Ft.plot3dPixelRatio&&!Qt.plotGlPixelRatio&&(Qt.plotGlPixelRatio=Qt.plot3dPixelRatio);var Ue=Ft.editable;if(Ue!==void 0)for(Qt.editable=Ue,ve=Object.keys(Qt.edits),he=0;he<ve.length;he++)Qt.edits[ve[he]]=Ue;if(Ft.edits)for(ve=Object.keys(Ft.edits),he=0;he<ve.length;he++)Je=ve[he],Je in Qt.edits&&(Qt.edits[Je]=Ft.edits[Je]);Qt._exportedPlot=Ft._exportedPlot}Qt.staticPlot&&(Qt.editable=!1,Qt.edits={},Qt.autosizable=!1,Qt.scrollZoom=!1,Qt.doubleClick=!1,Qt.showTips=!1,Qt.showLink=!1,Qt.displayModeBar=!1),Qt.displayModeBar==="hover"&&!i&&(Qt.displayModeBar=!0),(Qt.setBackground==="transparent"||typeof Qt.setBackground!="function")&&(Qt.setBackground=R),Qt._hasZeroHeight=Qt._hasZeroHeight||At.clientHeight===0,Qt._hasZeroWidth=Qt._hasZeroWidth||At.clientWidth===0;var ke=Qt.scrollZoom,Le=Qt._scrollZoom={};if(ke===!0)Le.cartesian=1,Le.gl3d=1,Le.geo=1,Le.mapbox=1;else if(typeof ke=="string"){var Ge=ke.split("+");for(he=0;he<Ge.length;he++)Le[Ge[he]]=1}else ke!==!1&&(Le.gl3d=1,Le.geo=1,Le.mapbox=1)}function z(At){if(At=M.getGraphDiv(At),!M.isPlotDiv(At))throw new Error("This element is not a Plotly plot: "+At);return w.cleanData(At.data),w.cleanLayout(At.layout),At.calcdata=void 0,B._doPlot(At).then(function(){return At.emit("plotly_redraw"),At})}function F(At,Ft,Wt,Qt){return At=M.getGraphDiv(At),s.cleanPlot([],{},At._fullData||[],At._fullLayout||{}),s.purge(At),B._doPlot(At,Ft,Wt,Qt)}function I(At,Ft){var Wt=Ft+1,Qt=[],he,ve;for(he=0;he<At.length;he++)ve=At[he],ve<0?Qt.push(Wt+ve):Qt.push(ve);return Qt}function j(At,Ft,Wt){var Qt,he;for(Qt=0;Qt<Ft.length;Qt++){if(he=Ft[Qt],he!==parseInt(he,10))throw new Error("all values in "+Wt+" must be integers");if(he>=At.data.length||he<-At.data.length)throw new Error(Wt+" must be valid indices for gd.data.");if(Ft.indexOf(he,Qt+1)>-1||he>=0&&Ft.indexOf(-At.data.length+he)>-1||he<0&&Ft.indexOf(At.data.length+he)>-1)throw new Error("each index in "+Wt+" must be unique.")}}function V(At,Ft,Wt){if(!Array.isArray(At.data))throw new Error("gd.data must be an array.");if(typeof Ft>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ft)||(Ft=[Ft]),j(At,Ft,"currentIndices"),typeof Wt<"u"&&!Array.isArray(Wt)&&(Wt=[Wt]),typeof Wt<"u"&&j(At,Wt,"newIndices"),typeof Wt<"u"&&Ft.length!==Wt.length)throw new Error("current and new indices must be of equal length.")}function W(At,Ft,Wt){var Qt,he;if(!Array.isArray(At.data))throw new Error("gd.data must be an array.");if(typeof Ft>"u")throw new Error("traces must be defined.");for(Array.isArray(Ft)||(Ft=[Ft]),Qt=0;Qt<Ft.length;Qt++)if(he=Ft[Qt],typeof he!="object"||Array.isArray(he)||he===null)throw new Error("all values in traces array must be non-array objects");if(typeof Wt<"u"&&!Array.isArray(Wt)&&(Wt=[Wt]),typeof Wt<"u"&&Wt.length!==Ft.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function K(At,Ft,Wt,Qt){var he=M.isPlainObject(Qt);if(!Array.isArray(At.data))throw new Error("gd.data must be an array");if(!M.isPlainObject(Ft))throw new Error("update must be a key:value object");if(typeof Wt>"u")throw new Error("indices must be an integer or array of integers");j(At,Wt,"indices");for(var ve in Ft){if(!Array.isArray(Ft[ve])||Ft[ve].length!==Wt.length)throw new Error("attribute "+ve+" must be an array of length equal to indices array length");if(he&&(!(ve in Qt)||!Array.isArray(Qt[ve])||Qt[ve].length!==Ft[ve].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function et(At,Ft,Wt,Qt){var he=M.isPlainObject(Qt),ve=[],Je,Ue,ke,Le,Ge;Array.isArray(Wt)||(Wt=[Wt]),Wt=I(Wt,At.data.length-1);for(var mr in Ft)for(var xe=0;xe<Wt.length;xe++){if(Je=At.data[Wt[xe]],ke=m(Je,mr),Ue=ke.get(),Le=Ft[mr][xe],!M.isArrayOrTypedArray(Le))throw new Error("attribute: "+mr+" index: "+xe+" must be an array");if(!M.isArrayOrTypedArray(Ue))throw new Error("cannot extend missing or non-array attribute: "+mr);if(Ue.constructor!==Le.constructor)throw new Error("cannot extend array with an array of a different type: "+mr);Ge=he?Qt[mr][xe]:Qt,E(Ge)||(Ge=-1),ve.push({prop:ke,target:Ue,insert:Le,maxp:Math.floor(Ge)})}return ve}function lt(At,Ft,Wt,Qt,he){K(At,Ft,Wt,Qt);for(var ve=et(At,Ft,Wt,Qt),Je={},Ue={},ke=0;ke<ve.length;ke++){var Le=ve[ke].prop,Ge=ve[ke].maxp,mr=he(ve[ke].target,ve[ke].insert,Ge);Le.set(mr[0]),Array.isArray(Je[Le.astr])||(Je[Le.astr]=[]),Je[Le.astr].push(mr[1]),Array.isArray(Ue[Le.astr])||(Ue[Le.astr]=[]),Ue[Le.astr].push(ve[ke].target.length)}return{update:Je,maxPoints:Ue}}function ot(At,Ft){var Wt=new At.constructor(At.length+Ft.length);return Wt.set(At),Wt.set(Ft,At.length),Wt}function q(At,Ft,Wt,Qt){At=M.getGraphDiv(At);function he(ke,Le,Ge){var mr,xe;if(M.isTypedArray(ke))if(Ge<0){var Xe=new ke.constructor(0),Ye=ot(ke,Le);Ge<0?(mr=Ye,xe=Xe):(mr=Xe,xe=Ye)}else if(mr=new ke.constructor(Ge),xe=new ke.constructor(ke.length+Le.length-Ge),Ge===Le.length)mr.set(Le),xe.set(ke);else if(Ge<Le.length){var _r=Le.length-Ge;mr.set(Le.subarray(_r)),xe.set(ke),xe.set(Le.subarray(0,_r),ke.length)}else{var rr=Ge-Le.length,re=ke.length-rr;mr.set(ke.subarray(re)),mr.set(Le,rr),xe.set(ke.subarray(0,re))}else mr=ke.concat(Le),xe=Ge>=0&&Ge<mr.length?mr.splice(0,mr.length-Ge):[];return[mr,xe]}var ve=lt(At,Ft,Wt,Qt,he),Je=B.redraw(At),Ue=[At,ve.update,Wt,ve.maxPoints];return v.add(At,B.prependTraces,Ue,q,arguments),Je}function J(At,Ft,Wt,Qt){At=M.getGraphDiv(At);function he(ke,Le,Ge){var mr,xe;if(M.isTypedArray(ke))if(Ge<=0){var Xe=new ke.constructor(0),Ye=ot(Le,ke);Ge<0?(mr=Ye,xe=Xe):(mr=Xe,xe=Ye)}else if(mr=new ke.constructor(Ge),xe=new ke.constructor(ke.length+Le.length-Ge),Ge===Le.length)mr.set(Le),xe.set(ke);else if(Ge<Le.length){var _r=Le.length-Ge;mr.set(Le.subarray(0,_r)),xe.set(Le.subarray(_r)),xe.set(ke,_r)}else{var rr=Ge-Le.length;mr.set(Le),mr.set(ke.subarray(0,rr),Le.length),xe.set(ke.subarray(rr))}else mr=Le.concat(ke),xe=Ge>=0&&Ge<mr.length?mr.splice(Ge,mr.length):[];return[mr,xe]}var ve=lt(At,Ft,Wt,Qt,he),Je=B.redraw(At),Ue=[At,ve.update,Wt,ve.maxPoints];return v.add(At,B.extendTraces,Ue,J,arguments),Je}function it(At,Ft,Wt){At=M.getGraphDiv(At);var Qt=[],he=B.deleteTraces,ve=it,Je=[At,Qt],Ue=[At,Ft],ke,Le;for(W(At,Ft,Wt),Array.isArray(Ft)||(Ft=[Ft]),Ft=Ft.map(function(Ge){return M.extendFlat({},Ge)}),w.cleanData(Ft),ke=0;ke<Ft.length;ke++)At.data.push(Ft[ke]);for(ke=0;ke<Ft.length;ke++)Qt.push(-Ft.length+ke);if(typeof Wt>"u")return Le=B.redraw(At),v.add(At,he,Je,ve,Ue),Le;Array.isArray(Wt)||(Wt=[Wt]);try{V(At,Qt,Wt)}catch(Ge){throw At.data.splice(At.data.length-Ft.length,Ft.length),Ge}return v.startSequence(At),v.add(At,he,Je,ve,Ue),Le=B.moveTraces(At,Qt,Wt),v.stopSequence(At),Le}function Z(At,Ft){At=M.getGraphDiv(At);var Wt=[],Qt=B.addTraces,he=Z,ve=[At,Wt,Ft],Je=[At,Ft],Ue,ke;if(typeof Ft>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ft)||(Ft=[Ft]),j(At,Ft,"indices"),Ft=I(Ft,At.data.length-1),Ft.sort(M.sorterDes),Ue=0;Ue<Ft.length;Ue+=1)ke=At.data.splice(Ft[Ue],1)[0],Wt.push(ke);var Le=B.redraw(At);return v.add(At,Qt,ve,he,Je),Le}function tt(At,Ft,Wt){At=M.getGraphDiv(At);var Qt=[],he=[],ve=tt,Je=tt,Ue=[At,Wt,Ft],ke=[At,Ft,Wt],Le;if(V(At,Ft,Wt),Ft=Array.isArray(Ft)?Ft:[Ft],typeof Wt>"u")for(Wt=[],Le=0;Le<Ft.length;Le++)Wt.push(-Ft.length+Le);for(Wt=Array.isArray(Wt)?Wt:[Wt],Ft=I(Ft,At.data.length-1),Wt=I(Wt,At.data.length-1),Le=0;Le<At.data.length;Le++)Ft.indexOf(Le)===-1&&Qt.push(At.data[Le]);for(Le=0;Le<Ft.length;Le++)he.push({newIndex:Wt[Le],trace:At.data[Ft[Le]]});for(he.sort(function(mr,xe){return mr.newIndex-xe.newIndex}),Le=0;Le<he.length;Le+=1)Qt.splice(he[Le].newIndex,0,he[Le].trace);At.data=Qt;var Ge=B.redraw(At);return v.add(At,ve,Ue,Je,ke),Ge}function st(At,Ft,Wt,Qt){At=M.getGraphDiv(At),w.clearPromiseQueue(At);var he={};if(typeof Ft=="string")he[Ft]=Wt;else if(M.isPlainObject(Ft))he=M.extendFlat({},Ft),Qt===void 0&&(Qt=Wt);else return M.warn("Restyle fail.",Ft,Wt,Qt),Promise.reject();Object.keys(he).length&&(At.changed=!0);var ve=w.coerceTraceIndices(At,Qt),Je=dt(At,he,ve),Ue=Je.flags;Ue.calc&&(At.calcdata=void 0),Ue.clearAxisTypes&&w.clearAxisTypes(At,ve,{});var ke=[];Ue.fullReplot?ke.push(B._doPlot):(ke.push(s.previousPromises),s.supplyDefaults(At),Ue.markerSize&&(s.doCalcdata(At),Ot(ke)),Ue.style&&ke.push(S.doTraceStyle),Ue.colorbars&&ke.push(S.doColorBars),ke.push(L)),ke.push(s.rehover,s.redrag,s.reselect),v.add(At,st,[At,Je.undoit,Je.traces],st,[At,Je.redoit,Je.traces]);var Le=M.syncOrAsync(ke,At);return(!Le||!Le.then)&&(Le=Promise.resolve()),Le.then(function(){return At.emit("plotly_restyle",Je.eventData),At})}function Q(At){return At===void 0?null:At}function G(At,Ft){return Ft?function(Wt,Qt,he){var ve=m(Wt,Qt),Je=ve.set;return ve.set=function(Ue){var ke=(he||"")+Qt;ut(ke,ve.get(),Ue,At),Je(Ue)},ve}:m}function ut(At,Ft,Wt,Qt){if(Array.isArray(Ft)||Array.isArray(Wt))for(var he=Array.isArray(Ft)?Ft:[],ve=Array.isArray(Wt)?Wt:[],Je=Math.max(he.length,ve.length),Ue=0;Ue<Je;Ue++)ut(At+"["+Ue+"]",he[Ue],ve[Ue],Qt);else if(M.isPlainObject(Ft)||M.isPlainObject(Wt)){var ke=M.isPlainObject(Ft)?Ft:{},Le=M.isPlainObject(Wt)?Wt:{},Ge=M.extendFlat({},ke,Le);for(var mr in Ge)ut(At+"."+mr,ke[mr],Le[mr],Qt)}else Qt[At]===void 0&&(Qt[At]=Q(Ft))}function at(At,Ft,Wt){for(var Qt in Wt){var he=m(At,Qt);ut(Qt,he.get(),Wt[Qt],Ft)}}function dt(At,Ft,Wt){var Qt=At._fullLayout,he=At._fullData,ve=At.data,Je=Qt._guiEditing,Ue=G(Qt._preGUI,Je),ke=M.extendDeepAll({},Ft),Le;gt(Ft);var Ge=_.traceFlags(),mr={},xe={},Xe;function Ye(){return Wt.map(function(){})}function _r(Mn){var kr=n.id2name(Mn);Xe.indexOf(kr)===-1&&Xe.push(kr)}function rr(Mn){return"LAYOUT"+Mn+".autorange"}function re(Mn){return"LAYOUT"+Mn+".range"}function le(Mn){for(var kr=Mn;kr<he.length;kr++)if(he[kr]._input===ve[Mn])return he[kr]}function me(Mn,kr,Er){if(Array.isArray(Mn)){Mn.forEach(function(gn){me(gn,kr,Er)});return}if(!(Mn in Ft||w.hasParent(Ft,Mn))){var Vr;if(Mn.substr(0,6)==="LAYOUT")Vr=Ue(At.layout,Mn.replace("LAYOUT",""));else{var qr=Wt[Er],rn=Qt._tracePreGUI[le(qr)._fullInput.uid];Vr=G(rn,Je)(ve[qr],Mn)}Mn in xe||(xe[Mn]=Ye()),xe[Mn][Er]===void 0&&(xe[Mn][Er]=Q(Vr.get())),kr!==void 0&&Vr.set(kr)}}function Ee(Mn){return function(kr){return he[kr][Mn]}}function ze(Mn){return function(kr,Er){return kr===!1?he[Wt[Er]][Mn]:null}}for(var Oe in Ft){if(w.hasParent(Ft,Oe))throw new Error("cannot set "+Oe+" and a parent attribute simultaneously");var Fe=Ft[Oe],Re,Ke,or,pr,hr,jt;if((Oe==="autobinx"||Oe==="autobiny")&&(Oe=Oe.charAt(Oe.length-1)+"bins",Array.isArray(Fe)?Fe=Fe.map(ze(Oe)):Fe===!1?Fe=Wt.map(Ee(Oe)):Fe=null),mr[Oe]=Fe,Oe.substr(0,6)==="LAYOUT"){or=Ue(At.layout,Oe.replace("LAYOUT","")),xe[Oe]=[Q(or.get())],or.set(Array.isArray(Fe)?Fe[0]:Fe),Ge.calc=!0;continue}for(xe[Oe]=Ye(),Le=0;Le<Wt.length;Le++){Re=ve[Wt[Le]],Ke=le(Wt[Le]);var Gt=Qt._tracePreGUI[Ke._fullInput.uid];if(or=G(Gt,Je)(Re,Oe),pr=or.get(),hr=Array.isArray(Fe)?Fe[Le%Fe.length]:Fe,hr!==void 0){var Ce=or.parts[or.parts.length-1],Ie=Oe.substr(0,Oe.length-Ce.length-1),We=Ie?Ie+".":"",$e=Ie?m(Ke,Ie).get():Ke;if(jt=e.getTraceValObject(Ke,or.parts),jt&&jt.impliedEdits&&hr!==null)for(var ir in jt.impliedEdits)me(M.relativeAttr(Oe,ir),jt.impliedEdits[ir],Le);else if((Ce==="thicknessmode"||Ce==="lenmode")&&pr!==hr&&(hr==="fraction"||hr==="pixels")&&$e){var er=Qt._size,De=$e.orient,lr=De==="top"||De==="bottom";if(Ce==="thicknessmode"){var vr=lr?er.h:er.w;me(We+"thickness",$e.thickness*(hr==="fraction"?1/vr:vr),Le)}else{var dr=lr?er.w:er.h;me(We+"len",$e.len*(hr==="fraction"?1/dr:dr),Le)}}else if(Oe==="type"&&(hr==="pie"!=(pr==="pie")||hr==="funnelarea"!=(pr==="funnelarea"))){var fr="x",zr="y";(hr==="bar"||pr==="bar")&&Re.orientation==="h"&&(fr="y",zr="x"),M.swapAttrs(Re,["?","?src"],"labels",fr),M.swapAttrs(Re,["d?","?0"],"label",fr),M.swapAttrs(Re,["?","?src"],"values",zr),pr==="pie"||pr==="funnelarea"?(m(Re,"marker.color").set(m(Re,"marker.colors").get()),Qt._pielayer.selectAll("g.trace").remove()):r.traceIs(Re,"cartesian")&&m(Re,"marker.colors").set(m(Re,"marker.color").get())}xe[Oe][Le]=Q(pr);var Or=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Or.indexOf(Oe)!==-1){if(Oe==="orientation"){or.set(hr);var Ir=Re.x&&!Re.y?"h":"v";if((or.get()||Ir)===Ke.orientation)continue}else Oe==="orientationaxes"&&(Re.orientation={v:"h",h:"v"}[Ke.orientation]);w.swapXYData(Re),Ge.calc=Ge.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(or.parts[0])!==-1?(w.manageArrayContainers(or,hr,xe),Ge.calc=!0):(jt?jt.arrayOk&&!r.traceIs(Ke,"regl")&&(M.isArrayOrTypedArray(hr)||M.isArrayOrTypedArray(pr))?Ge.calc=!0:_.update(Ge,jt):Ge.calc=!0,or.set(hr))}}if(["swapxyaxes","orientationaxes"].indexOf(Oe)!==-1&&n.swap(At,Wt),Oe==="orientationaxes"){var sn=m(At.layout,"hovermode"),nn=sn.get();nn==="x"?sn.set("y"):nn==="y"?sn.set("x"):nn==="x unified"?sn.set("y unified"):nn==="y unified"&&sn.set("x unified")}if(["orientation","type"].indexOf(Oe)!==-1){for(Xe=[],Le=0;Le<Wt.length;Le++){var kn=ve[Wt[Le]];r.traceIs(kn,"cartesian")&&(_r(kn.xaxis||"x"),_r(kn.yaxis||"y"))}me(Xe.map(rr),!0,0),me(Xe.map(re),[0,1],0)}}return(Ge.calc||Ge.plot)&&(Ge.fullReplot=!0),{flags:Ge,undoit:xe,redoit:mr,traces:Wt,eventData:M.extendDeepNoArrays([],[ke,Wt])}}function gt(At){var Ft=M.counterRegex("axis",".title",!1,!1),Wt=/colorbar\.title$/,Qt=Object.keys(At),he,ve,Je;for(he=0;he<Qt.length;he++)ve=Qt[he],Je=At[ve],(ve==="title"||Ft.test(ve)||Wt.test(ve))&&(typeof Je=="string"||typeof Je=="number")?Ue(ve,ve.replace("title","title.text")):ve.indexOf("titlefont")>-1&&ve.indexOf("grouptitlefont")===-1?Ue(ve,ve.replace("titlefont","title.font")):ve.indexOf("titleposition")>-1?Ue(ve,ve.replace("titleposition","title.position")):ve.indexOf("titleside")>-1?Ue(ve,ve.replace("titleside","title.side")):ve.indexOf("titleoffset")>-1&&Ue(ve,ve.replace("titleoffset","title.offset"));function Ue(ke,Le){At[Le]=At[ke],delete At[ke]}}function wt(At,Ft,Wt){At=M.getGraphDiv(At),w.clearPromiseQueue(At);var Qt={};if(typeof Ft=="string")Qt[Ft]=Wt;else if(M.isPlainObject(Ft))Qt=M.extendFlat({},Ft);else return M.warn("Relayout fail.",Ft,Wt),Promise.reject();Object.keys(Qt).length&&(At.changed=!0);var he=Pt(At,Qt),ve=he.flags;ve.calc&&(At.calcdata=void 0);var Je=[s.previousPromises];ve.layoutReplot?Je.push(S.layoutReplot):Object.keys(Qt).length&&(kt(At,ve,he)||s.supplyDefaults(At),ve.legend&&Je.push(S.doLegend),ve.layoutstyle&&Je.push(S.layoutStyles),ve.axrange&&Ot(Je,he.rangesAltered),ve.ticks&&Je.push(S.doTicksRelayout),ve.modebar&&Je.push(S.doModeBar),ve.camera&&Je.push(S.doCamera),ve.colorbars&&Je.push(S.doColorBars),Je.push(L)),Je.push(s.rehover,s.redrag,s.reselect),v.add(At,wt,[At,he.undoit],wt,[At,he.redoit]);var Ue=M.syncOrAsync(Je,At);return(!Ue||!Ue.then)&&(Ue=Promise.resolve(At)),Ue.then(function(){return At.emit("plotly_relayout",he.eventData),At})}function kt(At,Ft,Wt){var Qt=At._fullLayout;if(!Ft.axrange)return!1;for(var he in Ft)if(he!=="axrange"&&Ft[he])return!1;var ve,Je,Ue=function(Xe,Ye){return M.coerce(ve,Je,o,Xe,Ye)},ke={};for(var Le in Wt.rangesAltered){var Ge=n.id2name(Le);if(ve=At.layout[Ge],Je=Qt[Ge],l(ve,Je,Ue,ke),Je._matchGroup){for(var mr in Je._matchGroup)if(mr!==Le){var xe=Qt[n.id2name(mr)];xe.autorange=Je.autorange,xe.range=Je.range.slice(),xe._input.range=Je.range.slice()}}}return!0}function Ot(At,Ft){var Wt=Ft?function(Qt){var he=[],ve=!0;for(var Je in Ft){var Ue=n.getFromId(Qt,Je);if(he.push(Je),(Ue.ticklabelposition||"").indexOf("inside")!==-1&&Ue._anchorAxis&&he.push(Ue._anchorAxis._id),Ue._matchGroup)for(var ke in Ue._matchGroup)Ft[ke]||he.push(ke)}return n.draw(Qt,he,{skipTitle:ve})}:function(Qt){return n.draw(Qt,"redraw")};At.push(a,S.doAutoRangeAndConstraints,Wt,S.drawData,S.finalDraw)}var bt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,_t=/^[xyz]axis[0-9]*\.autorange$/,mt=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Pt(At,Ft){var Wt=At.layout,Qt=At._fullLayout,he=Qt._guiEditing,ve=G(Qt._preGUI,he),Je=Object.keys(Ft),Ue=n.list(At),ke=M.extendDeepAll({},Ft),Le={},Ge,mr,xe;for(gt(Ft),Je=Object.keys(Ft),mr=0;mr<Je.length;mr++)if(Je[mr].indexOf("allaxes")===0){for(xe=0;xe<Ue.length;xe++){var Xe=Ue[xe]._id.substr(1),Ye=Xe.indexOf("scene")!==-1?Xe+".":"",_r=Je[mr].replace("allaxes",Ye+Ue[xe]._name);Ft[_r]||(Ft[_r]=Ft[Je[mr]])}delete Ft[Je[mr]]}var rr=_.layoutFlags(),re={},le={};function me(rn,gn){if(Array.isArray(rn)){rn.forEach(function(zn){me(zn,gn)});return}if(!(rn in Ft||w.hasParent(Ft,rn))){var ln=ve(Wt,rn);rn in le||(le[rn]=Q(ln.get())),gn!==void 0&&ln.set(gn)}}var Ee={},ze;function Oe(rn){var gn=n.name2id(rn.split(".")[0]);return Ee[gn]=1,gn}for(var Fe in Ft){if(w.hasParent(Ft,Fe))throw new Error("cannot set "+Fe+" and a parent attribute simultaneously");for(var Re=ve(Wt,Fe),Ke=Ft[Fe],or=Re.parts.length,pr=or-1;pr>0&&typeof Re.parts[pr]!="string";)pr--;var hr=Re.parts[pr],jt=Re.parts[pr-1]+"."+hr,Gt=Re.parts.slice(0,pr).join("."),Ce=m(At.layout,Gt).get(),Ie=m(Qt,Gt).get(),We=Re.get();if(Ke!==void 0){re[Fe]=Ke,le[Fe]=hr==="reverse"?Ke:Q(We);var $e=e.getLayoutValObject(Qt,Re.parts);if($e&&$e.impliedEdits&&Ke!==null)for(var ir in $e.impliedEdits)me(M.relativeAttr(Fe,ir),$e.impliedEdits[ir]);if(["width","height"].indexOf(Fe)!==-1)if(Ke){me("autosize",null);var er=Fe==="height"?"width":"height";me(er,Qt[er])}else Qt[Fe]=At._initialAutoSize[Fe];else if(Fe==="autosize")me("width",Ke?null:Qt.width),me("height",Ke?null:Qt.height);else if(jt.match(bt))Oe(jt),m(Qt,Gt+"._inputRange").set(null);else if(jt.match(_t)){Oe(jt),m(Qt,Gt+"._inputRange").set(null);var De=m(Qt,Gt).get();De._inputDomain&&(De._input.domain=De._inputDomain.slice())}else jt.match(mt)&&m(Qt,Gt+"._inputDomain").set(null);if(hr==="type"){ze=Ce;var lr=Ie.type==="linear"&&Ke==="log",vr=Ie.type==="log"&&Ke==="linear";if(lr||vr){if(!ze||!ze.range)me(Gt+".autorange",!0);else if(Ie.autorange)lr&&(ze.range=ze.range[1]>ze.range[0]?[1,2]:[2,1]);else{var dr=ze.range[0],fr=ze.range[1];lr?(dr<=0&&fr<=0&&me(Gt+".autorange",!0),dr<=0?dr=fr/1e6:fr<=0&&(fr=dr/1e6),me(Gt+".range[0]",Math.log(dr)/Math.LN10),me(Gt+".range[1]",Math.log(fr)/Math.LN10)):(me(Gt+".range[0]",Math.pow(10,dr)),me(Gt+".range[1]",Math.pow(10,fr)))}Array.isArray(Qt._subplots.polar)&&Qt._subplots.polar.length&&Qt[Re.parts[0]]&&Re.parts[1]==="radialaxis"&&delete Qt[Re.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(At,Ie,Ke,me),r.getComponentMethod("images","convertCoords")(At,Ie,Ke,me)}else me(Gt+".autorange",!0),me(Gt+".range",null);m(Qt,Gt+"._inputRange").set(null)}else if(hr.match(T)){var zr=m(Qt,Fe).get(),Or=(Ke||{}).type;(!Or||Or==="-")&&(Or="linear"),r.getComponentMethod("annotations","convertCoords")(At,zr,Or,me),r.getComponentMethod("images","convertCoords")(At,zr,Or,me)}var Ir=p.containerArrayMatch(Fe);if(Ir){Ge=Ir.array,mr=Ir.index;var sn=Ir.property,nn=$e||{editType:"calc"};mr!==""&&sn===""&&(p.isAddVal(Ke)?le[Fe]=null:p.isRemoveVal(Ke)?le[Fe]=(m(Wt,Ge).get()||[])[mr]:M.warn("unrecognized full object value",Ft)),_.update(rr,nn),Le[Ge]||(Le[Ge]={});var kn=Le[Ge][mr];kn||(kn=Le[Ge][mr]={}),kn[sn]=Ke,delete Ft[Fe]}else hr==="reverse"?(Ce.range?Ce.range.reverse():(me(Gt+".autorange",!0),Ce.range=[1,0]),Ie.autorange?rr.calc=!0:rr.plot=!0):(Fe==="dragmode"&&(Ke===!1&&We!==!1||Ke!==!1&&We===!1)||Qt._has("scatter-like")&&Qt._has("regl")&&Fe==="dragmode"&&(Ke==="lasso"||Ke==="select")&&!(We==="lasso"||We==="select")||Qt._has("gl2d")?rr.plot=!0:$e?_.update(rr,$e):rr.calc=!0,Re.set(Ke))}}for(Ge in Le){var Mn=p.applyContainerArrayChanges(At,ve(Wt,Ge),Le[Ge],rr,ve);Mn||(rr.plot=!0)}for(var kr in Ee){ze=n.getFromId(At,kr);var Er=ze&&ze._constraintGroup;if(Er){rr.calc=!0;for(var Vr in Er)Ee[Vr]||(n.getFromId(At,Vr)._constraintShrinkable=!0)}}(Rt(At)||Ft.height||Ft.width)&&(rr.plot=!0);var qr=Qt.shapes;for(mr=0;mr<qr.length;mr++)if(qr[mr].showlegend){rr.calc=!0;break}return(rr.plot||rr.calc)&&(rr.layoutReplot=!0),{flags:rr,rangesAltered:Ee,undoit:le,redoit:re,eventData:ke}}function Rt(At){var Ft=At._fullLayout,Wt=Ft.width,Qt=Ft.height;return At.layout.autosize&&s.plotAutoSize(At,At.layout,Ft),Ft.width!==Wt||Ft.height!==Qt}function Ht(At,Ft,Wt,Qt){At=M.getGraphDiv(At),w.clearPromiseQueue(At),M.isPlainObject(Ft)||(Ft={}),M.isPlainObject(Wt)||(Wt={}),Object.keys(Ft).length&&(At.changed=!0),Object.keys(Wt).length&&(At.changed=!0);var he=w.coerceTraceIndices(At,Qt),ve=dt(At,M.extendFlat({},Ft),he),Je=ve.flags,Ue=Pt(At,M.extendFlat({},Wt)),ke=Ue.flags;(Je.calc||ke.calc)&&(At.calcdata=void 0),Je.clearAxisTypes&&w.clearAxisTypes(At,he,Wt);var Le=[];ke.layoutReplot?Le.push(S.layoutReplot):Je.fullReplot?Le.push(B._doPlot):(Le.push(s.previousPromises),kt(At,ke,Ue)||s.supplyDefaults(At),Je.style&&Le.push(S.doTraceStyle),(Je.colorbars||ke.colorbars)&&Le.push(S.doColorBars),ke.legend&&Le.push(S.doLegend),ke.layoutstyle&&Le.push(S.layoutStyles),ke.axrange&&Ot(Le,Ue.rangesAltered),ke.ticks&&Le.push(S.doTicksRelayout),ke.modebar&&Le.push(S.doModeBar),ke.camera&&Le.push(S.doCamera),Le.push(L)),Le.push(s.rehover,s.redrag,s.reselect),v.add(At,Ht,[At,ve.undoit,Ue.undoit,ve.traces],Ht,[At,ve.redoit,Ue.redoit,ve.traces]);var Ge=M.syncOrAsync(Le,At);return(!Ge||!Ge.then)&&(Ge=Promise.resolve(At)),Ge.then(function(){return At.emit("plotly_update",{data:ve.eventData,layout:Ue.eventData}),At})}function Dt(At){return function(Ft){Ft._fullLayout._guiEditing=!0;var Wt=At.apply(null,arguments);return Ft._fullLayout._guiEditing=!1,Wt}}var Xt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],se=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Yt(At,Ft){for(var Wt=0;Wt<Ft.length;Wt++){var Qt=Ft[Wt],he=At.match(Qt.pattern);if(he){var ve=he[1]||"";return{head:ve,tail:At.substr(ve.length+1),attr:Qt.attr}}}}function ue(At,Ft){var Wt=m(Ft,At).get();if(Wt!==void 0)return Wt;var Qt=At.split(".");for(Qt.pop();Qt.length>1;)if(Qt.pop(),Wt=m(Ft,Qt.join(".")+".uirevision").get(),Wt!==void 0)return Wt;return Ft.uirevision}function ie(At,Ft){for(var Wt=0;Wt<Ft.length;Wt++)if(Ft[Wt]._fullInput.uid===At)return Wt;return-1}function fe(At,Ft,Wt){for(var Qt=0;Qt<Ft.length;Qt++)if(Ft[Qt].uid===At)return Qt;return!Ft[Wt]||Ft[Wt].uid?-1:Wt}function ce(At,Ft){var Wt=M.isPlainObject(At),Qt=Array.isArray(At);return Wt||Qt?(Wt&&M.isPlainObject(Ft)||Qt&&Array.isArray(Ft))&&JSON.stringify(At)===JSON.stringify(Ft):At===Ft}function ye(At,Ft,Wt,Qt){var he=Qt._preGUI,ve,Je,Ue,ke,Le,Ge,mr,xe,Xe,Ye,_r=[],rr={},re={};for(ve in he){if(Le=Yt(ve,Xt),Le){if(Xe=Le.head,Ye=Le.tail,Je=Le.attr||Xe+".uirevision",Ue=m(Qt,Je).get(),ke=Ue&&ue(Je,Ft),ke&&ke===Ue){if(Ge=he[ve],Ge===null&&(Ge=void 0),mr=m(Ft,ve),xe=mr.get(),ce(xe,Ge)){xe===void 0&&Ye==="autorange"&&_r.push(Xe),mr.set(Q(m(Qt,ve).get()));continue}else if(Ye==="autorange"||Ye.substr(0,6)==="range["){var le=he[Xe+".range[0]"],me=he[Xe+".range[1]"],Ee=he[Xe+".autorange"];if(Ee||Ee===null&&le===null&&me===null){if(!(Xe in rr)){var ze=m(Ft,Xe).get();rr[Xe]=ze&&(ze.autorange||ze.autorange!==!1&&(!ze.range||ze.range.length!==2))}if(rr[Xe]){mr.set(Q(m(Qt,ve).get()));continue}}}}}else M.warn("unrecognized GUI edit: "+ve);delete he[ve],Le&&Le.tail.substr(0,6)==="range["&&(re[Le.head]=1)}for(var Oe=0;Oe<_r.length;Oe++){var Fe=_r[Oe];if(re[Fe]){var Re=m(Ft,Fe).get();Re&&delete Re.autorange}}var Ke=Qt._tracePreGUI;for(var or in Ke){var pr=Ke[or],hr=null,jt;for(ve in pr){if(!hr){var Gt=ie(or,Wt);if(Gt<0){delete Ke[or];break}var Ce=Wt[Gt];jt=Ce._fullInput;var Ie=fe(or,At,jt.index);if(Ie<0){delete Ke[or];break}hr=At[Ie]}if(Le=Yt(ve,se),Le){if(Le.attr?(Ue=m(Qt,Le.attr).get(),ke=Ue&&ue(Le.attr,Ft)):(Ue=jt.uirevision,ke=hr.uirevision,ke===void 0&&(ke=Ft.uirevision)),ke&&ke===Ue&&(Ge=pr[ve],Ge===null&&(Ge=void 0),mr=m(hr,ve),xe=mr.get(),ce(xe,Ge))){mr.set(Q(m(jt,ve).get()));continue}}else M.warn("unrecognized GUI edit: "+ve+" in trace uid "+or);delete pr[ve]}}}function de(At,Ft,Wt,Qt){var he,ve;function Je(){return B.addFrames(At,he)}At=M.getGraphDiv(At),w.clearPromiseQueue(At);var Ue=At._fullData,ke=At._fullLayout;if(!M.isPlotDiv(At)||!Ue||!ke)ve=B.newPlot(At,Ft,Wt,Qt);else{if(M.isPlainObject(Ft)){var Le=Ft;Ft=Le.data,Wt=Le.layout,Qt=Le.config,he=Le.frames}var Ge=!1;if(Qt){var mr=M.extendDeep({},At._context);At._context=void 0,N(At,Qt),Ge=te(mr,At._context)}At.data=Ft||[],w.cleanData(At.data),At.layout=Wt||{},w.cleanLayout(At.layout),ye(At.data,At.layout,Ue,ke),s.supplyDefaults(At,{skipUpdateCalc:!0});var xe=At._fullData,Xe=At._fullLayout,Ye=Xe.datarevision===void 0,_r=Xe.transition,rr=Et(At,ke,Xe,Ye,_r),re=rr.newDataRevision,le=Te(At,Ue,xe,Ye,_r,re);if(Rt(At)&&(rr.layoutReplot=!0),le.calc||rr.calc){At.calcdata=void 0;for(var me=Object.getOwnPropertyNames(Xe),Ee=0;Ee<me.length;Ee++){var ze=me[Ee],Oe=ze.substring(0,5);if(Oe==="xaxis"||Oe==="yaxis"){var Fe=Xe[ze]._emptyCategories;Fe&&Fe()}}}else s.supplyDefaultsUpdateCalc(At.calcdata,xe);var Re=[];if(he&&(At._transitionData={},s.createTransitionData(At),Re.push(Je)),Xe.transition&&!Ge&&(le.anim||rr.anim))rr.ticks&&Re.push(S.doTicksRelayout),s.doCalcdata(At),S.doAutoRangeAndConstraints(At),Re.push(function(){return s.transitionFromReact(At,le,rr,ke)});else if(le.fullReplot||rr.layoutReplot||Ge)At._fullLayout._skipDefaults=!0,Re.push(B._doPlot);else{for(var Ke in rr.arrays){var or=rr.arrays[Ke];if(or.length){var pr=r.getComponentMethod(Ke,"drawOne");if(pr!==M.noop)for(var hr=0;hr<or.length;hr++)pr(At,or[hr]);else{var jt=r.getComponentMethod(Ke,"draw");if(jt===M.noop)throw new Error("cannot draw components: "+Ke);jt(At)}}}Re.push(s.previousPromises),le.style&&Re.push(S.doTraceStyle),(le.colorbars||rr.colorbars)&&Re.push(S.doColorBars),rr.legend&&Re.push(S.doLegend),rr.layoutstyle&&Re.push(S.layoutStyles),rr.axrange&&Ot(Re),rr.ticks&&Re.push(S.doTicksRelayout),rr.modebar&&Re.push(S.doModeBar),rr.camera&&Re.push(S.doCamera),Re.push(L)}Re.push(s.rehover,s.redrag,s.reselect),ve=M.syncOrAsync(Re,At),(!ve||!ve.then)&&(ve=Promise.resolve(At))}return ve.then(function(){return At.emit("plotly_react",{data:Ft,layout:Wt}),At})}function Te(At,Ft,Wt,Qt,he,ve){var Je=Ft.length===Wt.length;if(!he&&!Je)return{fullReplot:!0,calc:!0};var Ue=_.traceFlags();Ue.arrays={},Ue.nChanges=0,Ue.nChangesAnim=0;var ke,Le;function Ge(Xe){var Ye=e.getTraceValObject(Le,Xe);return!Le._module.animatable&&Ye.anim&&(Ye.anim=!1),Ye}var mr={getValObject:Ge,flags:Ue,immutable:Qt,transition:he,newDataRevision:ve,gd:At},xe={};for(ke=0;ke<Ft.length;ke++)if(Wt[ke]){if(Le=Wt[ke]._fullInput,s.hasMakesDataTransform(Le)&&(Le=Wt[ke]),xe[Le.uid])continue;xe[Le.uid]=1,Vt(Ft[ke]._fullInput,Le,[],mr)}return(Ue.calc||Ue.plot)&&(Ue.fullReplot=!0),he&&Ue.nChanges&&Ue.nChangesAnim&&(Ue.anim=Ue.nChanges===Ue.nChangesAnim&&Je?"all":"some"),Ue}function Et(At,Ft,Wt,Qt,he){var ve=_.layoutFlags();ve.arrays={},ve.rangesAltered={},ve.nChanges=0,ve.nChangesAnim=0;function Je(ke){return e.getLayoutValObject(Wt,ke)}var Ue={getValObject:Je,flags:ve,immutable:Qt,transition:he,gd:At};return Vt(Ft,Wt,[],Ue),(ve.plot||ve.calc)&&(ve.layoutReplot=!0),he&&ve.nChanges&&ve.nChangesAnim&&(ve.anim=ve.nChanges===ve.nChangesAnim?"all":"some"),ve}function Vt(At,Ft,Wt,Qt){var he,ve,Je,Ue=Qt.getValObject,ke=Qt.flags,Le=Qt.immutable,Ge=Qt.inArray,mr=Qt.arrayIndex;function xe(){var Gt=he.editType;if(Ge&&Gt.indexOf("arraydraw")!==-1){M.pushUnique(ke.arrays[Ge],mr);return}_.update(ke,he),Gt!=="none"&&ke.nChanges++,Qt.transition&&he.anim&&ke.nChangesAnim++,(bt.test(Je)||_t.test(Je))&&(ke.rangesAltered[Wt[0]]=1),mt.test(Je)&&m(Ft,"_inputDomain").set(null),ve==="datarevision"&&(ke.newDataRevision=1)}function Xe(Gt){return Gt.valType==="data_array"||Gt.arrayOk}for(ve in At){if(ke.calc&&!Qt.transition)return;var Ye=At[ve],_r=Ft[ve],rr=Wt.concat(ve);if(Je=rr.join("."),!(ve.charAt(0)==="_"||typeof Ye=="function"||Ye===_r)){if((ve==="tick0"||ve==="dtick")&&Wt[0]!=="geo"){var re=Ft.tickmode;if(re==="auto"||re==="array"||!re)continue}if(!(ve==="range"&&Ft.autorange)&&!((ve==="zmin"||ve==="zmax")&&Ft.type==="contourcarpet")&&(he=Ue(rr),!!he&&!(he._compareAsJSON&&JSON.stringify(Ye)===JSON.stringify(_r)))){var le=he.valType,me,Ee=Xe(he),ze=Array.isArray(Ye),Oe=Array.isArray(_r);if(ze&&Oe){var Fe="_input_"+ve,Re=At[Fe],Ke=Ft[Fe];if(Array.isArray(Re)&&Re===Ke)continue}if(_r===void 0)Ee&&ze?ke.calc=!0:xe();else if(he._isLinkedToArray){var or=[],pr=!1;Ge||(ke.arrays[ve]=or);var hr=Math.min(Ye.length,_r.length),jt=Math.max(Ye.length,_r.length);if(hr!==jt)if(he.editType==="arraydraw")pr=!0;else{xe();continue}for(me=0;me<hr;me++)Vt(Ye[me],_r[me],rr.concat(me),M.extendFlat({inArray:ve,arrayIndex:me},Qt));if(pr)for(me=hr;me<jt;me++)or.push(me)}else!le&&M.isPlainObject(Ye)?Vt(Ye,_r,rr,Qt):Ee?ze&&Oe?(Le&&(ke.calc=!0),(Le||Qt.newDataRevision)&&xe()):ze!==Oe?ke.calc=!0:xe():ze&&Oe?(Ye.length!==_r.length||String(Ye)!==String(_r))&&xe():xe()}}}for(ve in Ft)if(!(ve in At||ve.charAt(0)==="_"||typeof Ft[ve]=="function"))if(he=Ue(Wt.concat(ve)),Xe(he)&&Array.isArray(Ft[ve])){ke.calc=!0;return}else xe()}function te(At,Ft){var Wt;for(Wt in At)if(Wt.charAt(0)!=="_"){var Qt=At[Wt],he=Ft[Wt];if(Qt!==he)if(M.isPlainObject(Qt)&&M.isPlainObject(he)){if(te(Qt,he))return!0}else if(Array.isArray(Qt)&&Array.isArray(he)){if(Qt.length!==he.length)return!0;for(var ve=0;ve<Qt.length;ve++)if(Qt[ve]!==he[ve])if(M.isPlainObject(Qt[ve])&&M.isPlainObject(he[ve])){if(te(Qt[ve],he[ve]))return!0}else return!0}else return!0}}function Jt(At,Ft,Wt){if(At=M.getGraphDiv(At),!M.isPlotDiv(At))throw new Error("This element is not a Plotly plot: "+At+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Qt=At._transitionData;Qt._frameQueue||(Qt._frameQueue=[]),Wt=s.supplyAnimationDefaults(Wt);var he=Wt.transition,ve=Wt.frame;Qt._frameWaitingCnt===void 0&&(Qt._frameWaitingCnt=0);function Je(Le){return Array.isArray(he)?Le>=he.length?he[0]:he[Le]:he}function Ue(Le){return Array.isArray(ve)?Le>=ve.length?ve[0]:ve[Le]:ve}function ke(Le,Ge){var mr=0;return function(){if(Le&&++mr===Ge)return Le()}}return new Promise(function(Le,Ge){function mr(){if(Qt._frameQueue.length!==0){for(;Qt._frameQueue.length;){var hr=Qt._frameQueue.pop();hr.onInterrupt&&hr.onInterrupt()}At.emit("plotly_animationinterrupted",[])}}function xe(hr){if(hr.length!==0){for(var jt=0;jt<hr.length;jt++){var Gt;hr[jt].type==="byname"?Gt=s.computeFrame(At,hr[jt].name):Gt=hr[jt].data;var Ce=Ue(jt),Ie=Je(jt);Ie.duration=Math.min(Ie.duration,Ce.duration);var We={frame:Gt,name:hr[jt].name,frameOpts:Ce,transitionOpts:Ie};jt===hr.length-1&&(We.onComplete=ke(Le,2),We.onInterrupt=Ge),Qt._frameQueue.push(We)}Wt.mode==="immediate"&&(Qt._lastFrameAt=-1/0),Qt._animationRaf||_r()}}function Xe(){At.emit("plotly_animated"),window.cancelAnimationFrame(Qt._animationRaf),Qt._animationRaf=null}function Ye(){Qt._currentFrame&&Qt._currentFrame.onComplete&&Qt._currentFrame.onComplete();var hr=Qt._currentFrame=Qt._frameQueue.shift();if(hr){var jt=hr.name?hr.name.toString():null;At._fullLayout._currentFrame=jt,Qt._lastFrameAt=Date.now(),Qt._timeToNext=hr.frameOpts.duration,s.transition(At,hr.frame.data,hr.frame.layout,w.coerceTraceIndices(At,hr.frame.traces),hr.frameOpts,hr.transitionOpts).then(function(){hr.onComplete&&hr.onComplete()}),At.emit("plotly_animatingframe",{name:jt,frame:hr.frame,animation:{frame:hr.frameOpts,transition:hr.transitionOpts}})}else Xe()}function _r(){At.emit("plotly_animating"),Qt._lastFrameAt=-1/0,Qt._timeToNext=0,Qt._runningTransitions=0,Qt._currentFrame=null;var hr=function(){Qt._animationRaf=window.requestAnimationFrame(hr),Date.now()-Qt._lastFrameAt>Qt._timeToNext&&Ye()};hr()}var rr=0;function re(hr){return Array.isArray(he)?rr>=he.length?hr.transitionOpts=he[rr]:hr.transitionOpts=he[0]:hr.transitionOpts=he,rr++,hr}var le,me,Ee=[],ze=Ft==null,Oe=Array.isArray(Ft),Fe=!ze&&!Oe&&M.isPlainObject(Ft);if(Fe)Ee.push({type:"object",data:re(M.extendFlat({},Ft))});else if(ze||["string","number"].indexOf(typeof Ft)!==-1)for(le=0;le<Qt._frames.length;le++)me=Qt._frames[le],me&&(ze||String(me.group)===String(Ft))&&Ee.push({type:"byname",name:String(me.name),data:re({name:me.name})});else if(Oe)for(le=0;le<Ft.length;le++){var Re=Ft[le];["number","string"].indexOf(typeof Re)!==-1?(Re=String(Re),Ee.push({type:"byname",name:Re,data:re({name:Re})})):M.isPlainObject(Re)&&Ee.push({type:"object",data:re(M.extendFlat({},Re))})}for(le=0;le<Ee.length;le++)if(me=Ee[le],me.type==="byname"&&!Qt._frameHash[me.data.name]){M.warn('animate failure: frame not found: "'+me.data.name+'"'),Ge();return}["next","immediate"].indexOf(Wt.mode)!==-1&&mr(),Wt.direction==="reverse"&&Ee.reverse();var Ke=At._fullLayout._currentFrame;if(Ke&&Wt.fromcurrent){var or=-1;for(le=0;le<Ee.length;le++)if(me=Ee[le],me.type==="byname"&&me.name===Ke){or=le;break}if(or>0&&or<Ee.length-1){var pr=[];for(le=0;le<Ee.length;le++)me=Ee[le],(Ee[le].type!=="byname"||le>or)&&pr.push(me);Ee=pr}}Ee.length>0?xe(Ee):(At.emit("plotly_animated"),Le())})}function Ut(At,Ft,Wt){if(At=M.getGraphDiv(At),Ft==null)return Promise.resolve();if(!M.isPlotDiv(At))throw new Error("This element is not a Plotly plot: "+At+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Qt,he,ve,Je,Ue=At._transitionData._frames,ke=At._transitionData._frameHash;if(!Array.isArray(Ft))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ft);var Le=Ue.length+Ft.length*2,Ge=[],mr={};for(Qt=Ft.length-1;Qt>=0;Qt--)if(M.isPlainObject(Ft[Qt])){var xe=Ft[Qt].name,Xe=(ke[xe]||mr[xe]||{}).name,Ye=Ft[Qt].name,_r=ke[Xe]||mr[Xe];Xe&&Ye&&typeof Ye=="number"&&_r&&P<u&&(P++,M.warn('addFrames: overwriting frame "'+(ke[Xe]||mr[Xe]).name+'" with a frame whose name of type "number" also equates to "'+Xe+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),P===u&&M.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),mr[xe]={name:xe},Ge.push({frame:s.supplyFrameDefaults(Ft[Qt]),index:Wt&&Wt[Qt]!==void 0&&Wt[Qt]!==null?Wt[Qt]:Le+Qt})}Ge.sort(function(Fe,Re){return Fe.index>Re.index?-1:Fe.index<Re.index?1:0});var rr=[],re=[],le=Ue.length;for(Qt=Ge.length-1;Qt>=0;Qt--){if(he=Ge[Qt].frame,typeof he.name=="number"&&M.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!he.name)for(;ke[he.name="frame "+At._transitionData._counter++];);if(ke[he.name]){for(ve=0;ve<Ue.length&&(Ue[ve]||{}).name!==he.name;ve++);rr.push({type:"replace",index:ve,value:he}),re.unshift({type:"replace",index:ve,value:Ue[ve]})}else Je=Math.max(0,Math.min(Ge[Qt].index,le)),rr.push({type:"insert",index:Je,value:he}),re.unshift({type:"delete",index:Je}),le++}var me=s.modifyFrames,Ee=s.modifyFrames,ze=[At,re],Oe=[At,rr];return v&&v.add(At,me,ze,Ee,Oe),s.modifyFrames(At,rr)}function It(At,Ft){if(At=M.getGraphDiv(At),!M.isPlotDiv(At))throw new Error("This element is not a Plotly plot: "+At);var Wt,Qt,he=At._transitionData._frames,ve=[],Je=[];if(!Ft)for(Ft=[],Wt=0;Wt<he.length;Wt++)Ft.push(Wt);for(Ft=Ft.slice(),Ft.sort(),Wt=Ft.length-1;Wt>=0;Wt--)Qt=Ft[Wt],ve.push({type:"delete",index:Qt}),Je.unshift({type:"insert",index:Qt,value:he[Qt]});var Ue=s.modifyFrames,ke=s.modifyFrames,Le=[At,Je],Ge=[At,ve];return v&&v.add(At,Ue,Le,ke,Ge),s.modifyFrames(At,ve)}function pt(At){At=M.getGraphDiv(At);var Ft=At._fullLayout||{},Wt=At._fullData||[];return s.cleanPlot([],{},Wt,Ft),s.purge(At),d.purge(At),Ft._container&&Ft._container.remove(),delete At._context,At}function xt(At){var Ft=At._fullLayout,Wt=At.getBoundingClientRect();if(!M.equalDomRects(Wt,Ft._lastBBox)){var Qt=Ft._invTransform=M.inverseTransformMatrix(M.getFullTransformMatrix(At));Ft._invScaleX=Math.sqrt(Qt[0][0]*Qt[0][0]+Qt[0][1]*Qt[0][1]+Qt[0][2]*Qt[0][2]),Ft._invScaleY=Math.sqrt(Qt[1][0]*Qt[1][0]+Qt[1][1]*Qt[1][1]+Qt[1][2]*Qt[1][2]),Ft._lastBBox=Wt}}function Ct(At){var Ft=x.select(At),Wt=At._fullLayout;if(Wt._calcInverseTransform=xt,Wt._calcInverseTransform(At),Wt._container=Ft.selectAll(".plot-container").data([0]),Wt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Wt._paperdiv=Wt._container.selectAll(".svg-container").data([0]),Wt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Wt._glcontainer=Wt._paperdiv.selectAll(".gl-container").data([{}]),Wt._glcontainer.enter().append("div").classed("gl-container",!0),Wt._paperdiv.selectAll(".main-svg").remove(),Wt._paperdiv.select(".modebar-container").remove(),Wt._paper=Wt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Wt._toppaper=Wt._paperdiv.append("svg").classed("main-svg",!0),Wt._modebardiv=Wt._paperdiv.append("div"),delete Wt._modeBar,Wt._hoverpaper=Wt._paperdiv.append("svg").classed("main-svg",!0),!Wt._uid){var Qt={};x.selectAll("defs").each(function(){this.id&&(Qt[this.id.split("-")[1]]=1)}),Wt._uid=M.randstr(Qt)}Wt._paperdiv.selectAll(".main-svg").attr(k.svgAttrs),Wt._defs=Wt._paper.append("defs").attr("id","defs-"+Wt._uid),Wt._clips=Wt._defs.append("g").classed("clips",!0),Wt._topdefs=Wt._toppaper.append("defs").attr("id","topdefs-"+Wt._uid),Wt._topclips=Wt._topdefs.append("g").classed("clips",!0),Wt._bgLayer=Wt._paper.append("g").classed("bglayer",!0),Wt._draggers=Wt._paper.append("g").classed("draglayer",!0);var he=Wt._paper.append("g").classed("layer-below",!0);Wt._imageLowerLayer=he.append("g").classed("imagelayer",!0),Wt._shapeLowerLayer=he.append("g").classed("shapelayer",!0),Wt._cartesianlayer=Wt._paper.append("g").classed("cartesianlayer",!0),Wt._polarlayer=Wt._paper.append("g").classed("polarlayer",!0),Wt._smithlayer=Wt._paper.append("g").classed("smithlayer",!0),Wt._ternarylayer=Wt._paper.append("g").classed("ternarylayer",!0),Wt._geolayer=Wt._paper.append("g").classed("geolayer",!0),Wt._funnelarealayer=Wt._paper.append("g").classed("funnelarealayer",!0),Wt._pielayer=Wt._paper.append("g").classed("pielayer",!0),Wt._iciclelayer=Wt._paper.append("g").classed("iciclelayer",!0),Wt._treemaplayer=Wt._paper.append("g").classed("treemaplayer",!0),Wt._sunburstlayer=Wt._paper.append("g").classed("sunburstlayer",!0),Wt._indicatorlayer=Wt._toppaper.append("g").classed("indicatorlayer",!0),Wt._glimages=Wt._paper.append("g").classed("glimages",!0);var ve=Wt._toppaper.append("g").classed("layer-above",!0);Wt._imageUpperLayer=ve.append("g").classed("imagelayer",!0),Wt._shapeUpperLayer=ve.append("g").classed("shapelayer",!0),Wt._selectionLayer=Wt._toppaper.append("g").classed("selectionlayer",!0),Wt._infolayer=Wt._toppaper.append("g").classed("infolayer",!0),Wt._menulayer=Wt._toppaper.append("g").classed("menulayer",!0),Wt._zoomlayer=Wt._toppaper.append("g").classed("zoomlayer",!0),Wt._hoverlayer=Wt._hoverpaper.append("g").classed("hoverlayer",!0),Wt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),At.emit("plotly_framework")}B.animate=Jt,B.addFrames=Ut,B.deleteFrames=It,B.addTraces=it,B.deleteTraces=Z,B.extendTraces=q,B.moveTraces=tt,B.prependTraces=J,B.newPlot=F,B._doPlot=g,B.purge=pt,B.react=de,B.redraw=z,B.relayout=wt,B.restyle=st,B.setPlotConfig=A,B.update=Ht,B._guiRelayout=Dt(wt),B._guiRestyle=Dt(st),B._guiUpdate=Dt(Ht),B._storeDirectGUIEdit=at},20556:function(X){var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};function x(E,i){for(var M in E){var m=E[M];m.valType?i[M]=m.dflt:(i[M]||(i[M]={}),x(m,i[M]))}}x(B,t),X.exports={configAttributes:B,dfltConfig:t}},73060:function(X,B,t){var x=t(24040),E=t(3400),i=t(45464),M=t(64859),m=t(16672),d=t(85656),v=t(20556).configAttributes,r=t(67824),e=E.extendDeepAll,s=E.isPlainObject,n=E.isArrayOrTypedArray,l=E.nestedProperty,o=E.valObjectMeta,h="_isSubplotObj",b="_isLinkedToArray",f="_arrayAttrRegexps",k="_deprecated",a=[h,b,f,k];B.IS_SUBPLOT_OBJ=h,B.IS_LINKED_TO_ARRAY=b,B.DEPRECATED=k,B.UNDERSCORE_ATTRS=a,B.get=function(){var N={};x.allTypes.forEach(function(F){N[F]=S(F)});var z={};return Object.keys(x.transformsRegistry).forEach(function(F){z[F]=T(F)}),{defs:{valObjects:o,metaKeys:a.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:_(),transforms:z,frames:P(),animation:u(d),config:u(v)}},B.crawl=function(N,z,F,I){var j=F||0;I=I||"",Object.keys(N).forEach(function(V){var W=N[V];if(a.indexOf(V)===-1){var K=(I?I+".":"")+V;z(W,V,N,j,K),!B.isValObject(W)&&s(W)&&V!=="impliedEdits"&&B.crawl(W,z,j+1,K)}})},B.isValObject=function(N){return N&&N.valType!==void 0},B.findArrayAttributes=function(N){var z=[],F=[],I=[],j,V;function W(J,it,Z,tt){F=F.slice(0,tt).concat([it]),I=I.slice(0,tt).concat([J&&J._isLinkedToArray]);var st=J&&(J.valType==="data_array"||J.arrayOk===!0)&&!(F[tt-1]==="colorbar"&&(it==="ticktext"||it==="tickvals"));st&&K(j,0,"")}function K(J,it,Z){var tt=J[F[it]],st=Z+F[it];if(it===F.length-1)n(tt)&&z.push(V+st);else if(I[it]){if(Array.isArray(tt))for(var Q=0;Q<tt.length;Q++)s(tt[Q])&&K(tt[Q],it+1,st+"["+Q+"].")}else s(tt)&&K(tt,it+1,st+".")}j=N,V="",B.crawl(i,W),N._module&&N._module.attributes&&B.crawl(N._module.attributes,W);var et=N.transforms;if(et)for(var lt=0;lt<et.length;lt++){var ot=et[lt],q=ot._module;q&&(V="transforms["+lt+"].",j=ot,B.crawl(q.attributes,W))}return z},B.getTraceValObject=function(N,z){var F=z[0],I=1,j,V;if(F==="transforms"){if(z.length===1)return i.transforms;var W=N.transforms;if(!Array.isArray(W)||!W.length)return!1;var K=z[1];if(!w(K)||K>=W.length)return!1;j=(x.transformsRegistry[W[K].type]||{}).attributes,V=j&&j[z[2]],I=3}else{var et=N._module;if(et||(et=(x.modules[N.type||i.type.dflt]||{})._module),!et)return!1;if(j=et.attributes,V=j&&j[F],!V){var lt=et.basePlotModule;lt&&lt.attributes&&(V=lt.attributes[F])}V||(V=i[F])}return p(V,z,I)},B.getLayoutValObject=function(N,z){var F=c(N,z[0]);return p(F,z,1)};function c(N,z){var F,I,j,V,W=N._basePlotModules;if(W){var K;for(F=0;F<W.length;F++){if(j=W[F],j.attrRegex&&j.attrRegex.test(z)){if(j.layoutAttrOverrides)return j.layoutAttrOverrides;!K&&j.layoutAttributes&&(K=j.layoutAttributes)}var et=j.baseLayoutAttrOverrides;if(et&&z in et)return et[z]}if(K)return K}var lt=N._modules;if(lt){for(F=0;F<lt.length;F++)if(V=lt[F].layoutAttributes,V&&z in V)return V[z]}for(I in x.componentsRegistry){if(j=x.componentsRegistry[I],j.name==="colorscale"&&z.indexOf("coloraxis")===0)return j.layoutAttributes[z];if(!j.schema&&z===j.name)return j.layoutAttributes}return z in M?M[z]:!1}function p(N,z,F){if(!N)return!1;if(N._isLinkedToArray){if(w(z[F]))F++;else if(F<z.length)return!1}for(;F<z.length;F++){var I=N[z[F]];if(s(I))N=I;else break;if(F===z.length-1)break;if(N._isLinkedToArray){if(F++,!w(z[F]))return!1}else if(N.valType==="info_array"){F++;var j=z[F];if(!w(j))return!1;var V=N.items;if(Array.isArray(V)){if(j>=V.length)return!1;if(N.dimensions===2){if(F++,z.length===F)return N;var W=z[F];if(!w(W))return!1;N=V[j][W]}else N=V[j]}else N=V}}return N}function w(N){return N===Math.round(N)&&N>=0}function S(N){var z,F;z=x.modules[N]._module,F=z.basePlotModule;var I={};I.type=null;var j=e({},i),V=e({},z.attributes);B.crawl(V,function(et,lt,ot,q,J){l(j,J).set(void 0),et===void 0&&l(V,J).set(void 0)}),e(I,j),x.traceIs(N,"noOpacity")&&delete I.opacity,x.traceIs(N,"showLegend")||(delete I.showlegend,delete I.legendgroup),x.traceIs(N,"noHover")&&(delete I.hoverinfo,delete I.hoverlabel),z.selectPoints||delete I.selectedpoints,e(I,V),F.attributes&&e(I,F.attributes),I.type=N;var W={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:N,attributes:u(I)};if(z.layoutAttributes){var K={};e(K,z.layoutAttributes),W.layoutAttributes=u(K)}return z.animatable||B.crawl(W,function(et){B.isValObject(et)&&"anim"in et&&delete et.anim}),W}function _(){var N={},z,F;e(N,M);for(z in x.subplotsRegistry)if(F=x.subplotsRegistry[z],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var I=0;I<F.attr.length;I++)R(N,F,F.attr[I]);else{var j=F.attr==="subplot"?F.name:F.attr;R(N,F,j)}for(z in x.componentsRegistry){F=x.componentsRegistry[z];var V=F.schema;if(V&&(V.subplots||V.layout)){var W=V.subplots;if(W&&W.xaxis&&!W.yaxis)for(var K in W.xaxis)delete N.yaxis[K];delete N.xaxis.shift,delete N.xaxis.autoshift}else F.name==="colorscale"?e(N,F.layoutAttributes):F.layoutAttributes&&O(N,F.layoutAttributes,F.name)}return{layoutAttributes:u(N)}}function T(N){var z=x.transformsRegistry[N],F=e({},z.attributes);return Object.keys(x.componentsRegistry).forEach(function(I){var j=x.componentsRegistry[I];j.schema&&j.schema.transforms&&j.schema.transforms[N]&&Object.keys(j.schema.transforms[N]).forEach(function(V){O(F,j.schema.transforms[N][V],V)})}),{attributes:u(F)}}function P(){var N={frames:e({},m)};return u(N),N.frames}function u(N){return g(N),L(N),A(N),N}function g(N){function z(I){return{valType:"string",editType:"none"}}function F(I,j,V){B.isValObject(I)?(I.arrayOk===!0||I.valType==="data_array")&&(V[j+"src"]=z()):s(I)&&(I.role="object")}B.crawl(N,F)}function L(N){function z(F,I,j){if(F){var V=F[b];V&&(delete F[b],j[I]={items:{}},j[I].items[V]=F,j[I].role="object")}}B.crawl(N,z)}function A(N){function z(F){for(var I in F)if(s(F[I]))z(F[I]);else if(Array.isArray(F[I]))for(var j=0;j<F[I].length;j++)z(F[I][j]);else F[I]instanceof RegExp&&(F[I]=F[I].toString())}z(N)}function R(N,z,F){var I=l(N,F),j=e({},z.layoutAttributes);j[h]=!0,I.set(j)}function O(N,z,F){var I=l(N,F);I.set(e(I.get()||{},z))}},31780:function(X,B,t){var x=t(3400),E=t(45464),i="templateitemname",M={name:{valType:"string",editType:"none"}};M[i]={valType:"string",editType:"calc"},B.templatedArray=function(v,r){return r._isLinkedToArray=v,r.name=M.name,r[i]=M[i],r},B.traceTemplater=function(v){var r={},e,s;for(e in v)s=v[e],Array.isArray(s)&&s.length&&(r[e]=0);function n(l){e=x.coerce(l,{},E,"type");var o={type:e,_template:null};if(e in r){s=v[e];var h=r[e]%s.length;r[e]++,o._template=s[h]}return o}return{newTrace:n}},B.newContainer=function(v,r,e){var s=v._template,n=s&&(s[r]||e&&s[e]);x.isPlainObject(n)||(n=null);var l=v[r]={_template:n};return l},B.arrayTemplater=function(v,r,e){var s=v._template,n=s&&s[d(r)],l=s&&s[r];(!Array.isArray(l)||!l.length)&&(l=[]);var o={};function h(f){var k={name:f.name,_input:f},a=k[i]=f[i];if(!m(a))return k._template=n,k;for(var c=0;c<l.length;c++){var p=l[c];if(p.name===a)return o[a]=1,k._template=p,k}return k[e]=f[e]||!1,k._template=!1,k}function b(){for(var f=[],k=0;k<l.length;k++){var a=l[k],c=a.name;if(m(c)&&!o[c]){var p={_template:a,name:c,_input:{_templateitemname:c}};p[i]=a[i],f.push(p),o[c]=1}}return f}return{newItem:h,defaultItems:b}};function m(v){return v&&typeof v=="string"}function d(v){var r=v.length-1;return v.charAt(r)!=="s"&&x.warn("bad argument to arrayDefaultKey: "+v),v.substr(0,v.length-1)+"defaults"}B.arrayDefaultKey=d,B.arrayEditor=function(v,r,e){var s=(x.nestedProperty(v,r).get()||[]).length,n=e._index,l=n>=s&&(e._input||{})._templateitemname;l&&(n=s);var o=r+"["+n+"]",h;function b(){h={},l&&(h[o]={},h[o][i]=l)}b();function f(p,w){h[p]=w}function k(p,w){l?x.nestedProperty(h[o],p).set(w):h[o+"."+p]=w}function a(){var p=h;return b(),p}function c(p,w){p&&k(p,w);var S=a();for(var _ in S)x.nestedProperty(v,_).set(S[_])}return{modifyBase:f,modifyItem:k,getUpdateObj:a,applyUpdate:c}}},39172:function(X,B,t){var x=t(33428),E=t(24040),i=t(7316),M=t(3400),m=t(72736),d=t(73696),v=t(76308),r=t(43616),e=t(81668),s=t(45460),n=t(54460),l=t(84284),o=t(71888),h=o.enforce,b=o.clean,f=t(19280).doAutoRange,k="start",a="middle",c="end";B.layoutStyles=function(F){return M.syncOrAsync([i.doAutoMargin,w],F)};function p(F,I,j){for(var V=0;V<j.length;V++){var W=j[V][0],K=j[V][1];if(!(W[0]>=F[1]||W[1]<=F[0])&&K[0]<I[1]&&K[1]>I[0])return!0}return!1}function w(F){var I=F._fullLayout,j=I._size,V=j.p,W=n.list(F,"",!0),K,et,lt,ot,q,J;if(I._paperdiv.style({width:F._context.responsive&&I.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":I.width+"px",height:F._context.responsive&&I.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(r.setSize,I.width,I.height),F._context.setBackground(F,I.paper_bgcolor),B.drawMainTitle(F),s.manage(F),!I._has("cartesian"))return i.previousPromises(F);function it(pt,xt,Ct){var At=pt._lw/2;if(pt._id.charAt(0)==="x"){if(xt){if(Ct==="top")return xt._offset-V-At}else return j.t+j.h*(1-(pt.position||0))+At%1;return xt._offset+xt._length+V+At}if(xt){if(Ct==="right")return xt._offset+xt._length+V+At}else return j.l+j.w*(pt.position||0)+At%1;return xt._offset-V-At}for(K=0;K<W.length;K++){ot=W[K];var Z=ot._anchorAxis;ot._linepositions={},ot._lw=r.crispRound(F,ot.linewidth,1),ot._mainLinePosition=it(ot,Z,ot.side),ot._mainMirrorPosition=ot.mirror&&Z?it(ot,Z,l.OPPOSITE_SIDE[ot.side]):null}var tt=[],st=[],Q=[],G=v.opacity(I.paper_bgcolor)===1&&v.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(et in I._plots)if(lt=I._plots[et],lt.mainplot)lt.bg&&lt.bg.remove(),lt.bg=void 0;else{var ut=lt.xaxis.domain,at=lt.yaxis.domain,dt=lt.plotgroup;if(p(ut,at,Q)){var gt=dt.node(),wt=lt.bg=M.ensureSingle(dt,"rect","bg");gt.insertBefore(wt.node(),gt.childNodes[0]),st.push(et)}else dt.select("rect.bg").remove(),Q.push([ut,at]),G||(tt.push(et),st.push(et))}var kt=I._bgLayer.selectAll(".bg").data(tt);for(kt.enter().append("rect").classed("bg",!0),kt.exit().remove(),kt.each(function(pt){I._plots[pt].bg=x.select(this)}),K=0;K<st.length;K++)lt=I._plots[st[K]],q=lt.xaxis,J=lt.yaxis,lt.bg&&q._offset!==void 0&&J._offset!==void 0&&lt.bg.call(r.setRect,q._offset-V,J._offset-V,q._length+2*V,J._length+2*V).call(v.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(et in I._plots){lt=I._plots[et],q=lt.xaxis,J=lt.yaxis;var Ot=lt.clipId="clip"+I._uid+et+"plot",bt=M.ensureSingleById(I._clips,"clipPath",Ot,function(pt){pt.classed("plotclip",!0).append("rect")});lt.clipRect=bt.select("rect").attr({width:q._length,height:J._length}),r.setTranslate(lt.plot,q._offset,J._offset);var _t,mt;lt._hasClipOnAxisFalse?(_t=null,mt=Ot):(_t=Ot,mt=null),r.setClipUrl(lt.plot,_t,F),lt.layerClipId=mt}var Pt,Rt,Ht,Dt,Xt,se,Yt,ue,ie,fe,ce,ye,de;function Te(pt){return"M"+Pt+","+pt+"H"+Rt}function Et(pt){return"M"+q._offset+","+pt+"h"+q._length}function Vt(pt){return"M"+pt+","+ue+"V"+Yt}function te(pt){return J._shift!==void 0&&(pt+=J._shift),"M"+pt+","+J._offset+"v"+J._length}function Jt(pt,xt,Ct){if(!pt.showline||et!==pt._mainSubplot)return"";if(!pt._anchorAxis)return Ct(pt._mainLinePosition);var At=xt(pt._mainLinePosition);return pt.mirror&&(At+=xt(pt._mainMirrorPosition)),At}for(et in I._plots){lt=I._plots[et],q=lt.xaxis,J=lt.yaxis;var Ut="M0,0";S(q,et)&&(Xt=T(q,"left",J,W),Pt=q._offset-(Xt?V+Xt:0),se=T(q,"right",J,W),Rt=q._offset+q._length+(se?V+se:0),Ht=it(q,J,"bottom"),Dt=it(q,J,"top"),de=!q._anchorAxis||et!==q._mainSubplot,de&&(q.mirror==="allticks"||q.mirror==="all")&&(q._linepositions[et]=[Ht,Dt]),Ut=Jt(q,Te,Et),de&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(Ut+=Te(Ht)+Te(Dt)),lt.xlines.style("stroke-width",q._lw+"px").call(v.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),lt.xlines.attr("d",Ut);var It="M0,0";S(J,et)&&(ce=T(J,"bottom",q,W),Yt=J._offset+J._length+(ce?V:0),ye=T(J,"top",q,W),ue=J._offset-(ye?V:0),ie=it(J,q,"left"),fe=it(J,q,"right"),de=!J._anchorAxis||et!==J._mainSubplot,de&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[et]=[ie,fe]),It=Jt(J,Vt,te),de&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(It+=Vt(ie)+Vt(fe)),lt.ylines.style("stroke-width",J._lw+"px").call(v.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),lt.ylines.attr("d",It)}return n.makeClipPaths(F),i.previousPromises(F)}function S(F,I){return(F.ticks||F.showline)&&(I===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function _(F,I,j){if(!j.showline||!j._lw)return!1;if(j.mirror==="all"||j.mirror==="allticks")return!0;var V=j._anchorAxis;if(!V)return!1;var W=l.FROM_BL[I];return j.side===I?V.domain[W]===F.domain[W]:j.mirror&&V.domain[1-W]===F.domain[1-W]}function T(F,I,j,V){if(_(F,I,j))return j._lw;for(var W=0;W<V.length;W++){var K=V[W];if(K._mainAxis===j._mainAxis&&_(F,I,K))return K._lw}return 0}B.drawMainTitle=function(F){var I=F._fullLayout.title,j=F._fullLayout,V=N(j),W=z(j),K=R(j,W),et=A(j,V);if(e.draw(F,"gtitle",{propContainer:j,propName:"title.text",placeholder:j._dfltTitle.plot,attributes:{x:et,y:K,"text-anchor":V,dy:W}}),I.text&&I.automargin){var lt=x.selectAll(".gtitle"),ot=r.bBox(lt.node()).height,q=g(F,I,ot);if(q>0){L(F,K,q,ot),lt.attr({x:et,y:K,"text-anchor":V,dy:O(I.yanchor)}).call(m.positionText,et,K);var J=(I.text.match(m.BR_TAG_ALL)||[]).length;if(J){var it=l.LINE_SPACING*J+l.MID_SHIFT;I.y===0&&(it=-it),lt.selectAll(".line").each(function(){var Z=+this.getAttribute("dy").slice(0,-2)-it+"em";this.setAttribute("dy",Z)})}}}};function P(F,I,j,V,W){var K=I.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,et=M.isTopAnchor(I)?V:V-W,lt=j==="b"?K-et:et;return M.isTopAnchor(I)&&j==="t"||M.isBottomAnchor(I)&&j==="b"?!1:lt<W}function u(F,I,j,V,W){var K=0;return j==="middle"&&(K+=W/2),F==="t"?(j==="top"&&(K+=W),K+=V-I*V):(j==="bottom"&&(K+=W),K+=I*V),K}function g(F,I,j){var V=I.y,W=I.yanchor,K=V>.5?"t":"b",et=F._fullLayout.margin[K],lt=0;return I.yref==="paper"?lt=j+I.pad.t+I.pad.b:I.yref==="container"&&(lt=u(K,V,W,F._fullLayout.height,j)+I.pad.t+I.pad.b),lt>et?lt:0}function L(F,I,j,V){var W="title.automargin",K=F._fullLayout.title,et=K.y>.5?"t":"b",lt={x:K.x,y:K.y,t:0,b:0},ot={};K.yref==="paper"&&P(F,K,et,I,V)?lt[et]=j:K.yref==="container"&&(ot[et]=j,F._fullLayout._reservedMargin[W]=ot),i.allowAutoMargin(F,W),i.autoMargin(F,W,lt)}function A(F,I){var j=F.title,V=F._size,W=0;switch(I===k?W=j.pad.l:I===c&&(W=-j.pad.r),j.xref){case"paper":return V.l+V.w*j.x+W;case"container":default:return F.width*j.x+W}}function R(F,I){var j=F.title,V=F._size,W=0;if(I==="0em"||!I?W=-j.pad.b:I===l.CAP_SHIFT+"em"&&(W=j.pad.t),j.y==="auto")return V.t/2;switch(j.yref){case"paper":return V.t+V.h-V.h*j.y+W;case"container":default:return F.height-F.height*j.y+W}}function O(F){return F==="top"?l.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":l.MID_SHIFT+"em"}function N(F){var I=F.title,j=a;return M.isRightAnchor(I)?j=c:M.isLeftAnchor(I)&&(j=k),j}function z(F){var I=F.title,j="0em";return M.isTopAnchor(I)?j=l.CAP_SHIFT+"em":M.isMiddleAnchor(I)&&(j=l.MID_SHIFT+"em"),j}B.doTraceStyle=function(F){var I=F.calcdata,j=[],V;for(V=0;V<I.length;V++){var W=I[V],K=W[0]||{},et=K.trace||{},lt=et._module||{},ot=lt.arraysToCalcdata;ot&&ot(W,et);var q=lt.editStyle;q&&j.push({fn:q,cd0:K})}if(j.length){for(V=0;V<j.length;V++){var J=j[V];J.fn(F,J.cd0)}d(F),B.redrawReglTraces(F)}return i.style(F),E.getComponentMethod("legend","draw")(F),i.previousPromises(F)},B.doColorBars=function(F){return E.getComponentMethod("colorbar","draw")(F),i.previousPromises(F)},B.layoutReplot=function(F){var I=F.layout;return F.layout=void 0,E.call("_doPlot",F,"",I)},B.doLegend=function(F){return E.getComponentMethod("legend","draw")(F),i.previousPromises(F)},B.doTicksRelayout=function(F){return n.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(E.subplotsRegistry.splom.updateGrid(F),d(F),B.redrawReglTraces(F)),B.drawMainTitle(F),i.previousPromises(F)},B.doModeBar=function(F){var I=F._fullLayout;s.manage(F);for(var j=0;j<I._basePlotModules.length;j++){var V=I._basePlotModules[j].updateFx;V&&V(F)}return i.previousPromises(F)},B.doCamera=function(F){for(var I=F._fullLayout,j=I._subplots.gl3d,V=0;V<j.length;V++){var W=I[j[V]],K=W._scene;K.setViewport(W)}},B.drawData=function(F){var I=F._fullLayout;d(F);for(var j=I._basePlotModules,V=0;V<j.length;V++)j[V].plot(F);return B.redrawReglTraces(F),i.style(F),E.getComponentMethod("selections","draw")(F),E.getComponentMethod("shapes","draw")(F),E.getComponentMethod("annotations","draw")(F),E.getComponentMethod("images","draw")(F),I._replotting=!1,i.previousPromises(F)},B.redrawReglTraces=function(F){var I=F._fullLayout;if(I._has("regl")){var j=F._fullData,V=[],W=[],K,et;for(I._hasOnlyLargeSploms&&I._splomGrid.draw(),K=0;K<j.length;K++){var lt=j[K];lt.visible===!0&&lt._length!==0&&(lt.type==="splom"?I._splomScenes[lt.uid].draw():lt.type==="scattergl"?M.pushUnique(V,lt.xaxis+lt.yaxis):lt.type==="scatterpolargl"&&M.pushUnique(W,lt.subplot))}for(K=0;K<V.length;K++)et=I._plots[V[K]],et._scene&&et._scene.draw();for(K=0;K<W.length;K++)et=I[W[K]]._subplot,et._scene&&et._scene.draw()}},B.doAutoRangeAndConstraints=function(F){for(var I=n.list(F,"",!0),j,V={},W=0;W<I.length;W++)if(j=I[W],!V[j._id]){V[j._id]=1,b(F,j),f(F,j);var K=j._matchGroup;if(K)for(var et in K){var lt=n.getFromId(F,et);f(F,lt,j.range),V[et]=1}}h(F)},B.finalDraw=function(F){E.getComponentMethod("rangeslider","draw")(F),E.getComponentMethod("rangeselector","draw")(F)},B.drawMarginPushers=function(F){E.getComponentMethod("legend","draw")(F),E.getComponentMethod("rangeselector","draw")(F),E.getComponentMethod("sliders","draw")(F),E.getComponentMethod("updatemenus","draw")(F),E.getComponentMethod("colorbar","draw")(F)}},94828:function(X,B,t){var x=t(3400),E=x.isPlainObject,i=t(73060),M=t(7316),m=t(45464),d=t(31780),v=t(20556).dfltConfig;B.makeTemplate=function(f){f=x.isPlainObject(f)?f:x.getGraphDiv(f),f=x.extendDeep({_context:v},{data:f.data,layout:f.layout}),M.supplyDefaults(f);var k=f.data||[],a=f.layout||{};a._basePlotModules=f._fullLayout._basePlotModules,a._modules=f._fullLayout._modules;var c={data:{},layout:{}};k.forEach(function(A){var R={};s(A,R,l.bind(null,A));var O=x.coerce(A,{},m,"type"),N=c.data[O];N||(N=c.data[O]=[]),N.push(R)}),s(a,c.layout,n.bind(null,a)),delete c.layout.template;var p=a.template;if(E(p)){var w=p.layout,S,_,T,P,u,g;E(w)&&r(w,c.layout);var L=p.data;if(E(L)){for(_ in c.data)if(T=L[_],Array.isArray(T)){for(u=c.data[_],g=u.length,P=T.length,S=0;S<g;S++)r(T[S%P],u[S]);for(S=g;S<P;S++)u.push(x.extendDeep({},T[S]))}for(_ in L)_ in c.data||(c.data[_]=x.extendDeep([],L[_]))}}return c};function r(f,k){f=x.extendDeep({},f);var a=Object.keys(f).sort(),c,p;function w(u,g,L){if(E(g)&&E(u))r(u,g);else if(Array.isArray(g)&&Array.isArray(u)){var A=d.arrayTemplater({_template:f},L);for(p=0;p<g.length;p++){var R=g[p],O=A.newItem(R)._template;O&&r(O,R)}var N=A.defaultItems();for(p=0;p<N.length;p++)g.push(N[p]._template);for(p=0;p<g.length;p++)delete g[p].templateitemname}}for(c=0;c<a.length;c++){var S=a[c],_=f[S];if(S in k?w(_,k[S],S):k[S]=_,e(S)===S)for(var T in k){var P=e(T);T!==P&&P===S&&!(T in f)&&w(_,k[T],S)}}}function e(f){return f.replace(/[0-9]+$/,"")}function s(f,k,a,c,p){var w=p&&a(p);for(var S in f){var _=f[S],T=o(f,S,c),P=o(f,S,p),u=a(P);if(!u){var g=e(S);g!==S&&(P=o(f,g,p),u=a(P))}if(!(w&&w===u)&&!(!u||u._noTemplating||u.valType==="data_array"||u.arrayOk&&Array.isArray(_)))if(!u.valType&&E(_))s(_,k,a,T,P);else if(u._isLinkedToArray&&Array.isArray(_))for(var L=!1,A=0,R={},O=0;O<_.length;O++){var N=_[O];if(E(N)){var z=N.name;if(z)R[z]||(s(N,k,a,o(_,A,T),o(_,A,P)),A++,R[z]=1);else if(!L){var F=d.arrayDefaultKey(S),I=o(f,F,c),j=o(_,A,T);s(N,k,a,j,o(_,A,P));var V=x.nestedProperty(k,j),W=x.nestedProperty(k,I);W.set(V.get()),V.set(null),L=!0}}}else{var K=x.nestedProperty(k,T);K.set(_)}}}function n(f,k){return i.getLayoutValObject(f,x.nestedProperty({},k).parts)}function l(f,k){return i.getTraceValObject(f,x.nestedProperty({},k).parts)}function o(f,k,a){var c;return a?Array.isArray(f)?c=a+"["+k+"]":c=a+"."+k:c=k,c}B.validateTemplate=function(f,k){var a=x.extendDeep({},{_context:v,data:f.data,layout:f.layout}),c=a.layout||{};E(k)||(k=c.template||{});var p=k.layout,w=k.data,S=[];a.layout=c,a.layout.template=k,M.supplyDefaults(a);var _=a._fullLayout,T=a._fullData,P={};function u(I,j){for(var V in I)if(V.charAt(0)!=="_"&&E(I[V])){var W=e(V),K=[],et;for(et=0;et<j.length;et++)K.push(o(I,V,j[et])),W!==V&&K.push(o(I,W,j[et]));for(et=0;et<K.length;et++)P[K[et]]=1;u(I[V],K)}}function g(I,j){for(var V in I)if(V.indexOf("defaults")===-1&&E(I[V])){var W=o(I,V,j);P[W]?g(I[V],W):S.push({code:"unused",path:W})}}if(E(p)?(u(_,["layout"]),g(p,"layout")):S.push({code:"layout"}),!E(w))S.push({code:"data"});else{for(var L={},A,R=0;R<T.length;R++){var O=T[R];A=O.type,L[A]=(L[A]||0)+1,O._fullInput._template||S.push({code:"missing",index:O._fullInput.index,traceType:A})}for(A in w){var N=w[A].length,z=L[A]||0;N>z?S.push({code:"unused",traceType:A,templateCount:N,dataCount:z}):z>N&&S.push({code:"reused",traceType:A,templateCount:N,dataCount:z})}}function F(I,j){for(var V in I)if(V.charAt(0)!=="_"){var W=I[V],K=o(I,V,j);E(W)?(Array.isArray(I)&&W._template===!1&&W.templateitemname&&S.push({code:"missing",path:K,templateitemname:W.templateitemname}),F(W,K)):Array.isArray(W)&&h(W)&&F(W,K)}}if(F({data:T,layout:_},""),S.length)return S.map(b)};function h(f){for(var k=0;k<f.length;k++)if(E(f[k]))return!0}function b(f){var k;switch(f.code){case"data":k="The template has no key data.";break;case"layout":k="The template has no key layout.";break;case"missing":f.path?k="There are no templates for item "+f.path+" with name "+f.templateitemname:k="There are no templates for trace "+f.index+", of type "+f.traceType+".";break;case"unused":f.path?k="The template item at "+f.path+" was not used in constructing the plot.":f.dataCount?k="Some of the templates of type "+f.traceType+" were not used. The template has "+f.templateCount+" traces, the data only has "+f.dataCount+" of this type.":k="The template has "+f.templateCount+" traces of type "+f.traceType+" but there are none in the data.";break;case"reused":k="Some of the templates of type "+f.traceType+" were used more than once. The template has "+f.templateCount+" traces, the data has "+f.dataCount+" of this type.";break}return f.msg=k,f}},67024:function(X,B,t){var x=t(38248),E=t(36424),i=t(7316),M=t(3400),m=t(81792),d=t(37164),v=t(63268),r=t(25788).version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(n,l){l=l||{};var o,h,b,f;M.isPlainObject(n)?(o=n.data||[],h=n.layout||{},b=n.config||{},f={}):(n=M.getGraphDiv(n),o=M.extendDeep([],n.data),h=M.extendDeep({},n.layout),b=n._context,f=n._fullLayout||{});function k(z){return!(z in l)||M.validate(l[z],e[z])}if(!k("width")&&l.width!==null||!k("height")&&l.height!==null)throw new Error("Height and width should be pixel values.");if(!k("format"))throw new Error("Export format is not "+M.join2(e.format.values,", "," or ")+".");var a={};function c(z,F){return M.coerce(l,a,e,z,F)}var p=c("format"),w=c("width"),S=c("height"),_=c("scale"),T=c("setBackground"),P=c("imageDataOnly"),u=document.createElement("div");u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);var g=M.extendFlat({},h);w?g.width=w:l.width===null&&x(f.width)&&(g.width=f.width),S?g.height=S:l.height===null&&x(f.height)&&(g.height=f.height);var L=M.extendFlat({},b,{_exportedPlot:!0,staticPlot:!0,setBackground:T}),A=m.getRedrawFunc(u);function R(){return new Promise(function(z){setTimeout(z,m.getDelay(u._fullLayout))})}function O(){return new Promise(function(z,F){var I=d(u,p,_),j=u._fullLayout.width,V=u._fullLayout.height;function W(){E.purge(u),document.body.removeChild(u)}if(p==="full-json"){var K=i.graphJson(u,!1,"keepdata","object",!0,!0);return K.version=r,K=JSON.stringify(K),W(),z(P?K:m.encodeJSON(K))}if(W(),p==="svg")return z(P?I:m.encodeSVG(I));var et=document.createElement("canvas");et.id=M.randstr(),v({format:p,width:j,height:V,scale:_,canvas:et,svg:I,promise:!0}).then(z).catch(F)})}function N(z){return P?z.replace(m.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,F){E.newPlot(u,o,g,L).then(A).then(R).then(O).then(function(I){z(N(I))}).catch(function(I){F(I)})})}X.exports=s},21480:function(X,B,t){var x=t(3400),E=t(7316),i=t(73060),M=t(20556).dfltConfig,m=x.isPlainObject,d=Array.isArray,v=x.isArrayOrTypedArray;X.exports=function(a,c){a===void 0&&(a=[]),c===void 0&&(c={});var p=i.get(),w=[],S={_context:x.extendFlat({},M)},_,T;d(a)?(S.data=x.extendDeep([],a),_=a):(S.data=[],_=[],w.push(l("array","data"))),m(c)?(S.layout=x.extendDeep({},c),T=c):(S.layout={},T={},arguments.length>1&&w.push(l("object","layout"))),E.supplyDefaults(S);for(var P=S._fullData,u=_.length,g=0;g<u;g++){var L=_[g],A=["data",g];if(!m(L)){w.push(l("object",A));continue}var R=P[g],O=R.type,N=p.traces[O].attributes;N.type={valType:"enumerated",values:[O]},R.visible===!1&&L.visible!==!1&&w.push(l("invisible",A)),r(L,R,N,w,A);var z=L.transforms,F=R.transforms;if(z){d(z)||w.push(l("array",A,["transforms"])),A.push("transforms");for(var I=0;I<z.length;I++){var j=["transforms",I],V=z[I].type;if(!m(z[I])){w.push(l("object",A,j));continue}var W=p.transforms[V]?p.transforms[V].attributes:{};W.type={valType:"enumerated",values:Object.keys(p.transforms)},r(z[I],F[I],W,w,A,j)}}}var K=S._fullLayout,et=e(p,P);return r(T,K,et,w,"layout"),w.length===0?void 0:w};function r(a,c,p,w,S,_){_=_||[];for(var T=Object.keys(a),P=0;P<T.length;P++){var u=T[P];if(u!=="transforms"){var g=_.slice();g.push(u);var L=a[u],A=c[u],R=h(p,u),O=(R||{}).valType,N=O==="info_array",z=O==="colorscale",F=(R||{}).items;if(!o(p,u))w.push(l("schema",S,g));else if(m(L)&&m(A)&&O!=="any")r(L,A,R,w,S,g);else if(N&&d(L)){L.length>A.length&&w.push(l("unused",S,g.concat(A.length)));var I=A.length,j=Array.isArray(F);j&&(I=Math.min(I,F.length));var V,W,K,et,lt;if(R.dimensions===2)for(W=0;W<I;W++)if(d(L[W])){L[W].length>A[W].length&&w.push(l("unused",S,g.concat(W,A[W].length)));var ot=A[W].length;for(V=0;V<(j?Math.min(ot,F[W].length):ot);V++)K=j?F[W][V]:F,et=L[W][V],lt=A[W][V],x.validate(et,K)?lt!==et&&lt!==+et&&w.push(l("dynamic",S,g.concat(W,V),et,lt)):w.push(l("value",S,g.concat(W,V),et))}else w.push(l("array",S,g.concat(W),L[W]));else for(W=0;W<I;W++)K=j?F[W]:F,et=L[W],lt=A[W],x.validate(et,K)?lt!==et&&lt!==+et&&w.push(l("dynamic",S,g.concat(W),et,lt)):w.push(l("value",S,g.concat(W),et))}else if(R.items&&!N&&d(L)){var q=F[Object.keys(F)[0]],J=[],it,Z;for(it=0;it<A.length;it++){var tt=A[it]._index||it;if(Z=g.slice(),Z.push(tt),m(L[tt])&&m(A[it])){J.push(tt);var st=L[tt],Q=A[it];m(st)&&st.visible!==!1&&Q.visible===!1?w.push(l("invisible",S,Z)):r(st,Q,q,w,S,Z)}}for(it=0;it<L.length;it++)Z=g.slice(),Z.push(it),m(L[it])?J.indexOf(it)===-1&&w.push(l("unused",S,Z)):w.push(l("object",S,Z,L[it]))}else!m(L)&&m(A)?w.push(l("object",S,g,L)):!v(L)&&v(A)&&!N&&!z?w.push(l("array",S,g,L)):u in c?x.validate(L,R)?R.valType==="enumerated"&&(R.coerceNumber&&L!==+A||L!==A)&&w.push(l("dynamic",S,g,L,A)):w.push(l("value",S,g,L)):w.push(l("unused",S,g,L))}}return w}function e(a,c){for(var p=a.layout.layoutAttributes,w=0;w<c.length;w++){var S=c[w],_=a.traces[S.type],T=_.layoutAttributes;T&&(S.subplot?x.extendFlat(p[_.attributes.subplot.dflt],T):x.extendFlat(p,T))}return p}var s={object:function(a,c){var p;return a==="layout"&&c===""?p="The layout argument":a[0]==="data"&&c===""?p="Trace "+a[1]+" in the data argument":p=n(a)+"key "+c,p+" must be linked to an object container"},array:function(a,c){var p;return a==="data"?p="The data argument":p=n(a)+"key "+c,p+" must be linked to an array container"},schema:function(a,c){return n(a)+"key "+c+" is not part of the schema"},unused:function(a,c,p){var w=m(p)?"container":"key";return n(a)+w+" "+c+" did not get coerced"},dynamic:function(a,c,p,w){return[n(a)+"key",c,"(set to '"+p+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(a,c){return(c?n(a)+"item "+c:"Trace "+a[1])+" got defaulted to be not visible"},value:function(a,c,p){return[n(a)+"key "+c,"is set to an invalid value ("+p+")"].join(" ")}};function n(a){return d(a)?"In data trace "+a[1]+", ":"In "+a+", "}function l(a,c,p,w,S){p=p||"";var _,T;d(c)?(_=c[0],T=c[1]):(_=c,T=null);var P=k(p),u=s[a](c,P,w,S);return x.log(u),{code:a,container:_,trace:T,path:p,astr:P,msg:u}}function o(a,c){var p=f(c),w=p.keyMinusId,S=p.id;return w in a&&a[w]._isSubplotObj&&S?!0:c in a}function h(a,c){if(c in a)return a[c];var p=f(c);return a[p.keyMinusId]}var b=x.counterRegex("([a-z]+)");function f(a){var c=a.match(b);return{keyMinusId:c&&c[1],id:c&&c[2]}}function k(a){if(!d(a))return String(a);for(var c="",p=0;p<a.length;p++){var w=a[p];typeof w=="number"?c=c.substr(0,c.length-1)+"["+w+"]":c+=w,p<a.length-1&&(c+=".")}return c}},85656:function(X){X.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(X,B,t){var x=t(3400),E=t(31780);X.exports=function(i,M,m){var d=m.name,v=m.inclusionAttr||"visible",r=M[d],e=x.isArrayOrTypedArray(i[d])?i[d]:[],s=M[d]=[],n=E.arrayTemplater(M,d,v),l,o;for(l=0;l<e.length;l++){var h=e[l];x.isPlainObject(h)?o=n.newItem(h):(o=n.newItem({}),o[v]=!1),o._index=l,o[v]!==!1&&m.handleItemDefaults(h,o,M,m),s.push(o)}var b=n.defaultItems();for(l=0;l<b.length;l++)o=b[l],o._index=s.length,m.handleItemDefaults({},o,M,m,{}),s.push(o);if(x.isArrayOrTypedArray(r)){var f=Math.min(r.length,s.length);for(l=0;l<f;l++)x.relinkPrivateKeys(s[l],r[l])}return s}},45464:function(X,B,t){var x=t(25376),E=t(55756);X.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:x({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:E.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(X,B,t){var x=t(38248),E=t(3400),i=E.dateTime2ms,M=E.incrementMonth,m=t(39032),d=m.ONEAVGMONTH;X.exports=function(v,r,e,s){if(r.type!=="date")return{vals:s};var n=v[e+"periodalignment"];if(!n)return{vals:s};var l=v[e+"period"],o;if(x(l)){if(l=+l,l<=0)return{vals:s}}else if(typeof l=="string"&&l.charAt(0)==="M"){var h=+l.substring(1);if(h>0&&Math.round(h)===h)o=h;else return{vals:s}}for(var b=r.calendar,f=n==="start",k=n==="end",a=v[e+"period0"],c=i(a,b)||0,p=[],w=[],S=[],_=s.length,T=0;T<_;T++){var P=s[T],u,g,L;if(o){for(u=Math.round((P-c)/(o*d)),L=M(c,o*u,b);L>P;)L=M(L,-o,b);for(;L<=P;)L=M(L,o,b);g=M(L,-o,b)}else{for(u=Math.round((P-c)/l),L=c+u*l;L>P;)L-=l;for(;L<=P;)L+=l;g=L-l}p[T]=f?g:k?L:(g+L)/2,w[T]=g,S[T]=L}return{vals:p,starts:w,ends:S}}},26720:function(X){X.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(X,B,t){var x=t(33428),E=t(38248),i=t(3400),M=t(39032).FP_SAFE,m=t(24040),d=t(43616),v=t(79811),r=v.getFromId,e=v.isLinked;X.exports={applyAutorangeOptions:g,getAutoRange:s,makePadFn:l,doAutoRange:f,findExtremes:k,concatExtremes:b};function s(L,A){var R,O,N=[],z=L._fullLayout,F=l(z,A,0),I=l(z,A,1),j=b(L,A),V=j.min,W=j.max;if(V.length===0||W.length===0)return i.simpleMap(A.range,A.r2l);var K=V[0].val,et=W[0].val;for(R=1;R<V.length&&K===et;R++)K=Math.min(K,V[R].val);for(R=1;R<W.length&&K===et;R++)et=Math.max(et,W[R].val);var lt=A.autorange,ot=lt==="reversed"||lt==="min reversed"||lt==="max reversed";if(!ot&&A.range){var q=i.simpleMap(A.range,A.r2l);ot=q[1]<q[0]}A.autorange==="reversed"&&(A.autorange=!0);var J=A.rangemode,it=J==="tozero",Z=J==="nonnegative",tt=A._length,st=tt/10,Q=0,G,ut,at,dt,gt,wt;for(R=0;R<V.length;R++)for(G=V[R],O=0;O<W.length;O++)ut=W[O],wt=ut.val-G.val-n(A,G.val,ut.val),wt>0&&(gt=tt-F(G)-I(ut),gt>st?wt/gt>Q&&(at=G,dt=ut,Q=wt/gt):wt/tt>Q&&(at={val:G.val,nopad:1},dt={val:ut.val,nopad:1},Q=wt/tt));function kt(Pt,Rt){return Math.max(Pt,I(Rt))}if(K===et){var Ot=K-1,bt=K+1;if(it)if(K===0)N=[0,1];else{var _t=(K>0?W:V).reduce(kt,0),mt=K/(1-Math.min(.5,_t/tt));N=K>0?[0,mt]:[mt,0]}else Z?N=[Math.max(0,Ot),Math.max(1,bt)]:N=[Ot,bt]}else it?(at.val>=0&&(at={val:0,nopad:1}),dt.val<=0&&(dt={val:0,nopad:1})):Z&&(at.val-Q*F(at)<0&&(at={val:0,nopad:1}),dt.val<=0&&(dt={val:1,nopad:1})),Q=(dt.val-at.val-n(A,G.val,ut.val))/(tt-F(at)-I(dt)),N=[at.val-Q*F(at),dt.val+Q*I(dt)];return N=g(N,A),A.limitRange&&A.limitRange(),ot&&N.reverse(),i.simpleMap(N,A.l2r||Number)}function n(L,A,R){var O=0;if(L.rangebreaks)for(var N=L.locateBreaks(A,R),z=0;z<N.length;z++){var F=N[z];O+=F.max-F.min}return O}function l(L,A,R){var O=.05*A._length,N=A._anchorAxis||{};if((A.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var z=A.isReversed();if(!z){var F=i.simpleMap(A.range,A.r2l);z=F[1]<F[0]}z&&(R=!R)}var I=0;return e(L,A._id)||(I=h(L,A,R)),O=Math.max(I,O),A.constrain==="domain"&&A._inputDomain&&(O*=(A._inputDomain[1]-A._inputDomain[0])/(A.domain[1]-A.domain[0])),function(j){return j.nopad?0:j.pad+(j.extrapad?O:I)}}var o=3;function h(L,A,R){var O=0,N=A._id.charAt(0)==="x";for(var z in L._plots){var F=L._plots[z];if(!(A._id!==F.xaxis._id&&A._id!==F.yaxis._id)){var I=(N?F.yaxis:F.xaxis)||{};if((I.ticklabelposition||"").indexOf("inside")!==-1&&(!R&&(I.side==="left"||I.side==="bottom")||R&&(I.side==="top"||I.side==="right"))){if(I._vals){var j=i.deg2rad(I._tickAngles[I._id+"tick"]||0),V=Math.abs(Math.cos(j)),W=Math.abs(Math.sin(j));if(!I._vals[0].bb){var K=I._id+"tick",et=I._selections[K];et.each(function(Z){var tt=x.select(this),st=tt.select(".text-math-group");st.empty()&&(Z.bb=d.bBox(tt.node()))})}for(var lt=0;lt<I._vals.length;lt++){var ot=I._vals[lt],q=ot.bb;if(q){var J=2*o+q.width,it=2*o+q.height;O=Math.max(O,N?Math.max(J*V,it*W):Math.max(it*V,J*W))}}}I.ticks==="inside"&&I.ticklabelposition==="inside"&&(O+=I.ticklen||0)}}}return O}function b(L,A,R){var O=A._id,N=L._fullData,z=L._fullLayout,F=[],I=[],j,V,W;function K(J,it){for(j=0;j<it.length;j++){var Z=J[it[j]],tt=(Z._extremes||{})[O];if(Z.visible===!0&&tt){for(V=0;V<tt.min.length;V++)W=tt.min[V],a(F,W.val,W.pad,{extrapad:W.extrapad});for(V=0;V<tt.max.length;V++)W=tt.max[V],c(I,W.val,W.pad,{extrapad:W.extrapad})}}}if(K(N,A._traceIndices),K(z.annotations||[],A._annIndices||[]),K(z.shapes||[],A._shapeIndices||[]),A._matchGroup&&!R){for(var et in A._matchGroup)if(et!==A._id){var lt=r(L,et),ot=b(L,lt,!0),q=A._length/lt._length;for(V=0;V<ot.min.length;V++)W=ot.min[V],a(F,W.val,W.pad*q,{extrapad:W.extrapad});for(V=0;V<ot.max.length;V++)W=ot.max[V],c(I,W.val,W.pad*q,{extrapad:W.extrapad})}}return{min:F,max:I}}function f(L,A,R){if(A.setScale(),A.autorange){A.range=R?R.slice():s(L,A),A._r=A.range.slice(),A._rl=i.simpleMap(A._r,A.r2l);var O=A._input,N={};N[A._attr+".range"]=A.range,N[A._attr+".autorange"]=A.autorange,m.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,N),O.range=A.range.slice(),O.autorange=A.autorange}var z=A._anchorAxis;if(z&&z.rangeslider){var F=z.rangeslider[A._name];F&&F.rangemode==="auto"&&(F.range=s(L,A)),z._input.rangeslider[A._name]=i.extendFlat({},F)}}function k(L,A,R){R||(R={}),L._m||L.setScale();var O=[],N=[],z=A.length,F=R.padded||!1,I=R.tozero&&(L.type==="linear"||L.type==="-"),j=L.type==="log",V=!1,W=R.vpadLinearized||!1,K,et,lt,ot,q,J,it,Z,tt;function st(kt){if(Array.isArray(kt))return V=!0,function(bt){return Math.max(Number(kt[bt]||0),0)};var Ot=Math.max(Number(kt||0),0);return function(){return Ot}}var Q=st((L._m>0?R.ppadplus:R.ppadminus)||R.ppad||0),G=st((L._m>0?R.ppadminus:R.ppadplus)||R.ppad||0),ut=st(R.vpadplus||R.vpad),at=st(R.vpadminus||R.vpad);if(!V){if(Z=1/0,tt=-1/0,j)for(K=0;K<z;K++)et=A[K],et<Z&&et>0&&(Z=et),et>tt&&et<M&&(tt=et);else for(K=0;K<z;K++)et=A[K],et<Z&&et>-M&&(Z=et),et>tt&&et<M&&(tt=et);A=[Z,tt],z=2}var dt={tozero:I,extrapad:F};function gt(kt){lt=A[kt],E(lt)&&(J=Q(kt),it=G(kt),W?(ot=L.c2l(lt)-at(kt),q=L.c2l(lt)+ut(kt)):(Z=lt-at(kt),tt=lt+ut(kt),j&&Z<tt/10&&(Z=tt/10),ot=L.c2l(Z),q=L.c2l(tt)),I&&(ot=Math.min(0,ot),q=Math.max(0,q)),w(ot)&&a(O,ot,it,dt),w(q)&&c(N,q,J,dt))}var wt=Math.min(6,z);for(K=0;K<wt;K++)gt(K);for(K=z-1;K>=wt;K--)gt(K);return{min:O,max:N,opts:R}}function a(L,A,R,O){p(L,A,R,O,S)}function c(L,A,R,O){p(L,A,R,O,_)}function p(L,A,R,O,N){for(var z=O.tozero,F=O.extrapad,I=!0,j=0;j<L.length&&I;j++){var V=L[j];if(N(V.val,A)&&V.pad>=R&&(V.extrapad||!F)){I=!1;break}else N(A,V.val)&&V.pad<=R&&(F||!V.extrapad)&&(L.splice(j,1),j--)}if(I){var W=z&&A===0;L.push({val:A,pad:W?0:R,extrapad:W?!1:F})}}function w(L){return E(L)&&Math.abs(L)<M}function S(L,A){return L<=A}function _(L,A){return L>=A}function T(L,A){var R=A.autorangeoptions;return R&&R.minallowed!==void 0&&u(A,R.minallowed,R.maxallowed)?R.minallowed:R&&R.clipmin!==void 0&&u(A,R.clipmin,R.clipmax)?Math.max(L,A.d2l(R.clipmin)):L}function P(L,A){var R=A.autorangeoptions;return R&&R.maxallowed!==void 0&&u(A,R.minallowed,R.maxallowed)?R.maxallowed:R&&R.clipmax!==void 0&&u(A,R.clipmin,R.clipmax)?Math.min(L,A.d2l(R.clipmax)):L}function u(L,A,R){return A!==void 0&&R!==void 0?(A=L.d2l(A),R=L.d2l(R),A<R):!0}function g(L,A){if(!A||!A.autorangeoptions)return L;var R=L[0],O=L[1],N=A.autorangeoptions.include;if(N!==void 0){var z=A.d2l(R),F=A.d2l(O);i.isArrayOrTypedArray(N)||(N=[N]);for(var I=0;I<N.length;I++){var j=A.d2l(N[I]);z>=j&&(z=j,R=j),F<=j&&(F=j,O=j)}}return R=T(R,A),O=P(O,A),[R,O]}},76808:function(X){X.exports=function(B,t,x){var E,i;if(x){var M=t==="reversed"||t==="min reversed"||t==="max reversed";E=x[M?1:0],i=x[M?0:1]}var m=B("autorangeoptions.minallowed",i===null?E:void 0),d=B("autorangeoptions.maxallowed",E===null?i:void 0);m===void 0&&B("autorangeoptions.clipmin"),d===void 0&&B("autorangeoptions.clipmax"),B("autorangeoptions.include")}},54460:function(X,B,t){var x=t(33428),E=t(38248),i=t(7316),M=t(24040),m=t(3400),d=m.strTranslate,v=t(72736),r=t(81668),e=t(76308),s=t(43616),n=t(94724),l=t(98728),o=t(39032),h=o.ONEMAXYEAR,b=o.ONEAVGYEAR,f=o.ONEMINYEAR,k=o.ONEMAXQUARTER,a=o.ONEAVGQUARTER,c=o.ONEMINQUARTER,p=o.ONEMAXMONTH,w=o.ONEAVGMONTH,S=o.ONEMINMONTH,_=o.ONEWEEK,T=o.ONEDAY,P=T/2,u=o.ONEHOUR,g=o.ONEMIN,L=o.ONESEC,A=o.MINUS_SIGN,R=o.BADNUM,O={K:"zeroline"},N={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},I={K:"tick",L:"text"},j={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=t(84284),W=V.MID_SHIFT,K=V.CAP_SHIFT,et=V.LINE_SPACING,lt=V.OPPOSITE_SIDE,ot=3,q=X.exports={};q.setConvert=t(78344);var J=t(52976),it=t(79811),Z=it.idSort,tt=it.isLinked;q.id2name=it.id2name,q.name2id=it.name2id,q.cleanId=it.cleanId,q.list=it.list,q.listIds=it.listIds,q.getFromId=it.getFromId,q.getFromTrace=it.getFromTrace;var st=t(19280);q.getAutoRange=st.getAutoRange,q.findExtremes=st.findExtremes;var Q=1e-4;function G(jt){var Gt=(jt[1]-jt[0])*Q;return[jt[0]-Gt,jt[1]+Gt]}q.coerceRef=function(jt,Gt,Ce,Ie,We,$e){var ir=Ie.charAt(Ie.length-1),er=Ce._fullLayout._subplots[ir+"axis"],De=Ie+"ref",lr={};return We||(We=er[0]||(typeof $e=="string"?$e:$e[0])),$e||($e=We),er=er.concat(er.map(function(vr){return vr+" domain"})),lr[De]={valType:"enumerated",values:er.concat($e?typeof $e=="string"?[$e]:$e:[]),dflt:We},m.coerce(jt,Gt,lr,De)},q.getRefType=function(jt){return jt===void 0?jt:jt==="paper"?"paper":jt==="pixel"?"pixel":/( domain)$/.test(jt)?"domain":"range"},q.coercePosition=function(jt,Gt,Ce,Ie,We,$e){var ir,er,De=q.getRefType(Ie);if(De!=="range")ir=m.ensureNumber,er=Ce(We,$e);else{var lr=q.getFromId(Gt,Ie);$e=lr.fraction2r($e),er=Ce(We,$e),ir=lr.cleanPos}jt[We]=ir(er)},q.cleanPosition=function(jt,Gt,Ce){var Ie=Ce==="paper"||Ce==="pixel"?m.ensureNumber:q.getFromId(Gt,Ce).cleanPos;return Ie(jt)},q.redrawComponents=function(jt,Gt){Gt=Gt||q.listIds(jt);var Ce=jt._fullLayout;function Ie(We,$e,ir,er){for(var De=M.getComponentMethod(We,$e),lr={},vr=0;vr<Gt.length;vr++)for(var dr=Ce[q.id2name(Gt[vr])],fr=dr[ir],zr=0;zr<fr.length;zr++){var Or=fr[zr];if(!lr[Or]&&(De(jt,Or),lr[Or]=1,er))return}}Ie("annotations","drawOne","_annIndices"),Ie("shapes","drawOne","_shapeIndices"),Ie("images","draw","_imgIndices",!0),Ie("selections","drawOne","_selectionIndices")};var ut=q.getDataConversions=function(jt,Gt,Ce,Ie){var We,$e=Ce==="x"||Ce==="y"||Ce==="z"?Ce:Ie;if(m.isArrayOrTypedArray($e)){if(We={type:J(Ie,void 0,{autotypenumbers:jt._fullLayout.autotypenumbers}),_categories:[]},q.setConvert(We),We.type==="category")for(var ir=0;ir<Ie.length;ir++)We.d2c(Ie[ir])}else We=q.getFromTrace(jt,Gt,$e);return We?{d2c:We.d2c,c2d:We.c2d}:$e==="ids"?{d2c:dt,c2d:dt}:{d2c:at,c2d:at}};function at(jt){return+jt}function dt(jt){return String(jt)}q.getDataToCoordFunc=function(jt,Gt,Ce,Ie){return ut(jt,Gt,Ce,Ie).d2c},q.counterLetter=function(jt){var Gt=jt.charAt(0);if(Gt==="x")return"y";if(Gt==="y")return"x"},q.minDtick=function(jt,Gt,Ce,Ie){["log","category","multicategory"].indexOf(jt.type)!==-1||!Ie?jt._minDtick=0:jt._minDtick===void 0?(jt._minDtick=Gt,jt._forceTick0=Ce):jt._minDtick&&((jt._minDtick/Gt+1e-6)%1<2e-6&&((Ce-jt._forceTick0)/Gt%1+1.000001)%1<2e-6?(jt._minDtick=Gt,jt._forceTick0=Ce):((Gt/jt._minDtick+1e-6)%1>2e-6||((Ce-jt._forceTick0)/jt._minDtick%1+1.000001)%1>2e-6)&&(jt._minDtick=0))},q.saveRangeInitial=function(jt,Gt){for(var Ce=q.list(jt,"",!0),Ie=!1,We=0;We<Ce.length;We++){var $e=Ce[We],ir=$e._rangeInitial0===void 0&&$e._rangeInitial1===void 0,er=ir||$e.range[0]!==$e._rangeInitial0||$e.range[1]!==$e._rangeInitial1,De=$e.autorange;(ir&&De!==!0||Gt&&er)&&($e._rangeInitial0=De==="min"||De==="max reversed"?void 0:$e.range[0],$e._rangeInitial1=De==="max"||De==="min reversed"?void 0:$e.range[1],$e._autorangeInitial=De,Ie=!0)}return Ie},q.saveShowSpikeInitial=function(jt,Gt){for(var Ce=q.list(jt,"",!0),Ie=!1,We="on",$e=0;$e<Ce.length;$e++){var ir=Ce[$e],er=ir._showSpikeInitial===void 0,De=er||ir.showspikes!==ir._showspikes;(er||Gt&&De)&&(ir._showSpikeInitial=ir.showspikes,Ie=!0),We==="on"&&!ir.showspikes&&(We="off")}return jt._fullLayout._cartesianSpikesEnabled=We,Ie},q.autoBin=function(jt,Gt,Ce,Ie,We,$e){var ir=m.aggNums(Math.min,null,jt),er=m.aggNums(Math.max,null,jt);if(Gt.type==="category"||Gt.type==="multicategory")return{start:ir-.5,end:er+.5,size:Math.max(1,Math.round($e)||1),_dataSpan:er-ir};We||(We=Gt.calendar);var De;if(Gt.type==="log"?De={type:"linear",range:[ir,er]}:De={type:Gt.type,range:m.simpleMap([ir,er],Gt.c2r,0,We),calendar:We},q.setConvert(De),$e=$e&&l.dtick($e,De.type),$e)De.dtick=$e,De.tick0=l.tick0(void 0,De.type,We);else{var lr;if(Ce)lr=(er-ir)/Ce;else{var vr=m.distinctVals(jt),dr=Math.pow(10,Math.floor(Math.log(vr.minDiff)/Math.LN10)),fr=dr*m.roundUp(vr.minDiff/dr,[.9,1.9,4.9,9.9],!0);lr=Math.max(fr,2*m.stdev(jt)/Math.pow(jt.length,Ie?.25:.4)),E(lr)||(lr=1)}q.autoTicks(De,lr)}var zr=De.dtick,Or=q.tickIncrement(q.tickFirst(De),zr,"reverse",We),Ir,sn;if(typeof zr=="number")Or=gt(Or,jt,De,ir,er),sn=1+Math.floor((er-Or)/zr),Ir=Or+sn*zr;else for(De.dtick.charAt(0)==="M"&&(Or=wt(Or,jt,zr,ir,We)),Ir=Or,sn=0;Ir<=er;)Ir=q.tickIncrement(Ir,zr,!1,We),sn++;return{start:Gt.c2r(Or,0,We),end:Gt.c2r(Ir,0,We),size:zr,_dataSpan:er-ir}};function gt(jt,Gt,Ce,Ie,We){var $e=0,ir=0,er=0,De=0;function lr(zr){return(1+(zr-jt)*100/Ce.dtick)%100<2}for(var vr=0;vr<Gt.length;vr++)Gt[vr]%1===0?er++:E(Gt[vr])||De++,lr(Gt[vr])&&$e++,lr(Gt[vr]+Ce.dtick/2)&&ir++;var dr=Gt.length-De;if(er===dr&&Ce.type!=="date")Ce.dtick<1?jt=Ie-.5*Ce.dtick:(jt-=.5,jt+Ce.dtick<Ie&&(jt+=Ce.dtick));else if(ir<dr*.1&&($e>dr*.3||lr(Ie)||lr(We))){var fr=Ce.dtick/2;jt+=jt+fr<Ie?fr:-fr}return jt}function wt(jt,Gt,Ce,Ie,We){var $e=m.findExactDates(Gt,We),ir=.8;if($e.exactDays>ir){var er=Number(Ce.substr(1));$e.exactYears>ir&&er%12===0?jt=q.tickIncrement(jt,"M6","reverse")+T*1.5:$e.exactMonths>ir?jt=q.tickIncrement(jt,"M1","reverse")+T*15.5:jt-=P;var De=q.tickIncrement(jt,Ce);if(De<=Ie)return De}return jt}q.prepMinorTicks=function(jt,Gt,Ce){if(!Gt.minor.dtick){delete jt.dtick;var Ie=Gt.dtick&&E(Gt._tmin),We;if(Ie){var $e=q.tickIncrement(Gt._tmin,Gt.dtick,!0);We=[Gt._tmin,$e*.99+Gt._tmin*.01]}else{var ir=m.simpleMap(Gt.range,Gt.r2l);We=[ir[0],.8*ir[0]+.2*ir[1]]}if(jt.range=m.simpleMap(We,Gt.l2r),jt._isMinor=!0,q.prepTicks(jt,Ce),Ie){var er=E(Gt.dtick),De=E(jt.dtick),lr=er?Gt.dtick:+Gt.dtick.substring(1),vr=De?jt.dtick:+jt.dtick.substring(1);er&&De?kt(lr,vr)?lr===2*_&&vr===2*T&&(jt.dtick=_):lr===2*_&&vr===3*T?jt.dtick=_:lr===_&&!(Gt._input.minor||{}).nticks?jt.dtick=T:Ot(lr/vr,2.5)?jt.dtick=lr/2:jt.dtick=lr:String(Gt.dtick).charAt(0)==="M"?De?jt.dtick="M1":kt(lr,vr)?lr>=12&&vr===2&&(jt.dtick="M3"):jt.dtick=Gt.dtick:String(jt.dtick).charAt(0)==="L"?String(Gt.dtick).charAt(0)==="L"?kt(lr,vr)||(jt.dtick=Ot(lr/vr,2.5)?Gt.dtick/2:Gt.dtick):jt.dtick="D1":jt.dtick==="D2"&&+Gt.dtick>1&&(jt.dtick=1)}jt.range=Gt.range}Gt.minor._tick0Init===void 0&&(jt.tick0=Gt.tick0)};function kt(jt,Gt){return Math.abs((jt/Gt+.5)%1-.5)<.001}function Ot(jt,Gt){return Math.abs(jt/Gt-1)<.001}q.prepTicks=function(jt,Gt){var Ce=m.simpleMap(jt.range,jt.r2l,void 0,void 0,Gt);if(jt.tickmode==="auto"||!jt.dtick){var Ie=jt.nticks,We;Ie||(jt.type==="category"||jt.type==="multicategory"?(We=jt.tickfont?m.bigFont(jt.tickfont.size||12):15,Ie=jt._length/We):(We=jt._id.charAt(0)==="y"?40:80,Ie=m.constrain(jt._length/We,4,9)+1),jt._name==="radialaxis"&&(Ie*=2)),jt.minor&&jt.minor.tickmode!=="array"||jt.tickmode==="array"&&(Ie*=100),jt._roughDTick=Math.abs(Ce[1]-Ce[0])/Ie,q.autoTicks(jt,jt._roughDTick),jt._minDtick>0&&jt.dtick<jt._minDtick*2&&(jt.dtick=jt._minDtick,jt.tick0=jt.l2r(jt._forceTick0))}jt.ticklabelmode==="period"&&_t(jt),jt.tick0||(jt.tick0=jt.type==="date"?"2000-01-01":0),jt.type==="date"&&jt.dtick<.1&&(jt.dtick=.1),ye(jt)};function bt(jt){return+jt.substring(1)}function _t(jt){var Gt;function Ce(){return!(E(jt.dtick)||jt.dtick.charAt(0)!=="M")}var Ie=Ce(),We=q.getTickFormat(jt);if(We){var $e=jt._dtickInit!==jt.dtick;/%[fLQsSMX]/.test(We)||(/%[HI]/.test(We)?(Gt=u,$e&&!Ie&&jt.dtick<u&&(jt.dtick=u)):/%p/.test(We)?(Gt=P,$e&&!Ie&&jt.dtick<P&&(jt.dtick=P)):/%[Aadejuwx]/.test(We)?(Gt=T,$e&&!Ie&&jt.dtick<T&&(jt.dtick=T)):/%[UVW]/.test(We)?(Gt=_,$e&&!Ie&&jt.dtick<_&&(jt.dtick=_)):/%[Bbm]/.test(We)?(Gt=w,$e&&(Ie?bt(jt.dtick)<1:jt.dtick<S)&&(jt.dtick="M1")):/%[q]/.test(We)?(Gt=a,$e&&(Ie?bt(jt.dtick)<3:jt.dtick<c)&&(jt.dtick="M3")):/%[Yy]/.test(We)&&(Gt=b,$e&&(Ie?bt(jt.dtick)<12:jt.dtick<f)&&(jt.dtick="M12")))}Ie=Ce(),Ie&&jt.tick0===jt._dowTick0&&(jt.tick0=jt._rawTick0),jt._definedDelta=Gt}function mt(jt,Gt,Ce){for(var Ie=0;Ie<jt.length;Ie++){var We=jt[Ie].value,$e=Ie,ir=Ie+1;Ie<jt.length-1?($e=Ie,ir=Ie+1):Ie>0?($e=Ie-1,ir=Ie):($e=Ie,ir=Ie);var er=jt[$e].value,De=jt[ir].value,lr=Math.abs(De-er),vr=Ce||lr,dr=0;vr>=f?lr>=f&&lr<=h?dr=lr:dr=b:Ce===a&&vr>=c?lr>=c&&lr<=k?dr=lr:dr=a:vr>=S?lr>=S&&lr<=p?dr=lr:dr=w:Ce===_&&vr>=_?dr=_:vr>=T?dr=T:Ce===P&&vr>=P?dr=P:Ce===u&&vr>=u&&(dr=u);var fr;dr>=lr&&(dr=lr,fr=!0);var zr=We+dr;if(Gt.rangebreaks&&dr>0){for(var Or=84,Ir=0,sn=0;sn<Or;sn++){var nn=(sn+.5)/Or;Gt.maskBreaks(We*(1-nn)+nn*zr)!==R&&Ir++}dr*=Ir/Or,dr||(jt[Ie].drop=!0),fr&&lr>_&&(dr=lr)}(dr>0||Ie===0)&&(jt[Ie].periodX=We+dr/2)}}q.calcTicks=function(jt,Gt){for(var Ce=jt.type,Ie=jt.calendar,We=jt.ticklabelstep,$e=jt.ticklabelmode==="period",ir=m.simpleMap(jt.range,jt.r2l,void 0,void 0,Gt),er=ir[1]<ir[0],De=Math.min(ir[0],ir[1]),lr=Math.max(ir[0],ir[1]),vr=Math.max(1e3,jt._length||0),dr=[],fr=[],zr=[],Or=[],Ir=jt.minor&&(jt.minor.ticks||jt.minor.showgrid),sn=1;sn>=(Ir?0:1);sn--){var nn=!sn;sn?(jt._dtickInit=jt.dtick,jt._tick0Init=jt.tick0):(jt.minor._dtickInit=jt.minor.dtick,jt.minor._tick0Init=jt.minor.tick0);var kn=sn?jt:m.extendFlat({},jt,jt.minor);if(nn?q.prepMinorTicks(kn,jt,Gt):q.prepTicks(kn,Gt),kn.tickmode==="array"){sn?(zr=[],dr=Ht(jt,!nn)):(Or=[],fr=Ht(jt,!nn));continue}if(kn.tickmode==="sync"){zr=[],dr=Rt(jt);continue}var Mn=G(ir),kr=Mn[0],Er=Mn[1],Vr=E(kn.dtick),qr=Ce==="log"&&!(Vr||kn.dtick.charAt(0)==="L"),rn=q.tickFirst(kn,Gt);if(sn){if(jt._tmin=rn,rn<kr!==er)break;(Ce==="category"||Ce==="multicategory")&&(Er=er?Math.max(-.5,Er):Math.min(jt._categories.length-.5,Er))}var gn=null,ln=rn,zn;if(sn){var Rn;Vr?Rn=jt.dtick:Ce==="date"?typeof jt.dtick=="string"&&jt.dtick.charAt(0)==="M"&&(Rn=w*jt.dtick.substring(1)):Rn=jt._roughDTick,zn=Math.round((jt.r2l(ln)-jt.r2l(jt.tick0))/Rn)-1}var ai=kn.dtick;for(kn.rangebreaks&&kn._tick0Init!==kn.tick0&&(ln=Re(ln,jt),er||(ln=q.tickIncrement(ln,ai,!er,Ie))),sn&&$e&&(ln=q.tickIncrement(ln,ai,!er,Ie),zn--);er?ln>=Er:ln<=Er;ln=q.tickIncrement(ln,ai,er,Ie)){if(sn&&zn++,kn.rangebreaks&&!er){if(ln<kr)continue;if(kn.maskBreaks(ln)===R&&Re(ln,kn)>=lr)break}if(zr.length>vr||ln===gn)break;gn=ln;var fi={value:ln};sn?(qr&&ln!==(ln|0)&&(fi.simpleLabel=!0),We>1&&zn%We&&(fi.skipLabel=!0),zr.push(fi)):(fi.minor=!0,Or.push(fi))}}if(Ir){var mi=jt.minor.ticks==="inside"&&jt.ticks==="outside"||jt.minor.ticks==="outside"&&jt.ticks==="inside";if(!mi){for(var li=zr.map(function(Pn){return Pn.value}),ri=[],yr=0;yr<Or.length;yr++){var en=Or[yr],Jr=en.value;if(li.indexOf(Jr)===-1){for(var vn=!1,Vn=0;!vn&&Vn<zr.length;Vn++)1e7+zr[Vn].value===1e7+Jr&&(vn=!0);vn||ri.push(en)}}Or=ri}}$e&&mt(zr,jt,jt._definedDelta);var bn;if(jt.rangebreaks){var In=jt._id.charAt(0)==="y",Bn=1;jt.tickmode==="auto"&&(Bn=jt.tickfont?jt.tickfont.size:12);var Kn=NaN;for(bn=zr.length-1;bn>-1;bn--){if(zr[bn].drop){zr.splice(bn,1);continue}zr[bn].value=Re(zr[bn].value,jt);var pi=jt.c2p(zr[bn].value);(In?Kn>pi-Bn:Kn<pi+Bn)?zr.splice(er?bn+1:bn,1):Kn=pi}}Fe(jt)&&Math.abs(ir[1]-ir[0])===360&&zr.pop(),jt._tmax=(zr[zr.length-1]||{}).value,jt._prevDateHead="",jt._inCalcTicks=!0;var Ni,Tr=function(Pn){Pn.text="",jt._prevDateHead=Ni};zr=zr.concat(Or);var Rr,br;for(bn=0;bn<zr.length;bn++){var Br=zr[bn].minor,_n=zr[bn].value;Br?fr.push({x:_n,minor:!0}):(Ni=jt._prevDateHead,Rr=q.tickText(jt,_n,!1,zr[bn].simpleLabel),br=zr[bn].periodX,br!==void 0&&(Rr.periodX=br,(br>lr||br<De)&&(br>lr&&(Rr.periodX=lr),br<De&&(Rr.periodX=De),Tr(Rr))),zr[bn].skipLabel&&Tr(Rr),dr.push(Rr))}return dr=dr.concat(fr),jt._inCalcTicks=!1,$e&&dr.length&&(dr[0].noTick=!0),dr};function Pt(jt,Gt){return jt.rangebreaks&&(Gt=Gt.filter(function(Ce){return jt.maskBreaks(Ce.x)!==R})),Gt}function Rt(jt){var Gt=jt._mainAxis,Ce=[];if(Gt._vals){for(var Ie=0;Ie<Gt._vals.length;Ie++)if(!Gt._vals[Ie].noTick){var We=Gt.l2p(Gt._vals[Ie].x),$e=jt.p2l(We),ir=q.tickText(jt,$e);Gt._vals[Ie].minor&&(ir.minor=!0,ir.text=""),Ce.push(ir)}}return Ce=Pt(jt,Ce),Ce}function Ht(jt,Gt){var Ce=m.simpleMap(jt.range,jt.r2l),Ie=G(Ce),We=Math.min(Ie[0],Ie[1]),$e=Math.max(Ie[0],Ie[1]),ir=jt.type==="category"?jt.d2l_noadd:jt.d2l;jt.type==="log"&&String(jt.dtick).charAt(0)!=="L"&&(jt.dtick="L"+Math.pow(10,Math.floor(Math.min(jt.range[0],jt.range[1]))-1));for(var er=[],De=0;De<=1;De++)if(!(Gt!==void 0&&(Gt&&De||Gt===!1&&!De))&&!(De&&!jt.minor)){var lr=De?jt.minor.tickvals:jt.tickvals,vr=De?[]:jt.ticktext;if(lr){m.isArrayOrTypedArray(vr)||(vr=[]);for(var dr=0;dr<lr.length;dr++){var fr=ir(lr[dr]);if(fr>We&&fr<$e){var zr=q.tickText(jt,fr,!1,String(vr[dr]));De&&(zr.minor=!0,zr.text=""),er.push(zr)}}}}return er=Pt(jt,er),er}var Dt=[2,5,10],Xt=[1,2,3,6,12],se=[1,2,5,10,15,30],Yt=[1,2,3,7,14],ue=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ie=[-.301,0,.301,.699,1],fe=[15,30,45,90,180];function ce(jt,Gt,Ce){return Gt*m.roundUp(jt/Gt,Ce)}q.autoTicks=function(jt,Gt,Ce){var Ie;function We(dr){return Math.pow(dr,Math.floor(Math.log(Gt)/Math.LN10))}if(jt.type==="date"){jt.tick0=m.dateTick0(jt.calendar,0);var $e=2*Gt;if($e>b)Gt/=b,Ie=We(10),jt.dtick="M"+12*ce(Gt,Ie,Dt);else if($e>w)Gt/=w,jt.dtick="M"+ce(Gt,1,Xt);else if($e>T){if(jt.dtick=ce(Gt,T,jt._hasDayOfWeekBreaks?[1,2,7,14]:Yt),!Ce){var ir=q.getTickFormat(jt),er=jt.ticklabelmode==="period";er&&(jt._rawTick0=jt.tick0),/%[uVW]/.test(ir)?jt.tick0=m.dateTick0(jt.calendar,2):jt.tick0=m.dateTick0(jt.calendar,1),er&&(jt._dowTick0=jt.tick0)}}else $e>u?jt.dtick=ce(Gt,u,Xt):$e>g?jt.dtick=ce(Gt,g,se):$e>L?jt.dtick=ce(Gt,L,se):(Ie=We(10),jt.dtick=ce(Gt,Ie,Dt))}else if(jt.type==="log"){jt.tick0=0;var De=m.simpleMap(jt.range,jt.r2l);if(jt._isMinor&&(Gt*=1.5),Gt>.7)jt.dtick=Math.ceil(Gt);else if(Math.abs(De[1]-De[0])<1){var lr=1.5*Math.abs((De[1]-De[0])/Gt);Gt=Math.abs(Math.pow(10,De[1])-Math.pow(10,De[0]))/lr,Ie=We(10),jt.dtick="L"+ce(Gt,Ie,Dt)}else jt.dtick=Gt>.3?"D2":"D1"}else jt.type==="category"||jt.type==="multicategory"?(jt.tick0=0,jt.dtick=Math.ceil(Math.max(Gt,1))):Fe(jt)?(jt.tick0=0,Ie=1,jt.dtick=ce(Gt,Ie,fe)):(jt.tick0=0,Ie=We(10),jt.dtick=ce(Gt,Ie,Dt));if(jt.dtick===0&&(jt.dtick=1),!E(jt.dtick)&&typeof jt.dtick!="string"){var vr=jt.dtick;throw jt.dtick=1,"ax.dtick error: "+String(vr)}};function ye(jt){var Gt=jt.dtick;if(jt._tickexponent=0,!E(Gt)&&typeof Gt!="string"&&(Gt=1),(jt.type==="category"||jt.type==="multicategory")&&(jt._tickround=null),jt.type==="date"){var Ce=jt.r2l(jt.tick0),Ie=jt.l2r(Ce).replace(/(^-|i)/g,""),We=Ie.length;if(String(Gt).charAt(0)==="M")We>10||Ie.substr(5)!=="01-01"?jt._tickround="d":jt._tickround=+Gt.substr(1)%12===0?"y":"m";else if(Gt>=T&&We<=10||Gt>=T*15)jt._tickround="d";else if(Gt>=g&&We<=16||Gt>=u)jt._tickround="M";else if(Gt>=L&&We<=19||Gt>=g)jt._tickround="S";else{var $e=jt.l2r(Ce+Gt).replace(/^-/,"").length;jt._tickround=Math.max(We,$e)-20,jt._tickround<0&&(jt._tickround=4)}}else if(E(Gt)||Gt.charAt(0)==="L"){var ir=jt.range.map(jt.r2d||Number);E(Gt)||(Gt=Number(Gt.substr(1))),jt._tickround=2-Math.floor(Math.log(Gt)/Math.LN10+.01);var er=Math.max(Math.abs(ir[0]),Math.abs(ir[1])),De=Math.floor(Math.log(er)/Math.LN10+.01),lr=jt.minexponent===void 0?3:jt.minexponent;Math.abs(De)>lr&&(xt(jt.exponentformat)&&!Ct(De)?jt._tickexponent=3*Math.round((De-1)/3):jt._tickexponent=De)}else jt._tickround=null}q.tickIncrement=function(jt,Gt,Ce,Ie){var We=Ce?-1:1;if(E(Gt))return m.increment(jt,We*Gt);var $e=Gt.charAt(0),ir=We*Number(Gt.substr(1));if($e==="M")return m.incrementMonth(jt,ir,Ie);if($e==="L")return Math.log(Math.pow(10,jt)+ir)/Math.LN10;if($e==="D"){var er=Gt==="D2"?ie:ue,De=jt+We*.01,lr=m.roundUp(m.mod(De,1),er,Ce);return Math.floor(De)+Math.log(x.round(Math.pow(10,lr),1))/Math.LN10}throw"unrecognized dtick "+String(Gt)},q.tickFirst=function(jt,Gt){var Ce=jt.r2l||Number,Ie=m.simpleMap(jt.range,Ce,void 0,void 0,Gt),We=Ie[1]<Ie[0],$e=We?Math.floor:Math.ceil,ir=G(Ie)[0],er=jt.dtick,De=Ce(jt.tick0);if(E(er)){var lr=$e((ir-De)/er)*er+De;return(jt.type==="category"||jt.type==="multicategory")&&(lr=m.constrain(lr,0,jt._categories.length-1)),lr}var vr=er.charAt(0),dr=Number(er.substr(1));if(vr==="M"){for(var fr=0,zr=De,Or,Ir,sn;fr<10;){if(Or=q.tickIncrement(zr,er,We,jt.calendar),(Or-ir)*(zr-ir)<=0)return We?Math.min(zr,Or):Math.max(zr,Or);Ir=(ir-(zr+Or)/2)/(Or-zr),sn=vr+(Math.abs(Math.round(Ir))||1)*dr,zr=q.tickIncrement(zr,sn,Ir<0?!We:We,jt.calendar),fr++}return m.error("tickFirst did not converge",jt),zr}else{if(vr==="L")return Math.log($e((Math.pow(10,ir)-De)/dr)*dr+De)/Math.LN10;if(vr==="D"){var nn=er==="D2"?ie:ue,kn=m.roundUp(m.mod(ir,1),nn,We);return Math.floor(ir)+Math.log(x.round(Math.pow(10,kn),1))/Math.LN10}else throw"unrecognized dtick "+String(er)}},q.tickText=function(jt,Gt,Ce,Ie){var We=de(jt,Gt),$e=jt.tickmode==="array",ir=Ce||$e,er=jt.type,De=er==="category"?jt.d2l_noadd:jt.d2l,lr,vr=function(sn){var nn=jt.l2p(sn);return nn>=0&&nn<=jt._length?sn:null};if($e&&m.isArrayOrTypedArray(jt.ticktext)){var dr=m.simpleMap(jt.range,jt.r2l),fr=(Math.abs(dr[1]-dr[0])-(jt._lBreaks||0))/1e4;for(lr=0;lr<jt.ticktext.length&&!(Math.abs(Gt-De(jt.tickvals[lr]))<fr);lr++);if(lr<jt.ticktext.length)return We.text=String(jt.ticktext[lr]),We.xbnd=[vr(We.x-.5),vr(We.x+jt.dtick-.5)],We}function zr(sn){if(sn===void 0)return!0;if(Ce)return sn==="none";var nn={first:jt._tmin,last:jt._tmax}[sn];return sn!=="all"&&Gt!==nn}var Or=Ce?"never":jt.exponentformat!=="none"&&zr(jt.showexponent)?"hide":"";if(er==="date"?Te(jt,We,Ce,ir):er==="log"?Et(jt,We,Ce,ir,Or):er==="category"?Vt(jt,We):er==="multicategory"?te(jt,We,Ce):Fe(jt)?Ut(jt,We,Ce,ir,Or):Jt(jt,We,Ce,ir,Or),Ie||(jt.tickprefix&&!zr(jt.showtickprefix)&&(We.text=jt.tickprefix+We.text),jt.ticksuffix&&!zr(jt.showticksuffix)&&(We.text+=jt.ticksuffix)),jt.labelalias&&jt.labelalias.hasOwnProperty(We.text)){var Ir=jt.labelalias[We.text];typeof Ir=="string"&&(We.text=Ir)}return(jt.tickson==="boundaries"||jt.showdividers)&&(We.xbnd=[vr(We.x-.5),vr(We.x+jt.dtick-.5)]),We},q.hoverLabelText=function(jt,Gt,Ce){Ce&&(jt=m.extendFlat({},jt,{hoverformat:Ce}));var Ie=m.isArrayOrTypedArray(Gt)?Gt[0]:Gt,We=m.isArrayOrTypedArray(Gt)?Gt[1]:void 0;if(We!==void 0&&We!==Ie)return q.hoverLabelText(jt,Ie,Ce)+" - "+q.hoverLabelText(jt,We,Ce);var $e=jt.type==="log"&&Ie<=0,ir=q.tickText(jt,jt.c2l($e?-Ie:Ie),"hover").text;return $e?Ie===0?"0":A+ir:ir};function de(jt,Gt,Ce){var Ie=jt.tickfont||{};return{x:Gt,dx:0,dy:0,text:Ce||"",fontSize:Ie.size,font:Ie.family,fontColor:Ie.color}}function Te(jt,Gt,Ce,Ie){var We=jt._tickround,$e=Ce&&jt.hoverformat||q.getTickFormat(jt);Ie=!$e&&Ie,Ie&&(E(We)?We=4:We={y:"m",m:"d",d:"M",M:"S",S:4}[We]);var ir=m.formatDate(Gt.x,$e,We,jt._dateFormat,jt.calendar,jt._extraFormat),er,De=ir.indexOf(`
`);if(De!==-1&&(er=ir.substr(De+1),ir=ir.substr(0,De)),Ie&&(er!==void 0&&(ir==="00:00:00"||ir==="00:00")?(ir=er,er=""):ir.length===8&&(ir=ir.replace(/:00$/,""))),er)if(Ce)We==="d"?ir+=", "+er:ir=er+(ir?", "+ir:"");else if(!jt._inCalcTicks||jt._prevDateHead!==er)jt._prevDateHead=er,ir+="<br>"+er;else{var lr=Ke(jt),vr=jt._trueSide||jt.side;(!lr&&vr==="top"||lr&&vr==="bottom")&&(ir+="<br> ")}Gt.text=ir}function Et(jt,Gt,Ce,Ie,We){var $e=jt.dtick,ir=Gt.x,er=jt.tickformat,De=typeof $e=="string"&&$e.charAt(0);if(We==="never"&&(We=""),Ie&&De!=="L"&&($e="L3",De="L"),er||De==="L")Gt.text=At(Math.pow(10,ir),jt,We,Ie);else if(E($e)||De==="D"&&m.mod(ir+.01,1)<.1){var lr=Math.round(ir),vr=Math.abs(lr),dr=jt.exponentformat;dr==="power"||xt(dr)&&Ct(lr)?(lr===0?Gt.text=1:lr===1?Gt.text="10":Gt.text="10<sup>"+(lr>1?"":A)+vr+"</sup>",Gt.fontSize*=1.25):(dr==="e"||dr==="E")&&vr>2?Gt.text="1"+dr+(lr>0?"+":A)+vr:(Gt.text=At(Math.pow(10,ir),jt,"","fakehover"),$e==="D1"&&jt._id.charAt(0)==="y"&&(Gt.dy-=Gt.fontSize/6))}else if(De==="D")Gt.text=String(Math.round(Math.pow(10,m.mod(ir,1)))),Gt.fontSize*=.75;else throw"unrecognized dtick "+String($e);if(jt.dtick==="D1"){var fr=String(Gt.text).charAt(0);(fr==="0"||fr==="1")&&(jt._id.charAt(0)==="y"?Gt.dx-=Gt.fontSize/4:(Gt.dy+=Gt.fontSize/2,Gt.dx+=(jt.range[1]>jt.range[0]?1:-1)*Gt.fontSize*(ir<0?.5:.25)))}}function Vt(jt,Gt){var Ce=jt._categories[Math.round(Gt.x)];Ce===void 0&&(Ce=""),Gt.text=String(Ce)}function te(jt,Gt,Ce){var Ie=Math.round(Gt.x),We=jt._categories[Ie]||[],$e=We[1]===void 0?"":String(We[1]),ir=We[0]===void 0?"":String(We[0]);Ce?Gt.text=ir+" - "+$e:(Gt.text=$e,Gt.text2=ir)}function Jt(jt,Gt,Ce,Ie,We){We==="never"?We="":jt.showexponent==="all"&&Math.abs(Gt.x/jt.dtick)<1e-6&&(We="hide"),Gt.text=At(Gt.x,jt,We,Ie)}function Ut(jt,Gt,Ce,Ie,We){if(jt.thetaunit==="radians"&&!Ce){var $e=Gt.x/180;if($e===0)Gt.text="0";else{var ir=It($e);if(ir[1]>=100)Gt.text=At(m.deg2rad(Gt.x),jt,We,Ie);else{var er=Gt.x<0;ir[1]===1?ir[0]===1?Gt.text="π":Gt.text=ir[0]+"π":Gt.text=["<sup>",ir[0],"</sup>","⁄","<sub>",ir[1],"</sub>","π"].join(""),er&&(Gt.text=A+Gt.text)}}}else Gt.text=At(Gt.x,jt,We,Ie)}function It(jt){function Gt(er,De){return Math.abs(er-De)<=1e-6}function Ce(er,De){return Gt(De,0)?er:Ce(De,er%De)}function Ie(er){for(var De=1;!Gt(Math.round(er*De)/De,er);)De*=10;return De}var We=Ie(jt),$e=jt*We,ir=Math.abs(Ce($e,We));return[Math.round($e/ir),Math.round(We/ir)]}var pt=["f","p","n","μ","m","","k","M","G","T"];function xt(jt){return jt==="SI"||jt==="B"}function Ct(jt){return jt>14||jt<-15}function At(jt,Gt,Ce,Ie){var We=jt<0,$e=Gt._tickround,ir=Ce||Gt.exponentformat||"B",er=Gt._tickexponent,De=q.getTickFormat(Gt),lr=Gt.separatethousands;if(Ie){var vr={exponentformat:ir,minexponent:Gt.minexponent,dtick:Gt.showexponent==="none"?Gt.dtick:E(jt)&&Math.abs(jt)||1,range:Gt.showexponent==="none"?Gt.range.map(Gt.r2d):[0,jt||1]};ye(vr),$e=(Number(vr._tickround)||0)+4,er=vr._tickexponent,Gt.hoverformat&&(De=Gt.hoverformat)}if(De)return Gt._numFormat(De)(jt).replace(/-/g,A);var dr=Math.pow(10,-$e)/2;if(ir==="none"&&(er=0),jt=Math.abs(jt),jt<dr)jt="0",We=!1;else{if(jt+=dr,er&&(jt*=Math.pow(10,-er),$e+=er),$e===0)jt=String(Math.floor(jt));else if($e<0){jt=String(Math.round(jt)),jt=jt.substr(0,jt.length+$e);for(var fr=$e;fr<0;fr++)jt+="0"}else{jt=String(jt);var zr=jt.indexOf(".")+1;zr&&(jt=jt.substr(0,zr+$e).replace(/\.?0+$/,""))}jt=m.numSeparate(jt,Gt._separators,lr)}if(er&&ir!=="hide"){xt(ir)&&Ct(er)&&(ir="power");var Or;er<0?Or=A+-er:ir!=="power"?Or="+"+er:Or=String(er),ir==="e"||ir==="E"?jt+=ir+Or:ir==="power"?jt+="×10<sup>"+Or+"</sup>":ir==="B"&&er===9?jt+="B":xt(ir)&&(jt+=pt[er/3+5])}return We?A+jt:jt}q.getTickFormat=function(jt){var Gt;function Ce(De){return typeof De!="string"?De:Number(De.replace("M",""))*w}function Ie(De,lr){var vr=["L","D"];if(typeof De==typeof lr){if(typeof De=="number")return De-lr;var dr=vr.indexOf(De.charAt(0)),fr=vr.indexOf(lr.charAt(0));return dr===fr?Number(De.replace(/(L|D)/g,""))-Number(lr.replace(/(L|D)/g,"")):dr-fr}else return typeof De=="number"?1:-1}function We(De,lr,vr){var dr=vr||function(Or){return Or},fr=lr[0],zr=lr[1];return(!fr&&typeof fr!="number"||dr(fr)<=dr(De))&&(!zr&&typeof zr!="number"||dr(zr)>=dr(De))}function $e(De,lr){var vr=lr[0]===null,dr=lr[1]===null,fr=Ie(De,lr[0])>=0,zr=Ie(De,lr[1])<=0;return(vr||fr)&&(dr||zr)}var ir,er;if(jt.tickformatstops&&jt.tickformatstops.length>0)switch(jt.type){case"date":case"linear":{for(Gt=0;Gt<jt.tickformatstops.length;Gt++)if(er=jt.tickformatstops[Gt],er.enabled&&We(jt.dtick,er.dtickrange,Ce)){ir=er;break}break}case"log":{for(Gt=0;Gt<jt.tickformatstops.length;Gt++)if(er=jt.tickformatstops[Gt],er.enabled&&$e(jt.dtick,er.dtickrange)){ir=er;break}break}}return ir?ir.value:jt.tickformat},q.getSubplots=function(jt,Gt){var Ce=jt._fullLayout._subplots,Ie=Ce.cartesian.concat(Ce.gl2d||[]),We=Gt?q.findSubplotsWithAxis(Ie,Gt):Ie;return We.sort(function($e,ir){var er=$e.substr(1).split("y"),De=ir.substr(1).split("y");return er[0]===De[0]?+er[1]-+De[1]:+er[0]-+De[0]}),We},q.findSubplotsWithAxis=function(jt,Gt){for(var Ce=new RegExp(Gt._id.charAt(0)==="x"?"^"+Gt._id+"y":Gt._id+"$"),Ie=[],We=0;We<jt.length;We++){var $e=jt[We];Ce.test($e)&&Ie.push($e)}return Ie},q.makeClipPaths=function(jt){var Gt=jt._fullLayout;if(!Gt._hasOnlyLargeSploms){var Ce={_offset:0,_length:Gt.width,_id:""},Ie={_offset:0,_length:Gt.height,_id:""},We=q.list(jt,"x",!0),$e=q.list(jt,"y",!0),ir=[],er,De;for(er=0;er<We.length;er++)for(ir.push({x:We[er],y:Ie}),De=0;De<$e.length;De++)er===0&&ir.push({x:Ce,y:$e[De]}),ir.push({x:We[er],y:$e[De]});var lr=Gt._clips.selectAll(".axesclip").data(ir,function(vr){return vr.x._id+vr.y._id});lr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(vr){return"clip"+Gt._uid+vr.x._id+vr.y._id}).append("rect"),lr.exit().remove(),lr.each(function(vr){x.select(this).select("rect").attr({x:vr.x._offset||0,y:vr.y._offset||0,width:vr.x._length||1,height:vr.y._length||1})})}},q.draw=function(jt,Gt,Ce){var Ie=jt._fullLayout;Gt==="redraw"&&Ie._paper.selectAll("g.subplot").each(function(De){var lr=De[0],vr=Ie._plots[lr];if(vr){var dr=vr.xaxis,fr=vr.yaxis;vr.xaxislayer.selectAll("."+dr._id+"tick").remove(),vr.yaxislayer.selectAll("."+fr._id+"tick").remove(),vr.xaxislayer.selectAll("."+dr._id+"tick2").remove(),vr.yaxislayer.selectAll("."+fr._id+"tick2").remove(),vr.xaxislayer.selectAll("."+dr._id+"divider").remove(),vr.yaxislayer.selectAll("."+fr._id+"divider").remove(),vr.minorGridlayer&&vr.minorGridlayer.selectAll("path").remove(),vr.gridlayer&&vr.gridlayer.selectAll("path").remove(),vr.zerolinelayer&&vr.zerolinelayer.selectAll("path").remove(),Ie._infolayer.select(".g-"+dr._id+"title").remove(),Ie._infolayer.select(".g-"+fr._id+"title").remove()}});var We=!Gt||Gt==="redraw"?q.listIds(jt):Gt,$e=q.list(jt),ir=$e.filter(function(De){return De.autoshift}).map(function(De){return De.overlaying});We.map(function(De){var lr=q.getFromId(jt,De);if(lr.tickmode==="sync"&&lr.overlaying){var vr=We.findIndex(function(dr){return dr===lr.overlaying});vr>=0&&We.unshift(We.splice(vr,1).shift())}});var er={false:{left:0,right:0}};return m.syncOrAsync(We.map(function(De){return function(){if(De){var lr=q.getFromId(jt,De);Ce||(Ce={}),Ce.axShifts=er,Ce.overlayingShiftedAx=ir;var vr=q.drawOne(jt,lr,Ce);return lr._shiftPusher&&pr(lr,lr._fullDepth||0,er,!0),lr._r=lr.range.slice(),lr._rl=m.simpleMap(lr._r,lr.r2l),vr}}}))},q.drawOne=function(jt,Gt,Ce){Ce=Ce||{};var Ie=Ce.axShifts||{},We=Ce.overlayingShiftedAx||[],$e,ir,er;Gt.setScale();var De=jt._fullLayout,lr=Gt._id,vr=lr.charAt(0),dr=q.counterLetter(lr),fr=De._plots[Gt._mainSubplot];if(!fr)return;if(Gt._shiftPusher=Gt.autoshift||We.indexOf(Gt._id)!==-1||We.indexOf(Gt.overlaying)!==-1,Gt._shiftPusher&Gt.anchor==="free"){var zr=Gt.linewidth/2||0;Gt.ticks==="inside"&&(zr+=Gt.ticklen),pr(Gt,zr,Ie,!0),pr(Gt,Gt.shift||0,Ie,!1)}(Ce.skipTitle!==!0||Gt._shift===void 0)&&(Gt._shift=hr(Gt,Ie));var Or=fr[vr+"axislayer"],Ir=Gt._mainLinePosition,sn=Ir+=Gt._shift,nn=Gt._mainMirrorPosition,kn=Gt._vals=q.calcTicks(Gt),Mn=[Gt.mirror,sn,nn].join("_");for($e=0;$e<kn.length;$e++)kn[$e].axInfo=Mn;Gt._selections={},Gt._tickAngles&&(Gt._prevTickAngles=Gt._tickAngles),Gt._tickAngles={},Gt._depth=null;var kr={};function Er(Nr){var Kr=lr+(Nr||"tick");return kr[Kr]||(kr[Kr]=ve(Gt,Kr,sn)),kr[Kr]}if(Gt.visible){var Vr=q.makeTransTickFn(Gt),qr=q.makeTransTickLabelFn(Gt),rn,gn,ln=Gt.ticks==="inside",zn=Gt.ticks==="outside";if(Gt.tickson==="boundaries"){var Rn=Wt(Gt,kn);gn=q.clipEnds(Gt,Rn),rn=ln?gn:Rn}else gn=q.clipEnds(Gt,kn),rn=ln&&Gt.ticklabelmode!=="period"?gn:kn;var ai=Gt._gridVals=gn,fi=he(Gt,kn);if(!De._hasOnlyLargeSploms){var mi=Gt._subplotsWith,li={};for($e=0;$e<mi.length;$e++){ir=mi[$e],er=De._plots[ir];var ri=er[dr+"axis"],yr=ri._mainAxis._id;if(!li[yr]){li[yr]=1;var en=vr==="x"?"M0,"+ri._offset+"v"+ri._length:"M"+ri._offset+",0h"+ri._length;q.drawGrid(jt,Gt,{vals:ai,counterAxis:ri,layer:er.gridlayer.select("."+lr),minorLayer:er.minorGridlayer.select("."+lr),path:en,transFn:Vr}),q.drawZeroLine(jt,Gt,{counterAxis:ri,layer:er.zerolinelayer,path:en,transFn:Vr})}}}var Jr,vn=q.getTickSigns(Gt),Vn=q.getTickSigns(Gt,"minor");if(Gt.ticks||Gt.minor&&Gt.minor.ticks){var bn=q.makeTickPath(Gt,sn,vn[2]),In=q.makeTickPath(Gt,sn,Vn[2],{minor:!0}),Bn,Kn,pi,Ni;if(Gt._anchorAxis&&Gt.mirror&&Gt.mirror!==!0?(Bn=q.makeTickPath(Gt,nn,vn[3]),Kn=q.makeTickPath(Gt,nn,Vn[3],{minor:!0}),pi=bn+Bn,Ni=In+Kn):(Bn="",Kn="",pi=bn,Ni=In),Gt.showdividers&&zn&&Gt.tickson==="boundaries"){var Tr={};for($e=0;$e<fi.length;$e++)Tr[fi[$e].x]=1;Jr=function(Nr){return Tr[Nr.x]?Bn:pi}}else Jr=function(Nr){return Nr.minor?Ni:pi}}if(q.drawTicks(jt,Gt,{vals:rn,layer:Or,path:Jr,transFn:Vr}),Gt.mirror==="allticks"){var Rr=Object.keys(Gt._linepositions||{});for($e=0;$e<Rr.length;$e++){ir=Rr[$e],er=De._plots[ir];var br=Gt._linepositions[ir]||[],Br=br[0],_n=br[1],Pn=br[2],pn=q.makeTickPath(Gt,Br,Pn?vn[0]:Vn[0],{minor:Pn})+q.makeTickPath(Gt,_n,Pn?vn[1]:Vn[1],{minor:Pn});q.drawTicks(jt,Gt,{vals:rn,layer:er[vr+"axislayer"],path:pn,transFn:Vr})}}var fn=[];if(fn.push(function(){return q.drawLabels(jt,Gt,{vals:kn,layer:Or,plotinfo:er,transFn:qr,labelFns:q.makeLabelFns(Gt,sn)})}),Gt.type==="multicategory"){var Mr={x:2,y:10}[vr];fn.push(function(){var Nr={x:"height",y:"width"}[vr],Kr=Er()[Nr]+Mr+(Gt._tickAngles[lr+"tick"]?Gt.tickfont.size*et:0);return q.drawLabels(jt,Gt,{vals:Qt(Gt,kn),layer:Or,cls:lr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Vr,labelFns:q.makeLabelFns(Gt,sn+Kr*vn[4])})}),fn.push(function(){return Gt._depth=vn[4]*(Er("tick2")[Gt.side]-sn),Le(jt,Gt,{vals:fi,layer:Or,path:q.makeTickPath(Gt,sn,vn[4],{len:Gt._depth}),transFn:Vr})})}else Gt.title.hasOwnProperty("standoff")&&fn.push(function(){Gt._depth=vn[4]*(Er()[Gt.side]-sn)});var Gr=M.getComponentMethod("rangeslider","isVisible")(Gt);return!Ce.skipTitle&&!(Gr&&Gt.side==="bottom")&&fn.push(function(){return mr(jt,Gt)}),fn.push(function(){var Nr=Gt.side.charAt(0),Kr=lt[Gt.side].charAt(0),Tn=q.getPxPosition(jt,Gt),An=zn?Gt.ticklen:0,En,Nn,Dn,di;(Gt.automargin||Gr||Gt._shiftPusher)&&(Gt.type==="multicategory"?En=Er("tick2"):(En=Er(),vr==="x"&&Nr==="b"&&(Gt._depth=Math.max(En.width>0?En.bottom-Tn:0,An))));var oi=0,hi=0;if(Gt._shiftPusher&&(oi=Math.max(An,En.height>0?Nr==="l"?Tn-En.left:En.right-Tn:0),Gt.title.text!==De._dfltTitle[vr]&&(hi=(Gt._titleStandoff||0)+(Gt._titleScoot||0),Nr==="l"&&(hi+=Ge(Gt))),Gt._fullDepth=Math.max(oi,hi)),Gt.automargin){Nn={x:0,y:0,r:0,l:0,t:0,b:0};var Ci=[0,1],pa=typeof Gt._shift=="number"?Gt._shift:0;if(vr==="x"){if(Nr==="b"?Nn[Nr]=Gt._depth:(Nn[Nr]=Gt._depth=Math.max(En.width>0?Tn-En.top:0,An),Ci.reverse()),En.width>0){var ea=En.right-(Gt._offset+Gt._length);ea>0&&(Nn.xr=1,Nn.r=ea);var Fo=Gt._offset-En.left;Fo>0&&(Nn.xl=0,Nn.l=Fo)}}else if(Nr==="l"?(Gt._depth=Math.max(En.height>0?Tn-En.left:0,An),Nn[Nr]=Gt._depth-pa):(Gt._depth=Math.max(En.height>0?En.right-Tn:0,An),Nn[Nr]=Gt._depth+pa,Ci.reverse()),En.height>0){var Eo=En.bottom-(Gt._offset+Gt._length);Eo>0&&(Nn.yb=0,Nn.b=Eo);var no=Gt._offset-En.top;no>0&&(Nn.yt=1,Nn.t=no)}Nn[dr]=Gt.anchor==="free"?Gt.position:Gt._anchorAxis.domain[Ci[0]],Gt.title.text!==De._dfltTitle[vr]&&(Nn[Nr]+=Ge(Gt)+(Gt.title.standoff||0)),Gt.mirror&&Gt.anchor!=="free"&&(Dn={x:0,y:0,r:0,l:0,t:0,b:0},Dn[Kr]=Gt.linewidth,Gt.mirror&&Gt.mirror!==!0&&(Dn[Kr]+=An),Gt.mirror===!0||Gt.mirror==="ticks"?Dn[dr]=Gt._anchorAxis.domain[Ci[1]]:(Gt.mirror==="all"||Gt.mirror==="allticks")&&(Dn[dr]=[Gt._counterDomainMin,Gt._counterDomainMax][Ci[1]]))}Gr&&(di=M.getComponentMethod("rangeslider","autoMarginOpts")(jt,Gt)),typeof Gt.automargin=="string"&&(Ft(Nn,Gt.automargin),Ft(Dn,Gt.automargin)),i.autoMargin(jt,rr(Gt),Nn),i.autoMargin(jt,re(Gt),Dn),i.autoMargin(jt,le(Gt),di)}),m.syncOrAsync(fn)}};function Ft(jt,Gt){if(jt){var Ce=Object.keys(j).reduce(function(Ie,We){return Gt.indexOf(We)!==-1&&j[We].forEach(function($e){Ie[$e]=1}),Ie},{});Object.keys(jt).forEach(function(Ie){Ce[Ie]||(Ie.length===1?jt[Ie]=0:delete jt[Ie])})}}function Wt(jt,Gt){var Ce=[],Ie,We=function($e,ir){var er=$e.xbnd[ir];er!==null&&Ce.push(m.extendFlat({},$e,{x:er}))};if(Gt.length){for(Ie=0;Ie<Gt.length;Ie++)We(Gt[Ie],0);We(Gt[Ie-1],1)}return Ce}function Qt(jt,Gt){for(var Ce=[],Ie={},We=0;We<Gt.length;We++){var $e=Gt[We];Ie[$e.text2]?Ie[$e.text2].push($e.x):Ie[$e.text2]=[$e.x]}for(var ir in Ie)Ce.push(de(jt,m.interp(Ie[ir],.5),ir));return Ce}function he(jt,Gt){var Ce=[],Ie,We,$e=Gt.length&&Gt[Gt.length-1].x<Gt[0].x,ir=function(De,lr){var vr=De.xbnd[lr];vr!==null&&Ce.push(m.extendFlat({},De,{x:vr}))};if(jt.showdividers&&Gt.length){for(Ie=0;Ie<Gt.length;Ie++){var er=Gt[Ie];er.text2!==We&&ir(er,$e?1:0),We=er.text2}ir(Gt[Ie-1],$e?0:1)}return Ce}function ve(jt,Gt,Ce){var Ie,We,$e,ir;if(jt._selections[Gt].size())Ie=1/0,We=-1/0,$e=1/0,ir=-1/0,jt._selections[Gt].each(function(){var De=_r(this),lr=s.bBox(De.node().parentNode);Ie=Math.min(Ie,lr.top),We=Math.max(We,lr.bottom),$e=Math.min($e,lr.left),ir=Math.max(ir,lr.right)});else{var er=q.makeLabelFns(jt,Ce);Ie=We=er.yFn({dx:0,dy:0,fontSize:0}),$e=ir=er.xFn({dx:0,dy:0,fontSize:0})}return{top:Ie,bottom:We,left:$e,right:ir,height:We-Ie,width:ir-$e}}q.getTickSigns=function(jt,Gt){var Ce=jt._id.charAt(0),Ie={x:"top",y:"right"}[Ce],We=jt.side===Ie?1:-1,$e=[-1,1,We,-We],ir=Gt?(jt.minor||{}).ticks:jt.ticks;return ir!=="inside"==(Ce==="x")&&($e=$e.map(function(er){return-er})),jt.side&&$e.push({l:-1,t:-1,r:1,b:1}[jt.side.charAt(0)]),$e},q.makeTransTickFn=function(jt){return jt._id.charAt(0)==="x"?function(Gt){return d(jt._offset+jt.l2p(Gt.x),0)}:function(Gt){return d(0,jt._offset+jt.l2p(Gt.x))}},q.makeTransTickLabelFn=function(jt){var Gt=Ue(jt),Ce=Gt[0],Ie=Gt[1];return jt._id.charAt(0)==="x"?function(We){return d(Ce+jt._offset+jt.l2p(Je(We)),Ie)}:function(We){return d(Ie,Ce+jt._offset+jt.l2p(Je(We)))}};function Je(jt){return jt.periodX!==void 0?jt.periodX:jt.x}function Ue(jt){var Gt=jt.ticklabelposition||"",Ce=function(zr){return Gt.indexOf(zr)!==-1},Ie=Ce("top"),We=Ce("left"),$e=Ce("right"),ir=Ce("bottom"),er=Ce("inside"),De=ir||We||Ie||$e;if(!De&&!er)return[0,0];var lr=jt.side,vr=De?(jt.tickwidth||0)/2:0,dr=ot,fr=jt.tickfont?jt.tickfont.size:12;return(ir||Ie)&&(vr+=fr*K,dr+=(jt.linewidth||0)/2),(We||$e)&&(vr+=(jt.linewidth||0)/2,dr+=ot),er&&lr==="top"&&(dr-=fr*(1-K)),(We||Ie)&&(vr=-vr),(lr==="bottom"||lr==="right")&&(dr=-dr),[De?vr:0,er?dr:0]}q.makeTickPath=function(jt,Gt,Ce,Ie){Ie||(Ie={});var We=Ie.minor;if(We&&!jt.minor)return"";var $e=Ie.len!==void 0?Ie.len:We?jt.minor.ticklen:jt.ticklen,ir=jt._id.charAt(0),er=(jt.linewidth||1)/2;return ir==="x"?"M0,"+(Gt+er*Ce)+"v"+$e*Ce:"M"+(Gt+er*Ce)+",0h"+$e*Ce},q.makeLabelFns=function(jt,Gt,Ce){var Ie=jt.ticklabelposition||"",We=function(Rn){return Ie.indexOf(Rn)!==-1},$e=We("top"),ir=We("left"),er=We("right"),De=We("bottom"),lr=De||ir||$e||er,vr=We("inside"),dr=Ie==="inside"&&jt.ticks==="inside"||!vr&&jt.ticks==="outside"&&jt.tickson!=="boundaries",fr=0,zr=0,Or=dr?jt.ticklen:0;if(vr?Or*=-1:lr&&(Or=0),dr&&(fr+=Or,Ce)){var Ir=m.deg2rad(Ce);fr=Or*Math.cos(Ir)+1,zr=Or*Math.sin(Ir)}jt.showticklabels&&(dr||jt.showline)&&(fr+=.2*jt.tickfont.size),fr+=(jt.linewidth||1)/2*(vr?-1:1);var sn={labelStandoff:fr,labelShift:zr},nn,kn,Mn,kr,Er=0,Vr=jt.side,qr=jt._id.charAt(0),rn=jt.tickangle,gn;if(qr==="x")gn=!vr&&Vr==="bottom"||vr&&Vr==="top",kr=gn?1:-1,vr&&(kr*=-1),nn=zr*kr,kn=Gt+fr*kr,Mn=gn?1:-.2,Math.abs(rn)===90&&(vr?Mn+=W:rn===-90&&Vr==="bottom"?Mn=K:rn===90&&Vr==="top"?Mn=W:Mn=.5,Er=W/2*(rn/90)),sn.xFn=function(Rn){return Rn.dx+nn+Er*Rn.fontSize},sn.yFn=function(Rn){return Rn.dy+kn+Rn.fontSize*Mn},sn.anchorFn=function(Rn,ai){if(lr){if(ir)return"end";if(er)return"start"}return!E(ai)||ai===0||ai===180?"middle":ai*kr<0!==vr?"end":"start"},sn.heightFn=function(Rn,ai,fi){return ai<-60||ai>60?-.5*fi:jt.side==="top"!==vr?-fi:0};else if(qr==="y"){if(gn=!vr&&Vr==="left"||vr&&Vr==="right",kr=gn?1:-1,vr&&(kr*=-1),nn=fr,kn=zr*kr,Mn=0,!vr&&Math.abs(rn)===90&&(rn===-90&&Vr==="left"||rn===90&&Vr==="right"?Mn=K:Mn=.5),vr){var ln=E(rn)?+rn:0;if(ln!==0){var zn=m.deg2rad(ln);Er=Math.abs(Math.sin(zn))*K*kr,Mn=0}}sn.xFn=function(Rn){return Rn.dx+Gt-(nn+Rn.fontSize*Mn)*kr+Er*Rn.fontSize},sn.yFn=function(Rn){return Rn.dy+kn+Rn.fontSize*W},sn.anchorFn=function(Rn,ai){return E(ai)&&Math.abs(ai)===90?"middle":gn?"end":"start"},sn.heightFn=function(Rn,ai,fi){return jt.side==="right"&&(ai*=-1),ai<-30?-fi:ai<30?-.5*fi:0}}return sn};function ke(jt){return[jt.text,jt.x,jt.axInfo,jt.font,jt.fontSize,jt.fontColor].join("_")}q.drawTicks=function(jt,Gt,Ce){Ce=Ce||{};var Ie=Gt._id+"tick",We=[].concat(Gt.minor&&Gt.minor.ticks?Ce.vals.filter(function(ir){return ir.minor&&!ir.noTick}):[]).concat(Gt.ticks?Ce.vals.filter(function(ir){return!ir.minor&&!ir.noTick}):[]),$e=Ce.layer.selectAll("path."+Ie).data(We,ke);$e.exit().remove(),$e.enter().append("path").classed(Ie,1).classed("ticks",1).classed("crisp",Ce.crisp!==!1).each(function(ir){return e.stroke(x.select(this),ir.minor?Gt.minor.tickcolor:Gt.tickcolor)}).style("stroke-width",function(ir){return s.crispRound(jt,ir.minor?Gt.minor.tickwidth:Gt.tickwidth,1)+"px"}).attr("d",Ce.path).style("display",null),or(Gt,[F]),$e.attr("transform",Ce.transFn)},q.drawGrid=function(jt,Gt,Ce){if(Ce=Ce||{},Gt.tickmode!=="sync"){var Ie=Gt._id+"grid",We=Gt.minor&&Gt.minor.showgrid,$e=We?Ce.vals.filter(function(nn){return nn.minor}):[],ir=Gt.showgrid?Ce.vals.filter(function(nn){return!nn.minor}):[],er=Ce.counterAxis;if(er&&q.shouldShowZeroLine(jt,Gt,er))for(var De=Gt.tickmode==="array",lr=0;lr<ir.length;lr++){var vr=ir[lr].x;if(De?!vr:Math.abs(vr)<Gt.dtick/100)if(ir=ir.slice(0,lr).concat(ir.slice(lr+1)),De)lr--;else break}Gt._gw=s.crispRound(jt,Gt.gridwidth,1);for(var dr=We?s.crispRound(jt,Gt.minor.gridwidth,1):0,fr=Ce.layer,zr=Ce.minorLayer,Or=1;Or>=0;Or--){var Ir=Or?fr:zr;if(Ir){var sn=Ir.selectAll("path."+Ie).data(Or?ir:$e,ke);sn.exit().remove(),sn.enter().append("path").classed(Ie,1).classed("crisp",Ce.crisp!==!1),sn.attr("transform",Ce.transFn).attr("d",Ce.path).each(function(nn){return e.stroke(x.select(this),nn.minor?Gt.minor.gridcolor:Gt.gridcolor||"#ddd")}).style("stroke-dasharray",function(nn){return s.dashStyle(nn.minor?Gt.minor.griddash:Gt.griddash,nn.minor?Gt.minor.gridwidth:Gt.gridwidth)}).style("stroke-width",function(nn){return(nn.minor?dr:Gt._gw)+"px"}).style("display",null),typeof Ce.path=="function"&&sn.attr("d",Ce.path)}}or(Gt,[N,z])}},q.drawZeroLine=function(jt,Gt,Ce){Ce=Ce||Ce;var Ie=Gt._id+"zl",We=q.shouldShowZeroLine(jt,Gt,Ce.counterAxis),$e=Ce.layer.selectAll("path."+Ie).data(We?[{x:0,id:Gt._id}]:[]);$e.exit().remove(),$e.enter().append("path").classed(Ie,1).classed("zl",1).classed("crisp",Ce.crisp!==!1).each(function(){Ce.layer.selectAll("path").sort(function(ir,er){return Z(ir.id,er.id)})}),$e.attr("transform",Ce.transFn).attr("d",Ce.path).call(e.stroke,Gt.zerolinecolor||e.defaultLine).style("stroke-width",s.crispRound(jt,Gt.zerolinewidth,Gt._gw||1)+"px").style("display",null),or(Gt,[O])},q.drawLabels=function(jt,Gt,Ce){Ce=Ce||{};var Ie=jt._fullLayout,We=Gt._id,$e=Ce.cls||We+"tick",ir=Ce.vals.filter(function(yr){return yr.text}),er=Ce.labelFns,De=Ce.secondary?0:Gt.tickangle,lr=(Gt._prevTickAngles||{})[$e],vr=Ce.layer.selectAll("g."+$e).data(Gt.showticklabels?ir:[],ke),dr=[];vr.enter().append("g").classed($e,1).append("text").attr("text-anchor","middle").each(function(yr){var en=x.select(this),Jr=jt._promises.length;en.call(v.positionText,er.xFn(yr),er.yFn(yr)).call(s.font,yr.font,yr.fontSize,yr.fontColor).text(yr.text).call(v.convertToTspans,jt),jt._promises[Jr]?dr.push(jt._promises.pop().then(function(){fr(en,De)})):fr(en,De)}),or(Gt,[I]),vr.exit().remove(),Ce.repositionOnUpdate&&vr.each(function(yr){x.select(this).select("text").call(v.positionText,er.xFn(yr),er.yFn(yr))});function fr(yr,en){yr.each(function(Jr){var vn=x.select(this),Vn=vn.select(".text-math-group"),bn=er.anchorFn(Jr,en),In=Ce.transFn.call(vn.node(),Jr)+(E(en)&&+en!=0?" rotate("+en+","+er.xFn(Jr)+","+(er.yFn(Jr)-Jr.fontSize/2)+")":""),Bn=v.lineCount(vn),Kn=et*Jr.fontSize,pi=er.heightFn(Jr,E(en)?+en:0,(Bn-1)*Kn);if(pi&&(In+=d(0,pi)),Vn.empty()){var Ni=vn.select("text");Ni.attr({transform:In,"text-anchor":bn}),Ni.style("opacity",1),Gt._adjustTickLabelsOverflow&&Gt._adjustTickLabelsOverflow()}else{var Tr=s.bBox(Vn.node()).width,Rr=Tr*{end:-.5,start:.5}[bn];Vn.attr("transform",In+d(Rr,0))}})}Gt._adjustTickLabelsOverflow=function(){var yr=Gt.ticklabeloverflow;if(!(!yr||yr==="allow")){var en=yr.indexOf("hide")!==-1,Jr=Gt._id.charAt(0)==="x",vn=0,Vn=Jr?jt._fullLayout.width:jt._fullLayout.height;if(yr.indexOf("domain")!==-1){var bn=m.simpleMap(Gt.range,Gt.r2l);vn=Gt.l2p(bn[0])+Gt._offset,Vn=Gt.l2p(bn[1])+Gt._offset}var In=Math.min(vn,Vn),Bn=Math.max(vn,Vn),Kn=Gt.side,pi=1/0,Ni=-1/0;vr.each(function(Br){var _n=x.select(this),Pn=_n.select(".text-math-group");if(Pn.empty()){var pn=s.bBox(_n.node()),fn=0;Jr?(pn.right>Bn||pn.left<In)&&(fn=1):(pn.bottom>Bn||pn.top+(Gt.tickangle?0:Br.fontSize/4)<In)&&(fn=1);var Mr=_n.select("text");fn?en&&Mr.style("opacity",0):(Mr.style("opacity",1),Kn==="bottom"||Kn==="right"?pi=Math.min(pi,Jr?pn.top:pn.left):pi=-1/0,Kn==="top"||Kn==="left"?Ni=Math.max(Ni,Jr?pn.bottom:pn.right):Ni=1/0)}});for(var Tr in Ie._plots){var Rr=Ie._plots[Tr];if(!(Gt._id!==Rr.xaxis._id&&Gt._id!==Rr.yaxis._id)){var br=Jr?Rr.yaxis:Rr.xaxis;br&&(br["_visibleLabelMin_"+Gt._id]=pi,br["_visibleLabelMax_"+Gt._id]=Ni)}}}},Gt._hideCounterAxisInsideTickLabels=function(yr){var en=Gt._id.charAt(0)==="x",Jr=[];for(var vn in Ie._plots){var Vn=Ie._plots[vn];Gt._id!==Vn.xaxis._id&&Gt._id!==Vn.yaxis._id||Jr.push(en?Vn.yaxis:Vn.xaxis)}Jr.forEach(function(bn,In){bn&&Ke(bn)&&(yr||[O,z,N,F,I]).forEach(function(Bn){var Kn=Bn.K==="tick"&&Bn.L==="text"&&Gt.ticklabelmode==="period",pi=Ie._plots[Gt._mainSubplot],Ni;Bn.K===O.K?Ni=pi.zerolinelayer.selectAll("."+Gt._id+"zl"):Bn.K===z.K?Ni=pi.minorGridlayer.selectAll("."+Gt._id):Bn.K===N.K?Ni=pi.gridlayer.selectAll("."+Gt._id):Ni=pi[Gt._id.charAt(0)+"axislayer"],Ni.each(function(){var Tr=x.select(this);Bn.L&&(Tr=Tr.selectAll(Bn.L)),Tr.each(function(Rr){var br=Gt.l2p(Kn?Je(Rr):Rr.x)+Gt._offset,Br=x.select(this);br<Gt["_visibleLabelMax_"+bn._id]&&br>Gt["_visibleLabelMin_"+bn._id]?Br.style("display","none"):Bn.K==="tick"&&!In&&Br.style("display",null)})})})})},fr(vr,lr+1?lr:De);function zr(){return dr.length&&Promise.all(dr)}var Or=null;function Ir(){if(fr(vr,De),ir.length&&Gt.autotickangles&&(Gt.type!=="log"||String(Gt.dtick).charAt(0)!=="D")){Or=Gt.autotickangles[0];var yr=0,en=[],Jr,vn=1;if(vr.each(function(An){yr=Math.max(yr,An.fontSize);var En=Gt.l2p(An.x),Nn=_r(this),Dn=s.bBox(Nn.node());vn=Math.max(vn,v.lineCount(Nn)),en.push({top:0,bottom:10,height:10,left:En-Dn.width/2,right:En+Dn.width/2+2,width:Dn.width+2})}),(Gt.tickson==="boundaries"||Gt.showdividers)&&!Ce.secondary){var Vn=2;for(Gt.ticks&&(Vn+=Gt.tickwidth/2),Jr=0;Jr<en.length;Jr++){var bn=ir[Jr].xbnd,In=en[Jr];if(bn[0]!==null&&In.left-Gt.l2p(bn[0])<Vn||bn[1]!==null&&Gt.l2p(bn[1])-In.right<Vn){Or=90;break}}}else{var Bn=ir.length,Kn=Math.abs((ir[Bn-1].x-ir[0].x)*Gt._m)/(Bn-1),pi=Gt.ticklabelposition||"",Ni=function(An){return pi.indexOf(An)!==-1},Tr=Ni("top"),Rr=Ni("left"),br=Ni("right"),Br=Ni("bottom"),_n=Br||Rr||Tr||br,Pn=_n?(Gt.tickwidth||0)+2*ot:0,pn=Kn,fn=yr*1.25*vn,Mr=Math.sqrt(Math.pow(pn,2)+Math.pow(fn,2)),Gr=pn/Mr,Nr=Gt.autotickangles.map(function(An){return An*Math.PI/180}),Kr=Nr.find(function(An){return Math.abs(Math.cos(An))<=Gr});Kr===void 0&&(Kr=Nr.reduce(function(An,En){return Math.abs(Math.cos(An))<Math.abs(Math.cos(En))?An:En},Nr[0]));var Tn=Kr*(180/Math.PI);for(Jr=0;Jr<en.length-1;Jr++)if(m.bBoxIntersect(en[Jr],en[Jr+1],Pn)){Or=Tn;break}}Or&&fr(vr,Or)}}Gt._selections&&(Gt._selections[$e]=vr);var sn=[zr];Gt.automargin&&Ie._redrawFromAutoMarginCount&&lr===90?(Or=lr,sn.push(function(){fr(vr,lr)})):sn.push(Ir),Gt._tickAngles&&sn.push(function(){Gt._tickAngles[$e]=Or===null?E(De)?De:0:Or});var nn=function(){var yr=0,en=0;return vr.each(function(Jr,vn){var Vn=_r(this),bn=Vn.select(".text-math-group");if(bn.empty()){var In;Gt._vals[vn]&&(In=Gt._vals[vn].bb||s.bBox(Vn.node()),Gt._vals[vn].bb=In),yr=Math.max(yr,In.width),en=Math.max(en,In.height)}}),{labelsMaxW:yr,labelsMaxH:en}},kn=Gt._anchorAxis;if(kn&&(kn.autorange||kn.insiderange)&&Ke(Gt)&&!tt(Ie,Gt._id)&&(Ie._insideTickLabelsUpdaterange||(Ie._insideTickLabelsUpdaterange={}),kn.autorange&&(Ie._insideTickLabelsUpdaterange[kn._name+".autorange"]=kn.autorange,sn.push(nn)),kn.insiderange)){var Mn=nn(),kr=Gt._id.charAt(0)==="y"?Mn.labelsMaxW:Mn.labelsMaxH;kr+=2*ot,Gt.ticklabelposition==="inside"&&(kr+=Gt.ticklen||0);var Er=Gt.side==="right"||Gt.side==="top"?1:-1,Vr=Er===1?1:0,qr=Er===1?0:1,rn=[];rn[qr]=kn.range[qr];var gn=kn.range,ln=kn.r2p(gn[Vr]),zn=kn.r2p(gn[qr]),Rn=Ie._insideTickLabelsUpdaterange[kn._name+".range"];if(Rn){var ai=kn.r2p(Rn[Vr]),fi=kn.r2p(Rn[qr]),mi=Er*(Gt._id.charAt(0)==="y"?1:-1);mi*ln<mi*ai&&(ln=ai,rn[Vr]=gn[Vr]=Rn[Vr]),mi*zn>mi*fi&&(zn=fi,rn[qr]=gn[qr]=Rn[qr])}var li=Math.abs(zn-ln);li-kr>0?(li-=kr,kr*=1+kr/li):kr=0,Gt._id.charAt(0)!=="y"&&(kr=-kr),rn[Vr]=kn.p2r(kn.r2p(gn[Vr])+Er*kr),kn.autorange==="min"||kn.autorange==="max reversed"?(rn[0]=null,kn._rangeInitial0=void 0,kn._rangeInitial1=void 0):(kn.autorange==="max"||kn.autorange==="min reversed")&&(rn[1]=null,kn._rangeInitial0=void 0,kn._rangeInitial1=void 0),Ie._insideTickLabelsUpdaterange[kn._name+".range"]=rn}var ri=m.syncOrAsync(sn);return ri&&ri.then&&jt._promises.push(ri),ri};function Le(jt,Gt,Ce){var Ie=Gt._id+"divider",We=Ce.vals,$e=Ce.layer.selectAll("path."+Ie).data(We,ke);$e.exit().remove(),$e.enter().insert("path",":first-child").classed(Ie,1).classed("crisp",1).call(e.stroke,Gt.dividercolor).style("stroke-width",s.crispRound(jt,Gt.dividerwidth,1)+"px"),$e.attr("transform",Ce.transFn).attr("d",Ce.path)}q.getPxPosition=function(jt,Gt){var Ce=jt._fullLayout._size,Ie=Gt._id.charAt(0),We=Gt.side,$e;if(Gt.anchor!=="free"?$e=Gt._anchorAxis:Ie==="x"?$e={_offset:Ce.t+(1-(Gt.position||0))*Ce.h,_length:0}:Ie==="y"&&($e={_offset:Ce.l+(Gt.position||0)*Ce.w+Gt._shift,_length:0}),We==="top"||We==="left")return $e._offset;if(We==="bottom"||We==="right")return $e._offset+$e._length};function Ge(jt){var Gt=jt.title.font.size,Ce=(jt.title.text.match(v.BR_TAG_ALL)||[]).length;return jt.title.hasOwnProperty("standoff")?Ce?Gt*(K+Ce*et):Gt*K:Ce?Gt*(Ce+1)*et:Gt}function mr(jt,Gt){var Ce=jt._fullLayout,Ie=Gt._id,We=Ie.charAt(0),$e=Gt.title.font.size,ir;if(Gt.title.hasOwnProperty("standoff"))ir=Gt._depth+Gt.title.standoff+Ge(Gt);else{var er=Ke(Gt);if(Gt.type==="multicategory")ir=Gt._depth;else{var De=1.5*$e;er&&(De=.5*$e,Gt.ticks==="outside"&&(De+=Gt.ticklen)),ir=10+De+(Gt.linewidth?Gt.linewidth-1:0)}er||(We==="x"?ir+=Gt.side==="top"?$e*(Gt.showticklabels?1:0):$e*(Gt.showticklabels?1.5:.5):ir+=Gt.side==="right"?$e*(Gt.showticklabels?1:.5):$e*(Gt.showticklabels?.5:0))}var lr=q.getPxPosition(jt,Gt),vr,dr,fr;We==="x"?(dr=Gt._offset+Gt._length/2,fr=Gt.side==="top"?lr-ir:lr+ir):(fr=Gt._offset+Gt._length/2,dr=Gt.side==="right"?lr+ir:lr-ir,vr={rotate:"-90",offset:0});var zr;if(Gt.type!=="multicategory"){var Or=Gt._selections[Gt._id+"tick"];if(zr={selection:Or,side:Gt.side},Or&&Or.node()&&Or.node().parentNode){var Ir=s.getTranslate(Or.node().parentNode);zr.offsetLeft=Ir.x,zr.offsetTop=Ir.y}Gt.title.hasOwnProperty("standoff")&&(zr.pad=0)}return Gt._titleStandoff=ir,r.draw(jt,Ie+"title",{propContainer:Gt,propName:Gt._name+".title.text",placeholder:Ce._dfltTitle[We],avoid:zr,transform:vr,attributes:{x:dr,y:fr,"text-anchor":"middle"}})}q.shouldShowZeroLine=function(jt,Gt,Ce){var Ie=m.simpleMap(Gt.range,Gt.r2l);return Ie[0]*Ie[1]<=0&&Gt.zeroline&&(Gt.type==="linear"||Gt.type==="-")&&!(Gt.rangebreaks&&Gt.maskBreaks(0)===R)&&(xe(Gt,0)||!Xe(jt,Gt,Ce,Ie)||Ye(jt,Gt))},q.clipEnds=function(jt,Gt){return Gt.filter(function(Ce){return xe(jt,Ce.x)})};function xe(jt,Gt){var Ce=jt.l2p(Gt);return Ce>1&&Ce<jt._length-1}function Xe(jt,Gt,Ce,Ie){var We=Ce._mainAxis;if(!We)return;var $e=jt._fullLayout,ir=Gt._id.charAt(0),er=q.counterLetter(Gt._id),De=Gt._offset+(Math.abs(Ie[0])<Math.abs(Ie[1])==(ir==="x")?0:Gt._length);function lr(Or){if(!Or.showline||!Or.linewidth)return!1;var Ir=Math.max((Or.linewidth+Gt.zerolinewidth)/2,1);function sn(Mn){return typeof Mn=="number"&&Math.abs(Mn-De)<Ir}if(sn(Or._mainLinePosition)||sn(Or._mainMirrorPosition))return!0;var nn=Or._linepositions||{};for(var kn in nn)if(sn(nn[kn][0])||sn(nn[kn][1]))return!0}var vr=$e._plots[Ce._mainSubplot];if(!(vr.mainplotinfo||vr).overlays.length)return lr(Ce);for(var dr=q.list(jt,er),fr=0;fr<dr.length;fr++){var zr=dr[fr];if(zr._mainAxis===We&&lr(zr))return!0}}function Ye(jt,Gt){for(var Ce=jt._fullData,Ie=Gt._mainSubplot,We=Gt._id.charAt(0),$e=0;$e<Ce.length;$e++){var ir=Ce[$e];if(ir.visible===!0&&ir.xaxis+ir.yaxis===Ie&&(M.traceIs(ir,"bar-like")&&ir.orientation==={x:"h",y:"v"}[We]||ir.fill&&ir.fill.charAt(ir.fill.length-1)===We))return!0}return!1}function _r(jt){var Gt=x.select(jt),Ce=Gt.select(".text-math-group");return Ce.empty()?Gt.select("text"):Ce}q.allowAutoMargin=function(jt){for(var Gt=q.list(jt,"",!0),Ce=0;Ce<Gt.length;Ce++){var Ie=Gt[Ce];Ie.automargin&&(i.allowAutoMargin(jt,rr(Ie)),Ie.mirror&&i.allowAutoMargin(jt,re(Ie))),M.getComponentMethod("rangeslider","isVisible")(Ie)&&i.allowAutoMargin(jt,le(Ie))}};function rr(jt){return jt._id+".automargin"}function re(jt){return rr(jt)+".mirror"}function le(jt){return jt._id+".rangeslider"}q.swap=function(jt,Gt){for(var Ce=me(jt,Gt),Ie=0;Ie<Ce.length;Ie++)ze(jt,Ce[Ie].x,Ce[Ie].y)};function me(jt,Gt){var Ce=[],Ie,We;for(Ie=0;Ie<Gt.length;Ie++){var $e=[],ir=jt._fullData[Gt[Ie]].xaxis,er=jt._fullData[Gt[Ie]].yaxis;if(!(!ir||!er)){for(We=0;We<Ce.length;We++)(Ce[We].x.indexOf(ir)!==-1||Ce[We].y.indexOf(er)!==-1)&&$e.push(We);if(!$e.length){Ce.push({x:[ir],y:[er]});continue}var De=Ce[$e[0]],lr;if($e.length>1)for(We=1;We<$e.length;We++)lr=Ce[$e[We]],Ee(De.x,lr.x),Ee(De.y,lr.y);Ee(De.x,[ir]),Ee(De.y,[er])}}return Ce}function Ee(jt,Gt){for(var Ce=0;Ce<Gt.length;Ce++)jt.indexOf(Gt[Ce])===-1&&jt.push(Gt[Ce])}function ze(jt,Gt,Ce){var Ie=[],We=[],$e=jt.layout,ir,er;for(ir=0;ir<Gt.length;ir++)Ie.push(q.getFromId(jt,Gt[ir]));for(ir=0;ir<Ce.length;ir++)We.push(q.getFromId(jt,Ce[ir]));var De=Object.keys(n),lr=["anchor","domain","overlaying","position","side","tickangle","editType"],vr=["linear","log"];for(ir=0;ir<De.length;ir++){var dr=De[ir],fr=Ie[0][dr],zr=We[0][dr],Or=!0,Ir=!1,sn=!1;if(!(dr.charAt(0)==="_"||typeof fr=="function"||lr.indexOf(dr)!==-1)){for(er=1;er<Ie.length&&Or;er++){var nn=Ie[er][dr];dr==="type"&&vr.indexOf(fr)!==-1&&vr.indexOf(nn)!==-1&&fr!==nn?Ir=!0:nn!==fr&&(Or=!1)}for(er=1;er<We.length&&Or;er++){var kn=We[er][dr];dr==="type"&&vr.indexOf(zr)!==-1&&vr.indexOf(kn)!==-1&&zr!==kn?sn=!0:We[er][dr]!==zr&&(Or=!1)}Or&&(Ir&&($e[Ie[0]._name].type="linear"),sn&&($e[We[0]._name].type="linear"),Oe($e,dr,Ie,We,jt._fullLayout._dfltTitle))}}for(ir=0;ir<jt._fullLayout.annotations.length;ir++){var Mn=jt._fullLayout.annotations[ir];Gt.indexOf(Mn.xref)!==-1&&Ce.indexOf(Mn.yref)!==-1&&m.swapAttrs($e.annotations[ir],["?"])}}function Oe(jt,Gt,Ce,Ie,We){var $e=m.nestedProperty,ir=$e(jt[Ce[0]._name],Gt).get(),er=$e(jt[Ie[0]._name],Gt).get(),De;for(Gt==="title"&&(ir&&ir.text===We.x&&(ir.text=We.y),er&&er.text===We.y&&(er.text=We.x)),De=0;De<Ce.length;De++)$e(jt,Ce[De]._name+"."+Gt).set(er);for(De=0;De<Ie.length;De++)$e(jt,Ie[De]._name+"."+Gt).set(ir)}function Fe(jt){return jt._id==="angularaxis"}function Re(jt,Gt){for(var Ce=Gt._rangebreaks.length,Ie=0;Ie<Ce;Ie++){var We=Gt._rangebreaks[Ie];if(jt>=We.min&&jt<We.max)return We.max}return jt}function Ke(jt){return(jt.ticklabelposition||"").indexOf("inside")!==-1}function or(jt,Gt){Ke(jt._anchorAxis||{})&&jt._hideCounterAxisInsideTickLabels&&jt._hideCounterAxisInsideTickLabels(Gt)}function pr(jt,Gt,Ce,Ie){var We=jt.anchor!=="free"&&(jt.overlaying===void 0||jt.overlaying===!1)?jt._id:jt.overlaying,$e;Ie?$e=jt.side==="right"?Gt:-Gt:$e=Gt,We in Ce||(Ce[We]={}),jt.side in Ce[We]||(Ce[We][jt.side]=0),Ce[We][jt.side]+=$e}function hr(jt,Gt){return jt.autoshift?Gt[jt.overlaying][jt.side]:jt.shift||0}},52976:function(X,B,t){var x=t(38248),E=t(3400),i=t(39032).BADNUM,M=E.isArrayOrTypedArray,m=E.isDateTime,d=E.cleanNumber,v=Math.round;X.exports=function(h,b,f){var k=h,a=f.noMultiCategory;if(M(k)&&!k.length)return"-";if(!a&&o(k))return"multicategory";if(a&&Array.isArray(k[0])){for(var c=[],p=0;p<k.length;p++)if(M(k[p]))for(var w=0;w<k[p].length;w++)c.push(k[p][w]);k=c}if(s(k,b))return"date";var S=f.autotypenumbers!=="strict";return l(k,S)?"category":e(k,S)?"linear":"-"};function r(h,b){return b?x(h):typeof h=="number"}function e(h,b){for(var f=h.length,k=0;k<f;k++)if(r(h[k],b))return!0;return!1}function s(h,b){for(var f=h.length,k=n(f),a=0,c=0,p={},w=0;w<f;w+=k){var S=v(w),_=h[S],T=String(_);p[T]||(p[T]=1,m(_,b)&&a++,x(_)&&c++)}return a>c*2}function n(h){return Math.max(1,(h-1)/1e3)}function l(h,b){for(var f=h.length,k=n(f),a=0,c=0,p={},w=0;w<f;w+=k){var S=v(w),_=h[S],T=String(_);if(!p[T]){p[T]=1;var P=typeof _;P==="boolean"?c++:(b?d(_)!==i:P==="number")?a++:P==="string"&&c++}}return c>a*2}function o(h){return M(h[0])&&M(h[1])}},28336:function(X,B,t){var x=t(38248),E=t(24040),i=t(3400),M=t(31780),m=t(51272),d=t(94724),v=t(26332),r=t(25404),e=t(95936),s=t(42568),n=t(22416),l=t(42136),o=t(96312),h=t(78344),b=t(33816).WEEKDAY_PATTERN,f=t(33816).HOUR_PATTERN;X.exports=function(p,w,S,_,T){var P=_.letter,u=_.font||{},g=_.splomStash||{},L=S("visible",!_.visibleDflt),A=w._template||{},R=w.type||A.type||"-",O;if(R==="date"){var N=E.getComponentMethod("calendars","handleDefaults");N(p,w,"calendar",_.calendar),_.noTicklabelmode||(O=S("ticklabelmode"))}var z="";(!_.noTicklabelposition||R==="multicategory")&&(z=i.coerce(p,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:O==="period"?["outside","inside"]:P==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),_.noTicklabeloverflow||S("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":R==="category"||R==="multicategory"?"allow":"hide past div"),h(w,T),o(p,w,S,_),n(p,w,S,_),R!=="category"&&!_.noHover&&S("hoverformat");var F=S("color"),I=F!==d.color.dflt?F:u.color,j=g.label||T._dfltTitle[P];if(s(p,w,S,R,_),!L)return w;S("title.text",j),i.coerceFont(S,"title.font",{family:u.family,size:i.bigFont(u.size),color:I}),v(p,w,S,R);var V=_.hasMinor;if(V&&(M.newContainer(w,"minor"),v(p,w,S,R,{isMinor:!0})),e(p,w,S,R,_),r(p,w,S,_),V){var W=_.isMinor;_.isMinor=!0,r(p,w,S,_),_.isMinor=W}l(p,w,S,{dfltColor:F,bgColor:_.bgColor,showGrid:_.showGrid,hasMinor:V,attributes:d}),V&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&S("mirror");var K=R==="multicategory";if(!_.noTickson&&(R==="category"||K)&&(w.ticks||w.showgrid)){var et;K&&(et="boundaries");var lt=S("tickson",et);lt==="boundaries"&&delete w.ticklabelposition}if(K){var ot=S("showdividers");ot&&(S("dividercolor"),S("dividerwidth"))}if(R==="date")if(m(p,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:k}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var q=0;q<w.rangebreaks.length;q++)if(w.rangebreaks[q].pattern===b){w._hasDayOfWeekBreaks=!0;break}if(h(w,T),T._has("scattergl")||T._has("splom"))for(var J=0;J<_.data.length;J++){var it=_.data[J];(it.type==="scattergl"||it.type==="splom")&&(it.visible=!1,i.warn(it.type+" traces do not work on axes with rangebreaks. Setting trace "+it.index+" to `visible: false`."))}}return w};function k(p,w,S){function _(N,z){return i.coerce(p,w,d.rangebreaks,N,z)}var T=_("enabled");if(T){var P=_("bounds");if(P&&P.length>=2){var u="",g,L;if(P.length===2){for(g=0;g<2;g++)if(L=c(P[g]),L){u=b;break}}var A=_("pattern",u);if(A===b)for(g=0;g<2;g++)L=c(P[g]),L&&(w.bounds[g]=P[g]=L-1);if(A)for(g=0;g<2;g++)switch(L=P[g],A){case b:if(!x(L)){w.enabled=!1;return}if(L=+L,L!==Math.floor(L)||L<0||L>=7){w.enabled=!1;return}w.bounds[g]=P[g]=L;break;case f:if(!x(L)){w.enabled=!1;return}if(L=+L,L<0||L>24){w.enabled=!1;return}w.bounds[g]=P[g]=L;break}if(S.autorange===!1){var R=S.range;if(R[0]<R[1]){if(P[0]<R[0]&&P[1]>R[1]){w.enabled=!1;return}}else if(P[0]>R[0]&&P[1]<R[1]){w.enabled=!1;return}}}else{var O=_("values");if(O&&O.length)_("dvalue");else{w.enabled=!1;return}}}}var a={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function c(p){if(typeof p=="string")return a[p.substr(0,3).toLowerCase()]}},29736:function(X,B,t){var x=t(26880),E=x.FORMAT_LINK,i=x.DATE_FORMAT_LINK;function M(v,r){return{valType:"string",dflt:"",editType:"none",description:(r?m:d)("hover text",v)+["By default the values are formatted using "+(r?"generic number format":"`"+v+"axis.hoverformat`")+"."].join(" ")}}function m(v,r){return["Sets the "+v+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+E+"."].join(" ")}function d(v,r){return m(v,r)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}X.exports={axisHoverFormat:M,descriptionOnlyNumbers:m,descriptionWithDates:d}},79811:function(X,B,t){var x=t(24040),E=t(33816);B.id2name=function(M){if(!(typeof M!="string"||!M.match(E.AX_ID_PATTERN))){var m=M.split(" ")[0].substr(1);return m==="1"&&(m=""),M.charAt(0)+"axis"+m}},B.name2id=function(M){if(M.match(E.AX_NAME_PATTERN)){var m=M.substr(5);return m==="1"&&(m=""),M.charAt(0)+m}},B.cleanId=function(M,m,d){var v=/( domain)$/.test(M);if(!(typeof M!="string"||!M.match(E.AX_ID_PATTERN))&&!(m&&M.charAt(0)!==m)&&!(v&&!d)){var r=M.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),M.charAt(0)+r+(v&&d?" domain":"")}},B.list=function(M,m,d){var v=M._fullLayout;if(!v)return[];var r=B.listIds(M,m),e=new Array(r.length),s;for(s=0;s<r.length;s++){var n=r[s];e[s]=v[n.charAt(0)+"axis"+n.substr(1)]}if(!d){var l=v._subplots.gl3d||[];for(s=0;s<l.length;s++){var o=v[l[s]];m?e.push(o[m+"axis"]):e.push(o.xaxis,o.yaxis,o.zaxis)}}return e},B.listIds=function(M,m){var d=M._fullLayout;if(!d)return[];var v=d._subplots;return m?v[m+"axis"]:v.xaxis.concat(v.yaxis)},B.getFromId=function(M,m,d){var v=M._fullLayout;return m=m===void 0||typeof m!="string"?m:m.replace(" domain",""),d==="x"?m=m.replace(/y[0-9]*/,""):d==="y"&&(m=m.replace(/x[0-9]*/,"")),v[B.id2name(m)]},B.getFromTrace=function(M,m,d){var v=M._fullLayout,r=null;if(x.traceIs(m,"gl3d")){var e=m.scene;e.substr(0,5)==="scene"&&(r=v[e][d+"axis"])}else r=B.getFromId(M,m[d+"axis"]||d);return r},B.idSort=function(M,m){var d=M.charAt(0),v=m.charAt(0);return d!==v?d>v?1:-1:+(M.substr(1)||1)-+(m.substr(1)||1)},B.ref2id=function(M){return/^[xyz]/.test(M)?M.split(" ")[0]:!1};function i(M,m){if(m&&m.length){for(var d=0;d<m.length;d++)if(m[d][M])return!0}return!1}B.isLinked=function(M,m){return i(m,M._axisMatchGroups)||i(m,M._axisConstraintGroups)}},22416:function(X,B,t){var x=t(38116).isTypedArraySpec;function E(i,M){var m=M.dataAttr||i._id.charAt(0),d={},v,r,e;if(M.axData)v=M.axData;else for(v=[],r=0;r<M.data.length;r++){var s=M.data[r];s[m+"axis"]===i._id&&v.push(s)}for(r=0;r<v.length;r++){var n=v[r][m];for(e=0;e<n.length;e++){var l=n[e];l!=null&&(d[l]=1)}}return Object.keys(d)}X.exports=function(i,M,m,d){if(M.type==="category"){var v=i.categoryarray,r=Array.isArray(v)&&v.length>0||x(v),e;r&&(e="array");var s=m("categoryorder",e),n;s==="array"&&(n=m("categoryarray")),!r&&s==="array"&&(s=M.categoryorder="trace"),s==="trace"?M._initialCategories=[]:s==="array"?M._initialCategories=n.slice():(n=E(M,d).sort(),s==="category ascending"?M._initialCategories=n:s==="category descending"&&(M._initialCategories=n.reverse()))}}},98728:function(X,B,t){var x=t(38248),E=t(3400),i=t(39032),M=i.ONEDAY,m=i.ONEWEEK;B.dtick=function(d,v){var r=v==="log",e=v==="date",s=v==="category",n=e?M:1;if(!d)return n;if(x(d))return d=Number(d),d<=0?n:s?Math.max(1,Math.round(d)):e?Math.max(.1,d):d;if(typeof d!="string"||!(e||r))return n;var l=d.charAt(0),o=d.substr(1);return o=x(o)?Number(o):0,o<=0||!(e&&l==="M"&&o===Math.round(o)||r&&l==="L"||r&&l==="D"&&(o===1||o===2))?n:d},B.tick0=function(d,v,r,e){if(v==="date")return E.cleanDate(d,E.dateTick0(r,e%m===0?1:0));if(!(e==="D1"||e==="D2"))return x(d)?Number(d):0}},33816:function(X,B,t){var x=t(53756).counter;X.exports={idRegex:{x:x("x","( domain)?"),y:x("y","( domain)?")},attrRegex:x("[xy]axis"),xAxisMatch:x("xaxis"),yAxisMatch:x("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(X,B,t){var x=t(3400),E=t(19280),i=t(79811).id2name,M=t(94724),m=t(21160),d=t(78344),v=t(39032).ALMOST_EQUAL,r=t(84284).FROM_BL;B.handleDefaults=function(f,k,a){var c=a.axIds,p=a.axHasImage,w=k._axisConstraintGroups=[],S=k._axisMatchGroups=[],_,T,P,u,g,L,A,R;for(_=0;_<c.length;_++)u=i(c[_]),g=f[u],L=k[u],e(g,L,{axIds:c,layoutOut:k,hasImage:p[u]});function O(et,lt){for(_=0;_<et.length;_++){T=et[_];for(P in T)k[i(P)][lt]=T}}for(O(S,"_matchGroup"),_=0;_<w.length;_++){T=w[_];for(P in T)if(L=k[i(P)],L.fixedrange){for(var N in T){var z=i(N);(f[z]||{}).fixedrange===!1&&x.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),k[z].fixedrange=!0}break}}for(_=0;_<w.length;){T=w[_];for(P in T){L=k[i(P)],L._matchGroup&&Object.keys(L._matchGroup).length===Object.keys(T).length&&(w.splice(_,1),_--);break}_++}O(w,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],I=!1,j=!1;function V(){R=L[A],A==="rangebreaks"&&(j=L._hasDayOfWeekBreaks)}for(_=0;_<S.length;_++){T=S[_];for(var W=0;W<F.length;W++){A=F[W],R=null;var K;for(P in T)if(u=i(P),g=f[u],L=k[u],A in L){if(!L.matches&&(K=L,A in g)){V();break}R===null&&A in g&&V()}if(A==="range"&&R&&g.range&&g.range.length===2&&g.range[0]!==null&&g.range[1]!==null&&(I=!0),A==="autorange"&&R===null&&I&&(R=!1),R===null&&A in K&&(R=K[A]),R!==null)for(P in T)L=k[i(P)],L[A]=A==="range"?R.slice():R,A==="rangebreaks"&&(L._hasDayOfWeekBreaks=j,d(L,k))}}};function e(f,k,a){var c=a.axIds,p=a.layoutOut,w=a.hasImage,S=p._axisConstraintGroups,_=p._axisMatchGroups,T=k._id,P=T.charAt(0),u=((p._splomAxes||{})[P]||{})[T]||{},g=k._id,L=g.charAt(0)==="x";k._matchGroup=null,k._constraintGroup=null;function A(J,it){return x.coerce(f,k,M,J,it)}A("constrain",w?"domain":"range"),x.coerce(f,k,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var R=k.type,O,N,z=[];for(O=0;O<c.length;O++)if(N=c[O],N!==g){var F=p[i(N)];F.type===R&&z.push(N)}var I=n(S,g);if(I){var j=[];for(O=0;O<z.length;O++)N=z[O],I[N]||j.push(N);z=j}var V=z.length,W,K;V&&(f.matches||u.matches)&&(W=x.coerce(f,k,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(u.matches)!==-1?u.matches:void 0}},"matches"));var et=w&&!L?k.anchor:void 0;if(V&&!W&&(f.scaleanchor||et)&&(K=x.coerce(f,k,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",et)),W){k._matchGroup=l(_,g,W,1);var lt=p[i(W)],ot=s(p,k)/s(p,lt);L!==(W.charAt(0)==="x")&&(ot=(L?"x":"y")+ot),l(S,g,W,ot)}else f.matches&&c.indexOf(f.matches)!==-1&&x.warn("ignored "+k._name+'.matches: "'+f.matches+'" to avoid an infinite loop');if(K){var q=A("scaleratio");q||(q=k.scaleratio=1),l(S,g,K,q)}else f.scaleanchor&&c.indexOf(f.scaleanchor)!==-1&&x.warn("ignored "+k._name+'.scaleanchor: "'+f.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(f,k){var a=k.domain;return a||(a=f[i(k.overlaying)].domain),a[1]-a[0]}function n(f,k){for(var a=0;a<f.length;a++)if(f[a][k])return f[a];return null}function l(f,k,a,c){var p,w,S,_,T,P=n(f,k);P===null?(P={},P[k]=1,T=f.length,f.push(P)):T=f.indexOf(P);var u=Object.keys(P);for(p=0;p<f.length;p++)if(S=f[p],p!==T&&S[a]){var g=S[a];for(w=0;w<u.length;w++)_=u[w],S[_]=o(g,o(c,P[_]));f.splice(T,1);return}if(c!==1)for(w=0;w<u.length;w++){var L=u[w];P[L]=o(c,P[L])}P[a]=1}function o(f,k){var a="",c="",p,w;typeof f=="string"&&(a=f.match(/^[xy]*/)[0],p=a.length,f=+f.substr(p)),typeof k=="string"&&(c=k.match(/^[xy]*/)[0],w=c.length,k=+k.substr(w));var S=f*k;return!p&&!w?S:!p||!w||a.charAt(0)===c.charAt(0)?a+c+f*k:p===w?S:(p>w?a.substr(w):c.substr(p))+S}function h(f,k){for(var a=k._size,c=a.h/a.w,p={},w=Object.keys(f),S=0;S<w.length;S++){var _=w[S],T=f[_];if(typeof T=="string"){var P=T.match(/^[xy]*/)[0],u=P.length;T=+T.substr(u);for(var g=P.charAt(0)==="y"?c:1/c,L=0;L<u;L++)T*=g}p[_]=T}return p}B.enforce=function(f){var k=f._fullLayout,a=k._axisConstraintGroups||[],c,p,w,S,_,T,P,u;for(c=0;c<a.length;c++){w=h(a[c],k);var g=Object.keys(w),L=1/0,A=0,R=1/0,O={},N={},z=!1;for(p=0;p<g.length;p++)S=g[p],N[S]=_=k[i(S)],_._inputDomain?_.domain=_._inputDomain.slice():_._inputDomain=_.domain.slice(),_._inputRange||(_._inputRange=_.range.slice()),_.setScale(),O[S]=T=Math.abs(_._m)/w[S],L=Math.min(L,T),(_.constrain==="domain"||!_._constraintShrinkable)&&(R=Math.min(R,T)),delete _._constraintShrinkable,A=Math.max(A,T),_.constrain==="domain"&&(z=!0);if(!(L>v*A&&!z)){for(p=0;p<g.length;p++)if(S=g[p],T=O[S],_=N[S],P=_.constrain,T!==R||P==="domain")if(u=T/R,P==="range")m(_,u);else{var F=_._inputDomain,I=(_.domain[1]-_.domain[0])/(F[1]-F[0]),j=(_.r2l(_.range[1])-_.r2l(_.range[0]))/(_.r2l(_._inputRange[1])-_.r2l(_._inputRange[0]));if(u/=I,u*j<1){_.domain=_._input.domain=F.slice(),m(_,u);continue}if(j<1&&(_.range=_._input.range=_._inputRange.slice(),u*=j),_.autorange){var V=_.r2l(_.range[0]),W=_.r2l(_.range[1]),K=(V+W)/2,et=K,lt=K,ot=Math.abs(W-K),q=K-ot*u*1.0001,J=K+ot*u*1.0001,it=E.makePadFn(k,_,0),Z=E.makePadFn(k,_,1);b(_,u);var tt=Math.abs(_._m),st=E.concatExtremes(f,_),Q=st.min,G=st.max,ut,at;for(at=0;at<Q.length;at++)ut=Q[at].val-it(Q[at])/tt,ut>q&&ut<et&&(et=ut);for(at=0;at<G.length;at++)ut=G[at].val+Z(G[at])/tt,ut<J&&ut>lt&&(lt=ut);var dt=(lt-et)/(2*ot);u/=dt,et=_.l2r(et),lt=_.l2r(lt),_.range=_._input.range=V<W?[et,lt]:[lt,et]}b(_,u)}}}},B.getAxisGroup=function(f,k){for(var a=f._axisMatchGroups,c=0;c<a.length;c++){var p=a[c];if(p[k])return"g"+c}return k},B.clean=function(f,k){if(k._inputDomain){for(var a=!1,c=k._id,p=f._fullLayout._axisConstraintGroups,w=0;w<p.length;w++)if(p[w][c]){a=!0;break}(!a||k.constrain!=="domain")&&(k._input.domain=k.domain=k._inputDomain,delete k._inputDomain)}};function b(f,k){var a=f._inputDomain,c=r[f.constraintoward],p=a[0]+(a[1]-a[0])*c;f.domain=f._input.domain=[p+(a[0]-p)/k,p+(a[1]-p)/k],f.setScale()}},51184:function(X,B,t){var x=t(33428),E=t(3400),i=E.numberFormat,M=t(49760),m=t(89184),d=t(24040),v=E.strTranslate,r=t(72736),e=t(76308),s=t(43616),n=t(93024),l=t(54460),o=t(93972),h=t(86476),b=t(72760),f=b.selectingOrDrawing,k=b.freeMode,a=t(84284).FROM_TL,c=t(73696),p=t(39172).redrawReglTraces,w=t(7316),S=t(79811).getFromId,_=t(22676).prepSelect,T=t(22676).clearOutline,P=t(22676).selectOnClick,u=t(21160),g=t(33816),L=g.MINDRAG,A=g.MINZOOM,R=!0;function O(at,dt,gt,wt,kt,Ot,bt,_t){var mt=at._fullLayout._zoomlayer,Pt=bt+_t==="nsew",Rt=(bt+_t).length===1,Ht,Dt,Xt,se,Yt,ue,ie,fe,ce,ye,de,Te,Et,Vt,te,Jt,Ut,It,pt,xt,Ct,At,Ft;gt+=dt.yaxis._shift;function Wt(){if(Ht=dt.xaxis,Dt=dt.yaxis,ce=Ht._length,ye=Dt._length,ie=Ht._offset,fe=Dt._offset,Xt={},Xt[Ht._id]=Ht,se={},se[Dt._id]=Dt,bt&&_t)for(var er=dt.overlays,De=0;De<er.length;De++){var lr=er[De].xaxis;Xt[lr._id]=lr;var vr=er[De].yaxis;se[vr._id]=vr}Yt=ut(Xt),ue=ut(se),Et=F(Yt,_t),Vt=F(ue,bt),te=!Vt&&!Et,Te=Q(at,at._fullLayout._axisMatchGroups,Xt,se),de=Q(at,at._fullLayout._axisConstraintGroups,Xt,se,Te);var dr=de.isSubplotConstrained||Te.isSubplotConstrained;Jt=_t||dr,Ut=bt||dr;var fr=at._fullLayout;It=fr._has("scattergl"),pt=fr._has("splom"),xt=fr._has("svg")}Wt();var Qt=K(Vt+Et,at._fullLayout.dragmode,Pt),he=z(dt,bt+_t+"drag",Qt,gt,wt,kt,Ot);if(te&&!Pt)return he.onmousedown=null,he.style.pointerEvents="none",he;var ve={element:he,gd:at,plotinfo:dt};ve.prepFn=function(er,De,lr){var vr=ve.dragmode,dr=at._fullLayout.dragmode;dr!==vr&&(ve.dragmode=dr),Wt(),At=at._fullLayout._invScaleX,Ft=at._fullLayout._invScaleY,te||(Pt?er.shiftKey?dr==="pan"?dr="zoom":f(dr)||(dr="pan"):er.ctrlKey&&(dr="pan"):dr="pan"),k(dr)?ve.minDrag=1:ve.minDrag=void 0,f(dr)?(ve.xaxes=Yt,ve.yaxes=ue,_(er,De,lr,ve,dr)):(ve.clickFn=Ue,f(vr)&&Je(),te||(dr==="zoom"?(ve.moveFn=me,ve.doneFn=ze,ve.minDrag=1,le(er,De,lr)):dr==="pan"&&(ve.moveFn=pr,ve.doneFn=Ce))),at._fullLayout._redrag=function(){var fr=at._dragdata;if(fr&&fr.element===he){var zr=at._fullLayout.dragmode;f(zr)||(Wt(),Ie([0,0,ce,ye]),ve.moveFn(fr.dx,fr.dy))}}};function Je(){ve.plotinfo.selection=!1,T(at)}function Ue(er,De){var lr=ve.gd;if(lr._fullLayout._activeShapeIndex>=0){lr._fullLayout._deactivateShape(lr);return}var vr=lr._fullLayout.clickmode;if(J(lr),er===2&&!Rt&&Gt(),Pt)vr.indexOf("select")>-1&&P(De,lr,Yt,ue,dt.id,ve),vr.indexOf("event")>-1&&n.click(lr,De,dt.id);else if(er===1&&Rt){var dr=bt?Dt:Ht,fr=bt==="s"||_t==="w"?0:1,zr=dr._name+".range["+fr+"]",Or=I(dr,fr),Ir="left",sn="middle";if(dr.fixedrange)return;bt?(sn=bt==="n"?"top":"bottom",dr.side==="right"&&(Ir="right")):_t==="e"&&(Ir="right"),lr._context.showAxisRangeEntryBoxes&&x.select(he).call(r.makeEditable,{gd:lr,immediate:!0,background:lr._fullLayout.paper_bgcolor,text:String(Or),fill:dr.tickfont?dr.tickfont.color:"#444",horizontalAlign:Ir,verticalAlign:sn}).on("edit",function(nn){var kn=dr.d2r(nn);kn!==void 0&&d.call("_guiRelayout",lr,zr,kn)})}}h.init(ve);var ke,Le,Ge,mr,xe,Xe,Ye,_r,rr,re;function le(er,De,lr){var vr=he.getBoundingClientRect();ke=De-vr.left,Le=lr-vr.top,at._fullLayout._calcInverseTransform(at);var dr=E.apply3DTransform(at._fullLayout._invTransform)(ke,Le);ke=dr[0],Le=dr[1],Ge={l:ke,r:ke,w:0,t:Le,b:Le,h:0},mr=at._hmpixcount?at._hmlumcount/at._hmpixcount:M(at._fullLayout.plot_bgcolor).getLuminance(),xe="M0,0H"+ce+"V"+ye+"H0V0",Xe=!1,Ye="xy",re=!1,_r=et(mt,mr,ie,fe,xe),rr=lt(mt,ie,fe)}function me(er,De){if(at._transitioningWithDuration)return!1;var lr=Math.max(0,Math.min(ce,At*er+ke)),vr=Math.max(0,Math.min(ye,Ft*De+Le)),dr=Math.abs(lr-ke),fr=Math.abs(vr-Le);Ge.l=Math.min(ke,lr),Ge.r=Math.max(ke,lr),Ge.t=Math.min(Le,vr),Ge.b=Math.max(Le,vr);function zr(){Ye="",Ge.r=Ge.l,Ge.t=Ge.b,rr.attr("d","M0,0Z")}if(de.isSubplotConstrained)dr>A||fr>A?(Ye="xy",dr/ce>fr/ye?(fr=dr*ye/ce,Le>vr?Ge.t=Le-fr:Ge.b=Le+fr):(dr=fr*ce/ye,ke>lr?Ge.l=ke-dr:Ge.r=ke+dr),rr.attr("d",st(Ge))):zr();else if(Te.isSubplotConstrained)if(dr>A||fr>A){Ye="xy";var Or=Math.min(Ge.l/ce,(ye-Ge.b)/ye),Ir=Math.max(Ge.r/ce,(ye-Ge.t)/ye);Ge.l=Or*ce,Ge.r=Ir*ce,Ge.b=(1-Or)*ye,Ge.t=(1-Ir)*ye,rr.attr("d",st(Ge))}else zr();else!Vt||fr<Math.min(Math.max(dr*.6,L),A)?dr<L||!Et?zr():(Ge.t=0,Ge.b=ye,Ye="x",rr.attr("d",Z(Ge,Le))):!Et||dr<Math.min(fr*.6,A)?(Ge.l=0,Ge.r=ce,Ye="y",rr.attr("d",tt(Ge,ke))):(Ye="xy",rr.attr("d",st(Ge)));Ge.w=Ge.r-Ge.l,Ge.h=Ge.b-Ge.t,Ye&&(re=!0),at._dragged=re,ot(_r,rr,Ge,xe,Xe,mr),Ee(),at.emit("plotly_relayouting",Ct),Xe=!0}function Ee(){Ct={},(Ye==="xy"||Ye==="x")&&(j(Yt,Ge.l/ce,Ge.r/ce,Ct,de.xaxes),hr("x",Ct)),(Ye==="xy"||Ye==="y")&&(j(ue,(ye-Ge.b)/ye,(ye-Ge.t)/ye,Ct,de.yaxes),hr("y",Ct))}function ze(){Ee(),J(at),Ce(),it(at)}var Oe=[0,0,ce,ye],Fe=null,Re=g.REDRAWDELAY,Ke=dt.mainplot?at._fullLayout._plots[dt.mainplot]:dt;function or(er){if(!at._context._scrollZoom.cartesian&&!at._fullLayout._enablescrollzoom)return;if(Je(),at._transitioningWithDuration){er.preventDefault(),er.stopPropagation();return}Wt(),clearTimeout(Fe);var De=-er.deltaY;if(isFinite(De)||(De=er.wheelDelta/10),!isFinite(De)){E.log("Did not find wheel motion attributes: ",er);return}var lr=Math.exp(-Math.min(Math.max(De,-20),20)/200),vr=Ke.draglayer.select(".nsewdrag").node().getBoundingClientRect(),dr=(er.clientX-vr.left)/vr.width,fr=(vr.bottom-er.clientY)/vr.height,zr;function Or(Ir,sn,nn){if(Ir.fixedrange)return;var kn=E.simpleMap(Ir.range,Ir.r2l),Mn=kn[0]+(kn[1]-kn[0])*sn;function kr(Er){return Ir.l2r(Mn+(Er-Mn)*nn)}Ir.range=kn.map(kr)}if(Jt){for(_t||(dr=.5),zr=0;zr<Yt.length;zr++)Or(Yt[zr],dr,lr);hr("x"),Oe[2]*=lr,Oe[0]+=Oe[2]*dr*(1/lr-1)}if(Ut){for(bt||(fr=.5),zr=0;zr<ue.length;zr++)Or(ue[zr],fr,lr);hr("y"),Oe[3]*=lr,Oe[1]+=Oe[3]*(1-fr)*(1/lr-1)}Ie(Oe),jt(),at.emit("plotly_relayouting",Ct),Fe=setTimeout(function(){at._fullLayout&&(Oe=[0,0,ce,ye],Ce())},Re),er.preventDefault()}bt.length*_t.length!==1&&G(he,or);function pr(er,De){if(er=er*At,De=De*Ft,at._transitioningWithDuration)return;if(at._fullLayout._replotting=!0,Et==="ew"||Vt==="ns"){var lr=Et?-er:0,vr=Vt?-De:0;if(Te.isSubplotConstrained){if(Et&&Vt){var dr=(er/ce-De/ye)/2;er=dr*ce,De=-dr*ye,lr=-er,vr=-De}Vt?lr=-vr*ce/ye:vr=-lr*ye/ce}Et&&(V(Yt,er),hr("x")),Vt&&(V(ue,De),hr("y")),Ie([lr,vr,ce,ye]),jt(),at.emit("plotly_relayouting",Ct);return}function fr(kr,Er,Vr){for(var qr=1-Er,rn,gn,ln=0;ln<kr.length;ln++){var zn=kr[ln];if(!zn.fixedrange){rn=zn,gn=zn._rl[qr]+(zn._rl[Er]-zn._rl[qr])/W(Vr/zn._length);var Rn=zn.l2r(gn);Rn!==!1&&Rn!==void 0&&(zn.range[Er]=Rn)}}return rn._length*(rn._rl[Er]-gn)/(rn._rl[Er]-rn._rl[qr])}var zr=Et==="w"==(Vt==="n")?1:-1;if(Et&&Vt&&(de.isSubplotConstrained||Te.isSubplotConstrained)){var Or=(er/ce+zr*De/ye)/2;er=Or*ce,De=zr*Or*ye}var Ir,sn;if(Et==="w"?er=fr(Yt,0,er):Et==="e"?er=fr(Yt,1,-er):Et||(er=0),Vt==="n"?De=fr(ue,1,De):Vt==="s"?De=fr(ue,0,-De):Vt||(De=0),Ir=Et==="w"?er:0,sn=Vt==="n"?De:0,de.isSubplotConstrained&&!Te.isSubplotConstrained||Te.isSubplotConstrained&&Et&&Vt&&zr>0){var nn;if(Te.isSubplotConstrained||!Et&&Vt.length===1){for(nn=0;nn<Yt.length;nn++)Yt[nn].range=Yt[nn]._r.slice(),u(Yt[nn],1-De/ye);er=De*ce/ye,Ir=er/2}if(Te.isSubplotConstrained||!Vt&&Et.length===1){for(nn=0;nn<ue.length;nn++)ue[nn].range=ue[nn]._r.slice(),u(ue[nn],1-er/ce);De=er*ye/ce,sn=De/2}}(!Te.isSubplotConstrained||!Vt)&&hr("x"),(!Te.isSubplotConstrained||!Et)&&hr("y");var kn=ce-er,Mn=ye-De;Te.isSubplotConstrained&&!(Et&&Vt)&&(Et?(sn=Ir?0:er*ye/ce,Mn=kn*ye/ce):(Ir=sn?0:De*ce/ye,kn=Mn*ce/ye)),Ie([Ir,sn,kn,Mn]),jt(),at.emit("plotly_relayouting",Ct)}function hr(er,De){for(var lr=Te.isSubplotConstrained?{x:ue,y:Yt}[er]:Te[er+"axes"],vr=Te.isSubplotConstrained?{x:Yt,y:ue}[er]:[],dr=0;dr<lr.length;dr++){var fr=lr[dr],zr=fr._id,Or=Te.xLinks[zr]||Te.yLinks[zr],Ir=vr[0]||Xt[Or]||se[Or];Ir&&(De?(De[fr._name+".range[0]"]=De[Ir._name+".range[0]"],De[fr._name+".range[1]"]=De[Ir._name+".range[1]"]):fr.range=Ir.range.slice())}}function jt(){var er=[],De;function lr(zr){for(De=0;De<zr.length;De++)zr[De].fixedrange||er.push(zr[De]._id)}function vr(zr,Or){for(De=0;De<zr.length;De++){var Ir=zr[De],sn=Ir[Or];!Ir.fixedrange&&sn.tickmode==="sync"&&er.push(sn._id)}}for(Jt&&(lr(Yt),lr(de.xaxes),lr(Te.xaxes),vr(dt.overlays,"xaxis")),Ut&&(lr(ue),lr(de.yaxes),lr(Te.yaxes),vr(dt.overlays,"yaxis")),Ct={},De=0;De<er.length;De++){var dr=er[De],fr=S(at,dr);l.drawOne(at,fr,{skipTitle:!0}),Ct[fr._name+".range[0]"]=fr.range[0],Ct[fr._name+".range[1]"]=fr.range[1]}l.redrawComponents(at,er)}function Gt(){if(!at._transitioningWithDuration){var er=at._context.doubleClick,De=[];Et&&(De=De.concat(Yt)),Vt&&(De=De.concat(ue)),Te.xaxes&&(De=De.concat(Te.xaxes)),Te.yaxes&&(De=De.concat(Te.yaxes));var lr={},vr,dr;if(er==="reset+autosize")for(er="autosize",dr=0;dr<De.length;dr++){vr=De[dr];var fr=vr._rangeInitial0,zr=vr._rangeInitial1,Or=fr!==void 0||zr!==void 0;if(Or&&(fr!==void 0&&fr!==vr.range[0]||zr!==void 0&&zr!==vr.range[1])||!Or&&vr.autorange!==!0){er="reset";break}}if(er==="autosize")for(dr=0;dr<De.length;dr++)vr=De[dr],vr.fixedrange||(lr[vr._name+".autorange"]=!0);else if(er==="reset"){for((Et||de.isSubplotConstrained)&&(De=De.concat(de.xaxes)),Vt&&!de.isSubplotConstrained&&(De=De.concat(de.yaxes)),de.isSubplotConstrained&&(Et?Vt||(De=De.concat(ue)):De=De.concat(Yt)),dr=0;dr<De.length;dr++)if(vr=De[dr],!vr.fixedrange){var Ir=vr._name,sn=vr._autorangeInitial;vr._rangeInitial0===void 0&&vr._rangeInitial1===void 0?lr[Ir+".autorange"]=!0:vr._rangeInitial0===void 0?(lr[Ir+".autorange"]=sn,lr[Ir+".range"]=[null,vr._rangeInitial1]):vr._rangeInitial1===void 0?(lr[Ir+".range"]=[vr._rangeInitial0,null],lr[Ir+".autorange"]=sn):lr[Ir+".range"]=[vr._rangeInitial0,vr._rangeInitial1]}}at.emit("plotly_doubleclick",null),d.call("_guiRelayout",at,lr)}}function Ce(){Ie([0,0,ce,ye]),E.syncOrAsync([w.previousPromises,function(){at._fullLayout._replotting=!1,d.call("_guiRelayout",at,Ct)}],at)}function Ie(er){var De=at._fullLayout,lr=De._plots,vr=De._subplots.cartesian,dr,fr,zr,Or;if(pt&&d.subplotsRegistry.splom.drag(at),It){for(dr=0;dr<vr.length;dr++)if(fr=lr[vr[dr]],zr=fr.xaxis,Or=fr.yaxis,fr._scene){var Ir=E.simpleMap(zr.range,zr.r2l),sn=E.simpleMap(Or.range,Or.r2l);zr.limitRange&&zr.limitRange(),Or.limitRange&&Or.limitRange(),Ir=zr.range,sn=Or.range,fr._scene.update({range:[Ir[0],sn[0],Ir[1],sn[1]]})}}if((pt||It)&&(c(at),p(at)),xt){var nn=er[2]/Ht._length,kn=er[3]/Dt._length;for(dr=0;dr<vr.length;dr++){fr=lr[vr[dr]],zr=fr.xaxis,Or=fr.yaxis;var Mn=(Jt||Te.isSubplotConstrained)&&!zr.fixedrange&&Xt[zr._id],kr=(Ut||Te.isSubplotConstrained)&&!Or.fixedrange&&se[Or._id],Er,Vr,qr,rn;if(Mn?(Er=nn,qr=_t||Te.isSubplotConstrained?er[0]:ir(zr,Er)):Te.xaHash[zr._id]?(Er=nn,qr=er[0]*zr._length/Ht._length):Te.yaHash[zr._id]?(Er=kn,qr=Vt==="ns"?-er[1]*zr._length/Dt._length:ir(zr,Er,{n:"top",s:"bottom"}[Vt])):(Er=We(zr,nn,kn),qr=$e(zr,Er)),Er>1&&(zr.maxallowed!==void 0&&Jt===(zr.range[0]<zr.range[1]?"e":"w")||zr.minallowed!==void 0&&Jt===(zr.range[0]<zr.range[1]?"w":"e"))&&(Er=1,qr=0),kr?(Vr=kn,rn=bt||Te.isSubplotConstrained?er[1]:ir(Or,Vr)):Te.yaHash[Or._id]?(Vr=kn,rn=er[1]*Or._length/Dt._length):Te.xaHash[Or._id]?(Vr=nn,rn=Et==="ew"?-er[0]*Or._length/Ht._length:ir(Or,Vr,{e:"right",w:"left"}[Et])):(Vr=We(Or,nn,kn),rn=$e(Or,Vr)),Vr>1&&(Or.maxallowed!==void 0&&Ut===(Or.range[0]<Or.range[1]?"n":"s")||Or.minallowed!==void 0&&Ut===(Or.range[0]<Or.range[1]?"s":"n"))&&(Vr=1,rn=0),!(!Er&&!Vr)){Er||(Er=1),Vr||(Vr=1);var gn=zr._offset-qr/Er,ln=Or._offset-rn/Vr;fr.clipRect.call(s.setTranslate,qr,rn).call(s.setScale,Er,Vr),fr.plot.call(s.setTranslate,gn,ln).call(s.setScale,1/Er,1/Vr),(Er!==fr.xScaleFactor||Vr!==fr.yScaleFactor)&&(s.setPointGroupScale(fr.zoomScalePts,Er,Vr),s.setTextPointsScale(fr.zoomScaleTxt,Er,Vr)),s.hideOutsideRangePoints(fr.clipOnAxisFalseTraces,fr),fr.xScaleFactor=Er,fr.yScaleFactor=Vr}}}}function We(er,De,lr){return er.fixedrange?0:Jt&&de.xaHash[er._id]?De:Ut&&(de.isSubplotConstrained?de.xaHash:de.yaHash)[er._id]?lr:0}function $e(er,De){return De?(er.range=er._r.slice(),u(er,De),ir(er,De)):0}function ir(er,De,lr){return er._length*(1-De)*a[lr||er.constraintoward||"middle"]}return he}function N(at,dt,gt,wt){var kt=E.ensureSingle(at.draglayer,dt,gt,function(Ot){Ot.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",at.id)});return kt.call(o,wt),kt.node()}function z(at,dt,gt,wt,kt,Ot,bt){var _t=N(at,"rect",dt,gt);return x.select(_t).call(s.setRect,wt,kt,Ot,bt),_t}function F(at,dt){for(var gt=0;gt<at.length;gt++)if(!at[gt].fixedrange)return dt;return""}function I(at,dt){var gt=at.range[dt],wt=Math.abs(gt-at.range[1-dt]),kt;return at.type==="date"?gt:at.type==="log"?(kt=Math.ceil(Math.max(0,-Math.log(wt)/Math.LN10))+3,i("."+kt+"g")(Math.pow(10,gt))):(kt=Math.floor(Math.log(Math.abs(gt))/Math.LN10)-Math.floor(Math.log(wt)/Math.LN10)+4,i("."+String(kt)+"g")(gt))}function j(at,dt,gt,wt,kt){for(var Ot=0;Ot<at.length;Ot++){var bt=at[Ot];if(!bt.fixedrange)if(bt.rangebreaks){var _t=bt._id.charAt(0)==="y",mt=_t?1-dt:dt,Pt=_t?1-gt:gt;wt[bt._name+".range[0]"]=bt.l2r(bt.p2l(mt*bt._length)),wt[bt._name+".range[1]"]=bt.l2r(bt.p2l(Pt*bt._length))}else{var Rt=bt._rl[0],Ht=bt._rl[1]-Rt;wt[bt._name+".range[0]"]=bt.l2r(Rt+Ht*dt),wt[bt._name+".range[1]"]=bt.l2r(Rt+Ht*gt)}}if(kt&&kt.length){var Dt=(dt+(1-gt))/2;j(kt,Dt,1-Dt,wt,[])}}function V(at,dt){for(var gt=0;gt<at.length;gt++){var wt=at[gt];if(!wt.fixedrange){if(wt.rangebreaks){var kt=0,Ot=wt._length,bt=wt.p2l(kt+dt)-wt.p2l(kt),_t=wt.p2l(Ot+dt)-wt.p2l(Ot),mt=(bt+_t)/2;wt.range=[wt.l2r(wt._rl[0]-mt),wt.l2r(wt._rl[1]-mt)]}else wt.range=[wt.l2r(wt._rl[0]-dt/wt._m),wt.l2r(wt._rl[1]-dt/wt._m)];wt.limitRange&&wt.limitRange()}}}function W(at){return 1-(at>=0?Math.min(at,.9):1/(1/Math.max(at,-.3)+3.222))}function K(at,dt,gt){return at?at==="nsew"?gt?"":dt==="pan"?"move":"crosshair":at.toLowerCase()+"-resize":"pointer"}function et(at,dt,gt,wt,kt){return at.append("path").attr("class","zoombox").style({fill:dt>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",v(gt,wt)).attr("d",kt+"Z")}function lt(at,dt,gt){return at.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",v(dt,gt)).attr("d","M0,0Z")}function ot(at,dt,gt,wt,kt,Ot){at.attr("d",wt+"M"+gt.l+","+gt.t+"v"+gt.h+"h"+gt.w+"v-"+gt.h+"h-"+gt.w+"Z"),q(at,dt,kt,Ot)}function q(at,dt,gt,wt){gt||(at.transition().style("fill",wt>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),dt.transition().style("opacity",1).duration(200))}function J(at){x.select(at).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function it(at){R&&at.data&&at._context.showTips&&(E.notifier(E._(at,"Double-click to zoom back out"),"long"),R=!1)}function Z(at,dt){return"M"+(at.l-.5)+","+(dt-A-.5)+"h-3v"+(2*A+1)+"h3ZM"+(at.r+.5)+","+(dt-A-.5)+"h3v"+(2*A+1)+"h-3Z"}function tt(at,dt){return"M"+(dt-A-.5)+","+(at.t-.5)+"v-3h"+(2*A+1)+"v3ZM"+(dt-A-.5)+","+(at.b+.5)+"v3h"+(2*A+1)+"v-3Z"}function st(at){var dt=Math.floor(Math.min(at.b-at.t,at.r-at.l,A)/2);return"M"+(at.l-3.5)+","+(at.t-.5+dt)+"h3v"+-dt+"h"+dt+"v-3h-"+(dt+3)+"ZM"+(at.r+3.5)+","+(at.t-.5+dt)+"h-3v"+-dt+"h"+-dt+"v-3h"+(dt+3)+"ZM"+(at.r+3.5)+","+(at.b+.5-dt)+"h-3v"+dt+"h"+-dt+"v3h"+(dt+3)+"ZM"+(at.l-3.5)+","+(at.b+.5-dt)+"h3v"+dt+"h"+dt+"v3h-"+(dt+3)+"Z"}function Q(at,dt,gt,wt,kt){for(var Ot=!1,bt={},_t={},mt,Pt,Rt,Ht,Dt=(kt||{}).xaHash,Xt=(kt||{}).yaHash,se=0;se<dt.length;se++){var Yt=dt[se];for(mt in gt)if(Yt[mt]){for(Rt in Yt)!(kt&&(Dt[Rt]||Xt[Rt]))&&!(Rt.charAt(0)==="x"?gt:wt)[Rt]&&(bt[Rt]=mt);for(Pt in wt)!(kt&&(Dt[Pt]||Xt[Pt]))&&Yt[Pt]&&(Ot=!0)}for(Pt in wt)if(Yt[Pt])for(Ht in Yt)!(kt&&(Dt[Ht]||Xt[Ht]))&&!(Ht.charAt(0)==="x"?gt:wt)[Ht]&&(_t[Ht]=Pt)}Ot&&(E.extendFlat(bt,_t),_t={});var ue={},ie=[];for(Rt in bt){var fe=S(at,Rt);ie.push(fe),ue[fe._id]=fe}var ce={},ye=[];for(Ht in _t){var de=S(at,Ht);ye.push(de),ce[de._id]=de}return{xaHash:ue,yaHash:ce,xaxes:ie,yaxes:ye,xLinks:bt,yLinks:_t,isSubplotConstrained:Ot}}function G(at,dt){if(!m)at.onwheel!==void 0?at.onwheel=dt:at.onmousewheel!==void 0?at.onmousewheel=dt:at.isAddedWheelEvent||(at.isAddedWheelEvent=!0,at.addEventListener("wheel",dt,{passive:!1}));else{var gt=at.onwheel!==void 0?"wheel":"mousewheel";at._onwheel&&at.removeEventListener(gt,at._onwheel),at._onwheel=dt,at.addEventListener(gt,dt,{passive:!1})}}function ut(at){var dt=[];for(var gt in at)dt.push(at[gt]);return dt}X.exports={makeDragBox:O,makeDragger:N,makeRectDragger:z,makeZoombox:et,makeCorners:lt,updateZoombox:ot,xyCorners:st,transitionZoombox:q,removeZoombox:J,showDoubleClickNotifier:it,attachWheelEventHandler:G}},42464:function(X,B,t){var x=t(33428),E=t(93024),i=t(86476),M=t(93972),m=t(51184).makeDragBox,d=t(33816).DRAGGERSIZE;B.initInteractions=function(v){var r=v._fullLayout;if(v._context.staticPlot){x.select(v).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var e=Object.keys(r._plots||{}).sort(function(n,l){if((r._plots[n].mainplot&&!0)===(r._plots[l].mainplot&&!0)){var o=n.split("y"),h=l.split("y");return o[0]===h[0]?Number(o[1]||1)-Number(h[1]||1):Number(o[0]||1)-Number(h[0]||1)}return r._plots[n].mainplot?1:-1});e.forEach(function(n){var l=r._plots[n],o=l.xaxis,h=l.yaxis;if(!l.mainplot){var b=m(v,l,o._offset,h._offset,o._length,h._length,"ns","ew");b.onmousemove=function(a){v._fullLayout._rehover=function(){v._fullLayout._hoversubplot===n&&v._fullLayout._plots[n]&&E.hover(v,a,n)},E.hover(v,a,n),v._fullLayout._lasthover=b,v._fullLayout._hoversubplot=n},b.onmouseout=function(a){v._dragging||(v._fullLayout._hoversubplot=null,i.unhover(v,a))},v._context.showAxisDragHandles&&(m(v,l,o._offset-d,h._offset-d,d,d,"n","w"),m(v,l,o._offset+o._length,h._offset-d,d,d,"n","e"),m(v,l,o._offset-d,h._offset+h._length,d,d,"s","w"),m(v,l,o._offset+o._length,h._offset+h._length,d,d,"s","e"))}if(v._context.showAxisDragHandles){if(n===o._mainSubplot){var f=o._mainLinePosition;o.side==="top"&&(f-=d),m(v,l,o._offset+o._length*.1,f,o._length*.8,d,"","ew"),m(v,l,o._offset,f,o._length*.1,d,"","w"),m(v,l,o._offset+o._length*.9,f,o._length*.1,d,"","e")}if(n===h._mainSubplot){var k=h._mainLinePosition;h.side!=="right"&&(k-=d),m(v,l,k,h._offset+h._length*.1,d,h._length*.8,"ns",""),m(v,l,k,h._offset+h._length*.9,d,h._length*.1,"s",""),m(v,l,k,h._offset,d,h._length*.1,"n","")}}});var s=r._hoverlayer.node();s.onmousemove=function(n){n.target=v._fullLayout._lasthover,E.hover(v,n,r._hoversubplot)},s.onclick=function(n){n.target=v._fullLayout._lasthover,E.click(v,n)},s.onmousedown=function(n){v._fullLayout._lasthover.onmousedown(n)},B.updateFx(v)}},B.updateFx=function(v){var r=v._fullLayout,e=r.dragmode==="pan"?"move":"crosshair";M(r._draggers,e)}},36632:function(X,B,t){var x=t(24040),E=t(3400),i=t(79811);X.exports=function(M){return function(m,d){var v=m[M];if(Array.isArray(v))for(var r=x.subplotsRegistry.cartesian,e=r.idRegex,s=d._subplots,n=s.xaxis,l=s.yaxis,o=s.cartesian,h=d._has("cartesian")||d._has("gl2d"),b=0;b<v.length;b++){var f=v[b];if(E.isPlainObject(f)){var k=i.cleanId(f.xref,"x",!1),a=i.cleanId(f.yref,"y",!1),c=e.x.test(k),p=e.y.test(a);if(c||p){h||E.pushUnique(d._basePlotModules,r);var w=!1;c&&n.indexOf(k)===-1&&(n.push(k),w=!0),p&&l.indexOf(a)===-1&&(l.push(a),w=!0),w&&c&&p&&o.push(k+a)}}}}}},57952:function(X,B,t){var x=t(33428),E=t(24040),i=t(3400),M=t(7316),m=t(43616),d=t(84888)._M,v=t(79811),r=t(33816),e=t(9616),s=i.ensureSingle;function n(k,a,c){return i.ensureSingle(k,a,c,function(p){p.datum(c)})}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=r.idRegex,B.attrRegex=r.attrRegex,B.attributes=t(26720),B.layoutAttributes=t(94724),B.supplyLayoutDefaults=t(67352),B.transitionAxes=t(73736),B.finalizeSubplots=function(k,a){var c=a._subplots,p=c.xaxis,w=c.yaxis,S=c.cartesian,_=S.concat(c.gl2d||[]),T={},P={},u,g,L;for(u=0;u<_.length;u++){var A=_[u].split("y");T[A[0]]=1,P["y"+A[1]]=1}for(u=0;u<p.length;u++)g=p[u],T[g]||(L=(k[v.id2name(g)]||{}).anchor,r.idRegex.y.test(L)||(L="y"),S.push(g+L),_.push(g+L),P[L]||(P[L]=1,i.pushUnique(w,L)));for(u=0;u<w.length;u++)L=w[u],P[L]||(g=(k[v.id2name(L)]||{}).anchor,r.idRegex.x.test(g)||(g="x"),S.push(g+L),_.push(g+L),T[g]||(T[g]=1,i.pushUnique(p,g)));if(!_.length){g="",L="";for(var R in k)if(r.attrRegex.test(R)){var O=R.charAt(0);O==="x"?(!g||+R.substr(5)<+g.substr(5))&&(g=R):(!L||+R.substr(5)<+L.substr(5))&&(L=R)}g=g?v.name2id(g):"x",L=L?v.name2id(L):"y",p.push(g),w.push(L),S.push(g+L)}},B.plot=function(k,a,c,p){var w=k._fullLayout,S=w._subplots.cartesian,_=k.calcdata,T;if(!Array.isArray(a))for(a=[],T=0;T<_.length;T++)a.push(T);for(T=0;T<S.length;T++){for(var P=S[T],u=w._plots[P],g=[],L,A=0;A<_.length;A++){var R=_[A],O=R[0].trace;O.xaxis+O.yaxis===P&&((a.indexOf(O.index)!==-1||O.carpet)&&(L&&L[0].trace.xaxis+L[0].trace.yaxis===P&&["tonextx","tonexty","tonext"].indexOf(O.fill)!==-1&&g.indexOf(L)===-1&&g.push(L),g.push(R)),L=R)}l(k,u,g,c,p)}};function l(k,a,c,p,w){for(var S=r.traceLayerClasses,_=k._fullLayout,T=_._modules,P,u,g,L=[],A=[],R=0;R<T.length;R++){P=T[R];var O=P.name,N=E.modules[O].categories;if(N.svg){var z=P.layerName||O+"layer",F=P.plot;u=d(c,F),g=u[0],c=u[1],g.length&&L.push({i:S.indexOf(z),className:z,plotMethod:F,cdModule:g}),N.zoomScale&&A.push("."+z)}}L.sort(function(V,W){return V.i-W.i});var I=a.plot.selectAll("g.mlayer").data(L,function(V){return V.className});if(I.enter().append("g").attr("class",function(V){return V.className}).classed("mlayer",!0).classed("rangeplot",a.isRangePlot),I.exit().remove(),I.order(),I.each(function(V){var W=x.select(this),K=V.className;V.plotMethod(k,a,V.cdModule,W,p,w),r.clipOnAxisFalseQuery.indexOf("."+K)===-1&&m.setClipUrl(W,a.layerClipId,k)}),_._has("scattergl")&&(P=E.getModule("scattergl"),g=d(c,P)[0],P.plot(k,a,g)),!k._context.staticPlot&&(a._hasClipOnAxisFalse&&(a.clipOnAxisFalseTraces=a.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),A.length)){var j=a.plot.selectAll(A.join(",")).selectAll(".trace");a.zoomScalePts=j.selectAll("path.point"),a.zoomScaleTxt=j.selectAll(".textpoint")}}B.clean=function(k,a,c,p){var w=p._plots||{},S=a._plots||{},_=p._subplots||{},T,P,u;if(p._hasOnlyLargeSploms&&!a._hasOnlyLargeSploms)for(u in w)T=w[u],T.plotgroup&&T.plotgroup.remove();var g=p._has&&p._has("gl"),L=a._has&&a._has("gl");if(g&&!L)for(u in w)T=w[u],T._scene&&T._scene.destroy();if(_.xaxis&&_.yaxis){var A=v.listIds({_fullLayout:p});for(P=0;P<A.length;P++){var R=A[P];a[v.id2name(R)]||p._infolayer.selectAll(".g-"+R+"title").remove()}}var O=p._has&&p._has("cartesian"),N=a._has&&a._has("cartesian");if(O&&!N)b(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(_.cartesian)for(P=0;P<_.cartesian.length;P++){var z=_.cartesian[P];if(!S[z]){var F="."+z+",."+z+"-x,."+z+"-y";p._cartesianlayer.selectAll(F).remove(),f(z,p)}}},B.drawFramework=function(k){var a=k._fullLayout,c=o(k),p=a._cartesianlayer.selectAll(".subplot").data(c,String);p.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),p.order(),p.exit().call(b,a),p.each(function(w){var S=w[0],_=a._plots[S];_.plotgroup=x.select(this),h(k,_),_.draglayer=s(a._draggers,"g",S)})},B.rangePlot=function(k,a,c){h(k,a),l(k,a,c),M.style(k)};function o(k){var a=k._fullLayout,c=a._subplots.cartesian,p=c.length,w,S,_,T,P,u,g=[],L=[];for(w=0;w<p;w++){_=c[w],T=a._plots[_],P=T.xaxis,u=T.yaxis;var A=P._mainAxis,R=u._mainAxis,O=A._id+R._id,N=a._plots[O];T.overlays=[],O!==_&&N?(T.mainplot=O,T.mainplotinfo=N,L.push(_)):(T.mainplot=void 0,T.mainplotinfo=void 0,g.push(_))}for(w=0;w<L.length;w++)_=L[w],T=a._plots[_],T.mainplotinfo.overlays.push(T);var z=g.concat(L),F=new Array(p);for(w=0;w<p;w++){_=z[w],T=a._plots[_],P=T.xaxis,u=T.yaxis;var I=[_,P.layer,u.layer,P.overlaying||"",u.overlaying||""];for(S=0;S<T.overlays.length;S++)I.push(T.overlays[S].id);F[w]=I}return F}function h(k,a){var c=a.plotgroup,p=a.id,w=r.layerValue2layerClass[a.xaxis.layer],S=r.layerValue2layerClass[a.yaxis.layer],_=k._fullLayout._hasOnlyLargeSploms;if(a.mainplot){var T=a.mainplotinfo,P=T.plotgroup,u=p+"-x",g=p+"-y";a.minorGridlayer=T.minorGridlayer,a.gridlayer=T.gridlayer,a.zerolinelayer=T.zerolinelayer,s(T.overlinesBelow,"path",u),s(T.overlinesBelow,"path",g),s(T.overaxesBelow,"g",u),s(T.overaxesBelow,"g",g),a.plot=s(T.overplot,"g",p),s(T.overlinesAbove,"path",u),s(T.overlinesAbove,"path",g),s(T.overaxesAbove,"g",u),s(T.overaxesAbove,"g",g),a.xlines=P.select(".overlines-"+w).select("."+u),a.ylines=P.select(".overlines-"+S).select("."+g),a.xaxislayer=P.select(".overaxes-"+w).select("."+u),a.yaxislayer=P.select(".overaxes-"+S).select("."+g)}else if(_)a.xlines=s(c,"path","xlines-above"),a.ylines=s(c,"path","ylines-above"),a.xaxislayer=s(c,"g","xaxislayer-above"),a.yaxislayer=s(c,"g","yaxislayer-above");else{var L=s(c,"g","layer-subplot");a.shapelayer=s(L,"g","shapelayer"),a.imagelayer=s(L,"g","imagelayer"),a.minorGridlayer=s(c,"g","minor-gridlayer"),a.gridlayer=s(c,"g","gridlayer"),a.zerolinelayer=s(c,"g","zerolinelayer"),s(c,"path","xlines-below"),s(c,"path","ylines-below"),a.overlinesBelow=s(c,"g","overlines-below"),s(c,"g","xaxislayer-below"),s(c,"g","yaxislayer-below"),a.overaxesBelow=s(c,"g","overaxes-below"),a.plot=s(c,"g","plot"),a.overplot=s(c,"g","overplot"),a.xlines=s(c,"path","xlines-above"),a.ylines=s(c,"path","ylines-above"),a.overlinesAbove=s(c,"g","overlines-above"),s(c,"g","xaxislayer-above"),s(c,"g","yaxislayer-above"),a.overaxesAbove=s(c,"g","overaxes-above"),a.xlines=c.select(".xlines-"+w),a.ylines=c.select(".ylines-"+S),a.xaxislayer=c.select(".xaxislayer-"+w),a.yaxislayer=c.select(".yaxislayer-"+S)}_||(n(a.minorGridlayer,"g",a.xaxis._id),n(a.minorGridlayer,"g",a.yaxis._id),a.minorGridlayer.selectAll("g").map(function(A){return A[0]}).sort(v.idSort),n(a.gridlayer,"g",a.xaxis._id),n(a.gridlayer,"g",a.yaxis._id),a.gridlayer.selectAll("g").map(function(A){return A[0]}).sort(v.idSort)),a.xlines.style("fill","none").classed("crisp",!0),a.ylines.style("fill","none").classed("crisp",!0)}function b(k,a){if(k){var c={};k.each(function(P){var u=P[0],g=x.select(this);g.remove(),f(u,a),c[u]=!0});for(var p in a._plots)for(var w=a._plots[p],S=w.overlays||[],_=0;_<S.length;_++){var T=S[_];c[T.id]&&T.plot.selectAll(".trace").remove()}}}function f(k,a){a._draggers.selectAll("g."+k).remove(),a._defs.select("#clip"+a._uid+k+"plot").remove()}B.toSVG=function(k){var a=k._fullLayout._glimages,c=x.select(k).selectAll(".svg-container"),p=c.filter(function(S,_){return _===c.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var S=this,_=S.toDataURL("image/png"),T=a.append("svg:image");T.attr({xmlns:e.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:S.style.width,height:S.style.height})}p.each(w)},B.updateFx=t(42464).updateFx},94724:function(X,B,t){var x=t(25376),E=t(22548),i=t(98192).u,M=t(92880).extendFlat,m=t(31780).templatedArray,d=t(29736).descriptionWithDates,v=t(39032).ONEDAY,r=t(33816),e=r.HOUR_PATTERN,s=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=M({},n,{values:n.values.slice().concat(["sync"])});function o(P){return{valType:"integer",min:0,dflt:P?5:0,editType:"ticks"}}var h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},f={valType:"data_array",editType:"ticks"},k={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function a(P){var u={valType:"number",min:0,editType:"ticks"};return P||(u.dflt=5),u}function c(P){var u={valType:"number",min:0,editType:"ticks"};return P||(u.dflt=1),u}var p={valType:"color",dflt:E.defaultLine,editType:"ticks"},w={valType:"color",dflt:E.lightLine,editType:"ticks"};function S(P){var u={valType:"number",min:0,editType:"ticks"};return P||(u.dflt=1),u}var _=M({},i,{editType:"ticks"}),T={valType:"boolean",editType:"ticks"};X.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:E.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:x({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:m("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:v},editType:"calc"}),tickmode:l,nticks:o(),tick0:h,dtick:b,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:f,ticktext:{valType:"data_array",editType:"ticks"},ticks:k,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:a(),tickwidth:c(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:M({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:x({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:m("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:T,gridcolor:w,gridwidth:S(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:o("minor"),tick0:h,dtick:b,tickvals:f,ticks:k,ticklen:a("minor"),tickwidth:c("minor"),tickcolor:p,gridcolor:w,gridwidth:S("minor"),griddash:_,showgrid:T,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:x({editType:"ticks"})}}},67352:function(X,B,t){var x=t(3400),E=t(76308),i=t(10624).isUnifiedHover,M=t(41008),m=t(31780),d=t(64859),v=t(94724),r=t(14944),e=t(28336),s=t(71888),n=t(37668),l=t(79811),o=l.id2name,h=l.name2id,b=t(33816).AX_ID_PATTERN,f=t(24040),k=f.traceIs,a=f.getComponentMethod;function c(p,w,S){Array.isArray(p[w])?p[w].push(S):p[w]=[S]}X.exports=function(p,w,S){var _=w.autotypenumbers,T={},P={},u={},g={},L={},A={},R={},O={},N={},z={},F,I;for(F=0;F<S.length;F++){var j=S[F];if(!(!k(j,"cartesian")&&!k(j,"gl2d"))){var V;if(j.xaxis)V=o(j.xaxis),c(T,V,j);else if(j.xaxes)for(I=0;I<j.xaxes.length;I++)c(T,o(j.xaxes[I]),j);var W;if(j.yaxis)W=o(j.yaxis),c(T,W,j);else if(j.yaxes)for(I=0;I<j.yaxes.length;I++)c(T,o(j.yaxes[I]),j);if(j.type==="funnel"?j.orientation==="h"?(V&&(P[V]=!0),W&&(R[W]=!0)):W&&(u[W]=!0):j.type==="image"?(W&&(O[W]=!0),V&&(O[V]=!0)):(W&&(L[W]=!0,A[W]=!0),(!k(j,"carpet")||j.type==="carpet"&&!j._cheater)&&V&&(g[V]=!0)),j.type==="carpet"&&j._cheater&&V&&(P[V]=!0),k(j,"2dMap")&&(N[V]=!0,N[W]=!0),k(j,"oriented")){var K=j.orientation==="h"?W:V;z[K]=!0}}}var et=w._subplots,lt=et.xaxis,ot=et.yaxis,q=x.simpleMap(lt,o),J=x.simpleMap(ot,o),it=q.concat(J),Z=E.background;lt.length&&ot.length&&(Z=x.coerce(p,w,d,"plot_bgcolor"));var tt=E.combine(Z,w.paper_bgcolor),st,Q,G,ut,at;function dt(){var Ct=T[st]||[];at._traceIndices=Ct.map(function(At){return At._expandedIndex}),at._annIndices=[],at._shapeIndices=[],at._selectionIndices=[],at._imgIndices=[],at._subplotsWith=[],at._counterAxes=[],at._name=at._attr=st,at._id=Q}function gt(Ct,At){return x.coerce(ut,at,v,Ct,At)}function wt(Ct,At){return x.coerce2(ut,at,v,Ct,At)}function kt(Ct){return Ct==="x"?ot:lt}function Ot(Ct,At){for(var Ft=Ct==="x"?q:J,Wt=[],Qt=0;Qt<Ft.length;Qt++){var he=Ft[Qt];he!==At&&!(p[he]||{}).overlaying&&Wt.push(h(he))}return Wt}var bt={x:kt("x"),y:kt("y")},_t=bt.x.concat(bt.y),mt={},Pt=[];function Rt(){var Ct=ut.matches;b.test(Ct)&&_t.indexOf(Ct)===-1&&(mt[Ct]=ut.type,Pt=Object.keys(mt))}var Ht=M(p,w),Dt=i(Ht);for(F=0;F<it.length;F++){st=it[F],Q=h(st),G=st.charAt(0),x.isPlainObject(p[st])||(p[st]={}),ut=p[st],at=m.newContainer(w,st,G+"axis"),dt();var Xt=G==="x"&&!g[st]&&P[st]||G==="y"&&!L[st]&&u[st],se=G==="y"&&(!A[st]&&R[st]||O[st]),Yt={hasMinor:!0,letter:G,font:w.font,outerTicks:N[st],showGrid:!z[st],data:T[st]||[],bgColor:tt,calendar:w.calendar,automargin:!0,visibleDflt:Xt,reverseDflt:se,autotypenumbersDflt:_,splomStash:((w._splomAxes||{})[G]||{})[Q],noAutotickangles:G==="y"};gt("uirevision",w.uirevision),r(ut,at,gt,Yt),e(ut,at,gt,Yt,w);var ue=Dt&&G===Ht.charAt(0),ie=wt("spikecolor",Dt?at.color:void 0),fe=wt("spikethickness",Dt?1.5:void 0),ce=wt("spikedash",Dt?"dot":void 0),ye=wt("spikemode",Dt?"across":void 0),de=wt("spikesnap"),Te=gt("showspikes",!!ue||!!ie||!!fe||!!ce||!!ye||!!de);Te||(delete at.spikecolor,delete at.spikethickness,delete at.spikedash,delete at.spikemode,delete at.spikesnap);var Et=o(ut.overlaying),Vt=[0,1];if(w[Et]!==void 0){var te=o(w[Et].anchor);w[te]!==void 0&&(Vt=w[te].domain)}n(ut,at,gt,{letter:G,counterAxes:bt[G],overlayableAxes:Ot(G,st),grid:w.grid,overlayingDomain:Vt}),gt("title.standoff"),Rt(),at._input=ut}for(F=0;F<Pt.length;){Q=Pt[F++],st=o(Q),G=st.charAt(0),x.isPlainObject(p[st])||(p[st]={}),ut=p[st],at=m.newContainer(w,st,G+"axis"),dt();var Jt={letter:G,font:w.font,outerTicks:N[st],showGrid:!z[st],data:[],bgColor:tt,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:_,splomStash:((w._splomAxes||{})[G]||{})[Q]};gt("uirevision",w.uirevision),at.type=mt[Q]||"linear",e(ut,at,gt,Jt,w),n(ut,at,gt,{letter:G,counterAxes:bt[G],overlayableAxes:Ot(G,st),grid:w.grid}),gt("fixedrange"),Rt(),at._input=ut}var Ut=a("rangeslider","handleDefaults"),It=a("rangeselector","handleDefaults");for(F=0;F<q.length;F++)st=q[F],ut=p[st],at=w[st],Ut(p,w,st),at.type==="date"&&It(ut,at,w,J,at.calendar),gt("fixedrange");for(F=0;F<J.length;F++){st=J[F],ut=p[st],at=w[st];var pt=w[o(at.anchor)],xt=a("rangeslider","isVisible")(pt);gt("fixedrange",xt)}s.handleDefaults(p,w,{axIds:_t.concat(Pt).sort(l.idSort),axHasImage:O})}},42136:function(X,B,t){var x=t(49760).mix,E=t(22548),i=t(3400);X.exports=function(M,m,d,v){v=v||{};var r=v.dfltColor;function e(u,g){return i.coerce2(M,m,v.attributes,u,g)}var s=e("linecolor",r),n=e("linewidth"),l=d("showline",v.showLine||!!s||!!n);l||(delete m.linecolor,delete m.linewidth);var o=x(r,v.bgColor,v.blend||E.lightFraction).toRgbString(),h=e("gridcolor",o),b=e("gridwidth"),f=e("griddash"),k=d("showgrid",v.showGrid||!!h||!!b||!!f);if(k||(delete m.gridcolor,delete m.gridwidth,delete m.griddash),v.hasMinor){var a=x(m.gridcolor,v.bgColor,67).toRgbString(),c=e("minor.gridcolor",a),p=e("minor.gridwidth",m.gridwidth||1),w=e("minor.griddash",m.griddash||"solid"),S=d("minor.showgrid",!!c||!!p||!!w);S||(delete m.minor.gridcolor,delete m.minor.gridwidth,delete m.minor.griddash)}if(!v.noZeroLine){var _=e("zerolinecolor",r),T=e("zerolinewidth"),P=d("zeroline",v.showGrid||!!_||!!T);P||(delete m.zerolinecolor,delete m.zerolinewidth)}}},37668:function(X,B,t){var x=t(38248),E=t(3400);X.exports=function(i,M,m,d){var v=d.counterAxes||[],r=d.overlayableAxes||[],e=d.letter,s=d.grid,n=d.overlayingDomain,l,o,h,b,f,k;s&&(o=s._domains[e][s._axisMap[M._id]],l=s._anchors[M._id],o&&(h=s[e+"side"].split(" ")[0],b=s.domain[e][h==="right"||h==="top"?1:0])),o=o||[0,1],l=l||(x(i.position)?"free":v[0]||"free"),h=h||(e==="x"?"bottom":"left"),b=b||0,f=0,k=!1;var a=E.coerce(i,M,{anchor:{valType:"enumerated",values:["free"].concat(v),dflt:l}},"anchor"),c=E.coerce(i,M,{side:{valType:"enumerated",values:e==="x"?["bottom","top"]:["left","right"],dflt:h}},"side");if(a==="free"){if(e==="y"){var p=m("autoshift");p&&(b=c==="left"?n[0]:n[1],k=M.automargin?M.automargin:!0,f=c==="left"?-3:3),m("shift",f)}m("position",b)}m("automargin",k);var w=!1;if(r.length&&(w=E.coerce(i,M,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!w){var S=m("domain",o);S[0]>S[1]-.000244140625&&(M.domain=o),E.noneOrAll(i.domain,M.domain,o),M.tickmode==="sync"&&(M.tickmode="auto")}return m("layer"),M}},42568:function(X,B,t){var x=t(85024);X.exports=function(E,i,M,m,d){d||(d={});var v=d.tickSuffixDflt,r=x(E),e=M("tickprefix");e&&M("showtickprefix",r);var s=M("ticksuffix",v);s&&M("showticksuffix",r)}},96312:function(X,B,t){var x=t(76808);X.exports=function(E,i,M,m){var d=i._template||{},v=i.type||d.type||"-";M("minallowed"),M("maxallowed");var r=M("range");if(!r){var e;!m.noInsiderange&&v!=="log"&&(e=M("insiderange"),e&&(e[0]===null||e[1]===null)&&(i.insiderange=!1,e=void 0),e&&(r=M("range",e)))}var s=i.getAutorangeDflt(r,m),n=M("autorange",s),l;r&&(r[0]===null&&r[1]===null||(r[0]===null||r[1]===null)&&(n==="reversed"||n===!0)||r[0]!==null&&(n==="min"||n==="max reversed")||r[1]!==null&&(n==="max"||n==="min reversed"))&&(r=void 0,delete i.range,i.autorange=!0,l=!0),l||(s=i.getAutorangeDflt(r,m),n=M("autorange",s)),n&&(x(M,n,r),(v==="linear"||v==="-")&&M("rangemode")),i.cleanRange()}},21160:function(X,B,t){var x=t(84284).FROM_BL;X.exports=function(E,i,M){M===void 0&&(M=x[E.constraintoward||"center"]);var m=[E.r2l(E.range[0]),E.r2l(E.range[1])],d=m[0]+(m[1]-m[0])*M;E.range=E._input.range=[E.l2r(d+(m[0]-d)*i),E.l2r(d+(m[1]-d)*i)],E.setScale()}},78344:function(X,B,t){var x=t(33428),E=t(94336).E9,i=t(3400),M=i.numberFormat,m=t(38248),d=i.cleanNumber,v=i.ms2DateTime,r=i.dateTime2ms,e=i.ensureNumber,s=i.isArrayOrTypedArray,n=t(39032),l=n.FP_SAFE,o=n.BADNUM,h=n.LOG_CLIP,b=n.ONEWEEK,f=n.ONEDAY,k=n.ONEHOUR,a=n.ONEMIN,c=n.ONESEC,p=t(79811),w=t(33816),S=w.HOUR_PATTERN,_=w.WEEKDAY_PATTERN;function T(u){return Math.pow(10,u)}function P(u){return u!=null}X.exports=function(u,g){g=g||{};var L=u._id||"x",A=L.charAt(0);function R(it,Z){if(it>0)return Math.log(it)/Math.LN10;if(it<=0&&Z&&u.range&&u.range.length===2){var tt=u.range[0],st=u.range[1];return .5*(tt+st-2*h*Math.abs(tt-st))}else return o}function O(it,Z,tt,st){if((st||{}).msUTC&&m(it))return+it;var Q=r(it,tt||u.calendar);if(Q===o)if(m(it)){it=+it;var G=Math.floor(i.mod(it+.05,1)*10),ut=Math.round(it-G/10);Q=r(new Date(ut))+G/10}else return o;return Q}function N(it,Z,tt){return v(it,Z,tt||u.calendar)}function z(it){return u._categories[Math.round(it)]}function F(it){if(P(it)){if(u._categoriesMap===void 0&&(u._categoriesMap={}),u._categoriesMap[it]!==void 0)return u._categoriesMap[it];u._categories.push(typeof it=="number"?String(it):it);var Z=u._categories.length-1;return u._categoriesMap[it]=Z,Z}return o}function I(it,Z){for(var tt=new Array(Z),st=0;st<Z;st++){var Q=(it[0]||[])[st],G=(it[1]||[])[st];tt[st]=j([Q,G])}return tt}function j(it){if(u._categoriesMap)return u._categoriesMap[it]}function V(it){var Z=j(it);if(Z!==void 0)return Z;if(m(it))return+it}function W(it){return m(it)?+it:j(it)}function K(it,Z,tt){return x.round(tt+Z*it,2)}function et(it,Z,tt){return(it-tt)/Z}var lt=function(it){return m(it)?K(it,u._m,u._b):o},ot=function(it){return et(it,u._m,u._b)};if(u.rangebreaks){var q=A==="y";lt=function(it){if(!m(it))return o;var Z=u._rangebreaks.length;if(!Z)return K(it,u._m,u._b);var tt=q;u.range[0]>u.range[1]&&(tt=!tt);for(var st=tt?-1:1,Q=st*it,G=0,ut=0;ut<Z;ut++){var at=st*u._rangebreaks[ut].min,dt=st*u._rangebreaks[ut].max;if(Q<at)break;if(Q>dt)G=ut+1;else{G=Q<(at+dt)/2?ut:ut+1;break}}var gt=u._B[G]||0;return isFinite(gt)?K(it,u._m2,gt):0},ot=function(it){var Z=u._rangebreaks.length;if(!Z)return et(it,u._m,u._b);for(var tt=0,st=0;st<Z&&!(it<u._rangebreaks[st].pmin);st++)it>u._rangebreaks[st].pmax&&(tt=st+1);return et(it,u._m2,u._B[tt])}}u.c2l=u.type==="log"?R:e,u.l2c=u.type==="log"?T:e,u.l2p=lt,u.p2l=ot,u.c2p=u.type==="log"?function(it,Z){return lt(R(it,Z))}:lt,u.p2c=u.type==="log"?function(it){return T(ot(it))}:ot,["linear","-"].indexOf(u.type)!==-1?(u.d2r=u.r2d=u.d2c=u.r2c=u.d2l=u.r2l=d,u.c2d=u.c2r=u.l2d=u.l2r=e,u.d2p=u.r2p=function(it){return u.l2p(d(it))},u.p2d=u.p2r=ot,u.cleanPos=e):u.type==="log"?(u.d2r=u.d2l=function(it,Z){return R(d(it),Z)},u.r2d=u.r2c=function(it){return T(d(it))},u.d2c=u.r2l=d,u.c2d=u.l2r=e,u.c2r=R,u.l2d=T,u.d2p=function(it,Z){return u.l2p(u.d2r(it,Z))},u.p2d=function(it){return T(ot(it))},u.r2p=function(it){return u.l2p(d(it))},u.p2r=ot,u.cleanPos=e):u.type==="date"?(u.d2r=u.r2d=i.identity,u.d2c=u.r2c=u.d2l=u.r2l=O,u.c2d=u.c2r=u.l2d=u.l2r=N,u.d2p=u.r2p=function(it,Z,tt){return u.l2p(O(it,0,tt))},u.p2d=u.p2r=function(it,Z,tt){return N(ot(it),Z,tt)},u.cleanPos=function(it){return i.cleanDate(it,o,u.calendar)}):u.type==="category"?(u.d2c=u.d2l=F,u.r2d=u.c2d=u.l2d=z,u.d2r=u.d2l_noadd=V,u.r2c=function(it){var Z=W(it);return Z!==void 0?Z:u.fraction2r(.5)},u.l2r=u.c2r=e,u.r2l=W,u.d2p=function(it){return u.l2p(u.r2c(it))},u.p2d=function(it){return z(ot(it))},u.r2p=u.d2p,u.p2r=ot,u.cleanPos=function(it){return typeof it=="string"&&it!==""?it:e(it)}):u.type==="multicategory"&&(u.r2d=u.c2d=u.l2d=z,u.d2r=u.d2l_noadd=V,u.r2c=function(it){var Z=V(it);return Z!==void 0?Z:u.fraction2r(.5)},u.r2c_just_indices=j,u.l2r=u.c2r=e,u.r2l=V,u.d2p=function(it){return u.l2p(u.r2c(it))},u.p2d=function(it){return z(ot(it))},u.r2p=u.d2p,u.p2r=ot,u.cleanPos=function(it){return Array.isArray(it)||typeof it=="string"&&it!==""?it:e(it)},u.setupMultiCategory=function(it){var Z=u._traceIndices,tt,st,Q=u._matchGroup;if(Q&&u._categories.length===0){for(var G in Q)if(G!==L){var ut=g[p.id2name(G)];Z=Z.concat(ut._traceIndices)}}var at=[[0,{}],[0,{}]],dt=[];for(tt=0;tt<Z.length;tt++){var gt=it[Z[tt]];if(A in gt){var wt=gt[A],kt=gt._length||i.minRowLength(wt);if(s(wt[0])&&s(wt[1]))for(st=0;st<kt;st++){var Ot=wt[0][st],bt=wt[1][st];P(Ot)&&P(bt)&&(dt.push([Ot,bt]),Ot in at[0][1]||(at[0][1][Ot]=at[0][0]++),bt in at[1][1]||(at[1][1][bt]=at[1][0]++))}}}for(dt.sort(function(_t,mt){var Pt=at[0][1],Rt=Pt[_t[0]]-Pt[mt[0]];if(Rt)return Rt;var Ht=at[1][1];return Ht[_t[1]]-Ht[mt[1]]}),tt=0;tt<dt.length;tt++)F(dt[tt])}),u.fraction2r=function(it){var Z=u.r2l(u.range[0]),tt=u.r2l(u.range[1]);return u.l2r(Z+it*(tt-Z))},u.r2fraction=function(it){var Z=u.r2l(u.range[0]),tt=u.r2l(u.range[1]);return(u.r2l(it)-Z)/(tt-Z)},u.limitRange=function(it){var Z=u.minallowed,tt=u.maxallowed;if(!(Z===void 0&&tt===void 0)){it||(it="range");var st=i.nestedProperty(u,it).get(),Q=i.simpleMap(st,u.r2l),G=Q[1]<Q[0];G&&Q.reverse();var ut=i.simpleMap([Z,tt],u.r2l);if(Z!==void 0&&Q[0]<ut[0]&&(st[G?1:0]=Z),tt!==void 0&&Q[1]>ut[1]&&(st[G?0:1]=tt),st[0]===st[1]){var at=u.l2r(Z),dt=u.l2r(tt);if(Z!==void 0){var gt=at+1;tt!==void 0&&(gt=Math.min(gt,dt)),st[G?1:0]=gt}if(tt!==void 0){var wt=dt+1;Z!==void 0&&(wt=Math.max(wt,at)),st[G?0:1]=wt}}}},u.cleanRange=function(it,Z){u._cleanRange(it,Z),u.limitRange(it)},u._cleanRange=function(it,Z){Z||(Z={}),it||(it="range");var tt=i.nestedProperty(u,it).get(),st,Q;if(u.type==="date"?Q=i.dfltRange(u.calendar):A==="y"?Q=w.DFLTRANGEY:u._name==="realaxis"?Q=[0,1]:Q=Z.dfltRange||w.DFLTRANGEX,Q=Q.slice(),(u.rangemode==="tozero"||u.rangemode==="nonnegative")&&(Q[0]=0),!tt||tt.length!==2){i.nestedProperty(u,it).set(Q);return}var G=tt[0]===null,ut=tt[1]===null;for(u.type==="date"&&!u.autorange&&(tt[0]=i.cleanDate(tt[0],o,u.calendar),tt[1]=i.cleanDate(tt[1],o,u.calendar)),st=0;st<2;st++)if(u.type==="date"){if(!i.isDateTime(tt[st],u.calendar)){u[it]=Q;break}if(u.r2l(tt[0])===u.r2l(tt[1])){var at=i.constrain(u.r2l(tt[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);tt[0]=u.l2r(at-1e3),tt[1]=u.l2r(at+1e3);break}}else{if(!m(tt[st]))if(!(G||ut)&&m(tt[1-st]))tt[st]=tt[1-st]*(st?10:.1);else{u[it]=Q;break}if(tt[st]<-l?tt[st]=-l:tt[st]>l&&(tt[st]=l),tt[0]===tt[1]){var dt=Math.max(1,Math.abs(tt[0]*1e-6));tt[0]-=dt,tt[1]+=dt}}},u.setScale=function(it){var Z=g._size;if(u.overlaying){var tt=p.getFromId({_fullLayout:g},u.overlaying);u.domain=tt.domain}var st=it&&u._r?"_r":"range",Q=u.calendar;u.cleanRange(st);var G=u.r2l(u[st][0],Q),ut=u.r2l(u[st][1],Q),at=A==="y";if(at?(u._offset=Z.t+(1-u.domain[1])*Z.h,u._length=Z.h*(u.domain[1]-u.domain[0]),u._m=u._length/(G-ut),u._b=-u._m*ut):(u._offset=Z.l+u.domain[0]*Z.w,u._length=Z.w*(u.domain[1]-u.domain[0]),u._m=u._length/(ut-G),u._b=-u._m*G),u._rangebreaks=[],u._lBreaks=0,u._m2=0,u._B=[],u.rangebreaks){var dt,gt;if(u._rangebreaks=u.locateBreaks(Math.min(G,ut),Math.max(G,ut)),u._rangebreaks.length){for(dt=0;dt<u._rangebreaks.length;dt++)gt=u._rangebreaks[dt],u._lBreaks+=Math.abs(gt.max-gt.min);var wt=at;G>ut&&(wt=!wt),wt&&u._rangebreaks.reverse();var kt=wt?-1:1;for(u._m2=kt*u._length/(Math.abs(ut-G)-u._lBreaks),u._B.push(-u._m2*(at?ut:G)),dt=0;dt<u._rangebreaks.length;dt++)gt=u._rangebreaks[dt],u._B.push(u._B[u._B.length-1]-kt*u._m2*(gt.max-gt.min));for(dt=0;dt<u._rangebreaks.length;dt++)gt=u._rangebreaks[dt],gt.pmin=lt(gt.min),gt.pmax=lt(gt.max)}}if(!isFinite(u._m)||!isFinite(u._b)||u._length<0)throw g._replotting=!1,new Error("Something went wrong with axis scaling")},u.maskBreaks=function(it){var Z=u.rangebreaks||[],tt,st,Q,G,ut;Z._cachedPatterns||(Z._cachedPatterns=Z.map(function(Pt){return Pt.enabled&&Pt.bounds?i.simpleMap(Pt.bounds,Pt.pattern?d:u.d2c):null})),Z._cachedValues||(Z._cachedValues=Z.map(function(Pt){return Pt.enabled&&Pt.values?i.simpleMap(Pt.values,u.d2c).sort(i.sorterAsc):null}));for(var at=0;at<Z.length;at++){var dt=Z[at];if(dt.enabled){if(dt.bounds){var gt=dt.pattern;switch(tt=Z._cachedPatterns[at],st=tt[0],Q=tt[1],gt){case _:ut=new Date(it),G=ut.getUTCDay(),st>Q&&(Q+=7,G<st&&(G+=7));break;case S:ut=new Date(it);var wt=ut.getUTCHours(),kt=ut.getUTCMinutes(),Ot=ut.getUTCSeconds(),bt=ut.getUTCMilliseconds();G=wt+(kt/60+Ot/3600+bt/36e5),st>Q&&(Q+=24,G<st&&(G+=24));break;case"":G=it;break}if(G>=st&&G<Q)return o}else for(var _t=Z._cachedValues[at],mt=0;mt<_t.length;mt++)if(st=_t[mt],Q=st+dt.dvalue,it>=st&&it<Q)return o}}return it},u.locateBreaks=function(it,Z){var tt,st,Q,G,ut=[];if(!u.rangebreaks)return ut;var at=u.rangebreaks.slice().sort(function(Ht,Dt){return Ht.pattern===_&&Dt.pattern===S?-1:Dt.pattern===_&&Ht.pattern===S?1:0}),dt=function(Ht,Dt){if(Ht=i.constrain(Ht,it,Z),Dt=i.constrain(Dt,it,Z),Ht!==Dt){for(var Xt=!0,se=0;se<ut.length;se++){var Yt=ut[se];Ht<Yt.max&&Dt>=Yt.min&&(Ht<Yt.min&&(Yt.min=Ht),Dt>Yt.max&&(Yt.max=Dt),Xt=!1)}Xt&&ut.push({min:Ht,max:Dt})}};for(tt=0;tt<at.length;tt++){var gt=at[tt];if(gt.enabled)if(gt.bounds){var wt=it,kt=Z;gt.pattern&&(wt=Math.floor(wt)),st=i.simpleMap(gt.bounds,gt.pattern?d:u.r2l),Q=st[0],G=st[1];var Ot=new Date(wt),bt,_t;switch(gt.pattern){case _:_t=b,bt=((G<Q?7:0)+(G-Q))*f,wt+=Q*f-(Ot.getUTCDay()*f+Ot.getUTCHours()*k+Ot.getUTCMinutes()*a+Ot.getUTCSeconds()*c+Ot.getUTCMilliseconds());break;case S:_t=f,bt=((G<Q?24:0)+(G-Q))*k,wt+=Q*k-(Ot.getUTCHours()*k+Ot.getUTCMinutes()*a+Ot.getUTCSeconds()*c+Ot.getUTCMilliseconds());break;default:wt=Math.min(st[0],st[1]),kt=Math.max(st[0],st[1]),_t=kt-wt,bt=_t}for(var mt=wt;mt<kt;mt+=_t)dt(mt,mt+bt)}else for(var Pt=i.simpleMap(gt.values,u.d2c),Rt=0;Rt<Pt.length;Rt++)Q=Pt[Rt],G=Q+gt.dvalue,dt(Q,G)}return ut.sort(function(Ht,Dt){return Ht.min-Dt.min}),ut},u.makeCalcdata=function(it,Z,tt){var st,Q,G,ut,at=u.type,dt=at==="date"&&it[Z+"calendar"];if(Z in it){if(st=it[Z],ut=it._length||i.minRowLength(st),i.isTypedArray(st)&&(at==="linear"||at==="log")){if(ut===st.length)return st;if(st.subarray)return st.subarray(0,ut)}if(at==="multicategory")return I(st,ut);for(Q=new Array(ut),G=0;G<ut;G++)Q[G]=u.d2c(st[G],0,dt,tt)}else{var gt=Z+"0"in it?u.d2c(it[Z+"0"],0,dt):0,wt=it["d"+Z]?Number(it["d"+Z]):1;for(st=it[{x:"y",y:"x"}[Z]],ut=it._length||st.length,Q=new Array(ut),G=0;G<ut;G++)Q[G]=gt+G*wt}if(u.rangebreaks)for(G=0;G<ut;G++)Q[G]=u.maskBreaks(Q[G]);return Q},u.isValidRange=function(it,Z){return Array.isArray(it)&&it.length===2&&(Z&&it[0]===null||m(u.r2l(it[0])))&&(Z&&it[1]===null||m(u.r2l(it[1])))},u.getAutorangeDflt=function(it,Z){var tt=!u.isValidRange(it,"nullOk");return tt&&Z&&Z.reverseDflt?tt="reversed":it&&(it[0]===null&&it[1]===null?tt=!0:it[0]===null&&it[1]!==null?tt="min":it[0]!==null&&it[1]===null&&(tt="max")),tt},u.isReversed=function(){var it=u.autorange;return it==="reversed"||it==="min reversed"||it==="max reversed"},u.isPtWithinRange=function(it,Z){var tt=u.c2l(it[A],null,Z),st=u.r2l(u.range[0]),Q=u.r2l(u.range[1]);return st<Q?st<=tt&&tt<=Q:Q<=tt&&tt<=st},u._emptyCategories=function(){u._categories=[],u._categoriesMap={}},u.clearCalc=function(){var it=u._matchGroup;if(it){var Z=null,tt=null;for(var st in it){var Q=g[p.id2name(st)];if(Q._categories){Z=Q._categories,tt=Q._categoriesMap;break}}Z&&tt?(u._categories=Z,u._categoriesMap=tt):u._emptyCategories()}else u._emptyCategories();if(u._initialCategories)for(var G=0;G<u._initialCategories.length;G++)F(u._initialCategories[G])},u.sortByInitialCategories=function(){var it=[];if(u._emptyCategories(),u._initialCategories)for(var Z=0;Z<u._initialCategories.length;Z++)F(u._initialCategories[Z]);it=it.concat(u._traceIndices);var tt=u._matchGroup;for(var st in tt)if(L!==st){var Q=g[p.id2name(st)];Q._categories=u._categories,Q._categoriesMap=u._categoriesMap,it=it.concat(Q._traceIndices)}return it};var J=g._d3locale;u.type==="date"&&(u._dateFormat=J?J.timeFormat:E,u._extraFormat=g._extraFormat),u._separators=g.separators,u._numFormat=J?J.numberFormat:M,delete u._minDtick,delete u._forceTick0}},85024:function(X){X.exports=function(B){var t=["showexponent","showtickprefix","showticksuffix"],x=t.filter(function(i){return B[i]!==void 0}),E=function(i){return B[i]===B[x[0]]};if(x.every(E)||x.length===1)return B[x[0]]}},95936:function(X,B,t){var x=t(3400),E=t(76308).contrast,i=t(94724),M=t(85024),m=t(51272);X.exports=function(v,r,e,s,n){n||(n={});var l=e("labelalias");x.isPlainObject(l)||delete r.labelalias;var o=M(v),h=e("showticklabels");if(h){var b=n.font||{},f=r.color,k=r.ticklabelposition||"",a=k.indexOf("inside")!==-1?E(n.bgColor):f&&f!==i.color.dflt?f:b.color;if(x.coerceFont(e,"tickfont",{family:b.family,size:b.size,color:a}),!n.noTicklabelstep&&s!=="multicategory"&&s!=="log"&&e("ticklabelstep"),!n.noAng){var c=e("tickangle");!n.noAutotickangles&&c==="auto"&&e("autotickangles")}if(s!=="category"){var p=e("tickformat");m(v,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),r.tickformatstops.length||delete r.tickformatstops,!n.noExp&&!p&&s!=="date"&&(e("showexponent",o),e("exponentformat"),e("minexponent"),e("separatethousands"))}}};function d(v,r){function e(n,l){return x.coerce(v,r,i.tickformatstops,n,l)}var s=e("enabled");s&&(e("dtickrange"),e("value"))}},25404:function(X,B,t){var x=t(3400),E=t(94724);X.exports=function(i,M,m,d){var v=d.isMinor,r=v?i.minor||{}:i,e=v?M.minor:M,s=v?E.minor:E,n=v?"minor.":"",l=x.coerce2(r,e,s,"ticklen",v?(M.ticklen||5)*.6:void 0),o=x.coerce2(r,e,s,"tickwidth",v?M.tickwidth||1:void 0),h=x.coerce2(r,e,s,"tickcolor",(v?M.tickcolor:void 0)||e.color),b=m(n+"ticks",!v&&d.outerTicks||l||o||h?"outside":"");b||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},26332:function(X,B,t){var x=t(98728),E=t(3400).isArrayOrTypedArray,i=t(38116).isTypedArraySpec,M=t(38116).decodeTypedArraySpec;X.exports=function(m,d,v,r,e){e||(e={});var s=e.isMinor,n=s?m.minor||{}:m,l=s?d.minor:d,o=s?"minor.":"";function h(S){var _=n[S];return i(_)&&(_=M(_)),_!==void 0?_:(l._template||{})[S]}var b=h("tick0"),f=h("dtick"),k=h("tickvals"),a=E(k)?"array":f?"linear":"auto",c=v(o+"tickmode",a);if(c==="auto"||c==="sync")v(o+"nticks");else if(c==="linear"){var p=l.dtick=x.dtick(f,r);l.tick0=x.tick0(b,r,d.calendar,p)}else if(r!=="multicategory"){var w=v(o+"tickvals");w===void 0?l.tickmode="auto":s||v("ticktext")}}},73736:function(X,B,t){var x=t(33428),E=t(24040),i=t(3400),M=t(43616),m=t(54460);X.exports=function(d,v,r,e){var s=d._fullLayout;if(v.length===0){m.redrawComponents(d);return}function n(w){var S=w.xaxis,_=w.yaxis;s._defs.select("#"+w.clipId+"> rect").call(M.setTranslate,0,0).call(M.setScale,1,1),w.plot.call(M.setTranslate,S._offset,_._offset).call(M.setScale,1,1);var T=w.plot.selectAll(".scatterlayer .trace");T.selectAll(".point").call(M.setPointGroupScale,1,1),T.selectAll(".textpoint").call(M.setTextPointsScale,1,1),T.call(M.hideOutsideRangePoints,w)}function l(w,S){var _=w.plotinfo,T=_.xaxis,P=_.yaxis,u=T._length,g=P._length,L=!!w.xr1,A=!!w.yr1,R=[];if(L){var O=i.simpleMap(w.xr0,T.r2l),N=i.simpleMap(w.xr1,T.r2l),z=O[1]-O[0],F=N[1]-N[0];R[0]=(O[0]*(1-S)+S*N[0]-O[0])/(O[1]-O[0])*u,R[2]=u*(1-S+S*F/z),T.range[0]=T.l2r(O[0]*(1-S)+S*N[0]),T.range[1]=T.l2r(O[1]*(1-S)+S*N[1])}else R[0]=0,R[2]=u;if(A){var I=i.simpleMap(w.yr0,P.r2l),j=i.simpleMap(w.yr1,P.r2l),V=I[1]-I[0],W=j[1]-j[0];R[1]=(I[1]*(1-S)+S*j[1]-I[1])/(I[0]-I[1])*g,R[3]=g*(1-S+S*W/V),P.range[0]=T.l2r(I[0]*(1-S)+S*j[0]),P.range[1]=P.l2r(I[1]*(1-S)+S*j[1])}else R[1]=0,R[3]=g;m.drawOne(d,T,{skipTitle:!0}),m.drawOne(d,P,{skipTitle:!0}),m.redrawComponents(d,[T._id,P._id]);var K=L?u/R[2]:1,et=A?g/R[3]:1,lt=L?R[0]:0,ot=A?R[1]:0,q=L?R[0]/R[2]*u:0,J=A?R[1]/R[3]*g:0,it=T._offset-q,Z=P._offset-J;_.clipRect.call(M.setTranslate,lt,ot).call(M.setScale,1/K,1/et),_.plot.call(M.setTranslate,it,Z).call(M.setScale,K,et),M.setPointGroupScale(_.zoomScalePts,1/K,1/et),M.setTextPointsScale(_.zoomScaleTxt,1/K,1/et)}var o;e&&(o=e());function h(){for(var w={},S=0;S<v.length;S++){var _=v[S],T=_.plotinfo.xaxis,P=_.plotinfo.yaxis;_.xr1&&(w[T._name+".range"]=_.xr1.slice()),_.yr1&&(w[P._name+".range"]=_.yr1.slice())}return o&&o(),E.call("relayout",d,w).then(function(){for(var u=0;u<v.length;u++)n(v[u].plotinfo)})}function b(){for(var w={},S=0;S<v.length;S++){var _=v[S],T=_.plotinfo.xaxis,P=_.plotinfo.yaxis;_.xr0&&(w[T._name+".range"]=_.xr0.slice()),_.yr0&&(w[P._name+".range"]=_.yr0.slice())}return E.call("relayout",d,w).then(function(){for(var u=0;u<v.length;u++)n(v[u].plotinfo)})}var f,k,a,c=x.ease(r.easing);d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(a),a=null,b()});function p(){k=Date.now();for(var w=Math.min(1,(k-f)/r.duration),S=c(w),_=0;_<v.length;_++)l(v[_],S);k-f>r.duration?(h(),a=window.cancelAnimationFrame(p)):a=window.requestAnimationFrame(p)}return f=Date.now(),a=window.requestAnimationFrame(p),Promise.resolve()}},14944:function(X,B,t){var x=t(24040).traceIs,E=t(52976);X.exports=function(v,r,e,s){e("autotypenumbers",s.autotypenumbersDflt);var n=e("type",(s.splomStash||{}).type);n==="-"&&(i(r,s.data),r.type==="-"?r.type="linear":v.type=r.type)};function i(v,r){if(v.type==="-"){var e=v._id,s=e.charAt(0),n;e.indexOf("scene")!==-1&&(e=s);var l=M(r,e,s);if(l){if(l.type==="histogram"&&s==={v:"y",h:"x"}[l.orientation||"v"]){v.type="linear";return}var o=s+"calendar",h=l[o],b={noMultiCategory:!x(l,"cartesian")||x(l,"noMultiCategory")};if(l.type==="box"&&l._hasPreCompStats&&s==={h:"x",v:"y"}[l.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=v.autotypenumbers,d(l,s)){var f=m(l),k=[];for(n=0;n<r.length;n++){var a=r[n];!x(a,"box-violin")||(a[s+"axis"]||s)!==e||(a[f]!==void 0?k.push(a[f][0]):a.name!==void 0?k.push(a.name):k.push("text"),a[o]!==h&&(h=void 0))}v.type=E(k,h,b)}else if(l.type==="splom"){var c=l.dimensions,p=c[l._axesDim[e]];p.visible&&(v.type=E(p.values,h,b))}else v.type=E(l[s]||[l[s+"0"]],h,b)}}}function M(v,r,e){for(var s=0;s<v.length;s++){var n=v[s];if(n.type==="splom"&&n._length>0&&(n["_"+e+"axes"]||{})[r]||(n[e+"axis"]||e)===r&&(d(n,e)||(n[e]||[]).length||n[e+"0"]))return n}}function m(v){return{v:"x",h:"y"}[v.orientation||"v"]}function d(v,r){var e=m(v),s=x(v,"box-violin"),n=x(v._fullInput||{},"candlestick");return s&&!n&&r===e&&v[e]===void 0&&v[e+"0"]===void 0}},62460:function(X,B,t){var x=t(24040),E=t(3400);B.manageCommandObserver=function(r,e,s,n){var l={},o=!0;e&&e._commandObserver&&(l=e._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var h=B.hasSimpleAPICommandBindings(r,s,l.lookupTable);if(e&&e._commandObserver){if(h)return l;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,l}if(h){i(r,h,l.cache),l.check=function(){if(o){var k=i(r,h,l.cache);return k.changed&&n&&l.lookupTable[k.value]!==void 0&&(l.disable(),Promise.resolve(n({value:k.value,type:h.type,prop:h.prop,traces:h.traces,index:l.lookupTable[k.value]})).then(l.enable,l.enable)),k.changed}};for(var b=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<b.length;f++)r._internalOn(b[f],l.check);l.remove=function(){for(var k=0;k<b.length;k++)r._removeInternalListener(b[k],l.check)}}else E.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){o=!1},l.enable=function(){o=!0},e&&(e._commandObserver=l),l},B.hasSimpleAPICommandBindings=function(r,e,s){var n,l=e.length,o;for(n=0;n<l;n++){var h,b=e[n],f=b.method,k=b.args;if(Array.isArray(k)||(k=[]),!f)return!1;var a=B.computeAPICommandBindings(r,f,k);if(a.length!==1)return!1;if(!o)o=a[0],Array.isArray(o.traces)&&o.traces.sort();else{if(h=a[0],h.type!==o.type||h.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(h.traces)){h.traces.sort();for(var c=0;c<o.traces.length;c++)if(o.traces[c]!==h.traces[c])return!1}else return!1;else if(h.prop!==o.prop)return!1}h=a[0];var p=h.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;s&&(s[p]=n)}return o};function i(r,e,s){var n,l,o,h=!1;if(e.type==="data")n=r._fullData[e.traces!==null?e.traces[0]:0];else if(e.type==="layout")n=r._fullLayout;else return!1;return l=E.nestedProperty(n,e.prop).get(),o=s[e.type]=s[e.type]||{},o.hasOwnProperty(e.prop)&&o[e.prop]!==l&&(h=!0),o[e.prop]=l,{changed:h,value:l}}B.executeAPICommand=function(r,e,s){if(e==="skip")return Promise.resolve();var n=x.apiMethodRegistry[e],l=[r];Array.isArray(s)||(s=[]);for(var o=0;o<s.length;o++)l.push(s[o]);return n.apply(null,l).catch(function(h){return E.warn("API call to Plotly."+e+" rejected.",h),Promise.reject(h)})},B.computeAPICommandBindings=function(r,e,s){var n;switch(Array.isArray(s)||(s=[]),e){case"restyle":n=d(r,s);break;case"relayout":n=m(r,s);break;case"update":n=d(r,[s[0],s[2]]).concat(m(r,[s[1]]));break;case"animate":n=M(r,s);break;default:n=[]}return n};function M(r,e){return Array.isArray(e[0])&&e[0].length===1&&["string","number"].indexOf(typeof e[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}function m(r,e){var s=[],n=e[0],l={};if(typeof n=="string")l[n]=e[1];else if(E.isPlainObject(n))l=n;else return s;return v(l,function(o,h,b){s.push({type:"layout",prop:o,value:b})},"",0),s}function d(r,e){var s,n,l,o,h=[];if(n=e[0],l=e[1],s=e[2],o={},typeof n=="string")o[n]=l;else if(E.isPlainObject(n))o=n,s===void 0&&(s=l);else return h;return s===void 0&&(s=null),v(o,function(b,f,k){var a,c;if(Array.isArray(k)){c=k.slice();var p=Math.min(c.length,r.data.length);s&&(p=Math.min(p,s.length)),a=[];for(var w=0;w<p;w++)a[w]=s?s[w]:w}else c=k,a=s?s.slice():null;if(a===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(a)){if(!Array.isArray(c)){var S=c;c=[];for(var _=0;_<a.length;_++)c[_]=S}c.length=Math.min(a.length,c.length)}h.push({type:"data",prop:b,traces:a,value:c})},"",0),h}function v(r,e,s,n){Object.keys(r).forEach(function(l){var o=r[l];if(l[0]!=="_"){var h=s+(n>0?".":"")+l;E.isPlainObject(o)?v(o,e,h,n+1):e(h,l,o)}})}},86968:function(X,B,t){var x=t(92880).extendFlat;B.u=function(E,i){E=E||{},i=i||{};var M={valType:"info_array",editType:E.editType,items:[{valType:"number",min:0,max:1,editType:E.editType},{valType:"number",min:0,max:1,editType:E.editType}],dflt:[0,1]};E.name&&E.name+"",E.trace,i.description&&""+i.description;var m={x:x({},M,{}),y:x({},M,{}),editType:E.editType};return E.noGridCell||(m.row={valType:"integer",min:0,dflt:0,editType:E.editType},m.column={valType:"integer",min:0,dflt:0,editType:E.editType}),m},B.Q=function(E,i,M,m){var d=m&&m.x||[0,1],v=m&&m.y||[0,1],r=i.grid;if(r){var e=M("domain.column");e!==void 0&&(e<r.columns?d=r._domains.x[e]:delete E.domain.column);var s=M("domain.row");s!==void 0&&(s<r.rows?v=r._domains.y[s]:delete E.domain.row)}var n=M("domain.x",d),l=M("domain.y",v);n[0]<n[1]||(E.domain.x=d.slice()),l[0]<l[1]||(E.domain.y=v.slice())}},25376:function(X){X.exports=function(B){var t=B.editType,x=B.colorEditType;x===void 0&&(x=t);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:x},editType:t};return B.autoSize&&(E.size.dflt="auto"),B.autoColor&&(E.color.dflt="auto"),B.arrayOk&&(E.family.arrayOk=!0,E.size.arrayOk=!0,E.color.arrayOk=!0),E}},16672:function(X){X.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(X,B){B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(X,B,t){var x=t(33428),E=t(83356),i=E.geoPath,M=E.geoDistance,m=t(87108),d=t(24040),v=t(3400),r=v.strTranslate,e=t(76308),s=t(43616),n=t(93024),l=t(7316),o=t(54460),h=t(19280).getAutoRange,b=t(86476),f=t(22676).prepSelect,k=t(22676).clearOutline,a=t(22676).selectOnClick,c=t(79248),p=t(79552),w=t(27144),S=t(59972),_=t(55712).NO;function T(A){this.id=A.id,this.graphDiv=A.graphDiv,this.container=A.container,this.topojsonURL=A.topojsonURL,this.isStatic=A.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var P=T.prototype;X.exports=function(A){return new T(A)},P.plot=function(A,R,O,N){var z=this;if(N)return z.update(A,R,!0);z._geoCalcData=A,z._fullLayout=R;var F=R[this.id],I=[],j=!1;for(var V in p.layerNameToAdjective)if(V!=="frame"&&F["show"+V]){j=!0;break}for(var W=!1,K=0;K<A.length;K++){var et=A[0][0].trace;et._geo=z,et.locationmode&&(j=!0);var lt=et.marker;if(lt){var ot=lt.angle,q=lt.angleref;(ot||q==="north"||q==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,j){var J=S.getTopojsonName(F);(z.topojson===null||J!==z.topojsonName)&&(z.topojsonName=J,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&I.push(z.fetchTopojson()))}I=I.concat(w.fetchTraceGeoData(A)),O.push(new Promise(function(it,Z){Promise.all(I).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(A,R),it()}).catch(Z)}))},P.fetchTopojson=function(){var A=this,R=S.getTopojsonPath(A.topojsonURL,A.topojsonName);return new Promise(function(O,N){x.json(R,function(z,F){if(z)return z.status===404?N(new Error(["plotly.js could not find topojson file at",R+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",R].join(" ")));PlotlyGeoAssets.topojson[A.topojsonName]=F,O()})})},P.update=function(A,R,O){var N=R[this.id];this.hasChoropleth=!1;for(var z=0;z<A.length;z++){var F=A[z],I=F[0].trace;I.type==="choropleth"&&(this.hasChoropleth=!0),I.visible===!0&&I._length>0&&I._module.calcGeoJSON(F,R)}if(!O){var j=this.updateProjection(A,R);if(j)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(R,N),this.updateDims(R,N),this.updateFx(R,N),l.generalUpdatePerTraceModule(this.graphDiv,this,A,N);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},P.updateProjection=function(A,R){var O=this.graphDiv,N=R[this.id],z=R._size,F=N.domain,I=N.projection,j=N.lonaxis,V=N.lataxis,W=j._ax,K=V._ax,et=this.projection=u(N),lt=[[z.l+z.w*F.x[0],z.t+z.h*(1-F.y[1])],[z.l+z.w*F.x[1],z.t+z.h*(1-F.y[0])]],ot=N.center||{},q=I.rotation||{},J=j.range||[],it=V.range||[];if(N.fitbounds){W._length=lt[1][0]-lt[0][0],K._length=lt[1][1]-lt[0][1],W.range=h(O,W),K.range=h(O,K);var Z=(W.range[0]+W.range[1])/2,tt=(K.range[0]+K.range[1])/2;if(N._isScoped)ot={lon:Z,lat:tt};else if(N._isClipped){ot={lon:Z,lat:tt},q={lon:Z,lat:tt,roll:q.roll};var st=I.type,Q=p.lonaxisSpan[st]/2||180,G=p.lataxisSpan[st]/2||90;J=[Z-Q,Z+Q],it=[tt-G,tt+G]}else ot={lon:Z,lat:tt},q={lon:Z,lat:q.lat,roll:q.roll}}et.center([ot.lon-q.lon,ot.lat-q.lat]).rotate([-q.lon,-q.lat,q.roll]).parallels(I.parallels);var ut=L(J,it);et.fitExtent(lt,ut);var at=this.bounds=et.getBounds(ut),dt=this.fitScale=et.scale(),gt=et.translate();if(N.fitbounds){var wt=et.getBounds(L(W.range,K.range)),kt=Math.min((at[1][0]-at[0][0])/(wt[1][0]-wt[0][0]),(at[1][1]-at[0][1])/(wt[1][1]-wt[0][1]));isFinite(kt)?et.scale(kt*dt):v.warn("Something went wrong during"+this.id+"fitbounds computations.")}else et.scale(I.scale*dt);var Ot=this.midPt=[(at[0][0]+at[1][0])/2,(at[0][1]+at[1][1])/2];if(et.translate([gt[0]+(Ot[0]-gt[0]),gt[1]+(Ot[1]-gt[1])]).clipExtent(at),N._isAlbersUsa){var bt=et([ot.lon,ot.lat]),_t=et.translate();et.translate([_t[0]-(bt[0]-_t[0]),_t[1]-(bt[1]-_t[1])])}},P.updateBaseLayers=function(A,R){var O=this,N=O.topojson,z=O.layers,F=O.basePaths;function I(lt){return lt==="lonaxis"||lt==="lataxis"}function j(lt){return!!p.lineLayers[lt]}function V(lt){return!!p.fillLayers[lt]}var W=this.hasChoropleth?p.layersForChoropleth:p.layers,K=W.filter(function(lt){return j(lt)||V(lt)?R["show"+lt]:I(lt)?R[lt].showgrid:!0}),et=O.framework.selectAll(".layer").data(K,String);et.exit().each(function(lt){delete z[lt],delete F[lt],x.select(this).remove()}),et.enter().append("g").attr("class",function(lt){return"layer "+lt}).each(function(lt){var ot=z[lt]=x.select(this);lt==="bg"?O.bgRect=ot.append("rect").style("pointer-events","all"):I(lt)?F[lt]=ot.append("path").style("fill","none"):lt==="backplot"?ot.append("g").classed("choroplethlayer",!0):lt==="frontplot"?ot.append("g").classed("scatterlayer",!0):j(lt)?F[lt]=ot.append("path").style("fill","none").style("stroke-miterlimit",2):V(lt)&&(F[lt]=ot.append("path").style("stroke","none"))}),et.order(),et.each(function(lt){var ot=F[lt],q=p.layerNameToAdjective[lt];lt==="frame"?ot.datum(p.sphereSVG):j(lt)||V(lt)?ot.datum(_(N,N.objects[lt])):I(lt)&&ot.datum(g(lt,R,A)).call(e.stroke,R[lt].gridcolor).call(s.dashLine,R[lt].griddash,R[lt].gridwidth),j(lt)?ot.call(e.stroke,R[q+"color"]).call(s.dashLine,"",R[q+"width"]):V(lt)&&ot.call(e.fill,R[q+"color"])})},P.updateDims=function(A,R){var O=this.bounds,N=(R.framewidth||0)/2,z=O[0][0]-N,F=O[0][1]-N,I=O[1][0]-z+N,j=O[1][1]-F+N;s.setRect(this.clipRect,z,F,I,j),this.bgRect.call(s.setRect,z,F,I,j).call(e.fill,R.bgcolor),this.xaxis._offset=z,this.xaxis._length=I,this.yaxis._offset=F,this.yaxis._length=j},P.updateFx=function(A,R){var O=this,N=O.graphDiv,z=O.bgRect,F=A.dragmode,I=A.clickmode;if(O.isStatic)return;function j(){var et=O.viewInitial,lt={};for(var ot in et)lt[O.id+"."+ot]=et[ot];d.call("_guiRelayout",N,lt),N.emit("plotly_doubleclick",null)}function V(et){return O.projection.invert([et[0]+O.xaxis._offset,et[1]+O.yaxis._offset])}var W=function(et,lt){if(lt.isRect){var ot=et.range={};ot[O.id]=[V([lt.xmin,lt.ymin]),V([lt.xmax,lt.ymax])]}else{var q=et.lassoPoints={};q[O.id]=lt.map(V)}},K={element:O.bgRect.node(),gd:N,plotinfo:{id:O.id,xaxis:O.xaxis,yaxis:O.yaxis,fillRangeItems:W},xaxes:[O.xaxis],yaxes:[O.yaxis],subplot:O.id,clickFn:function(et){et===2&&k(N)}};F==="pan"?(z.node().onmousedown=null,z.call(c(O,R)),z.on("dblclick.zoom",j),N._context._scrollZoom.geo||z.on("wheel.zoom",null)):(F==="select"||F==="lasso")&&(z.on(".zoom",null),K.prepFn=function(et,lt,ot){f(et,lt,ot,K,F)},b.init(K)),z.on("mousemove",function(){var et=O.projection.invert(v.getPositionFromD3Event());if(!et)return b.unhover(N,x.event);O.xaxis.p2c=function(){return et[0]},O.yaxis.p2c=function(){return et[1]},n.hover(N,x.event,O.id)}),z.on("mouseout",function(){N._dragging||b.unhover(N,x.event)}),z.on("click",function(){F!=="select"&&F!=="lasso"&&(I.indexOf("select")>-1&&a(x.event,N,[O.xaxis],[O.yaxis],O.id,K),I.indexOf("event")>-1&&n.click(N,x.event))})},P.makeFramework=function(){var A=this,R=A.graphDiv,O=R._fullLayout,N="clip"+O._uid+A.id;A.clipDef=O._clips.append("clipPath").attr("id",N),A.clipRect=A.clipDef.append("rect"),A.framework=x.select(A.container).append("g").attr("class","geo "+A.id).call(s.setClipUrl,N,R),A.project=function(z){var F=A.projection(z);return F?[F[0]-A.xaxis._offset,F[1]-A.yaxis._offset]:[null,null]},A.xaxis={_id:"x",c2p:function(z){return A.project(z)[0]}},A.yaxis={_id:"y",c2p:function(z){return A.project(z)[1]}},A.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(A.mockAxis,O)},P.saveViewInitial=function(A){var R=A.center||{},O=A.projection,N=O.rotation||{};this.viewInitial={fitbounds:A.fitbounds,"projection.scale":O.scale};var z;A._isScoped?z={"center.lon":R.lon,"center.lat":R.lat}:A._isClipped?z={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:z={"center.lon":R.lon,"center.lat":R.lat,"projection.rotation.lon":N.lon},v.extendFlat(this.viewInitial,z)},P.render=function(A){this._hasMarkerAngles&&A?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},P._render=function(){var A=this.projection,R=A.getPath(),O;function N(F){var I=A(F.lonlat);return I?r(I[0],I[1]):null}function z(F){return A.isLonLatOverEdges(F.lonlat)?"none":null}for(O in this.basePaths)this.basePaths[O].attr("d",R);for(O in this.dataPaths)this.dataPaths[O].attr("d",function(F){return R(F.geojson)});for(O in this.dataPoints)this.dataPoints[O].attr("display",z).attr("transform",N)};function u(A){var R=A.projection,O=R.type,N=p.projNames[O];N="geo"+v.titleCase(N);for(var z=E[N]||m[N],F=z(),I=A._isSatellite?Math.acos(1/R.distance)*180/Math.PI:A._isClipped?p.lonaxisSpan[O]/2:null,j=["center","rotate","parallels","clipExtent"],V=function(et){return et?F:[]},W=0;W<j.length;W++){var K=j[W];typeof F[K]!="function"&&(F[K]=V)}return F.isLonLatOverEdges=function(et){if(F(et)===null)return!0;if(I){var lt=F.rotate(),ot=M(et,[-lt[0],-lt[1]]),q=I*Math.PI/180;return ot>q}else return!1},F.getPath=function(){return i().projection(F)},F.getBounds=function(et){return F.getPath().bounds(et)},F.precision(p.precision),A._isSatellite&&F.tilt(R.tilt).distance(R.distance),I&&F.clipAngle(I-p.clipPad),F}function g(A,R,O){var N=1e-6,z=2.5,F=R[A],I=p.scopeDefaults[R.scope],j,V,W;A==="lonaxis"?(j=I.lonaxisRange,V=I.lataxisRange,W=function(tt,st){return[tt,st]}):A==="lataxis"&&(j=I.lataxisRange,V=I.lonaxisRange,W=function(tt,st){return[st,tt]});var K={type:"linear",range:[j[0],j[1]-N],tick0:F.tick0,dtick:F.dtick};o.setConvert(K,O);var et=o.calcTicks(K);!R.isScoped&&A==="lonaxis"&&et.pop();for(var lt=et.length,ot=new Array(lt),q=0;q<lt;q++)for(var J=et[q].x,it=ot[q]=[],Z=V[0];Z<V[1]+z;Z+=z)it.push(W(J,Z));return{type:"MultiLineString",coordinates:ot}}function L(A,R){var O=p.clipPad,N=A[0]+O,z=A[1]-O,F=R[0]+O,I=R[1]-O;N>0&&z<0&&(z+=360);var j=(z-N)/4;return{type:"Polygon",coordinates:[[[N,F],[N,I],[N+j,I],[N+2*j,I],[N+3*j,I],[z,I],[z,F],[z-j,F],[z-2*j,F],[z-3*j,F],[N,F]]]}}},10816:function(X,B,t){var x=t(84888).KY,E=t(3400).counterRegex,i=t(43520),M="geo",m=E(M),d={};d[M]={valType:"subplotid",dflt:M,editType:"calc"};function v(s){for(var n=s._fullLayout,l=s.calcdata,o=n._subplots[M],h=0;h<o.length;h++){var b=o[h],f=x(l,M,b),k=n[b],a=k._subplot;a||(a=i({id:b,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[b]._subplot=a),a.plot(f,n,s._promises)}}function r(s,n,l,o){for(var h=o._subplots[M]||[],b=0;b<h.length;b++){var f=h[b],k=o[f]._subplot;!n[f]&&k&&(k.framework.remove(),k.clipDef.remove())}}function e(s){for(var n=s._fullLayout,l=n._subplots[M],o=0;o<l.length;o++){var h=n[l[o]],b=h._subplot;b.updateFx(n,h)}}X.exports={attr:M,name:M,idRoot:M,idRegex:m,attrRegex:m,attributes:d,layoutAttributes:t(40384),supplyLayoutDefaults:t(86920),plot:v,updateFx:e,clean:r}},40384:function(X,B,t){var x=t(22548),E=t(86968).u,i=t(98192).u,M=t(79552),m=t(67824).overrideAll,d=t(95376),v={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:x.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},r=X.exports=m({domain:E({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:d(M.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:d(M.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:x.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:M.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:M.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:M.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:M.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:x.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:x.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:x.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:x.background},lonaxis:v,lataxis:v},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(X,B,t){var x=t(3400),E=t(168),i=t(84888).op,M=t(79552),m=t(40384),d=M.axesNames;X.exports=function(r,e,s){E(r,e,s,{type:"geo",attributes:m,handleDefaults:v,fullData:s,partition:"y"})};function v(r,e,s,n){var l=i(n.fullData,"geo",n.id),o=l.map(function(it){return it._expandedIndex}),h=s("resolution"),b=s("scope"),f=M.scopeDefaults[b],k=s("projection.type",f.projType),a=e._isAlbersUsa=k==="albers usa";a&&(b=e.scope="usa");var c=e._isScoped=b!=="world",p=e._isSatellite=k==="satellite",w=e._isConic=k.indexOf("conic")!==-1||k==="albers",S=e._isClipped=!!M.lonaxisSpan[k];if(r.visible===!1){var _=x.extendDeep({},e._template);_.showcoastlines=!1,_.showcountries=!1,_.showframe=!1,_.showlakes=!1,_.showland=!1,_.showocean=!1,_.showrivers=!1,_.showsubunits=!1,_.lonaxis&&(_.lonaxis.showgrid=!1),_.lataxis&&(_.lataxis.showgrid=!1),e._template=_}for(var T=s("visible"),P,u=0;u<d.length;u++){var g=d[u],L=[30,10][u],A;if(c)A=f[g+"Range"];else{var R=M[g+"Span"],O=(R[k]||R["*"])/2,N=s("projection.rotation."+g.substr(0,3),f.projRotate[u]);A=[N-O,N+O]}var z=s(g+".range",A);s(g+".tick0"),s(g+".dtick",L),P=s(g+".showgrid",T?void 0:!1),P&&(s(g+".gridcolor"),s(g+".gridwidth"),s(g+".griddash")),e[g]._ax={type:"linear",_id:g.slice(0,3),_traceIndices:o,setScale:x.identity,c2l:x.identity,r2l:x.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var F=e.lonaxis.range,I=e.lataxis.range,j=F[0],V=F[1];j>0&&V<0&&(V+=360);var W=(j+V)/2,K;if(!a){var et=c?f.projRotate:[W,0,0];K=s("projection.rotation.lon",et[0]),s("projection.rotation.lat",et[1]),s("projection.rotation.roll",et[2]),P=s("showcoastlines",!c&&T),P&&(s("coastlinecolor"),s("coastlinewidth")),P=s("showocean",T?void 0:!1),P&&s("oceancolor")}var lt,ot;if(a?(lt=-96.6,ot=38.7):(lt=c?W:K,ot=(I[0]+I[1])/2),s("center.lon",lt),s("center.lat",ot),p&&(s("projection.tilt"),s("projection.distance")),w){var q=f.projParallels||[0,60];s("projection.parallels",q)}s("projection.scale"),P=s("showland",T?void 0:!1),P&&s("landcolor"),P=s("showlakes",T?void 0:!1),P&&s("lakecolor"),P=s("showrivers",T?void 0:!1),P&&(s("rivercolor"),s("riverwidth")),P=s("showcountries",c&&b!=="usa"&&T),P&&(s("countrycolor"),s("countrywidth")),(b==="usa"||b==="north america"&&h===50)&&(s("showsubunits",T),s("subunitcolor"),s("subunitwidth")),c||(P=s("showframe",T),P&&(s("framecolor"),s("framewidth"))),s("bgcolor");var J=s("fitbounds");J&&(delete e.projection.scale,c?(delete e.center.lon,delete e.center.lat):S?(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon,delete e.projection.rotation.lat,delete e.lonaxis.range,delete e.lataxis.range):(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon))}},79248:function(X,B,t){var x=t(33428),E=t(3400),i=t(24040),M=Math.PI/180,m=180/Math.PI,d={cursor:"pointer"},v={cursor:"auto"};function r(g,L){var A=g.projection,R;return L._isScoped?R=n:L._isClipped?R=o:R=l,R(g,A)}X.exports=r;function e(g,L){return x.behavior.zoom().translate(L.translate()).scale(L.scale())}function s(g,L,A){var R=g.id,O=g.graphDiv,N=O.layout,z=N[R],F=O._fullLayout,I=F[R],j={},V={};function W(K,et){j[R+"."+K]=E.nestedProperty(z,K).get(),i.call("_storeDirectGUIEdit",N,F._preGUI,j);var lt=E.nestedProperty(I,K);lt.get()!==et&&(lt.set(et),E.nestedProperty(z,K).set(et),V[R+"."+K]=et)}A(W),W("projection.scale",L.scale()/g.fitScale),W("fitbounds",!1),O.emit("plotly_relayout",V)}function n(g,L){var A=e(g,L);function R(){x.select(this).style(d)}function O(){L.scale(x.event.scale).translate(x.event.translate),g.render(!0);var F=L.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/g.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1]})}function N(F){var I=L.invert(g.midPt);F("center.lon",I[0]),F("center.lat",I[1])}function z(){x.select(this).style(v),s(g,L,N)}return A.on("zoomstart",R).on("zoom",O).on("zoomend",z),A}function l(g,L){var A=e(g,L),R=2,O,N,z,F,I,j,V,W,K;function et(Z){return L.invert(Z)}function lt(Z){var tt=et(Z);if(!tt)return!0;var st=L(tt);return Math.abs(st[0]-Z[0])>R||Math.abs(st[1]-Z[1])>R}function ot(){x.select(this).style(d),O=x.mouse(this),N=L.rotate(),z=L.translate(),F=N,I=et(O)}function q(){if(j=x.mouse(this),lt(O)){A.scale(L.scale()),A.translate(L.translate());return}L.scale(x.event.scale),L.translate([z[0],x.event.translate[1]]),I?et(j)&&(W=et(j),V=[F[0]+(W[0]-I[0]),N[1],N[2]],L.rotate(V),F=V):(O=j,I=et(O)),K=!0,g.render(!0);var Z=L.rotate(),tt=L.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/g.fitScale,"geo.center.lon":tt[0],"geo.center.lat":tt[1],"geo.projection.rotation.lon":-Z[0]})}function J(){x.select(this).style(v),K&&s(g,L,it)}function it(Z){var tt=L.rotate(),st=L.invert(g.midPt);Z("projection.rotation.lon",-tt[0]),Z("center.lon",st[0]),Z("center.lat",st[1])}return A.on("zoomstart",ot).on("zoom",q).on("zoomend",J),A}function o(g,L){L.rotate(),L.scale();var A=e(g,L),R=u(A,"zoomstart","zoom","zoomend"),O=0,N=A.on,z;A.on("zoomstart",function(){x.select(this).style(d);var W=x.mouse(this),K=L.rotate(),et=K,lt=L.translate(),ot=b(K);z=h(L,W),N.call(A,"zoom",function(){var q=x.mouse(this);if(L.scale(x.event.scale),!z)W=q,z=h(L,W);else if(h(L,q)){L.rotate(K).translate(lt);var J=h(L,q),it=k(z,J),Z=S(f(ot,it)),tt=a(Z,z,et);(!isFinite(tt[0])||!isFinite(tt[1])||!isFinite(tt[2]))&&(tt=et),L.rotate(tt),et=tt}I(R.of(this,arguments))}),F(R.of(this,arguments))}).on("zoomend",function(){x.select(this).style(v),N.call(A,"zoom",null),j(R.of(this,arguments)),s(g,L,V)}).on("zoom.redraw",function(){g.render(!0);var W=L.rotate();g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/g.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function F(W){O++||W({type:"zoomstart"})}function I(W){W({type:"zoom"})}function j(W){--O||W({type:"zoomend"})}function V(W){var K=L.rotate();W("projection.rotation.lon",-K[0]),W("projection.rotation.lat",-K[1])}return x.rebind(A,R,"on")}function h(g,L){var A=g.invert(L);return A&&isFinite(A[0])&&isFinite(A[1])&&_(A)}function b(g){var L=.5*g[0]*M,A=.5*g[1]*M,R=.5*g[2]*M,O=Math.sin(L),N=Math.cos(L),z=Math.sin(A),F=Math.cos(A),I=Math.sin(R),j=Math.cos(R);return[N*F*j+O*z*I,O*F*j-N*z*I,N*z*j+O*F*I,N*F*I-O*z*j]}function f(g,L){var A=g[0],R=g[1],O=g[2],N=g[3],z=L[0],F=L[1],I=L[2],j=L[3];return[A*z-R*F-O*I-N*j,A*F+R*z+O*j-N*I,A*I-R*j+O*z+N*F,A*j+R*I-O*F+N*z]}function k(g,L){if(!(!g||!L)){var A=P(g,L),R=Math.sqrt(T(A,A)),O=.5*Math.acos(Math.max(-1,Math.min(1,T(g,L)))),N=Math.sin(O)/R;return R&&[Math.cos(O),A[2]*N,-A[1]*N,A[0]*N]}}function a(g,L,A){var R=w(L,2,g[0]);R=w(R,1,g[1]),R=w(R,0,g[2]-A[2]);var O=L[0],N=L[1],z=L[2],F=R[0],I=R[1],j=R[2],V=Math.atan2(N,O)*m,W=Math.sqrt(O*O+N*N),K,et;Math.abs(I)>W?(et=(I>0?90:-90)-V,K=0):(et=Math.asin(I/W)*m-V,K=Math.sqrt(W*W-I*I));var lt=180-et-2*V,ot=(Math.atan2(j,F)-Math.atan2(z,K))*m,q=(Math.atan2(j,F)-Math.atan2(z,-K))*m,J=c(A[0],A[1],et,ot),it=c(A[0],A[1],lt,q);return J<=it?[et,ot,A[2]]:[lt,q,A[2]]}function c(g,L,A,R){var O=p(A-g),N=p(R-L);return Math.sqrt(O*O+N*N)}function p(g){return(g%360+540)%360-180}function w(g,L,A){var R=A*M,O=g.slice(),N=L===0?1:0,z=L===2?1:2,F=Math.cos(R),I=Math.sin(R);return O[N]=g[N]*F-g[z]*I,O[z]=g[z]*F+g[N]*I,O}function S(g){return[Math.atan2(2*(g[0]*g[1]+g[2]*g[3]),1-2*(g[1]*g[1]+g[2]*g[2]))*m,Math.asin(Math.max(-1,Math.min(1,2*(g[0]*g[2]-g[3]*g[1]))))*m,Math.atan2(2*(g[0]*g[3]+g[1]*g[2]),1-2*(g[2]*g[2]+g[3]*g[3]))*m]}function _(g){var L=g[0]*M,A=g[1]*M,R=Math.cos(A);return[R*Math.cos(L),R*Math.sin(L),Math.sin(A)]}function T(g,L){for(var A=0,R=0,O=g.length;R<O;++R)A+=g[R]*L[R];return A}function P(g,L){return[g[1]*L[2]-g[2]*L[1],g[2]*L[0]-g[0]*L[2],g[0]*L[1]-g[1]*L[0]]}function u(g){for(var L=0,A=arguments.length,R=[];++L<A;)R.push(arguments[L]);var O=x.dispatch.apply(null,R);return O.of=function(N,z){return function(F){var I;try{I=F.sourceEvent=x.event,F.target=g,x.event=F,O[F.type].apply(N,z)}finally{x.event=I}}},O}},84888:function(X,B,t){var x=t(24040),E=t(33816).SUBPLOT_PATTERN;B.KY=function(i,M,m){var d=x.subplotsRegistry[M];if(!d)return[];for(var v=d.attr,r=[],e=0;e<i.length;e++){var s=i[e],n=s[0].trace;n[v]===m&&r.push(s)}return r},B._M=function(i,M){var m=[],d=[],v;if(typeof M=="string"?v=x.getModule(M).plot:typeof M=="function"?v=M:v=M.plot,!v)return[m,i];for(var r=0;r<i.length;r++){var e=i[r],s=e[0].trace;s.visible!==!0||s._length===0||(s._module&&s._module.plot===v?m.push(e):d.push(e))}return[m,d]},B.op=function(i,M,m){if(!x.subplotsRegistry[M])return[];var d=x.subplotsRegistry[M].attr,v=[],r,e,s;if(M==="gl2d"){var n=m.match(E);e="x"+n[1],s="y"+n[2]}for(var l=0;l<i.length;l++)r=i[l],M==="gl2d"&&x.traceIs(r,"gl2d")?r[d[0]]===e&&r[d[1]]===s&&v.push(r):r[d]===m&&v.push(r);return v}},2428:function(X,B,t){var x=t(62644),E=t(97264),i=t(29128),M=t(33816),m=t(89184);X.exports=v;function d(r,e){this.element=r,this.plot=e,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function v(r){var e=r.mouseContainer,s=r.glplot,n=new d(e,s);function l(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function o(){for(var b=r.graphDiv._fullLayout._axisConstraintGroups,f=r.xaxis._id,k=r.yaxis._id,a=0;a<b.length;a++)if(b[a][f]!==-1){if(b[a][k]!==-1)return!0;break}return!1}n.mouseListener=x(e,h),e.addEventListener("touchstart",function(b){var f=i(b.changedTouches[0],e);h(0,f[0],f[1]),h(1,f[0],f[1]),b.preventDefault()},m?{passive:!1}:!1),e.addEventListener("touchmove",function(b){b.preventDefault();var f=i(b.changedTouches[0],e);h(1,f[0],f[1]),b.preventDefault()},m?{passive:!1}:!1),e.addEventListener("touchend",function(b){h(0,n.lastPos[0],n.lastPos[1]),b.preventDefault()},m?{passive:!1}:!1);function h(b,f,k){var a=r.calcDataBox(),c=s.viewBox,p=n.lastPos[0],w=n.lastPos[1],S=M.MINDRAG*s.pixelRatio,_=M.MINZOOM*s.pixelRatio,T,P;f*=s.pixelRatio,k*=s.pixelRatio,k=c[3]-c[1]-k;function u(N,z,F){var I=Math.min(z,F),j=Math.max(z,F);I!==j?(a[N]=I,a[N+2]=j,n.dataBox=a,r.setRanges(a)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(b){var g=f/(c[2]-c[0])*(a[2]-a[0])+a[0],L=k/(c[3]-c[1])*(a[3]-a[1])+a[1];n.boxInited||(n.boxStart[0]=g,n.boxStart[1]=L,n.dragStart[0]=f,n.dragStart[1]=k),n.boxEnd[0]=g,n.boxEnd[1]=L,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var A=Math.abs(n.dragStart[0]-f)<_,R=Math.abs(n.dragStart[1]-k)<_;if(o()&&!(A&&R)){T=n.boxEnd[0]-n.boxStart[0],P=n.boxEnd[1]-n.boxStart[1];var O=(a[3]-a[1])/(a[2]-a[0]);Math.abs(T*O)>Math.abs(P)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(T)*O*(P>=0?1:-1),n.boxEnd[1]<a[1]?(n.boxEnd[1]=a[1],n.boxEnd[0]=n.boxStart[0]+(a[1]-n.boxStart[1])/Math.abs(O)):n.boxEnd[1]>a[3]&&(n.boxEnd[1]=a[3],n.boxEnd[0]=n.boxStart[0]+(a[3]-n.boxStart[1])/Math.abs(O))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(P)/O*(T>=0?1:-1),n.boxEnd[0]<a[0]?(n.boxEnd[0]=a[0],n.boxEnd[1]=n.boxStart[1]+(a[0]-n.boxStart[0])*Math.abs(O)):n.boxEnd[0]>a[2]&&(n.boxEnd[0]=a[2],n.boxEnd[1]=n.boxStart[1]+(a[2]-n.boxStart[0])*Math.abs(O)))}else A&&(n.boxEnd[0]=n.boxStart[0]),R&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(T=n.boxStart[0]!==n.boxEnd[0],P=n.boxStart[1]!==n.boxEnd[1],T||P?(T&&(u(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),P&&(u(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,b?(n.panning||(n.dragStart[0]=f,n.dragStart[1]=k),Math.abs(n.dragStart[0]-f)<S&&(f=n.dragStart[0]),Math.abs(n.dragStart[1]-k)<S&&(k=n.dragStart[1]),T=(p-f)*(a[2]-a[0])/(s.viewBox[2]-s.viewBox[0]),P=(w-k)*(a[3]-a[1])/(s.viewBox[3]-s.viewBox[1]),a[0]+=T,a[2]+=T,a[1]+=P,a[3]+=P,r.setRanges(a),n.panning=!0,n.lastInputTime=Date.now(),l(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=f,n.lastPos[1]=k}return n.wheelListener=E(e,function(b,f){if(!r.scrollZoom)return!1;var k=r.calcDataBox(),a=s.viewBox,c=n.lastPos[0],p=n.lastPos[1],w=Math.exp(5*f/(a[3]-a[1])),S=c/(a[2]-a[0])*(k[2]-k[0])+k[0],_=p/(a[3]-a[1])*(k[3]-k[1])+k[1];return k[0]=(k[0]-S)*w+S,k[2]=(k[2]-S)*w+S,k[1]=(k[1]-_)*w+_,k[3]=(k[3]-_)*w+_,r.setRanges(k),n.lastInputTime=Date.now(),l(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(X,B,t){var x=t(54460),E=t(43080);function i(v){this.scene=v,this.gl=v.gl,this.pixelRatio=v.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var M=i.prototype,m=["xaxis","yaxis"];M.merge=function(v){this.titleEnable=!1,this.backgroundColor=E(v.plot_bgcolor);var r,e,s,n,l,o,h,b,f,k,a;for(k=0;k<2;++k){r=m[k];var c=r.charAt(0);for(e=v[this.scene[r]._name],s=e.title.text===this.scene.fullLayout._dfltTitle[c]?"":e.title.text,a=0;a<=2;a+=2)this.labelEnable[k+a]=!1,this.labels[k+a]=s,this.labelColor[k+a]=E(e.title.font.color),this.labelFont[k+a]=e.title.font.family,this.labelSize[k+a]=e.title.font.size,this.labelPad[k+a]=this.getLabelPad(r,e),this.tickEnable[k+a]=!1,this.tickColor[k+a]=E((e.tickfont||{}).color),this.tickAngle[k+a]=e.tickangle==="auto"?0:Math.PI*-e.tickangle/180,this.tickPad[k+a]=this.getTickPad(e),this.tickMarkLength[k+a]=0,this.tickMarkWidth[k+a]=e.tickwidth||0,this.tickMarkColor[k+a]=E(e.tickcolor),this.borderLineEnable[k+a]=!1,this.borderLineColor[k+a]=E(e.linecolor),this.borderLineWidth[k+a]=e.linewidth||0;h=this.hasSharedAxis(e),l=this.hasAxisInDfltPos(r,e)&&!h,o=this.hasAxisInAltrPos(r,e)&&!h,n=e.mirror||!1,b=h?String(n).indexOf("all")!==-1:!!n,f=h?n==="allticks":String(n).indexOf("ticks")!==-1,l?this.labelEnable[k]=!0:o&&(this.labelEnable[k+2]=!0),l?this.tickEnable[k]=e.showticklabels:o&&(this.tickEnable[k+2]=e.showticklabels),(l||b)&&(this.borderLineEnable[k]=e.showline),(o||b)&&(this.borderLineEnable[k+2]=e.showline),(l||f)&&(this.tickMarkLength[k]=this.getTickMarkLength(e)),(o||f)&&(this.tickMarkLength[k+2]=this.getTickMarkLength(e)),this.gridLineEnable[k]=e.showgrid,this.gridLineColor[k]=E(e.gridcolor),this.gridLineWidth[k]=e.gridwidth,this.zeroLineEnable[k]=e.zeroline,this.zeroLineColor[k]=E(e.zerolinecolor),this.zeroLineWidth[k]=e.zerolinewidth}},M.hasSharedAxis=function(v){var r=this.scene,e=r.fullLayout._subplots.gl2d,s=x.findSubplotsWithAxis(e,v);return s.indexOf(r.id)!==0},M.hasAxisInDfltPos=function(v,r){var e=r.side;if(v==="xaxis")return e==="bottom";if(v==="yaxis")return e==="left"},M.hasAxisInAltrPos=function(v,r){var e=r.side;if(v==="xaxis")return e==="top";if(v==="yaxis")return e==="right"},M.getLabelPad=function(v,r){var e=1.5,s=r.title.font.size,n=r.showticklabels;if(v==="xaxis")return r.side==="top"?-10+s*(e+(n?1:0)):-10+s*(e+(n?.5:0));if(v==="yaxis")return r.side==="right"?10+s*(e+(n?1:.5)):10+s*(e+(n?.5:0))},M.getTickPad=function(v){return v.ticks==="outside"?10+v.ticklen:15},M.getTickMarkLength=function(v){if(!v.ticks)return 0;var r=v.ticklen;return v.ticks==="inside"?-r:r};function d(v){return new i(v)}X.exports=d},39952:function(X,B,t){var x=t(67824).overrideAll,E=t(17188),i=t(64859),M=t(9616),m=t(33816),d=t(57952),v=t(65460),r=t(84888).op;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=m.idRegex,B.attrRegex=m.attrRegex,B.attributes=t(26720),B.supplyLayoutDefaults=function(e,s,n){s._has("cartesian")||d.supplyLayoutDefaults(e,s,n)},B.layoutAttrOverrides=x(d.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=x({plot_bgcolor:i.plot_bgcolor,hoverlabel:v.hoverlabel},"plot","nested"),B.plot=function(e){for(var s=e._fullLayout,n=e._fullData,l=s._subplots.gl2d,o=0;o<l.length;o++){var h=l[o],b=s._plots[h],f=r(n,"gl2d",h),k=b._scene2d;k===void 0&&(k=new E({id:h,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},s),b._scene2d=k),k.plot(f,e.calcdata,s,e.layout)}},B.clean=function(e,s,n,l){for(var o=l._subplots.gl2d||[],h=0;h<o.length;h++){var b=o[h],f=l._plots[b];if(f._scene2d){var k=r(e,"gl2d",b);k.length===0&&(f._scene2d.destroy(),delete l._plots[b])}}d.clean.apply(this,arguments)},B.drawFramework=function(e){e._context.staticPlot||d.drawFramework(e)},B.toSVG=function(e){for(var s=e._fullLayout,n=s._subplots.gl2d,l=0;l<n.length;l++){var o=s._plots[n[l]],h=o._scene2d,b=h.toImage("png"),f=s._glimages.append("svg:image");f.attr({xmlns:M.svg,"xlink:href":b,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),h.destroy()}},B.updateFx=function(e){for(var s=e._fullLayout,n=s._subplots.gl2d,l=0;l<n.length;l++){var o=s._plots[n[l]]._scene2d;o.updateFx(s.dragmode)}}},17188:function(X,B,t){var x=t(24040),E=t(54460),i=t(93024),M=t(67792).gl_plot2d,m=t(67792).gl_spikes2d,d=t(67792).gl_select_box,v=t(5408),r=t(92568),e=t(2428),s=t(16576),n=t(71888),l=n.enforce,o=n.clean,h=t(19280).doAutoRange,b=t(72760),f=b.drawMode,k=b.selectMode,a=["xaxis","yaxis"],c,p,w=t(33816).SUBPLOT_PATTERN;function S(P,u){this.container=P.container,this.graphDiv=P.graphDiv,this.pixelRatio=P.plotGlPixelRatio||window.devicePixelRatio,this.id=P.id,this.staticPlot=!!P.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(u),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(u),this.glplot=M(this.glplotOptions),this.camera=e(this),this.traces={},this.spikes=m(this.glplot),this.selectBox=d(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}X.exports=S;var _=S.prototype;_.makeFramework=function(){if(this.staticPlot){if(!p&&(c=document.createElement("canvas"),p=v({canvas:c,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=c,this.gl=p}else{var P=this.container.querySelector(".gl-canvas-focus"),u=v({canvas:P,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!u){s(this),this.stopped=!0;return}this.canvas=P,this.gl=u}var g=this.canvas;g.style.width="100%",g.style.height="100%",g.style.position="absolute",g.style.top="0px",g.style.left="0px",g.style["pointer-events"]="none",this.updateSize(g);var L=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",L.style["z-index"]=20,L.style["pointer-events"]="none";var A=this.mouseContainer=document.createElement("div");A.style.position="absolute",A.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var R=this.container;R.appendChild(L),R.appendChild(A);var O=this;A.addEventListener("mouseout",function(){O.isMouseOver=!1,O.unhover()}),A.addEventListener("mouseover",function(){O.isMouseOver=!0})},_.toImage=function(P){P||(P="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(c),this.updateSize(this.canvas);var u=this.glplot.gl,g=u.drawingBufferWidth,L=u.drawingBufferHeight;u.clearColor(1,1,1,0),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),u.bindFramebuffer(u.FRAMEBUFFER,null);var A=new Uint8Array(g*L*4);u.readPixels(0,0,g,L,u.RGBA,u.UNSIGNED_BYTE,A);for(var R=0,O=L-1;R<O;++R,--O)for(var N=0;N<g;++N)for(var z=0;z<4;++z){var F=A[4*(g*R+N)+z];A[4*(g*R+N)+z]=A[4*(g*O+N)+z],A[4*(g*O+N)+z]=F}var I=document.createElement("canvas");I.width=g,I.height=L;var j=I.getContext("2d",{willReadFrequently:!0}),V=j.createImageData(g,L);V.data.set(A),j.putImageData(V,0,0);var W;switch(P){case"jpeg":W=I.toDataURL("image/jpeg");break;case"webp":W=I.toDataURL("image/webp");break;default:W=I.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(c),W},_.updateSize=function(P){P||(P=this.canvas);var u=this.pixelRatio,g=this.fullLayout,L=g.width,A=g.height,R=Math.ceil(u*L)|0,O=Math.ceil(u*A)|0;return(P.width!==R||P.height!==O)&&(P.width=R,P.height=O),P},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var P=[E.calcTicks(this.xaxis),E.calcTicks(this.yaxis)],u=0;u<2;++u)for(var g=0;g<P[u].length;++g)P[u][g].text=P[u][g].text+"";return P};function T(P,u){for(var g=0;g<2;++g){var L=P[g],A=u[g];if(L.length!==A.length)return!0;for(var R=0;R<L.length;++R)if(L[R].x!==A[R].x)return!0}return!1}_.updateRefs=function(P){this.fullLayout=P;var u=this.id.match(w),g="xaxis"+u[1],L="yaxis"+u[2];this.xaxis=this.fullLayout[g],this.yaxis=this.fullLayout[L]},_.relayoutCallback=function(){var P=this.graphDiv,u=this.xaxis,g=this.yaxis,L=P.layout,A={},R=A[u._name+".range"]=u.range.slice(),O=A[g._name+".range"]=g.range.slice();A[u._name+".autorange"]=u.autorange,A[g._name+".autorange"]=g.autorange,x.call("_storeDirectGUIEdit",P.layout,P._fullLayout._preGUI,A);var N=L[u._name];N.range=R,N.autorange=u.autorange;var z=L[g._name];z.range=O,z.autorange=g.autorange,A.lastInputTime=this.camera.lastInputTime,P.emit("plotly_relayout",A)},_.cameraChanged=function(){var P=this.camera;this.glplot.setDataBox(this.calcDataBox());var u=this.computeTickMarks(),g=this.glplotOptions.ticks;T(u,g)&&(this.glplotOptions.ticks=u,this.glplotOptions.dataBox=P.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var P=this.graphDiv,u=this.fullLayout.annotations,g=0;g<u.length;g++){var L=u[g];L.xref===this.xaxis._id&&L.yref===this.yaxis._id&&x.getComponentMethod("annotations","drawOne")(P,g)}},_.destroy=function(){if(this.glplot){var P=this.traces;P&&Object.keys(P).map(function(u){P[u].dispose(),delete P[u]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(P,u,g){var L=this.glplot;this.updateRefs(g),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(P,u),this.updateFx(g.dragmode);var A=g.width,R=g.height;this.updateSize(this.canvas);var O=this.glplotOptions;O.merge(g),O.screenBox=[0,0,A,R];var N={_fullLayout:{_axisConstraintGroups:g._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:g._size}};o(N,this.xaxis),o(N,this.yaxis);var z=g._size,F=this.xaxis.domain,I=this.yaxis.domain;O.viewBox=[z.l+F[0]*z.w,z.b+I[0]*z.h,A-z.r-(1-F[1])*z.w,R-z.t-(1-I[1])*z.h],this.mouseContainer.style.width=z.w*(F[1]-F[0])+"px",this.mouseContainer.style.height=z.h*(I[1]-I[0])+"px",this.mouseContainer.height=z.h*(I[1]-I[0]),this.mouseContainer.style.left=z.l+F[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-I[1])*z.h+"px";var j,V;for(V=0;V<2;++V)j=this[a[V]],j._length=O.viewBox[V+2]-O.viewBox[V],h(this.graphDiv,j),j.setScale();l(N),O.ticks=this.computeTickMarks(),O.dataBox=this.calcDataBox(),O.merge(g),L.update(O),this.glplot.draw()},_.calcDataBox=function(){var P=this.xaxis,u=this.yaxis,g=P.range,L=u.range,A=P.r2l,R=u.r2l;return[A(g[0]),R(L[0]),A(g[1]),R(L[1])]},_.setRanges=function(P){var u=this.xaxis,g=this.yaxis,L=u.l2r,A=g.l2r;u.range=[L(P[0]),L(P[2])],g.range=[A(P[1]),A(P[3])]},_.updateTraces=function(P,u){var g=Object.keys(this.traces),L,A,R;this.fullData=P;t:for(L=0;L<g.length;L++){var O=g[L],N=this.traces[O];for(A=0;A<P.length;A++)if(R=P[A],R.uid===O&&R.type===N.type)continue t;N.dispose(),delete this.traces[O]}for(L=0;L<P.length;L++){R=P[L];var z=u[L],F=this.traces[R.uid];F?F.update(R,z):(F=R._module.plot(this,R,z),this.traces[R.uid]=F)}this.glplot.objects.sort(function(I,j){return I._trace.index-j._trace.index})},_.updateFx=function(P){k(P)||f(P)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),P==="pan"?this.mouseContainer.style.cursor="move":P==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},_.emitPointAction=function(P,u){for(var g=P.trace.uid,L=P.pointIndex,A,R=0;R<this.fullData.length;R++)this.fullData[R].uid===g&&(A=this.fullData[R]);var O={x:P.traceCoord[0],y:P.traceCoord[1],curveNumber:A.index,pointNumber:L,data:A._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(O,A,L),this.graphDiv.emit(u,{points:[O]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var P=this.glplot,u=this.camera,g=u.mouseListener,L=this.lastButtonState===1&&g.buttons===0,A=this.fullLayout;this.lastButtonState=g.buttons,this.cameraChanged();var R=g.x*P.pixelRatio,O=this.canvas.height-P.pixelRatio*g.y,N;if(u.boxEnabled&&A.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(u.boxStart[0],u.boxEnd[0]),Math.min(u.boxStart[1],u.boxEnd[1]),Math.max(u.boxStart[0],u.boxEnd[0]),Math.max(u.boxStart[1],u.boxEnd[1])],F=0;F<2;F++)u.boxStart[F]===u.boxEnd[F]&&(z[F]=P.dataBox[F],z[F+2]=P.dataBox[F+2]);P.setDirty()}else if(!u.panning&&this.isMouseOver){this.selectBox.enabled=!1;var I=A._size,j=this.xaxis.domain,V=this.yaxis.domain;N=P.pick(R/P.pixelRatio+I.l+j[0]*I.w,O/P.pixelRatio-(I.t+(1-V[1])*I.h));var W=N&&N.object._trace.handlePick(N);if(W&&L&&this.emitPointAction(W,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&A.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var K=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),K.screenCoord=[((P.viewBox[2]-P.viewBox[0])*(N.dataCoord[0]-P.dataBox[0])/(P.dataBox[2]-P.dataBox[0])+P.viewBox[0])/P.pixelRatio,(this.canvas.height-(P.viewBox[3]-P.viewBox[1])*(N.dataCoord[1]-P.dataBox[1])/(P.dataBox[3]-P.dataBox[1])-P.viewBox[1])/P.pixelRatio],this.emitPointAction(W,"plotly_hover");var et=this.fullData[K.trace.index]||{},lt=K.pointIndex,ot=i.castHoverinfo(et,A,lt);if(ot&&ot!=="all"){var q=ot.split("+");q.indexOf("x")===-1&&(K.traceCoord[0]=void 0),q.indexOf("y")===-1&&(K.traceCoord[1]=void 0),q.indexOf("z")===-1&&(K.traceCoord[2]=void 0),q.indexOf("text")===-1&&(K.textLabel=void 0),q.indexOf("name")===-1&&(K.name=void 0)}i.loneHover({x:K.screenCoord[0],y:K.screenCoord[1],xLabel:this.hoverFormatter("xaxis",K.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",K.traceCoord[1]),zLabel:K.traceCoord[2],text:K.textLabel,name:K.name,color:i.castHoverOption(et,lt,"bgcolor")||K.color,borderColor:i.castHoverOption(et,lt,"bordercolor"),fontFamily:i.castHoverOption(et,lt,"font.family"),fontSize:i.castHoverOption(et,lt,"font.size"),fontColor:i.castHoverOption(et,lt,"font.color"),nameLength:i.castHoverOption(et,lt,"namelength"),textAlign:i.castHoverOption(et,lt,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),P.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},_.hoverFormatter=function(P,u){if(u!==void 0){var g=this[P];return E.tickText(g,g.c2l(u),"hover").text}}},12536:function(X,B,t){var x=t(67824).overrideAll,E=t(65460),i=t(98432),M=t(84888).op,m=t(3400),d=t(9616),v="gl3d",r="scene";B.name=v,B.attr=r,B.idRoot=r,B.idRegex=B.attrRegex=m.counterRegex("scene"),B.attributes=t(6636),B.layoutAttributes=t(346),B.baseLayoutAttrOverrides=x({hoverlabel:E.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=t(5208),B.plot=function(e){for(var s=e._fullLayout,n=e._fullData,l=s._subplots[v],o=0;o<l.length;o++){var h=l[o],b=M(n,v,h),f=s[h],k=f.camera,a=f._scene;a||(a=new i({id:h,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio,camera:k},s),f._scene=a),a.viewInitial||(a.viewInitial={up:{x:k.up.x,y:k.up.y,z:k.up.z},eye:{x:k.eye.x,y:k.eye.y,z:k.eye.z},center:{x:k.center.x,y:k.center.y,z:k.center.z}}),a.plot(b,s,e.layout)}},B.clean=function(e,s,n,l){for(var o=l._subplots[v]||[],h=0;h<o.length;h++){var b=o[h];!s[b]&&l[b]._scene&&(l[b]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+b).remove())}},B.toSVG=function(e){for(var s=e._fullLayout,n=s._subplots[v],l=s._size,o=0;o<n.length;o++){var h=s[n[o]],b=h.domain,f=h._scene,k=f.toImage("png"),a=s._glimages.append("svg:image");a.attr({xmlns:d.svg,"xlink:href":k,x:l.l+l.w*b.x[0],y:l.t+l.h*(1-b.y[1]),width:l.w*(b.x[1]-b.x[0]),height:l.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"}),f.destroy()}},B.cleanId=function(e){if(e.match(/^scene[0-9]*$/)){var s=e.substr(5);return s==="1"&&(s=""),r+s}},B.updateFx=function(e){for(var s=e._fullLayout,n=s._subplots[v],l=0;l<n.length;l++){var o=s[n[l]]._scene;o.updateFx(s.dragmode,s.hovermode)}}},6636:function(X){X.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(X,B,t){var x=t(76308),E=t(94724),i=t(92880).extendFlat,M=t(67824).overrideAll;X.exports=M({visible:E.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:x.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:E.color,categoryorder:E.categoryorder,categoryarray:E.categoryarray,title:{text:E.title.text,font:E.title.font},type:i({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:E.autorange,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},rangemode:E.rangemode,minallowed:E.minallowed,maxallowed:E.maxallowed,range:i({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,mirror:E.mirror,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,tickfont:E.tickfont,tickangle:E.tickangle,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickformat:E.tickformat,tickformatstops:E.tickformatstops,hoverformat:E.hoverformat,showline:E.showline,linecolor:E.linecolor,linewidth:E.linewidth,showgrid:E.showgrid,gridcolor:i({},E.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:E.gridwidth,zeroline:E.zeroline,zerolinecolor:E.zerolinecolor,zerolinewidth:E.zerolinewidth,_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}},"plot","from-root")},64380:function(X,B,t){var x=t(49760).mix,E=t(3400),i=t(31780),M=t(86140),m=t(14944),d=t(28336),v=["xaxis","yaxis","zaxis"],r=100*136/187;X.exports=function(e,s,n){var l,o;function h(k,a){return E.coerce(l,o,M,k,a)}for(var b=0;b<v.length;b++){var f=v[b];l=e[f]||{},o=i.newContainer(s,f),o._id=f[0]+n.scene,o._name=f,m(l,o,h,n),d(l,o,h,{font:n.font,letter:f[0],data:n.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),h("gridcolor",x(o.color,n.bgColor,r).toRgbString()),h("title.text",f[0]),o.setScale=E.noop,h("showspikes")&&(h("spikesides"),h("spikethickness"),h("spikecolor",o.color)),h("showaxeslabels"),h("showbackground")&&h("backgroundcolor")}}},44728:function(X,B,t){var x=t(43080),E=t(3400),i=["xaxis","yaxis","zaxis"];function M(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var m=M.prototype;m.merge=function(v,r){for(var e=this,s=0;s<3;++s){var n=r[i[s]];if(!n.visible){e.tickEnable[s]=!1,e.labelEnable[s]=!1,e.lineEnable[s]=!1,e.lineTickEnable[s]=!1,e.gridEnable[s]=!1,e.zeroEnable[s]=!1,e.backgroundEnable[s]=!1;continue}e.labels[s]=v._meta?E.templateString(n.title.text,v._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(e.labelColor[s]=x(n.title.font.color)),n.title.font.family&&(e.labelFont[s]=n.title.font.family),n.title.font.size&&(e.labelSize[s]=n.title.font.size)),"showline"in n&&(e.lineEnable[s]=n.showline),"linecolor"in n&&(e.lineColor[s]=x(n.linecolor)),"linewidth"in n&&(e.lineWidth[s]=n.linewidth),"showgrid"in n&&(e.gridEnable[s]=n.showgrid),"gridcolor"in n&&(e.gridColor[s]=x(n.gridcolor)),"gridwidth"in n&&(e.gridWidth[s]=n.gridwidth),n.type==="log"?e.zeroEnable[s]=!1:"zeroline"in n&&(e.zeroEnable[s]=n.zeroline),"zerolinecolor"in n&&(e.zeroLineColor[s]=x(n.zerolinecolor)),"zerolinewidth"in n&&(e.zeroLineWidth[s]=n.zerolinewidth),"ticks"in n&&n.ticks?e.lineTickEnable[s]=!0:e.lineTickEnable[s]=!1,"ticklen"in n&&(e.lineTickLength[s]=e._defaultLineTickLength[s]=n.ticklen),"tickcolor"in n&&(e.lineTickColor[s]=x(n.tickcolor)),"tickwidth"in n&&(e.lineTickWidth[s]=n.tickwidth),"tickangle"in n&&(e.tickAngle[s]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(e.tickEnable[s]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(e.tickColor[s]=x(n.tickfont.color)),n.tickfont.family&&(e.tickFont[s]=n.tickfont.family),n.tickfont.size&&(e.tickSize[s]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(e.lineTickMirror[s]=!0,e.lineMirror[s]=!0):n.mirror===!0?(e.lineTickMirror[s]=!1,e.lineMirror[s]=!0):(e.lineTickMirror[s]=!1,e.lineMirror[s]=!1):e.lineMirror[s]=!1,"showbackground"in n&&n.showbackground!==!1?(e.backgroundEnable[s]=!0,e.backgroundColor[s]=x(n.backgroundcolor)):e.backgroundEnable[s]=!1}};function d(v,r){var e=new M;return e.merge(v,r),e}X.exports=d},5208:function(X,B,t){var x=t(3400),E=t(76308),i=t(24040),M=t(168),m=t(64380),d=t(346),v=t(84888).op,r="gl3d";X.exports=function(s,n,l){var o=n._basePlotModules.length>1;function h(b){if(!o){var f=x.validate(s[b],d[b]);if(f)return s[b]}}M(s,n,l,{type:r,attributes:d,handleDefaults:e,fullLayout:n,font:n.font,fullData:l,getDfltFromLayout:h,autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})};function e(s,n,l,o){for(var h=l("bgcolor"),b=E.combine(h,o.paper_bgcolor),f=["up","center","eye"],k=0;k<f.length;k++)l("camera."+f[k]+".x"),l("camera."+f[k]+".y"),l("camera."+f[k]+".z");l("camera.projection.type");var a=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),c=a?"manual":"auto",p=l("aspectmode",c);a||(s.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),s.aspectmode=n.aspectmode);var w=v(o.fullData,r,o.id);m(s,n,{font:o.font,scene:o.id,data:w,bgColor:b,calendar:o.calendar,autotypenumbersDflt:o.autotypenumbersDflt,fullLayout:o.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(s,n,o);var S=o.getDfltFromLayout("dragmode");if(S!==!1&&!S)if(S="orbit",s.camera&&s.camera.up){var _=s.camera.up.x,T=s.camera.up.y,P=s.camera.up.z;P!==0&&(!_||!T||!P||P/Math.sqrt(_*_+T*T+P*P)>.999)&&(S="turntable")}else S="turntable";l("dragmode",S),l("hovermode",o.getDfltFromLayout("hovermode"))}},346:function(X,B,t){var x=t(86140),E=t(86968).u,i=t(92880).extendFlat,M=t(3400).counterRegex;function m(d,v,r){return{x:{valType:"number",dflt:d,editType:"camera"},y:{valType:"number",dflt:v,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}X.exports={_arrayAttrRegexps:[M("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(m(0,0,1),{}),center:i(m(0,0,0),{}),eye:i(m(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:E({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:x,yaxis:x,zaxis:x,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(X,B,t){var x=t(43080),E=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var M=i.prototype;M.merge=function(d){for(var v=0;v<3;++v){var r=d[E[v]];if(!r.visible){this.enabled[v]=!1,this.drawSides[v]=!1;continue}this.enabled[v]=r.showspikes,this.colors[v]=x(r.spikecolor),this.drawSides[v]=r.spikesides,this.lineWidth[v]=r.spikethickness}};function m(d){var v=new i;return v.merge(d),v}X.exports=m},87152:function(X,B,t){X.exports=m;var x=t(54460),E=t(3400),i=["xaxis","yaxis","zaxis"];function M(d){for(var v=new Array(3),r=0;r<3;++r){for(var e=d[r],s=new Array(e.length),n=0;n<e.length;++n)s[n]=e[n].x;v[r]=s}return v}function m(d){for(var v=d.axesOptions,r=d.glplot.axesPixels,e=d.fullSceneLayout,s=[[],[],[]],n=0;n<3;++n){var l=e[i[n]];if(l._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/d.dataScale[n],Math.abs(l._length)===1/0||isNaN(l._length))s[n]=[];else{l._input_range=l.range.slice(),l.range[0]=r[n].lo/d.dataScale[n],l.range[1]=r[n].hi/d.dataScale[n],l._m=1/(d.dataScale[n]*r[n].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var o=l.tickmode;if(l.tickmode==="auto"){l.tickmode="linear";var h=l.nticks||E.constrain(l._length/40,4,9);x.autoTicks(l,Math.abs(l.range[1]-l.range[0])/h)}for(var b=x.calcTicks(l,{msUTC:!0}),f=0;f<b.length;++f)b[f].x=b[f].x*d.dataScale[n],l.type==="date"&&(b[f].text=b[f].text.replace(/\<br\>/g," "));s[n]=b,l.tickmode=o}}v.ticks=s;for(var n=0;n<3;++n){.5*(d.glplot.bounds[0][n]+d.glplot.bounds[1][n]);for(var f=0;f<2;++f)v.bounds[f][n]=d.glplot.bounds[f][n]}d.contourLevels=M(s)}},94424:function(X){function B(x,E){var i=[0,0,0,0],M,m;for(M=0;M<4;++M)for(m=0;m<4;++m)i[m]+=x[4*M+m]*E[M];return i}function t(x,E){var i=B(x.projection,B(x.view,B(x.model,[E[0],E[1],E[2],1])));return i}X.exports=t},98432:function(X,B,t){var x=t(67792).gl_plot3d,E=x.createCamera,i=x.createScene,M=t(5408),m=t(89184),d=t(24040),v=t(3400),r=v.preserveDrawingBuffer(),e=t(54460),s=t(93024),n=t(43080),l=t(16576),o=t(94424),h=t(44728),b=t(9020),f=t(87152),k=t(19280).applyAutorangeOptions,a,c,p=!1;function w(O,N){var z=document.createElement("div"),F=O.container;this.graphDiv=O.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",z.appendChild(I),this.svgContainer=I,z.id=O.id,z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",F.appendChild(z),this.fullLayout=N,this.id=O.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=h(N,N[this.id]),this.spikeOptions=b(N[this.id]),this.container=z,this.staticMode=!!O.staticPlot,this.pixelRatio=this.pixelRatio||O.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=d.getComponentMethod("annotations3d","convert"),this.drawAnnotations=d.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var S=w.prototype;S.prepareOptions=function(){var O=this,N={canvas:O.canvas,gl:O.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:O.container,axes:O.axesOptions,spikes:O.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:O.camera,pixelRatio:O.pixelRatio};if(O.staticMode){if(!c&&(a=document.createElement("canvas"),c=M({canvas:a,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!c))throw new Error("error creating static canvas/context for image server");N.gl=c,N.canvas=a}return N};var _=!0;S.tryCreatePlot=function(){var O=this,N=O.prepareOptions(),z=!0;try{O.glplot=i(N)}catch{if(O.staticMode||!_||r)z=!1;else{v.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,O.glplot=i(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,z=!1}}}return _=!1,z},S.initializeGLCamera=function(){var O=this,N=O.fullSceneLayout.camera,z=N.projection.type==="orthographic";O.camera=E(O.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:z,zoomMin:.01,zoomMax:100,mode:"orbit"})},S.initializeGLPlot=function(){var O=this;O.initializeGLCamera();var N=O.tryCreatePlot();if(!N)return l(O);O.traces={},O.make4thDimension();var z=O.graphDiv,F=z.layout,I=function(){var V={};return O.isCameraChanged(F)&&(V[O.id+".camera"]=O.getCamera()),O.isAspectChanged(F)&&(V[O.id+".aspectratio"]=O.glplot.getAspectratio(),F[O.id].aspectmode!=="manual"&&(O.fullSceneLayout.aspectmode=F[O.id].aspectmode=V[O.id+".aspectmode"]="manual")),V},j=function(V){if(V.fullSceneLayout.dragmode!==!1){var W=I();V.saveLayout(F),V.graphDiv.emit("plotly_relayout",W)}};return O.glplot.canvas&&(O.glplot.canvas.addEventListener("mouseup",function(){j(O)}),O.glplot.canvas.addEventListener("touchstart",function(){p=!0}),O.glplot.canvas.addEventListener("wheel",function(V){if(z._context._scrollZoom.gl3d){if(O.camera._ortho){var W=V.deltaX>V.deltaY?1.1:.9090909090909091,K=O.glplot.getAspectratio();O.glplot.setAspectratio({x:W*K.x,y:W*K.y,z:W*K.z})}j(O)}},m?{passive:!1}:!1),O.glplot.canvas.addEventListener("mousemove",function(){if(O.fullSceneLayout.dragmode!==!1&&O.camera.mouseListener.buttons!==0){var V=I();O.graphDiv.emit("plotly_relayouting",V)}}),O.staticMode||O.glplot.canvas.addEventListener("webglcontextlost",function(V){z&&z.emit&&z.emit("plotly_webglcontextlost",{event:V,layer:O.id})},!1)),O.glplot.oncontextloss=function(){O.recoverContext()},O.glplot.onrender=function(){O.render()},!0},S.render=function(){var O=this,N=O.graphDiv,z,F=O.svgContainer,I=O.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var j=N._fullLayout._invScaleX,V=N._fullLayout._invScaleY,W=I.width*j,K=I.height*V;F.setAttributeNS(null,"viewBox","0 0 "+W+" "+K),F.setAttributeNS(null,"width",W),F.setAttributeNS(null,"height",K),f(O),O.glplot.axes.update(O.axesOptions);for(var et=Object.keys(O.traces),lt=null,ot=O.glplot.selection,q=0;q<et.length;++q)z=O.traces[et[q]],z.data.hoverinfo!=="skip"&&z.handlePick(ot)&&(lt=z),z.setContourLevels&&z.setContourLevels();function J(Ot,bt,_t){var mt=O.fullSceneLayout[Ot+"axis"];return mt.type!=="log"&&(bt=mt.d2l(bt)),e.hoverLabelText(mt,bt,_t)}if(lt!==null){var it=o(O.glplot.cameraParams,ot.dataCoordinate);z=lt.data;var Z=N._fullData[z.index],tt=ot.index,st={xLabel:J("x",ot.traceCoordinate[0],z.xhoverformat),yLabel:J("y",ot.traceCoordinate[1],z.yhoverformat),zLabel:J("z",ot.traceCoordinate[2],z.zhoverformat)},Q=s.castHoverinfo(Z,O.fullLayout,tt),G=(Q||"").split("+"),ut=Q&&Q==="all";!Z.hovertemplate&&!ut&&(G.indexOf("x")===-1&&(st.xLabel=void 0),G.indexOf("y")===-1&&(st.yLabel=void 0),G.indexOf("z")===-1&&(st.zLabel=void 0),G.indexOf("text")===-1&&(ot.textLabel=void 0),G.indexOf("name")===-1&&(lt.name=void 0));var at,dt=[];z.type==="cone"||z.type==="streamtube"?(st.uLabel=J("x",ot.traceCoordinate[3],z.uhoverformat),(ut||G.indexOf("u")!==-1)&&dt.push("u: "+st.uLabel),st.vLabel=J("y",ot.traceCoordinate[4],z.vhoverformat),(ut||G.indexOf("v")!==-1)&&dt.push("v: "+st.vLabel),st.wLabel=J("z",ot.traceCoordinate[5],z.whoverformat),(ut||G.indexOf("w")!==-1)&&dt.push("w: "+st.wLabel),st.normLabel=ot.traceCoordinate[6].toPrecision(3),(ut||G.indexOf("norm")!==-1)&&dt.push("norm: "+st.normLabel),z.type==="streamtube"&&(st.divergenceLabel=ot.traceCoordinate[7].toPrecision(3),(ut||G.indexOf("divergence")!==-1)&&dt.push("divergence: "+st.divergenceLabel)),ot.textLabel&&dt.push(ot.textLabel),at=dt.join("<br>")):z.type==="isosurface"||z.type==="volume"?(st.valueLabel=e.hoverLabelText(O._mockAxis,O._mockAxis.d2l(ot.traceCoordinate[3]),z.valuehoverformat),dt.push("value: "+st.valueLabel),ot.textLabel&&dt.push(ot.textLabel),at=dt.join("<br>")):at=ot.textLabel;var gt={x:ot.traceCoordinate[0],y:ot.traceCoordinate[1],z:ot.traceCoordinate[2],data:Z._input,fullData:Z,curveNumber:Z.index,pointNumber:tt};s.appendArrayPointValue(gt,Z,tt),z._module.eventData&&(gt=Z._module.eventData(gt,ot,Z,{},tt));var wt={points:[gt]};if(O.fullSceneLayout.hovermode){var kt=[];s.loneHover({trace:Z,x:(.5+.5*it[0]/it[3])*W,y:(.5-.5*it[1]/it[3])*K,xLabel:st.xLabel,yLabel:st.yLabel,zLabel:st.zLabel,text:at,name:lt.name,color:s.castHoverOption(Z,tt,"bgcolor")||lt.color,borderColor:s.castHoverOption(Z,tt,"bordercolor"),fontFamily:s.castHoverOption(Z,tt,"font.family"),fontSize:s.castHoverOption(Z,tt,"font.size"),fontColor:s.castHoverOption(Z,tt,"font.color"),nameLength:s.castHoverOption(Z,tt,"namelength"),textAlign:s.castHoverOption(Z,tt,"align"),hovertemplate:v.castOption(Z,tt,"hovertemplate"),hovertemplateLabels:v.extendFlat({},gt,st),eventData:[gt]},{container:F,gd:N,inOut_bbox:kt}),gt.bbox=kt[0]}ot.distance<5&&(ot.buttons||p)?N.emit("plotly_click",wt):N.emit("plotly_hover",wt),this.oldEventData=wt}else s.loneUnhover(F),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;O.drawAnnotations(O)},S.recoverContext=function(){var O=this;O.glplot.dispose();var N=function(){if(O.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!O.initializeGLPlot()){v.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}O.plot.apply(O,O.plotArgs)};requestAnimationFrame(N)};var T=["xaxis","yaxis","zaxis"];function P(O,N,z){for(var F=O.fullSceneLayout,I=0;I<3;I++){var j=T[I],V=j.charAt(0),W=F[j],K=N[V],et=N[V+"calendar"],lt=N["_"+V+"length"];if(!v.isArrayOrTypedArray(K))z[0][I]=Math.min(z[0][I],0),z[1][I]=Math.max(z[1][I],lt-1);else for(var ot,q=0;q<(lt||K.length);q++)if(v.isArrayOrTypedArray(K[q]))for(var J=0;J<K[q].length;++J)ot=W.d2l(K[q][J],0,et),!isNaN(ot)&&isFinite(ot)&&(z[0][I]=Math.min(z[0][I],ot),z[1][I]=Math.max(z[1][I],ot));else ot=W.d2l(K[q],0,et),!isNaN(ot)&&isFinite(ot)&&(z[0][I]=Math.min(z[0][I],ot),z[1][I]=Math.max(z[1][I],ot))}}function u(O,N){for(var z=O.fullSceneLayout,F=z.annotations||[],I=0;I<3;I++)for(var j=T[I],V=j.charAt(0),W=z[j],K=0;K<F.length;K++){var et=F[K];if(et.visible){var lt=W.r2l(et[V]);!isNaN(lt)&&isFinite(lt)&&(N[0][I]=Math.min(N[0][I],lt),N[1][I]=Math.max(N[1][I],lt))}}}S.plot=function(O,N,z){var F=this;if(F.plotArgs=[O,N,z],!F.glplot.contextLost){var I,j,V,W,K,et,lt=N[F.id],ot=z[F.id];F.fullLayout=N,F.fullSceneLayout=lt,F.axesOptions.merge(N,lt),F.spikeOptions.merge(lt),F.setViewport(lt),F.updateFx(lt.dragmode,lt.hovermode),F.camera.enableWheel=F.graphDiv._context._scrollZoom.gl3d,F.glplot.setClearColor(n(lt.bgcolor)),F.setConvert(K),O?Array.isArray(O)||(O=[O]):O=[];var q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<O.length;++V)I=O[V],!(I.visible!==!0||I._length===0)&&P(this,I,q);u(this,q);var J=[1,1,1];for(W=0;W<3;++W)q[1][W]===q[0][W]?J[W]=1:J[W]=1/(q[1][W]-q[0][W]);for(F.dataScale=J,F.convertAnnotations(this),V=0;V<O.length;++V)I=O[V],!(I.visible!==!0||I._length===0)&&(j=F.traces[I.uid],j?j.data.type===I.type?j.update(I):(j.dispose(),j=I._module.plot(this,I),F.traces[I.uid]=j):(j=I._module.plot(this,I),F.traces[I.uid]=j),j.name=I.name);var it=Object.keys(F.traces);t:for(V=0;V<it.length;++V){for(W=0;W<O.length;++W)if(O[W].uid===it[V]&&O[W].visible===!0&&O[W]._length!==0)continue t;j=F.traces[it[V]],j.dispose(),delete F.traces[it[V]]}F.glplot.objects.sort(function(Yt,ue){return Yt._trace.data.index-ue._trace.data.index});var Z=[[0,0,0],[0,0,0]],tt={};for(V=0;V<3;++V){K=lt[T[V]],et=K.type,et in tt?(tt[et].acc*=J[V],tt[et].count+=1):tt[et]={acc:J[V],count:1};var st;if(K.autorange){Z[0][V]=1/0,Z[1][V]=-1/0;var Q=F.glplot.objects,G=F.fullSceneLayout.annotations||[],ut=K._name.charAt(0);for(W=0;W<Q.length;W++){var at=Q[W],dt=at.bounds,gt=at._trace.data._pad||0;at.constructor.name==="ErrorBars"&&K._lowerLogErrorBound?Z[0][V]=Math.min(Z[0][V],K._lowerLogErrorBound):Z[0][V]=Math.min(Z[0][V],dt[0][V]/J[V]-gt),Z[1][V]=Math.max(Z[1][V],dt[1][V]/J[V]+gt)}for(W=0;W<G.length;W++){var wt=G[W];if(wt.visible){var kt=K.r2l(wt[ut]);Z[0][V]=Math.min(Z[0][V],kt),Z[1][V]=Math.max(Z[1][V],kt)}}if("rangemode"in K&&K.rangemode==="tozero"&&(Z[0][V]=Math.min(Z[0][V],0),Z[1][V]=Math.max(Z[1][V],0)),Z[0][V]>Z[1][V])Z[0][V]=-1,Z[1][V]=1;else{var Ot=Z[1][V]-Z[0][V];Z[0][V]-=Ot/32,Z[1][V]+=Ot/32}if(st=[Z[0][V],Z[1][V]],st=k(st,K),Z[0][V]=st[0],Z[1][V]=st[1],K.isReversed()){var bt=Z[0][V];Z[0][V]=Z[1][V],Z[1][V]=bt}}else st=K.range,Z[0][V]=K.r2l(st[0]),Z[1][V]=K.r2l(st[1]);Z[0][V]===Z[1][V]&&(Z[0][V]-=1,Z[1][V]+=1),K.range=[Z[0][V],Z[1][V]],K.limitRange(),F.glplot.setBounds(V,{min:K.range[0]*J[V],max:K.range[1]*J[V]})}var _t,mt=lt.aspectmode;if(mt==="cube")_t=[1,1,1];else if(mt==="manual"){var Pt=lt.aspectratio;_t=[Pt.x,Pt.y,Pt.z]}else if(mt==="auto"||mt==="data"){var Rt=[1,1,1];for(V=0;V<3;++V){K=lt[T[V]],et=K.type;var Ht=tt[et];Rt[V]=Math.pow(Ht.acc,1/Ht.count)/J[V]}mt==="data"||Math.max.apply(null,Rt)/Math.min.apply(null,Rt)<=4?_t=Rt:_t=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");lt.aspectratio.x=ot.aspectratio.x=_t[0],lt.aspectratio.y=ot.aspectratio.y=_t[1],lt.aspectratio.z=ot.aspectratio.z=_t[2],F.glplot.setAspectratio(lt.aspectratio),F.viewInitial.aspectratio||(F.viewInitial.aspectratio={x:lt.aspectratio.x,y:lt.aspectratio.y,z:lt.aspectratio.z}),F.viewInitial.aspectmode||(F.viewInitial.aspectmode=lt.aspectmode);var Dt=lt.domain||null,Xt=N._size||null;if(Dt&&Xt){var se=F.container.style;se.position="absolute",se.left=Xt.l+Dt.x[0]*Xt.w+"px",se.top=Xt.t+(1-Dt.y[1])*Xt.h+"px",se.width=Xt.w*(Dt.x[1]-Dt.x[0])+"px",se.height=Xt.h*(Dt.y[1]-Dt.y[0])+"px"}F.glplot.redraw()}},S.destroy=function(){var O=this;O.glplot&&(O.camera.mouseListener.enabled=!1,O.container.removeEventListener("wheel",O.camera.wheelListener),O.camera=null,O.glplot.dispose(),O.container.parentNode.removeChild(O.container),O.glplot=null)};function g(O){return[[O.eye.x,O.eye.y,O.eye.z],[O.center.x,O.center.y,O.center.z],[O.up.x,O.up.y,O.up.z]]}function L(O){return{up:{x:O.up[0],y:O.up[1],z:O.up[2]},center:{x:O.center[0],y:O.center[1],z:O.center[2]},eye:{x:O.eye[0],y:O.eye[1],z:O.eye[2]},projection:{type:O._ortho===!0?"orthographic":"perspective"}}}S.getCamera=function(){var O=this;return O.camera.view.recalcMatrix(O.camera.view.lastT()),L(O.camera)},S.setViewport=function(O){var N=this,z=O.camera;N.camera.lookAt.apply(this,g(z)),N.glplot.setAspectratio(O.aspectratio);var F=z.projection.type==="orthographic",I=N.camera._ortho;F!==I&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},S.isCameraChanged=function(O){var N=this,z=N.getCamera(),F=v.nestedProperty(O,N.id+".camera"),I=F.get();function j(et,lt,ot,q){var J=["up","center","eye"],it=["x","y","z"];return lt[J[ot]]&&et[J[ot]][it[q]]===lt[J[ot]][it[q]]}var V=!1;if(I===void 0)V=!0;else{for(var W=0;W<3;W++)for(var K=0;K<3;K++)if(!j(z,I,W,K)){V=!0;break}(!I.projection||z.projection&&z.projection.type!==I.projection.type)&&(V=!0)}return V},S.isAspectChanged=function(O){var N=this,z=N.glplot.getAspectratio(),F=v.nestedProperty(O,N.id+".aspectratio"),I=F.get();return I===void 0||I.x!==z.x||I.y!==z.y||I.z!==z.z},S.saveLayout=function(O){var N=this,z=N.fullLayout,F,I,j,V,W,K,et=N.isCameraChanged(O),lt=N.isAspectChanged(O),ot=et||lt;if(ot){var q={};if(et&&(F=N.getCamera(),I=v.nestedProperty(O,N.id+".camera"),j=I.get(),q[N.id+".camera"]=j),lt&&(V=N.glplot.getAspectratio(),W=v.nestedProperty(O,N.id+".aspectratio"),K=W.get(),q[N.id+".aspectratio"]=K),d.call("_storeDirectGUIEdit",O,z._preGUI,q),et){I.set(F);var J=v.nestedProperty(z,N.id+".camera");J.set(F)}if(lt){W.set(V);var it=v.nestedProperty(z,N.id+".aspectratio");it.set(V),N.glplot.redraw()}}return ot},S.updateFx=function(O,N){var z=this,F=z.camera;if(F)if(O==="orbit")F.mode="orbit",F.keyBindingMode="rotate";else if(O==="turntable"){F.up=[0,0,1],F.mode="turntable",F.keyBindingMode="rotate";var I=z.graphDiv,j=I._fullLayout,V=z.fullSceneLayout.camera,W=V.up.x,K=V.up.y,et=V.up.z;if(et/Math.sqrt(W*W+K*K+et*et)<.999){var lt=z.id+".camera.up",ot={x:0,y:0,z:1},q={};q[lt]=ot;var J=I.layout;d.call("_storeDirectGUIEdit",J,j._preGUI,q),V.up=ot,v.nestedProperty(J,lt).set(ot)}}else F.keyBindingMode=O;z.fullSceneLayout.hovermode=N};function A(O,N,z){for(var F=0,I=z-1;F<I;++F,--I)for(var j=0;j<N;++j)for(var V=0;V<4;++V){var W=4*(N*F+j)+V,K=4*(N*I+j)+V,et=O[W];O[W]=O[K],O[K]=et}}function R(O,N,z){for(var F=0;F<z;++F)for(var I=0;I<N;++I){var j=4*(N*F+I),V=O[j+3];if(V>0)for(var W=255/V,K=0;K<3;++K)O[j+K]=Math.min(W*O[j+K],255)}}S.toImage=function(O){var N=this;O||(O="png"),N.staticMode&&N.container.appendChild(a),N.glplot.redraw();var z=N.glplot.gl,F=z.drawingBufferWidth,I=z.drawingBufferHeight;z.bindFramebuffer(z.FRAMEBUFFER,null);var j=new Uint8Array(F*I*4);z.readPixels(0,0,F,I,z.RGBA,z.UNSIGNED_BYTE,j),A(j,F,I),R(j,F,I);var V=document.createElement("canvas");V.width=F,V.height=I;var W=V.getContext("2d",{willReadFrequently:!0}),K=W.createImageData(F,I);K.data.set(j),W.putImageData(K,0,0);var et;switch(O){case"jpeg":et=V.toDataURL("image/jpeg");break;case"webp":et=V.toDataURL("image/webp");break;default:et=V.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(a),et},S.setConvert=function(){for(var O=this,N=0;N<3;N++){var z=O.fullSceneLayout[T[N]];e.setConvert(z,O.fullLayout),z.setScale=v.noop}},S.make4thDimension=function(){var O=this,N=O.graphDiv,z=N._fullLayout;O._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},e.setConvert(O._mockAxis,z)},X.exports=w},52094:function(X){X.exports=function(B,t,x,E){E=E||B.length;for(var i=new Array(E),M=0;M<E;M++)i[M]=[B[M],t[M],x[M]];return i}},64859:function(X,B,t){var x=t(25376),E=t(85656),i=t(22548),M=t(92872),m=t(34200),d=t(66741),v=t(92880).extendFlat,r=x({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=i.defaultLine,X.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:x({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:v(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:M.newshape,activeshape:M.activeshape,newselection:m.newselection,activeselection:m.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:v({},E.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:x({editType:"layoutstyle"})}}},47552:function(X,B,t){var x=t(95376),E="1.13.4",i='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',M=['© <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),m=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),d=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),v={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:M,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:M,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:m,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:m,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:d,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=x(v);X.exports={requiredVersion:E,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:v,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+E+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(X,B,t){var x=t(3400);X.exports=function(E,i){var M=E.split(" "),m=M[0],d=M[1],v=x.isArrayOrTypedArray(i)?x.mean(i):i,r=.5+v/100,e=1.5+v/100,s=["",""],n=[0,0];switch(m){case"top":s[0]="top",n[1]=-e;break;case"bottom":s[0]="bottom",n[1]=e;break}switch(d){case"left":s[1]="right",n[0]=-r;break;case"right":s[1]="left",n[0]=r;break}var l;return s[0]&&s[1]?l=s.join("-"):s[0]?l=s[0]:s[1]?l=s[1]:l="center",{anchor:l,offset:n}}},33688:function(X,B,t){var x=t(3480),E=t(3400),i=E.strTranslate,M=E.strScale,m=t(84888).KY,d=t(9616),v=t(33428),r=t(43616),e=t(72736),s=t(14440),n="mapbox",l=B.constants=t(47552);B.name=n,B.attr="subplot",B.idRoot=n,B.idRegex=B.attrRegex=E.counterRegex(n),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=t(5232),B.supplyLayoutDefaults=t(5976),B.plot=function(b){var f=b._fullLayout,k=b.calcdata,a=f._subplots[n];if(x.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var c=o(b,a);x.accessToken=c;for(var p=0;p<a.length;p++){var w=a[p],S=m(k,n,w),_=f[w],T=_._subplot;T||(T=new s(b,w),f[w]._subplot=T),T.viewInitial||(T.viewInitial={center:E.extendFlat({},_.center),zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),T.plot(S,f,b._promises)}},B.clean=function(b,f,k,a){for(var c=a._subplots[n]||[],p=0;p<c.length;p++){var w=c[p];!f[w]&&a[w]._subplot&&a[w]._subplot.destroy()}},B.toSVG=function(b){for(var f=b._fullLayout,k=f._subplots[n],a=f._size,c=0;c<k.length;c++){var p=f[k[c]],w=p.domain,S=p._subplot,_=S.toImage("png"),T=f._glimages.append("svg:image");T.attr({xmlns:d.svg,"xlink:href":_,x:a.l+a.w*w.x[0],y:a.t+a.h*(1-w.y[1]),width:a.w*(w.x[1]-w.x[0]),height:a.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var P=v.select(p._subplot.div),u=P.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!u){var g=f._glimages.append("g");g.attr("transform",i(a.l+a.w*w.x[0]+10,a.t+a.h*(1-w.y[0])-31)),g.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),g.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),g.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),g.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var L=P.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),A=f._glimages.append("g"),R=A.append("text");R.text(L).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":L});var O=r.bBox(R.node()),N=a.w*(w.x[1]-w.x[0]);if(O.width>N/2){var z=L.split("|").join("<br>");R.text(z).attr("data-unformatted",z).call(e.convertToTspans,b),O=r.bBox(R.node())}R.attr("transform",i(-3,-O.height+8)),A.insert("rect",".static-attribution").attr({x:-O.width-6,y:-O.height-3,width:O.width+6,height:O.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;O.width+6>N&&(F=N/(O.width+6));var I=[a.l+a.w*w.x[1],a.t+a.h*(1-w.y[0])];A.attr("transform",i(I[0],I[1])+M(F))}};function o(b,f){var k=b._fullLayout,a=b._context;if(a.mapboxAccessToken==="")return"";for(var c=[],p=[],w=!1,S=!1,_=0;_<f.length;_++){var T=k[f[_]],P=T.accesstoken;h(T.style)&&(P?E.pushUnique(c,P):(h(T._input.style)&&(E.error("Uses Mapbox map style, but did not set an access token."),w=!0),S=!0)),P&&E.pushUnique(p,P)}if(S){var u=w?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw E.error(u),new Error(u)}return c.length?(c.length>1&&E.warn(l.multipleTokensErrorMsg),c[0]):(p.length&&E.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function h(b){return typeof b=="string"&&(l.styleValuesMapbox.indexOf(b)!==-1||b.indexOf("mapbox://")===0||b.indexOf("stamen")===0)}B.updateFx=function(b){for(var f=b._fullLayout,k=f._subplots[n],a=0;a<k.length;a++){var c=f[k[a]]._subplot;c.updateFx(f)}}},22360:function(X,B,t){var x=t(3400),E=t(72736).sanitizeHTML,i=t(89032),M=t(47552);function m(s,n){this.subplot=s,this.uid=s.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=M.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var d=m.prototype;d.update=function(s){this.visible?this.needsNewImage(s)?this.updateImage(s):this.needsNewSource(s)?(this.removeLayer(),this.updateSource(s),this.updateLayer(s)):this.needsNewLayer(s)?this.updateLayer(s):this.updateStyle(s):(this.updateSource(s),this.updateLayer(s)),this.visible=v(s)},d.needsNewImage=function(s){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},d.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},d.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},d.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},d.updateImage=function(s){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var l=this.findFollowingMapboxLayerId(this.lookupBelow());l!==null&&this.subplot.map.moveLayer(this.idLayer,l)},d.updateSource=function(s){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!v(s)){var l=e(s);n.addSource(this.idSource,l)}},d.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var n=this.subplot.getMapLayers(),l=0;l<n.length;l++){var o=n[l].id;if(typeof o=="string"&&o.indexOf(M.traceLayerPrefix)===0){s=o;break}}return s},d.updateLayer=function(s){var n=this.subplot,l=r(s),o=this.lookupBelow(),h=this.findFollowingMapboxLayerId(o);this.removeLayer(),v(s)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:l.layout,paint:l.paint},h),this.layerType=s.type,this.below=o},d.updateStyle=function(s){if(v(s)){var n=r(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},d.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},d.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function v(s){if(!s.visible)return!1;var n=s.source;if(Array.isArray(n)&&n.length>0){for(var l=0;l<n.length;l++)if(typeof n[l]!="string"||n[l].length===0)return!1;return!0}return x.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(s){var n={},l={};switch(s.type){case"circle":x.extendFlat(l,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":x.extendFlat(l,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":x.extendFlat(l,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var o=s.symbol,h=i(o.textposition,o.iconsize);x.extendFlat(n,{"icon-image":o.icon+"-15","icon-size":o.iconsize/10,"text-field":o.text,"text-size":o.textfont.size,"text-anchor":h.anchor,"text-offset":h.offset,"symbol-placement":o.placement}),x.extendFlat(l,{"icon-color":s.color,"text-color":o.textfont.color,"text-opacity":s.opacity});break;case"raster":x.extendFlat(l,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:n,paint:l}}function e(s){var n=s.sourcetype,l=s.source,o={type:n},h;return n==="geojson"?h="data":n==="vector"?h=typeof l=="string"?"url":"tiles":n==="raster"?(h="tiles",o.tileSize=256):n==="image"&&(h="url",o.coordinates=s.coordinates),o[h]=l,s.sourceattribution&&(o.attribution=E(s.sourceattribution)),o}X.exports=function(s,n,l){var o=new m(s,n);return o.update(l),o}},5232:function(X,B,t){var x=t(3400),E=t(76308).defaultLine,i=t(86968).u,M=t(25376),m=t(52904).textposition,d=t(67824).overrideAll,v=t(31780).templatedArray,r=t(47552),e=M({});e.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=X.exports=d({_arrayAttrRegexps:[x.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:v("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:E},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:E}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:e,textposition:x.extendFlat({},m,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},5976:function(X,B,t){var x=t(3400),E=t(168),i=t(51272),M=t(5232);X.exports=function(v,r,e){E(v,r,e,{type:"mapbox",attributes:M,handleDefaults:m,partition:"y",accessToken:r._mapboxAccessToken})};function m(v,r,e,s){e("accesstoken",s.accessToken),e("style"),e("center.lon"),e("center.lat"),e("zoom"),e("bearing"),e("pitch");var n=e("bounds.west"),l=e("bounds.east"),o=e("bounds.south"),h=e("bounds.north");(n===void 0||l===void 0||o===void 0||h===void 0)&&delete r.bounds,i(v,r,{name:"layers",handleItemDefaults:d}),r._input=v}function d(v,r){function e(b,f){return x.coerce(v,r,M.layers,b,f)}var s=e("visible");if(s){var n=e("sourcetype"),l=n==="raster"||n==="image";e("source"),e("sourceattribution"),n==="vector"&&e("sourcelayer"),n==="image"&&e("coordinates");var o;l&&(o="raster");var h=e("type",o);l&&h!=="raster"&&(h=r.type="raster",x.log("Source types *raster* and *image* must drawn *raster* layer type.")),e("below"),e("color"),e("opacity"),e("minzoom"),e("maxzoom"),h==="circle"&&e("circle.radius"),h==="line"&&(e("line.width"),e("line.dash")),h==="fill"&&e("fill.outlinecolor"),h==="symbol"&&(e("symbol.icon"),e("symbol.iconsize"),e("symbol.text"),x.coerceFont(e,"symbol.textfont"),e("symbol.textposition"),e("symbol.placement"))}}},14440:function(X,B,t){var x=t(3480),E=t(3400),i=t(27144),M=t(24040),m=t(54460),d=t(86476),v=t(93024),r=t(72760),e=r.drawMode,s=r.selectMode,n=t(22676).prepSelect,l=t(22676).clearOutline,o=t(22676).clearSelectionsCache,h=t(22676).selectOnClick,b=t(47552),f=t(22360);function k(_,T){this.id=T,this.gd=_;var P=_._fullLayout,u=_._context;this.container=P._glcontainer.node(),this.isStatic=u.staticPlot,this.uid=P._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(P),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var a=k.prototype;a.plot=function(_,T,P){var u=this,g=T[u.id];u.map&&g.accesstoken!==u.accessToken&&(u.map.remove(),u.map=null,u.styleObj=null,u.traceHash={},u.layerList=[]);var L;u.map?L=new Promise(function(A,R){u.updateMap(_,T,A,R)}):L=new Promise(function(A,R){u.createMap(_,T,A,R)}),P.push(L)},a.createMap=function(_,T,P,u){var g=this,L=T[g.id],A=g.styleObj=p(L.style,T);g.accessToken=L.accesstoken;var R=L.bounds,O=R?[[R.west,R.south],[R.east,R.north]]:null,N=g.map=new x.Map({container:g.div,style:A.style,center:S(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:O,interactive:!g.isStatic,preserveDrawingBuffer:g.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new x.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",g.rejectOnError(u),g.isStatic||g.initFx(_,T);var z=[];z.push(new Promise(function(F){N.once("load",F)})),z=z.concat(i.fetchTraceGeoData(_)),Promise.all(z).then(function(){g.fillBelowLookup(_,T),g.updateData(_),g.updateLayout(T),g.resolveOnRender(P)}).catch(u)},a.updateMap=function(_,T,P,u){var g=this,L=g.map,A=T[this.id];g.rejectOnError(u);var R=[],O=p(A.style,T);JSON.stringify(g.styleObj)!==JSON.stringify(O)&&(g.styleObj=O,L.setStyle(O.style),g.traceHash={},R.push(new Promise(function(N){L.once("styledata",N)}))),R=R.concat(i.fetchTraceGeoData(_)),Promise.all(R).then(function(){g.fillBelowLookup(_,T),g.updateData(_),g.updateLayout(T),g.resolveOnRender(P)}).catch(u)},a.fillBelowLookup=function(_,T){var P=T[this.id],u=P.layers,g,L,A=this.belowLookup={},R=!1;for(g=0;g<_.length;g++){var O=_[g][0].trace,N=O._module;typeof O.below=="string"?L=O.below:N.getBelow&&(L=N.getBelow(O,this)),L===""&&(R=!0),A["trace-"+O.uid]=L||""}for(g=0;g<u.length;g++){var z=u[g];typeof z.below=="string"?L=z.below:R?L="traces":L="",A["layout-"+g]=L}var F={},I,j;for(I in A)L=A[I],F[L]?F[L].push(I):F[L]=[I];for(L in F){var V=F[L];if(V.length>1)for(g=0;g<V.length;g++)I=V[g],I.indexOf("trace-")===0?(j=I.split("trace-")[1],this.traceHash[j]&&(this.traceHash[j].below=null)):I.indexOf("layout-")===0&&(j=I.split("layout-")[1],this.layerList[j]&&(this.layerList[j].below=null))}};var c={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};a.updateData=function(_){var T=this.traceHash,P,u,g,L,A=_.slice().sort(function(F,I){return c[F[0].trace.type]-c[I[0].trace.type]});for(g=0;g<A.length;g++){var R=A[g];u=R[0].trace,P=T[u.uid];var O=!1;P&&(P.type===u.type?(P.update(R),O=!0):P.dispose()),!O&&u._module&&(T[u.uid]=u._module.plot(this,R))}var N=Object.keys(T);t:for(g=0;g<N.length;g++){var z=N[g];for(L=0;L<_.length;L++)if(u=_[L][0].trace,z===u.uid)continue t;P=T[z],P.dispose(),delete T[z]}},a.updateLayout=function(_){var T=this.map,P=_[this.id];!this.dragging&&!this.wheeling&&(T.setCenter(S(P.center)),T.setZoom(P.zoom),T.setBearing(P.bearing),T.setPitch(P.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?T.scrollZoom.enable():T.scrollZoom.disable()},a.resolveOnRender=function(_){var T=this.map;T.on("render",function P(){T.loaded()&&(T.off("render",P),setTimeout(_,10))})},a.rejectOnError=function(_){var T=this.map;function P(){_(new Error(b.mapOnErrorMsg))}T.once("error",P),T.once("style.error",P),T.once("source.error",P),T.once("tile.error",P),T.once("layer.error",P)},a.createFramework=function(_){var T=this,P=T.div=document.createElement("div");P.id=T.uid,P.style.position="absolute",T.container.appendChild(P),T.xaxis={_id:"x",c2p:function(u){return T.project(u).x}},T.yaxis={_id:"y",c2p:function(u){return T.project(u).y}},T.updateFramework(_),T.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},m.setConvert(T.mockAxis,_)},a.initFx=function(_,T){var P=this,u=P.gd,g=P.map;g.on("moveend",function(R){if(P.map){var O=u._fullLayout;if(R.originalEvent||P.wheeling){var N=O[P.id];M.call("_storeDirectGUIEdit",u.layout,O._preGUI,P.getViewEdits(N));var z=P.getView();N._input.center=N.center=z.center,N._input.zoom=N.zoom=z.zoom,N._input.bearing=N.bearing=z.bearing,N._input.pitch=N.pitch=z.pitch,u.emit("plotly_relayout",P.getViewEditsWithDerived(z))}R.originalEvent&&R.originalEvent.type==="mouseup"?P.dragging=!1:P.wheeling&&(P.wheeling=!1),O._rehover&&O._rehover()}}),g.on("wheel",function(){P.wheeling=!0}),g.on("mousemove",function(R){var O=P.div.getBoundingClientRect(),N=[R.originalEvent.offsetX,R.originalEvent.offsetY];R.target.getBoundingClientRect=function(){return O},P.xaxis.p2c=function(){return g.unproject(N).lng},P.yaxis.p2c=function(){return g.unproject(N).lat},u._fullLayout._rehover=function(){u._fullLayout._hoversubplot===P.id&&u._fullLayout[P.id]&&v.hover(u,R,P.id)},v.hover(u,R,P.id),u._fullLayout._hoversubplot=P.id});function L(){v.loneUnhover(T._hoverlayer)}g.on("dragstart",function(){P.dragging=!0,L()}),g.on("zoomstart",L),g.on("mouseout",function(){u._fullLayout._hoversubplot=null});function A(){var R=P.getView();u.emit("plotly_relayouting",P.getViewEditsWithDerived(R))}g.on("drag",A),g.on("zoom",A),g.on("dblclick",function(){var R=u._fullLayout[P.id];M.call("_storeDirectGUIEdit",u.layout,u._fullLayout._preGUI,P.getViewEdits(R));var O=P.viewInitial;g.setCenter(S(O.center)),g.setZoom(O.zoom),g.setBearing(O.bearing),g.setPitch(O.pitch);var N=P.getView();R._input.center=R.center=N.center,R._input.zoom=R.zoom=N.zoom,R._input.bearing=R.bearing=N.bearing,R._input.pitch=R.pitch=N.pitch,u.emit("plotly_doubleclick",null),u.emit("plotly_relayout",P.getViewEditsWithDerived(N))}),P.clearOutline=function(){o(P.dragOptions),l(P.dragOptions.gd)},P.onClickInPanFn=function(R){return function(O){var N=u._fullLayout.clickmode;N.indexOf("select")>-1&&h(O.originalEvent,u,[P.xaxis],[P.yaxis],P.id,R),N.indexOf("event")>-1&&v.click(u,O.originalEvent)}}},a.updateFx=function(_){var T=this,P=T.map,u=T.gd;if(T.isStatic)return;function g(O){var N=T.map.unproject(O);return[N.lng,N.lat]}var L=_.dragmode,A;A=function(O,N){if(N.isRect){var z=O.range={};z[T.id]=[g([N.xmin,N.ymin]),g([N.xmax,N.ymax])]}else{var F=O.lassoPoints={};F[T.id]=N.map(g)}};var R=T.dragOptions;T.dragOptions=E.extendDeep(R||{},{dragmode:_.dragmode,element:T.div,gd:u,plotinfo:{id:T.id,domain:_[T.id].domain,xaxis:T.xaxis,yaxis:T.yaxis,fillRangeItems:A},xaxes:[T.xaxis],yaxes:[T.yaxis],subplot:T.id}),P.off("click",T.onClickInPanHandler),s(L)||e(L)?(P.dragPan.disable(),P.on("zoomstart",T.clearOutline),T.dragOptions.prepFn=function(O,N,z){n(O,N,z,T.dragOptions,L)},d.init(T.dragOptions)):(P.dragPan.enable(),P.off("zoomstart",T.clearOutline),T.div.onmousedown=null,T.div.ontouchstart=null,T.div.removeEventListener("touchstart",T.div._ontouchstart),T.onClickInPanHandler=T.onClickInPanFn(T.dragOptions),P.on("click",T.onClickInPanHandler))},a.updateFramework=function(_){var T=_[this.id].domain,P=_._size,u=this.div.style;u.width=P.w*(T.x[1]-T.x[0])+"px",u.height=P.h*(T.y[1]-T.y[0])+"px",u.left=P.l+T.x[0]*P.w+"px",u.top=P.t+(1-T.y[1])*P.h+"px",this.xaxis._offset=P.l+T.x[0]*P.w,this.xaxis._length=P.w*(T.x[1]-T.x[0]),this.yaxis._offset=P.t+(1-T.y[1])*P.h,this.yaxis._length=P.h*(T.y[1]-T.y[0])},a.updateLayers=function(_){var T=_[this.id],P=T.layers,u=this.layerList,g;if(P.length!==u.length){for(g=0;g<u.length;g++)u[g].dispose();for(u=this.layerList=[],g=0;g<P.length;g++)u.push(f(this,g,P[g]))}else for(g=0;g<P.length;g++)u[g].update(P[g])},a.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},a.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},a.setOptions=function(_,T,P){for(var u in P)this.map[T](_,u,P[u])},a.getMapLayers=function(){return this.map.getStyle().layers},a.addLayer=function(_,T){var P=this.map;if(typeof T=="string"){if(T===""){P.addLayer(_,T);return}for(var u=this.getMapLayers(),g=0;g<u.length;g++)if(T===u[g].id){P.addLayer(_,T);return}E.warn(["Trying to add layer with *below* value",T,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}P.addLayer(_)},a.project=function(_){return this.map.project(new x.LngLat(_[0],_[1]))},a.getView=function(){var _=this.map,T=_.getCenter(),P=T.lng,u=T.lat,g={lon:P,lat:u},L=_.getCanvas(),A=parseInt(L.style.width),R=parseInt(L.style.height);return{center:g,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([A,0]).toArray(),_.unproject([A,R]).toArray(),_.unproject([0,R]).toArray()]}}},a.getViewEdits=function(_){for(var T=this.id,P=["center","zoom","bearing","pitch"],u={},g=0;g<P.length;g++){var L=P[g];u[T+"."+L]=_[L]}return u},a.getViewEditsWithDerived=function(_){var T=this.id,P=this.getViewEdits(_);return P[T+"._derived"]=_._derived,P};function p(_,T){var P={};if(E.isPlainObject(_))P.id=_.id,P.style=_;else if(typeof _=="string")if(P.id=_,b.styleValuesMapbox.indexOf(_)!==-1)P.style=w(_);else if(b.stylesNonMapbox[_]){P.style=b.stylesNonMapbox[_];var u=P.style.sources["plotly-"+_],g=u?u.tiles:void 0;g&&g[0]&&g[0].slice(-9)==="?api_key="&&(g[0]+=T._mapboxAccessToken)}else P.style=_;else P.id=b.styleValueDflt,P.style=w(b.styleValueDflt);return P.transition={duration:0,delay:0},P}function w(_){return b.styleUrlPrefix+_+"-"+b.styleUrlSuffix}function S(_){return[_.lon,_.lat]}X.exports=k},66741:function(X){X.exports=function(B){var t=B.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},7316:function(X,B,t){var x=t(33428),E=t(94336).m_,i=t(57624).SO,M=t(38248),m=t(83160),d=t(24040),v=t(73060),r=t(31780),e=t(3400),s=t(76308),n=t(39032).BADNUM,l=t(79811),o=t(1936).clearOutline,h=t(55308),b=t(85656),f=t(16672),k=t(84888)._M,a=e.relinkPrivateKeys,c=e._,p=X.exports={};e.extendFlat(p,d),p.attributes=t(45464),p.attributes.type.values=p.allTypes,p.fontAttrs=t(25376),p.layoutAttributes=t(64859),p.fontWeight="normal";var w=p.transformsRegistry,S=t(62460);p.executeAPICommand=S.executeAPICommand,p.computeAPICommandBindings=S.computeAPICommandBindings,p.manageCommandObserver=S.manageCommandObserver,p.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,p.redrawText=function(Z){return Z=e.getGraphDiv(Z),new Promise(function(tt){setTimeout(function(){Z._fullLayout&&(d.getComponentMethod("annotations","draw")(Z),d.getComponentMethod("legend","draw")(Z),d.getComponentMethod("colorbar","draw")(Z),tt(p.previousPromises(Z)))},300)})},p.resize=function(Z){Z=e.getGraphDiv(Z);var tt,st=new Promise(function(Q,G){(!Z||e.isHidden(Z))&&G(new Error("Resize must be passed a displayed plot div element.")),Z._redrawTimer&&clearTimeout(Z._redrawTimer),Z._resolveResize&&(tt=Z._resolveResize),Z._resolveResize=Q,Z._redrawTimer=setTimeout(function(){if(!Z.layout||Z.layout.width&&Z.layout.height||e.isHidden(Z)){Q(Z);return}delete Z.layout.width,delete Z.layout.height;var ut=Z.changed;Z.autoplay=!0,d.call("relayout",Z,{autosize:!0}).then(function(){Z.changed=ut,Z._resolveResize===Q&&(delete Z._resolveResize,Q(Z))})},100)});return tt&&tt(st),st},p.previousPromises=function(Z){if((Z._promises||[]).length)return Promise.all(Z._promises).then(function(){Z._promises=[]})},p.addLinks=function(Z){if(!(!Z._context.showLink&&!Z._context.showSources)){var tt=Z._fullLayout,st=e.ensureSingle(tt._paper,"text","js-plot-link-container",function(gt){gt.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var wt=x.select(this);wt.append("tspan").classed("js-link-to-tool",!0),wt.append("tspan").classed("js-link-spacer",!0),wt.append("tspan").classed("js-sourcelinks",!0)})}),Q=st.node(),G={y:tt._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=tt.width-20?(G["text-anchor"]="start",G.x=5):(G["text-anchor"]="end",G.x=tt._paper.attr("width")-7),st.attr(G);var ut=st.select(".js-link-to-tool"),at=st.select(".js-link-spacer"),dt=st.select(".js-sourcelinks");Z._context.showSources&&Z._context.showSources(Z),Z._context.showLink&&_(Z,ut),at.text(ut.text()&&dt.text()?" - ":"")}};function _(Z,tt){tt.text("");var st=tt.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Z._context.linkText+" »");if(Z._context.sendData)st.on("click",function(){p.sendDataToCloud(Z)});else{var Q=window.location.pathname.split("/"),G=window.location.search;st.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Q[2].split(".")[0]+"/"+Q[1]+G})}}p.sendDataToCloud=function(Z){var tt=(window.PLOTLYENV||{}).BASE_URL||Z._context.plotlyServerURL;if(tt){Z.emit("plotly_beforeexport");var st=x.select(Z).append("div").attr("id","hiddenform").style("display","none"),Q=st.append("form").attr({action:tt+"/external",method:"post",target:"_blank"}),G=Q.append("input").attr({type:"text",name:"data"});return G.node().value=p.graphJson(Z,!1,"keepdata"),Q.node().submit(),st.remove(),Z.emit("plotly_afterexport"),!1}};var T=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(Z,tt){var st=tt&&tt.skipUpdateCalc,Q=Z._fullLayout||{};if(Q._skipDefaults){delete Q._skipDefaults;return}var G=Z._fullLayout={},ut=Z.layout||{},at=Z._fullData||[],dt=Z._fullData=[],gt=Z.data||[],wt=Z.calcdata||[],kt=Z._context||{},Ot;Z._transitionData||p.createTransitionData(Z),G._dfltTitle={plot:c(Z,"Click to enter Plot title"),x:c(Z,"Click to enter X axis title"),y:c(Z,"Click to enter Y axis title"),colorbar:c(Z,"Click to enter Colorscale title"),annotation:c(Z,"new text")},G._traceWord=c(Z,"trace");var bt=L(Z,T);if(G._mapboxAccessToken=kt.mapboxAccessToken,Q._initialAutoSizeIsDone){var _t=Q.width,mt=Q.height;p.supplyLayoutGlobalDefaults(ut,G,bt),ut.width||(G.width=_t),ut.height||(G.height=mt),p.sanitizeMargins(G)}else{p.supplyLayoutGlobalDefaults(ut,G,bt);var Pt=!ut.width||!ut.height,Rt=G.autosize,Ht=kt.autosizable,Dt=Pt&&(Rt||Ht);Dt?p.plotAutoSize(Z,ut,G):Pt&&p.sanitizeMargins(G),!Rt&&Pt&&(ut.width=G.width,ut.height=G.height)}G._d3locale=A(bt,G.separators),G._extraFormat=L(Z,P),G._initialAutoSizeIsDone=!0,G._dataLength=gt.length,G._modules=[],G._visibleModules=[],G._basePlotModules=[];var Xt=G._subplots=g(),se=G._splomAxes={x:{},y:{}},Yt=G._splomSubplots={};G._splomGridDflt={},G._scatterStackOpts={},G._firstScatter={},G._alignmentOpts={},G._colorAxes={},G._requestRangeslider={},G._traceUids=u(at,gt),G._globalTransforms=(Z._context||{}).globalTransforms,p.supplyDataDefaults(gt,dt,ut,G);var ue=Object.keys(se.x),ie=Object.keys(se.y);if(ue.length>1&&ie.length>1){for(d.getComponentMethod("grid","sizeDefaults")(ut,G),Ot=0;Ot<ue.length;Ot++)e.pushUnique(Xt.xaxis,ue[Ot]);for(Ot=0;Ot<ie.length;Ot++)e.pushUnique(Xt.yaxis,ie[Ot]);for(var fe in Yt)e.pushUnique(Xt.cartesian,fe)}if(G._has=p._hasPlotType.bind(G),at.length===dt.length)for(Ot=0;Ot<dt.length;Ot++)a(dt[Ot],at[Ot]);p.supplyLayoutModuleDefaults(ut,G,dt,Z._transitionData);var ce=G._visibleModules,ye=[];for(Ot=0;Ot<ce.length;Ot++){var de=ce[Ot].crossTraceDefaults;de&&e.pushUnique(ye,de)}for(Ot=0;Ot<ye.length;Ot++)ye[Ot](dt,G);G._hasOnlyLargeSploms=G._basePlotModules.length===1&&G._basePlotModules[0].name==="splom"&&ue.length>15&&ie.length>15&&G.shapes.length===0&&G.images.length===0,p.linkSubplots(dt,G,at,Q),p.cleanPlot(dt,G,at,Q);var Te=!!(Q._has&&Q._has("gl2d")),Et=!!(G._has&&G._has("gl2d")),Vt=!!(Q._has&&Q._has("cartesian")),te=!!(G._has&&G._has("cartesian")),Jt=Vt||Te,Ut=te||Et;Jt&&!Ut?Q._bgLayer.remove():Ut&&!Jt&&(G._shouldCreateBgLayer=!0),Q._zoomlayer&&!Z._dragging&&o({_fullLayout:Q}),R(dt,G),a(G,Q),d.getComponentMethod("colorscale","crossTraceDefaults")(dt,G),G._preGUI||(G._preGUI={}),G._tracePreGUI||(G._tracePreGUI={});var It=G._tracePreGUI,pt={},xt;for(xt in It)pt[xt]="old";for(Ot=0;Ot<dt.length;Ot++)xt=dt[Ot]._fullInput.uid,pt[xt]||(It[xt]={}),pt[xt]="new";for(xt in pt)pt[xt]==="old"&&delete It[xt];I(G),d.getComponentMethod("rangeslider","makeData")(G),!st&&wt.length===dt.length&&p.supplyDefaultsUpdateCalc(wt,dt)},p.supplyDefaultsUpdateCalc=function(Z,tt){for(var st=0;st<tt.length;st++){var Q=tt[st],G=(Z[st]||[])[0];if(G&&G.trace){var ut=G.trace;if(ut._hasCalcTransform){var at=ut._arrayAttrs,dt,gt,wt;for(dt=0;dt<at.length;dt++)gt=at[dt],wt=e.nestedProperty(ut,gt).get().slice(),e.nestedProperty(Q,gt).set(wt)}G.trace=Q}}};function u(Z,tt){var st=tt.length,Q=[],G,ut;for(G=0;G<Z.length;G++){var at=Z[G]._fullInput;at!==ut&&Q.push(at),ut=at}var dt=Q.length,gt=new Array(st),wt={};function kt(_t,mt){gt[mt]=_t,wt[_t]=1}function Ot(_t,mt){if(_t&&typeof _t=="string"&&!wt[_t])return kt(_t,mt),!0}for(G=0;G<st;G++){var bt=tt[G].uid;typeof bt=="number"&&(bt=String(bt)),!Ot(bt,G)&&(G<dt&&Ot(Q[G].uid,G)||kt(e.randstr(wt),G))}return gt}function g(){var Z=d.collectableSubplotTypes,tt={},st,Q;if(!Z){Z=[];var G=d.subplotsRegistry;for(var ut in G){var at=G[ut],dt=at.attr;if(dt&&(Z.push(ut),Array.isArray(dt)))for(Q=0;Q<dt.length;Q++)e.pushUnique(Z,dt[Q])}}for(st=0;st<Z.length;st++)tt[Z[st]]=[];return tt}function L(Z,tt){var st=Z._context.locale;st||(st="en-US");var Q=!1,G={};function ut(Ot){for(var bt=!0,_t=0;_t<tt.length;_t++){var mt=tt[_t];G[mt]||(Ot[mt]?G[mt]=Ot[mt]:bt=!1)}bt&&(Q=!0)}for(var at=0;at<2;at++){for(var dt=Z._context.locales,gt=0;gt<2;gt++){var wt=(dt[st]||{}).format;if(wt&&(ut(wt),Q))break;dt=d.localeRegistry}var kt=st.split("-")[0];if(Q||kt===st)break;st=kt}return Q||ut(d.localeRegistry.en.format),G}function A(Z,tt){return Z.decimal=tt.charAt(0),Z.thousands=tt.charAt(1),{numberFormat:function(st){try{st=i(Z).format(e.adjustFormat(st))}catch{return e.warnBadFormat(st),e.noFormat}return st},timeFormat:E(Z).utcFormat}}function R(Z,tt){var st,Q=[];tt.meta&&(st=tt._meta={meta:tt.meta,layout:{meta:tt.meta}});for(var G=0;G<Z.length;G++){var ut=Z[G];ut.meta?Q[ut.index]=ut._meta={meta:ut.meta}:tt.meta&&(ut._meta={meta:tt.meta}),tt.meta&&(ut._meta.layout={meta:tt.meta})}Q.length&&(st||(st=tt._meta={}),st.data=Q)}p.createTransitionData=function(Z){Z._transitionData||(Z._transitionData={}),Z._transitionData._frames||(Z._transitionData._frames=[]),Z._transitionData._frameHash||(Z._transitionData._frameHash={}),Z._transitionData._counter||(Z._transitionData._counter=0),Z._transitionData._interruptCallbacks||(Z._transitionData._interruptCallbacks=[])},p._hasPlotType=function(Z){var tt,st=this._basePlotModules||[];for(tt=0;tt<st.length;tt++)if(st[tt].name===Z)return!0;var Q=this._modules||[];for(tt=0;tt<Q.length;tt++){var G=Q[tt].name;if(G===Z)return!0;var ut=d.modules[G];if(ut&&ut.categories[Z])return!0}return!1},p.cleanPlot=function(Z,tt,st,Q){var G,ut,at=Q._basePlotModules||[];for(G=0;G<at.length;G++){var dt=at[G];dt.clean&&dt.clean(Z,tt,st,Q)}var gt=Q._has&&Q._has("gl"),wt=tt._has&&tt._has("gl");gt&&!wt&&Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var kt=!!Q._infolayer;t:for(G=0;G<st.length;G++){var Ot=st[G],bt=Ot.uid;for(ut=0;ut<Z.length;ut++){var _t=Z[ut];if(bt===_t.uid)continue t}kt&&Q._infolayer.select(".cb"+bt).remove()}},p.linkSubplots=function(Z,tt,st,Q){var G,ut,at=Q._plots||{},dt=tt._plots={},gt=tt._subplots,wt={_fullData:Z,_fullLayout:tt},kt=gt.cartesian.concat(gt.gl2d||[]);for(G=0;G<kt.length;G++){var Ot=kt[G],bt=at[Ot],_t=l.getFromId(wt,Ot,"x"),mt=l.getFromId(wt,Ot,"y"),Pt;for(bt?Pt=dt[Ot]=bt:(Pt=dt[Ot]={},Pt.id=Ot),_t._counterAxes.push(mt._id),mt._counterAxes.push(_t._id),_t._subplotsWith.push(Ot),mt._subplotsWith.push(Ot),Pt.xaxis=_t,Pt.yaxis=mt,Pt._hasClipOnAxisFalse=!1,ut=0;ut<Z.length;ut++){var Rt=Z[ut];if(Rt.xaxis===Pt.xaxis._id&&Rt.yaxis===Pt.yaxis._id&&Rt.cliponaxis===!1){Pt._hasClipOnAxisFalse=!0;break}}}var Ht=l.list(wt,null,!0),Dt;for(G=0;G<Ht.length;G++){Dt=Ht[G];var Xt=null;Dt.overlaying&&(Xt=l.getFromId(wt,Dt.overlaying),Xt&&Xt.overlaying&&(Dt.overlaying=!1,Xt=null)),Dt._mainAxis=Xt||Dt,Xt&&(Dt.domain=Xt.domain.slice()),Dt._anchorAxis=Dt.anchor==="free"?null:l.getFromId(wt,Dt.anchor)}for(G=0;G<Ht.length;G++)if(Dt=Ht[G],Dt._counterAxes.sort(l.idSort),Dt._subplotsWith.sort(e.subplotSort),Dt._mainSubplot=O(Dt,tt),Dt._counterAxes.length&&(Dt.spikemode&&Dt.spikemode.indexOf("across")!==-1||Dt.automargin&&Dt.mirror&&Dt.anchor!=="free"||d.getComponentMethod("rangeslider","isVisible")(Dt))){var se=1,Yt=0;for(ut=0;ut<Dt._counterAxes.length;ut++){var ue=l.getFromId(wt,Dt._counterAxes[ut]);se=Math.min(se,ue.domain[0]),Yt=Math.max(Yt,ue.domain[1])}se<Yt&&(Dt._counterDomainMin=se,Dt._counterDomainMax=Yt)}};function O(Z,tt){var st={_fullLayout:tt},Q=Z._id.charAt(0)==="x",G=Z._mainAxis._anchorAxis,ut="",at="",dt="";if(G&&(dt=G._mainAxis._id,ut=Q?Z._id+dt:dt+Z._id),!ut||!tt._plots[ut]){ut="";for(var gt=Z._counterAxes,wt=0;wt<gt.length;wt++){var kt=gt[wt],Ot=Q?Z._id+kt:kt+Z._id;at||(at=Ot);var bt=l.getFromId(st,kt);if(dt&&bt.overlaying===dt){ut=Ot;break}}}return ut||at}p.clearExpandedTraceDefaultColors=function(Z){var tt,st,Q;function G(at,dt,gt,wt){st[wt]=dt,st.length=wt+1,at.valType==="color"&&at.dflt===void 0&&tt.push(st.join("."))}for(st=[],tt=Z._module._colorAttrs,tt||(Z._module._colorAttrs=tt=[],v.crawl(Z._module.attributes,G)),Q=0;Q<tt.length;Q++){var ut=e.nestedProperty(Z,"_input."+tt[Q]);ut.get()||e.nestedProperty(Z,tt[Q]).set(null)}},p.supplyDataDefaults=function(Z,tt,st,Q){var G=Q._modules,ut=Q._visibleModules,at=Q._basePlotModules,dt=0,gt=0,wt,kt,Ot;Q._transformModules=[];function bt(ie){tt.push(ie);var fe=ie._module;fe&&(e.pushUnique(G,fe),ie.visible===!0&&e.pushUnique(ut,fe),e.pushUnique(at,ie._module.basePlotModule),dt++,ie._input.visible!==!1&&gt++)}var _t={},mt=[],Pt=(st.template||{}).data||{},Rt=r.traceTemplater(Pt);for(wt=0;wt<Z.length;wt++){if(Ot=Z[wt],kt=Rt.newTrace(Ot),kt.uid=Q._traceUids[wt],p.supplyTraceDefaults(Ot,kt,gt,Q,wt),kt.index=wt,kt._input=Ot,kt._expandedIndex=dt,kt.transforms&&kt.transforms.length)for(var Ht=Ot.visible!==!1&&kt.visible===!1,Dt=z(kt,tt,st,Q),Xt=0;Xt<Dt.length;Xt++){var se=Dt[Xt],Yt={_template:kt._template,type:kt.type,uid:kt.uid+Xt};Ht&&se.visible===!1&&delete se.visible,p.supplyTraceDefaults(se,Yt,dt,Q,wt),a(Yt,se),Yt.index=wt,Yt._input=Ot,Yt._fullInput=kt,Yt._expandedIndex=dt,Yt._expandedInput=se,bt(Yt)}else kt._fullInput=kt,kt._expandedInput=kt,bt(kt);d.traceIs(kt,"carpetAxis")&&(_t[kt.carpet]=kt),d.traceIs(kt,"carpetDependent")&&mt.push(wt)}for(wt=0;wt<mt.length;wt++)if(kt=tt[mt[wt]],!!kt.visible){var ue=_t[kt.carpet];if(kt._carpet=ue,!ue||!ue.visible){kt.visible=!1;continue}kt.xaxis=ue.xaxis,kt.yaxis=ue.yaxis}},p.supplyAnimationDefaults=function(Z){Z=Z||{};var tt,st={};function Q(G,ut){return e.coerce(Z||{},st,b,G,ut)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray(Z.frame))for(st.frame=[],tt=0;tt<Z.frame.length;tt++)st.frame[tt]=p.supplyAnimationFrameDefaults(Z.frame[tt]||{});else st.frame=p.supplyAnimationFrameDefaults(Z.frame||{});if(Array.isArray(Z.transition))for(st.transition=[],tt=0;tt<Z.transition.length;tt++)st.transition[tt]=p.supplyAnimationTransitionDefaults(Z.transition[tt]||{});else st.transition=p.supplyAnimationTransitionDefaults(Z.transition||{});return st},p.supplyAnimationFrameDefaults=function(Z){var tt={};function st(Q,G){return e.coerce(Z||{},tt,b.frame,Q,G)}return st("duration"),st("redraw"),tt},p.supplyAnimationTransitionDefaults=function(Z){var tt={};function st(Q,G){return e.coerce(Z||{},tt,b.transition,Q,G)}return st("duration"),st("easing"),tt},p.supplyFrameDefaults=function(Z){var tt={};function st(Q,G){return e.coerce(Z,tt,f,Q,G)}return st("group"),st("name"),st("traces"),st("baseframe"),st("data"),st("layout"),tt},p.supplyTraceDefaults=function(Z,tt,st,Q,G){var ut=Q.colorway||s.defaults,at=ut[st%ut.length],dt;function gt(Xt,se){return e.coerce(Z,tt,p.attributes,Xt,se)}var wt=gt("visible");gt("type"),gt("name",Q._traceWord+" "+G),gt("uirevision",Q.uirevision);var kt=p.getModule(tt);if(tt._module=kt,kt){var Ot=kt.basePlotModule,bt=Ot.attr,_t=Ot.attributes;if(bt&&_t){var mt=Q._subplots,Pt="";if(wt||Ot.name!=="gl2d"){if(Array.isArray(bt))for(dt=0;dt<bt.length;dt++){var Rt=bt[dt],Ht=e.coerce(Z,tt,_t,Rt);mt[Rt]&&e.pushUnique(mt[Rt],Ht),Pt+=Ht}else Pt=e.coerce(Z,tt,_t,bt);mt[Ot.name]&&e.pushUnique(mt[Ot.name],Pt)}}}if(wt){if(gt("customdata"),gt("ids"),gt("meta"),d.traceIs(tt,"showLegend")?(e.coerce(Z,tt,kt.attributes.showlegend?kt.attributes:p.attributes,"showlegend"),gt("legend"),gt("legendwidth"),gt("legendgroup"),gt("legendgrouptitle.text"),gt("legendrank"),tt._dfltShowLegend=!0):tt._dfltShowLegend=!1,kt&&kt.supplyDefaults(Z,tt,at,Q),d.traceIs(tt,"noOpacity")||gt("opacity"),d.traceIs(tt,"notLegendIsolatable")&&(tt.visible=!!tt.visible),d.traceIs(tt,"noHover")||(tt.hovertemplate||e.coerceHoverinfo(Z,tt,Q),tt.type!=="parcats"&&d.getComponentMethod("fx","supplyDefaults")(Z,tt,at,Q)),kt&&kt.selectPoints){var Dt=gt("selectedpoints");e.isTypedArray(Dt)&&(tt.selectedpoints=Array.from(Dt))}p.supplyTransformDefaults(Z,tt,Q)}return tt};function N(Z){var tt=Z.transforms;if(Array.isArray(tt)&&tt.length)for(var st=0;st<tt.length;st++){var Q=tt[st],G=Q._module||w[Q.type];if(G&&G.makesData)return!0}return!1}p.hasMakesDataTransform=N,p.supplyTransformDefaults=function(Z,tt,st){if(tt._length||N(Z)){var Q=st._globalTransforms||[],G=st._transformModules||[];if(!(!Array.isArray(Z.transforms)&&Q.length===0))for(var ut=Z.transforms||[],at=Q.concat(ut),dt=tt.transforms=[],gt=0;gt<at.length;gt++){var wt=at[gt],kt=wt.type,Ot=w[kt],bt,_t=!(wt._module&&wt._module===Ot),mt=Ot&&typeof Ot.transform=="function";Ot||e.warn("Unrecognized transform type "+kt+"."),Ot&&Ot.supplyDefaults&&(_t||mt)?(bt=Ot.supplyDefaults(wt,tt,st,Z),bt.type=kt,bt._module=Ot,e.pushUnique(G,Ot)):bt=e.extendFlat({},wt),dt.push(bt)}}};function z(Z,tt,st,Q){for(var G=Z.transforms,ut=[Z],at=0;at<G.length;at++){var dt=G[at],gt=w[dt.type];gt&&gt.transform&&(ut=gt.transform(ut,{transform:dt,fullTrace:Z,fullData:tt,layout:st,fullLayout:Q,transformIndex:at}))}return ut}p.supplyLayoutGlobalDefaults=function(Z,tt,st){function Q(Ot,bt){return e.coerce(Z,tt,p.layoutAttributes,Ot,bt)}var G=Z.template;e.isPlainObject(G)&&(tt.template=G,tt._template=G.layout,tt._dataTemplate=G.data),Q("autotypenumbers");var ut=e.coerceFont(Q,"font"),at=ut.size;e.coerceFont(Q,"title.font",e.extendFlat({},ut,{size:Math.round(at*1.4)})),Q("title.text",tt._dfltTitle.plot),Q("title.xref");var dt=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var gt=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),gt&&(dt==="paper"&&(tt.title.y!==0&&(tt.title.y=1),tt.title.yanchor==="auto"&&(tt.title.yanchor=tt.title.y===0?"top":"bottom")),dt==="container"&&(tt.title.y==="auto"&&(tt.title.y=1),tt.title.yanchor==="auto"&&(tt.title.yanchor=tt.title.y<.5?"bottom":"top")));var wt=Q("uniformtext.mode");wt&&Q("uniformtext.minsize"),Q("autosize",!(Z.width&&Z.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),Z.width&&Z.height&&p.sanitizeMargins(tt),d.getComponentMethod("grid","sizeDefaults")(Z,tt),Q("paper_bgcolor"),Q("separators",st.decimal+st.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var kt=Q("uirevision");Q("editrevision",kt),Q("selectionrevision",kt),d.getComponentMethod("modebar","supplyLayoutDefaults")(Z,tt),d.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Z,tt,Q),d.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Z,tt,Q),Q("meta"),e.isPlainObject(Z.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),d.getComponentMethod("calendars","handleDefaults")(Z,tt,"calendar"),d.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Z,tt,Q),e.coerce(Z,tt,h,"scattermode")};function F(Z){return typeof Z=="string"&&Z.substr(Z.length-2)==="px"&&parseFloat(Z)}p.plotAutoSize=function(Z,tt,st){var Q=Z._context||{},G=Q.frameMargins,ut,at,dt=e.isPlotDiv(Z);if(dt&&Z.emit("plotly_autosize"),Q.fillFrame)ut=window.innerWidth,at=window.innerHeight,document.body.style.overflow="hidden";else{var gt=dt?window.getComputedStyle(Z):{};if(ut=F(gt.width)||F(gt.maxWidth)||st.width,at=F(gt.height)||F(gt.maxHeight)||st.height,M(G)&&G>0){var wt=1-2*G;ut=Math.round(wt*ut),at=Math.round(wt*at)}}var kt=p.layoutAttributes.width.min,Ot=p.layoutAttributes.height.min;ut<kt&&(ut=kt),at<Ot&&(at=Ot);var bt=!tt.width&&Math.abs(st.width-ut)>1,_t=!tt.height&&Math.abs(st.height-at)>1;(_t||bt)&&(bt&&(st.width=ut),_t&&(st.height=at)),Z._initialAutoSize||(Z._initialAutoSize={width:ut,height:at}),p.sanitizeMargins(st)},p.supplyLayoutModuleDefaults=function(Z,tt,st,Q){var G=d.componentsRegistry,ut=tt._basePlotModules,at,dt,gt,wt=d.subplotsRegistry.cartesian;for(at in G)gt=G[at],gt.includeBasePlot&&gt.includeBasePlot(Z,tt);ut.length||ut.push(wt),tt._has("cartesian")&&(d.getComponentMethod("grid","contentDefaults")(Z,tt),wt.finalizeSubplots(Z,tt));for(var kt in tt._subplots)tt._subplots[kt].sort(e.subplotSort);for(dt=0;dt<ut.length;dt++)gt=ut[dt],gt.supplyLayoutDefaults&&gt.supplyLayoutDefaults(Z,tt,st);var Ot=tt._modules;for(dt=0;dt<Ot.length;dt++)gt=Ot[dt],gt.supplyLayoutDefaults&&gt.supplyLayoutDefaults(Z,tt,st);var bt=tt._transformModules;for(dt=0;dt<bt.length;dt++)gt=bt[dt],gt.supplyLayoutDefaults&&gt.supplyLayoutDefaults(Z,tt,st,Q);for(at in G)gt=G[at],gt.supplyLayoutDefaults&&gt.supplyLayoutDefaults(Z,tt,st)},p.purge=function(Z){var tt=Z._fullLayout||{};tt._glcontainer!==void 0&&(tt._glcontainer.selectAll(".gl-canvas").remove(),tt._glcontainer.remove(),tt._glcanvas=null),tt._modeBar&&tt._modeBar.destroy(),Z._transitionData&&(Z._transitionData._interruptCallbacks&&(Z._transitionData._interruptCallbacks.length=0),Z._transitionData._animationRaf&&window.cancelAnimationFrame(Z._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(Z),delete Z.data,delete Z.layout,delete Z._fullData,delete Z._fullLayout,delete Z.calcdata,delete Z.empty,delete Z.fid,delete Z.undoqueue,delete Z.undonum,delete Z.autoplay,delete Z.changed,delete Z._promises,delete Z._redrawTimer,delete Z._hmlumcount,delete Z._hmpixcount,delete Z._transitionData,delete Z._transitioning,delete Z._initialAutoSize,delete Z._transitioningWithDuration,delete Z._dragging,delete Z._dragged,delete Z._dragdata,delete Z._hoverdata,delete Z._snapshotInProgress,delete Z._editing,delete Z._mouseDownTime,delete Z._legendMouseDownTime,Z.removeAllListeners&&Z.removeAllListeners()},p.style=function(Z){var tt=Z._fullLayout._visibleModules,st=[],Q;for(Q=0;Q<tt.length;Q++){var G=tt[Q];G.style&&e.pushUnique(st,G.style)}for(Q=0;Q<st.length;Q++)st[Q](Z)},p.sanitizeMargins=function(Z){if(!(!Z||!Z.margin)){var tt=Z.width,st=Z.height,Q=Z.margin,G=tt-(Q.l+Q.r),ut=st-(Q.t+Q.b),at;G<0&&(at=(tt-1)/(Q.l+Q.r),Q.l=Math.floor(at*Q.l),Q.r=Math.floor(at*Q.r)),ut<0&&(at=(st-1)/(Q.t+Q.b),Q.t=Math.floor(at*Q.t),Q.b=Math.floor(at*Q.b))}},p.clearAutoMarginIds=function(Z){Z._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(Z,tt){Z._fullLayout._pushmarginIds[tt]=1};function I(Z){var tt=Z.margin;if(!Z._size){var st=Z._size={l:Math.round(tt.l),r:Math.round(tt.r),t:Math.round(tt.t),b:Math.round(tt.b),p:Math.round(tt.pad)};st.w=Math.round(Z.width)-st.l-st.r,st.h=Math.round(Z.height)-st.t-st.b}Z._pushmargin||(Z._pushmargin={}),Z._pushmarginIds||(Z._pushmarginIds={}),Z._reservedMargin||(Z._reservedMargin={})}var j=2,V=2;p.autoMargin=function(Z,tt,st){var Q=Z._fullLayout,G=Q.width,ut=Q.height,at=Q.margin,dt=Q.minreducedwidth,gt=Q.minreducedheight,wt=e.constrain(G-at.l-at.r,j,dt),kt=e.constrain(ut-at.t-at.b,V,gt),Ot=Math.max(0,G-wt),bt=Math.max(0,ut-kt),_t=Q._pushmargin,mt=Q._pushmarginIds;if(at.autoexpand!==!1){if(!st)delete _t[tt],delete mt[tt];else{var Pt=st.pad;if(Pt===void 0&&(Pt=Math.min(12,at.l,at.r,at.t,at.b)),Ot){var Rt=(st.l+st.r)/Ot;Rt>1&&(st.l/=Rt,st.r/=Rt)}if(bt){var Ht=(st.t+st.b)/bt;Ht>1&&(st.t/=Ht,st.b/=Ht)}var Dt=st.xl!==void 0?st.xl:st.x,Xt=st.xr!==void 0?st.xr:st.x,se=st.yt!==void 0?st.yt:st.y,Yt=st.yb!==void 0?st.yb:st.y;_t[tt]={l:{val:Dt,size:st.l+Pt},r:{val:Xt,size:st.r+Pt},b:{val:Yt,size:st.b+Pt},t:{val:se,size:st.t+Pt}},mt[tt]=1}if(!Q._replotting)return p.doAutoMargin(Z)}};function W(Z){if("_redrawFromAutoMarginCount"in Z._fullLayout)return!1;var tt=l.list(Z,"",!0);for(var st in tt)if(tt[st].autoshift||tt[st].shift)return!0;return!1}p.doAutoMargin=function(Z){var tt=Z._fullLayout,st=tt.width,Q=tt.height;tt._size||(tt._size={}),I(tt);var G=tt._size,ut=tt.margin,at={t:0,b:0,l:0,r:0},dt=e.extendFlat({},G),gt=ut.l,wt=ut.r,kt=ut.t,Ot=ut.b,bt=tt._pushmargin,_t=tt._pushmarginIds,mt=tt.minreducedwidth,Pt=tt.minreducedheight;if(ut.autoexpand!==!1){for(var Rt in bt)_t[Rt]||delete bt[Rt];var Ht=Z._fullLayout._reservedMargin;for(var Dt in Ht)for(var Xt in Ht[Dt]){var se=Ht[Dt][Xt];at[Xt]=Math.max(at[Xt],se)}bt.base={l:{val:0,size:gt},r:{val:1,size:wt},t:{val:1,size:kt},b:{val:0,size:Ot}};for(var Yt in at){var ue=0;for(var ie in bt)ie!=="base"&&M(bt[ie][Yt].size)&&(ue=bt[ie][Yt].size>ue?bt[ie][Yt].size:ue);var fe=Math.max(0,ut[Yt]-ue);at[Yt]=Math.max(0,at[Yt]-fe)}for(var ce in bt){var ye=bt[ce].l||{},de=bt[ce].b||{},Te=ye.val,Et=ye.size,Vt=de.val,te=de.size,Jt=st-at.r-at.l,Ut=Q-at.t-at.b;for(var It in bt){if(M(Et)&&bt[It].r){var pt=bt[It].r.val,xt=bt[It].r.size;if(pt>Te){var Ct=(Et*pt+(xt-Jt)*Te)/(pt-Te),At=(xt*(1-Te)+(Et-Jt)*(1-pt))/(pt-Te);Ct+At>gt+wt&&(gt=Ct,wt=At)}}if(M(te)&&bt[It].t){var Ft=bt[It].t.val,Wt=bt[It].t.size;if(Ft>Vt){var Qt=(te*Ft+(Wt-Ut)*Vt)/(Ft-Vt),he=(Wt*(1-Vt)+(te-Ut)*(1-Ft))/(Ft-Vt);Qt+he>Ot+kt&&(Ot=Qt,kt=he)}}}}}var ve=e.constrain(st-ut.l-ut.r,j,mt),Je=e.constrain(Q-ut.t-ut.b,V,Pt),Ue=Math.max(0,st-ve),ke=Math.max(0,Q-Je);if(Ue){var Le=(gt+wt)/Ue;Le>1&&(gt/=Le,wt/=Le)}if(ke){var Ge=(Ot+kt)/ke;Ge>1&&(Ot/=Ge,kt/=Ge)}if(G.l=Math.round(gt)+at.l,G.r=Math.round(wt)+at.r,G.t=Math.round(kt)+at.t,G.b=Math.round(Ot)+at.b,G.p=Math.round(ut.pad),G.w=Math.round(st)-G.l-G.r,G.h=Math.round(Q)-G.t-G.b,!tt._replotting&&(p.didMarginChange(dt,G)||W(Z))){"_redrawFromAutoMarginCount"in tt?tt._redrawFromAutoMarginCount++:tt._redrawFromAutoMarginCount=1;var mr=3*(1+Object.keys(_t).length);if(tt._redrawFromAutoMarginCount<mr)return d.call("_doPlot",Z);tt._size=dt,e.warn("Too many auto-margin redraws.")}K(Z)};function K(Z){var tt=l.list(Z,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(st){for(var Q=0;Q<tt.length;Q++){var G=tt[Q][st];G&&G()}})}var et=["l","r","t","b","p","w","h"];p.didMarginChange=function(Z,tt){for(var st=0;st<et.length;st++){var Q=et[st],G=Z[Q],ut=tt[Q];if(!M(G)||Math.abs(ut-G)>1)return!0}return!1},p.graphJson=function(Z,tt,st,Q,G,ut){(G&&tt&&!Z._fullData||G&&!tt&&!Z._fullLayout)&&p.supplyDefaults(Z);var at=G?Z._fullData:Z.data,dt=G?Z._fullLayout:Z.layout,gt=(Z._transitionData||{})._frames;function wt(bt,_t){if(typeof bt=="function")return _t?"_function_":null;if(e.isPlainObject(bt)){var mt={},Pt;return Object.keys(bt).sort().forEach(function(Xt){if(["_","["].indexOf(Xt.charAt(0))===-1){if(typeof bt[Xt]=="function"){_t&&(mt[Xt]="_function");return}if(st==="keepdata"){if(Xt.substr(Xt.length-3)==="src")return}else if(st==="keepstream"){if(Pt=bt[Xt+"src"],typeof Pt=="string"&&Pt.indexOf(":")>0&&!e.isPlainObject(bt.stream))return}else if(st!=="keepall"&&(Pt=bt[Xt+"src"],typeof Pt=="string"&&Pt.indexOf(":")>0))return;mt[Xt]=wt(bt[Xt],_t)}}),mt}var Rt=Array.isArray(bt),Ht=e.isTypedArray(bt);if((Rt||Ht)&&bt.dtype&&bt.shape){var Dt=bt.bdata;return wt({dtype:bt.dtype,shape:bt.shape,bdata:e.isArrayBuffer(Dt)?m.encode(Dt):Dt},_t)}return Rt?bt.map(function(Xt){return wt(Xt,_t)}):Ht?e.simpleMap(bt,e.identity):e.isJSDate(bt)?e.ms2DateTimeLocal(+bt):bt}var kt={data:(at||[]).map(function(bt){var _t=wt(bt);return tt&&delete _t.fit,_t})};if(!tt&&(kt.layout=wt(dt),G)){var Ot=dt._size;kt.layout.computed={margin:{b:Ot.b,l:Ot.l,r:Ot.r,t:Ot.t}}}return gt&&(kt.frames=wt(gt)),ut&&(kt.config=wt(Z._context,!0)),Q==="object"?kt:JSON.stringify(kt)},p.modifyFrames=function(Z,tt){var st,Q,G,ut=Z._transitionData._frames,at=Z._transitionData._frameHash;for(st=0;st<tt.length;st++)switch(Q=tt[st],Q.type){case"replace":G=Q.value;var dt=(ut[Q.index]||{}).name,gt=G.name;ut[Q.index]=at[gt]=G,gt!==dt&&(delete at[dt],at[gt]=G);break;case"insert":G=Q.value,at[G.name]=G,ut.splice(Q.index,0,G);break;case"delete":G=ut[Q.index],delete at[G.name],ut.splice(Q.index,1);break}return Promise.resolve()},p.computeFrame=function(Z,tt){var st=Z._transitionData._frameHash,Q,G,ut,at;if(!tt)throw new Error("computeFrame must be given a string frame name");var dt=st[tt.toString()];if(!dt)return!1;for(var gt=[dt],wt=[dt.name];dt.baseframe&&(dt=st[dt.baseframe.toString()])&&wt.indexOf(dt.name)===-1;)gt.push(dt),wt.push(dt.name);for(var kt={};dt=gt.pop();)if(dt.layout&&(kt.layout=p.extendLayout(kt.layout,dt.layout)),dt.data){if(kt.data||(kt.data=[]),G=dt.traces,!G)for(G=[],Q=0;Q<dt.data.length;Q++)G[Q]=Q;for(kt.traces||(kt.traces=[]),Q=0;Q<dt.data.length;Q++)ut=G[Q],ut!=null&&(at=kt.traces.indexOf(ut),at===-1&&(at=kt.data.length,kt.traces[at]=ut),kt.data[at]=p.extendTrace(kt.data[at],dt.data[Q]))}return kt},p.recomputeFrameHash=function(Z){for(var tt=Z._transitionData._frameHash={},st=Z._transitionData._frames,Q=0;Q<st.length;Q++){var G=st[Q];G&&G.name&&(tt[G.name]=G)}},p.extendObjectWithContainers=function(Z,tt,st){var Q,G,ut,at,dt,gt,wt,kt,Ot=e.extendDeepNoArrays({},tt||{}),bt=e.expandObjectPaths(Ot),_t={};if(st&&st.length)for(ut=0;ut<st.length;ut++)Q=e.nestedProperty(bt,st[ut]),G=Q.get(),G===void 0?e.nestedProperty(_t,st[ut]).set(null):(Q.set(null),e.nestedProperty(_t,st[ut]).set(G));if(Z=e.extendDeepNoArrays(Z||{},bt),st&&st.length){for(ut=0;ut<st.length;ut++)if(dt=e.nestedProperty(_t,st[ut]),wt=dt.get(),!!wt){for(gt=e.nestedProperty(Z,st[ut]),kt=gt.get(),Array.isArray(kt)||(kt=[],gt.set(kt)),at=0;at<wt.length;at++){var mt=wt[at];mt===null?kt[at]=null:kt[at]=p.extendObjectWithContainers(kt[at],mt)}gt.set(kt)}}return Z},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=d.layoutArrayContainers,p.extendTrace=function(Z,tt){return p.extendObjectWithContainers(Z,tt,p.dataArrayContainers)},p.extendLayout=function(Z,tt){return p.extendObjectWithContainers(Z,tt,p.layoutArrayContainers)},p.transition=function(Z,tt,st,Q,G,ut){var at={redraw:G.redraw},dt={},gt=[];return at.prepareFn=function(){for(var wt=Array.isArray(tt)?tt.length:0,kt=Q.slice(0,wt),Ot=0;Ot<kt.length;Ot++){var bt=kt[Ot],_t=Z._fullData[bt],mt=_t._module;if(mt){if(mt.animatable){var Pt=mt.basePlotModule.name;dt[Pt]||(dt[Pt]=[]),dt[Pt].push(bt)}Z.data[kt[Ot]]=p.extendTrace(Z.data[kt[Ot]],tt[Ot])}}var Rt=e.expandObjectPaths(e.extendDeepNoArrays({},st)),Ht=/^[xy]axis[0-9]*$/;for(var Dt in Rt)Ht.test(Dt)&&delete Rt[Dt].range;p.extendLayout(Z.layout,Rt),delete Z.calcdata,p.supplyDefaults(Z),p.doCalcdata(Z);var Xt=e.expandObjectPaths(st);if(Xt){var se=Z._fullLayout._plots;for(var Yt in se){var ue=se[Yt],ie=ue.xaxis,fe=ue.yaxis,ce=ie.range.slice(),ye=fe.range.slice(),de=null,Te=null,Et=null,Vt=null;Array.isArray(Xt[ie._name+".range"])?de=Xt[ie._name+".range"].slice():Array.isArray((Xt[ie._name]||{}).range)&&(de=Xt[ie._name].range.slice()),Array.isArray(Xt[fe._name+".range"])?Te=Xt[fe._name+".range"].slice():Array.isArray((Xt[fe._name]||{}).range)&&(Te=Xt[fe._name].range.slice()),ce&&de&&(ie.r2l(ce[0])!==ie.r2l(de[0])||ie.r2l(ce[1])!==ie.r2l(de[1]))&&(Et={xr0:ce,xr1:de}),ye&&Te&&(fe.r2l(ye[0])!==fe.r2l(Te[0])||fe.r2l(ye[1])!==fe.r2l(Te[1]))&&(Vt={yr0:ye,yr1:Te}),(Et||Vt)&&gt.push(e.extendFlat({plotinfo:ue},Et,Vt))}}return Promise.resolve()},at.runFn=function(wt){var kt,Ot=Z._fullLayout._basePlotModules,bt=gt.length,_t;if(st)for(_t=0;_t<Ot.length;_t++)Ot[_t].transitionAxes&&Ot[_t].transitionAxes(Z,gt,ut,wt);bt?(kt=e.extendFlat({},ut),kt.duration=0,delete dt.cartesian):kt=ut;for(var mt in dt){var Pt=dt[mt],Rt=Z._fullData[Pt[0]]._module;Rt.basePlotModule.plot(Z,Pt,kt,wt)}},lt(Z,ut,at)},p.transitionFromReact=function(Z,tt,st,Q){var G=Z._fullLayout,ut=G.transition,at={},dt=[];return at.prepareFn=function(){var gt=G._plots;at.redraw=!1,tt.anim==="some"&&(at.redraw=!0),st.anim==="some"&&(at.redraw=!0);for(var wt in gt){var kt=gt[wt],Ot=kt.xaxis,bt=kt.yaxis,_t=Q[Ot._name].range.slice(),mt=Q[bt._name].range.slice(),Pt=Ot.range.slice(),Rt=bt.range.slice();Ot.setScale(),bt.setScale();var Ht=null,Dt=null;(Ot.r2l(_t[0])!==Ot.r2l(Pt[0])||Ot.r2l(_t[1])!==Ot.r2l(Pt[1]))&&(Ht={xr0:_t,xr1:Pt}),(bt.r2l(mt[0])!==bt.r2l(Rt[0])||bt.r2l(mt[1])!==bt.r2l(Rt[1]))&&(Dt={yr0:mt,yr1:Rt}),(Ht||Dt)&&dt.push(e.extendFlat({plotinfo:kt},Ht,Dt))}return Promise.resolve()},at.runFn=function(gt){for(var wt=Z._fullData,kt=Z._fullLayout,Ot=kt._basePlotModules,bt,_t,mt,Pt=[],Rt=0;Rt<wt.length;Rt++)Pt.push(Rt);function Ht(){if(Z._fullLayout)for(var Xt=0;Xt<Ot.length;Xt++)Ot[Xt].transitionAxes&&Ot[Xt].transitionAxes(Z,dt,bt,gt)}function Dt(){if(Z._fullLayout)for(var Xt=0;Xt<Ot.length;Xt++)Ot[Xt].plot(Z,mt,_t,gt)}dt.length&&tt.anim?ut.ordering==="traces first"?(bt=e.extendFlat({},ut,{duration:0}),mt=Pt,_t=ut,setTimeout(Ht,ut.duration),Dt()):(bt=ut,mt=null,_t=e.extendFlat({},ut,{duration:0}),setTimeout(Dt,bt.duration),Ht()):dt.length?(bt=ut,Ht()):tt.anim&&(mt=Pt,_t=ut,Dt())},lt(Z,ut,at)};function lt(Z,tt,st){var Q=!1;function G(Ot){var bt=Promise.resolve();if(!Ot)return bt;for(;Ot.length;)bt=bt.then(Ot.shift());return bt}function ut(Ot){if(Ot)for(;Ot.length;)Ot.shift()}function at(){return Z.emit("plotly_transitioning",[]),new Promise(function(Ot){Z._transitioning=!0,tt.duration>0&&(Z._transitioningWithDuration=!0),Z._transitionData._interruptCallbacks.push(function(){Q=!0}),st.redraw&&Z._transitionData._interruptCallbacks.push(function(){return d.call("redraw",Z)}),Z._transitionData._interruptCallbacks.push(function(){Z.emit("plotly_transitioninterrupted",[])});var bt=0,_t=0;function mt(){return bt++,function(){_t++,!Q&&_t===bt&&dt(Ot)}}st.runFn(mt),setTimeout(mt())})}function dt(Ot){if(Z._transitionData)return ut(Z._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(st.redraw)return d.call("redraw",Z)}).then(function(){Z._transitioning=!1,Z._transitioningWithDuration=!1,Z.emit("plotly_transitioned",[])}).then(Ot)}function gt(){if(Z._transitionData)return Z._transitioning=!1,G(Z._transitionData._interruptCallbacks)}var wt=[p.previousPromises,gt,st.prepareFn,p.rehover,p.reselect,at],kt=e.syncOrAsync(wt,Z);return(!kt||!kt.then)&&(kt=Promise.resolve()),kt.then(function(){return Z})}p.doCalcdata=function(Z,tt){var st=l.list(Z),Q=Z._fullData,G=Z._fullLayout,ut,at,dt,gt,wt=new Array(Q.length),kt=(Z.calcdata||[]).slice();for(Z.calcdata=wt,G._numBoxes=0,G._numViolins=0,G._violinScaleGroupStats={},Z._hmpixcount=0,Z._hmlumcount=0,G._piecolormap={},G._sunburstcolormap={},G._treemapcolormap={},G._iciclecolormap={},G._funnelareacolormap={},dt=0;dt<Q.length;dt++)if(Array.isArray(tt)&&tt.indexOf(dt)===-1){wt[dt]=kt[dt];continue}for(dt=0;dt<Q.length;dt++)ut=Q[dt],ut._arrayAttrs=v.findArrayAttributes(ut),ut._extremes={};var Ot=G._subplots.polar||[];for(dt=0;dt<Ot.length;dt++)st.push(G[Ot[dt]].radialaxis,G[Ot[dt]].angularaxis);for(var bt in G._colorAxes){var _t=G[bt];_t.cauto!==!1&&(delete _t.cmin,delete _t.cmax)}var mt=!1;function Pt(Dt){if(ut=Q[Dt],at=ut._module,ut.visible===!0&&ut.transforms){if(at&&at.calc){var Xt=at.calc(Z,ut);Xt[0]&&Xt[0].t&&Xt[0].t._scene&&delete Xt[0].t._scene.dirty}for(gt=0;gt<ut.transforms.length;gt++){var se=ut.transforms[gt];at=w[se.type],at&&at.calcTransform&&(ut._hasCalcTransform=!0,mt=!0,at.calcTransform(Z,ut,se))}}}function Rt(Dt,Xt){if(ut=Q[Dt],at=ut._module,!!at.isContainer===Xt){var se=[];if(ut.visible===!0&&ut._length!==0){delete ut._indexToPoints;var Yt=ut.transforms||[];for(gt=Yt.length-1;gt>=0;gt--)if(Yt[gt].enabled){ut._indexToPoints=Yt[gt]._indexToPoints;break}at&&at.calc&&(se=at.calc(Z,ut))}(!Array.isArray(se)||!se[0])&&(se=[{x:n,y:n}]),se[0].t||(se[0].t={}),se[0].trace=ut,wt[Dt]=se}}for(J(st,Q,G),dt=0;dt<Q.length;dt++)Rt(dt,!0);for(dt=0;dt<Q.length;dt++)Pt(dt);for(mt&&J(st,Q,G),dt=0;dt<Q.length;dt++)Rt(dt,!0);for(dt=0;dt<Q.length;dt++)Rt(dt,!1);it(Z);var Ht=q(st,Z);if(Ht.length){for(G._numBoxes=0,G._numViolins=0,dt=0;dt<Ht.length;dt++)Rt(Ht[dt],!0);for(dt=0;dt<Ht.length;dt++)Rt(Ht[dt],!1);it(Z)}d.getComponentMethod("fx","calc")(Z),d.getComponentMethod("errorbars","calc")(Z)};var ot=/(total|sum|min|max|mean|median) (ascending|descending)/;function q(Z,tt){var st=[],Q,G,ut,at,dt;function gt(It,pt,xt){var Ct=pt._id.charAt(0);if(It==="histogram2dcontour"){var At=pt._counterAxes[0],Ft=l.getFromId(tt,At),Wt=Ct==="x"||At==="x"&&Ft.type==="category",Qt=Ct==="y"||At==="y"&&Ft.type==="category";return function(he,ve){return he===0||ve===0||Wt&&he===xt[ve].length-1||Qt&&ve===xt.length-1?-1:(Ct==="y"?ve:he)-1}}else return function(he,ve){return Ct==="y"?ve:he}}var wt={min:function(It){return e.aggNums(Math.min,null,It)},max:function(It){return e.aggNums(Math.max,null,It)},sum:function(It){return e.aggNums(function(pt,xt){return pt+xt},null,It)},total:function(It){return e.aggNums(function(pt,xt){return pt+xt},null,It)},mean:function(It){return e.mean(It)},median:function(It){return e.median(It)}};function kt(It,pt){return It[1]-pt[1]}function Ot(It,pt){return pt[1]-It[1]}for(Q=0;Q<Z.length;Q++){var bt=Z[Q];if(bt.type==="category"){var _t=bt.categoryorder.match(ot);if(_t){var mt=_t[1],Pt=_t[2],Rt=bt._id.charAt(0),Ht=Rt==="x",Dt=[];for(G=0;G<bt._categories.length;G++)Dt.push([bt._categories[G],[]]);for(G=0;G<bt._traceIndices.length;G++){var Xt=bt._traceIndices[G],se=tt._fullData[Xt];if(se.visible===!0){var Yt=se.type;d.traceIs(se,"histogram")&&(delete se._xautoBinFinished,delete se._yautoBinFinished);var ue=Yt==="splom",ie=Yt==="scattergl",fe=tt.calcdata[Xt];for(ut=0;ut<fe.length;ut++){var ce=fe[ut],ye,de;if(ue){var Te=se._axesDim[bt._id];if(!Ht){var Et=se._diag[Te][0];Et&&(bt=tt._fullLayout[l.id2name(Et)])}var Vt=ce.trace.dimensions[Te].values;for(at=0;at<Vt.length;at++)for(ye=bt._categoriesMap[Vt[at]],dt=0;dt<ce.trace.dimensions.length;dt++)if(dt!==Te){var te=ce.trace.dimensions[dt];Dt[ye][1].push(te.values[at])}}else if(ie){for(at=0;at<ce.t.x.length;at++)Ht?(ye=ce.t.x[at],de=ce.t.y[at]):(ye=ce.t.y[at],de=ce.t.x[at]),Dt[ye][1].push(de);ce.t&&ce.t._scene&&delete ce.t._scene.dirty}else if(ce.hasOwnProperty("z")){de=ce.z;var Jt=gt(se.type,bt,de);for(at=0;at<de.length;at++)for(dt=0;dt<de[at].length;dt++)ye=Jt(dt,at),ye+1&&Dt[ye][1].push(de[at][dt])}else for(ye=ce.p,ye===void 0&&(ye=ce[Rt]),de=ce.s,de===void 0&&(de=ce.v),de===void 0&&(de=Ht?ce.y:ce.x),Array.isArray(de)||(de===void 0?de=[]:de=[de]),at=0;at<de.length;at++)Dt[ye][1].push(de[at])}}}bt._categoriesValue=Dt;var Ut=[];for(G=0;G<Dt.length;G++)Ut.push([Dt[G][0],wt[mt](Dt[G][1])]);Ut.sort(Pt==="descending"?Ot:kt),bt._categoriesAggregatedValue=Ut,bt._initialCategories=Ut.map(function(It){return It[0]}),st=st.concat(bt.sortByInitialCategories())}}}return st}function J(Z,tt,st){var Q={};function G(gt){gt.clearCalc(),gt.type==="multicategory"&&gt.setupMultiCategory(tt),Q[gt._id]=1}e.simpleMap(Z,G);for(var ut=st._axisMatchGroups||[],at=0;at<ut.length;at++)for(var dt in ut[at])Q[dt]||G(st[l.id2name(dt)])}function it(Z){var tt=Z._fullLayout,st=tt._visibleModules,Q={},G,ut,at;for(ut=0;ut<st.length;ut++){var dt=st[ut],gt=dt.crossTraceCalc;if(gt){var wt=dt.basePlotModule.name;Q[wt]?e.pushUnique(Q[wt],gt):Q[wt]=[gt]}}for(at in Q){var kt=Q[at],Ot=tt._subplots[at];if(Array.isArray(Ot))for(G=0;G<Ot.length;G++){var bt=Ot[G],_t=at==="cartesian"?tt._plots[bt]:tt[bt];for(ut=0;ut<kt.length;ut++)kt[ut](Z,_t,bt)}else for(ut=0;ut<kt.length;ut++)kt[ut](Z)}}p.rehover=function(Z){Z._fullLayout._rehover&&Z._fullLayout._rehover()},p.redrag=function(Z){Z._fullLayout._redrag&&Z._fullLayout._redrag()},p.reselect=function(Z){var tt=Z._fullLayout,st=(Z.layout||{}).selections,Q=tt._previousSelections;tt._previousSelections=st;var G=tt._reselect||JSON.stringify(st)!==JSON.stringify(Q);d.getComponentMethod("selections","reselect")(Z,G)},p.generalUpdatePerTraceModule=function(Z,tt,st,Q){var G=tt.traceHash,ut={},at;for(at=0;at<st.length;at++){var dt=st[at],gt=dt[0].trace;gt.visible&&(ut[gt.type]=ut[gt.type]||[],ut[gt.type].push(dt))}for(var wt in G)if(!ut[wt]){var kt=G[wt][0],Ot=kt[0].trace;Ot.visible=!1,ut[wt]=[kt]}for(var bt in ut){var _t=ut[bt],mt=_t[0][0].trace._module;mt.plot(Z,tt,e.filterVisible(_t),Q)}tt.traceHash=ut},p.plotBasePlot=function(Z,tt,st,Q,G){var ut=d.getModule(Z),at=k(tt.calcdata,ut)[0];ut.plot(tt,at,Q,G)},p.cleanBasePlot=function(Z,tt,st,Q,G){var ut=G._has&&G._has(Z),at=st._has&&st._has(Z);ut&&!at&&G["_"+Z+"layer"].selectAll("g.trace").remove()}},39360:function(X){X.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(X,B,t){var x=t(3400),E=t(92065).tester,i=x.findIndexOfMin,M=x.isAngleInsideSector,m=x.angleDelta,d=x.angleDist;function v(c,p,w,S,_){if(!M(p,S))return!1;var T,P;w[0]<w[1]?(T=w[0],P=w[1]):(T=w[1],P=w[0]);var u=E(l(T,S[0],S[1],_)),g=E(l(P,S[0],S[1],_)),L=[c*Math.cos(p),c*Math.sin(p)];return g.contains(L)&&!u.contains(L)}function r(c,p,w,S){var _,T,P=S[0],u=S[1],g=b(Math.sin(p)-Math.sin(c)),L=b(Math.cos(p)-Math.cos(c)),A=Math.tan(w),R=b(1/A),O=g/L,N=u-O*P;return R?g&&L?(_=N/(A-O),T=A*_):L?(_=u*R,T=u):(_=P,T=P*A):g&&L?(_=0,T=N):L?(_=0,T=u):_=T=NaN,[_,T]}function e(c,p,w,S){var _=-p*w,T=p*p+1,P=2*(p*_-w),u=_*_+w*w-c*c,g=Math.sqrt(P*P-4*T*u),L=(-P+g)/(2*T),A=(-P-g)/(2*T);return[[L,p*L+_+S],[A,p*A+_+S]]}function s(c,p){var w=p.length,S=new Array(w+1),_;for(_=0;_<w;_++){var T=p[_];S[_]=[c*Math.cos(T),c*Math.sin(T)]}return S[_]=S[0].slice(),S}function n(c,p,w,S){var _=S.length,T=[],P,u;function g(j){return[c*Math.cos(j),c*Math.sin(j)]}function L(j,V,W){return r(j,V,W,g(j))}function A(j){return x.mod(j,_)}function R(j){return M(j,[p,w])}var O=i(S,function(j){return R(j)?d(j,p):1/0}),N=L(S[O],S[A(O-1)],p);for(T.push(N),P=O,u=0;u<_;P++,u++){var z=S[A(P)];if(!R(z))break;T.push(g(z))}var F=i(S,function(j){return R(j)?d(j,w):1/0}),I=L(S[F],S[A(F+1)],w);return T.push(I),T.push([0,0]),T.push(T[0].slice()),T}function l(c,p,w,S){return x.isFullCircle([p,w])?s(c,S):n(c,p,w,S)}function o(c,p,w,S){for(var _=1/0,T=1/0,P=l(c,p,w,S),u=0;u<P.length;u++){var g=P[u];_=Math.min(_,g[0]),T=Math.min(T,-g[1])}return[_,T]}function h(c,p){var w=function(T){var P=m(T,c);return P>0?P:1/0},S=i(p,w),_=x.mod(S+1,p.length);return[p[S],p[_]]}function b(c){return Math.abs(c)>1e-10?c:0}function f(c,p,w){p=p||0,w=w||0;for(var S=c.length,_=new Array(S),T=0;T<S;T++){var P=c[T];_[T]=[p+P[0],w-P[1]]}return _}function k(c,p,w,S,_,T){var P=l(c,p,w,S);return"M"+f(P,_,T).join("L")}function a(c,p,w,S,_,T,P){var u,g;c<p?(u=c,g=p):(u=p,g=c);var L=f(l(u,w,S,_),T,P),A=f(l(g,w,S,_),T,P);return"M"+A.reverse().join("L")+"M"+L.join("L")}X.exports={isPtInsidePolygon:v,findPolygonOffset:o,findEnclosingVertexAngles:h,findIntersectionXY:r,findXYatLength:e,clampTiny:b,pathPolygon:k,pathPolygonAnnulus:a}},40872:function(X,B,t){var x=t(84888).KY,E=t(3400).counterRegex,i=t(62400),M=t(39360),m=M.attr,d=M.name,v=E(d),r={};r[m]={valType:"subplotid",dflt:d,editType:"calc"};function e(n){for(var l=n._fullLayout,o=n.calcdata,h=l._subplots[d],b=0;b<h.length;b++){var f=h[b],k=x(o,d,f),a=l[f]._subplot;a||(a=i(n,f),l[f]._subplot=a),a.plot(k,l,n._promises)}}function s(n,l,o,h){for(var b=h._subplots[d]||[],f=h._has&&h._has("gl"),k=l._has&&l._has("gl"),a=f&&!k,c=0;c<b.length;c++){var p=b[c],w=h[p]._subplot;if(!l[p]&&w){w.framework.remove(),w.layers["radial-axis-title"].remove();for(var S in w.clipPaths)w.clipPaths[S].remove()}a&&w._scene&&(w._scene.destroy(),w._scene=null)}}X.exports={attr:m,name:d,idRoot:d,idRegex:v,attrRegex:v,attributes:r,layoutAttributes:t(95300),supplyLayoutDefaults:t(84380),plot:e,clean:s,toSVG:t(57952).toSVG}},95300:function(X,B,t){var x=t(22548),E=t(94724),i=t(86968).u,M=t(3400).extendFlat,m=t(67824).overrideAll,d=m({color:E.color,showline:M({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:M({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),v=m({tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickfont:E.tickfont,tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,layer:E.layer},"plot","from-root"),r={visible:M({},E.visible,{dflt:!0}),type:M({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},autorange:M({},E.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:M({},E.minallowed,{editType:"plot"}),maxallowed:M({},E.maxallowed,{editType:"plot"}),range:M({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:E.categoryorder,categoryarray:E.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:E.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:M({},E.title.text,{editType:"plot",dflt:""}),font:M({},E.title.font,{editType:"plot"}),editType:"plot"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}};M(r,d,v);var e={visible:M({},E.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:E.autotypenumbers,categoryorder:E.categoryorder,categoryarray:E.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};M(e,d,v),X.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:x.background},radialaxis:r,angularaxis:e,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(X,B,t){var x=t(3400),E=t(76308),i=t(31780),M=t(168),m=t(84888).op,d=t(26332),v=t(25404),r=t(95936),e=t(42568),s=t(22416),n=t(42136),l=t(76808),o=t(52976),h=t(95300),b=t(57696),f=t(39360),k=f.axisNames;function a(p,w,S,_){var T=S("bgcolor");_.bgColor=E.combine(T,_.paper_bgcolor);var P=S("sector");S("hole");var u=m(_.fullData,f.name,_.id),g=_.layoutOut,L;function A(tt,st){return S(L+"."+tt,st)}for(var R=0;R<k.length;R++){L=k[R],x.isPlainObject(p[L])||(p[L]={});var O=p[L],N=i.newContainer(w,L);N._id=N._name=L,N._attr=_.id+"."+L,N._traceIndices=u.map(function(tt){return tt._expandedIndex});var z=f.axisName2dataArray[L],F=c(O,N,A,u,z,_);s(O,N,A,{axData:u,dataAttr:z});var I=A("visible");switch(b(N,w,g),A("uirevision",w.uirevision),N._m=1,L){case"radialaxis":A("minallowed"),A("maxallowed");var j=A("range"),V=N.getAutorangeDflt(j),W=A("autorange",V),K;j&&(j[0]===null&&j[1]===null||(j[0]===null||j[1]===null)&&(W==="reversed"||W===!0)||j[0]!==null&&(W==="min"||W==="max reversed")||j[1]!==null&&(W==="max"||W==="min reversed"))&&(j=void 0,delete N.range,N.autorange=!0,K=!0),K||(V=N.getAutorangeDflt(j),W=A("autorange",V)),O.autorange=W,W&&(l(A,W,j),(F==="linear"||F==="-")&&A("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){x.log("Polar plots do not support date angular axes yet.");for(var et=0;et<u.length;et++)u[et].visible=!1;F=O.type=N.type="linear"}A(F==="linear"?"thetaunit":"period");var lt=A("direction");A("rotation",{counterclockwise:0,clockwise:90}[lt]);break}if(e(O,N,A,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"°":void 0}),I){var ot,q,J,it,Z=_.font||{};ot=A("color"),q=ot===O.color?ot:Z.color,J=Z.size,it=Z.family,d(O,N,A,N.type),r(O,N,A,N.type,{font:{color:q,size:J,family:it},noAutotickangles:L==="angularaxis"}),v(O,N,A,{outerTicks:!0}),n(O,N,A,{dfltColor:ot,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h[L]}),A("layer"),L==="radialaxis"&&(A("side"),A("angle",P[0]),A("title.text"),x.coerceFont(A,"title.font",{color:q,size:x.bigFont(J),family:it}))}F!=="category"&&A("hoverformat"),N._input=O}w.angularaxis.type==="category"&&S("gridshape")}function c(p,w,S,_,T,P){var u=S("autotypenumbers",P.autotypenumbersDflt),g=S("type");if(g==="-"){for(var L,A=0;A<_.length;A++)if(_[A].visible){L=_[A];break}L&&L[T]&&(w.type=o(L[T],"gregorian",{noMultiCategory:!0,autotypenumbers:u})),w.type==="-"?w.type="linear":p.type=w.type}return w.type}X.exports=function(p,w,S){M(p,w,S,{type:f.name,attributes:h,handleDefaults:a,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:S,layoutOut:w})}},62400:function(X,B,t){var x=t(33428),E=t(49760),i=t(24040),M=t(3400),m=M.strRotate,d=M.strTranslate,v=t(76308),r=t(43616),e=t(7316),s=t(54460),n=t(78344),l=t(57696),o=t(19280).doAutoRange,h=t(51184),b=t(86476),f=t(93024),k=t(81668),a=t(22676).prepSelect,c=t(22676).selectOnClick,p=t(22676).clearOutline,w=t(93972),S=t(73696),_=t(39172).redrawReglTraces,T=t(84284).MID_SHIFT,P=t(39360),u=t(57384),g=t(36416),L=g.smith,A=g.reactanceArc,R=g.resistanceArc,O=g.smithTransform,N=M._,z=M.mod,F=M.deg2rad,I=M.rad2deg;function j(ot,q,J){this.isSmith=J||!1,this.id=q,this.gd=ot,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var it=ot._fullLayout,Z="clip"+it._uid+q;this.clipIds.forTraces=Z+"-for-traces",this.clipPaths.forTraces=it._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=it["_"+(J?"smith":"polar")+"layer"].append("g").attr("class",q),this.getHole=function(tt){return this.isSmith?0:tt.hole},this.getSector=function(tt){return this.isSmith?[0,360]:tt.sector},this.getRadial=function(tt){return this.isSmith?tt.realaxis:tt.radialaxis},this.getAngular=function(tt){return this.isSmith?tt.imaginaryaxis:tt.angularaxis},J||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=j.prototype;X.exports=function(ot,q,J){return new j(ot,q,J)},V.plot=function(ot,q){for(var J=this,it=q[J.id],Z=!1,tt=0;tt<ot.length;tt++){var st=ot[tt][0].trace;if(st.cliponaxis===!1){Z=!0;break}}J._hasClipOnAxisFalse=Z,J.updateLayers(q,it),J.updateLayout(q,it),e.generalUpdatePerTraceModule(J.gd,J,ot,it),J.updateFx(q,it),J.isSmith&&(delete it.realaxis.range,delete it.imaginaryaxis.range)},V.updateLayers=function(ot,q){var J=this,it=J.isSmith,Z=J.layers,tt=J.getRadial(q),st=J.getAngular(q),Q=P.layerNames,G=Q.indexOf("frontplot"),ut=Q.slice(0,G),at=st.layer==="below traces",dt=tt.layer==="below traces";at&&ut.push("angular-line"),dt&&ut.push("radial-line"),at&&ut.push("angular-axis"),dt&&ut.push("radial-axis"),ut.push("frontplot"),at||ut.push("angular-line"),dt||ut.push("radial-line"),at||ut.push("angular-axis"),dt||ut.push("radial-axis");var gt=(it?"smith":"polar")+"sublayer",wt=J.framework.selectAll("."+gt).data(ut,String);wt.enter().append("g").attr("class",function(kt){return gt+" "+kt}).each(function(kt){var Ot=Z[kt]=x.select(this);switch(kt){case"frontplot":it||Ot.append("g").classed("barlayer",!0),Ot.append("g").classed("scatterlayer",!0);break;case"backplot":Ot.append("g").classed("maplayer",!0);break;case"plotbg":Z.bg=Ot.append("path");break;case"radial-grid":Ot.style("fill","none");break;case"angular-grid":Ot.style("fill","none");break;case"radial-line":Ot.append("line").style("fill","none");break;case"angular-line":Ot.append("path").style("fill","none");break}}),wt.order()},V.updateLayout=function(ot,q){var J=this,it=J.layers,Z=ot._size,tt=J.getRadial(q),st=J.getAngular(q),Q=q.domain.x,G=q.domain.y;J.xOffset=Z.l+Z.w*Q[0],J.yOffset=Z.t+Z.h*(1-G[1]);var ut=J.xLength=Z.w*(Q[1]-Q[0]),at=J.yLength=Z.h*(G[1]-G[0]),dt=J.getSector(q);J.sectorInRad=dt.map(F);var gt=J.sectorBBox=K(dt),wt=gt[2]-gt[0],kt=gt[3]-gt[1],Ot=at/ut,bt=Math.abs(kt/wt),_t,mt,Pt,Rt,Ht;Ot>bt?(_t=ut,mt=ut*bt,Ht=(at-mt)/Z.h/2,Pt=[Q[0],Q[1]],Rt=[G[0]+Ht,G[1]-Ht]):(_t=at/bt,mt=at,Ht=(ut-_t)/Z.w/2,Pt=[Q[0]+Ht,Q[1]-Ht],Rt=[G[0],G[1]]),J.xLength2=_t,J.yLength2=mt,J.xDomain2=Pt,J.yDomain2=Rt;var Dt=J.xOffset2=Z.l+Z.w*Pt[0],Xt=J.yOffset2=Z.t+Z.h*(1-Rt[1]),se=J.radius=_t/wt,Yt=J.innerRadius=J.getHole(q)*se,ue=J.cx=Dt-se*gt[0],ie=J.cy=Xt+se*gt[3],fe=J.cxx=ue-Dt,ce=J.cyy=ie-Xt,ye=tt.side,de;ye==="counterclockwise"?(de=ye,ye="top"):ye==="clockwise"&&(de=ye,ye="bottom"),J.radialAxis=J.mockAxis(ot,q,tt,{_id:"x",side:ye,_trueSide:de,domain:[Yt/Z.w,se/Z.w]}),J.angularAxis=J.mockAxis(ot,q,st,{side:"right",domain:[0,Math.PI],autorange:!1}),J.doAutoRange(ot,q),J.updateAngularAxis(ot,q),J.updateRadialAxis(ot,q),J.updateRadialAxisTitle(ot,q),J.xaxis=J.mockCartesianAxis(ot,q,{_id:"x",domain:Pt}),J.yaxis=J.mockCartesianAxis(ot,q,{_id:"y",domain:Rt});var Te=J.pathSubplot();J.clipPaths.forTraces.select("path").attr("d",Te).attr("transform",d(fe,ce)),it.frontplot.attr("transform",d(Dt,Xt)).call(r.setClipUrl,J._hasClipOnAxisFalse?null:J.clipIds.forTraces,J.gd),it.bg.attr("d",Te).attr("transform",d(ue,ie)).call(v.fill,q.bgcolor)},V.mockAxis=function(ot,q,J,it){var Z=M.extendFlat({},J,it);return l(Z,q,ot),Z},V.mockCartesianAxis=function(ot,q,J){var it=this,Z=it.isSmith,tt=J._id,st=M.extendFlat({type:"linear"},J);n(st,ot);var Q={x:[0,2],y:[1,3]};return st.setRange=function(){var G=it.sectorBBox,ut=Q[tt],at=it.radialAxis._rl,dt=(at[1]-at[0])/(1-it.getHole(q));st.range=[G[ut[0]]*dt,G[ut[1]]*dt]},st.isPtWithinRange=tt==="x"&&!Z?function(G){return it.isPtInside(G)}:function(){return!0},st.setRange(),st.setScale(),st},V.doAutoRange=function(ot,q){var J=this,it=J.gd,Z=J.radialAxis,tt=J.getRadial(q);o(it,Z);var st=Z.range;if(tt.range=st.slice(),tt._input.range=st.slice(),Z._rl=[Z.r2l(st[0],null,"gregorian"),Z.r2l(st[1],null,"gregorian")],Z.minallowed!==void 0){var Q=Z.r2l(Z.minallowed);Z._rl[0]>Z._rl[1]?Z._rl[1]=Math.max(Z._rl[1],Q):Z._rl[0]=Math.max(Z._rl[0],Q)}if(Z.maxallowed!==void 0){var G=Z.r2l(Z.maxallowed);Z._rl[0]<Z._rl[1]?Z._rl[1]=Math.min(Z._rl[1],G):Z._rl[0]=Math.min(Z._rl[0],G)}},V.updateRadialAxis=function(ot,q){var J=this,it=J.gd,Z=J.layers,tt=J.radius,st=J.innerRadius,Q=J.cx,G=J.cy,ut=J.getRadial(q),at=z(J.getSector(q)[0],360),dt=J.radialAxis,gt=st<tt,wt=J.isSmith;wt||(J.fillViewInitialKey("radialaxis.angle",ut.angle),J.fillViewInitialKey("radialaxis.range",dt.range.slice()),dt.setGeometry()),dt.tickangle==="auto"&&at>90&&at<=270&&(dt.tickangle=180);var kt=wt?function(se){var Yt=O(J,L([se.x,0]));return d(Yt[0]-Q,Yt[1]-G)}:function(se){return d(dt.l2p(se.x)+st,0)},Ot=wt?function(se){return R(J,se.x,-1/0,1/0)}:function(se){return J.pathArc(dt.r2p(se.x)+st)},bt=W(ut);if(J.radialTickLayout!==bt&&(Z["radial-axis"].selectAll(".xtick").remove(),J.radialTickLayout=bt),gt){dt.setScale();var _t=0,mt=wt?(dt.tickvals||[]).filter(function(se){return se>=0}).map(function(se){return s.tickText(dt,se,!0,!1)}):s.calcTicks(dt),Pt=wt?mt:s.clipEnds(dt,mt),Rt=s.getTickSigns(dt)[2];wt&&((dt.ticks==="top"&&dt.side==="bottom"||dt.ticks==="bottom"&&dt.side==="top")&&(Rt=-Rt),dt.ticks==="top"&&dt.side==="top"&&(_t=-dt.ticklen),dt.ticks==="bottom"&&dt.side==="bottom"&&(_t=dt.ticklen)),s.drawTicks(it,dt,{vals:mt,layer:Z["radial-axis"],path:s.makeTickPath(dt,0,Rt),transFn:kt,crisp:!1}),s.drawGrid(it,dt,{vals:Pt,layer:Z["radial-grid"],path:Ot,transFn:M.noop,crisp:!1}),s.drawLabels(it,dt,{vals:mt,layer:Z["radial-axis"],transFn:kt,labelFns:s.makeLabelFns(dt,_t)})}var Ht=J.radialAxisAngle=J.vangles?I(et(F(ut.angle),J.vangles)):ut.angle,Dt=d(Q,G),Xt=Dt+m(-Ht);lt(Z["radial-axis"],gt&&(ut.showticklabels||ut.ticks),{transform:Xt}),lt(Z["radial-grid"],gt&&ut.showgrid,{transform:wt?"":Dt}),lt(Z["radial-line"].select("line"),gt&&ut.showline,{x1:wt?-tt:st,y1:0,x2:tt,y2:0,transform:Xt}).attr("stroke-width",ut.linewidth).call(v.stroke,ut.linecolor)},V.updateRadialAxisTitle=function(ot,q,J){if(!this.isSmith){var it=this,Z=it.gd,tt=it.radius,st=it.cx,Q=it.cy,G=it.getRadial(q),ut=it.id+"title",at=0;if(G.title){var dt=r.bBox(it.layers["radial-axis"].node()).height,gt=G.title.font.size,wt=G.side;at=wt==="top"?gt:wt==="counterclockwise"?-(dt+gt*.4):dt+gt*.8}var kt=J!==void 0?J:it.radialAxisAngle,Ot=F(kt),bt=Math.cos(Ot),_t=Math.sin(Ot),mt=st+tt/2*bt+at*_t,Pt=Q-tt/2*_t+at*bt;it.layers["radial-axis-title"]=k.draw(Z,ut,{propContainer:G,propName:it.id+".radialaxis.title",placeholder:N(Z,"Click to enter radial axis title"),attributes:{x:mt,y:Pt,"text-anchor":"middle"},transform:{rotate:-kt}})}},V.updateAngularAxis=function(ot,q){var J=this,it=J.gd,Z=J.layers,tt=J.radius,st=J.innerRadius,Q=J.cx,G=J.cy,ut=J.getAngular(q),at=J.angularAxis,dt=J.isSmith;dt||(J.fillViewInitialKey("angularaxis.rotation",ut.rotation),at.setGeometry(),at.setScale());var gt=dt?function(Yt){var ue=O(J,L([0,Yt.x]));return Math.atan2(ue[0]-Q,ue[1]-G)-Math.PI/2}:function(Yt){return at.t2g(Yt.x)};at.type==="linear"&&at.thetaunit==="radians"&&(at.tick0=I(at.tick0),at.dtick=I(at.dtick));var wt=function(Yt){return d(Q+tt*Math.cos(Yt),G-tt*Math.sin(Yt))},kt=dt?function(Yt){var ue=O(J,L([0,Yt.x]));return d(ue[0],ue[1])}:function(Yt){return wt(gt(Yt))},Ot=dt?function(Yt){var ue=O(J,L([0,Yt.x])),ie=Math.atan2(ue[0]-Q,ue[1]-G)-Math.PI/2;return d(ue[0],ue[1])+m(-I(ie))}:function(Yt){var ue=gt(Yt);return wt(ue)+m(-I(ue))},bt=dt?function(Yt){return A(J,Yt.x,0,1/0)}:function(Yt){var ue=gt(Yt),ie=Math.cos(ue),fe=Math.sin(ue);return"M"+[Q+st*ie,G-st*fe]+"L"+[Q+tt*ie,G-tt*fe]},_t=s.makeLabelFns(at,0),mt=_t.labelStandoff,Pt={};Pt.xFn=function(Yt){var ue=gt(Yt);return Math.cos(ue)*mt},Pt.yFn=function(Yt){var ue=gt(Yt),ie=Math.sin(ue)>0?.2:1;return-Math.sin(ue)*(mt+Yt.fontSize*ie)+Math.abs(Math.cos(ue))*(Yt.fontSize*T)},Pt.anchorFn=function(Yt){var ue=gt(Yt),ie=Math.cos(ue);return Math.abs(ie)<.1?"middle":ie>0?"start":"end"},Pt.heightFn=function(Yt,ue,ie){var fe=gt(Yt);return-.5*(1+Math.sin(fe))*ie};var Rt=W(ut);J.angularTickLayout!==Rt&&(Z["angular-axis"].selectAll("."+at._id+"tick").remove(),J.angularTickLayout=Rt);var Ht=dt?[1/0].concat(at.tickvals||[]).map(function(Yt){return s.tickText(at,Yt,!0,!1)}):s.calcTicks(at);dt&&(Ht[0].text="∞",Ht[0].fontSize*=1.75);var Dt;if(q.gridshape==="linear"?(Dt=Ht.map(gt),M.angleDelta(Dt[0],Dt[1])<0&&(Dt=Dt.slice().reverse())):Dt=null,J.vangles=Dt,at.type==="category"&&(Ht=Ht.filter(function(Yt){return M.isAngleInsideSector(gt(Yt),J.sectorInRad)})),at.visible){var Xt=at.ticks==="inside"?-1:1,se=(at.linewidth||1)/2;s.drawTicks(it,at,{vals:Ht,layer:Z["angular-axis"],path:"M"+Xt*se+",0h"+Xt*at.ticklen,transFn:Ot,crisp:!1}),s.drawGrid(it,at,{vals:Ht,layer:Z["angular-grid"],path:bt,transFn:M.noop,crisp:!1}),s.drawLabels(it,at,{vals:Ht,layer:Z["angular-axis"],repositionOnUpdate:!0,transFn:kt,labelFns:Pt})}lt(Z["angular-line"].select("path"),ut.showline,{d:J.pathSubplot(),transform:d(Q,G)}).attr("stroke-width",ut.linewidth).call(v.stroke,ut.linecolor)},V.updateFx=function(ot,q){if(!this.gd._context.staticPlot){var J=!this.isSmith;J&&(this.updateAngularDrag(ot),this.updateRadialDrag(ot,q,0),this.updateRadialDrag(ot,q,1)),this.updateHoverAndMainDrag(ot)}},V.updateHoverAndMainDrag=function(ot){var q=this,J=q.isSmith,it=q.gd,Z=q.layers,tt=ot._zoomlayer,st=P.MINZOOM,Q=P.OFFEDGE,G=q.radius,ut=q.innerRadius,at=q.cx,dt=q.cy,gt=q.cxx,wt=q.cyy,kt=q.sectorInRad,Ot=q.vangles,bt=q.radialAxis,_t=u.clampTiny,mt=u.findXYatLength,Pt=u.findEnclosingVertexAngles,Rt=P.cornerHalfWidth,Ht=P.cornerLen/2,Dt,Xt,se=h.makeDragger(Z,"path","maindrag",ot.dragmode===!1?"none":"crosshair");x.select(se).attr("d",q.pathSubplot()).attr("transform",d(at,dt)),se.onmousemove=function(ke){f.hover(it,ke,q.id),it._fullLayout._lasthover=se,it._fullLayout._hoversubplot=q.id},se.onmouseout=function(ke){it._dragging||b.unhover(it,ke)};var Yt={element:se,gd:it,subplot:q.id,plotinfo:{id:q.id,xaxis:q.xaxis,yaxis:q.yaxis},xaxes:[q.xaxis],yaxes:[q.yaxis]},ue,ie,fe,ce,ye,de,Te,Et,Vt;function te(ke,Le){return Math.sqrt(ke*ke+Le*Le)}function Jt(ke,Le){return te(ke-gt,Le-wt)}function Ut(ke,Le){return Math.atan2(wt-Le,ke-gt)}function It(ke,Le){return[ke*Math.cos(Le),ke*Math.sin(-Le)]}function pt(ke,Le){if(ke===0)return q.pathSector(2*Rt);var Ge=Ht/ke,mr=Le-Ge,xe=Le+Ge,Xe=Math.max(0,Math.min(ke,G)),Ye=Xe-Rt,_r=Xe+Rt;return"M"+It(Ye,mr)+"A"+[Ye,Ye]+" 0,0,0 "+It(Ye,xe)+"L"+It(_r,xe)+"A"+[_r,_r]+" 0,0,1 "+It(_r,mr)+"Z"}function xt(ke,Le,Ge){if(ke===0)return q.pathSector(2*Rt);var mr=It(ke,Le),xe=It(ke,Ge),Xe=_t((mr[0]+xe[0])/2),Ye=_t((mr[1]+xe[1])/2),_r,rr;if(Xe&&Ye){var re=Ye/Xe,le=-1/re,me=mt(Rt,re,Xe,Ye);_r=mt(Ht,le,me[0][0],me[0][1]),rr=mt(Ht,le,me[1][0],me[1][1])}else{var Ee,ze;Ye?(Ee=Ht,ze=Rt):(Ee=Rt,ze=Ht),_r=[[Xe-Ee,Ye-ze],[Xe+Ee,Ye-ze]],rr=[[Xe-Ee,Ye+ze],[Xe+Ee,Ye+ze]]}return"M"+_r.join("L")+"L"+rr.reverse().join("L")+"Z"}function Ct(){fe=null,ce=null,ye=q.pathSubplot(),de=!1;var ke=it._fullLayout[q.id];Te=E(ke.bgcolor).getLuminance(),Et=h.makeZoombox(tt,Te,at,dt,ye),Et.attr("fill-rule","evenodd"),Vt=h.makeCorners(tt,at,dt),p(it)}function At(ke,Le){return Le=Math.max(Math.min(Le,G),ut),ke<Q?ke=0:G-ke<Q?ke=G:Le<Q?Le=0:G-Le<Q&&(Le=G),Math.abs(Le-ke)>st?(ke<Le?(fe=ke,ce=Le):(fe=Le,ce=ke),!0):(fe=null,ce=null,!1)}function Ft(ke,Le){ke=ke||ye,Le=Le||"M0,0Z",Et.attr("d",ke),Vt.attr("d",Le),h.transitionZoombox(Et,Vt,de,Te),de=!0;var Ge={};Je(Ge),it.emit("plotly_relayouting",Ge)}function Wt(ke,Le){ke=ke*Dt,Le=Le*Xt;var Ge=ue+ke,mr=ie+Le,xe=Jt(ue,ie),Xe=Math.min(Jt(Ge,mr),G),Ye=Ut(ue,ie),_r,rr;At(xe,Xe)&&(_r=ye+q.pathSector(ce),fe&&(_r+=q.pathSector(fe)),rr=pt(fe,Ye)+pt(ce,Ye)),Ft(_r,rr)}function Qt(ke,Le,Ge,mr){var xe=u.findIntersectionXY(Ge,mr,Ge,[ke-gt,wt-Le]);return te(xe[0],xe[1])}function he(ke,Le){var Ge=ue+ke,mr=ie+Le,xe=Ut(ue,ie),Xe=Ut(Ge,mr),Ye=Pt(xe,Ot),_r=Pt(Xe,Ot),rr=Qt(ue,ie,Ye[0],Ye[1]),re=Math.min(Qt(Ge,mr,_r[0],_r[1]),G),le,me;At(rr,re)&&(le=ye+q.pathSector(ce),fe&&(le+=q.pathSector(fe)),me=[xt(fe,Ye[0],Ye[1]),xt(ce,Ye[0],Ye[1])].join(" ")),Ft(le,me)}function ve(){if(h.removeZoombox(it),!(fe===null||ce===null)){var ke={};Je(ke),h.showDoubleClickNotifier(it),i.call("_guiRelayout",it,ke)}}function Je(ke){var Le=bt._rl,Ge=(Le[1]-Le[0])/(1-ut/G)/G,mr=[Le[0]+(fe-ut)*Ge,Le[0]+(ce-ut)*Ge];ke[q.id+".radialaxis.range"]=mr}function Ue(ke,Le){var Ge=it._fullLayout.clickmode;if(h.removeZoombox(it),ke===2){var mr={};for(var xe in q.viewInitial)mr[q.id+"."+xe]=q.viewInitial[xe];it.emit("plotly_doubleclick",null),i.call("_guiRelayout",it,mr)}Ge.indexOf("select")>-1&&ke===1&&c(Le,it,[q.xaxis],[q.yaxis],q.id,Yt),Ge.indexOf("event")>-1&&f.click(it,Le,q.id)}Yt.prepFn=function(ke,Le,Ge){var mr=it._fullLayout.dragmode,xe=se.getBoundingClientRect();it._fullLayout._calcInverseTransform(it);var Xe=it._fullLayout._invTransform;Dt=it._fullLayout._invScaleX,Xt=it._fullLayout._invScaleY;var Ye=M.apply3DTransform(Xe)(Le-xe.left,Ge-xe.top);if(ue=Ye[0],ie=Ye[1],Ot){var _r=u.findPolygonOffset(G,kt[0],kt[1],Ot);ue+=gt+_r[0],ie+=wt+_r[1]}switch(mr){case"zoom":Yt.clickFn=Ue,J||(Ot?Yt.moveFn=he:Yt.moveFn=Wt,Yt.doneFn=ve,Ct());break;case"select":case"lasso":a(ke,Le,Ge,Yt,mr);break}},b.init(Yt)},V.updateRadialDrag=function(ot,q,J){var it=this,Z=it.gd,tt=it.layers,st=it.radius,Q=it.innerRadius,G=it.cx,ut=it.cy,at=it.radialAxis,dt=P.radialDragBoxSize,gt=dt/2;if(!at.visible)return;var wt=F(it.radialAxisAngle),kt=at._rl,Ot=kt[0],bt=kt[1],_t=kt[J],mt=.75*(kt[1]-kt[0])/(1-it.getHole(q))/st,Pt,Rt,Ht;J?(Pt=G+(st+gt)*Math.cos(wt),Rt=ut-(st+gt)*Math.sin(wt),Ht="radialdrag"):(Pt=G+(Q-gt)*Math.cos(wt),Rt=ut-(Q-gt)*Math.sin(wt),Ht="radialdrag-inner");var Dt=h.makeRectDragger(tt,Ht,"crosshair",-gt,-gt,dt,dt),Xt={element:Dt,gd:Z};ot.dragmode===!1&&(Xt.dragmode=!1),lt(x.select(Dt),at.visible&&Q<st,{transform:d(Pt,Rt)});var se,Yt,ue;function ie(Te,Et){if(se)se(Te,Et);else{var Vt=[Te,-Et],te=[Math.cos(wt),Math.sin(wt)],Jt=Math.abs(M.dot(Vt,te)/Math.sqrt(M.dot(Vt,Vt)));isNaN(Jt)||(se=Jt<.5?ye:de)}var Ut={};fe(Ut),Z.emit("plotly_relayouting",Ut)}function fe(Te){Yt!==null?Te[it.id+".radialaxis.angle"]=Yt:ue!==null&&(Te[it.id+".radialaxis.range["+J+"]"]=ue)}function ce(){Yt!==null?i.call("_guiRelayout",Z,it.id+".radialaxis.angle",Yt):ue!==null&&i.call("_guiRelayout",Z,it.id+".radialaxis.range["+J+"]",ue)}function ye(Te,Et){if(J!==0){var Vt=Pt+Te,te=Rt+Et;Yt=Math.atan2(ut-te,Vt-G),it.vangles&&(Yt=et(Yt,it.vangles)),Yt=I(Yt);var Jt=d(G,ut)+m(-Yt);tt["radial-axis"].attr("transform",Jt),tt["radial-line"].select("line").attr("transform",Jt);var Ut=it.gd._fullLayout,It=Ut[it.id];it.updateRadialAxisTitle(Ut,It,Yt)}}function de(Te,Et){var Vt=M.dot([Te,-Et],[Math.cos(wt),Math.sin(wt)]);if(ue=_t-mt*Vt,mt>0!=(J?ue>Ot:ue<bt)){ue=null;return}var te=Z._fullLayout,Jt=te[it.id];at.range[J]=ue,at._rl[J]=ue,it.updateRadialAxis(te,Jt),it.xaxis.setRange(),it.xaxis.setScale(),it.yaxis.setRange(),it.yaxis.setScale();var Ut=!1;for(var It in it.traceHash){var pt=it.traceHash[It],xt=M.filterVisible(pt),Ct=pt[0][0].trace._module;Ct.plot(Z,it,xt,Jt),i.traceIs(It,"gl")&&xt.length&&(Ut=!0)}Ut&&(S(Z),_(Z))}Xt.prepFn=function(){se=null,Yt=null,ue=null,Xt.moveFn=ie,Xt.doneFn=ce,p(Z)},Xt.clampFn=function(Te,Et){return Math.sqrt(Te*Te+Et*Et)<P.MINDRAG&&(Te=0,Et=0),[Te,Et]},b.init(Xt)},V.updateAngularDrag=function(ot){var q=this,J=q.gd,it=q.layers,Z=q.radius,tt=q.angularAxis,st=q.cx,Q=q.cy,G=q.cxx,ut=q.cyy,at=P.angularDragBoxSize,dt=h.makeDragger(it,"path","angulardrag",ot.dragmode===!1?"none":"move"),gt={element:dt,gd:J};ot.dragmode===!1?gt.dragmode=!1:x.select(dt).attr("d",q.pathAnnulus(Z,Z+at)).attr("transform",d(st,Q)).call(w,"move");function wt(ue,ie){return Math.atan2(ut+at-ie,ue-G-at)}var kt=it.frontplot.select(".scatterlayer").selectAll(".trace"),Ot=kt.selectAll(".point"),bt=kt.selectAll(".textpoint"),_t,mt,Pt,Rt,Ht,Dt;function Xt(ue,ie){var fe=q.gd._fullLayout,ce=fe[q.id],ye=_t+ue*ot._invScaleX,de=mt+ie*ot._invScaleY,Te=wt(ye,de),Et=I(Te-Dt);if(Rt=Pt+Et,it.frontplot.attr("transform",d(q.xOffset2,q.yOffset2)+m([-Et,G,ut])),q.vangles){Ht=q.radialAxisAngle+Et;var Vt=d(st,Q)+m(-Et),te=d(st,Q)+m(-Ht);it.bg.attr("transform",Vt),it["radial-grid"].attr("transform",Vt),it["radial-axis"].attr("transform",te),it["radial-line"].select("line").attr("transform",te),q.updateRadialAxisTitle(fe,ce,Ht)}else q.clipPaths.forTraces.select("path").attr("transform",d(G,ut)+m(Et));Ot.each(function(){var At=x.select(this),Ft=r.getTranslate(At);At.attr("transform",d(Ft.x,Ft.y)+m([Et]))}),bt.each(function(){var At=x.select(this),Ft=At.select("text"),Wt=r.getTranslate(At);At.attr("transform",m([Et,Ft.attr("x"),Ft.attr("y")])+d(Wt.x,Wt.y))}),tt.rotation=M.modHalf(Rt,360),q.updateAngularAxis(fe,ce),q._hasClipOnAxisFalse&&!M.isFullCircle(q.sectorInRad)&&kt.call(r.hideOutsideRangePoints,q);var Jt=!1;for(var Ut in q.traceHash)if(i.traceIs(Ut,"gl")){var It=q.traceHash[Ut],pt=M.filterVisible(It),xt=It[0][0].trace._module;xt.plot(J,q,pt,ce),pt.length&&(Jt=!0)}Jt&&(S(J),_(J));var Ct={};se(Ct),J.emit("plotly_relayouting",Ct)}function se(ue){ue[q.id+".angularaxis.rotation"]=Rt,q.vangles&&(ue[q.id+".radialaxis.angle"]=Ht)}function Yt(){bt.select("text").attr("transform",null);var ue={};se(ue),i.call("_guiRelayout",J,ue)}gt.prepFn=function(ue,ie,fe){var ce=ot[q.id];Pt=ce.angularaxis.rotation;var ye=dt.getBoundingClientRect();_t=ie-ye.left,mt=fe-ye.top,J._fullLayout._calcInverseTransform(J);var de=M.apply3DTransform(ot._invTransform)(_t,mt);_t=de[0],mt=de[1],Dt=wt(_t,mt),gt.moveFn=Xt,gt.doneFn=Yt,p(J)},q.vangles&&!M.isFullCircle(q.sectorInRad)&&(gt.prepFn=M.noop,w(x.select(dt),null)),b.init(gt)},V.isPtInside=function(ot){if(this.isSmith)return!0;var q=this.sectorInRad,J=this.vangles,it=this.angularAxis.c2g(ot.theta),Z=this.radialAxis,tt=Z.c2l(ot.r),st=Z._rl,Q=J?u.isPtInsidePolygon:M.isPtInsideSector;return Q(tt,it,st,q,J)},V.pathArc=function(ot){var q=this.sectorInRad,J=this.vangles,it=J?u.pathPolygon:M.pathArc;return it(ot,q[0],q[1],J)},V.pathSector=function(ot){var q=this.sectorInRad,J=this.vangles,it=J?u.pathPolygon:M.pathSector;return it(ot,q[0],q[1],J)},V.pathAnnulus=function(ot,q){var J=this.sectorInRad,it=this.vangles,Z=it?u.pathPolygonAnnulus:M.pathAnnulus;return Z(ot,q,J[0],J[1],it)},V.pathSubplot=function(){var ot=this.innerRadius,q=this.radius;return ot?this.pathAnnulus(ot,q):this.pathSector(q)},V.fillViewInitialKey=function(ot,q){ot in this.viewInitial||(this.viewInitial[ot]=q)};function W(ot){var q=ot.ticks+String(ot.ticklen)+String(ot.showticklabels);return"side"in ot&&(q+=ot.side),q}function K(ot){var q=ot[0],J=ot[1],it=J-q,Z=z(q,360),tt=Z+it,st=Math.cos(F(Z)),Q=Math.sin(F(Z)),G=Math.cos(F(tt)),ut=Math.sin(F(tt)),at,dt,gt,wt;return Z<=90&&tt>=90||Z>90&&tt>=450?wt=1:Q<=0&&ut<=0?wt=0:wt=Math.max(Q,ut),Z<=180&&tt>=180||Z>180&&tt>=540?at=-1:st>=0&&G>=0?at=0:at=Math.min(st,G),Z<=270&&tt>=270||Z>270&&tt>=630?dt=-1:Q>=0&&ut>=0?dt=0:dt=Math.min(Q,ut),tt>=360?gt=1:st<=0&&G<=0?gt=0:gt=Math.max(st,G),[at,dt,gt,wt]}function et(ot,q){var J=function(Z){return M.angleDist(ot,Z)},it=M.findIndexOfMin(q,J);return q[it]}function lt(ot,q,J){return q?(ot.attr("display",null),ot.attr(J)):ot&&ot.attr("display","none"),ot}},57696:function(X,B,t){var x=t(3400),E=t(78344),i=x.deg2rad,M=x.rad2deg;X.exports=function(e,s,n){switch(E(e,n),e._id){case"x":case"radialaxis":m(e,s);break;case"angularaxis":r(e,s);break}};function m(e,s){var n=s._subplot;e.setGeometry=function(){var l=e._rl[0],o=e._rl[1],h=n.innerRadius,b=(n.radius-h)/(o-l),f=h/b,k=l>o?function(a){return a<=0}:function(a){return a>=0};e.c2g=function(a){var c=e.c2l(a)-l;return(k(c)?c:0)+f},e.g2c=function(a){return e.l2c(a+l-f)},e.g2p=function(a){return a*b},e.c2p=function(a){return e.g2p(e.c2g(a))}}}function d(e,s){return s==="degrees"?i(e):e}function v(e,s){return s==="degrees"?M(e):e}function r(e,s){var n=e.type;if(n==="linear"){var l=e.d2c,o=e.c2d;e.d2c=function(h,b){return d(l(h),b)},e.c2d=function(h,b){return o(v(h,b))}}e.makeCalcdata=function(h,b){var f=h[b],k=h._length,a,c,p=function(P){return e.d2c(P,h.thetaunit)};if(f)for(a=new Array(k),c=0;c<k;c++)a[c]=p(f[c]);else{var w=b+"0",S="d"+b,_=w in h?p(h[w]):0,T=h[S]?p(h[S]):(e.period||2*Math.PI)/k;for(a=new Array(k),c=0;c<k;c++)a[c]=_+c*T}return a},e.setGeometry=function(){var h=s.sector,b=h.map(i),f={clockwise:-1,counterclockwise:1}[e.direction],k=i(e.rotation),a=function(u){return f*u+k},c=function(u){return(u-k)/f},p,w,S,_;switch(n){case"linear":w=p=x.identity,_=i,S=M,e.range=x.isFullCircle(b)?[h[0],h[0]+360]:b.map(c).map(M);break;case"category":var T=e._categories.length,P=e.period?Math.max(e.period,T):T;P===0&&(P=1),w=_=function(u){return u*2*Math.PI/P},p=S=function(u){return u*P/Math.PI/2},e.range=[0,P];break}e.c2g=function(u){return a(w(u))},e.g2c=function(u){return p(c(u))},e.t2g=function(u){return a(_(u))},e.g2t=function(u){return S(c(u))}}}},55012:function(X){X.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(X){function B(m){return m<0?-1:m>0?1:0}function t(m){var d=m[0],v=m[1];if(!isFinite(d)||!isFinite(v))return[1,0];var r=(d+1)*(d+1)+v*v;return[(d*d+v*v-1)/r,2*v/r]}function x(m,d){var v=d[0],r=d[1];return[v*m.radius+m.cx,-r*m.radius+m.cy]}function E(m,d){return d*m.radius}function i(m,d,v,r){var e=x(m,t([v,d])),s=e[0],n=e[1],l=x(m,t([r,d])),o=l[0],h=l[1];if(d===0)return["M"+s+","+n,"L"+o+","+h].join(" ");var b=E(m,1/Math.abs(d));return["M"+s+","+n,"A"+b+","+b+" 0 0,"+(d<0?1:0)+" "+o+","+h].join(" ")}function M(m,d,v,r){var e=E(m,1/(d+1)),s=x(m,t([d,v])),n=s[0],l=s[1],o=x(m,t([d,r])),h=o[0],b=o[1];if(B(v)!==B(r)){var f=x(m,t([d,0])),k=f[0],a=f[1];return["M"+n+","+l,"A"+e+","+e+" 0 0,"+(0<v?0:1)+" "+k+","+a,"A"+e+","+e+" 0 0,"+(r<0?0:1)+h+","+b].join(" ")}return["M"+n+","+l,"A"+e+","+e+" 0 0,"+(r<v?0:1)+" "+h+","+b].join(" ")}X.exports={smith:t,reactanceArc:i,resistanceArc:M,smithTransform:x}},47788:function(X,B,t){var x=t(84888).KY,E=t(3400).counterRegex,i=t(62400),M=t(55012),m=M.attr,d=M.name,v=E(d),r={};r[m]={valType:"subplotid",dflt:d,editType:"calc"};function e(n){for(var l=n._fullLayout,o=n.calcdata,h=l._subplots[d],b=0;b<h.length;b++){var f=h[b],k=x(o,d,f),a=l[f]._subplot;a||(a=i(n,f,!0),l[f]._subplot=a),a.plot(k,l,n._promises)}}function s(n,l,o,h){for(var b=h._subplots[d]||[],f=0;f<b.length;f++){var k=b[f],a=h[k]._subplot;if(!l[k]&&a){a.framework.remove();for(var c in a.clipPaths)a.clipPaths[c].remove()}}}X.exports={attr:m,name:d,idRoot:d,idRegex:v,attrRegex:v,attributes:r,layoutAttributes:t(6183),supplyLayoutDefaults:t(22836),plot:e,clean:s,toSVG:t(57952).toSVG}},6183:function(X,B,t){var x=t(22548),E=t(94724),i=t(86968).u,M=t(3400).extendFlat,m=t(67824).overrideAll,d=m({color:E.color,showline:M({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:M({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),v=m({ticklen:E.ticklen,tickwidth:M({},E.tickwidth,{dflt:2}),tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,tickfont:E.tickfont,tickformat:E.tickformat,hoverformat:E.hoverformat,layer:E.layer},"plot","from-root"),r=M({visible:M({},E.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:M({},E.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},d,v),e=M({visible:M({},E.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:E.ticks,editType:"calc"},d,v);X.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:x.background},realaxis:r,imaginaryaxis:e,editType:"calc"}},22836:function(X,B,t){var x=t(3400),E=t(76308),i=t(31780),M=t(168),m=t(84888).op,d=t(42568),v=t(95936),r=t(42136),e=t(78344),s=t(6183),n=t(55012),l=n.axisNames,o=b(function(f){return x.isTypedArray(f)&&(f=Array.from(f)),f.slice().reverse().map(function(k){return-k}).concat([0]).concat(f)},String);function h(f,k,a,c){var p=a("bgcolor");c.bgColor=E.combine(p,c.paper_bgcolor);var w=m(c.fullData,n.name,c.id),S=c.layoutOut,_;function T(V,W){return a(_+"."+V,W)}for(var P=0;P<l.length;P++){_=l[P],x.isPlainObject(f[_])||(f[_]={});var u=f[_],g=i.newContainer(k,_);g._id=g._name=_,g._attr=c.id+"."+_,g._traceIndices=w.map(function(V){return V._expandedIndex});var L=T("visible");if(g.type="linear",e(g,S),d(u,g,T,g.type),L){var A=_==="realaxis";if(A&&T("side"),A)T("tickvals");else{var R=o(k.realaxis.tickvals||s.realaxis.tickvals.dflt);T("tickvals",R)}x.isTypedArray(g.tickvals)&&(g.tickvals=Array.from(g.tickvals));var O,N,z,F,I=c.font||{};L&&(O=T("color"),N=O===u.color?O:I.color,z=I.size,F=I.family),v(u,g,T,g.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!A,noExp:!0,font:{color:N,size:z,family:F}}),x.coerce2(f,k,s,_+".ticklen"),x.coerce2(f,k,s,_+".tickwidth"),x.coerce2(f,k,s,_+".tickcolor",k.color);var j=T("ticks");j||(delete k[_].ticklen,delete k[_].tickwidth,delete k[_].tickcolor),r(u,g,T,{dfltColor:O,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[_]}),T("layer")}T("hoverformat"),delete g.type,g._input=u}}X.exports=function(f,k,a){M(f,k,a,{noUirevision:!0,type:n.name,attributes:s,handleDefaults:h,font:k.font,paper_bgcolor:k.paper_bgcolor,fullData:a,layoutOut:k})};function b(f,k){var a={};return function(c){var p=k?k(c):c;if(p in a)return a[p];var w=f(c);return a[p]=w,w}}},168:function(X,B,t){var x=t(3400),E=t(31780),i=t(86968).Q;X.exports=function(M,m,d,v){var r=v.type,e=v.attributes,s=v.handleDefaults,n=v.partition||"x",l=m._subplots[r],o=l.length,h=o&&l[0].replace(/\d+$/,""),b,f;function k(w,S){return x.coerce(b,f,e,w,S)}for(var a=0;a<o;a++){var c=l[a];M[c]?b=M[c]:b=M[c]={},f=E.newContainer(m,c,h),v.noUirevision||k("uirevision",m.uirevision);var p={};p[n]=[a/o,(a+1)/o],i(f,m,k,p),v.id=c,s(b,f,k,v)}}},21776:function(X,B,t){var x=t(26880);x.FORMAT_LINK,x.DATE_FORMAT_LINK;function E(i){var M=i.description?" "+i.description:"",m=i.keys||[];if(m.length>0){for(var d=[],v=0;v<m.length;v++)d[v]="`"+m[v]+"`";M=M+"Finally, the template string has access to ",m.length===1?M=M+"variable "+d[0]:M=M+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return M}B.Ks=function(i,M){i=i||{},M=M||{},E(M);var m={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(m.arrayOk=!0),m},B.Gw=function(i,M){i=i||{},M=M||{},E(M);var m={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(m.arrayOk=!0),m},B.ye=function(i,M){i=i||{},M=M||{},i.newshape,E(M);var m={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return m}},19352:function(X,B,t){var x=t(24696),E=t(84888).KY,i=t(3400).counterRegex,M="ternary";B.name=M;var m=B.attr="subplot";B.idRoot=M,B.idRegex=B.attrRegex=i(M);var d=B.attributes={};d[m]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=t(86379),B.supplyLayoutDefaults=t(38536),B.plot=function(v){for(var r=v._fullLayout,e=v.calcdata,s=r._subplots[M],n=0;n<s.length;n++){var l=s[n],o=E(e,M,l),h=r[l]._subplot;h||(h=new x({id:l,graphDiv:v,container:r._ternarylayer.node()},r),r[l]._subplot=h),h.plot(o,r,v._promises)}},B.clean=function(v,r,e,s){for(var n=s._subplots[M]||[],l=0;l<n.length;l++){var o=n[l],h=s[o]._subplot;!r[o]&&h&&(h.plotContainer.remove(),h.clipDef.remove(),h.clipDefRelative.remove(),h.layers["a-title"].remove(),h.layers["b-title"].remove(),h.layers["c-title"].remove())}}},86379:function(X,B,t){var x=t(22548),E=t(86968).u,i=t(94724),M=t(67824).overrideAll,m=t(92880).extendFlat,d={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:m({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:m({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:m({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},v=X.exports=M({domain:E({name:"ternary"}),bgcolor:{valType:"color",dflt:x.background},sum:{valType:"number",dflt:1,min:0},aaxis:d,baxis:d,caxis:d},"plot","from-root");v.uirevision={valType:"any",editType:"none"},v.aaxis.uirevision=v.baxis.uirevision=v.caxis.uirevision={valType:"any",editType:"none"}},38536:function(X,B,t){var x=t(76308),E=t(31780),i=t(3400),M=t(168),m=t(95936),d=t(42568),v=t(25404),r=t(26332),e=t(42136),s=t(86379),n=["aaxis","baxis","caxis"];X.exports=function(h,b,f){M(h,b,f,{type:"ternary",attributes:s,handleDefaults:l,font:b.font,paper_bgcolor:b.paper_bgcolor})};function l(h,b,f,k){var a=f("bgcolor"),c=f("sum");k.bgColor=x.combine(a,k.paper_bgcolor);for(var p,w,S,_=0;_<n.length;_++)p=n[_],w=h[p]||{},S=E.newContainer(b,p),S._name=p,o(w,S,k,b);var T=b.aaxis,P=b.baxis,u=b.caxis;T.min+P.min+u.min>=c&&(T.min=0,P.min=0,u.min=0,h.aaxis&&delete h.aaxis.min,h.baxis&&delete h.baxis.min,h.caxis&&delete h.caxis.min)}function o(h,b,f,k){var a=s[b._name];function c(g,L){return i.coerce(h,b,a,g,L)}c("uirevision",k.uirevision),b.type="linear";var p=c("color"),w=p!==a.color.dflt?p:f.font.color,S=b._name,_=S.charAt(0).toUpperCase(),T="Component "+_,P=c("title.text",T);b._hovertitle=P===T?P:_,i.coerceFont(c,"title.font",{family:f.font.family,size:i.bigFont(f.font.size),color:w}),c("min"),r(h,b,c,"linear"),d(h,b,c,"linear"),m(h,b,c,"linear",{noAutotickangles:!0}),v(h,b,c,{outerTicks:!0});var u=c("showticklabels");u&&(i.coerceFont(c,"tickfont",{family:f.font.family,size:f.font.size,color:w}),c("tickangle"),c("tickformat")),e(h,b,c,{dfltColor:p,bgColor:f.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:a}),c("hoverformat"),c("layer")}},24696:function(X,B,t){var x=t(33428),E=t(49760),i=t(24040),M=t(3400),m=M.strTranslate,d=M._,v=t(76308),r=t(43616),e=t(78344),s=t(92880).extendFlat,n=t(7316),l=t(54460),o=t(86476),h=t(93024),b=t(72760),f=b.freeMode,k=b.rectMode,a=t(81668),c=t(22676).prepSelect,p=t(22676).selectOnClick,w=t(22676).clearOutline,S=t(22676).clearSelectionsCache,_=t(33816);function T(I,j){this.id=I.id,this.graphDiv=I.graphDiv,this.init(j),this.makeFramework(j),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}X.exports=T;var P=T.prototype;P.init=function(I){this.container=I._ternarylayer,this.defs=I._defs,this.layoutId=I._uid,this.traceHash={},this.layers={}},P.plot=function(I,j){var V=this,W=j[V.id],K=j._size;V._hasClipOnAxisFalse=!1;for(var et=0;et<I.length;et++){var lt=I[et][0].trace;if(lt.cliponaxis===!1){V._hasClipOnAxisFalse=!0;break}}V.updateLayers(W),V.adjustLayout(W,K),n.generalUpdatePerTraceModule(V.graphDiv,V,I,W),V.layers.plotbg.select("path").call(v.fill,W.bgcolor)},P.makeFramework=function(I){var j=this,V=j.graphDiv,W=I[j.id],K=j.clipId="clip"+j.layoutId+j.id,et=j.clipIdRelative="clip-relative"+j.layoutId+j.id;j.clipDef=M.ensureSingleById(I._clips,"clipPath",K,function(lt){lt.append("path").attr("d","M0,0Z")}),j.clipDefRelative=M.ensureSingleById(I._clips,"clipPath",et,function(lt){lt.append("path").attr("d","M0,0Z")}),j.plotContainer=M.ensureSingle(j.container,"g",j.id),j.updateLayers(W),r.setClipUrl(j.layers.backplot,K,V),r.setClipUrl(j.layers.grids,K,V)},P.updateLayers=function(I){var j=this,V=j.layers,W=["draglayer","plotbg","backplot","grids"];I.aaxis.layer==="below traces"&&W.push("aaxis","aline"),I.baxis.layer==="below traces"&&W.push("baxis","bline"),I.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),I.aaxis.layer==="above traces"&&W.push("aaxis","aline"),I.baxis.layer==="above traces"&&W.push("baxis","bline"),I.caxis.layer==="above traces"&&W.push("caxis","cline");var K=j.plotContainer.selectAll("g.toplevel").data(W,String),et=["agrid","bgrid","cgrid"];K.enter().append("g").attr("class",function(lt){return"toplevel "+lt}).each(function(lt){var ot=x.select(this);V[lt]=ot,lt==="frontplot"?ot.append("g").classed("scatterlayer",!0):lt==="backplot"?ot.append("g").classed("maplayer",!0):lt==="plotbg"?ot.append("path").attr("d","M0,0Z"):lt==="aline"||lt==="bline"||lt==="cline"?ot.append("path"):lt==="grids"&&et.forEach(function(q){V[q]=ot.append("g").classed("grid "+q,!0)})}),K.order()};var u=Math.sqrt(4/3);P.adjustLayout=function(I,j){var V=this,W=I.domain,K=(W.x[0]+W.x[1])/2,et=(W.y[0]+W.y[1])/2,lt=W.x[1]-W.x[0],ot=W.y[1]-W.y[0],q=lt*j.w,J=ot*j.h,it=I.sum,Z=I.aaxis.min,tt=I.baxis.min,st=I.caxis.min,Q,G,ut,at,dt,gt;q>u*J?(at=J,ut=at*u):(ut=q,at=ut/u),dt=lt*ut/q,gt=ot*at/J,Q=j.l+j.w*K-ut/2,G=j.t+j.h*(1-et)-at/2,V.x0=Q,V.y0=G,V.w=ut,V.h=at,V.sum=it,V.xaxis={type:"linear",range:[Z+2*st-it,it-Z-2*tt],domain:[K-dt/2,K+dt/2],_id:"x"},e(V.xaxis,V.graphDiv._fullLayout),V.xaxis.setScale(),V.xaxis.isPtWithinRange=function(Xt){return Xt.a>=V.aaxis.range[0]&&Xt.a<=V.aaxis.range[1]&&Xt.b>=V.baxis.range[1]&&Xt.b<=V.baxis.range[0]&&Xt.c>=V.caxis.range[1]&&Xt.c<=V.caxis.range[0]},V.yaxis={type:"linear",range:[Z,it-tt-st],domain:[et-gt/2,et+gt/2],_id:"y"},e(V.yaxis,V.graphDiv._fullLayout),V.yaxis.setScale(),V.yaxis.isPtWithinRange=function(){return!0};var wt=V.yaxis.domain[0],kt=V.aaxis=s({},I.aaxis,{range:[Z,it-tt-st],side:"left",tickangle:(+I.aaxis.tickangle||0)-30,domain:[wt,wt+gt*u],anchor:"free",position:0,_id:"y",_length:ut});e(kt,V.graphDiv._fullLayout),kt.setScale();var Ot=V.baxis=s({},I.baxis,{range:[it-Z-st,tt],side:"bottom",domain:V.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ut});e(Ot,V.graphDiv._fullLayout),Ot.setScale();var bt=V.caxis=s({},I.caxis,{range:[it-Z-tt,st],side:"right",tickangle:(+I.caxis.tickangle||0)+30,domain:[wt,wt+gt*u],anchor:"free",position:0,_id:"y",_length:ut});e(bt,V.graphDiv._fullLayout),bt.setScale();var _t="M"+Q+","+(G+at)+"h"+ut+"l-"+ut/2+",-"+at+"Z";V.clipDef.select("path").attr("d",_t),V.layers.plotbg.select("path").attr("d",_t);var mt="M0,"+at+"h"+ut+"l-"+ut/2+",-"+at+"Z";V.clipDefRelative.select("path").attr("d",mt);var Pt=m(Q,G);V.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Pt),V.clipDefRelative.select("path").attr("transform",null);var Rt=m(Q-Ot._offset,G+at);V.layers.baxis.attr("transform",Rt),V.layers.bgrid.attr("transform",Rt);var Ht=m(Q+ut/2,G)+"rotate(30)"+m(0,-kt._offset);V.layers.aaxis.attr("transform",Ht),V.layers.agrid.attr("transform",Ht);var Dt=m(Q+ut/2,G)+"rotate(-30)"+m(0,-bt._offset);V.layers.caxis.attr("transform",Dt),V.layers.cgrid.attr("transform",Dt),V.drawAxes(!0),V.layers.aline.select("path").attr("d",kt.showline?"M"+Q+","+(G+at)+"l"+ut/2+",-"+at:"M0,0").call(v.stroke,kt.linecolor||"#000").style("stroke-width",(kt.linewidth||0)+"px"),V.layers.bline.select("path").attr("d",Ot.showline?"M"+Q+","+(G+at)+"h"+ut:"M0,0").call(v.stroke,Ot.linecolor||"#000").style("stroke-width",(Ot.linewidth||0)+"px"),V.layers.cline.select("path").attr("d",bt.showline?"M"+(Q+ut/2)+","+G+"l"+ut/2+","+at:"M0,0").call(v.stroke,bt.linecolor||"#000").style("stroke-width",(bt.linewidth||0)+"px"),V.graphDiv._context.staticPlot||V.initInteractions(),r.setClipUrl(V.layers.frontplot,V._hasClipOnAxisFalse?null:V.clipId,V.graphDiv)},P.drawAxes=function(I){var j=this,V=j.graphDiv,W=j.id.substr(7)+"title",K=j.layers,et=j.aaxis,lt=j.baxis,ot=j.caxis;if(j.drawAx(et),j.drawAx(lt),j.drawAx(ot),I){var q=Math.max(et.showticklabels?et.tickfont.size/2:0,(ot.showticklabels?ot.tickfont.size*.75:0)+(ot.ticks==="outside"?ot.ticklen*.87:0)),J=(lt.showticklabels?lt.tickfont.size:0)+(lt.ticks==="outside"?lt.ticklen:0)+3;K["a-title"]=a.draw(V,"a"+W,{propContainer:et,propName:j.id+".aaxis.title",placeholder:d(V,"Click to enter Component A title"),attributes:{x:j.x0+j.w/2,y:j.y0-et.title.font.size/3-q,"text-anchor":"middle"}}),K["b-title"]=a.draw(V,"b"+W,{propContainer:lt,propName:j.id+".baxis.title",placeholder:d(V,"Click to enter Component B title"),attributes:{x:j.x0-J,y:j.y0+j.h+lt.title.font.size*.83+J,"text-anchor":"middle"}}),K["c-title"]=a.draw(V,"c"+W,{propContainer:ot,propName:j.id+".caxis.title",placeholder:d(V,"Click to enter Component C title"),attributes:{x:j.x0+j.w+J,y:j.y0+j.h+ot.title.font.size*.83+J,"text-anchor":"middle"}})}},P.drawAx=function(I){var j=this,V=j.graphDiv,W=I._name,K=W.charAt(0),et=I._id,lt=j.layers[W],ot=30,q=K+"tickLayout",J=g(I);j[q]!==J&&(lt.selectAll("."+et+"tick").remove(),j[q]=J),I.setScale();var it=l.calcTicks(I),Z=l.clipEnds(I,it),tt=l.makeTransTickFn(I),st=l.getTickSigns(I)[2],Q=M.deg2rad(ot),G=st*(I.linewidth||1)/2,ut=st*I.ticklen,at=j.w,dt=j.h,gt=K==="b"?"M0,"+G+"l"+Math.sin(Q)*ut+","+Math.cos(Q)*ut:"M"+G+",0l"+Math.cos(Q)*ut+","+-Math.sin(Q)*ut,wt={a:"M0,0l"+dt+",-"+at/2,b:"M0,0l-"+at/2+",-"+dt,c:"M0,0l-"+dt+","+at/2}[K];l.drawTicks(V,I,{vals:I.ticks==="inside"?Z:it,layer:lt,path:gt,transFn:tt,crisp:!1}),l.drawGrid(V,I,{vals:Z,layer:j.layers[K+"grid"],path:wt,transFn:tt,crisp:!1}),l.drawLabels(V,I,{vals:it,layer:lt,transFn:tt,labelFns:l.makeLabelFns(I,0,ot)})};function g(I){return I.ticks+String(I.ticklen)+String(I.showticklabels)}var L=_.MINZOOM/2+.87,A="m-0.87,.5h"+L+"v3h-"+(L+5.2)+"l"+(L/2+2.6)+",-"+(L*.87+4.5)+"l2.6,1.5l-"+L/2+","+L*.87+"Z",R="m0.87,.5h-"+L+"v3h"+(L+5.2)+"l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-2.6,1.5l"+L/2+","+L*.87+"Z",O="m0,1l"+L/2+","+L*.87+"l2.6,-1.5l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-"+(L/2+2.6)+","+(L*.87+4.5)+"l2.6,1.5l"+L/2+",-"+L*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;P.clearOutline=function(){S(this.dragOptions),w(this.dragOptions.gd)},P.initInteractions=function(){var I=this,j=I.layers.plotbg.select("path").node(),V=I.graphDiv,W=V._fullLayout._zoomlayer,K,et;this.dragOptions={element:j,gd:V,plotinfo:{id:I.id,domain:V._fullLayout[I.id].domain,xaxis:I.xaxis,yaxis:I.yaxis},subplot:I.id,prepFn:function(Rt,Ht,Dt){I.dragOptions.xaxes=[I.xaxis],I.dragOptions.yaxes=[I.yaxis],K=V._fullLayout._invScaleX,et=V._fullLayout._invScaleY;var Xt=I.dragOptions.dragmode=V._fullLayout.dragmode;f(Xt)?I.dragOptions.minDrag=1:I.dragOptions.minDrag=void 0,Xt==="zoom"?(I.dragOptions.moveFn=Ot,I.dragOptions.clickFn=at,I.dragOptions.doneFn=bt,dt(Rt,Ht,Dt)):Xt==="pan"?(I.dragOptions.moveFn=mt,I.dragOptions.clickFn=at,I.dragOptions.doneFn=Pt,_t(),I.clearOutline(V)):(k(Xt)||f(Xt))&&c(Rt,Ht,Dt,I.dragOptions,Xt)}};var lt,ot,q,J,it,Z,tt,st,Q,G;function ut(Rt){var Ht={};return Ht[I.id+".aaxis.min"]=Rt.a,Ht[I.id+".baxis.min"]=Rt.b,Ht[I.id+".caxis.min"]=Rt.c,Ht}function at(Rt,Ht){var Dt=V._fullLayout.clickmode;F(V),Rt===2&&(V.emit("plotly_doubleclick",null),i.call("_guiRelayout",V,ut({a:0,b:0,c:0}))),Dt.indexOf("select")>-1&&Rt===1&&p(Ht,V,[I.xaxis],[I.yaxis],I.id,I.dragOptions),Dt.indexOf("event")>-1&&h.click(V,Ht,I.id)}function dt(Rt,Ht,Dt){var Xt=j.getBoundingClientRect();lt=Ht-Xt.left,ot=Dt-Xt.top,V._fullLayout._calcInverseTransform(V);var se=V._fullLayout._invTransform,Yt=M.apply3DTransform(se)(lt,ot);lt=Yt[0],ot=Yt[1],q={a:I.aaxis.range[0],b:I.baxis.range[1],c:I.caxis.range[1]},it=q,J=I.aaxis.range[1]-q.a,Z=E(I.graphDiv._fullLayout[I.id].bgcolor).getLuminance(),tt="M0,"+I.h+"L"+I.w/2+", 0L"+I.w+","+I.h+"Z",st=!1,Q=W.append("path").attr("class","zoombox").attr("transform",m(I.x0,I.y0)).style({fill:Z>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",tt),G=W.append("path").attr("class","zoombox-corners").attr("transform",m(I.x0,I.y0)).style({fill:v.background,stroke:v.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),I.clearOutline(V)}function gt(Rt,Ht){return 1-Ht/I.h}function wt(Rt,Ht){return 1-(Rt+(I.h-Ht)/Math.sqrt(3))/I.w}function kt(Rt,Ht){return(Rt-(I.h-Ht)/Math.sqrt(3))/I.w}function Ot(Rt,Ht){var Dt=lt+Rt*K,Xt=ot+Ht*et,se=Math.max(0,Math.min(1,gt(lt,ot),gt(Dt,Xt))),Yt=Math.max(0,Math.min(1,wt(lt,ot),wt(Dt,Xt))),ue=Math.max(0,Math.min(1,kt(lt,ot),kt(Dt,Xt))),ie=(se/2+ue)*I.w,fe=(1-se/2-Yt)*I.w,ce=(ie+fe)/2,ye=fe-ie,de=(1-se)*I.h,Te=de-ye/u;ye<_.MINZOOM?(it=q,Q.attr("d",tt),G.attr("d","M0,0Z")):(it={a:q.a+se*J,b:q.b+Yt*J,c:q.c+ue*J},Q.attr("d",tt+"M"+ie+","+de+"H"+fe+"L"+ce+","+Te+"L"+ie+","+de+"Z"),G.attr("d","M"+lt+","+ot+N+"M"+ie+","+de+A+"M"+fe+","+de+R+"M"+ce+","+Te+O)),st||(Q.transition().style("fill",Z>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),G.transition().style("opacity",1).duration(200),st=!0),V.emit("plotly_relayouting",ut(it))}function bt(){F(V),it!==q&&(i.call("_guiRelayout",V,ut(it)),z&&V.data&&V._context.showTips&&(M.notifier(d(V,"Double-click to zoom back out"),"long"),z=!1))}function _t(){q={a:I.aaxis.range[0],b:I.baxis.range[1],c:I.caxis.range[1]},it=q}function mt(Rt,Ht){var Dt=Rt/I.xaxis._m,Xt=Ht/I.yaxis._m;it={a:q.a-Xt,b:q.b+(Dt+Xt)/2,c:q.c-(Dt-Xt)/2};var se=[it.a,it.b,it.c].sort(M.sorterAsc),Yt={a:se.indexOf(it.a),b:se.indexOf(it.b),c:se.indexOf(it.c)};se[0]<0&&(se[1]+se[0]/2<0?(se[2]+=se[0]+se[1],se[0]=se[1]=0):(se[2]+=se[0]/2,se[1]+=se[0]/2,se[0]=0),it={a:se[Yt.a],b:se[Yt.b],c:se[Yt.c]},Ht=(q.a-it.a)*I.yaxis._m,Rt=(q.c-it.c-q.b+it.b)*I.xaxis._m);var ue=m(I.x0+Rt,I.y0+Ht);I.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ue);var ie=m(-Rt,-Ht);I.clipDefRelative.select("path").attr("transform",ie),I.aaxis.range=[it.a,I.sum-it.b-it.c],I.baxis.range=[I.sum-it.a-it.c,it.b],I.caxis.range=[I.sum-it.a-it.b,it.c],I.drawAxes(!1),I._hasClipOnAxisFalse&&I.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,I),V.emit("plotly_relayouting",ut(it))}function Pt(){i.call("_guiRelayout",V,ut(it))}j.onmousemove=function(Rt){h.hover(V,Rt,I.id),V._fullLayout._lasthover=j,V._fullLayout._hoversubplot=I.id},j.onmouseout=function(Rt){V._dragging||o.unhover(V,Rt)},o.init(this.dragOptions)};function F(I){x.select(I).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(X,B,t){var x=t(24248),E=t(16628),i=t(52416),M=t(63620),m=t(52200).addStyleRule,d=t(92880),v=t(45464),r=t(64859),e=d.extendFlat,s=d.extendDeepAll;B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(w){if(B.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var S=0;S<w.length;S++){var _=w[S];if(!_)throw new Error("Invalid module was attempted to be registered!");switch(_.moduleType){case"trace":n(_);break;case"transform":h(_);break;case"component":o(_);break;case"locale":b(_);break;case"apiMethod":var T=_.name;B.apiMethodRegistry[T]=_.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(w){var S=B.modules[p(w)];return S?S._module:!1},B.traceIs=function(w,S){if(w=p(w),w==="various")return!1;var _=B.modules[w];return _||(w&&x.log("Unrecognized trace type "+w+"."),_=B.modules[v.type.dflt]),!!_.categories[S]},B.getTransformIndices=function(w,S){for(var _=[],T=w.transforms||[],P=0;P<T.length;P++)T[P].type===S&&_.push(P);return _},B.hasTransform=function(w,S){for(var _=w.transforms||[],T=0;T<_.length;T++)if(_[T].type===S)return!0;return!1},B.getComponentMethod=function(w,S){var _=B.componentsRegistry[w];return _&&_[S]||E},B.call=function(){var w=arguments[0],S=[].slice.call(arguments,1);return B.apiMethodRegistry[w].apply(null,S)};function n(w){var S=w.name,_=w.categories,T=w.meta;if(B.modules[S]){x.log("Type "+S+" already registered");return}B.subplotsRegistry[w.basePlotModule.name]||l(w.basePlotModule);for(var P={},u=0;u<_.length;u++)P[_[u]]=!0,B.allCategories[_[u]]=!0;B.modules[S]={_module:w,categories:P},T&&Object.keys(T).length&&(B.modules[S].meta=T),B.allTypes.push(S);for(var g in B.componentsRegistry)k(g,S);w.layoutAttributes&&e(B.traceLayoutAttributes,w.layoutAttributes);var L=w.basePlotModule,A=L.name;if(A==="mapbox"){var R=L.constants.styleRules;for(var O in R)m(".js-plotly-plot .plotly .mapboxgl-"+O,R[O])}(A==="geo"||A==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function l(w){var S=w.name;if(B.subplotsRegistry[S]){x.log("Plot type "+S+" already registered.");return}f(w),B.subplotsRegistry[S]=w;for(var _ in B.componentsRegistry)c(_,w.name)}function o(w){if(typeof w.name!="string")throw new Error("Component module *name* must be a string.");var S=w.name;B.componentsRegistry[S]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&i(B.layoutArrayContainers,S),f(w));for(var _ in B.modules)k(S,_);for(var T in B.subplotsRegistry)c(S,T);for(var P in B.transformsRegistry)a(S,P);w.schema&&w.schema.layout&&s(r,w.schema.layout)}function h(w){if(typeof w.name!="string")throw new Error("Transform module *name* must be a string.");var S="Transform module "+w.name,_=typeof w.transform=="function",T=typeof w.calcTransform=="function";if(!_&&!T)throw new Error(S+" is missing a *transform* or *calcTransform* method.");_&&T&&x.log([S+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),M(w.attributes)||x.log(S+" registered without an *attributes* object."),typeof w.supplyDefaults!="function"&&x.log(S+" registered without a *supplyDefaults* method."),B.transformsRegistry[w.name]=w;for(var P in B.componentsRegistry)a(P,w.name)}function b(w){var S=w.name,_=S.split("-")[0],T=w.dictionary,P=w.format,u=T&&Object.keys(T).length,g=P&&Object.keys(P).length,L=B.localeRegistry,A=L[S];if(A||(L[S]=A={}),_!==S){var R=L[_];R||(L[_]=R={}),u&&R.dictionary===A.dictionary&&(R.dictionary=T),g&&R.format===A.format&&(R.format=P)}u&&(A.dictionary=T),g&&(A.format=P)}function f(w){if(w.layoutAttributes){var S=w.layoutAttributes._arrayAttrRegexps;if(S)for(var _=0;_<S.length;_++)i(B.layoutArrayRegexes,S[_])}}function k(w,S){var _=B.componentsRegistry[w].schema;if(!(!_||!_.traces)){var T=_.traces[S];T&&s(B.modules[S]._module.attributes,T)}}function a(w,S){var _=B.componentsRegistry[w].schema;if(!(!_||!_.transforms)){var T=_.transforms[S];T&&s(B.transformsRegistry[S].attributes,T)}}function c(w,S){var _=B.componentsRegistry[w].schema;if(!(!_||!_.subplots)){var T=B.subplotsRegistry[S],P=T.layoutAttributes,u=T.attr==="subplot"?T.name:T.attr;Array.isArray(u)&&(u=u[0]);var g=_.subplots[u];P&&g&&s(P,g)}}function p(w){return typeof w=="object"&&(w=w.type),w}},91536:function(X,B,t){var x=t(24040),E=t(3400),i=E.extendFlat,M=E.extendDeep;function m(v){var r;switch(v){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function d(v){var r=["xaxis","yaxis","zaxis"];return r.indexOf(v.slice(0,5))>-1}X.exports=function(v,r){var e,s=v.data,n=v.layout,l=M([],s),o=M({},n,m(r.tileClass)),h=v._context||{};if(r.width&&(o.width=r.width),r.height&&(o.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){o.annotations=[];var b=Object.keys(o);for(e=0;e<b.length;e++)d(b[e])&&(o[b[e]].title={text:""});for(e=0;e<l.length;e++){var f=l[e];f.showscale=!1,f.marker&&(f.marker.showscale=!1),x.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(r.annotations))for(e=0;e<r.annotations.length;e++)o.annotations.push(r.annotations[e]);var k=Object.keys(o).filter(function(S){return S.match(/^scene\d*$/)});if(k.length){var a={};for(r.tileClass==="thumbnail"&&(a={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),e=0;e<k.length;e++){var c=o[k[e]];c.xaxis||(c.xaxis={}),c.yaxis||(c.yaxis={}),c.zaxis||(c.zaxis={}),i(c.xaxis,a),i(c.yaxis,a),i(c.zaxis,a),c._scene=null}}var p=document.createElement("div");r.tileClass&&(p.className=r.tileClass);var w={gd:p,td:p,layout:o,data:l,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return r.setBackground!=="transparent"&&(w.config.setBackground=r.setBackground||"opaque"),w.gd.defaultLayout=m(r.tileClass),w}},39792:function(X,B,t){var x=t(3400),E=t(67024),i=t(48616),M=t(81792);function m(d,v){var r;return x.isPlainObject(d)||(r=x.getGraphDiv(d)),v=v||{},v.format=v.format||"png",v.width=v.width||null,v.height=v.height||null,v.imageDataOnly=!0,new Promise(function(e,s){r&&r._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),x.isIE()&&v.format!=="svg"&&s(new Error(M.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=E(d,v),l=v.filename||d.fn||"newplot";l+="."+v.format.replace("-","."),n.then(function(o){return r&&(r._snapshotInProgress=!1),i(o,l,v.format)}).then(function(o){e(o)}).catch(function(o){r&&(r._snapshotInProgress=!1),s(o)})})}X.exports=m},48616:function(X,B,t){var x=t(3400),E=t(81792);function i(M,m,d){var v=document.createElement("a"),r="download"in v,e=new Promise(function(s,n){var l,o;if(x.isIE())return l=E.createBlob(M,"svg"),window.navigator.msSaveBlob(l,m),l=null,s(m);if(r)return l=E.createBlob(M,d),o=E.createObjectURL(l),v.href=o,v.download=m,document.body.appendChild(v),v.click(),document.body.removeChild(v),E.revokeObjectURL(o),l=null,s(m);if(x.isSafari()){var h=d==="svg"?",":";base64,";return E.octetStream(h+encodeURIComponent(M)),s(m)}n(new Error("download error"))});return e}X.exports=i},81792:function(X,B,t){var x=t(24040);B.getDelay=function(M){return M._has&&(M._has("gl3d")||M._has("gl2d")||M._has("mapbox"))?500:0},B.getRedrawFunc=function(M){return function(){x.getComponentMethod("colorbar","draw")(M)}},B.encodeSVG=function(M){return"data:image/svg+xml,"+encodeURIComponent(M)},B.encodeJSON=function(M){return"data:application/json,"+encodeURIComponent(M)};var E=window.URL||window.webkitURL;B.createObjectURL=function(M){return E.createObjectURL(M)},B.revokeObjectURL=function(M){return E.revokeObjectURL(M)},B.createBlob=function(M,m){if(m==="svg")return new window.Blob([M],{type:"image/svg+xml;charset=utf-8"});if(m==="full-json")return new window.Blob([M],{type:"application/json;charset=utf-8"});var d=i(window.atob(M));return new window.Blob([d],{type:"image/"+m})},B.octetStream=function(M){document.location.href="data:application/octet-stream"+M};function i(M){for(var m=M.length,d=new ArrayBuffer(m),v=new Uint8Array(d),r=0;r<m;r++)v[r]=M.charCodeAt(r);return d}B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(X,B,t){var x=t(81792),E={getDelay:x.getDelay,getRedrawFunc:x.getRedrawFunc,clone:t(91536),toSVG:t(37164),svgToImg:t(63268),toImage:t(61808),downloadImage:t(39792)};X.exports=E},63268:function(X,B,t){var x=t(3400),E=t(61252).EventEmitter,i=t(81792);function M(m){var d=m.emitter||new E,v=new Promise(function(r,e){var s=window.Image,n=m.svg,l=m.format||"png";if(x.isIE()&&l!=="svg"){var o=new Error(i.MSG_IE_BAD_FORMAT);return e(o),m.promise?v:d.emit("error",o)}var h=m.canvas,b=m.scale||1,f=m.width||300,k=m.height||150,a=b*f,c=b*k,p=h.getContext("2d",{willReadFrequently:!0}),w=new s,S,_;l==="svg"||x.isSafari()?_=i.encodeSVG(n):(S=i.createBlob(n,"svg"),_=i.createObjectURL(S)),h.width=a,h.height=c,w.onload=function(){var T;switch(S=null,i.revokeObjectURL(_),l!=="svg"&&p.drawImage(w,0,0,a,c),l){case"jpeg":T=h.toDataURL("image/jpeg");break;case"png":T=h.toDataURL("image/png");break;case"webp":T=h.toDataURL("image/webp");break;case"svg":T=_;break;default:var P="Image format is not jpeg, png, svg or webp.";if(e(new Error(P)),!m.promise)return d.emit("error",P)}r(T),m.promise||d.emit("success",T)},w.onerror=function(T){if(S=null,i.revokeObjectURL(_),e(T),!m.promise)return d.emit("error",T)},w.src=_});return m.promise?v:d}X.exports=M},61808:function(X,B,t){var x=t(61252).EventEmitter,E=t(24040),i=t(3400),M=t(81792),m=t(91536),d=t(37164),v=t(63268);function r(e,s){var n=new x,l=m(e,{format:"png"}),o=l.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);function h(){var f=M.getDelay(o._fullLayout);setTimeout(function(){var k=d(o),a=document.createElement("canvas");a.id=i.randstr(),n=v({format:s.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:a,emitter:n,svg:k}),n.clean=function(){o&&document.body.removeChild(o)}},f)}var b=M.getRedrawFunc(o);return E.call("_doPlot",o,l.data,l.layout,l.config).then(b).then(h).catch(function(f){n.emit("error",f)}),n}X.exports=r},37164:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(76308),m=t(9616),d=/"/g,v="TOBESTRIPPED",r=new RegExp('("'+v+")|("+v+'")',"g");function e(n){var l=x.select("body").append("div").style({display:"none"}).html(""),o=n.replace(/(&[^;]*;)/gi,function(h){return h==="&lt;"?"&#60;":h==="&rt;"?"&#62;":h.indexOf("<")!==-1||h.indexOf(">")!==-1?"":l.html(h).text()});return l.remove(),o}function s(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}X.exports=function(n,l,o){var h=n._fullLayout,b=h._paper,f=h._toppaper,k=h.width,a=h.height,c;b.insert("rect",":first-child").call(i.setRect,0,0,k,a).call(M.fill,h.paper_bgcolor);var p=h._basePlotModules||[];for(c=0;c<p.length;c++){var w=p[c];w.toSVG&&w.toSVG(n)}if(f){var S=f.node().childNodes,_=Array.prototype.slice.call(S);for(c=0;c<_.length;c++){var T=_[c];T.childNodes.length&&b.node().appendChild(T)}}h._draggers&&h._draggers.remove(),b.node().style.background="",b.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var u=x.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){u.remove();return}else u.style({visibility:null,display:null});var g=this.style.fontFamily;g&&g.indexOf('"')!==-1&&u.style("font-family",g.replace(d,v))}),b.selectAll(".gradient_filled,.pattern_filled").each(function(){var u=x.select(this),g=this.style.fill;g&&g.indexOf("url(")!==-1&&u.style("fill",g.replace(d,v));var L=this.style.stroke;L&&L.indexOf("url(")!==-1&&u.style("stroke",L.replace(d,v))}),(l==="pdf"||l==="eps")&&b.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),b.node().setAttributeNS(m.xmlns,"xmlns",m.svg),b.node().setAttributeNS(m.xmlns,"xmlns:xlink",m.xlink),l==="svg"&&o&&(b.attr("width",o*k),b.attr("height",o*a),b.attr("viewBox","0 0 "+k+" "+a));var P=new window.XMLSerializer().serializeToString(b.node());return P=e(P),P=s(P),P=P.replace(r,"'"),E.isIE()&&(P=P.replace(/"/gi,"'"),P=P.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),P=P.replace(/(\\')/gi,'"')),P}},84664:function(X,B,t){var x=t(3400);X.exports=function(E,i){for(var M=0;M<E.length;M++)E[M].i=M;x.mergeArray(i.text,E,"tx"),x.mergeArray(i.hovertext,E,"htx");var m=i.marker;if(m){x.mergeArray(m.opacity,E,"mo",!0),x.mergeArray(m.color,E,"mc");var d=m.line;d&&(x.mergeArray(d.color,E,"mlc"),x.mergeArrayCastPositive(d.width,E,"mlw"))}}},20832:function(X,B,t){var x=t(52904),E=t(29736).axisHoverFormat,i=t(21776).Ks,M=t(21776).Gw,m=t(49084),d=t(25376),v=t(78048),r=t(98192).c,e=t(92880).extendFlat,s=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=x.marker,l=n.line,o=e({},l.width,{dflt:0}),h=e({width:o,editType:"calc"},m("marker.line")),b=e({line:h,editType:"calc"},m("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});X.exports={x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),text:x.text,texttemplate:M({editType:"plot"},{keys:v.eventDataKeys}),hovertext:x.hovertext,hovertemplate:i({},{keys:v.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},s,{}),insidetextfont:e({},s,{}),outsidetextfont:e({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},x.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:b,offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,selected:{marker:{opacity:x.selected.marker.opacity,color:x.selected.marker.color,editType:"style"},textfont:x.selected.textfont,editType:"style"},unselected:{marker:{opacity:x.unselected.marker.opacity,color:x.unselected.marker.color,editType:"style"},textfont:x.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(X,B,t){var x=t(54460),E=t(1220),i=t(94288).hasColorscale,M=t(47128),m=t(84664),d=t(4500);X.exports=function(v,r){var e=x.getFromId(v,r.xaxis||"x"),s=x.getFromId(v,r.yaxis||"y"),n,l,o,h,b,f,k={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(n=e.makeCalcdata(r,"x",k),o=s.makeCalcdata(r,"y"),h=E(r,s,"y",o),b=!!r.yperiodalignment,f="y"):(n=s.makeCalcdata(r,"y",k),o=e.makeCalcdata(r,"x"),h=E(r,e,"x",o),b=!!r.xperiodalignment,f="x"),l=h.vals;for(var a=Math.min(l.length,n.length),c=new Array(a),p=0;p<a;p++)c[p]={p:l[p],s:n[p]},b&&(c[p].orig_p=o[p],c[p][f+"End"]=h.ends[p],c[p][f+"Start"]=h.starts[p]),r.ids&&(c[p].id=String(r.ids[p]));return i(r,"marker")&&M(v,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),i(r,"marker.line")&&M(v,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),m(c,r),d(c,r),c}},78048:function(X){X.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(X,B,t){var x=t(38248),E=t(3400).isArrayOrTypedArray,i=t(39032).BADNUM,M=t(24040),m=t(54460),d=t(71888).getAxisGroup,v=t(72592);function r(A,R){for(var O=R.xaxis,N=R.yaxis,z=A._fullLayout,F=A._fullData,I=A.calcdata,j=[],V=[],W=0;W<F.length;W++){var K=F[W];if(K.visible===!0&&M.traceIs(K,"bar")&&K.xaxis===O._id&&K.yaxis===N._id&&(K.orientation==="h"?j.push(I[W]):V.push(I[W]),K._computePh))for(var et=A.calcdata[W],lt=0;lt<et.length;lt++)typeof et[lt].ph0=="function"&&(et[lt].ph0=et[lt].ph0()),typeof et[lt].ph1=="function"&&(et[lt].ph1=et[lt].ph1())}var ot={xCat:O.type==="category"||O.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:z.barmode,norm:z.barnorm,gap:z.bargap,groupgap:z.bargroupgap};e(A,O,N,V,ot),e(A,N,O,j,ot)}function e(A,R,O,N,z){if(N.length){var F,I,j,V,W;switch(l(O,N),z.mode){case"overlay":o(R,O,N,z);break;case"group":for(F=[],I=[],j=0;j<N.length;j++)V=N[j],W=V[0].trace,W.offset===void 0?I.push(V):F.push(V);I.length&&h(A,R,O,I,z),F.length&&o(R,O,F,z);break;case"stack":case"relative":for(F=[],I=[],j=0;j<N.length;j++)V=N[j],W=V[0].trace,W.base===void 0?I.push(V):F.push(V);n(I),I.length&&b(A,R,O,I,z),F.length&&o(R,O,F,z);break}s(N),g(N,R)}}function s(A){var R,O,N,z,F,I,j;for(R=0;R<A.length;R++)O=A[R],N=O[0].trace,z=O[0].t,z.cornerradiusvalue===void 0&&(F=N.marker?N.marker.cornerradius:void 0,F!==void 0&&(I=x(F)?+F:+F.slice(0,-1),j=x(F)?"px":"%",z.cornerradiusvalue=I,z.cornerradiusform=j))}function n(A){if(!(A.length<2)){var R,O,N,z,F,I,j;for(R=0;R<A.length&&(O=A[R],N=O[0].trace,F=N.marker?N.marker.cornerradius:void 0,F===void 0);R++);if(F!==void 0)for(I=x(F)?+F:+F.slice(0,-1),j=x(F)?"px":"%",R=0;R<A.length;R++)O=A[R],z=O[0].t,z.cornerradiusvalue=I,z.cornerradiusform=j}}function l(A,R){var O,N;for(O=0;O<R.length;O++){var z=R[O],F=z[0].trace,I=F.type==="funnel"?F._base:F.base,j,V=F.orientation==="h"?F.xcalendar:F.ycalendar,W=A.type==="category"||A.type==="multicategory"?function(){return null}:A.d2c;if(E(I)){for(N=0;N<Math.min(I.length,z.length);N++)j=W(I[N],0,V),x(j)?(z[N].b=+j,z[N].hasB=1):z[N].b=0;for(;N<z.length;N++)z[N].b=0}else{j=W(I,0,V);var K=x(j);for(j=K?j:0,N=0;N<z.length;N++)z[N].b=j,K&&(z[N].hasB=1)}}}function o(A,R,O,N){for(var z=0;z<O.length;z++){var F=O[z],I=new v([F],{posAxis:A,sepNegVal:!1,overlapNoMerge:!N.norm});f(A,I,N),N.norm?(_(I),P(R,I,N)):w(R,I)}}function h(A,R,O,N,z){var F=new v(N,{posAxis:R,sepNegVal:!1,overlapNoMerge:!z.norm});k(A,R,F,z),T(F,R),z.norm?(_(F),P(O,F,z)):w(O,F)}function b(A,R,O,N,z){var F=new v(N,{posAxis:R,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});f(R,F,z),S(O,F,z);for(var I=0;I<N.length;I++)for(var j=N[I],V=0;V<j.length;V++){var W=j[V];if(W.s!==i){var K=W.b+W.s===F.get(W.p,W.s);K&&(W._outmost=!0)}}z.norm&&P(O,F,z)}function f(A,R,O){for(var N=R.minDiff,z=R.traces,F=N*(1-O.gap),I=F,j=I*(1-(O.groupgap||0)),V=-j/2,W=0;W<z.length;W++){var K=z[W],et=K[0].t;et.barwidth=j,et.poffset=V,et.bargroupwidth=F,et.bardelta=N}R.binWidth=z[0][0].t.barwidth/100,a(R),c(A,R),p(A,R)}function k(A,R,O,N){for(var z=A._fullLayout,F=O.positions,I=O.distinctPositions,j=O.minDiff,V=O.traces,W=V.length,K=F.length!==I.length,et=j*(1-N.gap),lt=d(z,R._id)+V[0][0].trace.orientation,ot=z._alignmentOpts[lt]||{},q=0;q<W;q++){var J=V[q],it=J[0].trace,Z=ot[it.alignmentgroup]||{},tt=Object.keys(Z.offsetGroups||{}).length,st;tt?st=et/tt:st=K?et/W:et;var Q=st*(1-(N.groupgap||0)),G;tt?G=((2*it._offsetIndex+1-tt)*st-Q)/2:G=K?((2*q+1-W)*st-Q)/2:-Q/2;var ut=J[0].t;ut.barwidth=Q,ut.poffset=G,ut.bargroupwidth=et,ut.bardelta=j}O.binWidth=V[0][0].t.barwidth/100,a(O),c(R,O),p(R,O,K)}function a(A){var R=A.traces,O,N;for(O=0;O<R.length;O++){var z=R[O],F=z[0],I=F.trace,j=F.t,V=I._offset||I.offset,W=j.poffset,K;if(E(V)){for(K=Array.prototype.slice.call(V,0,z.length),N=0;N<K.length;N++)x(K[N])||(K[N]=W);for(N=K.length;N<z.length;N++)K.push(W);j.poffset=K}else V!==void 0&&(j.poffset=V);var et=I._width||I.width,lt=j.barwidth;if(E(et)){var ot=Array.prototype.slice.call(et,0,z.length);for(N=0;N<ot.length;N++)x(ot[N])||(ot[N]=lt);for(N=ot.length;N<z.length;N++)ot.push(lt);if(j.barwidth=ot,V===void 0){for(K=[],N=0;N<z.length;N++)K.push(W+(lt-ot[N])/2);j.poffset=K}}else et!==void 0&&(j.barwidth=et,V===void 0&&(j.poffset=W+(lt-et)/2))}}function c(A,R){for(var O=R.traces,N=L(A),z=0;z<O.length;z++)for(var F=O[z],I=F[0].t,j=I.poffset,V=E(j),W=I.barwidth,K=E(W),et=0;et<F.length;et++){var lt=F[et],ot=lt.w=K?W[et]:W;lt.p===void 0&&(lt.p=lt[N],lt["orig_"+N]=lt[N]);var q=(V?j[et]:j)+ot/2;lt[N]=lt.p+q}}function p(A,R,O){var N=R.traces,z=R.minDiff,F=z/2;m.minDtick(A,R.minDiff,R.distinctPositions[0],O);for(var I=0;I<N.length;I++){var j=N[I],V=j[0],W=V.trace,K=[],et,lt,ot,q;for(q=0;q<j.length;q++)et=j[q],lt=et.p-F,ot=et.p+F,K.push(lt,ot);if(W.width||W.offset){var J=V.t,it=J.poffset,Z=J.barwidth,tt=E(it),st=E(Z);for(q=0;q<j.length;q++){et=j[q];var Q=tt?it[q]:it,G=st?Z[q]:Z;lt=et.p+Q,ot=lt+G,K.push(lt,ot)}}W._extremes[A._id]=m.findExtremes(A,K,{padded:!1})}}function w(A,R){for(var O=R.traces,N=L(A),z=0;z<O.length;z++){for(var F=O[z],I=F[0].trace,j=I.type==="scatter",V=I.orientation==="v",W=[],K=!1,et=0;et<F.length;et++){var lt=F[et],ot=j?0:lt.b,q=j?V?lt.y:lt.x:ot+lt.s;lt[N]=q,W.push(q),lt.hasB&&W.push(ot),(!lt.hasB||!lt.b)&&(K=!0)}I._extremes[A._id]=m.findExtremes(A,W,{tozero:K,padded:!0})}}function S(A,R,O){var N=L(A),z=R.traces,F,I,j,V,W,K;for(V=0;V<z.length;V++)if(F=z[V],I=F[0].trace,I.type==="funnel")for(W=0;W<F.length;W++)K=F[W],K.s!==i&&R.put(K.p,-.5*K.s);for(V=0;V<z.length;V++){F=z[V],I=F[0].trace,j=I.type==="funnel";var et=[];for(W=0;W<F.length;W++)if(K=F[W],K.s!==i){var lt;j?lt=K.s:lt=K.s+K.b;var ot=R.put(K.p,lt),q=ot+lt;K.b=ot,K[N]=q,O.norm||(et.push(q),K.hasB&&et.push(ot))}O.norm||(I._extremes[A._id]=m.findExtremes(A,et,{tozero:!0,padded:!0}))}}function _(A){for(var R=A.traces,O=0;O<R.length;O++)for(var N=R[O],z=0;z<N.length;z++){var F=N[z];F.s!==i&&A.put(F.p,F.b+F.s)}}function T(A,R){for(var O=A.traces,N=0;N<O.length;N++){var z=O[N],F=z[0].trace;if(F.base===void 0)for(var I=new v([z],{posAxis:R,sepNegVal:!0,overlapNoMerge:!0}),j=0;j<z.length;j++){var V=z[j];if(V.p!==i){var W=I.put(V.p,V.b+V.s);W&&(V.b=W)}}}}function P(A,R,O){var N=R.traces,z=L(A),F=O.norm==="fraction"?1:100,I=F/1e9,j=A.l2c(A.c2l(0)),V=O.mode==="stack"?F:j;function W(G){return x(A.c2l(G))&&(G<j-I||G>V+I||!x(j))}for(var K=0;K<N.length;K++){for(var et=N[K],lt=et[0].trace,ot=[],q=!1,J=!1,it=0;it<et.length;it++){var Z=et[it];if(Z.s!==i){var tt=Math.abs(F/R.get(Z.p,Z.s));Z.b*=tt,Z.s*=tt;var st=Z.b,Q=st+Z.s;Z[z]=Q,ot.push(Q),J=J||W(Q),Z.hasB&&(ot.push(st),J=J||W(st)),(!Z.hasB||!Z.b)&&(q=!0)}}lt._extremes[A._id]=m.findExtremes(A,ot,{tozero:q,padded:J})}}function u(A,R,O,N){for(var z=L(N),F=0;F<A.length;F++)for(var I=A[F],j=0;j<I.length;j++){var V=I[j],W=V[z];V._sMin=R[W],V._sMax=O[W]}}function g(A,R){var O=L(R),N={},z,F,I,j=1/0,V=-1/0;for(z=0;z<A.length;z++)for(I=A[z],F=0;F<I.length;F++){var W=I[F].p;x(W)&&(j=Math.min(j,W),V=Math.max(V,W))}var K=1e4/(V-j),et=N.round=function(dt){return String(Math.round(K*(dt-j)))},lt={},ot={},q=A.some(function(dt){var gt=dt[0].trace;return"marker"in gt&&gt.marker.cornerradius});for(z=0;z<A.length;z++){I=A[z],I[0].t.extents=N;var J=I[0].t.poffset,it=E(J);for(F=0;F<I.length;F++){var Z=I[F],tt=Z[O]-Z.w/2;if(x(tt)){var st=Z[O]+Z.w/2,Q=et(Z.p);N[Q]?N[Q]=[Math.min(tt,N[Q][0]),Math.max(st,N[Q][1])]:N[Q]=[tt,st]}if(Z.p0=Z.p+(it?J[F]:J),Z.p1=Z.p0+Z.w,Z.s0=Z.b,Z.s1=Z.s0+Z.s,q){var G=Math.min(Z.s0,Z.s1)||0,ut=Math.max(Z.s0,Z.s1)||0,at=Z[O];lt[at]=at in lt?Math.min(lt[at],G):G,ot[at]=at in ot?Math.max(ot[at],ut):ut}}}q&&u(A,lt,ot,R)}function L(A){return A._id.charAt(0)}X.exports={crossTraceCalc:r,setGroupPositions:e}},31508:function(X,B,t){var x=t(38248),E=t(3400),i=t(76308),M=t(24040),m=t(43980),d=t(31147),v=t(55592),r=t(20011),e=t(20832),s=E.coerceFont;function n(b,f,k,a){function c(T,P){return E.coerce(b,f,e,T,P)}var p=m(b,f,a,c);if(!p){f.visible=!1;return}d(b,f,a,c),c("xhoverformat"),c("yhoverformat"),c("orientation",f.x&&!f.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var w=c("textposition");h(b,f,a,c,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(b,f,c,k,a);var S=(f.marker.line||{}).color,_=M.getComponentMethod("errorbars","supplyDefaults");_(b,f,S||i.defaultLine,{axis:"y"}),_(b,f,S||i.defaultLine,{axis:"x",inherit:"y"}),E.coerceSelectionMarkerOpacity(f,c)}function l(b,f){var k,a;function c(S,_){return E.coerce(a._input,a,e,S,_)}for(var p=0;p<b.length;p++)if(a=b[p],a.type==="bar"){k=a._input;var w=c("marker.cornerradius",f.barcornerradius);a.marker&&(a.marker.cornerradius=o(w)),f.barmode==="group"&&r(k,a,f,c)}}function o(b){if(x(b)){if(b=+b,b>=0)return b}else if(typeof b=="string"&&(b=b.trim(),b.slice(-1)==="%"&&x(b.slice(0,-1))&&(b=+b.slice(0,-1),b>=0)))return b+"%"}function h(b,f,k,a,c,p){p=p||{};var w=p.moduleHasSelected!==!1,S=p.moduleHasUnselected!==!1,_=p.moduleHasConstrain!==!1,T=p.moduleHasCliponaxis!==!1,P=p.moduleHasTextangle!==!1,u=p.moduleHasInsideanchor!==!1,g=!!p.hasPathbar,L=Array.isArray(c)||c==="auto",A=L||c==="inside",R=L||c==="outside";if(A||R){var O=s(a,"textfont",k.font),N=E.extendFlat({},O),z=b.textfont&&b.textfont.color,F=!z;if(F&&delete N.color,s(a,"insidetextfont",N),g){var I=E.extendFlat({},O);F&&delete I.color,s(a,"pathbar.textfont",I)}R&&s(a,"outsidetextfont",O),w&&a("selected.textfont.color"),S&&a("unselected.textfont.color"),_&&a("constraintext"),T&&a("cliponaxis"),P&&a("textangle"),a("texttemplate")}A&&u&&a("insidetextanchor")}X.exports={supplyDefaults:n,crossTraceDefaults:l,handleText:h,validateCornerradius:o}},52160:function(X){X.exports=function(B,t,x){return B.x="xVal"in t?t.xVal:t.x,B.y="yVal"in t?t.yVal:t.y,t.xa&&(B.xaxis=t.xa),t.ya&&(B.yaxis=t.ya),x.orientation==="h"?(B.label=B.y,B.value=B.x):(B.label=B.x,B.value=B.y),B}},60444:function(X,B,t){var x=t(38248),E=t(49760),i=t(3400).isArrayOrTypedArray;B.coerceString=function(M,m,d){if(typeof m=="string"){if(m||!M.noBlank)return m}else if((typeof m=="number"||m===!0)&&!M.strict)return String(m);return d!==void 0?d:M.dflt},B.coerceNumber=function(M,m,d){if(x(m)){m=+m;var v=M.min,r=M.max,e=v!==void 0&&m<v||r!==void 0&&m>r;if(!e)return m}return d!==void 0?d:M.dflt},B.coerceColor=function(M,m,d){return E(m).isValid()?m:d!==void 0?d:M.dflt},B.coerceEnumerated=function(M,m,d){return M.coerceNumber&&(m=+m),M.values.indexOf(m)!==-1?m:d!==void 0?d:M.dflt},B.getValue=function(M,m){var d;return i(M)?m<M.length&&(d=M[m]):d=M,d},B.getLineWidth=function(M,m){var d=0<m.mlw?m.mlw:i(M.marker.line.width)?0:M.marker.line.width;return d}},63400:function(X,B,t){var x=t(93024),E=t(24040),i=t(76308),M=t(3400).fillText,m=t(60444).getLineWidth,d=t(54460).hoverLabelText,v=t(39032).BADNUM;function r(n,l,o,h,b){var f=e(n,l,o,h,b);if(f){var k=f.cd,a=k[0].trace,c=k[f.index];return f.color=s(a,c),E.getComponentMethod("errorbars","hoverInfo")(c,a,f),[f]}}function e(n,l,o,h,b){var f=n.cd,k=f[0].trace,a=f[0].t,c=h==="closest",p=k.type==="waterfall",w=n.maxHoverDistance,S=n.maxSpikeDistance,_,T,P,u,g,L,A;k.orientation==="h"?(_=o,T=l,P="y",u="x",g=ot,L=K):(_=l,T=o,P="x",u="y",L=ot,g=K);var R=k[P+"period"],O=c||R;function N(dt){return F(dt,-1)}function z(dt){return F(dt,1)}function F(dt,gt){var wt=dt.w;return dt[P]+gt*wt/2}function I(dt){return dt[P+"End"]-dt[P+"Start"]}var j=c?N:R?function(dt){return dt.p-I(dt)/2}:function(dt){return Math.min(N(dt),dt.p-a.bardelta/2)},V=c?z:R?function(dt){return dt.p+I(dt)/2}:function(dt){return Math.max(z(dt),dt.p+a.bardelta/2)};function W(dt,gt,wt){return b.finiteRange&&(wt=0),x.inbox(dt-_,gt-_,wt+Math.min(1,Math.abs(gt-dt)/A)-1)}function K(dt){return W(j(dt),V(dt),w)}function et(dt){return W(N(dt),z(dt),S)}function lt(dt){var gt=dt[u];if(p){var wt=Math.abs(dt.rawS)||0;T>0?gt+=wt:T<0&&(gt-=wt)}return gt}function ot(dt){var gt=T,wt=dt.b,kt=lt(dt);return x.inbox(wt-gt,kt-gt,w+(kt-gt)/(kt-wt)-1)}function q(dt){var gt=T,wt=dt.b,kt=lt(dt);return x.inbox(wt-gt,kt-gt,S+(kt-gt)/(kt-wt)-1)}var J=n[P+"a"],it=n[u+"a"];A=Math.abs(J.r2c(J.range[1])-J.r2c(J.range[0]));function Z(dt){return(g(dt)+L(dt))/2}var tt=x.getDistanceFunction(h,g,L,Z);if(x.getClosest(f,tt,n),n.index!==!1&&f[n.index].p!==v){O||(j=function(dt){return Math.min(N(dt),dt.p-a.bargroupwidth/2)},V=function(dt){return Math.max(z(dt),dt.p+a.bargroupwidth/2)});var st=n.index,Q=f[st],G=k.base?Q.b+Q.s:Q.s;n[u+"0"]=n[u+"1"]=it.c2p(Q[u],!0),n[u+"LabelVal"]=G;var ut=a.extents[a.extents.round(Q.p)];n[P+"0"]=J.c2p(c?j(Q):ut[0],!0),n[P+"1"]=J.c2p(c?V(Q):ut[1],!0);var at=Q.orig_p!==void 0;return n[P+"LabelVal"]=at?Q.orig_p:Q.p,n.labelLabel=d(J,n[P+"LabelVal"],k[P+"hoverformat"]),n.valueLabel=d(it,n[u+"LabelVal"],k[u+"hoverformat"]),n.baseLabel=d(it,Q.b,k[u+"hoverformat"]),n.spikeDistance=(q(Q)+et(Q))/2,n[P+"Spike"]=J.c2p(Q.p,!0),M(Q,k,n),n.hovertemplate=k.hovertemplate,n}}function s(n,l){var o=l.mcc||n.marker.color,h=l.mlcc||n.marker.line.color,b=m(n,l);if(i.opacity(o))return o;if(i.opacity(h)&&b)return h}X.exports={hoverPoints:r,hoverOnBars:e,getTraceColor:s}},51132:function(X,B,t){X.exports={attributes:t(20832),layoutAttributes:t(39324),supplyDefaults:t(31508).supplyDefaults,crossTraceDefaults:t(31508).crossTraceDefaults,supplyLayoutDefaults:t(37156),calc:t(71820),crossTraceCalc:t(96376).crossTraceCalc,colorbar:t(5528),arraysToCalcdata:t(84664),plot:t(98184).plot,style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(63400).hoverPoints,eventData:t(52160),selectPoints:t(45784),moduleType:"trace",name:"bar",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(X){X.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(X,B,t){var x=t(24040),E=t(54460),i=t(3400),M=t(39324),m=t(31508).validateCornerradius;X.exports=function(d,v,r){function e(p,w){return i.coerce(d,v,M,p,w)}for(var s=!1,n=!1,l=!1,o={},h=e("barmode"),b=0;b<r.length;b++){var f=r[b];if(x.traceIs(f,"bar")&&f.visible)s=!0;else continue;if(h==="group"){var k=f.xaxis+f.yaxis;o[k]&&(l=!0),o[k]=!0}if(f.visible&&f.type==="histogram"){var a=E.getFromId({_fullLayout:v},f[f.orientation==="v"?"xaxis":"yaxis"]);a.type!=="category"&&(n=!0)}}if(!s){delete v.barmode;return}h!=="overlay"&&e("barnorm"),e("bargap",n&&!l?0:.2),e("bargroupgap");var c=e("barcornerradius");v.barcornerradius=m(c)}},98184:function(X,B,t){var x=t(33428),E=t(38248),i=t(3400),M=t(72736),m=t(76308),d=t(43616),v=t(24040),r=t(54460).tickText,e=t(82744),s=e.recordMinTextSize,n=e.clearMinTextSize,l=t(60100),o=t(60444),h=t(78048),b=t(20832),f=b.text,k=b.textposition,a=t(10624).appendArrayPointValue,c=h.TEXTPAD;function p(K){return K.id}function w(K){if(K.ids)return p}function S(K){return(K>0)-(K<0)}function _(K,et){return K<et?1:-1}function T(K,et,lt,ot){var q=[],J=[],it=ot?et:lt,Z=ot?lt:et;return q[0]=it.c2p(K.s0,!0),J[0]=Z.c2p(K.p0,!0),q[1]=it.c2p(K.s1,!0),J[1]=Z.c2p(K.p1,!0),ot?[q,J]:[J,q]}function P(K,et,lt,ot){if(!et.uniformtext.mode&&u(lt)){var q;return ot&&(q=ot()),K.transition().duration(lt.duration).ease(lt.easing).each("end",function(){q&&q()}).each("interrupt",function(){q&&q()})}else return K}function u(K){return K&&K.duration>0}function g(K,et,lt,ot,q,J){var it=et.xaxis,Z=et.yaxis,tt=K._fullLayout,st=K._context.staticPlot;q||(q={mode:tt.barmode,norm:tt.barmode,gap:tt.bargap,groupgap:tt.bargroupgap},n("bar",tt));var Q=i.makeTraceGroups(ot,lt,"trace bars").each(function(G){var ut=x.select(this),at=G[0].trace,dt=G[0].t,gt=at.type==="waterfall",wt=at.type==="funnel",kt=at.type==="histogram",Ot=at.type==="bar",bt=Ot||wt,_t=0;gt&&at.connector.visible&&at.connector.mode==="between"&&(_t=at.connector.line.width/2);var mt=at.orientation==="h",Pt=u(q),Rt=i.ensureSingle(ut,"g","points"),Ht=w(at),Dt=Rt.selectAll("g.point").data(i.identity,Ht);Dt.enter().append("g").classed("point",!0),Dt.exit().remove(),Dt.each(function(se,Yt){var ue=x.select(this),ie=T(se,it,Z,mt),fe=ie[0][0],ce=ie[0][1],ye=ie[1][0],de=ie[1][1],Te=(mt?ce-fe:de-ye)===0;Te&&bt&&o.getLineWidth(at,se)&&(Te=!1),Te||(Te=!E(fe)||!E(ce)||!E(ye)||!E(de)),se.isBlank=Te,Te&&(mt?ce=fe:de=ye),_t&&!Te&&(mt?(fe-=_(fe,ce)*_t,ce+=_(fe,ce)*_t):(ye-=_(ye,de)*_t,de+=_(ye,de)*_t));var Et,Vt;if(at.type==="waterfall"){if(!Te){var te=at[se.dir].marker;Et=te.line.width,Vt=te.color}}else Et=o.getLineWidth(at,se),Vt=se.mc||at.marker.color;function Jt(le){var me=x.round(Et/2%1,2);return q.gap===0&&q.groupgap===0?x.round(Math.round(le)-me,2):le}function Ut(le,me,Ee){return Ee&&le===me?le:Math.abs(le-me)>=2?Jt(le):le>me?Math.ceil(le):Math.floor(le)}var It=m.opacity(Vt),pt=It<1||Et>.01?Jt:Ut;K._context.staticPlot||(fe=pt(fe,ce,mt),ce=pt(ce,fe,mt),ye=pt(ye,de,!mt),de=pt(de,ye,!mt));var xt=mt?it.c2p:Z.c2p,Ct;se.s0>0?Ct=se._sMax:se.s0<0?Ct=se._sMin:Ct=se.s1>0?se._sMax:se._sMin;function At(le,me){if(!le)return 0;var Ee=Math.abs(mt?de-ye:ce-fe),ze=Math.abs(mt?ce-fe:de-ye),Oe=pt(Math.abs(xt(Ct,!0)-xt(0,!0))),Fe=se.hasB?Math.min(Ee/2,ze/2):Math.min(Ee/2,Oe),Re;if(me==="%"){var Ke=Math.min(50,le);Re=Ee*(Ke/100)}else Re=le;return pt(Math.max(Math.min(Re,Fe),0))}var Ft=Ot||kt?At(dt.cornerradiusvalue,dt.cornerradiusform):0,Wt,Qt,he="M"+fe+","+ye+"V"+de+"H"+ce+"V"+ye+"Z",ve=0;if(Ft&&se.s){var Je=S(se.s0)===0||S(se.s)===S(se.s0)?se.s1:se.s0;if(ve=pt(se.hasB?0:Math.abs(xt(Ct,!0)-xt(Je,!0))),ve<Ft){var Ue=_(fe,ce),ke=_(ye,de),Le=Ue===-ke?1:0;if(mt)if(se.hasB)Wt="M"+(fe+Ft*Ue)+","+ye+"A "+Ft+","+Ft+" 0 0 "+Le+" "+fe+","+(ye+Ft*ke)+"V"+(de-Ft*ke)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+(fe+Ft*Ue)+","+de+"H"+(ce-Ft*Ue)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+ce+","+(de-Ft*ke)+"V"+(ye+Ft*ke)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+(ce-Ft*Ue)+","+ye+"Z";else{Qt=Math.abs(ce-fe)+ve;var Ge=Qt<Ft?Ft-Math.sqrt(Qt*(2*Ft-Qt)):0,mr=ve>0?Math.sqrt(ve*(2*Ft-ve)):0,xe=Ue>0?Math.max:Math.min;Wt="M"+fe+","+ye+"V"+(de-Ge*ke)+"H"+xe(ce-(Ft-ve)*Ue,fe)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+ce+","+(de-Ft*ke-mr)+"V"+(ye+Ft*ke+mr)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+xe(ce-(Ft-ve)*Ue,fe)+","+(ye+Ge*ke)+"Z"}else if(se.hasB)Wt="M"+(fe+Ft*Ue)+","+ye+"A "+Ft+","+Ft+" 0 0 "+Le+" "+fe+","+(ye+Ft*ke)+"V"+(de-Ft*ke)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+(fe+Ft*Ue)+","+de+"H"+(ce-Ft*Ue)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+ce+","+(de-Ft*ke)+"V"+(ye+Ft*ke)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+(ce-Ft*Ue)+","+ye+"Z";else{Qt=Math.abs(de-ye)+ve;var Xe=Qt<Ft?Ft-Math.sqrt(Qt*(2*Ft-Qt)):0,Ye=ve>0?Math.sqrt(ve*(2*Ft-ve)):0,_r=ke>0?Math.max:Math.min;Wt="M"+(fe+Xe*Ue)+","+ye+"V"+_r(de-(Ft-ve)*ke,ye)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+(fe+Ft*Ue-Ye)+","+de+"H"+(ce-Ft*Ue+Ye)+"A "+Ft+","+Ft+" 0 0 "+Le+" "+(ce-Xe*Ue)+","+_r(de-(Ft-ve)*ke,ye)+"V"+ye+"Z"}}else Wt=he}else Wt=he;var rr=P(i.ensureSingle(ue,"path"),tt,q,J);if(rr.style("vector-effect",st?"none":"non-scaling-stroke").attr("d",isNaN((ce-fe)*(de-ye))||Te&&K._context.staticPlot?"M0,0Z":Wt).call(d.setClipUrl,et.layerClipId,K),!tt.uniformtext.mode&&Pt){var re=d.makePointStyleFns(at);d.singlePointStyle(se,rr,at,re,K)}L(K,et,ue,G,Yt,fe,ce,ye,de,Ft,ve,q,J),et.layerClipId&&d.hideOutsideRangePoint(se,ue.select("text"),it,Z,at.xcalendar,at.ycalendar)});var Xt=at.cliponaxis===!1;d.setClipUrl(ut,Xt?null:et.layerClipId,K)});v.getComponentMethod("errorbars","plot")(K,Q,et,q)}function L(K,et,lt,ot,q,J,it,Z,tt,st,Q,G,ut){var at=et.xaxis,dt=et.yaxis,gt=K._fullLayout,wt;function kt(Qt,he,ve){var Je=i.ensureSingle(Qt,"text").text(he).attr({class:"bartext bartext-"+wt,"text-anchor":"middle","data-notex":1}).call(d.font,ve).call(M.convertToTspans,K);return Je}var Ot=ot[0].trace,bt=Ot.orientation==="h",_t=I(gt,ot,q,at,dt);wt=j(Ot,q);var mt=G.mode==="stack"||G.mode==="relative",Pt=ot[q],Rt=!mt||Pt._outmost,Ht=Pt.hasB,Dt=st&&st-Q>c;if(!_t||wt==="none"||(Pt.isBlank||J===it||Z===tt)&&(wt==="auto"||wt==="inside")){lt.select("text").remove();return}var Xt=gt.font,se=l.getBarColor(ot[q],Ot),Yt=l.getInsideTextFont(Ot,q,Xt,se),ue=l.getOutsideTextFont(Ot,q,Xt),ie=Ot.insidetextanchor||"end",fe=lt.datum();bt?at.type==="log"&&fe.s0<=0&&(at.range[0]<at.range[1]?J=0:J=at._length):dt.type==="log"&&fe.s0<=0&&(dt.range[0]<dt.range[1]?Z=dt._length:Z=0);var ce=Math.abs(it-J),ye=Math.abs(tt-Z),de=ce-2*c,Te=ye-2*c,Et,Vt,te,Jt,Ut;if(wt==="outside"&&!Rt&&!Pt.hasB&&(wt="inside"),wt==="auto")if(Rt){wt="inside",Ut=i.ensureUniformFontSize(K,Yt),Et=kt(lt,_t,Ut),Vt=d.bBox(Et.node()),te=Vt.width,Jt=Vt.height;var It=te>0&&Jt>0,pt;Dt?Ht?pt=A(de-2*st,Te,te,Jt,bt)||A(de,Te-2*st,te,Jt,bt):bt?pt=A(de-(st-Q),Te,te,Jt,bt)||A(de,Te-2*(st-Q),te,Jt,bt):pt=A(de,Te-(st-Q),te,Jt,bt)||A(de-2*(st-Q),Te,te,Jt,bt):pt=A(de,Te,te,Jt,bt),It&&pt?wt="inside":(wt="outside",Et.remove(),Et=null)}else wt="inside";if(!Et){Ut=i.ensureUniformFontSize(K,wt==="outside"?ue:Yt),Et=kt(lt,_t,Ut);var xt=Et.attr("transform");if(Et.attr("transform",""),Vt=d.bBox(Et.node()),te=Vt.width,Jt=Vt.height,Et.attr("transform",xt),te<=0||Jt<=0){Et.remove();return}}var Ct=Ot.textangle,At,Ft;wt==="outside"?(Ft=Ot.constraintext==="both"||Ot.constraintext==="outside",At=F(J,it,Z,tt,Vt,{isHorizontal:bt,constrained:Ft,angle:Ct})):(Ft=Ot.constraintext==="both"||Ot.constraintext==="inside",At=N(J,it,Z,tt,Vt,{isHorizontal:bt,constrained:Ft,angle:Ct,anchor:ie,hasB:Ht,r:st,overhead:Q})),At.fontSize=Ut.size,s(Ot.type==="histogram"?"bar":Ot.type,At,gt),Pt.transform=At;var Wt=P(Et,gt,G,ut);i.setTransormAndDisplay(Wt,At)}function A(K,et,lt,ot,q){if(K<0||et<0)return!1;var J=lt<=K&&ot<=et,it=lt<=et&&ot<=K,Z=q?K>=lt*(et/ot):et>=ot*(K/lt);return J||it||Z}function R(K){return K==="auto"?0:K}function O(K,et){var lt=Math.PI/180*et,ot=Math.abs(Math.sin(lt)),q=Math.abs(Math.cos(lt));return{x:K.width*q+K.height*ot,y:K.width*ot+K.height*q}}function N(K,et,lt,ot,q,J){var it=!!J.isHorizontal,Z=!!J.constrained,tt=J.angle||0,st=J.anchor,Q=st==="end",G=st==="start",ut=J.leftToRight||0,at=(ut+1)/2,dt=1-at,gt=J.hasB,wt=J.r,kt=J.overhead,Ot=q.width,bt=q.height,_t=Math.abs(et-K),mt=Math.abs(ot-lt),Pt=_t>2*c&&mt>2*c?c:0;_t-=2*Pt,mt-=2*Pt;var Rt=R(tt);tt==="auto"&&!(Ot<=_t&&bt<=mt)&&(Ot>_t||bt>mt)&&(!(Ot>mt||bt>_t)||Ot<bt!=_t<mt)&&(Rt+=90);var Ht=O(q,Rt),Dt,Xt;if(wt&&wt-kt>c){var se=z(K,et,lt,ot,Ht,wt,kt,it,gt);Dt=se.scale,Xt=se.pad}else Dt=1,Z&&(Dt=Math.min(1,_t/Ht.x,mt/Ht.y)),Xt=0;var Yt=q.left*dt+q.right*at,ue=(q.top+q.bottom)/2,ie=(K+c)*dt+(et-c)*at,fe=(lt+ot)/2,ce=0,ye=0;if(G||Q){var de=(it?Ht.x:Ht.y)/2;wt&&(Q||gt)&&(Pt+=Xt);var Te=it?_(K,et):_(lt,ot);it?G?(ie=K+Te*Pt,ce=-Te*de):(ie=et-Te*Pt,ce=Te*de):G?(fe=lt+Te*Pt,ye=-Te*de):(fe=ot-Te*Pt,ye=Te*de)}return{textX:Yt,textY:ue,targetX:ie,targetY:fe,anchorX:ce,anchorY:ye,scale:Dt,rotate:Rt}}function z(K,et,lt,ot,q,J,it,Z,tt){var st=Math.max(0,Math.abs(et-K)-2*c),Q=Math.max(0,Math.abs(ot-lt)-2*c),G=J-c,ut=it?G-Math.sqrt(G*G-(G-it)*(G-it)):G,at=tt?G*2:Z?G-it:2*ut,dt=tt?G*2:Z?2*ut:G-it,gt,wt,kt,Ot,bt;return q.y/q.x>=Q/(st-at)?Ot=Q/q.y:q.y/q.x<=(Q-dt)/st?Ot=st/q.x:!tt&&Z?(gt=q.x*q.x+q.y*q.y/4,wt=-2*q.x*(st-G)-q.y*(Q/2-G),kt=(st-G)*(st-G)+(Q/2-G)*(Q/2-G)-G*G,Ot=(-wt+Math.sqrt(wt*wt-4*gt*kt))/(2*gt)):tt?(gt=(q.x*q.x+q.y*q.y)/4,wt=-q.x*(st/2-G)-q.y*(Q/2-G),kt=(st/2-G)*(st/2-G)+(Q/2-G)*(Q/2-G)-G*G,Ot=(-wt+Math.sqrt(wt*wt-4*gt*kt))/(2*gt)):(gt=q.x*q.x/4+q.y*q.y,wt=-q.x*(st/2-G)-2*q.y*(Q-G),kt=(st/2-G)*(st/2-G)+(Q-G)*(Q-G)-G*G,Ot=(-wt+Math.sqrt(wt*wt-4*gt*kt))/(2*gt)),Ot=Math.min(1,Ot),Z?bt=Math.max(0,G-Math.sqrt(Math.max(0,G*G-(G-(Q-q.y*Ot)/2)*(G-(Q-q.y*Ot)/2)))-it):bt=Math.max(0,G-Math.sqrt(Math.max(0,G*G-(G-(st-q.x*Ot)/2)*(G-(st-q.x*Ot)/2)))-it),{scale:Ot,pad:bt}}function F(K,et,lt,ot,q,J){var it=!!J.isHorizontal,Z=!!J.constrained,tt=J.angle||0,st=q.width,Q=q.height,G=Math.abs(et-K),ut=Math.abs(ot-lt),at;it?at=ut>2*c?c:0:at=G>2*c?c:0;var dt=1;Z&&(dt=it?Math.min(1,ut/Q):Math.min(1,G/st));var gt=R(tt),wt=O(q,gt),kt=(it?wt.x:wt.y)/2,Ot=(q.left+q.right)/2,bt=(q.top+q.bottom)/2,_t=(K+et)/2,mt=(lt+ot)/2,Pt=0,Rt=0,Ht=it?_(et,K):_(lt,ot);return it?(_t=et-Ht*at,Pt=Ht*kt):(mt=ot+Ht*at,Rt=-Ht*kt),{textX:Ot,textY:bt,targetX:_t,targetY:mt,anchorX:Pt,anchorY:Rt,scale:dt,rotate:gt}}function I(K,et,lt,ot,q){var J=et[0].trace,it=J.texttemplate,Z;return it?Z=V(K,et,lt,ot,q):J.textinfo?Z=W(et,lt,ot,q):Z=o.getValue(J.text,lt),o.coerceString(f,Z)}function j(K,et){var lt=o.getValue(K.textposition,et);return o.coerceEnumerated(k,lt)}function V(K,et,lt,ot,q){var J=et[0].trace,it=i.castOption(J,lt,"texttemplate");if(!it)return"";var Z=J.type==="histogram",tt=J.type==="waterfall",st=J.type==="funnel",Q=J.orientation==="h",G,ut,at,dt;Q?(G="y",ut=q,at="x",dt=ot):(G="x",ut=ot,at="y",dt=q);function gt(Pt){return r(ut,ut.c2l(Pt),!0).text}function wt(Pt){return r(dt,dt.c2l(Pt),!0).text}var kt=et[lt],Ot={};Ot.label=kt.p,Ot.labelLabel=Ot[G+"Label"]=gt(kt.p);var bt=i.castOption(J,kt.i,"text");(bt===0||bt)&&(Ot.text=bt),Ot.value=kt.s,Ot.valueLabel=Ot[at+"Label"]=wt(kt.s);var _t={};a(_t,J,kt.i),(Z||_t.x===void 0)&&(_t.x=Q?Ot.value:Ot.label),(Z||_t.y===void 0)&&(_t.y=Q?Ot.label:Ot.value),(Z||_t.xLabel===void 0)&&(_t.xLabel=Q?Ot.valueLabel:Ot.labelLabel),(Z||_t.yLabel===void 0)&&(_t.yLabel=Q?Ot.labelLabel:Ot.valueLabel),tt&&(Ot.delta=+kt.rawS||kt.s,Ot.deltaLabel=wt(Ot.delta),Ot.final=kt.v,Ot.finalLabel=wt(Ot.final),Ot.initial=Ot.final-Ot.delta,Ot.initialLabel=wt(Ot.initial)),st&&(Ot.value=kt.s,Ot.valueLabel=wt(Ot.value),Ot.percentInitial=kt.begR,Ot.percentInitialLabel=i.formatPercent(kt.begR),Ot.percentPrevious=kt.difR,Ot.percentPreviousLabel=i.formatPercent(kt.difR),Ot.percentTotal=kt.sumR,Ot.percenTotalLabel=i.formatPercent(kt.sumR));var mt=i.castOption(J,kt.i,"customdata");return mt&&(Ot.customdata=mt),i.texttemplateString(it,Ot,K._d3locale,_t,Ot,J._meta||{})}function W(K,et,lt,ot){var q=K[0].trace,J=q.orientation==="h",it=q.type==="waterfall",Z=q.type==="funnel";function tt(mt){var Pt=J?ot:lt;return r(Pt,mt,!0).text}function st(mt){var Pt=J?lt:ot;return r(Pt,+mt,!0).text}var Q=q.textinfo,G=K[et],ut=Q.split("+"),at=[],dt,gt=function(mt){return ut.indexOf(mt)!==-1};if(gt("label")&&at.push(tt(K[et].p)),gt("text")&&(dt=i.castOption(q,G.i,"text"),(dt===0||dt)&&at.push(dt)),it){var wt=+G.rawS||G.s,kt=G.v,Ot=kt-wt;gt("initial")&&at.push(st(Ot)),gt("delta")&&at.push(st(wt)),gt("final")&&at.push(st(kt))}if(Z){gt("value")&&at.push(st(G.s));var bt=0;gt("percent initial")&&bt++,gt("percent previous")&&bt++,gt("percent total")&&bt++;var _t=bt>1;gt("percent initial")&&(dt=i.formatPercent(G.begR),_t&&(dt+=" of initial"),at.push(dt)),gt("percent previous")&&(dt=i.formatPercent(G.difR),_t&&(dt+=" of previous"),at.push(dt)),gt("percent total")&&(dt=i.formatPercent(G.sumR),_t&&(dt+=" of total"),at.push(dt))}return at.join("<br>")}X.exports={plot:g,toMoveInsideBar:N}},45784:function(X){X.exports=function(t,x){var E=t.cd,i=t.xaxis,M=t.yaxis,m=E[0].trace,d=m.type==="funnel",v=m.orientation==="h",r=[],e;if(x===!1)for(e=0;e<E.length;e++)E[e].selected=0;else for(e=0;e<E.length;e++){var s=E[e],n="ct"in s?s.ct:B(s,i,M,v,d);x.contains(n,!1,e,t)?(r.push({pointNumber:e,x:i.c2d(s.x),y:M.c2d(s.y)}),s.selected=1):s.selected=0}return r};function B(t,x,E,i,M){var m=x.c2p(i?t.s0:t.p0,!0),d=x.c2p(i?t.s1:t.p1,!0),v=E.c2p(i?t.p0:t.s0,!0),r=E.c2p(i?t.p1:t.s1,!0);return M?[(m+d)/2,(v+r)/2]:i?[d,(v+r)/2]:[(m+d)/2,r]}},72592:function(X,B,t){X.exports=E;var x=t(3400).distinctVals;function E(i,M){this.traces=i,this.sepNegVal=M.sepNegVal,this.overlapNoMerge=M.overlapNoMerge;for(var m=1/0,d=M.posAxis._id.charAt(0),v=[],r=0;r<i.length;r++){for(var e=i[r],s=0;s<e.length;s++){var n=e[s],l=n.p;l===void 0&&(l=n[d]),l!==void 0&&v.push(l)}e[0]&&e[0].width1&&(m=Math.min(e[0].width1,m))}this.positions=v;var o=x(v);this.distinctPositions=o.vals,o.vals.length===1&&m!==1/0?this.minDiff=m:this.minDiff=Math.min(o.minDiff,m);var h=(M.posAxis||{}).type;(h==="category"||h==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}E.prototype.put=function(i,M){var m=this.getLabel(i,M),d=this.bins[m]||0;return this.bins[m]=d+M,d},E.prototype.get=function(i,M){var m=this.getLabel(i,M);return this.bins[m]||0},E.prototype.getLabel=function(i,M){var m=M<0&&this.sepNegVal?"v":"^",d=this.overlapNoMerge?i:Math.round(i/this.binWidth);return m+d}},60100:function(X,B,t){var x=t(33428),E=t(76308),i=t(43616),M=t(3400),m=t(24040),d=t(82744).resizeText,v=t(20832),r=v.textfont,e=v.insidetextfont,s=v.outsidetextfont,n=t(60444);function l(T){var P=x.select(T).selectAll("g.barlayer").selectAll("g.trace");d(T,P,"bar");var u=P.size(),g=T._fullLayout;P.style("opacity",function(L){return L[0].trace.opacity}).each(function(L){(g.barmode==="stack"&&u>1||g.bargap===0&&g.bargroupgap===0&&!L[0].trace.marker.line.width)&&x.select(this).attr("shape-rendering","crispEdges")}),P.selectAll("g.points").each(function(L){var A=x.select(this),R=L[0].trace;o(A,R,T)}),m.getComponentMethod("errorbars","style")(P)}function o(T,P,u){i.pointStyle(T.selectAll("path"),P,u),h(T,P,u)}function h(T,P,u){T.selectAll("text").each(function(g){var L=x.select(this),A=M.ensureUniformFontSize(u,a(L,g,P,u));i.font(L,A)})}function b(T,P,u){var g=P[0].trace;g.selectedpoints?f(u,g,T):(o(u,g,T),m.getComponentMethod("errorbars","style")(u))}function f(T,P,u){i.selectedPointStyle(T.selectAll("path"),P),k(T.selectAll("text"),P,u)}function k(T,P,u){T.each(function(g){var L=x.select(this),A;if(g.selected){A=M.ensureUniformFontSize(u,a(L,g,P,u));var R=P.selected.textfont&&P.selected.textfont.color;R&&(A.color=R),i.font(L,A)}else i.selectedTextStyle(L,P)})}function a(T,P,u,g){var L=g._fullLayout.font,A=u.textfont;if(T.classed("bartext-inside")){var R=_(P,u);A=p(u,P.i,L,R)}else T.classed("bartext-outside")&&(A=w(u,P.i,L));return A}function c(T,P,u){return S(r,T.textfont,P,u)}function p(T,P,u,g){var L=c(T,P,u),A=T._input.textfont===void 0||T._input.textfont.color===void 0||Array.isArray(T.textfont.color)&&T.textfont.color[P]===void 0;return A&&(L={color:E.contrast(g),family:L.family,size:L.size}),S(e,T.insidetextfont,P,L)}function w(T,P,u){var g=c(T,P,u);return S(s,T.outsidetextfont,P,g)}function S(T,P,u,g){P=P||{};var L=n.getValue(P.family,u),A=n.getValue(P.size,u),R=n.getValue(P.color,u);return{family:n.coerceString(T.family,L,g.family),size:n.coerceNumber(T.size,A,g.size),color:n.coerceColor(T.color,R,g.color)}}function _(T,P){return P.type==="waterfall"?P[T.dir].marker.color:T.mcc||T.mc||P.marker.color}X.exports={style:l,styleTextPoints:h,styleOnSelect:b,getInsideTextFont:p,getOutsideTextFont:w,getBarColor:_,resizeText:d}},55592:function(X,B,t){var x=t(76308),E=t(94288).hasColorscale,i=t(27260),M=t(3400).coercePattern;X.exports=function(m,d,v,r,e){var s=v("marker.color",r),n=E(m,"marker");n&&i(m,d,e,v,{prefix:"marker.",cLetter:"c"}),v("marker.line.color",x.defaultLine),E(m,"marker.line")&&i(m,d,e,v,{prefix:"marker.line.",cLetter:"c"}),v("marker.line.width"),v("marker.opacity"),M(v,"marker.pattern",s,n),v("selected.marker.color"),v("unselected.marker.color")}},82744:function(X,B,t){var x=t(33428),E=t(3400);function i(v,r,e){var s=v._fullLayout,n=s["_"+e+"Text_minsize"];if(n){var l=s.uniformtext.mode==="hide",o;switch(e){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}r.selectAll(o).each(function(h){var b=h.transform;if(b){b.scale=l&&b.hide?0:n/b.fontSize;var f=x.select(this).select("text");E.setTransormAndDisplay(f,b)}})}}function M(v,r,e){if(e.uniformtext.mode){var s=d(v),n=e.uniformtext.minsize,l=r.scale*r.fontSize;r.hide=l<n,e[s]=e[s]||1/0,r.hide||(e[s]=Math.min(e[s],Math.max(l,n)))}}function m(v,r){var e=d(v);r[e]=void 0}function d(v){return"_"+v+"Text_minsize"}X.exports={recordMinTextSize:M,clearMinTextSize:m,resizeText:i}},78100:function(X,B,t){var x=t(21776).Ks,E=t(92880).extendFlat,i=t(8319),M=t(20832);X.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:E({},M.base,{}),offset:E({},M.offset,{}),width:E({},M.width,{}),text:E({},M.text,{}),hovertext:E({},M.hovertext,{}),marker:m(),hoverinfo:i.hoverinfo,hovertemplate:x(),selected:M.selected,unselected:M.unselected};function m(){var d=E({},M.marker);return delete d.cornerradius,d}},47056:function(X,B,t){var x=t(94288).hasColorscale,E=t(47128),i=t(3400).isArrayOrTypedArray,M=t(84664),m=t(96376).setGroupPositions,d=t(4500),v=t(24040).traceIs,r=t(3400).extendFlat;function e(n,l){for(var o=n._fullLayout,h=l.subplot,b=o[h].radialaxis,f=o[h].angularaxis,k=b.makeCalcdata(l,"r"),a=f.makeCalcdata(l,"theta"),c=l._length,p=new Array(c),w=k,S=a,_=0;_<c;_++)p[_]={p:S[_],s:w[_]};function T(P){var u=l[P];u!==void 0&&(l["_"+P]=i(u)?f.makeCalcdata(l,P):f.d2c(u,l.thetaunit))}return f.type==="linear"&&(T("width"),T("offset")),x(l,"marker")&&E(n,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),x(l,"marker.line")&&E(n,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(p,l),d(p,l),p}function s(n,l,o){for(var h=n.calcdata,b=[],f=0;f<h.length;f++){var k=h[f],a=k[0].trace;a.visible===!0&&v(a,"bar")&&a.subplot===o&&b.push(k)}var c=r({},l.radialaxis,{_id:"x"}),p=l.angularaxis;m(n,p,c,b,{mode:l.barmode,norm:l.barnorm,gap:l.bargap,groupgap:l.bargroupgap})}X.exports={calc:e,crossTraceCalc:s}},70384:function(X,B,t){var x=t(3400),E=t(85968).handleRThetaDefaults,i=t(55592),M=t(78100);X.exports=function(m,d,v,r){function e(n,l){return x.coerce(m,d,M,n,l)}var s=E(m,d,r,e);if(!s){d.visible=!1;return}e("thetaunit"),e("base"),e("offset"),e("width"),e("text"),e("hovertext"),e("hovertemplate"),i(m,d,e,v,r),x.coerceSelectionMarkerOpacity(d,e)}},68896:function(X,B,t){var x=t(93024),E=t(3400),i=t(63400).getTraceColor,M=E.fillText,m=t(8504).makeHoverPointText,d=t(57384).isPtInsidePolygon;X.exports=function(v,r,e){var s=v.cd,n=s[0].trace,l=v.subplot,o=l.radialAxis,h=l.angularAxis,b=l.vangles,f=b?d:E.isPtInsideSector,k=v.maxHoverDistance,a=h._period||2*Math.PI,c=Math.abs(o.g2p(Math.sqrt(r*r+e*e))),p=Math.atan2(e,r);o.range[0]>o.range[1]&&(p+=Math.PI);var w=function(P){return f(c,p,[P.rp0,P.rp1],[P.thetag0,P.thetag1],b)?k+Math.min(1,Math.abs(P.thetag1-P.thetag0)/a)-1+(P.rp1-c)/(P.rp1-P.rp0)-1:1/0};if(x.getClosest(s,w,v),v.index!==!1){var S=v.index,_=s[S];v.x0=v.x1=_.ct[0],v.y0=v.y1=_.ct[1];var T=E.extendFlat({},_,{r:_.s,theta:_.p});return M(_,n,v),m(T,n,l,v),v.hovertemplate=n.hovertemplate,v.color=i(n,_),v.xLabelVal=v.yLabelVal=void 0,_.s<0&&(v.idealAlign="left"),[v]}}},94456:function(X,B,t){X.exports={moduleType:"trace",name:"barpolar",basePlotModule:t(40872),categories:["polar","bar","showLegend"],attributes:t(78100),layoutAttributes:t(9320),supplyDefaults:t(70384),supplyLayoutDefaults:t(89580),calc:t(47056).calc,crossTraceCalc:t(47056).crossTraceCalc,plot:t(42040),colorbar:t(5528),formatLabels:t(22852),style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(68896),selectPoints:t(45784),meta:{}}},9320:function(X){X.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(X,B,t){var x=t(3400),E=t(9320);X.exports=function(i,M,m){var d={},v;function r(n,l){return x.coerce(i[v]||{},M[v],E,n,l)}for(var e=0;e<m.length;e++){var s=m[e];s.type==="barpolar"&&s.visible===!0&&(v=s.subplot,d[v]||(r("barmode"),r("bargap"),d[v]=1))}}},42040:function(X,B,t){var x=t(33428),E=t(38248),i=t(3400),M=t(43616),m=t(57384);X.exports=function(v,r,e){var s=v._context.staticPlot,n=r.xaxis,l=r.yaxis,o=r.radialAxis,h=r.angularAxis,b=d(r),f=r.layers.frontplot.select("g.barlayer");i.makeTraceGroups(f,e,"trace bars").each(function(){var k=x.select(this),a=i.ensureSingle(k,"g","points"),c=a.selectAll("g.point").data(i.identity);c.enter().append("g").style("vector-effect",s?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),c.exit().remove(),c.each(function(p){var w=x.select(this),S=p.rp0=o.c2p(p.s0),_=p.rp1=o.c2p(p.s1),T=p.thetag0=h.c2g(p.p0),P=p.thetag1=h.c2g(p.p1),u;if(!E(S)||!E(_)||!E(T)||!E(P)||S===_||T===P)u="M0,0Z";else{var g=o.c2g(p.s1),L=(T+P)/2;p.ct=[n.c2p(g*Math.cos(L)),l.c2p(g*Math.sin(L))],u=b(S,_,T,P)}i.ensureSingle(w,"path").attr("d",u)}),M.setClipUrl(k,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,v)})};function d(v){var r=v.cxx,e=v.cyy;return v.vangles?function(s,n,l,o){var h,b;i.angleDelta(l,o)>0?(h=l,b=o):(h=o,b=l);var f=m.findEnclosingVertexAngles(h,v.vangles)[0],k=m.findEnclosingVertexAngles(b,v.vangles)[1],a=[f,(h+b)/2,k];return m.pathPolygonAnnulus(s,n,h,b,a,r,e)}:function(s,n,l,o){return i.pathAnnulus(s,n,l,o,r,e)}}},63188:function(X,B,t){var x=t(98304),E=t(52904),i=t(20832),M=t(22548),m=t(29736).axisHoverFormat,d=t(21776).Ks,v=t(92880).extendFlat,r=E.marker,e=r.line;X.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:m("x"),yhoverformat:m("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},r.angle,{arrayOk:!1,editType:"calc"}),size:v({},r.size,{arrayOk:!1,editType:"calc"}),color:v({},r.color,{arrayOk:!1,editType:"style"}),line:{color:v({},e.color,{arrayOk:!1,dflt:M.defaultLine,editType:"style"}),width:v({},e.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:x(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:E.selected.marker,editType:"style"},unselected:{marker:E.unselected.marker,editType:"style"},text:v({},E.text,{}),hovertext:v({},E.hovertext,{}),hovertemplate:d({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(X,B,t){var x=t(38248),E=t(54460),i=t(1220),M=t(3400),m=t(39032).BADNUM,d=M._;X.exports=function(p,w){var S=p._fullLayout,_=E.getFromId(p,w.xaxis||"x"),T=E.getFromId(p,w.yaxis||"y"),P=[],u=w.type==="violin"?"_numViolins":"_numBoxes",g,L,A,R,O,N,z;w.orientation==="h"?(A=_,R="x",O=T,N="y",z=!!w.yperiodalignment):(A=T,R="y",O=_,N="x",z=!!w.xperiodalignment);var F=v(w,N,O,S[u]),I=F[0],j=F[1],V=M.distinctVals(I,O),W=V.vals,K=V.minDiff/2,et,lt,ot,q,J,it,Z=(w.boxpoints||w.points)==="all"?M.identity:function(de){return de.v<et.lf||de.v>et.uf};if(w._hasPreCompStats){var tt=w[R],st=function(de){return A.d2c((w[de]||[])[g])},Q=1/0,G=-1/0;for(g=0;g<w._length;g++){var ut=I[g];if(x(ut)){if(et={},et.pos=et[N]=ut,z&&j&&(et.orig_p=j[g]),et.q1=st("q1"),et.med=st("median"),et.q3=st("q3"),lt=[],tt&&M.isArrayOrTypedArray(tt[g]))for(L=0;L<tt[g].length;L++)it=A.d2c(tt[g][L]),it!==m&&(J={v:it,i:[g,L]},n(J,w,[g,L]),lt.push(J));if(et.pts=lt.sort(o),ot=et[R]=lt.map(h),q=ot.length,et.med!==m&&et.q1!==m&&et.q3!==m&&et.med>=et.q1&&et.q3>=et.med){var at=st("lowerfence");et.lf=at!==m&&at<=et.q1?at:b(et,ot,q);var dt=st("upperfence");et.uf=dt!==m&&dt>=et.q3?dt:f(et,ot,q);var gt=st("mean");et.mean=gt!==m?gt:q?M.mean(ot,q):(et.q1+et.q3)/2;var wt=st("sd");et.sd=gt!==m&&wt>=0?wt:q?M.stdev(ot,q,et.mean):et.q3-et.q1,et.lo=k(et),et.uo=a(et);var kt=st("notchspan");kt=kt!==m&&kt>0?kt:c(et,q),et.ln=et.med-kt,et.un=et.med+kt;var Ot=et.lf,bt=et.uf;w.boxpoints&&ot.length&&(Ot=Math.min(Ot,ot[0]),bt=Math.max(bt,ot[q-1])),w.notched&&(Ot=Math.min(Ot,et.ln),bt=Math.max(bt,et.un)),et.min=Ot,et.max=bt}else{M.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+et.q1,"median = "+et.med,"q3 = "+et.q3].join(`
`));var _t;et.med!==m?_t=et.med:et.q1!==m?et.q3!==m?_t=(et.q1+et.q3)/2:_t=et.q1:et.q3!==m?_t=et.q3:_t=0,et.med=_t,et.q1=et.q3=_t,et.lf=et.uf=_t,et.mean=et.sd=_t,et.ln=et.un=_t,et.min=et.max=_t}Q=Math.min(Q,et.min),G=Math.max(G,et.max),et.pts2=lt.filter(Z),P.push(et)}}w._extremes[A._id]=E.findExtremes(A,[Q,G],{padded:!0})}else{var mt=A.makeCalcdata(w,R),Pt=r(W,K),Rt=W.length,Ht=e(Rt);for(g=0;g<w._length;g++)if(it=mt[g],!!x(it)){var Dt=M.findBin(I[g],Pt);Dt>=0&&Dt<Rt&&(J={v:it,i:g},n(J,w,g),Ht[Dt].push(J))}var Xt=1/0,se=-1/0,Yt=w.quartilemethod,ue=Yt==="exclusive",ie=Yt==="inclusive";for(g=0;g<Rt;g++)if(Ht[g].length>0){if(et={},et.pos=et[N]=W[g],lt=et.pts=Ht[g].sort(o),ot=et[R]=lt.map(h),q=ot.length,et.min=ot[0],et.max=ot[q-1],et.mean=M.mean(ot,q),et.sd=M.stdev(ot,q,et.mean)*w.sdmultiple,et.med=M.interp(ot,.5),q%2&&(ue||ie)){var fe,ce;ue?(fe=ot.slice(0,q/2),ce=ot.slice(q/2+1)):ie&&(fe=ot.slice(0,q/2+1),ce=ot.slice(q/2)),et.q1=M.interp(fe,.5),et.q3=M.interp(ce,.5)}else et.q1=M.interp(ot,.25),et.q3=M.interp(ot,.75);et.lf=b(et,ot,q),et.uf=f(et,ot,q),et.lo=k(et),et.uo=a(et);var ye=c(et,q);et.ln=et.med-ye,et.un=et.med+ye,Xt=Math.min(Xt,et.ln),se=Math.max(se,et.un),et.pts2=lt.filter(Z),P.push(et)}w.notched&&M.isTypedArray(mt)&&(mt=Array.from(mt)),w._extremes[A._id]=E.findExtremes(A,w.notched?mt.concat([Xt,se]):mt,{padded:!0})}return l(P,w),P.length>0?(P[0].t={num:S[u],dPos:K,posLetter:N,valLetter:R,labels:{med:d(p,"median:"),min:d(p,"min:"),q1:d(p,"q1:"),q3:d(p,"q3:"),max:d(p,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?d(p,"mean ± σ:").replace("σ",w.sdmultiple===1?"σ":w.sdmultiple+"σ"):d(p,"mean:"),lf:d(p,"lower fence:"),uf:d(p,"upper fence:")}},S[u]++,P):[{t:{empty:!0}}]};function v(p,w,S,_){var T=w in p,P=w+"0"in p,u="d"+w in p;if(T||P&&u){var g=S.makeCalcdata(p,w),L=i(p,S,w,g).vals;return[L,g]}var A;P?A=p[w+"0"]:"name"in p&&(S.type==="category"||x(p.name)&&["linear","log"].indexOf(S.type)!==-1||M.isDateTime(p.name)&&S.type==="date")?A=p.name:A=_;for(var R=S.type==="multicategory"?S.r2c_just_indices(A):S.d2c(A,0,p[w+"calendar"]),O=p._length,N=new Array(O),z=0;z<O;z++)N[z]=R;return[N]}function r(p,w){for(var S=p.length,_=new Array(S+1),T=0;T<S;T++)_[T]=p[T]-w;return _[S]=p[S-1]+w,_}function e(p){for(var w=new Array(p),S=0;S<p;S++)w[S]=[];return w}var s={text:"tx",hovertext:"htx"};function n(p,w,S){for(var _ in s)M.isArrayOrTypedArray(w[_])&&(Array.isArray(S)?M.isArrayOrTypedArray(w[_][S[0]])&&(p[s[_]]=w[_][S[0]][S[1]]):p[s[_]]=w[_][S])}function l(p,w){if(M.isArrayOrTypedArray(w.selectedpoints))for(var S=0;S<p.length;S++){for(var _=p[S].pts||[],T={},P=0;P<_.length;P++)T[_[P].i]=P;M.tagSelected(_,w,T)}}function o(p,w){return p.v-w.v}function h(p){return p.v}function b(p,w,S){return S===0?p.q1:Math.min(p.q1,w[Math.min(M.findBin(2.5*p.q1-1.5*p.q3,w,!0)+1,S-1)])}function f(p,w,S){return S===0?p.q3:Math.max(p.q3,w[Math.max(M.findBin(2.5*p.q3-1.5*p.q1,w),0)])}function k(p){return 4*p.q1-3*p.q3}function a(p){return 4*p.q3-3*p.q1}function c(p,w){return w===0?0:1.57*(p.q3-p.q1)/Math.sqrt(w)}},96404:function(X,B,t){var x=t(54460),E=t(3400),i=t(71888).getAxisGroup,M=["v","h"];function m(v,r){for(var e=v.calcdata,s=r.xaxis,n=r.yaxis,l=0;l<M.length;l++){for(var o=M[l],h=o==="h"?n:s,b=[],f=0;f<e.length;f++){var k=e[f],a=k[0].t,c=k[0].trace;c.visible===!0&&(c.type==="box"||c.type==="candlestick")&&!a.empty&&(c.orientation||"v")===o&&c.xaxis===s._id&&c.yaxis===n._id&&b.push(f)}d("box",v,b,h)}}function d(v,r,e,s){var n=r.calcdata,l=r._fullLayout,o=s._id,h=o.charAt(0),b,f,k,a=[],c=0;for(b=0;b<e.length;b++)for(k=n[e[b]],f=0;f<k.length;f++)a.push(s.c2l(k[f].pos,!0)),c+=(k[f].pts2||[]).length;if(a.length){var p=E.distinctVals(a);(s.type==="category"||s.type==="multicategory")&&(p.minDiff=1);var w=p.minDiff/2;x.minDtick(s,p.minDiff,p.vals[0],!0);var S=v==="violin"?"_numViolins":"_numBoxes",_=l[S],T=l[v+"mode"]==="group"&&_>1,P=1-l[v+"gap"],u=1-l[v+"groupgap"];for(b=0;b<e.length;b++){k=n[e[b]];var g=k[0].trace,L=k[0].t,A=g.width,R=g.side,O,N,z,F;if(A)O=N=F=A/2,z=0;else if(O=w,T){var I=i(l,s._id)+g.orientation,j=l._alignmentOpts[I]||{},V=j[g.alignmentgroup]||{},W=Object.keys(V.offsetGroups||{}).length,K=W||_,et=W?g._offsetIndex:L.num;N=O*P*u/K,z=2*O*(-.5+(et+.5)/K)*P,F=O*P/K}else N=O*P*u,z=0,F=O;L.dPos=O,L.bPos=z,L.bdPos=N,L.wHover=F;var lt,ot,q=z+N,J,it,Z,tt,st,Q,G=!!A,ut=(g.boxpoints||g.points)&&c>0;if(R==="positive"?(lt=O*(A?1:.5),J=q,ot=J=z):R==="negative"?(lt=J=z,ot=O*(A?1:.5),it=q):(lt=ot=O,J=it=q),ut){var at=g.pointpos,dt=g.jitter,gt=g.marker.size/2,wt=0;at+dt>=0&&(wt=q*(at+dt),wt>lt?(G=!0,st=gt,Z=wt):wt>J&&(st=gt,Z=lt)),wt<=lt&&(Z=lt);var kt=0;at-dt<=0&&(kt=-q*(at-dt),kt>ot?(G=!0,Q=gt,tt=kt):kt>it&&(Q=gt,tt=ot)),kt<=ot&&(tt=ot)}else Z=lt,tt=ot;var Ot=new Array(k.length);for(f=0;f<k.length;f++)Ot[f]=k[f].pos;g._extremes[o]=x.findExtremes(s,Ot,{padded:G,vpadminus:tt,vpadplus:Z,vpadLinearized:!0,ppadminus:{x:Q,y:st}[h],ppadplus:{x:st,y:Q}[h]})}}}X.exports={crossTraceCalc:m,setPositionOffset:d}},90624:function(X,B,t){var x=t(3400),E=t(24040),i=t(76308),M=t(31147),m=t(20011),d=t(52976),v=t(63188);function r(l,o,h,b){function f(u,g){return x.coerce(l,o,v,u,g)}if(e(l,o,f,b),o.visible!==!1){M(l,o,b,f),f("xhoverformat"),f("yhoverformat");var k=o._hasPreCompStats;k&&(f("lowerfence"),f("upperfence")),f("line.color",(l.marker||{}).color||h),f("line.width"),f("fillcolor",i.addOpacity(o.line.color,.5));var a=!1;if(k){var c=f("mean"),p=f("sd");c&&c.length&&(a=!0,p&&p.length&&(a="sd"))}f("whiskerwidth");var w=f("sizemode"),S;w==="quartiles"&&(S=f("boxmean",a)),f("showwhiskers",w==="quartiles"),(w==="sd"||S==="sd")&&f("sdmultiple"),f("width"),f("quartilemethod");var _=!1;if(k){var T=f("notchspan");T&&T.length&&(_=!0)}else x.validate(l.notchwidth,v.notchwidth)&&(_=!0);var P=f("notched",_);P&&f("notchwidth"),s(l,o,f,{prefix:"box"})}}function e(l,o,h,b){function f(W){var K=0;return W&&W.length&&(K+=1,x.isArrayOrTypedArray(W[0])&&W[0].length&&(K+=1)),K}function k(W){return x.validate(l[W],v[W])}var a=h("y"),c=h("x"),p;if(o.type==="box"){var w=h("q1"),S=h("median"),_=h("q3");o._hasPreCompStats=w&&w.length&&S&&S.length&&_&&_.length,p=Math.min(x.minRowLength(w),x.minRowLength(S),x.minRowLength(_))}var T=f(a),P=f(c),u=T&&x.minRowLength(a),g=P&&x.minRowLength(c),L=b.calendar,A={autotypenumbers:b.autotypenumbers},R,O;if(o._hasPreCompStats)switch(String(P)+String(T)){case"00":var N=k("x0")||k("dx"),z=k("y0")||k("dy");z&&!N?R="h":R="v",O=p;break;case"10":R="v",O=Math.min(p,g);break;case"20":R="h",O=Math.min(p,c.length);break;case"01":R="h",O=Math.min(p,u);break;case"02":R="v",O=Math.min(p,a.length);break;case"12":R="v",O=Math.min(p,g,a.length);break;case"21":R="h",O=Math.min(p,c.length,u);break;case"11":O=0;break;case"22":var F=!1,I;for(I=0;I<c.length;I++)if(d(c[I],L,A)==="category"){F=!0;break}if(F)R="v",O=Math.min(p,g,a.length);else{for(I=0;I<a.length;I++)if(d(a[I],L,A)==="category"){F=!0;break}F?(R="h",O=Math.min(p,c.length,u)):(R="v",O=Math.min(p,g,a.length))}break}else T>0?(R="v",P>0?O=Math.min(g,u):O=Math.min(u)):P>0?(R="h",O=Math.min(g)):O=0;if(!O){o.visible=!1;return}o._length=O;var j=h("orientation",R);o._hasPreCompStats?j==="v"&&P===0?(h("x0",0),h("dx",1)):j==="h"&&T===0&&(h("y0",0),h("dy",1)):j==="v"&&P===0?h("x0"):j==="h"&&T===0&&h("y0");var V=E.getComponentMethod("calendars","handleTraceDefaults");V(l,o,["x","y"],b)}function s(l,o,h,b){var f=b.prefix,k=x.coerce2(l,o,v,"marker.outliercolor"),a=h("marker.line.outliercolor"),c="outliers";o._hasPreCompStats?c="all":(k||a)&&(c="suspectedoutliers");var p=h(f+"points",c);p?(h("jitter",p==="all"?.3:0),h("pointpos",p==="all"?-1.5:0),h("marker.symbol"),h("marker.opacity"),h("marker.size"),h("marker.angle"),h("marker.color",o.line.color),h("marker.line.color"),h("marker.line.width"),p==="suspectedoutliers"&&(h("marker.line.outliercolor",o.marker.color),h("marker.line.outlierwidth")),h("selected.marker.color"),h("unselected.marker.color"),h("selected.marker.size"),h("unselected.marker.size"),h("text"),h("hovertext")):delete o.marker;var w=h("hoveron");(w==="all"||w.indexOf("points")!==-1)&&h("hovertemplate"),x.coerceSelectionMarkerOpacity(o,h)}function n(l,o){var h,b;function f(c){return x.coerce(b._input,b,v,c)}for(var k=0;k<l.length;k++){b=l[k];var a=b.type;(a==="box"||a==="violin")&&(h=b._input,o[a+"mode"]==="group"&&m(h,b,o,f))}}X.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:e,handlePointsDefaults:s}},10392:function(X){X.exports=function(B,t){return t.hoverOnBox&&(B.hoverOnBox=t.hoverOnBox),"xVal"in t&&(B.x=t.xVal),"yVal"in t&&(B.y=t.yVal),t.xa&&(B.xaxis=t.xa),t.ya&&(B.yaxis=t.ya),B}},27576:function(X,B,t){var x=t(54460),E=t(3400),i=t(93024),M=t(76308),m=E.fillText;function d(e,s,n,l){var o=e.cd,h=o[0].trace,b=h.hoveron,f=[],k;return b.indexOf("boxes")!==-1&&(f=f.concat(v(e,s,n,l))),b.indexOf("points")!==-1&&(k=r(e,s,n)),l==="closest"?k?[k]:f:(k&&f.push(k),f)}function v(e,s,n,l){var o=e.cd,h=e.xa,b=e.ya,f=o[0].trace,k=o[0].t,a=f.type==="violin",c,p,w,S,_,T,P,u,g,L,A,R=k.bdPos,O,N,z=k.wHover,F=function(kt){return w.c2l(kt.pos)+k.bPos-w.c2l(T)};a&&f.side!=="both"?(f.side==="positive"&&(g=function(kt){var Ot=F(kt);return i.inbox(Ot,Ot+z,L)},O=R,N=0),f.side==="negative"&&(g=function(kt){var Ot=F(kt);return i.inbox(Ot-z,Ot,L)},O=0,N=R)):(g=function(kt){var Ot=F(kt);return i.inbox(Ot-z,Ot+z,L)},O=N=R);var I;a?I=function(kt){return i.inbox(kt.span[0]-_,kt.span[1]-_,L)}:I=function(kt){return i.inbox(kt.min-_,kt.max-_,L)},f.orientation==="h"?(_=s,T=n,P=I,u=g,c="y",w=b,p="x",S=h):(_=n,T=s,P=g,u=I,c="x",w=h,p="y",S=b);var j=Math.min(1,R/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));L=e.maxHoverDistance-j,A=e.maxSpikeDistance-j;function V(kt){return(P(kt)+u(kt))/2}var W=i.getDistanceFunction(l,P,u,V);if(i.getClosest(o,W,e),e.index===!1)return[];var K=o[e.index],et=f.line.color,lt=(f.marker||{}).color;M.opacity(et)&&f.line.width?e.color=et:M.opacity(lt)&&f.boxpoints?e.color=lt:e.color=f.fillcolor,e[c+"0"]=w.c2p(K.pos+k.bPos-N,!0),e[c+"1"]=w.c2p(K.pos+k.bPos+O,!0),e[c+"LabelVal"]=K.orig_p!==void 0?K.orig_p:K.pos;var ot=c+"Spike";e.spikeDistance=V(K)*A/L,e[ot]=w.c2p(K.pos,!0);var q=f.boxmean||f.sizemode==="sd"||(f.meanline||{}).visible,J=f.boxpoints||f.points,it=J&&q?["max","uf","q3","med","mean","q1","lf","min"]:J&&!q?["max","uf","q3","med","q1","lf","min"]:!J&&q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Z=S.range[1]<S.range[0];f.orientation===(Z?"v":"h")&&it.reverse();for(var tt=e.spikeDistance,st=e[ot],Q=[],G=0;G<it.length;G++){var ut=it[G];if(ut in K){var at=K[ut],dt=S.c2p(at,!0),gt=E.extendFlat({},e);gt.attr=ut,gt[p+"0"]=gt[p+"1"]=dt,gt[p+"LabelVal"]=at,gt[p+"Label"]=(k.labels?k.labels[ut]+" ":"")+x.hoverLabelText(S,at,f[p+"hoverformat"]),gt.hoverOnBox=!0,ut==="mean"&&"sd"in K&&(f.boxmean==="sd"||f.sizemode==="sd")&&(gt[p+"err"]=K.sd),gt.hovertemplate=!1,Q.push(gt)}}e.name="",e.spikeDistance=void 0,e[ot]=void 0;for(var wt=0;wt<Q.length;wt++)Q[wt].attr!=="med"?(Q[wt].name="",Q[wt].spikeDistance=void 0,Q[wt][ot]=void 0):(Q[wt].spikeDistance=tt,Q[wt][ot]=st);return Q}function r(e,s,n){for(var l=e.cd,o=e.xa,h=e.ya,b=l[0].trace,f=o.c2p(s),k=h.c2p(n),a,c=function(I){var j=Math.max(3,I.mrc||0);return Math.max(Math.abs(o.c2p(I.x)-f)-j,1-3/j)},p=function(I){var j=Math.max(3,I.mrc||0);return Math.max(Math.abs(h.c2p(I.y)-k)-j,1-3/j)},w=i.quadrature(c,p),S=!1,_,T,P=0;P<l.length;P++){_=l[P];for(var u=0;u<(_.pts||[]).length;u++){T=_.pts[u];var g=w(T);g<=e.distance&&(e.distance=g,S=[P,u])}}if(!S)return!1;_=l[S[0]],T=_.pts[S[1]];var L=o.c2p(T.x,!0),A=h.c2p(T.y,!0),R=T.mrc||1;a=E.extendFlat({},e,{index:T.i,color:(b.marker||{}).color,name:b.name,x0:L-R,x1:L+R,y0:A-R,y1:A+R,spikeDistance:e.distance,hovertemplate:b.hovertemplate});var O=_.orig_p,N=O!==void 0?O:_.pos,z;b.orientation==="h"?(z=h,a.xLabelVal=T.x,a.yLabelVal=N):(z=o,a.xLabelVal=N,a.yLabelVal=T.y);var F=z._id.charAt(0);return a[F+"Spike"]=z.c2p(_.pos,!0),m(T,b,a),a}X.exports={hoverPoints:d,hoverOnBoxes:v,hoverOnPoints:r}},67244:function(X,B,t){X.exports={attributes:t(63188),layoutAttributes:t(16560),supplyDefaults:t(90624).supplyDefaults,crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(68832).supplyLayoutDefaults,calc:t(62555),crossTraceCalc:t(96404).crossTraceCalc,plot:t(18728).plot,style:t(25776).style,styleOnSelect:t(25776).styleOnSelect,hoverPoints:t(27576).hoverPoints,eventData:t(10392),selectPoints:t(8264),moduleType:"trace",name:"box",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(X){X.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(X,B,t){var x=t(24040),E=t(3400),i=t(16560);function M(d,v,r,e,s){for(var n=s+"Layout",l=!1,o=0;o<r.length;o++){var h=r[o];if(x.traceIs(h,n)){l=!0;break}}l&&(e(s+"mode"),e(s+"gap"),e(s+"groupgap"))}function m(d,v,r){function e(s,n){return E.coerce(d,v,i,s,n)}M(d,v,r,e,"box")}X.exports={supplyLayoutDefaults:m,_supply:M}},18728:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=5,m=.01;function d(s,n,l,o){var h=s._context.staticPlot,b=n.xaxis,f=n.yaxis;E.makeTraceGroups(o,l,"trace boxes").each(function(k){var a=x.select(this),c=k[0],p=c.t,w=c.trace;if(p.wdPos=p.bdPos*w.whiskerwidth,w.visible!==!0||p.empty){a.remove();return}var S,_;w.orientation==="h"?(S=f,_=b):(S=b,_=f),v(a,{pos:S,val:_},w,p,h),r(a,{x:b,y:f},w,p),e(a,{pos:S,val:_},w,p)})}function v(s,n,l,o,h){var b=l.orientation==="h",f=n.val,k=n.pos,a=!!k.rangebreaks,c=o.bPos,p=o.wdPos||0,w=o.bPosPxOffset||0,S=l.whiskerwidth||0,_=l.showwhiskers!==!1,T=l.notched||!1,P=T?1-2*l.notchwidth:1,u,g;Array.isArray(o.bdPos)?(u=o.bdPos[0],g=o.bdPos[1]):(u=o.bdPos,g=o.bdPos);var L=s.selectAll("path.box").data(l.type!=="violin"||l.box.visible?E.identity:[]);L.enter().append("path").style("vector-effect",h?"none":"non-scaling-stroke").attr("class","box"),L.exit().remove(),L.each(function(A){if(A.empty)return x.select(this).attr("d","M0,0Z");var R=k.c2l(A.pos+c,!0),O=k.l2p(R-u)+w,N=k.l2p(R+g)+w,z=a?(O+N)/2:k.l2p(R)+w,F=l.whiskerwidth,I=a?O*F+(1-F)*z:k.l2p(R-p)+w,j=a?N*F+(1-F)*z:k.l2p(R+p)+w,V=k.l2p(R-u*P)+w,W=k.l2p(R+g*P)+w,K=l.sizemode==="sd",et=f.c2p(K?A.mean-A.sd:A.q1,!0),lt=K?f.c2p(A.mean+A.sd,!0):f.c2p(A.q3,!0),ot=E.constrain(K?f.c2p(A.mean,!0):f.c2p(A.med,!0),Math.min(et,lt)+1,Math.max(et,lt)-1),q=A.lf===void 0||l.boxpoints===!1||K,J=f.c2p(q?A.min:A.lf,!0),it=f.c2p(q?A.max:A.uf,!0),Z=f.c2p(A.ln,!0),tt=f.c2p(A.un,!0);b?x.select(this).attr("d","M"+ot+","+V+"V"+W+"M"+et+","+O+"V"+N+(T?"H"+Z+"L"+ot+","+W+"L"+tt+","+N:"")+"H"+lt+"V"+O+(T?"H"+tt+"L"+ot+","+V+"L"+Z+","+O:"")+"Z"+(_?"M"+et+","+z+"H"+J+"M"+lt+","+z+"H"+it+(S===0?"":"M"+J+","+I+"V"+j+"M"+it+","+I+"V"+j):"")):x.select(this).attr("d","M"+V+","+ot+"H"+W+"M"+O+","+et+"H"+N+(T?"V"+Z+"L"+W+","+ot+"L"+N+","+tt:"")+"V"+lt+"H"+O+(T?"V"+tt+"L"+V+","+ot+"L"+O+","+Z:"")+"Z"+(_?"M"+z+","+et+"V"+J+"M"+z+","+lt+"V"+it+(S===0?"":"M"+I+","+J+"H"+j+"M"+I+","+it+"H"+j):""))})}function r(s,n,l,o){var h=n.x,b=n.y,f=o.bdPos,k=o.bPos,a=l.boxpoints||l.points;E.seedPseudoRandom();var c=function(S){return S.forEach(function(_){_.t=o,_.trace=l}),S},p=s.selectAll("g.points").data(a?c:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var w=p.selectAll("path").data(function(S){var _,T=S.pts2,P=Math.max((S.max-S.min)/10,S.q3-S.q1),u=P*1e-9,g=P*m,L=[],A=0,R;if(l.jitter){if(P===0)for(A=1,L=new Array(T.length),_=0;_<T.length;_++)L[_]=1;else for(_=0;_<T.length;_++){var O=Math.max(0,_-M),N=T[O].v,z=Math.min(T.length-1,_+M),F=T[z].v;a!=="all"&&(T[_].v<S.lf?F=Math.min(F,S.lf):N=Math.max(N,S.uf));var I=Math.sqrt(g*(z-O)/(F-N+u))||0;I=E.constrain(Math.abs(I),0,1),L.push(I),A=Math.max(I,A)}R=l.jitter*2/(A||1)}for(_=0;_<T.length;_++){var j=T[_],V=j.v,W=l.jitter?R*L[_]*(E.pseudoRandom()-.5):0,K=S.pos+k+f*(l.pointpos+W);l.orientation==="h"?(j.y=K,j.x=V):(j.x=K,j.y=V),a==="suspectedoutliers"&&V<S.uo&&V>S.lo&&(j.so=!0)}return T});w.enter().append("path").classed("point",!0),w.exit().remove(),w.call(i.translatePoints,h,b)}function e(s,n,l,o){var h=n.val,b=n.pos,f=!!b.rangebreaks,k=o.bPos,a=o.bPosPxOffset||0,c=l.boxmean||(l.meanline||{}).visible,p,w;Array.isArray(o.bdPos)?(p=o.bdPos[0],w=o.bdPos[1]):(p=o.bdPos,w=o.bdPos);var S=s.selectAll("path.mean").data(l.type==="box"&&l.boxmean||l.type==="violin"&&l.box.visible&&l.meanline.visible?E.identity:[]);S.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),S.exit().remove(),S.each(function(_){var T=b.c2l(_.pos+k,!0),P=b.l2p(T-p)+a,u=b.l2p(T+w)+a,g=f?(P+u)/2:b.l2p(T)+a,L=h.c2p(_.mean,!0),A=h.c2p(_.mean-_.sd,!0),R=h.c2p(_.mean+_.sd,!0);l.orientation==="h"?x.select(this).attr("d","M"+L+","+P+"V"+u+(c==="sd"?"m0,0L"+A+","+g+"L"+L+","+P+"L"+R+","+g+"Z":"")):x.select(this).attr("d","M"+P+","+L+"H"+u+(c==="sd"?"m0,0L"+g+","+A+"L"+P+","+L+"L"+g+","+R+"Z":""))})}X.exports={plot:d,plotBoxAndWhiskers:v,plotPoints:r,plotBoxMean:e}},8264:function(X){X.exports=function(B,t){var x=B.cd,E=B.xaxis,i=B.yaxis,M=[],m,d;if(t===!1)for(m=0;m<x.length;m++)for(d=0;d<(x[m].pts||[]).length;d++)x[m].pts[d].selected=0;else for(m=0;m<x.length;m++)for(d=0;d<(x[m].pts||[]).length;d++){var v=x[m].pts[d],r=E.c2p(v.x),e=i.c2p(v.y);t.contains([r,e],null,v.i,B)?(M.push({pointNumber:v.i,x:E.c2d(v.x),y:i.c2d(v.y)}),v.selected=1):v.selected=0}return M}},25776:function(X,B,t){var x=t(33428),E=t(76308),i=t(43616);function M(d,v,r){var e=r||x.select(d).selectAll("g.trace.boxes");e.style("opacity",function(s){return s[0].trace.opacity}),e.each(function(s){var n=x.select(this),l=s[0].trace,o=l.line.width;function h(k,a,c,p){k.style("stroke-width",a+"px").call(E.stroke,c).call(E.fill,p)}var b=n.selectAll("path.box");if(l.type==="candlestick")b.each(function(k){if(!k.empty){var a=x.select(this),c=l[k.dir];h(a,c.line.width,c.line.color,c.fillcolor),a.style("opacity",l.selectedpoints&&!k.selected?.3:1)}});else{h(b,o,l.line.color,l.fillcolor),n.selectAll("path.mean").style({"stroke-width":o,"stroke-dasharray":2*o+"px,"+o+"px"}).call(E.stroke,l.line.color);var f=n.selectAll("path.point");i.pointStyle(f,l,d)}})}function m(d,v,r){var e=v[0].trace,s=r.selectAll("path.point");e.selectedpoints?i.selectedPointStyle(s,e):i.pointStyle(s,e,d)}X.exports={style:M,styleOnSelect:m}},64216:function(X,B,t){var x=t(3400).extendFlat,E=t(29736).axisHoverFormat,i=t(20279),M=t(63188);function m(d){return{line:{color:x({},M.line.color,{dflt:d}),width:M.line.width,editType:"style"},fillcolor:M.fillcolor,editType:"style"}}X.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:x({},M.line.width,{}),editType:"style"},increasing:m(i.increasing.line.color.dflt),decreasing:m(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:x({},M.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel}},46283:function(X,B,t){var x=t(3400),E=t(54460),i=t(1220),M=t(42812).calcCommon;X.exports=function(d,v){var r=d._fullLayout,e=E.getFromId(d,v.xaxis),s=E.getFromId(d,v.yaxis),n=e.makeCalcdata(v,"x"),l=i(v,e,"x",n).vals,o=M(d,v,n,l,s,m);return o.length?(x.extendFlat(o[0].t,{num:r._numBoxes,dPos:x.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,o):[{t:{empty:!0}}]};function m(d,v,r,e){return{min:r,q1:Math.min(d,e),med:e,q3:Math.max(d,e),max:v}}},64588:function(X,B,t){var x=t(3400),E=t(76308),i=t(52744),M=t(31147),m=t(64216);X.exports=function(v,r,e,s){function n(o,h){return x.coerce(v,r,m,o,h)}var l=i(v,r,n,s);if(!l){r.visible=!1;return}M(v,r,s,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),d(v,r,n,"increasing"),d(v,r,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),s._requestRangeslider[r.xaxis]=!0};function d(v,r,e,s){var n=e(s+".line.color");e(s+".line.width",r.line.width),e(s+".fillcolor",E.addOpacity(n,.5))}},61712:function(X,B,t){X.exports={moduleType:"trace",name:"candlestick",basePlotModule:t(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:t(64216),layoutAttributes:t(16560),supplyLayoutDefaults:t(68832).supplyLayoutDefaults,crossTraceCalc:t(96404).crossTraceCalc,supplyDefaults:t(64588),calc:t(46283),plot:t(18728).plot,layerName:"boxlayer",style:t(25776).style,hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},93504:function(X,B,t){var x=t(63856),E=t(31780);X.exports=function(M,m,d,v,r){var e=v("a");e||(v("da"),v("a0"));var s=v("b");s||(v("db"),v("b0")),i(M,m,d,r)};function i(M,m,d,v){var r=["aaxis","baxis"];r.forEach(function(e){var s=e.charAt(0),n=M[e]||{},l=E.newContainer(m,e),o={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:m.font,name:e,data:M[s],calendar:m.calendar,dfltColor:v,bgColor:d.paper_bgcolor,autotypenumbersDflt:d.autotypenumbers,fullLayout:d};x(n,l,o),l._categories=l._categories||[],!M[e]&&n.type!=="-"&&(M[e]={type:n.type})})}},51676:function(X,B,t){var x=t(3400).isArrayOrTypedArray;X.exports=function(i){return E(i,0)};function E(i,M){if(!x(i)||M>=10)return null;for(var m=1/0,d=-1/0,v=i.length,r=0;r<v;r++){var e=i[r];if(x(e)){var s=E(e,M+1);s&&(m=Math.min(s[0],m),d=Math.max(s[1],d))}else m=Math.min(e,m),d=Math.max(e,d)}return[m,d]}},85720:function(X,B,t){var x=t(25376),E=t(98692),i=t(22548),M=x({editType:"calc"});M.family.dflt='"Open Sans", verdana, arial, sans-serif',M.size.dflt=12,M.color.dflt=i.defaultLine,X.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:E,baxis:E,font:M,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0}},77712:function(X,B,t){var x=t(3400).isArrayOrTypedArray;X.exports=function(E,i,M,m){var d,v,r,e,s,n,l,o,h,b,f,k,a,c=x(M)?"a":"b",p=c==="a"?E.aaxis:E.baxis,w=p.smoothing,S=c==="a"?E.a2i:E.b2j,_=c==="a"?M:m,T=c==="a"?m:M,P=c==="a"?i.a.length:i.b.length,u=c==="a"?i.b.length:i.a.length,g=Math.floor(c==="a"?E.b2j(T):E.a2i(T)),L=c==="a"?function(et){return E.evalxy([],et,g)}:function(et){return E.evalxy([],g,et)};w&&(r=Math.max(0,Math.min(u-2,g)),e=g-r,v=c==="a"?function(et,lt){return E.dxydi([],et,r,lt,e)}:function(et,lt){return E.dxydj([],r,et,e,lt)});var A=S(_[0]),R=S(_[1]),O=A<R?1:-1,N=(R-A)*1e-8,z=O>0?Math.floor:Math.ceil,F=O>0?Math.ceil:Math.floor,I=O>0?Math.min:Math.max,j=O>0?Math.max:Math.min,V=z(A+N),W=F(R-N);l=L(A);var K=[[l]];for(d=V;d*O<W*O;d+=O)s=[],f=j(A,d),k=I(R,d+O),a=k-f,n=Math.max(0,Math.min(P-2,Math.floor(.5*(f+k)))),o=L(k),w&&(h=v(n,f-n),b=v(n,k-n),s.push([l[0]+h[0]/3*a,l[1]+h[1]/3*a]),s.push([o[0]-b[0]/3*a,o[1]-b[1]/3*a])),s.push(o),K.push(s),l=o;return K}},98692:function(X,B,t){var x=t(25376),E=t(22548),i=t(94724),M=t(29736).descriptionWithDates,m=t(67824).overrideAll,d=t(98192).u,v=t(92880).extendFlat;X.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:x({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:v({},i.labelalias,{editType:"calc"}),tickfont:x({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:M("tick label")},tickformatstops:m(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:v({},d,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:v({},d,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:E.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:x({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(X,B,t){var x=t(85720),E=t(76308).addOpacity,i=t(24040),M=t(3400),m=t(26332),d=t(95936),v=t(42568),r=t(22416),e=t(78344),s=t(52976);X.exports=function(l,o,h){var b=h.letter,f=h.font||{},k=x[b+"axis"];function a(j,V){return M.coerce(l,o,k,j,V)}function c(j,V){return M.coerce2(l,o,k,j,V)}h.name&&(o._name=h.name,o._id=h.name),a("autotypenumbers",h.autotypenumbersDflt);var p=a("type");if(p==="-"&&(h.data&&n(o,h.data),o.type==="-"?o.type="linear":p=l.type=o.type),a("smoothing"),a("cheatertype"),a("showticklabels"),a("labelprefix",b+" = "),a("labelsuffix"),a("showtickprefix"),a("showticksuffix"),a("separatethousands"),a("tickformat"),a("exponentformat"),a("minexponent"),a("showexponent"),a("categoryorder"),a("tickmode"),a("tickvals"),a("ticktext"),a("tick0"),a("dtick"),o.tickmode==="array"&&(a("arraytick0"),a("arraydtick")),a("labelpadding"),o._hovertitle=b,p==="date"){var w=i.getComponentMethod("calendars","handleDefaults");w(l,o,"calendar",h.calendar)}e(o,h.fullLayout),o.c2p=M.identity;var S=a("color",h.dfltColor),_=S===l.color?S:f.color,T=a("title.text");T&&(M.coerceFont(a,"title.font",{family:f.family,size:M.bigFont(f.size),color:_}),a("title.offset")),a("tickangle");var P=a("autorange",!o.isValidRange(l.range));P&&a("rangemode"),a("range"),o.cleanRange(),a("fixedrange"),m(l,o,a,p),v(l,o,a,p,h),d(l,o,a,p,h),r(l,o,a,{data:h.data,dataAttr:b});var u=c("gridcolor",E(S,.3)),g=c("gridwidth"),L=c("griddash"),A=a("showgrid");A||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var R=c("startlinecolor",S),O=c("startlinewidth",g),N=a("startline",o.showgrid||!!R||!!O);N||(delete o.startlinecolor,delete o.startlinewidth);var z=c("endlinecolor",S),F=c("endlinewidth",g),I=a("endline",o.showgrid||!!z||!!F);return I||(delete o.endlinecolor,delete o.endlinewidth),A?(a("minorgridcount"),a("minorgridwidth",g),a("minorgriddash",L),a("minorgridcolor",E(u,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),o.showticklabels==="none"&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,a("tickmode"),o};function n(l,o){if(l.type==="-"){var h=l._id,b=h.charAt(0),f=b+"calendar",k=l[f];l.type=s(o,k,{autotypenumbers:l.autotypenumbers})}}},58744:function(X,B,t){var x=t(54460),E=t(3400).isArray1D,i=t(60776),M=t(51676),m=t(19216),d=t(14724),v=t(24944),r=t(26136),e=t(51512),s=t(2872),n=t(81e3);X.exports=function(l,o){var h=x.getFromId(l,o.xaxis),b=x.getFromId(l,o.yaxis),f=o.aaxis,k=o.baxis,a=o.x,c=o.y,p=[];a&&E(a)&&p.push("x"),c&&E(c)&&p.push("y"),p.length&&s(o,f,k,"a","b",p);var w=o._a=o._a||o.a,S=o._b=o._b||o.b;a=o._x||o.x,c=o._y||o.y;var _={};if(o._cheater){var T=f.cheatertype==="index"?w.length:w,P=k.cheatertype==="index"?S.length:S;a=i(T,P,o.cheaterslope)}o._x=a=r(a),o._y=c=r(c),e(a,w,S),e(c,w,S),n(o),o.setScale();var u=M(a),g=M(c),L=.5*(u[1]-u[0]),A=.5*(u[1]+u[0]),R=.5*(g[1]-g[0]),O=.5*(g[1]+g[0]),N=1.3;return u=[A-L*N,A+L*N],g=[O-R*N,O+R*N],o._extremes[h._id]=x.findExtremes(h,u,{padded:!0}),o._extremes[b._id]=x.findExtremes(b,g,{padded:!0}),m(o,"a","b"),m(o,"b","a"),d(o,f),d(o,k),_.clipsegments=v(o._xctrl,o._yctrl,f,k),_.x=a,_.y=c,_.a=w,_.b=S,[_]}},24944:function(X){X.exports=function(B,t,x,E){var i,M,m,d=[],v=!!x.smoothing,r=!!E.smoothing,e=B[0].length-1,s=B.length-1;for(i=0,M=[],m=[];i<=e;i++)M[i]=B[0][i],m[i]=t[0][i];for(d.push({x:M,y:m,bicubic:v}),i=0,M=[],m=[];i<=s;i++)M[i]=B[i][e],m[i]=t[i][e];for(d.push({x:M,y:m,bicubic:r}),i=e,M=[],m=[];i>=0;i--)M[e-i]=B[s][i],m[e-i]=t[s][i];for(d.push({x:M,y:m,bicubic:v}),i=s,M=[],m=[];i>=0;i--)M[s-i]=B[i][0],m[s-i]=t[i][0];return d.push({x:M,y:m,bicubic:r}),d}},19216:function(X,B,t){var x=t(54460),E=t(92880).extendFlat;X.exports=function(i,M,m){var d,v,r,e,s,n,l,o,h,b,f,k,a,c,p=i["_"+M],w=i[M+"axis"],S=w._gridlines=[],_=w._minorgridlines=[],T=w._boundarylines=[],P=i["_"+m],u=i[m+"axis"];w.tickmode==="array"&&(w.tickvals=p.slice());var g=i._xctrl,L=i._yctrl,A=g[0].length,R=g.length,O=i._a.length,N=i._b.length;x.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var z=w.smoothing?3:1;function F(j){var V,W,K,et,lt,ot,q,J,it,Z,tt,st,Q=[],G=[],ut={};if(M==="b")for(W=i.b2j(j),K=Math.floor(Math.max(0,Math.min(N-2,W))),et=W-K,ut.length=N,ut.crossLength=O,ut.xy=function(at){return i.evalxy([],at,W)},ut.dxy=function(at,dt){return i.dxydi([],at,K,dt,et)},V=0;V<O;V++)ot=Math.min(O-2,V),q=V-ot,J=i.evalxy([],V,W),u.smoothing&&V>0&&(it=i.dxydi([],V-1,K,0,et),Q.push(lt[0]+it[0]/3),G.push(lt[1]+it[1]/3),Z=i.dxydi([],V-1,K,1,et),Q.push(J[0]-Z[0]/3),G.push(J[1]-Z[1]/3)),Q.push(J[0]),G.push(J[1]),lt=J;else for(V=i.a2i(j),ot=Math.floor(Math.max(0,Math.min(O-2,V))),q=V-ot,ut.length=O,ut.crossLength=N,ut.xy=function(at){return i.evalxy([],V,at)},ut.dxy=function(at,dt){return i.dxydj([],ot,at,q,dt)},W=0;W<N;W++)K=Math.min(N-2,W),et=W-K,J=i.evalxy([],V,W),u.smoothing&&W>0&&(tt=i.dxydj([],ot,W-1,q,0),Q.push(lt[0]+tt[0]/3),G.push(lt[1]+tt[1]/3),st=i.dxydj([],ot,W-1,q,1),Q.push(J[0]-st[0]/3),G.push(J[1]-st[1]/3)),Q.push(J[0]),G.push(J[1]),lt=J;return ut.axisLetter=M,ut.axis=w,ut.crossAxis=u,ut.value=j,ut.constvar=m,ut.index=o,ut.x=Q,ut.y=G,ut.smoothing=u.smoothing,ut}function I(j){var V,W,K,et,lt,ot=[],q=[],J={};if(J.length=p.length,J.crossLength=P.length,M==="b")for(K=Math.max(0,Math.min(N-2,j)),lt=Math.min(1,Math.max(0,j-K)),J.xy=function(it){return i.evalxy([],it,j)},J.dxy=function(it,Z){return i.dxydi([],it,K,Z,lt)},V=0;V<A;V++)ot[V]=g[j*z][V],q[V]=L[j*z][V];else for(W=Math.max(0,Math.min(O-2,j)),et=Math.min(1,Math.max(0,j-W)),J.xy=function(it){return i.evalxy([],j,it)},J.dxy=function(it,Z){return i.dxydj([],W,it,et,Z)},V=0;V<R;V++)ot[V]=g[V][j*z],q[V]=L[V][j*z];return J.axisLetter=M,J.axis=w,J.crossAxis=u,J.value=p[j],J.constvar=m,J.index=j,J.x=ot,J.y=q,J.smoothing=u.smoothing,J}if(w.tickmode==="array"){for(e=5e-15,s=[Math.floor((p.length-1-w.arraytick0)/w.arraydtick*(1+e)),Math.ceil(-w.arraytick0/w.arraydtick/(1+e))].sort(function(j,V){return j-V}),n=s[0]-1,l=s[1]+1,o=n;o<l;o++)v=w.arraytick0+w.arraydtick*o,!(v<0||v>p.length-1)&&S.push(E(I(v),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(o=n;o<l;o++)if(r=w.arraytick0+w.arraydtick*o,f=Math.min(r+w.arraydtick,p.length-1),!(r<0||r>p.length-1)&&!(f<0||f>p.length-1))for(k=p[r],a=p[f],d=0;d<w.minorgridcount;d++)c=f-r,!(c<=0)&&(b=k+(a-k)*(d+1)/(w.minorgridcount+1)*(w.arraydtick/c),!(b<p[0]||b>p[p.length-1])&&_.push(E(F(b),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&T.push(E(I(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&T.push(E(I(p.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(e=5e-15,s=[Math.floor((p[p.length-1]-w.tick0)/w.dtick*(1+e)),Math.ceil((p[0]-w.tick0)/w.dtick/(1+e))].sort(function(j,V){return j-V}),n=s[0],l=s[1],o=n;o<=l;o++)h=w.tick0+w.dtick*o,S.push(E(F(h),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(o=n-1;o<l+1;o++)for(h=w.tick0+w.dtick*o,d=0;d<w.minorgridcount;d++)b=h+w.dtick*(d+1)/(w.minorgridcount+1),!(b<p[0]||b>p[p.length-1])&&_.push(E(F(b),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&T.push(E(F(p[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&T.push(E(F(p[p.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(X,B,t){var x=t(54460),E=t(92880).extendFlat;X.exports=function(i,M){var m,d,v,r,e,s=M._labels=[],n=M._gridlines;for(m=0;m<n.length;m++)e=n[m],["start","both"].indexOf(M.showticklabels)!==-1&&(d=x.tickText(M,e.value),E(d,{prefix:v,suffix:r,endAnchor:!0,xy:e.xy(0),dxy:e.dxy(0,0),axis:e.axis,length:e.crossAxis.length,font:e.axis.tickfont,isFirst:m===0,isLast:m===n.length-1}),s.push(d)),["end","both"].indexOf(M.showticklabels)!==-1&&(d=x.tickText(M,e.value),E(d,{endAnchor:!1,xy:e.xy(e.crossLength-1),dxy:e.dxy(e.crossLength-2,1),axis:e.axis,length:e.crossAxis.length,font:e.axis.tickfont,isFirst:m===0,isLast:m===n.length-1}),s.push(d))}},62284:function(X){var B=.5;X.exports=function(t,x,E,i){var M=t[0]-x[0],m=t[1]-x[1],d=E[0]-x[0],v=E[1]-x[1],r=Math.pow(M*M+m*m,B/2),e=Math.pow(d*d+v*v,B/2),s=(e*e*M-r*r*d)*i,n=(e*e*m-r*r*v)*i,l=e*(r+e)*3,o=r*(r+e)*3;return[[x[0]+(l&&s/l),x[1]+(l&&n/l)],[x[0]-(o&&s/o),x[1]-(o&&n/o)]]}},60776:function(X,B,t){var x=t(3400).isArrayOrTypedArray;X.exports=function(E,i,M){var m,d,v,r,e,s,n=[],l=x(E)?E.length:E,o=x(i)?i.length:i,h=x(E)?E:null,b=x(i)?i:null;h&&(v=(h.length-1)/(h[h.length-1]-h[0])/(l-1)),b&&(r=(b.length-1)/(b[b.length-1]-b[0])/(o-1));var f,k=1/0,a=-1/0;for(d=0;d<o;d++)for(n[d]=[],s=b?(b[d]-b[0])*r:d/(o-1),m=0;m<l;m++)e=h?(h[m]-h[0])*v:m/(l-1),f=e-s*M,k=Math.min(f,k),a=Math.max(f,a),n[d][m]=f;var c=1/(a-k),p=-k*c;for(d=0;d<o;d++)for(m=0;m<l;m++)n[d][m]=c*n[d][m]+p;return n}},30180:function(X,B,t){var x=t(62284),E=t(3400).ensureArray;function i(M,m,d){var v=-.5*d[0]+1.5*m[0],r=-.5*d[1]+1.5*m[1];return[(2*v+M[0])/3,(2*r+M[1])/3]}X.exports=function(M,m,d,v,r,e){var s,n,l,o,h,b,f,k,a,c,p=d[0].length,w=d.length,S=r?3*p-2:p,_=e?3*w-2:w;for(M=E(M,_),m=E(m,_),l=0;l<_;l++)M[l]=E(M[l],S),m[l]=E(m[l],S);for(n=0,o=0;n<w;n++,o+=e?3:1)for(h=M[o],b=m[o],f=d[n],k=v[n],s=0,l=0;s<p;s++,l+=r?3:1)h[l]=f[s],b[l]=k[s];if(r)for(n=0,o=0;n<w;n++,o+=e?3:1){for(s=1,l=3;s<p-1;s++,l+=3)a=x([d[n][s-1],v[n][s-1]],[d[n][s],v[n][s]],[d[n][s+1],v[n][s+1]],r),M[o][l-1]=a[0][0],m[o][l-1]=a[0][1],M[o][l+1]=a[1][0],m[o][l+1]=a[1][1];c=i([M[o][0],m[o][0]],[M[o][2],m[o][2]],[M[o][3],m[o][3]]),M[o][1]=c[0],m[o][1]=c[1],c=i([M[o][S-1],m[o][S-1]],[M[o][S-3],m[o][S-3]],[M[o][S-4],m[o][S-4]]),M[o][S-2]=c[0],m[o][S-2]=c[1]}if(e)for(l=0;l<S;l++){for(o=3;o<_-3;o+=3)a=x([M[o-3][l],m[o-3][l]],[M[o][l],m[o][l]],[M[o+3][l],m[o+3][l]],e),M[o-1][l]=a[0][0],m[o-1][l]=a[0][1],M[o+1][l]=a[1][0],m[o+1][l]=a[1][1];c=i([M[0][l],m[0][l]],[M[2][l],m[2][l]],[M[3][l],m[3][l]]),M[1][l]=c[0],m[1][l]=c[1],c=i([M[_-1][l],m[_-1][l]],[M[_-3][l],m[_-3][l]],[M[_-4][l],m[_-4][l]]),M[_-2][l]=c[0],m[_-2][l]=c[1]}if(r&&e)for(o=1;o<_;o+=(o+1)%3===0?2:1){for(l=3;l<S-3;l+=3)a=x([M[o][l-3],m[o][l-3]],[M[o][l],m[o][l]],[M[o][l+3],m[o][l+3]],r),M[o][l-1]=.5*(M[o][l-1]+a[0][0]),m[o][l-1]=.5*(m[o][l-1]+a[0][1]),M[o][l+1]=.5*(M[o][l+1]+a[1][0]),m[o][l+1]=.5*(m[o][l+1]+a[1][1]);c=i([M[o][0],m[o][0]],[M[o][2],m[o][2]],[M[o][3],m[o][3]]),M[o][1]=.5*(M[o][1]+c[0]),m[o][1]=.5*(m[o][1]+c[1]),c=i([M[o][S-1],m[o][S-1]],[M[o][S-3],m[o][S-3]],[M[o][S-4],m[o][S-4]]),M[o][S-2]=.5*(M[o][S-2]+c[0]),m[o][S-2]=.5*(m[o][S-2]+c[1])}return[M,m]}},24588:function(X){X.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(X){X.exports=function(B,t,x){return t&&x?function(E,i,M,m,d){E||(E=[]);var v,r,e,s,n,l;i*=3,M*=3;var o=m*m,h=1-m,b=h*h,f=h*m*2,k=-3*b,a=3*(b-f),c=3*(f-o),p=3*o,w=d*d,S=w*d,_=1-d,T=_*_,P=T*_;for(l=0;l<B.length;l++)n=B[l],v=k*n[M][i]+a*n[M][i+1]+c*n[M][i+2]+p*n[M][i+3],r=k*n[M+1][i]+a*n[M+1][i+1]+c*n[M+1][i+2]+p*n[M+1][i+3],e=k*n[M+2][i]+a*n[M+2][i+1]+c*n[M+2][i+2]+p*n[M+2][i+3],s=k*n[M+3][i]+a*n[M+3][i+1]+c*n[M+3][i+2]+p*n[M+3][i+3],E[l]=P*v+3*(T*d*r+_*w*e)+S*s;return E}:t?function(E,i,M,m,d){E||(E=[]);var v,r,e,s;i*=3;var n=m*m,l=1-m,o=l*l,h=l*m*2,b=-3*o,f=3*(o-h),k=3*(h-n),a=3*n,c=1-d;for(e=0;e<B.length;e++)s=B[e],v=b*s[M][i]+f*s[M][i+1]+k*s[M][i+2]+a*s[M][i+3],r=b*s[M+1][i]+f*s[M+1][i+1]+k*s[M+1][i+2]+a*s[M+1][i+3],E[e]=c*v+d*r;return E}:x?function(E,i,M,m,d){E||(E=[]);var v,r,e,s,n,l;M*=3;var o=d*d,h=o*d,b=1-d,f=b*b,k=f*b;for(n=0;n<B.length;n++)l=B[n],v=l[M][i+1]-l[M][i],r=l[M+1][i+1]-l[M+1][i],e=l[M+2][i+1]-l[M+2][i],s=l[M+3][i+1]-l[M+3][i],E[n]=k*v+3*(f*d*r+b*o*e)+h*s;return E}:function(E,i,M,m,d){E||(E=[]);var v,r,e,s,n=1-d;for(e=0;e<B.length;e++)s=B[e],v=s[M][i+1]-s[M][i],r=s[M+1][i+1]-s[M+1][i],E[e]=n*v+d*r;return E}}},24464:function(X){X.exports=function(B,t,x){return t&&x?function(E,i,M,m,d){E||(E=[]);var v,r,e,s,n,l;i*=3,M*=3;var o=m*m,h=o*m,b=1-m,f=b*b,k=f*b,a=d*d,c=1-d,p=c*c,w=c*d*2,S=-3*p,_=3*(p-w),T=3*(w-a),P=3*a;for(l=0;l<B.length;l++)n=B[l],v=S*n[M][i]+_*n[M+1][i]+T*n[M+2][i]+P*n[M+3][i],r=S*n[M][i+1]+_*n[M+1][i+1]+T*n[M+2][i+1]+P*n[M+3][i+1],e=S*n[M][i+2]+_*n[M+1][i+2]+T*n[M+2][i+2]+P*n[M+3][i+2],s=S*n[M][i+3]+_*n[M+1][i+3]+T*n[M+2][i+3]+P*n[M+3][i+3],E[l]=k*v+3*(f*m*r+b*o*e)+h*s;return E}:t?function(E,i,M,m,d){E||(E=[]);var v,r,e,s,n,l;i*=3;var o=d*d,h=o*d,b=1-d,f=b*b,k=f*b;for(n=0;n<B.length;n++)l=B[n],v=l[M+1][i]-l[M][i],r=l[M+1][i+1]-l[M][i+1],e=l[M+1][i+2]-l[M][i+2],s=l[M+1][i+3]-l[M][i+3],E[n]=k*v+3*(f*d*r+b*o*e)+h*s;return E}:x?function(E,i,M,m,d){E||(E=[]);var v,r,e,s;M*=3;var n=1-m,l=d*d,o=1-d,h=o*o,b=o*d*2,f=-3*h,k=3*(h-b),a=3*(b-l),c=3*l;for(e=0;e<B.length;e++)s=B[e],v=f*s[M][i]+k*s[M+1][i]+a*s[M+2][i]+c*s[M+3][i],r=f*s[M][i+1]+k*s[M+1][i+1]+a*s[M+2][i+1]+c*s[M+3][i+1],E[e]=n*v+m*r;return E}:function(E,i,M,m,d){E||(E=[]);var v,r,e,s,n=1-m;for(e=0;e<B.length;e++)s=B[e],v=s[M+1][i]-s[M][i],r=s[M+1][i+1]-s[M][i+1],E[e]=n*v+m*r;return E}}},29056:function(X){X.exports=function(B,t,x,E,i){var M=t-2,m=x-2;return E&&i?function(d,v,r){d||(d=[]);var e,s,n,l,o,h,b=Math.max(0,Math.min(Math.floor(v),M)),f=Math.max(0,Math.min(Math.floor(r),m)),k=Math.max(0,Math.min(1,v-b)),a=Math.max(0,Math.min(1,r-f));b*=3,f*=3;var c=k*k,p=c*k,w=1-k,S=w*w,_=S*w,T=a*a,P=T*a,u=1-a,g=u*u,L=g*u;for(h=0;h<B.length;h++)o=B[h],e=_*o[f][b]+3*(S*k*o[f][b+1]+w*c*o[f][b+2])+p*o[f][b+3],s=_*o[f+1][b]+3*(S*k*o[f+1][b+1]+w*c*o[f+1][b+2])+p*o[f+1][b+3],n=_*o[f+2][b]+3*(S*k*o[f+2][b+1]+w*c*o[f+2][b+2])+p*o[f+2][b+3],l=_*o[f+3][b]+3*(S*k*o[f+3][b+1]+w*c*o[f+3][b+2])+p*o[f+3][b+3],d[h]=L*e+3*(g*a*s+u*T*n)+P*l;return d}:E?function(d,v,r){d||(d=[]);var e=Math.max(0,Math.min(Math.floor(v),M)),s=Math.max(0,Math.min(Math.floor(r),m)),n=Math.max(0,Math.min(1,v-e)),l=Math.max(0,Math.min(1,r-s)),o,h,b,f,k,a;e*=3;var c=n*n,p=c*n,w=1-n,S=w*w,_=S*w,T=1-l;for(k=0;k<B.length;k++)a=B[k],o=T*a[s][e]+l*a[s+1][e],h=T*a[s][e+1]+l*a[s+1][e+1],b=T*a[s][e+2]+l*a[s+1][e+1],f=T*a[s][e+3]+l*a[s+1][e+1],d[k]=_*o+3*(S*n*h+w*c*b)+p*f;return d}:i?function(d,v,r){d||(d=[]);var e=Math.max(0,Math.min(Math.floor(v),M)),s=Math.max(0,Math.min(Math.floor(r),m)),n=Math.max(0,Math.min(1,v-e)),l=Math.max(0,Math.min(1,r-s)),o,h,b,f,k,a;s*=3;var c=l*l,p=c*l,w=1-l,S=w*w,_=S*w,T=1-n;for(k=0;k<B.length;k++)a=B[k],o=T*a[s][e]+n*a[s][e+1],h=T*a[s+1][e]+n*a[s+1][e+1],b=T*a[s+2][e]+n*a[s+2][e+1],f=T*a[s+3][e]+n*a[s+3][e+1],d[k]=_*o+3*(S*l*h+w*c*b)+p*f;return d}:function(d,v,r){d||(d=[]);var e=Math.max(0,Math.min(Math.floor(v),M)),s=Math.max(0,Math.min(Math.floor(r),m)),n=Math.max(0,Math.min(1,v-e)),l=Math.max(0,Math.min(1,r-s)),o,h,b,f,k=1-l,a=1-n;for(b=0;b<B.length;b++)f=B[b],o=a*f[s][e]+n*f[s][e+1],h=a*f[s+1][e]+n*f[s+1][e+1],d[b]=k*o+l*h;return d}}},38356:function(X,B,t){var x=t(3400),E=t(86411),i=t(93504),M=t(85720),m=t(22548);X.exports=function(d,v,r,e){function s(o,h){return x.coerce(d,v,M,o,h)}v._clipPathId="clip"+v.uid+"carpet";var n=s("color",m.defaultLine);if(x.coerceFont(s,"font"),s("carpet"),i(d,v,e,s,n),!v.a||!v.b){v.visible=!1;return}v.a.length<3&&(v.aaxis.smoothing=0),v.b.length<3&&(v.baxis.smoothing=0);var l=E(d,v,s);l||(v.visible=!1),v._cheater&&s("cheaterslope")}},95856:function(X,B,t){X.exports={attributes:t(85720),supplyDefaults:t(38356),plot:t(164),calc:t(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(X){X.exports=function(B,t){for(var x=B._fullData.length,E,i=0;i<x;i++){var M=B._fullData[i];if(M.index!==t.index&&M.type==="carpet"&&(E||(E=M),M.carpet===t.carpet))return M}return E}},53416:function(X){X.exports=function(B,t,x){if(B.length===0)return"";var E,i=[],M=x?3:1;for(E=0;E<B.length;E+=M)i.push(B[E]+","+t[E]),x&&E<B.length-M&&(i.push("C"),i.push([B[E+1]+","+t[E+1],B[E+2]+","+t[E+2]+" "].join(" ")));return i.join(x?"":"L")}},87072:function(X,B,t){var x=t(3400).isArrayOrTypedArray;X.exports=function(E,i,M){var m;for(x(E)?E.length>i.length&&(E=E.slice(0,i.length)):E=[],m=0;m<i.length;m++)E[m]=M(i[m]);return E}},15584:function(X){X.exports=function(B,t,x,E,i,M){var m=i[0]*B.dpdx(t),d=i[1]*B.dpdy(x),v=1,r=1;if(M){var e=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=Math.sqrt(M[0]*M[0]+M[1]*M[1]),n=(i[0]*M[0]+i[1]*M[1])/e/s;r=Math.max(0,n)}var l=Math.atan2(d,m)*180/Math.PI;return l<-90?(l+=180,v=-v):l>90&&(l-=180,v=-v),{angle:l,flip:v,p:B.c2p(E,t,x),offsetMultplier:r}}},164:function(X,B,t){var x=t(33428),E=t(43616),i=t(87072),M=t(53416),m=t(15584),d=t(72736),v=t(3400),r=v.strRotate,e=v.strTranslate,s=t(84284);X.exports=function(a,c,p,w){var S=a._context.staticPlot,_=c.xaxis,T=c.yaxis,P=a._fullLayout,u=P._clips;v.makeTraceGroups(w,p,"trace").each(function(g){var L=x.select(this),A=g[0],R=A.trace,O=R.aaxis,N=R.baxis,z=v.ensureSingle(L,"g","minorlayer"),F=v.ensureSingle(L,"g","majorlayer"),I=v.ensureSingle(L,"g","boundarylayer"),j=v.ensureSingle(L,"g","labellayer");L.style("opacity",R.opacity),l(_,T,F,O,"a",O._gridlines,!0),l(_,T,F,N,"b",N._gridlines,!0),l(_,T,z,O,"a",O._minorgridlines,!0),l(_,T,z,N,"b",N._minorgridlines,!0),l(_,T,I,O,"a-boundary",O._boundarylines,S),l(_,T,I,N,"b-boundary",N._boundarylines,S);var V=o(a,_,T,R,A,j,O._labels,"a-label"),W=o(a,_,T,R,A,j,N._labels,"b-label");h(a,j,R,A,_,T,V,W),n(R,A,u,_,T)})};function n(a,c,p,w,S){var _,T,P,u,g=p.select("#"+a._clipPathId);g.size()||(g=p.append("clipPath").classed("carpetclip",!0));var L=v.ensureSingle(g,"path","carpetboundary"),A=c.clipsegments,R=[];for(u=0;u<A.length;u++)_=A[u],T=i([],_.x,w.c2p),P=i([],_.y,S.c2p),R.push(M(T,P,_.bicubic));var O="M"+R.join("L")+"Z";g.attr("id",a._clipPathId),L.attr("d",O)}function l(a,c,p,w,S,_,T){var P="const-"+S+"-lines",u=p.selectAll("."+P).data(_);u.enter().append("path").classed(P,!0).style("vector-effect",T?"none":"non-scaling-stroke"),u.each(function(g){var L=g,A=L.x,R=L.y,O=i([],A,a.c2p),N=i([],R,c.c2p),z="M"+M(O,N,L.smoothing),F=x.select(this);F.attr("d",z).style("stroke-width",L.width).style("stroke",L.color).style("stroke-dasharray",E.dashStyle(L.dash,L.width)).style("fill","none")}),u.exit().remove()}function o(a,c,p,w,S,_,T,P){var u=_.selectAll("text."+P).data(T);u.enter().append("text").classed(P,!0);var g=0,L={};return u.each(function(A,R){var O;if(A.axis.tickangle==="auto")O=m(w,c,p,A.xy,A.dxy);else{var N=(A.axis.tickangle+180)*Math.PI/180;O=m(w,c,p,A.xy,[Math.cos(N),Math.sin(N)])}R||(L={angle:O.angle,flip:O.flip});var z=(A.endAnchor?-1:1)*O.flip,F=x.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(E.font,A.font).text(A.text).call(d.convertToTspans,a),I=E.bBox(this);F.attr("transform",e(O.p[0],O.p[1])+r(O.angle)+e(A.axis.labelpadding*z,I.height*.3)),g=Math.max(g,I.width+A.axis.labelpadding)}),u.exit().remove(),L.maxExtent=g,L}function h(a,c,p,w,S,_,T,P){var u,g,L,A,R=v.aggNums(Math.min,null,p.a),O=v.aggNums(Math.max,null,p.a),N=v.aggNums(Math.min,null,p.b),z=v.aggNums(Math.max,null,p.b);u=.5*(R+O),g=N,L=p.ab2xy(u,g,!0),A=p.dxyda_rough(u,g),T.angle===void 0&&v.extendFlat(T,m(p,S,_,L,p.dxydb_rough(u,g))),k(a,c,p,w,L,A,p.aaxis,S,_,T,"a-title"),u=R,g=.5*(N+z),L=p.ab2xy(u,g,!0),A=p.dxydb_rough(u,g),P.angle===void 0&&v.extendFlat(P,m(p,S,_,L,p.dxyda_rough(u,g))),k(a,c,p,w,L,A,p.baxis,S,_,P,"b-title")}var b=s.LINE_SPACING,f=(1-s.MID_SHIFT)/b+1;function k(a,c,p,w,S,_,T,P,u,g,L){var A=[];T.title.text&&A.push(T.title.text);var R=c.selectAll("text."+L).data(A),O=g.maxExtent;R.enter().append("text").classed(L,!0),R.each(function(){var N=m(p,P,u,S,_);["start","both"].indexOf(T.showticklabels)===-1&&(O=0);var z=T.title.font.size;O+=z+T.title.offset;var F=g.angle+(g.flip<0?180:0),I=(F-N.angle+450)%360,j=I>90&&I<270,V=x.select(this);V.text(T.title.text).call(d.convertToTspans,a),j&&(O=(-d.lineCount(V)+f)*b*z-O),V.attr("transform",e(N.p[0],N.p[1])+r(N.angle)+e(0,O)).attr("text-anchor","middle").call(E.font,T.title.font)}),R.exit().remove()}},81e3:function(X,B,t){var x=t(24588),E=t(14952).findBin,i=t(30180),M=t(29056),m=t(26435),d=t(24464);X.exports=function(v){var r=v._a,e=v._b,s=r.length,n=e.length,l=v.aaxis,o=v.baxis,h=r[0],b=r[s-1],f=e[0],k=e[n-1],a=r[r.length-1]-r[0],c=e[e.length-1]-e[0],p=a*x.RELATIVE_CULL_TOLERANCE,w=c*x.RELATIVE_CULL_TOLERANCE;h-=p,b+=p,f-=w,k+=w,v.isVisible=function(S,_){return S>h&&S<b&&_>f&&_<k},v.isOccluded=function(S,_){return S<h||S>b||_<f||_>k},v.setScale=function(){var S=v._x,_=v._y,T=i(v._xctrl,v._yctrl,S,_,l.smoothing,o.smoothing);v._xctrl=T[0],v._yctrl=T[1],v.evalxy=M([v._xctrl,v._yctrl],s,n,l.smoothing,o.smoothing),v.dxydi=m([v._xctrl,v._yctrl],l.smoothing,o.smoothing),v.dxydj=d([v._xctrl,v._yctrl],l.smoothing,o.smoothing)},v.i2a=function(S){var _=Math.max(0,Math.floor(S[0]),s-2),T=S[0]-_;return(1-T)*r[_]+T*r[_+1]},v.j2b=function(S){var _=Math.max(0,Math.floor(S[1]),s-2),T=S[1]-_;return(1-T)*e[_]+T*e[_+1]},v.ij2ab=function(S){return[v.i2a(S[0]),v.j2b(S[1])]},v.a2i=function(S){var _=Math.max(0,Math.min(E(S,r),s-2)),T=r[_],P=r[_+1];return Math.max(0,Math.min(s-1,_+(S-T)/(P-T)))},v.b2j=function(S){var _=Math.max(0,Math.min(E(S,e),n-2)),T=e[_],P=e[_+1];return Math.max(0,Math.min(n-1,_+(S-T)/(P-T)))},v.ab2ij=function(S){return[v.a2i(S[0]),v.b2j(S[1])]},v.i2c=function(S,_){return v.evalxy([],S,_)},v.ab2xy=function(S,_,T){if(!T&&(S<r[0]||S>r[s-1]|_<e[0]||_>e[n-1]))return[!1,!1];var P=v.a2i(S),u=v.b2j(_),g=v.evalxy([],P,u);if(T){var L=0,A=0,R=[],O,N,z,F;S<r[0]?(O=0,N=0,L=(S-r[0])/(r[1]-r[0])):S>r[s-1]?(O=s-2,N=1,L=(S-r[s-1])/(r[s-1]-r[s-2])):(O=Math.max(0,Math.min(s-2,Math.floor(P))),N=P-O),_<e[0]?(z=0,F=0,A=(_-e[0])/(e[1]-e[0])):_>e[n-1]?(z=n-2,F=1,A=(_-e[n-1])/(e[n-1]-e[n-2])):(z=Math.max(0,Math.min(n-2,Math.floor(u))),F=u-z),L&&(v.dxydi(R,O,z,N,F),g[0]+=R[0]*L,g[1]+=R[1]*L),A&&(v.dxydj(R,O,z,N,F),g[0]+=R[0]*A,g[1]+=R[1]*A)}return g},v.c2p=function(S,_,T){return[_.c2p(S[0]),T.c2p(S[1])]},v.p2x=function(S,_,T){return[_.p2c(S[0]),T.p2c(S[1])]},v.dadi=function(S){var _=Math.max(0,Math.min(r.length-2,S));return r[_+1]-r[_]},v.dbdj=function(S){var _=Math.max(0,Math.min(e.length-2,S));return e[_+1]-e[_]},v.dxyda=function(S,_,T,P){var u=v.dxydi(null,S,_,T,P),g=v.dadi(S,T);return[u[0]/g,u[1]/g]},v.dxydb=function(S,_,T,P){var u=v.dxydj(null,S,_,T,P),g=v.dbdj(_,P);return[u[0]/g,u[1]/g]},v.dxyda_rough=function(S,_,T){var P=a*(T||.1),u=v.ab2xy(S+P,_,!0),g=v.ab2xy(S-P,_,!0);return[(u[0]-g[0])*.5/P,(u[1]-g[1])*.5/P]},v.dxydb_rough=function(S,_,T){var P=c*(T||.1),u=v.ab2xy(S,_+P,!0),g=v.ab2xy(S,_-P,!0);return[(u[0]-g[0])*.5/P,(u[1]-g[1])*.5/P]},v.dpdx=function(S){return S._m},v.dpdy=function(S){return S._m}}},51512:function(X,B,t){var x=t(3400);X.exports=function(E,i,M){var m,d,v,r=[],e=[],s=E[0].length,n=E.length;function l(W,K){var et=0,lt,ot=0;return W>0&&(lt=E[K][W-1])!==void 0&&(ot++,et+=lt),W<s-1&&(lt=E[K][W+1])!==void 0&&(ot++,et+=lt),K>0&&(lt=E[K-1][W])!==void 0&&(ot++,et+=lt),K<n-1&&(lt=E[K+1][W])!==void 0&&(ot++,et+=lt),et/Math.max(1,ot)}var o=0;for(m=0;m<s;m++)for(d=0;d<n;d++)E[d][m]===void 0&&(r.push(m),e.push(d),E[d][m]=l(m,d)),o=Math.max(o,Math.abs(E[d][m]));if(!r.length)return E;var h,b,f,k,a,c,p,w,S,_,T,P=1e-5,u=0,g=100,L=0,A=r.length;do{for(u=0,v=0;v<A;v++){m=r[v],d=e[v];var R=0,O=0,N,z,F,I,j,V;m===0?(j=Math.min(s-1,2),F=i[j],I=i[1],N=E[d][j],z=E[d][1],O+=z+(z-N)*(i[0]-I)/(I-F),R++):m===s-1&&(j=Math.max(0,s-3),F=i[j],I=i[s-2],N=E[d][j],z=E[d][s-2],O+=z+(z-N)*(i[s-1]-I)/(I-F),R++),(m===0||m===s-1)&&d>0&&d<n-1&&(h=M[d+1]-M[d],b=M[d]-M[d-1],O+=(b*E[d+1][m]+h*E[d-1][m])/(b+h),R++),d===0?(V=Math.min(n-1,2),F=M[V],I=M[1],N=E[V][m],z=E[1][m],O+=z+(z-N)*(M[0]-I)/(I-F),R++):d===n-1&&(V=Math.max(0,n-3),F=M[V],I=M[n-2],N=E[V][m],z=E[n-2][m],O+=z+(z-N)*(M[n-1]-I)/(I-F),R++),(d===0||d===n-1)&&m>0&&m<s-1&&(h=i[m+1]-i[m],b=i[m]-i[m-1],O+=(b*E[d][m+1]+h*E[d][m-1])/(b+h),R++),R?O/=R:(f=i[m+1]-i[m],k=i[m]-i[m-1],a=M[d+1]-M[d],c=M[d]-M[d-1],p=f*k*(f+k),w=a*c*(a+c),O=(p*(c*E[d+1][m]+a*E[d-1][m])+w*(k*E[d][m+1]+f*E[d][m-1]))/(w*(k+f)+p*(c+a))),S=O-E[d][m],_=S/o,u+=_*_,T=R?0:.85,E[d][m]+=S*(1+T)}u=Math.sqrt(u)}while(L++<g&&u>P);return x.log("Smoother converged to",u,"after",L,"iterations"),E}},86411:function(X,B,t){var x=t(3400).isArray1D;X.exports=function(E,i,M){var m=M("x"),d=m&&m.length,v=M("y"),r=v&&v.length;if(!d&&!r)return!1;if(i._cheater=!m,(!d||x(m))&&(!r||x(v))){var e=d?m.length:1/0;r&&(e=Math.min(e,v.length)),i.a&&i.a.length&&(e=Math.min(e,i.a.length)),i.b&&i.b.length&&(e=Math.min(e,i.b.length)),i._length=e}else i._length=null;return!0}},83372:function(X,B,t){var x=t(21776).Ks,E=t(6096),i=t(49084),M=t(45464),m=t(22548).defaultLine,d=t(92880).extendFlat,v=E.marker.line;X.exports=d({locations:{valType:"data_array",editType:"calc"},locationmode:E.locationmode,z:{valType:"data_array",editType:"calc"},geojson:d({},E.geojson,{}),featureidkey:E.featureidkey,text:d({},E.text,{}),hovertext:d({},E.hovertext,{}),marker:{line:{color:d({},v.color,{dflt:m}),width:d({},v.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:E.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:d({},M.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:x(),showlegend:d({},M.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(X,B,t){var x=t(38248),E=t(39032).BADNUM,i=t(47128),M=t(20148),m=t(4500);function d(v){return v&&typeof v=="string"}X.exports=function(v,r){var e=r._length,s=new Array(e),n;r.geojson?n=function(f){return d(f)||x(f)}:n=d;for(var l=0;l<e;l++){var o=s[l]={},h=r.locations[l],b=r.z[l];n(h)&&x(b)?(o.loc=h,o.z=b):(o.loc=null,o.z=E),o.index=l}return M(s,r),i(v,r,{vals:r.z,containerStr:"",cLetter:"z"}),m(s,r),s}},30972:function(X,B,t){var x=t(3400),E=t(27260),i=t(83372);X.exports=function(M,m,d,v){function r(b,f){return x.coerce(M,m,i,b,f)}var e=r("locations"),s=r("z");if(!(e&&e.length&&x.isArrayOrTypedArray(s)&&s.length)){m.visible=!1;return}m._length=Math.min(e.length,s.length);var n=r("geojson"),l;(typeof n=="string"&&n!==""||x.isPlainObject(n))&&(l="geojson-id");var o=r("locationmode",l);o==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var h=r("marker.line.width");h&&r("marker.line.color"),r("marker.opacity"),E(M,m,v,r,{prefix:"",cLetter:"z"}),x.coerceSelectionMarkerOpacity(m,r)}},52428:function(X){X.exports=function(B,t,x,E,i){B.location=t.location,B.z=t.z;var M=E[i];return M.fIn&&M.fIn.properties&&(B.properties=M.fIn.properties),B.ct=M.ct,B}},69224:function(X,B,t){var x=t(54460),E=t(83372),i=t(3400).fillText;X.exports=function(m,d,v){var r=m.cd,e=r[0].trace,s=m.subplot,n,l,o,h,b=[d,v],f=[d+360,v];for(l=0;l<r.length;l++)if(n=r[l],h=!1,n._polygons){for(o=0;o<n._polygons.length;o++)n._polygons[o].contains(b)&&(h=!h),n._polygons[o].contains(f)&&(h=!h);if(h)break}if(!(!h||!n))return m.x0=m.x1=m.xa.c2p(n.ct),m.y0=m.y1=m.ya.c2p(n.ct),m.index=n.index,m.location=n.loc,m.z=n.z,m.zLabel=x.tickText(s.mockAxis,s.mockAxis.c2l(n.z),"hover").text,m.hovertemplate=n.hovertemplate,M(m,e,n),[m]};function M(m,d,v){if(!d.hovertemplate){var r=v.hi||d.hoverinfo,e=String(v.loc),s=r==="all"?E.hoverinfo.flags:r.split("+"),n=s.indexOf("name")!==-1,l=s.indexOf("location")!==-1,o=s.indexOf("z")!==-1,h=s.indexOf("text")!==-1,b=!n&&l,f=[];b?m.nameOverride=e:(n&&(m.nameOverride=d.name),l&&f.push(e)),o&&f.push(m.zLabel),h&&i(v,d,f),m.extraText=f.join("<br>")}}},54272:function(X,B,t){X.exports={attributes:t(83372),supplyDefaults:t(30972),colorbar:t(96288),calc:t(7924),calcGeoJSON:t(88364).calcGeoJSON,plot:t(88364).plot,style:t(7947).style,styleOnSelect:t(7947).styleOnSelect,hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),moduleType:"trace",name:"choropleth",basePlotModule:t(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(X,B,t){var x=t(33428),E=t(3400),i=t(27144),M=t(59972).getTopojsonFeatures,m=t(19280).findExtremes,d=t(7947).style;function v(e,s,n){var l=s.layers.backplot.select(".choroplethlayer");E.makeTraceGroups(l,n,"trace choropleth").each(function(o){var h=x.select(this),b=h.selectAll("path.choroplethlocation").data(E.identity);b.enter().append("path").classed("choroplethlocation",!0),b.exit().remove(),d(e,o)})}function r(e,s){for(var n=e[0].trace,l=s[n.geo],o=l._subplot,h=n.locationmode,b=n._length,f=h==="geojson-id"?i.extractTraceFeature(e):M(n,o.topojson),k=[],a=[],c=0;c<b;c++){var p=e[c],w=h==="geojson-id"?p.fOut:i.locationToFeature(h,p.loc,f);if(w){p.geojson=w,p.ct=w.properties.ct,p._polygons=i.feature2polygons(w);var S=i.computeBbox(w);k.push(S[0],S[2]),a.push(S[1],S[3])}else p.geojson=null}if(l.fitbounds==="geojson"&&h==="geojson-id"){var _=i.computeBbox(i.getTraceGeojson(n));k=[_[0],_[2]],a=[_[1],_[3]]}var T={padded:!0};n._extremes.lon=m(l.lonaxis._ax,k,T),n._extremes.lat=m(l.lataxis._ax,a,T)}X.exports={calcGeoJSON:r,plot:v}},17328:function(X){X.exports=function(B,t){var x=B.cd,E=B.xaxis,i=B.yaxis,M=[],m,d,v,r,e;if(t===!1)for(m=0;m<x.length;m++)x[m].selected=0;else for(m=0;m<x.length;m++)d=x[m],v=d.ct,v&&(r=E.c2p(v),e=i.c2p(v),t.contains([r,e],null,m,B)?(M.push({pointNumber:m,lon:v[0],lat:v[1]}),d.selected=1):d.selected=0);return M}},7947:function(X,B,t){var x=t(33428),E=t(76308),i=t(43616),M=t(8932);function m(r,e){e&&d(r,e)}function d(r,e){var s=e[0].trace,n=e[0].node3,l=n.selectAll(".choroplethlocation"),o=s.marker||{},h=o.line||{},b=M.makeColorScaleFuncFromTrace(s);l.each(function(f){x.select(this).attr("fill",b(f.z)).call(E.stroke,f.mlc||h.color).call(i.dashLine,"",f.mlw||h.width||0).style("opacity",o.opacity)}),i.selectedPointStyle(l,s)}function v(r,e){var s=e[0].node3,n=e[0].trace;n.selectedpoints?i.selectedPointStyle(s.selectAll(".choroplethlocation"),n):d(r,e)}X.exports={style:m,styleOnSelect:v}},45608:function(X,B,t){var x=t(83372),E=t(49084),i=t(21776).Ks,M=t(45464),m=t(92880).extendFlat;X.exports=m({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:m({},x.featureidkey,{}),below:{valType:"string",editType:"plot"},text:x.text,hovertext:x.hovertext,marker:{line:{color:m({},x.marker.line.color,{editType:"plot"}),width:m({},x.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:m({},x.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:m({},x.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:m({},x.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:x.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:m({},M.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(X,B,t){var x=t(38248),E=t(3400),i=t(8932),M=t(43616),m=t(44808).makeBlank,d=t(27144);function v(e){var s=e[0].trace,n=s.visible===!0&&s._length!==0,l={layout:{visibility:"none"},paint:{}},o={layout:{visibility:"none"},paint:{}},h=s._opts={fill:l,line:o,geojson:m()};if(!n)return h;var b=d.extractTraceFeature(e);if(!b)return h;var f=i.makeColorScaleFuncFromTrace(s),k=s.marker,a=k.line||{},c;E.isArrayOrTypedArray(k.opacity)&&(c=function(g){var L=g.mo;return x(L)?+E.constrain(L,0,1):0});var p;E.isArrayOrTypedArray(a.color)&&(p=function(g){return g.mlc});var w;E.isArrayOrTypedArray(a.width)&&(w=function(g){return g.mlw});for(var S=0;S<e.length;S++){var _=e[S],T=_.fOut;if(T){var P=T.properties;P.fc=f(_.z),c&&(P.mo=c(_)),p&&(P.mlc=p(_)),w&&(P.mlw=w(_)),_.ct=P.ct,_._polygons=d.feature2polygons(T)}}var u=c?{type:"identity",property:"mo"}:k.opacity;return E.extendFlat(l.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":u}),E.extendFlat(o.paint,{"line-color":p?{type:"identity",property:"mlc"}:a.color,"line-width":w?{type:"identity",property:"mlw"}:a.width,"line-opacity":u}),l.layout.visibility="visible",o.layout.visibility="visible",h.geojson={type:"FeatureCollection",features:b},r(e),h}function r(e){var s=e[0].trace,n=s._opts,l;if(s.selectedpoints){for(var o=M.makeSelectedPointStyleFns(s),h=0;h<e.length;h++){var b=e[h];b.fOut&&(b.fOut.properties.mo2=o.selectedOpacityFn(b))}l={type:"identity",property:"mo2"}}else l=E.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return E.extendFlat(n.fill.paint,{"fill-opacity":l}),E.extendFlat(n.line.paint,{"line-opacity":l}),n}X.exports={convert:v,convertOnSelect:r}},9352:function(X,B,t){var x=t(3400),E=t(27260),i=t(45608);X.exports=function(M,m,d,v){function r(o,h){return x.coerce(M,m,i,o,h)}var e=r("locations"),s=r("z"),n=r("geojson");if(!x.isArrayOrTypedArray(e)||!e.length||!x.isArrayOrTypedArray(s)||!s.length||!(typeof n=="string"&&n!==""||x.isPlainObject(n))){m.visible=!1;return}r("featureidkey"),m._length=Math.min(e.length,s.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var l=r("marker.line.width");l&&r("marker.line.color"),r("marker.opacity"),E(M,m,v,r,{prefix:"",cLetter:"z"}),x.coerceSelectionMarkerOpacity(m,r)}},85404:function(X,B,t){X.exports={attributes:t(45608),supplyDefaults:t(9352),colorbar:t(96288),calc:t(7924),plot:t(61288),hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),styleOnSelect:function(x,E){if(E){var i=E[0].trace;i._glTrace.updateOnSelect(E)}},getBelow:function(x,E){for(var i=E.getMapLayers(),M=i.length-2;M>=0;M--){var m=i[M].id;if(typeof m=="string"&&m.indexOf("water")===0){for(var d=M+1;d<i.length;d++)if(m=i[d].id,typeof m=="string"&&m.indexOf("plotly-")===-1)return m}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:t(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(X,B,t){var x=t(13504).convert,E=t(13504).convertOnSelect,i=t(47552).traceLayerPrefix;function M(d,v){this.type="choroplethmapbox",this.subplot=d,this.uid=v,this.sourceId="source-"+v,this.layerList=[["fill",i+v+"-fill"],["line",i+v+"-line"]],this.below=null}var m=M.prototype;m.update=function(d){this._update(x(d)),d[0].trace._glTrace=this},m.updateOnSelect=function(d){this._update(E(d))},m._update=function(d){var v=this.subplot,r=this.layerList,e=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(d.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(d,e),this.below=e);for(var s=0;s<r.length;s++){var n=r[s],l=n[0],o=n[1],h=d[l];v.setOptions(o,"setLayoutProperty",h.layout),h.layout.visibility==="visible"&&v.setOptions(o,"setPaintProperty",h.paint)}},m._addLayers=function(d,v){for(var r=this.subplot,e=this.layerList,s=this.sourceId,n=0;n<e.length;n++){var l=e[n],o=l[0],h=d[o];r.addLayer({type:o,id:l[1],source:s,layout:h.layout,paint:h.paint},v)}},m._removeLayers=function(){for(var d=this.subplot.map,v=this.layerList,r=v.length-1;r>=0;r--)d.removeLayer(v[r][1])},m.dispose=function(){var d=this.subplot.map;this._removeLayers(),d.removeSource(this.sourceId)},X.exports=function(d,v){var r=v[0].trace,e=new M(d,r.uid),s=e.sourceId,n=x(v),l=e.below=d.belowLookup["trace-"+r.uid];return d.map.addSource(s,{type:"geojson",data:n.geojson}),e._addLayers(n,l),v[0].trace._glTrace=e,e}},86040:function(X,B,t){var x=t(49084),E=t(29736).axisHoverFormat,i=t(21776).Ks,M=t(52948),m=t(45464),d=t(92880).extendFlat,v={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:d({},m.showlegend,{dflt:!1})};d(v,x("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(e){v[e]=M[e]}),v.hoverinfo=d({},m.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),v.transforms=void 0,X.exports=v},83344:function(X,B,t){var x=t(47128);X.exports=function(E,i){for(var M=i.u,m=i.v,d=i.w,v=Math.min(i.x.length,i.y.length,i.z.length,M.length,m.length,d.length),r=-1/0,e=1/0,s=0;s<v;s++){var n=M[s],l=m[s],o=d[s],h=Math.sqrt(n*n+l*l+o*o);r=Math.max(r,h),e=Math.min(e,h)}i._len=v,i._normMax=r,x(E,i,{vals:[e,r],containerStr:"",cLetter:"c"})}},6648:function(X,B,t){var x=t(67792).gl_cone3d,E=t(67792).gl_cone3d.createConeMesh,i=t(3400).simpleMap,M=t(33040).parseColorScale,m=t(8932).extractOpts,d=t(3400).isArrayOrTypedArray,v=t(52094);function r(b,f){this.scene=b,this.uid=f,this.mesh=null,this.data=null}var e=r.prototype;e.handlePick=function(b){if(b.object===this.mesh){var f=b.index=b.data.index,k=this.data.x[f],a=this.data.y[f],c=this.data.z[f],p=this.data.u[f],w=this.data.v[f],S=this.data.w[f];b.traceCoordinate=[k,a,c,p,w,S,Math.sqrt(p*p+w*w+S*S)];var _=this.data.hovertext||this.data.text;return d(_)&&_[f]!==void 0?b.textLabel=_[f]:_&&(b.textLabel=_),!0}};var s={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},l={tip:1,tail:1,cm:.75,center:.5};function o(b,f){var k=b.fullSceneLayout,a=b.dataScale,c={};function p(T,P){var u=k[P],g=a[s[P]];return i(T,function(L){return u.d2l(L)*g})}c.vectors=v(p(f.u,"xaxis"),p(f.v,"yaxis"),p(f.w,"zaxis"),f._len),c.positions=v(p(f.x,"xaxis"),p(f.y,"yaxis"),p(f.z,"zaxis"),f._len);var w=m(f);c.colormap=M(f),c.vertexIntensityBounds=[w.min/f._normMax,w.max/f._normMax],c.coneOffset=n[f.anchor],f.sizemode==="scaled"?c.coneSize=f.sizeref||.5:c.coneSize=f.sizeref&&f._normMax?f.sizeref/f._normMax:.5;var S=x(c),_=f.lightposition;return S.lightPosition=[_.x,_.y,_.z],S.ambient=f.lighting.ambient,S.diffuse=f.lighting.diffuse,S.specular=f.lighting.specular,S.roughness=f.lighting.roughness,S.fresnel=f.lighting.fresnel,S.opacity=f.opacity,f._pad=l[f.anchor]*S.vectorScale*S.coneScale*f._normMax,S}e.update=function(b){this.data=b;var f=o(this.scene,b);this.mesh.update(f)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function h(b,f){var k=b.glplot.gl,a=o(b,f),c=E(k,a),p=new r(b,f.uid);return p.mesh=c,p.data=f,c._trace=p,b.glplot.add(c),p}X.exports=h},86096:function(X,B,t){var x=t(3400),E=t(27260),i=t(86040);X.exports=function(M,m,d,v){function r(b,f){return x.coerce(M,m,i,b,f)}var e=r("u"),s=r("v"),n=r("w"),l=r("x"),o=r("y"),h=r("z");if(!e||!e.length||!s||!s.length||!n||!n.length||!l||!l.length||!o||!o.length||!h||!h.length){m.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),E(M,m,v,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),m._length=null}},26048:function(X,B,t){X.exports={moduleType:"trace",name:"cone",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(86040),supplyDefaults:t(86096),colorbar:{min:"cmin",max:"cmax"},calc:t(83344),plot:t(6648),eventData:function(x,E){return x.norm=E.traceCoordinate[6],x},meta:{}}},67104:function(X,B,t){var x=t(83328),E=t(52904),i=t(29736),M=i.axisHoverFormat,m=i.descriptionOnlyNumbers,d=t(49084),v=t(98192).u,r=t(25376),e=t(92880).extendFlat,s=t(69104),n=s.COMPARISON_OPS2,l=s.INTERVAL_OPS,o=E.line;X.exports=e({z:x.z,x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,text:x.text,hovertext:x.hovertext,transpose:x.transpose,xtype:x.xtype,ytype:x.ytype,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:x.hovertemplate,texttemplate:e({},x.texttemplate,{}),textfont:e({},x.textfont,{}),hoverongaps:x.hoverongaps,connectgaps:e({},x.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:m("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:e({},o.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:v,smoothing:e({},o.smoothing,{}),editType:"plot"}},d("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(X,B,t){var x=t(8932),E=t(19512),i=t(54444),M=t(46960);X.exports=function(m,d){var v=E(m,d),r=v[0].z;i(d,r);var e=d.contours,s=x.extractOpts(d),n;if(e.coloring==="heatmap"&&s.auto&&d.autocontour===!1){var l=e.start,o=M(e),h=e.size||1,b=Math.floor((o-l)/h)+1;isFinite(h)||(h=1,b=1);var f=l-h/2,k=f+b*h;n=[f,k]}else n=r;return x.calc(m,d,{vals:n,cLetter:"z"}),v}},56008:function(X){X.exports=function(B,t){var x=B[0],E=x.z,i;switch(t.type){case"levels":var M=Math.min(E[0][0],E[0][1]);for(i=0;i<B.length;i++){var m=B[i];m.prefixBoundary=!m.edgepaths.length&&(M>m.level||m.starts.length&&M===m.level)}break;case"constraint":if(x.prefixBoundary=!1,x.edgepaths.length)return;var d=x.x.length,v=x.y.length,r=-1/0,e=1/0;for(i=0;i<v;i++)e=Math.min(e,E[i][0]),e=Math.min(e,E[i][d-1]),r=Math.max(r,E[i][0]),r=Math.max(r,E[i][d-1]);for(i=1;i<d-1;i++)e=Math.min(e,E[0][i]),e=Math.min(e,E[v-1][i]),r=Math.max(r,E[0][i]),r=Math.max(r,E[v-1][i]);var s=t.value,n,l;switch(t._operation){case">":s>r&&(x.prefixBoundary=!0);break;case"<":(s<e||x.starts.length&&s===e)&&(x.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]),(l<e||n>r||x.starts.length&&l===e)&&(x.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]),n<e&&l>r&&(x.prefixBoundary=!0);break}break}}},55296:function(X,B,t){var x=t(8932),E=t(41076),i=t(46960);function M(m,d,v){var r=d.contours,e=d.line,s=r.size||1,n=r.coloring,l=E(d,{isColorbar:!0});if(n==="heatmap"){var o=x.extractOpts(d);v._fillgradient=o.reversescale?x.flipScale(o.colorscale):o.colorscale,v._zrange=[o.min,o.max]}else n==="fill"&&(v._fillcolor=l);v._line={color:n==="lines"?l:e.color,width:r.showlines!==!1?e.width:0,dash:e.dash},v._levels={start:r.start,end:i(r),size:s}}X.exports={min:"zmin",max:"zmax",calc:M}},93252:function(X){X.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(X,B,t){var x=t(38248),E=t(17428),i=t(76308),M=i.addOpacity,m=i.opacity,d=t(69104),v=t(3400).isArrayOrTypedArray,r=d.CONSTRAINT_REDUCTION,e=d.COMPARISON_OPS2;X.exports=function(n,l,o,h,b,f){var k=l.contours,a,c,p,w=o("contours.operation");if(k._operation=r[w],s(o,k),w==="="?a=k.showlines=!0:(a=o("contours.showlines"),p=o("fillcolor",M((n.line||{}).color||b,.5))),a){var S=p&&m(p)?M(l.fillcolor,1):b;c=o("line.color",S),o("line.width",2),o("line.dash")}o("line.smoothing"),E(o,h,c,f)};function s(n,l){var o;e.indexOf(l.operation)===-1?(n("contours.value",[0,1]),v(l.value)?l.value.length>2?l.value=l.value.slice(2):l.length===0?l.value=[0,1]:l.length<2?(o=parseFloat(l.value[0]),l.value=[o,o+1]):l.value=[parseFloat(l.value[0]),parseFloat(l.value[1])]:x(l.value)&&(o=parseFloat(l.value),l.value=[o,o+1])):(n("contours.value",0),x(l.value)||(v(l.value)?l.value=parseFloat(l.value[0]):l.value=0))}},3212:function(X,B,t){var x=t(69104),E=t(38248);X.exports={"[]":M("[]"),"][":M("]["),">":m(">"),"<":m("<"),"=":m("=")};function i(d,v){var r=Array.isArray(v),e;function s(n){return E(n)?+n:null}return x.COMPARISON_OPS2.indexOf(d)!==-1?e=s(r?v[0]:v):x.INTERVAL_OPS.indexOf(d)!==-1?e=r?[s(v[0]),s(v[1])]:[s(v),s(v)]:x.SET_OPS.indexOf(d)!==-1&&(e=r?v.map(s):[s(v)]),e}function M(d){return function(v){v=i(d,v);var r=Math.min(v[0],v[1]),e=Math.max(v[0],v[1]);return{start:r,end:e,size:e-r}}}function m(d){return function(v){return v=i(d,v),{start:v,end:1/0,size:1/0}}}},84952:function(X){X.exports=function(B,t,x,E){var i=E("contours.start"),M=E("contours.end"),m=i===!1||M===!1,d=x("contours.size"),v;m?v=t.autocontour=!0:v=x("autocontour",!1),(v||!d)&&x("ncontours")}},82172:function(X,B,t){var x=t(3400);X.exports=function(i,M){var m,d,v,r=function(n){return n.reverse()},e=function(n){return n};switch(M){case"=":case"<":return i;case">":for(i.length!==1&&x.warn("Contour data invalid for the specified inequality operation."),d=i[0],m=0;m<d.edgepaths.length;m++)d.edgepaths[m]=r(d.edgepaths[m]);for(m=0;m<d.paths.length;m++)d.paths[m]=r(d.paths[m]);for(m=0;m<d.starts.length;m++)d.starts[m]=r(d.starts[m]);return i;case"][":var s=r;r=e,e=s;case"[]":for(i.length!==2&&x.warn("Contour data invalid for the specified inequality range operation."),d=E(i[0]),v=E(i[1]),m=0;m<d.edgepaths.length;m++)d.edgepaths[m]=r(d.edgepaths[m]);for(m=0;m<d.paths.length;m++)d.paths[m]=r(d.paths[m]);for(m=0;m<d.starts.length;m++)d.starts[m]=r(d.starts[m]);for(;v.edgepaths.length;)d.edgepaths.push(e(v.edgepaths.shift()));for(;v.paths.length;)d.paths.push(e(v.paths.shift()));for(;v.starts.length;)d.starts.push(e(v.starts.shift()));return[d]}};function E(i){return x.extendFlat({},i,{edgepaths:x.extendDeep([],i.edgepaths),paths:x.extendDeep([],i.paths),starts:x.extendDeep([],i.starts)})}},57004:function(X,B,t){var x=t(3400),E=t(51264),i=t(31147),M=t(95536),m=t(84952),d=t(97680),v=t(39096),r=t(67104);X.exports=function(e,s,n,l){function o(k,a){return x.coerce(e,s,r,k,a)}function h(k){return x.coerce2(e,s,r,k)}var b=E(e,s,o,l);if(!b){s.visible=!1;return}i(e,s,l,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hoverongaps"),o("hovertemplate");var f=o("contours.type")==="constraint";o("connectgaps",x.isArray1D(s.z)),f?M(e,s,o,l,n):(m(e,s,o,h),d(e,s,o,l)),s.contours&&s.contours.coloring==="heatmap"&&v(o,l)}},61512:function(X,B,t){var x=t(3400),E=t(3212),i=t(46960);X.exports=function(M,m,d){for(var v=M.type==="constraint"?E[M._operation](M.value):M,r=v.size,e=[],s=i(v),n=d.trace._carpetTrace,l=n?{xaxis:n.aaxis,yaxis:n.baxis,x:d.a,y:d.b}:{xaxis:m.xaxis,yaxis:m.yaxis,x:d.x,y:d.y},o=v.start;o<s;o+=r)if(e.push(x.extendFlat({level:o,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},l)),e.length>1e3){x.warn("Too many contours, clipping at 1000",M);break}return e}},46960:function(X){X.exports=function(B){return B.end+B.size/1e6}},88748:function(X,B,t){var x=t(3400),E=t(93252);X.exports=function(r,e,s){var n,l,o,h,b;for(e=e||.01,s=s||.01,o=0;o<r.length;o++){for(h=r[o],b=0;b<h.starts.length;b++)l=h.starts[b],m(h,l,"edge",e,s);for(n=0;Object.keys(h.crossings).length&&n<1e4;)n++,l=Object.keys(h.crossings)[0].split(",").map(Number),m(h,l,void 0,e,s);n===1e4&&x.log("Infinite loop in contour?")}};function i(r,e,s,n){return Math.abs(r[0]-e[0])<s&&Math.abs(r[1]-e[1])<n}function M(r,e){var s=r[2]-e[2],n=r[3]-e[3];return Math.sqrt(s*s+n*n)}function m(r,e,s,n,l){var o=e.join(","),h=r.crossings[o],b=d(h,s,e),f=[v(r,e,[-b[0],-b[1]])],k=r.z.length,a=r.z[0].length,c=e.slice(),p=b.slice(),w;for(w=0;w<1e4;w++){if(h>20?(h=E.CHOOSESADDLE[h][(b[0]||b[1])<0?0:1],r.crossings[o]=E.SADDLEREMAINDER[h]):delete r.crossings[o],b=E.NEWDELTA[h],!b){x.log("Found bad marching index:",h,e,r.level);break}f.push(v(r,e,b)),e[0]+=b[0],e[1]+=b[1],o=e.join(","),i(f[f.length-1],f[f.length-2],n,l)&&f.pop();var S=b[0]&&(e[0]<0||e[0]>a-2)||b[1]&&(e[1]<0||e[1]>k-2),_=e[0]===c[0]&&e[1]===c[1]&&b[0]===p[0]&&b[1]===p[1];if(_||s&&S)break;h=r.crossings[o]}w===1e4&&x.log("Infinite loop in contour?");var T=i(f[0],f[f.length-1],n,l),P=0,u=.2*r.smoothing,g=[],L=0,A,R,O,N,z,F,I,j,V,W,K;for(w=1;w<f.length;w++)I=M(f[w],f[w-1]),P+=I,g.push(I);var et=P/g.length*u;function lt(J){return f[J%f.length]}for(w=f.length-2;w>=L;w--)if(A=g[w],A<et){for(O=0,R=w-1;R>=L&&A+g[R]<et;R--)A+=g[R];if(T&&w===f.length-2)for(O=0;O<R&&A+g[O]<et;O++)A+=g[O];z=w-R+O+1,F=Math.floor((w+R+O+2)/2),!T&&w===f.length-2?N=f[f.length-1]:!T&&R===-1?N=f[0]:z%2?N=lt(F):N=[(lt(F)[0]+lt(F+1)[0])/2,(lt(F)[1]+lt(F+1)[1])/2],f.splice(R+1,w-R+1,N),w=R+1,O&&(L=O),T&&(w===f.length-2?f[O]=f[f.length-1]:w===0&&(f[f.length-1]=f[0]))}for(f.splice(0,L),w=0;w<f.length;w++)f[w].length=2;if(!(f.length<2))if(T)f.pop(),r.paths.push(f);else{s||x.log("Unclosed interior contour?",r.level,c.join(","),f.join("L"));var ot=!1;for(j=0;j<r.edgepaths.length;j++)if(W=r.edgepaths[j],!ot&&i(W[0],f[f.length-1],n,l)){f.pop(),ot=!0;var q=!1;for(V=0;V<r.edgepaths.length;V++)if(K=r.edgepaths[V],i(K[K.length-1],f[0],n,l)){q=!0,f.shift(),r.edgepaths.splice(j,1),V===j?r.paths.push(f.concat(K)):(V>j&&V--,r.edgepaths[V]=K.concat(f,W));break}q||(r.edgepaths[j]=f.concat(W))}for(j=0;j<r.edgepaths.length&&!ot;j++)W=r.edgepaths[j],i(W[W.length-1],f[0],n,l)&&(f.shift(),r.edgepaths[j]=W.concat(f),ot=!0);ot||r.edgepaths.push(f)}}function d(r,e,s){var n=0,l=0;return r>20&&e?r===208||r===1114?n=s[0]===0?1:-1:l=s[1]===0?1:-1:E.BOTTOMSTART.indexOf(r)!==-1?l=1:E.LEFTSTART.indexOf(r)!==-1?n=1:E.TOPSTART.indexOf(r)!==-1?l=-1:n=-1,[n,l]}function v(r,e,s){var n=e[0]+Math.max(s[0],0),l=e[1]+Math.max(s[1],0),o=r.z[l][n],h=r.xaxis,b=r.yaxis;if(s[1]){var f=(r.level-o)/(r.z[l][n+1]-o),k=(f!==1?(1-f)*h.c2l(r.x[n]):0)+(f!==0?f*h.c2l(r.x[n+1]):0);return[h.c2p(h.l2c(k),!0),b.c2p(r.y[l],!0),n+f,l]}else{var a=(r.level-o)/(r.z[l+1][n]-o),c=(a!==1?(1-a)*b.c2l(r.y[l]):0)+(a!==0?a*b.c2l(r.y[l+1]):0);return[h.c2p(r.x[n],!0),b.c2p(b.l2c(c),!0),n,l+a]}}},38200:function(X,B,t){var x=t(76308),E=t(55512);X.exports=function(i,M,m,d,v){v||(v={}),v.isContour=!0;var r=E(i,M,m,d,v);return r&&r.forEach(function(e){var s=e.trace;s.contours.type==="constraint"&&(s.fillcolor&&x.opacity(s.fillcolor)?e.color=x.addOpacity(s.fillcolor,1):s.contours.showlines&&x.opacity(s.line.color)&&(e.color=x.addOpacity(s.line.color,1)))}),r}},66240:function(X,B,t){X.exports={attributes:t(67104),supplyDefaults:t(57004),calc:t(20688),plot:t(23676).plot,style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"contour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(X,B,t){var x=t(3400);X.exports=function(E,i,M,m){m||(m={});var d=E("contours.showlabels");if(d){var v=i.font;x.coerceFont(E,"contours.labelfont",{family:v.family,size:v.size,color:M}),E("contours.labelformat")}m.hasHover!==!1&&E("zhoverformat")}},41076:function(X,B,t){var x=t(33428),E=t(8932),i=t(46960);X.exports=function(M){var m=M.contours,d=m.start,v=i(m),r=m.size||1,e=Math.floor((v-d)/r)+1,s=m.coloring==="lines"?0:1,n=E.extractOpts(M);isFinite(r)||(r=1,e=1);var l=n.reversescale?E.flipScale(n.colorscale):n.colorscale,o=l.length,h=new Array(o),b=new Array(o),f,k,a=n.min,c=n.max;if(m.coloring==="heatmap"){for(k=0;k<o;k++)f=l[k],h[k]=f[0]*(c-a)+a,b[k]=f[1];var p=x.extent([a,c,m.start,m.start+r*(e-1)]),w=p[a<c?0:1],S=p[a<c?1:0];w!==a&&(h.splice(0,0,w),b.splice(0,0,b[0])),S!==c&&(h.push(S),b.push(b[b.length-1]))}else{var _=M._input&&typeof M._input.zmin=="number"&&typeof M._input.zmax=="number";for(_&&(d<=a||v>=c)&&(d<=a&&(d=a),v>=c&&(v=c),e=Math.floor((v-d)/r)+1,s=0),k=0;k<o;k++)f=l[k],h[k]=(f[0]*(e+s-1)-s/2)*r+d,b[k]=f[1];(_||M.autocontour)&&(h[0]>a&&(h.unshift(a),b.unshift(b[0])),h[h.length-1]<c&&(h.push(c),b.push(b[b.length-1])))}return E.makeColorScaleFunc({domain:h,range:b},{noNumericCheck:!0})}},72424:function(X,B,t){var x=t(93252);X.exports=function(i){var M=i[0].z,m=M.length,d=M[0].length,v=m===2||d===2,r,e,s,n,l,o,h,b,f;for(e=0;e<m-1;e++)for(n=[],e===0&&(n=n.concat(x.BOTTOMSTART)),e===m-2&&(n=n.concat(x.TOPSTART)),r=0;r<d-1;r++)for(s=n.slice(),r===0&&(s=s.concat(x.LEFTSTART)),r===d-2&&(s=s.concat(x.RIGHTSTART)),l=r+","+e,o=[[M[e][r],M[e][r+1]],[M[e+1][r],M[e+1][r+1]]],f=0;f<i.length;f++)b=i[f],h=E(b.level,o),h&&(b.crossings[l]=h,s.indexOf(h)!==-1&&(b.starts.push([r,e]),v&&s.indexOf(h,s.indexOf(h)+1)!==-1&&b.starts.push([r,e])))};function E(i,M){var m=(M[0][0]>i?0:1)+(M[0][1]>i?0:2)+(M[1][1]>i?0:4)+(M[1][0]>i?0:8);if(m===5||m===10){var d=(M[0][0]+M[0][1]+M[1][0]+M[1][1])/4;return i>d?m===5?713:1114:m===5?104:208}return m===15?0:m}},23676:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(8932),m=t(72736),d=t(54460),v=t(78344),r=t(41420),e=t(72424),s=t(88748),n=t(61512),l=t(82172),o=t(56008),h=t(93252),b=h.LABELOPTIMIZER;B.plot=function(_,T,P,u){var g=T.xaxis,L=T.yaxis;E.makeTraceGroups(u,P,"contour").each(function(A){var R=x.select(this),O=A[0],N=O.trace,z=O.x,F=O.y,I=N.contours,j=n(I,T,O),V=E.ensureSingle(R,"g","heatmapcoloring"),W=[];I.coloring==="heatmap"&&(W=[A]),r(_,T,W,V),e(j),s(j);var K=g.c2p(z[0],!0),et=g.c2p(z[z.length-1],!0),lt=L.c2p(F[0],!0),ot=L.c2p(F[F.length-1],!0),q=[[K,ot],[et,ot],[et,lt],[K,lt]],J=j;I.type==="constraint"&&(J=l(j,I._operation)),f(R,q,I),k(R,J,q,I),c(R,j,_,O,I),w(R,T,_,O,q)})};function f(_,T,P){var u=E.ensureSingle(_,"g","contourbg"),g=u.selectAll("path").data(P.coloring==="fill"?[0]:[]);g.enter().append("path"),g.exit().remove(),g.attr("d","M"+T.join("L")+"Z").style("stroke","none")}function k(_,T,P,u){var g=u.coloring==="fill"||u.type==="constraint"&&u._operation!=="=",L="M"+P.join("L")+"Z";g&&o(T,u);var A=E.ensureSingle(_,"g","contourfill"),R=A.selectAll("path").data(g?T:[]);R.enter().append("path"),R.exit().remove(),R.each(function(O){var N=(O.prefixBoundary?L:"")+a(O,P);N?x.select(this).attr("d",N).style("stroke","none"):x.select(this).remove()})}function a(_,T){var P="",u=0,g=_.edgepaths.map(function(et,lt){return lt}),L=!0,A,R,O,N,z,F;function I(et){return Math.abs(et[1]-T[0][1])<.01}function j(et){return Math.abs(et[1]-T[2][1])<.01}function V(et){return Math.abs(et[0]-T[0][0])<.01}function W(et){return Math.abs(et[0]-T[2][0])<.01}for(;g.length;){for(F=i.smoothopen(_.edgepaths[u],_.smoothing),P+=L?F:F.replace(/^M/,"L"),g.splice(g.indexOf(u),1),A=_.edgepaths[u][_.edgepaths[u].length-1],N=-1,O=0;O<4;O++){if(!A){E.log("Missing end?",u,_);break}for(I(A)&&!W(A)?R=T[1]:V(A)?R=T[0]:j(A)?R=T[3]:W(A)&&(R=T[2]),z=0;z<_.edgepaths.length;z++){var K=_.edgepaths[z][0];Math.abs(A[0]-R[0])<.01?Math.abs(A[0]-K[0])<.01&&(K[1]-A[1])*(R[1]-K[1])>=0&&(R=K,N=z):Math.abs(A[1]-R[1])<.01?Math.abs(A[1]-K[1])<.01&&(K[0]-A[0])*(R[0]-K[0])>=0&&(R=K,N=z):E.log("endpt to newendpt is not vert. or horz.",A,R,K)}if(A=R,N>=0)break;P+="L"+R}if(N===_.edgepaths.length){E.log("unclosed perimeter path");break}u=N,L=g.indexOf(u)===-1,L&&(u=g[0],P+="Z")}for(u=0;u<_.paths.length;u++)P+=i.smoothclosed(_.paths[u],_.smoothing);return P}function c(_,T,P,u,g){var L=P._context.staticPlot,A=E.ensureSingle(_,"g","contourlines"),R=g.showlines!==!1,O=g.showlabels,N=R&&O,z=B.createLines(A,R||O,T,L),F=B.createLineClip(A,N,P,u.trace.uid),I=_.selectAll("g.contourlabels").data(O?[0]:[]);if(I.exit().remove(),I.enter().append("g").classed("contourlabels",!0),O){var j=[],V=[];E.clearLocationCache();var W=B.labelFormatter(P,u),K=i.tester.append("text").attr("data-notex",1).call(i.font,g.labelfont),et=T[0].xaxis,lt=T[0].yaxis,ot=et._length,q=lt._length,J=et.range,it=lt.range,Z=E.aggNums(Math.min,null,u.x),tt=E.aggNums(Math.max,null,u.x),st=E.aggNums(Math.min,null,u.y),Q=E.aggNums(Math.max,null,u.y),G=Math.max(et.c2p(Z,!0),0),ut=Math.min(et.c2p(tt,!0),ot),at=Math.max(lt.c2p(Q,!0),0),dt=Math.min(lt.c2p(st,!0),q),gt={};J[0]<J[1]?(gt.left=G,gt.right=ut):(gt.left=ut,gt.right=G),it[0]<it[1]?(gt.top=at,gt.bottom=dt):(gt.top=dt,gt.bottom=at),gt.middle=(gt.top+gt.bottom)/2,gt.center=(gt.left+gt.right)/2,j.push([[gt.left,gt.top],[gt.right,gt.top],[gt.right,gt.bottom],[gt.left,gt.bottom]]);var wt=Math.sqrt(ot*ot+q*q),kt=h.LABELDISTANCE*wt/Math.max(1,T.length/h.LABELINCREASE);z.each(function(Ot){var bt=B.calcTextOpts(Ot.level,W,K,P);x.select(this).selectAll("path").each(function(){var _t=this,mt=E.getVisibleSegment(_t,gt,bt.height/2);if(mt&&!(mt.len<(bt.width+bt.height)*h.LABELMIN))for(var Pt=Math.min(Math.ceil(mt.len/kt),h.LABELMAX),Rt=0;Rt<Pt;Rt++){var Ht=B.findBestTextLocation(_t,mt,bt,V,gt);if(!Ht)break;B.addLabelData(Ht,bt,V,j)}})}),K.remove(),B.drawLabels(I,V,P,F,N?j:null)}O&&!R&&z.remove()}B.createLines=function(_,T,P,u){var g=P[0].smoothing,L=_.selectAll("g.contourlevel").data(T?P:[]);if(L.exit().remove(),L.enter().append("g").classed("contourlevel",!0),T){var A=L.selectAll("path.openline").data(function(O){return O.pedgepaths||O.edgepaths});A.exit().remove(),A.enter().append("path").classed("openline",!0),A.attr("d",function(O){return i.smoothopen(O,g)}).style("stroke-miterlimit",1).style("vector-effect",u?"none":"non-scaling-stroke");var R=L.selectAll("path.closedline").data(function(O){return O.ppaths||O.paths});R.exit().remove(),R.enter().append("path").classed("closedline",!0),R.attr("d",function(O){return i.smoothclosed(O,g)}).style("stroke-miterlimit",1).style("vector-effect",u?"none":"non-scaling-stroke")}return L},B.createLineClip=function(_,T,P,u){var g=P._fullLayout._clips,L=T?"clipline"+u:null,A=g.selectAll("#"+L).data(T?[0]:[]);return A.exit().remove(),A.enter().append("clipPath").classed("contourlineclip",!0).attr("id",L),i.setClipUrl(_,L,P),A},B.labelFormatter=function(_,T){var P=_._fullLayout,u=T.trace,g=u.contours,L={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(g.labelformat)L.tickformat=g.labelformat,v(L,P);else{var A=M.extractOpts(u);if(A&&A.colorbar&&A.colorbar._axis)L=A.colorbar._axis;else{if(g.type==="constraint"){var R=g.value;E.isArrayOrTypedArray(R)?L.range=[R[0],R[R.length-1]]:L.range=[R,R]}else L.range=[g.start,g.end],L.nticks=(g.end-g.start)/g.size;L.range[0]===L.range[1]&&(L.range[1]+=L.range[0]||1),L.nticks||(L.nticks=1e3),v(L,P),d.prepTicks(L),L._tmin=null,L._tmax=null}}return function(O){return d.tickText(L,O).text}},B.calcTextOpts=function(_,T,P,u){var g=T(_);P.text(g).call(m.convertToTspans,u);var L=P.node(),A=i.bBox(L,!0);return{text:g,width:A.width,height:A.height,fontSize:+L.style["font-size"].replace("px",""),level:_,dy:(A.top+A.bottom)/2}},B.findBestTextLocation=function(_,T,P,u,g){var L=P.width,A,R,O,N,z;T.isClosed?(R=T.len/b.INITIALSEARCHPOINTS,A=T.min+R/2,O=T.max):(R=(T.len-L)/(b.INITIALSEARCHPOINTS+1),A=T.min+R+L/2,O=T.max-(R+L)/2);for(var F=1/0,I=0;I<b.ITERATIONS;I++){for(var j=A;j<O;j+=R){var V=E.getTextLocation(_,T.total,j,L),W=p(V,P,u,g);W<F&&(F=W,z=V,N=j)}if(F>b.MAXCOST*2)break;I&&(R/=2),A=N-R/2,O=A+R*1.5}if(F<=b.MAXCOST)return z};function p(_,T,P,u){var g=T.width/2,L=T.height/2,A=_.x,R=_.y,O=_.theta,N=Math.cos(O)*g,z=Math.sin(O)*g,F=(A>u.center?u.right-A:A-u.left)/(N+Math.abs(Math.sin(O)*L)),I=(R>u.middle?u.bottom-R:R-u.top)/(Math.abs(z)+Math.cos(O)*L);if(F<1||I<1)return 1/0;var j=b.EDGECOST*(1/(F-1)+1/(I-1));j+=b.ANGLECOST*O*O;for(var V=A-N,W=R-z,K=A+N,et=R+z,lt=0;lt<P.length;lt++){var ot=P[lt],q=Math.cos(ot.theta)*ot.width/2,J=Math.sin(ot.theta)*ot.width/2,it=E.segmentDistance(V,W,K,et,ot.x-q,ot.y-J,ot.x+q,ot.y+J)*2/(T.height+ot.height),Z=ot.level===T.level,tt=Z?b.SAMELEVELDISTANCE:1;if(it<=tt)return 1/0;var st=b.NEIGHBORCOST*(Z?b.SAMELEVELFACTOR:1);j+=st/(it-tt)}return j}B.addLabelData=function(_,T,P,u){var g=T.fontSize,L=T.width+g/3,A=Math.max(0,T.height-g/3),R=_.x,O=_.y,N=_.theta,z=Math.sin(N),F=Math.cos(N),I=function(V,W){return[R+V*F-W*z,O+V*z+W*F]},j=[I(-L/2,-A/2),I(-L/2,A/2),I(L/2,A/2),I(L/2,-A/2)];P.push({text:T.text,x:R,y:O,dy:T.dy,theta:N,level:T.level,width:L,height:A}),u.push(j)},B.drawLabels=function(_,T,P,u,g){var L=_.selectAll("text").data(T,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(L.exit().remove(),L.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var z=N.x+Math.sin(N.theta)*N.dy,F=N.y-Math.cos(N.theta)*N.dy;x.select(this).text(N.text).attr({x:z,y:F,transform:"rotate("+180*N.theta/Math.PI+" "+z+" "+F+")"}).call(m.convertToTspans,P)}),g){for(var A="",R=0;R<g.length;R++)A+="M"+g[R].join("L")+"Z";var O=E.ensureSingle(u,"path","");O.attr("d",A)}};function w(_,T,P,u,g){var L=u.trace,A=P._fullLayout._clips,R="clip"+L.uid,O=A.selectAll("#"+R).data(L.connectgaps?[]:[0]);if(O.enter().append("clipPath").classed("contourclip",!0).attr("id",R),O.exit().remove(),L.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:T.xaxis,yaxis:T.yaxis,x:u.x,y:u.y,z:S(u),smoothing:0};e([N]),s([N]),o([N],{type:"levels"});var z=E.ensureSingle(O,"path","");z.attr("d",(N.prefixBoundary?"M"+g.join("L")+"Z":"")+a(N,g))}else R=null;i.setClipUrl(_,R,P)}function S(_){var T=_.trace._emptypoints,P=[],u=_.z.length,g=_.z[0].length,L,A=[],R;for(L=0;L<g;L++)A.push(1);for(L=0;L<u;L++)P.push(A.slice());for(L=0;L<T.length;L++)R=T[L],P[R[0]][R[1]]=0;return _.zmask=P,P}},54444:function(X,B,t){var x=t(54460),E=t(3400);X.exports=function(M,m){var d=M.contours;if(M.autocontour){var v=M.zmin,r=M.zmax;(M.zauto||v===void 0)&&(v=E.aggNums(Math.min,null,m)),(M.zauto||r===void 0)&&(r=E.aggNums(Math.max,null,m));var e=i(v,r,M.ncontours);d.size=e.dtick,d.start=x.tickFirst(e),e.range.reverse(),d.end=x.tickFirst(e),d.start===v&&(d.start+=d.size),d.end===r&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),M._input.contours||(M._input.contours={}),E.extendFlat(M._input.contours,{start:d.start,end:d.end,size:d.size}),M._input.autocontour=!0}else if(d.type!=="constraint"){var s=d.start,n=d.end,l=M._input.contours;if(s>n&&(d.start=l.start=n,n=d.end=l.end=s,s=d.start),!(d.size>0)){var o;s===n?o=1:o=i(s,n,M.ncontours).dtick,l.size=d.size=o}}};function i(M,m,d){var v={type:"linear",range:[M,m]};return x.autoTicks(v,(m-M)/(d||15)),v}},52440:function(X,B,t){var x=t(33428),E=t(43616),i=t(41648),M=t(41076);X.exports=function(m){var d=x.select(m).selectAll("g.contour");d.style("opacity",function(v){return v[0].trace.opacity}),d.each(function(v){var r=x.select(this),e=v[0].trace,s=e.contours,n=e.line,l=s.size||1,o=s.start,h=s.type==="constraint",b=!h&&s.coloring==="lines",f=!h&&s.coloring==="fill",k=b||f?M(e):null;r.selectAll("g.contourlevel").each(function(p){x.select(this).selectAll("path").call(E.lineGroupStyle,n.width,b?k(p.level):n.color,n.dash)});var a=s.labelfont;if(r.selectAll("g.contourlabels text").each(function(p){E.font(x.select(this),{family:a.family,size:a.size,color:a.color||(b?k(p.level):n.color)})}),h)r.selectAll("g.contourfill path").style("fill",e.fillcolor);else if(f){var c;r.selectAll("g.contourfill path").style("fill",function(p){return c===void 0&&(c=p.level),k(p.level+.5*l)}),c===void 0&&(c=o),r.selectAll("g.contourbg path").style("fill",k(c-.5*l))}}),i(m)}},97680:function(X,B,t){var x=t(27260),E=t(17428);X.exports=function(i,M,m,d,v){var r=m("contours.coloring"),e,s="";r==="fill"&&(e=m("contours.showlines")),e!==!1&&(r!=="lines"&&(s=m("line.color","#000")),m("line.width",.5),m("line.dash")),r!=="none"&&(i.showlegend!==!0&&(M.showlegend=!1),M._dfltShowLegend=!1,x(i,M,d,m,{prefix:"",cLetter:"z"})),m("line.smoothing"),E(m,d,s,v)}},37960:function(X,B,t){var x=t(83328),E=t(67104),i=t(49084),M=t(92880).extendFlat,m=E.contours;X.exports=M({carpet:{valType:"string",editType:"calc"},z:x.z,a:x.x,a0:x.x0,da:x.dx,b:x.y,b0:x.y0,db:x.dy,text:x.text,hovertext:x.hovertext,transpose:x.transpose,atype:x.xtype,btype:x.ytype,fillcolor:E.fillcolor,autocontour:E.autocontour,ncontours:E.ncontours,contours:{type:m.type,start:m.start,end:m.end,size:m.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:m.showlines,showlabels:m.showlabels,labelfont:m.labelfont,labelformat:m.labelformat,operation:m.operation,value:m.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:E.line.color,width:E.line.width,dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},30572:function(X,B,t){var x=t(47128),E=t(3400),i=t(2872),M=t(26136),m=t(70448),d=t(11240),v=t(35744),r=t(3252),e=t(50948),s=t(54444);X.exports=function(l,o){var h=o._carpetTrace=e(l,o);if(!(!h||!h.visible||h.visible==="legendonly")){if(!o.a||!o.b){var b=l.data[h.index],f=l.data[o.index];f.a||(f.a=b.a),f.b||(f.b=b.b),r(f,o,o._defaultColor,l._fullLayout)}var k=n(l,o);return s(o,o._z),k}};function n(l,o){var h=o._carpetTrace,b=h.aaxis,f=h.baxis,k,a,c,p,w,S,_;b._minDtick=0,f._minDtick=0,E.isArray1D(o.z)&&i(o,b,f,"a","b",["z"]),k=o._a=o._a||o.a,p=o._b=o._b||o.b,k=k?b.makeCalcdata(o,"_a"):[],p=p?f.makeCalcdata(o,"_b"):[],a=o.a0||0,c=o.da||1,w=o.b0||0,S=o.db||1,_=o._z=M(o._z||o.z,o.transpose),o._emptypoints=d(_),m(_,o._emptypoints);var T=E.maxRowLength(_),P=o.xtype==="scaled"?"":k,u=v(o,P,a,c,T,b),g=o.ytype==="scaled"?"":p,L=v(o,g,w,S,_.length,f),A={a:u,b:L,z:_};return o.contours.type==="levels"&&o.contours.coloring!=="none"&&x(l,o,{vals:_,containerStr:"",cLetter:"z"}),[A]}},3252:function(X,B,t){var x=t(3400),E=t(51264),i=t(37960),M=t(95536),m=t(84952),d=t(97680);X.exports=function(v,r,e,s){function n(b,f){return x.coerce(v,r,i,b,f)}function l(b){return x.coerce2(v,r,i,b)}if(n("carpet"),v.a&&v.b){var o=E(v,r,n,s,"a","b");if(!o){r.visible=!1;return}n("text");var h=n("contours.type")==="constraint";h?M(v,r,n,s,e,{hasHover:!1}):(m(v,r,n,l),d(v,r,n,s,{hasHover:!1}))}else r._defaultColor=e,r._length=null}},40448:function(X,B,t){X.exports={attributes:t(37960),supplyDefaults:t(3252),colorbar:t(55296),calc:t(30572),plot:t(94440),style:t(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(X,B,t){var x=t(33428),E=t(87072),i=t(53416),M=t(43616),m=t(3400),d=t(72424),v=t(88748),r=t(23676),e=t(93252),s=t(82172),n=t(61512),l=t(56008),o=t(50948),h=t(77712);X.exports=function(T,P,u,g){var L=P.xaxis,A=P.yaxis;m.makeTraceGroups(g,u,"contour").each(function(R){var O=x.select(this),N=R[0],z=N.trace,F=z._carpetTrace=o(T,z),I=T.calcdata[F.index][0];if(!F.visible||F.visible==="legendonly")return;var j=N.a,V=N.b,W=z.contours,K=n(W,P,N),et=W.type==="constraint",lt=W._operation,ot=et?lt==="="?"lines":"fill":W.coloring;function q(gt){var wt=F.ab2xy(gt[0],gt[1],!0);return[L.c2p(wt[0]),A.c2p(wt[1])]}var J=[[j[0],V[V.length-1]],[j[j.length-1],V[V.length-1]],[j[j.length-1],V[0]],[j[0],V[0]]];d(K);var it=(j[j.length-1]-j[0])*1e-8,Z=(V[V.length-1]-V[0])*1e-8;v(K,it,Z);var tt=K;W.type==="constraint"&&(tt=s(K,lt)),b(K,q);var st,Q,G,ut,at=[];for(ut=I.clipsegments.length-1;ut>=0;ut--)st=I.clipsegments[ut],Q=E([],st.x,L.c2p),G=E([],st.y,A.c2p),Q.reverse(),G.reverse(),at.push(i(Q,G,st.bicubic));var dt="M"+at.join("L")+"Z";w(O,I.clipsegments,L,A,et,ot),S(z,O,L,A,tt,J,q,F,I,ot,dt),f(O,K,T,N,W,P,F),M.setClipUrl(O,F._clipPathId,T)})};function b(T,P){var u,g,L,A,R,O,N,z,F;for(u=0;u<T.length;u++){for(A=T[u],R=A.pedgepaths=[],O=A.ppaths=[],g=0;g<A.edgepaths.length;g++){for(F=A.edgepaths[g],N=[],L=0;L<F.length;L++)N[L]=P(F[L]);R.push(N)}for(g=0;g<A.paths.length;g++){for(F=A.paths[g],z=[],L=0;L<F.length;L++)z[L]=P(F[L]);O.push(z)}}}function f(T,P,u,g,L,A,R){var O=u._context.staticPlot,N=m.ensureSingle(T,"g","contourlines"),z=L.showlines!==!1,F=L.showlabels,I=z&&F,j=r.createLines(N,z||F,P,O),V=r.createLineClip(N,I,u,g.trace.uid),W=T.selectAll("g.contourlabels").data(F?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),F){var K=A.xaxis,et=A.yaxis,lt=K._length,ot=et._length,q=[[[0,0],[lt,0],[lt,ot],[0,ot]]],J=[];m.clearLocationCache();var it=r.labelFormatter(u,g),Z=M.tester.append("text").attr("data-notex",1).call(M.font,L.labelfont),tt={left:0,right:lt,center:lt/2,top:0,bottom:ot,middle:ot/2},st=Math.sqrt(lt*lt+ot*ot),Q=e.LABELDISTANCE*st/Math.max(1,P.length/e.LABELINCREASE);j.each(function(G){var ut=r.calcTextOpts(G.level,it,Z,u);x.select(this).selectAll("path").each(function(at){var dt=this,gt=m.getVisibleSegment(dt,tt,ut.height/2);if(gt&&(k(dt,at,G,gt,R,ut.height),!(gt.len<(ut.width+ut.height)*e.LABELMIN)))for(var wt=Math.min(Math.ceil(gt.len/Q),e.LABELMAX),kt=0;kt<wt;kt++){var Ot=r.findBestTextLocation(dt,gt,ut,J,tt);if(!Ot)break;r.addLabelData(Ot,ut,J,q)}})}),Z.remove(),r.drawLabels(W,J,u,V,I?q:null)}F&&!z&&j.remove()}function k(T,P,u,g,L,A){for(var R,O=0;O<u.pedgepaths.length;O++)P===u.pedgepaths[O]&&(R=u.edgepaths[O]);if(!R)return;var N=L.a[0],z=L.a[L.a.length-1],F=L.b[0],I=L.b[L.b.length-1];function j(lt,ot){var q=0,J,it=.1;return(Math.abs(lt[0]-N)<it||Math.abs(lt[0]-z)<it)&&(J=c(L.dxydb_rough(lt[0],lt[1],it)),q=Math.max(q,A*p(ot,J)/2)),(Math.abs(lt[1]-F)<it||Math.abs(lt[1]-I)<it)&&(J=c(L.dxyda_rough(lt[0],lt[1],it)),q=Math.max(q,A*p(ot,J)/2)),q}var V=a(T,0,1),W=a(T,g.total,g.total-1),K=j(R[0],V),et=g.total-j(R[R.length-1],W);g.min<K&&(g.min=K),g.max>et&&(g.max=et),g.len=g.max-g.min}function a(T,P,u){var g=T.getPointAtLength(P),L=T.getPointAtLength(u),A=L.x-g.x,R=L.y-g.y,O=Math.sqrt(A*A+R*R);return[A/O,R/O]}function c(T){var P=Math.sqrt(T[0]*T[0]+T[1]*T[1]);return[T[0]/P,T[1]/P]}function p(T,P){var u=Math.abs(T[0]*P[0]+T[1]*P[1]),g=Math.sqrt(1-u*u);return g/u}function w(T,P,u,g,L,A){var R,O,N,z,F=m.ensureSingle(T,"g","contourbg"),I=F.selectAll("path").data(A==="fill"&&!L?[0]:[]);I.enter().append("path"),I.exit().remove();var j=[];for(z=0;z<P.length;z++)R=P[z],O=E([],R.x,u.c2p),N=E([],R.y,g.c2p),j.push(i(O,N,R.bicubic));I.attr("d","M"+j.join("L")+"Z").style("stroke","none")}function S(T,P,u,g,L,A,R,O,N,z,F){var I=z==="fill";I&&l(L,T.contours);var j=m.ensureSingle(P,"g","contourfill"),V=j.selectAll("path").data(I?L:[]);V.enter().append("path"),V.exit().remove(),V.each(function(W){var K=(W.prefixBoundary?F:"")+_(T,W,A,R,O,N,u,g);K?x.select(this).attr("d",K).style("stroke","none"):x.select(this).remove()})}function _(T,P,u,g,L,A,R,O){var N,z="",F=P.edgepaths.map(function(ut,at){return at}),I=!0,j,V,W,K,et,lt,ot=Math.abs(u[0][0]-u[2][0])*1e-4,q=Math.abs(u[0][1]-u[2][1])*1e-4;function J(ut){return Math.abs(ut[1]-u[0][1])<q}function it(ut){return Math.abs(ut[1]-u[2][1])<q}function Z(ut){return Math.abs(ut[0]-u[0][0])<ot}function tt(ut){return Math.abs(ut[0]-u[2][0])<ot}function st(ut,at){var dt,gt,wt,kt,Ot="";for(J(ut)&&!tt(ut)||it(ut)&&!Z(ut)?(kt=L.aaxis,wt=h(L,A,[ut[0],at[0]],.5*(ut[1]+at[1]))):(kt=L.baxis,wt=h(L,A,.5*(ut[0]+at[0]),[ut[1],at[1]])),dt=1;dt<wt.length;dt++)for(Ot+=kt.smoothing?"C":"L",gt=0;gt<wt[dt].length;gt++){var bt=wt[dt][gt];Ot+=[R.c2p(bt[0]),O.c2p(bt[1])]+" "}return Ot}for(N=0,j=null;F.length;){var Q=P.edgepaths[N][0];for(j&&(z+=st(j,Q)),lt=M.smoothopen(P.edgepaths[N].map(g),P.smoothing),z+=I?lt:lt.replace(/^M/,"L"),F.splice(F.indexOf(N),1),j=P.edgepaths[N][P.edgepaths[N].length-1],K=-1,W=0;W<4;W++){if(!j){m.log("Missing end?",N,P);break}for(J(j)&&!tt(j)?V=u[1]:Z(j)?V=u[0]:it(j)?V=u[3]:tt(j)&&(V=u[2]),et=0;et<P.edgepaths.length;et++){var G=P.edgepaths[et][0];Math.abs(j[0]-V[0])<ot?Math.abs(j[0]-G[0])<ot&&(G[1]-j[1])*(V[1]-G[1])>=0&&(V=G,K=et):Math.abs(j[1]-V[1])<q?Math.abs(j[1]-G[1])<q&&(G[0]-j[0])*(V[0]-G[0])>=0&&(V=G,K=et):m.log("endpt to newendpt is not vert. or horz.",j,V,G)}if(K>=0)break;z+=st(j,V),j=V}if(K===P.edgepaths.length){m.log("unclosed perimeter path");break}N=K,I=F.indexOf(N)===-1,I&&(N=F[0],z+=st(j,V)+"Z",j=null)}for(N=0;N<P.paths.length;N++)z+=M.smoothclosed(P.paths[N].map(g),P.smoothing);return z}},33928:function(X,B,t){var x=t(49084),E=t(21776).Ks,i=t(45464),M=t(31512),m=t(92880).extendFlat;X.exports=m({lon:M.lon,lat:M.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:M.text,hovertext:M.hovertext,hoverinfo:m({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:E(),showlegend:m({},i.showlegend,{dflt:!1})},x("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(X,B,t){var x=t(38248),E=t(3400).isArrayOrTypedArray,i=t(39032).BADNUM,M=t(47128),m=t(3400)._;X.exports=function(d,v){for(var r=v._length,e=new Array(r),s=v.z,n=E(s)&&s.length,l=0;l<r;l++){var o=e[l]={},h=v.lon[l],b=v.lat[l];if(o.lonlat=x(h)&&x(b)?[+h,+b]:[i,i],n){var f=s[l];o.z=x(f)?f:i}}return M(d,v,{vals:n?s:[0,1],containerStr:"",cLetter:"z"}),r&&(e[0].t={labels:{lat:m(d,"lat:")+" ",lon:m(d,"lon:")+" "}}),e}},4629:function(X,B,t){var x=t(38248),E=t(3400),i=t(76308),M=t(8932),m=t(39032).BADNUM,d=t(44808).makeBlank;X.exports=function(v){var r=v[0].trace,e=r.visible===!0&&r._length!==0,s={layout:{visibility:"none"},paint:{}},n=r._opts={heatmap:s,geojson:d()};if(!e)return n;var l=[],o,h=r.z,b=r.radius,f=E.isArrayOrTypedArray(h)&&h.length,k=E.isArrayOrTypedArray(b);for(o=0;o<v.length;o++){var a=v[o],c=a.lonlat;if(c[0]!==m){var p={};if(f){var w=a.z;p.z=w!==m?w:0}k&&(p.r=x(b[o])&&b[o]>0?+b[o]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:c},properties:p})}}var S=M.extractOpts(r),_=S.reversescale?M.flipScale(S.colorscale):S.colorscale,T=_[0][1],P=i.opacity(T)<1?T:i.addOpacity(T,0),u=["interpolate",["linear"],["heatmap-density"],0,P];for(o=1;o<_.length;o++)u.push(_[o][0],_[o][1]);var g=["interpolate",["linear"],["get","z"],S.min,0,S.max,1];return E.extendFlat(n.heatmap.paint,{"heatmap-weight":f?g:1/(S.max-S.min),"heatmap-color":u,"heatmap-radius":k?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),n.geojson={type:"FeatureCollection",features:l},n.heatmap.layout.visibility="visible",n}},97664:function(X,B,t){var x=t(3400),E=t(27260),i=t(33928);X.exports=function(M,m,d,v){function r(l,o){return x.coerce(M,m,i,l,o)}var e=r("lon")||[],s=r("lat")||[],n=Math.min(e.length,s.length);if(!n){m.visible=!1;return}m._length=n,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),E(M,m,v,r,{prefix:"",cLetter:"z"})}},96176:function(X){X.exports=function(B,t){return B.lon=t.lon,B.lat=t.lat,B.z=t.z,B}},25336:function(X,B,t){var x=t(54460),E=t(63312).hoverPoints,i=t(63312).getExtraText;X.exports=function(M,m,d){var v=E(M,m,d);if(v){var r=v[0],e=r.cd,s=e[0].trace,n=e[r.index];if(delete r.color,"z"in n){var l=r.subplot.mockAxis;r.z=n.z,r.zLabel=x.tickText(l,l.c2l(n.z),"hover").text}return r.extraText=i(s,n,e[0].t.labels),[r]}}},15088:function(X,B,t){X.exports={attributes:t(33928),supplyDefaults:t(97664),colorbar:t(96288),formatLabels:t(11960),calc:t(90876),plot:t(35256),hoverPoints:t(25336),eventData:t(96176),getBelow:function(x,E){for(var i=E.getMapLayers(),M=0;M<i.length;M++){var m=i[M],d=m.id;if(m.type==="symbol"&&typeof d=="string"&&d.indexOf("plotly-")===-1)return d}},moduleType:"trace",name:"densitymapbox",basePlotModule:t(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(X,B,t){var x=t(4629),E=t(47552).traceLayerPrefix;function i(m,d){this.type="densitymapbox",this.subplot=m,this.uid=d,this.sourceId="source-"+d,this.layerList=[["heatmap",E+d+"-heatmap"]],this.below=null}var M=i.prototype;M.update=function(m){var d=this.subplot,v=this.layerList,r=x(m),e=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(r.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(r,e),this.below=e);for(var s=0;s<v.length;s++){var n=v[s],l=n[0],o=n[1],h=r[l];d.setOptions(o,"setLayoutProperty",h.layout),h.layout.visibility==="visible"&&d.setOptions(o,"setPaintProperty",h.paint)}},M._addLayers=function(m,d){for(var v=this.subplot,r=this.layerList,e=this.sourceId,s=0;s<r.length;s++){var n=r[s],l=n[0],o=m[l];v.addLayer({type:l,id:n[1],source:e,layout:o.layout,paint:o.paint},d)}},M._removeLayers=function(){for(var m=this.subplot.map,d=this.layerList,v=d.length-1;v>=0;v--)m.removeLayer(d[v][1])},M.dispose=function(){var m=this.subplot.map;this._removeLayers(),m.removeSource(this.sourceId)},X.exports=function(m,d){var v=d[0].trace,r=new i(m,v.uid),e=r.sourceId,s=x(d),n=r.below=m.belowLookup["trace-"+v.uid];return m.map.addSource(e,{type:"geojson",data:s.geojson}),r._addLayers(s,n),r}},74248:function(X,B,t){var x=t(3400);X.exports=function(E,i){for(var M=0;M<E.length;M++)E[M].i=M;x.mergeArray(i.text,E,"tx"),x.mergeArray(i.hovertext,E,"htx");var m=i.marker;if(m){x.mergeArray(m.opacity,E,"mo"),x.mergeArray(m.color,E,"mc");var d=m.line;d&&(x.mergeArray(d.color,E,"mlc"),x.mergeArrayCastPositive(d.width,E,"mlw"))}}},20088:function(X,B,t){var x=t(20832),E=t(52904).line,i=t(45464),M=t(29736).axisHoverFormat,m=t(21776).Ks,d=t(21776).Gw,v=t(74732),r=t(92880).extendFlat,e=t(76308);X.exports={x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:x.hovertext,hovertemplate:m({},{keys:v.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:v.eventDataKeys.concat(["label","value"])}),text:x.text,textposition:x.textposition,insidetextanchor:r({},x.insidetextanchor,{dflt:"middle"}),textangle:r({},x.textangle,{dflt:0}),textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:x.outsidetextfont,constraintext:x.constraintext,cliponaxis:x.cliponaxis,orientation:r({},x.orientation,{}),offset:r({},x.offset,{arrayOk:!1}),width:r({},x.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},E.color,{dflt:e.defaultLine}),width:r({},E.width,{dflt:0,editType:"plot"}),dash:E.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup};function s(){var n=r({},x.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(X,B,t){var x=t(54460),E=t(1220),i=t(74248),M=t(4500),m=t(39032).BADNUM;X.exports=function(v,r){var e=x.getFromId(v,r.xaxis||"x"),s=x.getFromId(v,r.yaxis||"y"),n,l,o,h,b,f,k,a;r.orientation==="h"?(n=e.makeCalcdata(r,"x"),o=s.makeCalcdata(r,"y"),h=E(r,s,"y",o),b=!!r.yperiodalignment,f="y"):(n=s.makeCalcdata(r,"y"),o=e.makeCalcdata(r,"x"),h=E(r,e,"x",o),b=!!r.xperiodalignment,f="x"),l=h.vals;var c=Math.min(l.length,n.length),p=new Array(c);for(r._base=[],k=0;k<c;k++){n[k]<0&&(n[k]=m);var w=!1;n[k]!==m&&k+1<c&&n[k+1]!==m&&(w=!0),a=p[k]={p:l[k],s:n[k],cNext:w},r._base[k]=-.5*a.s,b&&(p[k].orig_p=o[k],p[k][f+"End"]=h.ends[k],p[k][f+"Start"]=h.starts[k]),r.ids&&(a.id=String(r.ids[k])),k===0&&(p[0].vTotal=0),p[0].vTotal+=d(a.s),a.begR=d(a.s)/d(p[0].s)}var S;for(k=0;k<c;k++)a=p[k],a.s!==m&&(a.sumR=a.s/p[0].vTotal,a.difR=S!==void 0?a.s/S:1,S=a.s);return i(p,r),M(p,r),p};function d(v){return v===m?0:v}},74732:function(X){X.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(X,B,t){var x=t(96376).setGroupPositions;X.exports=function(E,i){var M=E._fullLayout,m=E._fullData,d=E.calcdata,v=i.xaxis,r=i.yaxis,e=[],s=[],n=[],l,o;for(o=0;o<m.length;o++){var h=m[o],b=h.orientation==="h";h.visible===!0&&h.xaxis===v._id&&h.yaxis===r._id&&h.type==="funnel"&&(l=d[o],b?n.push(l):s.push(l),e.push(l))}var f={mode:M.funnelmode,norm:M.funnelnorm,gap:M.funnelgap,groupgap:M.funnelgroupgap};for(x(E,v,r,s,f),x(E,r,v,n,f),o=0;o<e.length;o++){l=e[o];for(var k=0;k<l.length;k++)k+1<l.length&&(l[k].nextP0=l[k+1].p0,l[k].nextS0=l[k+1].s0,l[k].nextP1=l[k+1].p1,l[k].nextS1=l[k+1].s1)}}},45432:function(X,B,t){var x=t(3400),E=t(20011),i=t(31508).handleText,M=t(43980),m=t(31147),d=t(20088),v=t(76308);function r(n,l,o,h){function b(S,_){return x.coerce(n,l,d,S,_)}var f=M(n,l,h,b);if(!f){l.visible=!1;return}m(n,l,h,b),b("xhoverformat"),b("yhoverformat"),b("orientation",l.y&&!l.x?"v":"h"),b("offset"),b("width");var k=b("text");b("hovertext"),b("hovertemplate");var a=b("textposition");i(n,l,h,b,a,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&!l.texttemplate&&b("textinfo",x.isArrayOrTypedArray(k)?"text+value":"value");var c=b("marker.color",o);b("marker.line.color",v.defaultLine),b("marker.line.width");var p=b("connector.visible");if(p){b("connector.fillcolor",e(c));var w=b("connector.line.width");w&&(b("connector.line.color"),b("connector.line.dash"))}}function e(n){var l=x.isArrayOrTypedArray(n)?"#000":n;return v.addOpacity(l,.5*v.opacity(l))}function s(n,l){var o,h;function b(k){return x.coerce(h._input,h,d,k)}if(l.funnelmode==="group")for(var f=0;f<n.length;f++)h=n[f],o=h._input,E(o,h,l,b)}X.exports={supplyDefaults:r,crossTraceDefaults:s}},34580:function(X){X.exports=function(B,t){return B.x="xVal"in t?t.xVal:t.x,B.y="yVal"in t?t.yVal:t.y,"percentInitial"in t&&(B.percentInitial=t.percentInitial),"percentPrevious"in t&&(B.percentPrevious=t.percentPrevious),"percentTotal"in t&&(B.percentTotal=t.percentTotal),t.xa&&(B.xaxis=t.xa),t.ya&&(B.yaxis=t.ya),B}},31488:function(X,B,t){var x=t(76308).opacity,E=t(63400).hoverOnBars,i=t(3400).formatPercent;X.exports=function(m,d,v,r,e){var s=E(m,d,v,r,e);if(s){var n=s.cd,l=n[0].trace,o=l.orientation==="h",h=s.index,b=n[h],f=o?"x":"y";s[f+"LabelVal"]=b.s,s.percentInitial=b.begR,s.percentInitialLabel=i(b.begR,1),s.percentPrevious=b.difR,s.percentPreviousLabel=i(b.difR,1),s.percentTotal=b.sumR,s.percentTotalLabel=i(b.sumR,1);var k=b.hi||l.hoverinfo,a=[];if(k&&k!=="none"&&k!=="skip"){var c=k==="all",p=k.split("+"),w=function(S){return c||p.indexOf(S)!==-1};w("percent initial")&&a.push(s.percentInitialLabel+" of initial"),w("percent previous")&&a.push(s.percentPreviousLabel+" of previous"),w("percent total")&&a.push(s.percentTotalLabel+" of total")}return s.extraText=a.join("<br>"),s.color=M(l,b),[s]}};function M(m,d){var v=m.marker,r=d.mc||v.color,e=d.mlc||v.line.color,s=d.mlw||v.line.width;if(x(r))return r;if(x(e)&&s)return e}},94704:function(X,B,t){X.exports={attributes:t(20088),layoutAttributes:t(7076),supplyDefaults:t(45432).supplyDefaults,crossTraceDefaults:t(45432).crossTraceDefaults,supplyLayoutDefaults:t(11631),calc:t(23096),crossTraceCalc:t(4804),plot:t(42200),style:t(44544).style,hoverPoints:t(31488),eventData:t(34580),selectPoints:t(45784),moduleType:"trace",name:"funnel",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(X){X.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(X,B,t){var x=t(3400),E=t(7076);X.exports=function(i,M,m){var d=!1;function v(s,n){return x.coerce(i,M,E,s,n)}for(var r=0;r<m.length;r++){var e=m[r];if(e.visible&&e.type==="funnel"){d=!0;break}}d&&(v("funnelmode"),v("funnelgap",.2),v("funnelgroupgap"))}},42200:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(39032).BADNUM,m=t(98184),d=t(82744).clearMinTextSize;X.exports=function(s,n,l,o){var h=s._fullLayout;d("funnel",h),v(s,n,l,o),r(s,n,l,o),m.plot(s,n,l,o,{mode:h.funnelmode,norm:h.funnelmode,gap:h.funnelgap,groupgap:h.funnelgroupgap})};function v(s,n,l,o){var h=n.xaxis,b=n.yaxis;E.makeTraceGroups(o,l,"trace bars").each(function(f){var k=x.select(this),a=f[0].trace,c=E.ensureSingle(k,"g","regions");if(!a.connector||!a.connector.visible){c.remove();return}var p=a.orientation==="h",w=c.selectAll("g.region").data(E.identity);w.enter().append("g").classed("region",!0),w.exit().remove();var S=w.size();w.each(function(_,T){if(!(T!==S-1&&!_.cNext)){var P=e(_,h,b,p),u=P[0],g=P[1],L="";u[0]!==M&&g[0]!==M&&u[1]!==M&&g[1]!==M&&u[2]!==M&&g[2]!==M&&u[3]!==M&&g[3]!==M&&(p?L+="M"+u[0]+","+g[1]+"L"+u[2]+","+g[2]+"H"+u[3]+"L"+u[1]+","+g[1]+"Z":L+="M"+u[1]+","+g[1]+"L"+u[2]+","+g[3]+"V"+g[2]+"L"+u[1]+","+g[0]+"Z"),L===""&&(L="M0,0Z"),E.ensureSingle(x.select(this),"path").attr("d",L).call(i.setClipUrl,n.layerClipId,s)}})})}function r(s,n,l,o){var h=n.xaxis,b=n.yaxis;E.makeTraceGroups(o,l,"trace bars").each(function(f){var k=x.select(this),a=f[0].trace,c=E.ensureSingle(k,"g","lines");if(!a.connector||!a.connector.visible||!a.connector.line.width){c.remove();return}var p=a.orientation==="h",w=c.selectAll("g.line").data(E.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var S=w.size();w.each(function(_,T){if(!(T!==S-1&&!_.cNext)){var P=e(_,h,b,p),u=P[0],g=P[1],L="";u[3]!==void 0&&g[3]!==void 0&&(p?(L+="M"+u[0]+","+g[1]+"L"+u[2]+","+g[2],L+="M"+u[1]+","+g[1]+"L"+u[3]+","+g[2]):(L+="M"+u[1]+","+g[1]+"L"+u[2]+","+g[3],L+="M"+u[1]+","+g[0]+"L"+u[2]+","+g[2])),L===""&&(L="M0,0Z"),E.ensureSingle(x.select(this),"path").attr("d",L).call(i.setClipUrl,n.layerClipId,s)}})})}function e(s,n,l,o){var h=[],b=[],f=o?n:l,k=o?l:n;return h[0]=f.c2p(s.s0,!0),b[0]=k.c2p(s.p0,!0),h[1]=f.c2p(s.s1,!0),b[1]=k.c2p(s.p1,!0),h[2]=f.c2p(s.nextS0,!0),b[2]=k.c2p(s.nextP0,!0),h[3]=f.c2p(s.nextS1,!0),b[3]=k.c2p(s.nextP1,!0),o?[h,b]:[b,h]}},44544:function(X,B,t){var x=t(33428),E=t(43616),i=t(76308),M=t(13448).DESELECTDIM,m=t(60100),d=t(82744).resizeText,v=m.styleTextPoints;function r(e,s,n){var l=n||x.select(e).selectAll("g.funnellayer").selectAll("g.trace");d(e,l,"funnel"),l.style("opacity",function(o){return o[0].trace.opacity}),l.each(function(o){var h=x.select(this),b=o[0].trace;h.selectAll(".point > path").each(function(f){if(!f.isBlank){var k=b.marker;x.select(this).call(i.fill,f.mc||k.color).call(i.stroke,f.mlc||k.line.color).call(E.dashLine,k.line.dash,f.mlw||k.line.width).style("opacity",b.selectedpoints&&!f.selected?M:1)}}),v(h,b,e),h.selectAll(".regions").each(function(){x.select(this).selectAll("path").style("stroke-width",0).call(i.fill,b.connector.fillcolor)}),h.selectAll(".lines").each(function(){var f=b.connector.line;E.lineGroupStyle(x.select(this).selectAll("path"),f.width,f.color,f.dash)})})}X.exports={style:r}},22332:function(X,B,t){var x=t(74996),E=t(45464),i=t(86968).u,M=t(21776).Ks,m=t(21776).Gw,d=t(92880).extendFlat;X.exports={labels:x.labels,label0:x.label0,dlabel:x.dlabel,values:x.values,marker:{colors:x.marker.colors,line:{color:d({},x.marker.line.color,{dflt:null}),width:d({},x.marker.line.width,{dflt:1}),editType:"calc"},pattern:x.marker.pattern,editType:"calc"},text:x.text,hovertext:x.hovertext,scalegroup:d({},x.scalegroup,{}),textinfo:d({},x.textinfo,{flags:["label","text","value","percent"]}),texttemplate:m({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:d({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","text","percent"]}),textposition:d({},x.textposition,{values:["inside","none"],dflt:"inside"}),textfont:x.textfont,insidetextfont:x.insidetextfont,title:{text:x.title.text,font:x.title.font,position:d({},x.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(X,B,t){var x=t(7316);B.name="funnelarea",B.plot=function(E,i,M,m){x.plotBasePlot(B.name,E,i,M,m)},B.clean=function(E,i,M,m){x.cleanBasePlot(B.name,E,i,M,m)}},54e3:function(X,B,t){var x=t(45768);function E(M,m){return x.calc(M,m)}function i(M){x.crossTraceCalc(M,{type:"funnelarea"})}X.exports={calc:E,crossTraceCalc:i}},92688:function(X,B,t){var x=t(3400),E=t(22332),i=t(86968).Q,M=t(31508).handleText,m=t(74174).handleLabelsAndValues,d=t(74174).handleMarkerDefaults;X.exports=function(v,r,e,s){function n(w,S){return x.coerce(v,r,E,w,S)}var l=n("labels"),o=n("values"),h=m(l,o),b=h.len;if(r._hasLabels=h.hasLabels,r._hasValues=h.hasValues,!r._hasLabels&&r._hasValues&&(n("label0"),n("dlabel")),!b){r.visible=!1;return}r._length=b,d(v,r,s,n),n("scalegroup");var f=n("text"),k=n("texttemplate"),a;if(k||(a=n("textinfo",Array.isArray(f)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),k||a&&a!=="none"){var c=n("textposition");M(v,r,s,n,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else a==="none"&&n("textposition","none");i(r,s,n);var p=n("title.text");p&&(n("title.position"),x.coerceFont(n,"title.font",s.font)),n("aspectratio"),n("baseratio")}},62396:function(X,B,t){X.exports={moduleType:"trace",name:"funnelarea",basePlotModule:t(91248),categories:["pie-like","funnelarea","showLegend"],attributes:t(22332),layoutAttributes:t(61280),supplyDefaults:t(92688),supplyLayoutDefaults:t(35384),calc:t(54e3).calc,crossTraceCalc:t(54e3).crossTraceCalc,plot:t(39472),style:t(62096),styleOne:t(10528),meta:{}}},61280:function(X,B,t){var x=t(85204).hiddenlabels;X.exports={hiddenlabels:x,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(X,B,t){var x=t(3400),E=t(61280);X.exports=function(i,M){function m(d,v){return x.coerce(i,M,E,d,v)}m("hiddenlabels"),m("funnelareacolorway",M.colorway),m("extendfunnelareacolors")}},39472:function(X,B,t){var x=t(33428),E=t(43616),i=t(3400),M=i.strScale,m=i.strTranslate,d=t(72736),v=t(98184),r=v.toMoveInsideBar,e=t(82744),s=e.recordMinTextSize,n=e.clearMinTextSize,l=t(69656),o=t(37820),h=o.attachFxHandlers,b=o.determineInsideTextFont,f=o.layoutAreas,k=o.prerenderTitles,a=o.positionTitleOutside,c=o.formatSliceLabel;X.exports=function(_,T){var P=_._context.staticPlot,u=_._fullLayout;n("funnelarea",u),k(T,_),f(T,u._size),i.makeTraceGroups(u._funnelarealayer,T,"trace").each(function(g){var L=x.select(this),A=g[0],R=A.trace;S(g),L.each(function(){var O=x.select(this).selectAll("g.slice").data(g);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(z,F){if(z.hidden){x.select(this).selectAll("path,g").remove();return}z.pointNumber=z.i,z.curveNumber=R.index;var I=A.cx,j=A.cy,V=x.select(this),W=V.selectAll("path.surface").data([z]);W.enter().append("path").classed("surface",!0).style({"pointer-events":P?"none":"all"}),V.call(h,_,g);var K="M"+(I+z.TR[0])+","+(j+z.TR[1])+p(z.TR,z.BR)+p(z.BR,z.BL)+p(z.BL,z.TL)+"Z";W.attr("d",K),c(_,z,A);var et=l.castOption(R.textposition,z.pts),lt=V.selectAll("g.slicetext").data(z.text&&et!=="none"?[0]:[]);lt.enter().append("g").classed("slicetext",!0),lt.exit().remove(),lt.each(function(){var ot=i.ensureSingle(x.select(this),"text","",function(G){G.attr("data-notex",1)}),q=i.ensureUniformFontSize(_,b(R,z,u.font));ot.text(z.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,q).call(d.convertToTspans,_);var J=E.bBox(ot.node()),it,Z,tt,st=Math.min(z.BL[1],z.BR[1])+j,Q=Math.max(z.TL[1],z.TR[1])+j;Z=Math.max(z.TL[0],z.BL[0])+I,tt=Math.min(z.TR[0],z.BR[0])+I,it=r(Z,tt,st,Q,J,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),it.fontSize=q.size,s(R.type,it,u),g[F].transform=it,i.setTransormAndDisplay(ot,it)})});var N=x.select(this).selectAll("g.titletext").data(R.title.text?[0]:[]);N.enter().append("g").classed("titletext",!0),N.exit().remove(),N.each(function(){var z=i.ensureSingle(x.select(this),"text","",function(j){j.attr("data-notex",1)}),F=R.title.text;R._meta&&(F=i.templateString(F,R._meta)),z.text(F).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,R.title.font).call(d.convertToTspans,_);var I=a(A,u._size);z.attr("transform",m(I.x,I.y)+M(Math.min(1,I.scale))+m(I.tx,I.ty))})})})};function p(_,T){var P=T[0]-_[0],u=T[1]-_[1];return"l"+P+","+u}function w(_,T){return[.5*(_[0]+T[0]),.5*(_[1]+T[1])]}function S(_){if(!_.length)return;var T=_[0],P=T.trace,u=P.aspectratio,g=P.baseratio;g>.999&&(g=.999);var L=Math.pow(g,2),A=T.vTotal,R=A*L/(1-L),O=A,N=R/A;function z(){var at=Math.sqrt(N);return{x:at,y:-at}}function F(){var at=z();return[at.x,at.y]}var I,j=[];j.push(F());var V,W;for(V=_.length-1;V>-1;V--)if(W=_[V],!W.hidden){var K=W.v/O;N+=K,j.push(F())}var et=1/0,lt=-1/0;for(V=0;V<j.length;V++)I=j[V],et=Math.min(et,I[1]),lt=Math.max(lt,I[1]);for(V=0;V<j.length;V++)j[V][1]-=(lt+et)/2;var ot=j[j.length-1][0],q=T.r,J=(lt-et)/2,it=q/ot,Z=q/J*u;for(T.r=Z*J,V=0;V<j.length;V++)j[V][0]*=it,j[V][1]*=Z;I=j[0];var tt=[-I[0],I[1]],st=[I[0],I[1]],Q=0;for(V=_.length-1;V>-1;V--)if(W=_[V],!W.hidden){Q+=1;var G=j[Q][0],ut=j[Q][1];W.TL=[-G,ut],W.TR=[G,ut],W.BL=tt,W.BR=st,W.pxmid=w(W.TR,W.BR),tt=W.TL,st=W.TR}}},62096:function(X,B,t){var x=t(33428),E=t(10528),i=t(82744).resizeText;X.exports=function(M){var m=M._fullLayout._funnelarealayer.selectAll(".trace");i(M,m,"funnelarea"),m.each(function(d){var v=d[0],r=v.trace,e=x.select(this);e.style({opacity:r.opacity}),e.selectAll("path.surface").each(function(s){x.select(this).call(E,s,r,M)})})}},83328:function(X,B,t){var x=t(52904),E=t(45464),i=t(25376),M=t(29736).axisHoverFormat,m=t(21776).Ks,d=t(21776).Gw,v=t(49084),r=t(92880).extendFlat;X.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},x.x,{impliedEdits:{xtype:"array"}}),x0:r({},x.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},x.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},x.y,{impliedEdits:{ytype:"array"}}),y0:r({},x.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},x.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},x.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},x.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},x.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},x.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},x.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},x.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:m(),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},E.showlegend,{dflt:!1})},{transforms:void 0},v("",{cLetter:"z",autoColorDflt:!1}))},19512:function(X,B,t){var x=t(24040),E=t(3400),i=t(54460),M=t(1220),m=t(55480),d=t(47128),v=t(2872),r=t(26136),e=t(70448),s=t(11240),n=t(35744),l=t(39032).BADNUM;X.exports=function(b,f){var k=i.getFromId(b,f.xaxis||"x"),a=i.getFromId(b,f.yaxis||"y"),c=x.traceIs(f,"contour"),p=x.traceIs(f,"histogram"),w=x.traceIs(f,"gl2d"),S=c?"best":f.zsmooth,_,T,P,u,g,L,A,R,O,N,z;if(k._minDtick=0,a._minDtick=0,p)z=m(b,f),u=z.orig_x,_=z.x,T=z.x0,P=z.dx,R=z.orig_y,g=z.y,L=z.y0,A=z.dy,O=z.z;else{var F=f.z;E.isArray1D(F)?(v(f,k,a,"x","y",["z"]),_=f._x,g=f._y,F=f._z):(u=f.x?k.makeCalcdata(f,"x"):[],R=f.y?a.makeCalcdata(f,"y"):[],_=M(f,k,"x",u).vals,g=M(f,a,"y",R).vals,f._x=_,f._y=g),T=f.x0,P=f.dx,L=f.y0,A=f.dy,O=r(F,f,k,a)}(k.rangebreaks||a.rangebreaks)&&(O=h(_,g,O),p||(_=o(_),g=o(g),f._x=_,f._y=g)),!p&&(c||f.connectgaps)&&(f._emptypoints=s(O),e(O,f._emptypoints));function I(J){S=f._input.zsmooth=f.zsmooth=!1,E.warn('cannot use zsmooth: "fast": '+J)}function j(J){if(J.length>1){var it=(J[J.length-1]-J[0])/(J.length-1),Z=Math.abs(it/100);for(N=0;N<J.length-1;N++)if(Math.abs(J[N+1]-J[N]-it)>Z)return!1}return!0}f._islinear=!1,k.type==="log"||a.type==="log"?S==="fast"&&I("log axis found"):j(_)?j(g)?f._islinear=!0:S==="fast"&&I("y scale is not linear"):S==="fast"&&I("x scale is not linear");var V=E.maxRowLength(O),W=f.xtype==="scaled"?"":_,K=n(f,W,T,P,V,k),et=f.ytype==="scaled"?"":g,lt=n(f,et,L,A,O.length,a);w||(f._extremes[k._id]=i.findExtremes(k,K),f._extremes[a._id]=i.findExtremes(a,lt));var ot={x:K,y:lt,z:O,text:f._text||f.text,hovertext:f._hovertext||f.hovertext};if(f.xperiodalignment&&u&&(ot.orig_x=u),f.yperiodalignment&&R&&(ot.orig_y=R),W&&W.length===K.length-1&&(ot.xCenter=W),et&&et.length===lt.length-1&&(ot.yCenter=et),p&&(ot.xRanges=z.xRanges,ot.yRanges=z.yRanges,ot.pts=z.pts),c||d(b,f,{vals:O,cLetter:"z"}),c&&f.contours&&f.contours.coloring==="heatmap"){var q={type:f.type==="contour"?"heatmap":"histogram2d",xcalendar:f.xcalendar,ycalendar:f.ycalendar};ot.xfill=n(q,W,T,P,V,k),ot.yfill=n(q,et,L,A,O.length,a)}return[ot]};function o(b){for(var f=[],k=b.length,a=0;a<k;a++){var c=b[a];c!==l&&f.push(c)}return f}function h(b,f,k){for(var a=[],c=-1,p=0;p<k.length;p++)if(f[p]!==l){c++,a[c]=[];for(var w=0;w<k[p].length;w++)b[w]!==l&&a[c].push(k[p][w])}return a}},26136:function(X,B,t){var x=t(38248),E=t(3400),i=t(39032).BADNUM;X.exports=function(M,m,d,v){var r,e,s,n,l,o;function h(p){if(x(p))return+p}if(m&&m.transpose){for(r=0,l=0;l<M.length;l++)r=Math.max(r,M[l].length);if(r===0)return!1;s=function(p){return p.length},n=function(p,w,S){return(p[S]||[])[w]}}else r=M.length,s=function(p,w){return p[w].length},n=function(p,w,S){return(p[w]||[])[S]};var b=function(p,w,S){return w===i||S===i?i:n(p,w,S)};function f(p){if(m&&m.type!=="carpet"&&m.type!=="contourcarpet"&&p&&p.type==="category"&&m["_"+p._id.charAt(0)].length){var w=p._id.charAt(0),S={},_=m["_"+w+"CategoryMap"]||m[w];for(l=0;l<_.length;l++)S[_[l]]=l;return function(T){var P=S[p._categories[T]];return P+1?P:i}}else return E.identity}var k=f(d),a=f(v);v&&v.type==="category"&&(r=v._categories.length);var c=new Array(r);for(l=0;l<r;l++)for(d&&d.type==="category"?e=d._categories.length:e=s(M,l),c[l]=new Array(e),o=0;o<e;o++)c[l][o]=h(b(M,a(l),k(o)));return c}},96288:function(X){X.exports={min:"zmin",max:"zmax"}},2872:function(X,B,t){var x=t(3400),E=t(39032).BADNUM,i=t(1220);X.exports=function(M,m,d,v,r,e){var s=M._length,n=m.makeCalcdata(M,v),l=d.makeCalcdata(M,r);n=i(M,m,v,n).vals,l=i(M,d,r,l).vals;var o=M.text,h=o!==void 0&&x.isArray1D(o),b=M.hovertext,f=b!==void 0&&x.isArray1D(b),k,a,c=x.distinctVals(n),p=c.vals,w=x.distinctVals(l),S=w.vals,_=[],T,P,u=S.length,g=p.length;for(k=0;k<e.length;k++)_[k]=x.init2dArray(u,g);h&&(T=x.init2dArray(u,g)),f&&(P=x.init2dArray(u,g));var L=x.init2dArray(u,g);for(k=0;k<s;k++)if(n[k]!==E&&l[k]!==E){var A=x.findBin(n[k]+c.minDiff/2,p),R=x.findBin(l[k]+w.minDiff/2,S);for(a=0;a<e.length;a++){var O=e[a],N=M[O],z=_[a];z[R][A]=N[k],L[R][A]=k}h&&(T[R][A]=o[k]),f&&(P[R][A]=b[k])}for(M["_"+v]=p,M["_"+r]=S,a=0;a<e.length;a++)M["_"+e[a]]=_[a];h&&(M._text=T),f&&(M._hovertext=P),m&&m.type==="category"&&(M["_"+v+"CategoryMap"]=p.map(function(F){return m._categories[F]})),d&&d.type==="category"&&(M["_"+r+"CategoryMap"]=S.map(function(F){return d._categories[F]})),M._after2before=L}},24480:function(X,B,t){var x=t(3400),E=t(51264),i=t(39096),M=t(31147),m=t(82748),d=t(27260),v=t(83328);X.exports=function(r,e,s,n){function l(h,b){return x.coerce(r,e,v,h,b)}var o=E(r,e,l,n);if(!o){e.visible=!1;return}M(r,e,n,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),i(l,n),m(r,e,l,n),l("hoverongaps"),l("connectgaps",x.isArray1D(e.z)&&e.zsmooth!==!1),d(r,e,n,l,{prefix:"",cLetter:"z"})}},11240:function(X,B,t){var x=t(3400).maxRowLength;X.exports=function(E){var i=[],M={},m=[],d=E[0],v=[],r=[0,0,0],e=x(E),s,n,l,o,h,b,f,k;for(n=0;n<E.length;n++)for(s=v,v=d,d=E[n+1]||[],l=0;l<e;l++)v[l]===void 0&&(b=(v[l-1]!==void 0?1:0)+(v[l+1]!==void 0?1:0)+(s[l]!==void 0?1:0)+(d[l]!==void 0?1:0),b?(n===0&&b++,l===0&&b++,n===E.length-1&&b++,l===v.length-1&&b++,b<4&&(M[[n,l]]=[n,l,b]),i.push([n,l,b])):m.push([n,l]));for(;m.length;){for(f={},k=!1,h=m.length-1;h>=0;h--)o=m[h],n=o[0],l=o[1],b=((M[[n-1,l]]||r)[2]+(M[[n+1,l]]||r)[2]+(M[[n,l-1]]||r)[2]+(M[[n,l+1]]||r)[2])/20,b&&(f[o]=[n,l,b],m.splice(h,1),k=!0);if(!k)throw"findEmpties iterated with no new neighbors";for(o in f)M[o]=f[o],i.push(f[o])}return i.sort(function(a,c){return c[2]-a[2]})}},55512:function(X,B,t){var x=t(93024),E=t(3400),i=E.isArrayOrTypedArray,M=t(54460),m=t(8932).extractOpts;X.exports=function(d,v,r,e,s){s||(s={});var n=s.isContour,l=d.cd[0],o=l.trace,h=d.xa,b=d.ya,f=l.x,k=l.y,a=l.z,c=l.xCenter,p=l.yCenter,w=l.zmask,S=o.zhoverformat,_=f,T=k,P,u,g,L;if(d.index!==!1){try{g=Math.round(d.index[1]),L=Math.round(d.index[0])}catch{E.error("Error hovering on heatmap, pointNumber must be [row,col], found:",d.index);return}if(g<0||g>=a[0].length||L<0||L>a.length)return}else{if(x.inbox(v-f[0],v-f[f.length-1],0)>0||x.inbox(r-k[0],r-k[k.length-1],0)>0)return;if(n){var A;for(_=[2*f[0]-f[1]],A=1;A<f.length;A++)_.push((f[A]+f[A-1])/2);for(_.push([2*f[f.length-1]-f[f.length-2]]),T=[2*k[0]-k[1]],A=1;A<k.length;A++)T.push((k[A]+k[A-1])/2);T.push([2*k[k.length-1]-k[k.length-2]])}g=Math.max(0,Math.min(_.length-2,E.findBin(v,_))),L=Math.max(0,Math.min(T.length-2,E.findBin(r,T)))}var R=h.c2p(f[g]),O=h.c2p(f[g+1]),N=b.c2p(k[L]),z=b.c2p(k[L+1]),F,I;n?(F=l.orig_x||f,I=l.orig_y||k,O=R,P=F[g],z=N,u=I[L]):(F=l.orig_x||c||f,I=l.orig_y||p||k,P=c?F[g]:(F[g]+F[g+1])/2,u=p?I[L]:(I[L]+I[L+1])/2,h&&h.type==="category"&&(P=f[g]),b&&b.type==="category"&&(u=k[L]),o.zsmooth&&(R=O=h.c2p(P),N=z=b.c2p(u)));var j=a[L][g];if(w&&!w[L][g]&&(j=void 0),!(j===void 0&&!o.hoverongaps)){var V;i(l.hovertext)&&i(l.hovertext[L])?V=l.hovertext[L][g]:i(l.text)&&i(l.text[L])&&(V=l.text[L][g]);var W=m(o),K={type:"linear",range:[W.min,W.max],hoverformat:S,_separators:h._separators,_numFormat:h._numFormat},et=M.tickText(K,j,"hover").text;return[E.extendFlat(d,{index:o._after2before?o._after2before[L][g]:[L,g],distance:d.maxHoverDistance,spikeDistance:d.maxSpikeDistance,x0:R,x1:O,y0:N,y1:z,xLabelVal:P,yLabelVal:u,zLabelVal:j,zLabel:et,text:V})]}}},81932:function(X,B,t){X.exports={attributes:t(83328),supplyDefaults:t(24480),calc:t(19512),plot:t(41420),colorbar:t(96288),style:t(41648),hoverPoints:t(55512),moduleType:"trace",name:"heatmap",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(X,B,t){var x=t(3400),E=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function M(d){return .5-.25*Math.min(1,d*.5)}X.exports=function(d,v){var r=1,e;for(m(d,v),e=0;e<v.length&&!(v[e][2]<4);e++);for(v=v.slice(e),e=0;e<100&&r>E;e++)r=m(d,v,M(r));return r>E&&x.log("interp2d didn't converge quickly",r),d};function m(d,v,r){var e=0,s,n,l,o,h,b,f,k,a,c,p,w,S;for(o=0;o<v.length;o++){for(s=v[o],n=s[0],l=s[1],p=d[n][l],c=0,a=0,h=0;h<4;h++)b=i[h],f=d[n+b[0]],f&&(k=f[l+b[1]],k!==void 0&&(c===0?w=S=k:(w=Math.min(w,k),S=Math.max(S,k)),a++,c+=k));if(a===0)throw"iterateInterp2d order is wrong: no defined neighbors";d[n][l]=c/a,p===void 0?a<4&&(e=1):(d[n][l]=(1+r)*d[n][l]-r*p,S>w&&(e=Math.max(e,Math.abs(d[n][l]-p)/(S-w))))}return e}},39096:function(X,B,t){var x=t(3400);X.exports=function(E,i){E("texttemplate");var M=x.extendFlat({},i.font,{color:"auto",size:"auto"});x.coerceFont(E,"textfont",M)}},35744:function(X,B,t){var x=t(24040),E=t(3400).isArrayOrTypedArray;X.exports=function(i,M,m,d,v,r){var e=[],s=x.traceIs(i,"contour"),n=x.traceIs(i,"histogram"),l=x.traceIs(i,"gl2d"),o,h,b,f=E(M)&&M.length>1;if(f&&!n&&r.type!=="category"){var k=M.length;if(k<=v){if(s||l)e=Array.from(M).slice(0,v);else if(v===1)r.type==="log"?e=[.5*M[0],2*M[0]]:e=[M[0]-.5,M[0]+.5];else if(r.type==="log"){for(e=[Math.pow(M[0],1.5)/Math.pow(M[1],.5)],b=1;b<k;b++)e.push(Math.sqrt(M[b-1]*M[b]));e.push(Math.pow(M[k-1],1.5)/Math.pow(M[k-2],.5))}else{for(e=[1.5*M[0]-.5*M[1]],b=1;b<k;b++)e.push((M[b-1]+M[b])*.5);e.push(1.5*M[k-1]-.5*M[k-2])}if(k<v){var a=e[e.length-1],c;if(r.type==="log")for(c=a/e[e.length-2],b=k;b<v;b++)a*=c,e.push(a);else for(c=a-e[e.length-2],b=k;b<v;b++)a+=c,e.push(a)}}else return s?M.slice(0,v):M.slice(0,v+1)}else{var p=i[r._id.charAt(0)+"calendar"];if(n)o=r.r2c(m,0,p);else if(E(M)&&M.length===1)o=M[0];else if(m===void 0)o=0;else{var w=r.type==="log"?r.d2c:r.r2c;o=w(m,0,p)}for(h=d||1,b=s||l?0:-.5;b<v;b++)e.push(o+h*b)}return e}},41420:function(X,B,t){var x=t(33428),E=t(49760),i=t(24040),M=t(43616),m=t(54460),d=t(3400),v=t(72736),r=t(76688),e=t(76308),s=t(8932).extractOpts,n=t(8932).makeColorScaleFuncFromTrace,l=t(9616),o=t(84284),h=o.LINE_SPACING,b=t(9188),f=t(2264).STYLE,k="heatmap-label";function a(_){return _.selectAll("g."+k)}function c(_){a(_).remove()}X.exports=function(_,T,P,u){var g=T.xaxis,L=T.yaxis;d.makeTraceGroups(u,P,"hm").each(function(A){var R=x.select(this),O=A[0],N=O.trace,z=N.xgap||0,F=N.ygap||0,I=O.z,j=O.x,V=O.y,W=O.xCenter,K=O.yCenter,et=i.traceIs(N,"contour"),lt=et?"best":N.zsmooth,ot=I.length,q=d.maxRowLength(I),J=!1,it=!1,Z,tt,st,Q,G,ut,at,dt;for(ut=0;Z===void 0&&ut<j.length-1;)Z=g.c2p(j[ut]),ut++;for(ut=j.length-1;tt===void 0&&ut>0;)tt=g.c2p(j[ut]),ut--;for(tt<Z&&(st=tt,tt=Z,Z=st,J=!0),ut=0;Q===void 0&&ut<V.length-1;)Q=L.c2p(V[ut]),ut++;for(ut=V.length-1;G===void 0&&ut>0;)G=L.c2p(V[ut]),ut--;G<Q&&(st=Q,Q=G,G=st,it=!0),et&&(W=j,K=V,j=O.xfill,V=O.yfill);var gt="default";if(lt?gt=lt==="best"?"smooth":"fast":N._islinear&&z===0&&F===0&&b()&&(gt="fast"),gt!=="fast"){var wt=lt==="best"?0:.5;Z=Math.max(-wt*g._length,Z),tt=Math.min((1+wt)*g._length,tt),Q=Math.max(-wt*L._length,Q),G=Math.min((1+wt)*L._length,G)}var kt=Math.round(tt-Z),Ot=Math.round(G-Q),bt=Z>=g._length||tt<=0||Q>=L._length||G<=0;if(bt){var _t=R.selectAll("image").data([]);_t.exit().remove(),c(R);return}var mt,Pt;gt==="fast"?(mt=q,Pt=ot):(mt=kt,Pt=Ot);var Rt=document.createElement("canvas");Rt.width=mt,Rt.height=Pt;var Ht=Rt.getContext("2d",{willReadFrequently:!0}),Dt=n(N,{noNumericCheck:!0,returnArray:!0}),Xt,se;gt==="fast"?(Xt=J?function(rn){return q-1-rn}:d.identity,se=it?function(rn){return ot-1-rn}:d.identity):(Xt=function(rn){return d.constrain(Math.round(g.c2p(j[rn])-Z),0,kt)},se=function(rn){return d.constrain(Math.round(L.c2p(V[rn])-Q),0,Ot)});var Yt=se(0),ue=[Yt,Yt],ie=J?0:1,fe=it?0:1,ce=0,ye=0,de=0,Te=0,Et,Vt,te,Jt,Ut;function It(rn,gn){if(rn!==void 0){var ln=Dt(rn);return ln[0]=Math.round(ln[0]),ln[1]=Math.round(ln[1]),ln[2]=Math.round(ln[2]),ce+=gn,ye+=ln[0]*gn,de+=ln[1]*gn,Te+=ln[2]*gn,ln}return[0,0,0,0]}function pt(rn,gn,ln,zn){var Rn=rn[ln.bin0];if(Rn===void 0)return It(void 0,1);var ai=rn[ln.bin1],fi=gn[ln.bin0],mi=gn[ln.bin1],li=ai-Rn||0,ri=fi-Rn||0,yr;return ai===void 0?mi===void 0?yr=0:fi===void 0?yr=2*(mi-Rn):yr=(2*mi-fi-Rn)*2/3:mi===void 0?fi===void 0?yr=0:yr=(2*Rn-ai-fi)*2/3:fi===void 0?yr=(2*mi-ai-Rn)*2/3:yr=mi+Rn-ai-fi,It(Rn+ln.frac*li+zn.frac*(ri+ln.frac*yr))}if(gt!=="default"){var xt=0,Ct;try{Ct=new Uint8Array(mt*Pt*4)}catch{Ct=new Array(mt*Pt*4)}if(gt==="smooth"){var At=W||j,Ft=K||V,Wt=new Array(At.length),Qt=new Array(Ft.length),he=new Array(kt),ve=W?w:p,Je=K?w:p,Ue,ke,Le;for(ut=0;ut<At.length;ut++)Wt[ut]=Math.round(g.c2p(At[ut])-Z);for(ut=0;ut<Ft.length;ut++)Qt[ut]=Math.round(L.c2p(Ft[ut])-Q);for(ut=0;ut<kt;ut++)he[ut]=ve(ut,Wt);for(at=0;at<Ot;at++)for(Ue=Je(at,Qt),ke=I[Ue.bin0],Le=I[Ue.bin1],ut=0;ut<kt;ut++,xt+=4)Ut=pt(ke,Le,he[ut],Ue),S(Ct,xt,Ut)}else for(at=0;at<ot;at++)for(Jt=I[at],ue=se(at),ut=0;ut<q;ut++)Ut=It(Jt[ut],1),xt=(ue*q+Xt(ut))*4,S(Ct,xt,Ut);var Ge=Ht.createImageData(mt,Pt);try{Ge.data.set(Ct)}catch{var mr=Ge.data,xe=mr.length;for(at=0;at<xe;at++)mr[at]=Ct[at]}Ht.putImageData(Ge,0,0)}else{var Xe=Math.floor(z/2),Ye=Math.floor(F/2);for(at=0;at<ot;at++)if(Jt=I[at],ue.reverse(),ue[fe]=se(at+1),!(ue[0]===ue[1]||ue[0]===void 0||ue[1]===void 0))for(Vt=Xt(0),Et=[Vt,Vt],ut=0;ut<q;ut++)Et.reverse(),Et[ie]=Xt(ut+1),!(Et[0]===Et[1]||Et[0]===void 0||Et[1]===void 0)&&(te=Jt[ut],Ut=It(te,(Et[1]-Et[0])*(ue[1]-ue[0])),Ht.fillStyle="rgba("+Ut.join(",")+")",Ht.fillRect(Et[0]+Xe,ue[0]+Ye,Et[1]-Et[0]-z,ue[1]-ue[0]-F))}ye=Math.round(ye/ce),de=Math.round(de/ce),Te=Math.round(Te/ce);var _r=E("rgb("+ye+","+de+","+Te+")");_._hmpixcount=(_._hmpixcount||0)+ce,_._hmlumcount=(_._hmlumcount||0)+ce*_r.getLuminance();var rr=R.selectAll("image").data(A);rr.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),rr.attr({height:Ot,width:kt,x:Z,y:Q,"xlink:href":Rt.toDataURL("image/png")}),gt==="fast"&&!lt&&rr.attr("style",f),c(R);var re=N.texttemplate;if(re){var le=s(N),me={type:"linear",range:[le.min,le.max],_separators:g._separators,_numFormat:g._numFormat},Ee=N.type==="histogram2dcontour",ze=N.type==="contour",Oe=ze?1:0,Fe=ze?ot-1:ot,Re=ze?1:0,Ke=ze?q-1:q,or=[];for(ut=Oe;ut<Fe;ut++){var pr;if(ze)pr=O.y[ut];else if(Ee){if(ut===0||ut===ot-1)continue;pr=O.y[ut]}else if(O.yCenter)pr=O.yCenter[ut];else{if(ut+1===ot&&O.y[ut+1]===void 0)continue;pr=(O.y[ut]+O.y[ut+1])/2}var hr=Math.round(L.c2p(pr));if(!(0>hr||hr>L._length))for(at=Re;at<Ke;at++){var jt;if(ze)jt=O.x[at];else if(Ee){if(at===0||at===q-1)continue;jt=O.x[at]}else if(O.xCenter)jt=O.xCenter[at];else{if(at+1===q&&O.x[at+1]===void 0)continue;jt=(O.x[at]+O.x[at+1])/2}var Gt=Math.round(g.c2p(jt));if(!(0>Gt||Gt>g._length)){var Ce=r({x:jt,y:pr},N,_._fullLayout);Ce.x=jt,Ce.y=pr;var Ie=O.z[ut][at];Ie===void 0?(Ce.z="",Ce.zLabel=""):(Ce.z=Ie,Ce.zLabel=m.tickText(me,Ie,"hover").text);var We=O.text&&O.text[ut]&&O.text[ut][at];(We===void 0||We===!1)&&(We=""),Ce.text=We;var $e=d.texttemplateString(re,Ce,_._fullLayout._d3locale,Ce,N._meta||{});if($e){var ir=$e.split("<br>"),er=ir.length,De=0;for(dt=0;dt<er;dt++)De=Math.max(De,ir[dt].length);or.push({l:er,c:De,t:$e,x:Gt,y:hr,z:Ie})}}}}var lr=N.textfont,vr=lr.family,dr=lr.size,fr=_._fullLayout.font.size;if(!dr||dr==="auto"){var zr=1/0,Or=1/0,Ir=0,sn=0;for(dt=0;dt<or.length;dt++){var nn=or[dt];if(Ir=Math.max(Ir,nn.l),sn=Math.max(sn,nn.c),dt<or.length-1){var kn=or[dt+1],Mn=Math.abs(kn.x-nn.x),kr=Math.abs(kn.y-nn.y);Mn&&(zr=Math.min(zr,Mn)),kr&&(Or=Math.min(Or,kr))}}!isFinite(zr)||!isFinite(Or)?dr=fr:(zr-=z,Or-=F,zr/=sn,Or/=Ir,zr/=h/2,Or/=h,dr=Math.min(Math.floor(zr),Math.floor(Or),fr))}if(dr<=0||!isFinite(dr))return;var Er=function(rn){return rn.x},Vr=function(rn){return rn.y-dr*(rn.l*h/2-1)},qr=a(R).data(or);qr.enter().append("g").classed(k,1).append("text").attr("text-anchor","middle").each(function(rn){var gn=x.select(this),ln=lr.color;(!ln||ln==="auto")&&(ln=e.contrast(rn.z===void 0?_._fullLayout.plot_bgcolor:"rgba("+Dt(rn.z).join()+")")),gn.attr("data-notex",1).call(v.positionText,Er(rn),Vr(rn)).call(M.font,vr,dr,ln).text(rn.t).call(v.convertToTspans,_)})}})};function p(_,T){var P=T.length-2,u=d.constrain(d.findBin(_,T),0,P),g=T[u],L=T[u+1],A=d.constrain(u+(_-g)/(L-g)-.5,0,P),R=Math.round(A),O=Math.abs(A-R);return!A||A===P||!O?{bin0:R,bin1:R,frac:0}:{bin0:R,frac:O,bin1:Math.round(R+O/(A-R))}}function w(_,T){var P=T.length-1,u=d.constrain(d.findBin(_,T),0,P),g=T[u],L=T[u+1],A=(_-g)/(L-g)||0;return A<=0?{bin0:u,bin1:u,frac:0}:A<.5?{bin0:u,bin1:u+1,frac:A}:{bin0:u+1,bin1:u,frac:1-A}}function S(_,T,P){_[T]=P[0],_[T+1]=P[1],_[T+2]=P[2],_[T+3]=Math.round(P[3]*255)}},41648:function(X,B,t){var x=t(33428);X.exports=function(E){x.select(E).selectAll(".hm image").style("opacity",function(i){return i.trace.opacity})}},82748:function(X){X.exports=function(B,t,x){var E=x("zsmooth");E===!1&&(x("xgap"),x("ygap")),x("zhoverformat")}},51264:function(X,B,t){var x=t(38248),E=t(3400),i=t(24040);X.exports=function(d,v,r,e,s,n){var l=r("z");s=s||"x",n=n||"y";var o,h;if(l===void 0||!l.length)return 0;if(E.isArray1D(l)){o=r(s),h=r(n);var b=E.minRowLength(o),f=E.minRowLength(h);if(b===0||f===0)return 0;v._length=Math.min(b,f,l.length)}else{if(o=M(s,r),h=M(n,r),!m(l))return 0;r("transpose"),v._length=null}if(d.type==="heatmapgl")return!0;var k=i.getComponentMethod("calendars","handleTraceDefaults");return k(d,v,[s,n],e),!0};function M(d,v){var r=v(d),e=r?v(d+"type","array"):"scaled";return e==="scaled"&&(v(d+"0"),v("d"+d)),r}function m(d){for(var v=!0,r=!1,e=!1,s,n=0;n<d.length;n++){if(s=d[n],!E.isArrayOrTypedArray(s)){v=!1;break}s.length>0&&(r=!0);for(var l=0;l<s.length;l++)if(x(s[l])){e=!0;break}}return v&&r&&e}},74512:function(X,B,t){for(var x=t(83328),E=t(49084),i=t(92880).extendFlat,M=t(67824).overrideAll,m=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],d={},v=0;v<m.length;v++){var r=m[v];d[r]=x[r]}d.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(d,E("",{cLetter:"z",autoColorDflt:!1})),X.exports=M(d,"calc","nested")},84656:function(X,B,t){var x=t(67792).gl_heatmap2d,E=t(54460),i=t(43080);function M(r,e){this.scene=r,this.uid=e,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=x(r.glplot,this.options),this.heatmap._trace=this}var m=M.prototype;m.handlePick=function(r){var e=this.options,s=e.shape,n=r.pointId,l=n%s[0],o=Math.floor(n/s[0]),h=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[e.x[l],e.y[o],e.z[h]],textLabel:this.textLabels[n],name:this.name,pointIndex:[o,l],hoverinfo:this.hoverinfo}},m.update=function(r,e){var s=e[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=s.z;this.options.z=[].concat.apply([],n);var l=n[0].length,o=n.length;this.options.shape=[l,o],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=r.zsmooth;var h=d(r);this.options.colorLevels=h.colorLevels,this.options.colorValues=h.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var b=this.scene.xaxis,f=this.scene.yaxis,k,a;r.zsmooth===!1&&(k={ppad:s.x[1]-s.x[0]},a={ppad:s.y[1]-s.y[0]}),r._extremes[b._id]=E.findExtremes(b,s.x,k),r._extremes[f._id]=E.findExtremes(f,s.y,a)},m.dispose=function(){this.heatmap.dispose()};function d(r){for(var e=r.colorscale,s=r.zmin,n=r.zmax,l=e.length,o=new Array(l),h=new Array(4*l),b=0;b<l;b++){var f=e[b],k=i(f[1]);o[b]=s+f[0]*(n-s);for(var a=0;a<4;a++)h[4*b+a]=k[a]}return{colorLevels:o,colorValues:h}}function v(r,e,s){var n=new M(r,e.uid);return n.update(e,s),n}X.exports=v},86464:function(X,B,t){var x=t(3400),E=t(51264),i=t(27260),M=t(74512);X.exports=function(m,d,v,r){function e(n,l){return x.coerce(m,d,M,n,l)}var s=E(m,d,e,r);if(!s){d.visible=!1;return}e("text"),e("zsmooth"),i(m,d,r,e,{prefix:"",cLetter:"z"})}},45536:function(X,B,t){X.exports={attributes:t(74512),supplyDefaults:t(86464),colorbar:t(96288),calc:t(19512),plot:t(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:t(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(X,B,t){var x=t(20832),E=t(29736).axisHoverFormat,i=t(21776).Ks,M=t(21776).Gw,m=t(25376),d=t(11120),v=t(73316),r=t(92880).extendFlat;X.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:E("x"),yhoverformat:E("y"),text:r({},x.text,{}),hovertext:r({},x.hovertext,{}),orientation:x.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:d("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:d("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:v.eventDataKeys}),texttemplate:M({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},x.textposition,{arrayOk:!1}),textfont:m({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:m({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:m({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:x.insidetextanchor,textangle:x.textangle,cliponaxis:x.cliponaxis,constraintext:x.constraintext,marker:x.marker,offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,selected:x.selected,unselected:x.unselected,_deprecated:{bardir:x._deprecated.bardir}}},2e3:function(X){X.exports=function(B,t){for(var x=B.length,E=0,i=0;i<x;i++)t[i]?(B[i]/=t[i],E+=B[i]):B[i]=null;return E}},11120:function(X){X.exports=function(B,t){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(X,B,t){var x=t(38248);X.exports={count:function(E,i,M){return M[E]++,1},sum:function(E,i,M,m){var d=m[i];return x(d)?(d=Number(d),M[E]+=d,d):0},avg:function(E,i,M,m,d){var v=m[i];return x(v)&&(v=Number(v),M[E]+=v,d[E]++),0},min:function(E,i,M,m){var d=m[i];if(x(d))if(d=Number(d),x(M[E])){if(M[E]>d){var v=d-M[E];return M[E]=d,v}}else return M[E]=d,d;return 0},max:function(E,i,M,m){var d=m[i];if(x(d))if(d=Number(d),x(M[E])){if(M[E]<d){var v=d-M[E];return M[E]=d,v}}else return M[E]=d,d;return 0}}},67712:function(X,B,t){var x=t(39032),E=x.ONEAVGYEAR,i=x.ONEAVGMONTH,M=x.ONEDAY,m=x.ONEHOUR,d=x.ONEMIN,v=x.ONESEC,r=t(54460).tickIncrement;X.exports=function(o,h,b,f,k){var a=-1.1*h,c=-.1*h,p=o-c,w=b[0],S=b[1],_=Math.min(e(w+c,w+p,f,k),e(S+c,S+p,f,k)),T=Math.min(e(w+a,w+c,f,k),e(S+a,S+c,f,k)),P,u;if(_>T&&T<Math.abs(S-w)/4e3?(P=_,u=!1):(P=Math.min(_,T),u=!0),f.type==="date"&&P>M){var g=P===E?1:6,L=P===E?"M12":"M1";return function(A,R){var O=f.c2d(A,E,k),N=O.indexOf("-",g);N>0&&(O=O.substr(0,N));var z=f.d2c(O,0,k);if(z<A){var F=r(z,L,!1,k);(z+F)/2<A+o&&(z=F)}return R&&u?r(z,L,!0,k):z}}return function(A,R){var O=P*Math.round(A/P);return O+P/10<A&&O+P*.9<A+o&&(O+=P),R&&u&&(O-=P),O}};function e(o,h,b,f){if(o*h<=0)return 1/0;for(var k=Math.abs(h-o),a=b.type==="date",c=s(k,a),p=0;p<10;p++){var w=s(c*80,a);if(c===w)break;if(n(w,o,h,a,b,f))c=w;else break}return c}function s(o,h){return h&&o>v?o>M?o>E*1.1?E:o>i*1.1?i:M:o>m?m:o>d?d:v:Math.pow(10,Math.floor(Math.log(o)/Math.LN10))}function n(o,h,b,f,k,a){if(f&&o>M){var c=l(h,k,a),p=l(b,k,a),w=o===E?0:1;return c[w]!==p[w]}return Math.floor(b/o)-Math.floor(h/o)>.1}function l(o,h,b){var f=h.c2d(o,E,b).split("-");return f[0]===""&&(f.unshift(),f[0]="-"+f[0]),f}},35852:function(X,B,t){var x=t(38248),E=t(3400),i=t(24040),M=t(54460),m=t(84664),d=t(16964),v=t(10648),r=t(2e3),e=t(67712);function s(b,f){var k=[],a=[],c=f.orientation==="h",p=M.getFromId(b,c?f.yaxis:f.xaxis),w=c?"y":"x",S={x:"y",y:"x"}[w],_=f[w+"calendar"],T=f.cumulative,P,u=n(b,f,p,w),g=u[0],L=u[1],A=typeof g.size=="string",R=[],O=A?R:g,N=[],z=[],F=[],I=0,j=f.histnorm,V=f.histfunc,W=j.indexOf("density")!==-1,K,et,lt;T.enabled&&W&&(j=j.replace(/ ?density$/,""),W=!1);var ot=V==="max"||V==="min",q=ot?null:0,J=d.count,it=v[j],Z=!1,tt=function(Ht){return p.r2c(Ht,0,_)},st;for(E.isArrayOrTypedArray(f[S])&&V!=="count"&&(st=f[S],Z=V==="avg",J=d[V]),P=tt(g.start),et=tt(g.end)+(P-M.tickIncrement(P,g.size,!1,_))/1e6;P<et&&k.length<1e6&&(K=M.tickIncrement(P,g.size,!1,_),k.push((P+K)/2),a.push(q),F.push([]),R.push(P),W&&N.push(1/(K-P)),Z&&z.push(0),!(K<=P));)P=K;R.push(P),!A&&p.type==="date"&&(O={start:tt(O.start),end:tt(O.end),size:O.size}),b._fullLayout._roundFnOpts||(b._fullLayout._roundFnOpts={});var Q=f["_"+w+"bingroup"],G={leftGap:1/0,rightGap:1/0};Q&&(b._fullLayout._roundFnOpts[Q]||(b._fullLayout._roundFnOpts[Q]=G),G=b._fullLayout._roundFnOpts[Q]);var ut=a.length,at=!0,dt=G.leftGap,gt=G.rightGap,wt={};for(P=0;P<L.length;P++){var kt=L[P];lt=E.findBin(kt,O),lt>=0&&lt<ut&&(I+=J(lt,P,a,st,z),at&&F[lt].length&&kt!==L[F[lt][0]]&&(at=!1),F[lt].push(P),wt[P]=lt,dt=Math.min(dt,kt-R[lt]),gt=Math.min(gt,R[lt+1]-kt))}G.leftGap=dt,G.rightGap=gt;var Ot;at||(Ot=function(Ht,Dt){return function(){var Xt=b._fullLayout._roundFnOpts[Q];return e(Xt.leftGap,Xt.rightGap,R,p,_)(Ht,Dt)}}),Z&&(I=r(a,z)),it&&it(a,I,N),T.enabled&&h(a,T.direction,T.currentbin);var bt=Math.min(k.length,a.length),_t=[],mt=0,Pt=bt-1;for(P=0;P<bt;P++)if(a[P]){mt=P;break}for(P=bt-1;P>=mt;P--)if(a[P]){Pt=P;break}for(P=mt;P<=Pt;P++)if(x(k[P])&&x(a[P])){var Rt={p:k[P],s:a[P],b:0};T.enabled||(Rt.pts=F[P],at?Rt.ph0=Rt.ph1=F[P].length?L[F[P][0]]:k[P]:(f._computePh=!0,Rt.ph0=Ot(R[P]),Rt.ph1=Ot(R[P+1],!0))),_t.push(Rt)}return _t.length===1&&(_t[0].width1=M.tickIncrement(_t[0].p,g.size,!1,_)-_t[0].p),m(_t,f),E.isArrayOrTypedArray(f.selectedpoints)&&E.tagSelected(_t,f,wt),_t}function n(b,f,k,a,c){var p=a+"bins",w=b._fullLayout,S=f["_"+a+"bingroup"],_=w._histogramBinOpts[S],T=w.barmode==="overlay",P,u,g,L,A,R,O,N=function(kt){return k.r2c(kt,0,L)},z=function(kt){return k.c2r(kt,0,L)},F=k.type==="date"?function(kt){return kt||kt===0?E.cleanDate(kt,null,L):null}:function(kt){return x(kt)?Number(kt):null};function I(kt,Ot,bt){Ot[kt+"Found"]?(Ot[kt]=F(Ot[kt]),Ot[kt]===null&&(Ot[kt]=bt[kt])):(R[kt]=Ot[kt]=bt[kt],E.nestedProperty(u[0],p+"."+kt).set(bt[kt]))}if(f["_"+a+"autoBinFinished"])delete f["_"+a+"autoBinFinished"];else{u=_.traces;var j=[],V=!0,W=!1,K=!1;for(P=0;P<u.length;P++)if(g=u[P],g.visible){var et=_.dirs[P];A=g["_"+et+"pos0"]=k.makeCalcdata(g,et),j=E.concat(j,A),delete g["_"+a+"autoBinFinished"],f.visible===!0&&(V?V=!1:(delete g._autoBin,g["_"+a+"autoBinFinished"]=1),i.traceIs(g,"2dMap")&&(W=!0),g.type==="histogram2dcontour"&&(K=!0))}L=u[0][a+"calendar"];var lt=M.autoBin(j,k,_.nbins,W,L,_.sizeFound&&_.size),ot=u[0]._autoBin={};if(R=ot[_.dirs[0]]={},K&&(_.size||(lt.start=z(M.tickIncrement(N(lt.start),lt.size,!0,L))),_.end===void 0&&(lt.end=z(M.tickIncrement(N(lt.end),lt.size,!1,L)))),T&&!i.traceIs(f,"2dMap")&&lt._dataSpan===0&&k.type!=="category"&&k.type!=="multicategory"&&f.bingroup===""&&typeof f.xbins>"u"){if(c)return[lt,A,!0];lt=l(b,f,k,a,p)}O=g.cumulative||{},O.enabled&&O.currentbin!=="include"&&(O.direction==="decreasing"?lt.start=z(M.tickIncrement(N(lt.start),lt.size,!0,L)):lt.end=z(M.tickIncrement(N(lt.end),lt.size,!1,L))),_.size=lt.size,_.sizeFound||(R.size=lt.size,E.nestedProperty(u[0],p+".size").set(lt.size)),I("start",_,lt),I("end",_,lt)}A=f["_"+a+"pos0"],delete f["_"+a+"pos0"];var q=f._input[p]||{},J=E.extendFlat({},_),it=_.start,Z=k.r2l(q.start),tt=Z!==void 0;if((_.startFound||tt)&&Z!==k.r2l(it)){var st=tt?Z:E.aggNums(Math.min,null,A),Q={type:k.type==="category"||k.type==="multicategory"?"linear":k.type,r2l:k.r2l,dtick:_.size,tick0:it,calendar:L,range:[st,M.tickIncrement(st,_.size,!1,L)].map(k.l2r)},G=M.tickFirst(Q);G>k.r2l(st)&&(G=M.tickIncrement(G,_.size,!0,L)),J.start=k.l2r(G),tt||E.nestedProperty(f,p+".start").set(J.start)}var ut=_.end,at=k.r2l(q.end),dt=at!==void 0;if((_.endFound||dt)&&at!==k.r2l(ut)){var gt=dt?at:E.aggNums(Math.max,null,A);J.end=k.l2r(gt),dt||E.nestedProperty(f,p+".start").set(J.end)}var wt="autobin"+a;return f._input[wt]===!1&&(f._input[p]=E.extendFlat({},f[p]||{}),delete f._input[wt],delete f[wt]),[J,A]}function l(b,f,k,a,c){var p=b._fullLayout,w=o(b,f),S=!1,_=1/0,T=[f],P,u,g;for(P=0;P<w.length;P++)if(u=w[P],u===f)S=!0;else if(!S)g=p._histogramBinOpts[u["_"+a+"bingroup"]],_=Math.min(_,g.size||u[c].size);else{var L=n(b,u,k,a,!0),A=L[0],R=L[2];u["_"+a+"autoBinFinished"]=1,u["_"+a+"pos0"]=L[1],R?T.push(u):_=Math.min(_,A.size)}var O=new Array(T.length);for(P=0;P<T.length;P++)for(var N=T[P]["_"+a+"pos0"],z=0;z<N.length;z++)if(N[z]!==void 0){O[P]=N[z];break}for(isFinite(_)||(_=E.distinctVals(O).minDiff),P=0;P<T.length;P++){u=T[P];var F=u[a+"calendar"],I={start:k.c2r(O[P]-_/2,0,F),end:k.c2r(O[P]+_/2,0,F),size:_};u._input[c]=u[c]=I,g=p._histogramBinOpts[u["_"+a+"bingroup"]],g&&E.extendFlat(g,I)}return f[c]}function o(b,f){for(var k=f.xaxis,a=f.yaxis,c=f.orientation,p=[],w=b._fullData,S=0;S<w.length;S++){var _=w[S];_.type==="histogram"&&_.visible===!0&&_.orientation===c&&_.xaxis===k&&_.yaxis===a&&p.push(_)}return p}function h(b,f,k){var a,c,p;function w(_){p=b[_],b[_]/=2}function S(_){c=b[_],b[_]=p+c/2,p+=c}if(k==="half")if(f==="increasing")for(w(0),a=1;a<b.length;a++)S(a);else for(w(b.length-1),a=b.length-2;a>=0;a--)S(a);else if(f==="increasing"){for(a=1;a<b.length;a++)b[a]+=b[a-1];k==="exclude"&&(b.unshift(0),b.pop())}else{for(a=b.length-2;a>=0;a--)b[a]+=b[a+1];k==="exclude"&&(b.push(0),b.shift())}}X.exports={calc:s,calcAllAutoBins:n}},73316:function(X){X.exports={eventDataKeys:["binNumber"]}},80536:function(X,B,t){var x=t(3400),E=t(79811),i=t(24040).traceIs,M=t(20011),m=t(31508).validateCornerradius,d=x.nestedProperty,v=t(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],e=["x","y"];X.exports=function(s,n){var l=n._histogramBinOpts={},o=[],h={},b=[],f,k,a,c,p,w,S;function _(et,lt){return x.coerce(f._input,f,f._module.attributes,et,lt)}function T(et){return et.orientation==="v"?"x":"y"}function P(et,lt){var ot=E.getFromTrace({_fullLayout:n},et,lt);return ot.type}function u(et,lt,ot){var q=et.uid+"__"+ot;lt||(lt=q);var J=P(et,ot),it=et[ot+"calendar"]||"",Z=l[lt],tt=!0;Z&&(J===Z.axType&&it===Z.calendar?(tt=!1,Z.traces.push(et),Z.dirs.push(ot)):(lt=q,J!==Z.axType&&x.warn(["Attempted to group the bins of trace",et.index,"set on a","type:"+J,"axis","with bins on","type:"+Z.axType,"axis."].join(" ")),it!==Z.calendar&&x.warn(["Attempted to group the bins of trace",et.index,"set with a",it,"calendar","with bins",Z.calendar?"on a "+Z.calendar+" calendar":"w/o a set calendar"].join(" ")))),tt&&(l[lt]={traces:[et],dirs:[ot],axType:J,calendar:et[ot+"calendar"]||""}),et["_"+ot+"bingroup"]=lt}for(p=0;p<s.length;p++)if(f=s[p],i(f,"histogram")){if(o.push(f),delete f._xautoBinFinished,delete f._yautoBinFinished,f.type==="histogram"){var g=_("marker.cornerradius",n.barcornerradius);f.marker&&(f.marker.cornerradius=m(g))}i(f,"2dMap")||M(f._input,f,n,_)}var L=n._alignmentOpts||{};for(p=0;p<o.length;p++){if(f=o[p],a="",!i(f,"2dMap")){if(c=T(f),n.barmode==="group"&&f.alignmentgroup){var A=f[c+"axis"],R=v(n,A)+f.orientation;(L[R]||{})[f.alignmentgroup]&&(a=R)}!a&&n.barmode!=="overlay"&&(a=v(n,f.xaxis)+v(n,f.yaxis)+T(f))}a?(h[a]||(h[a]=[]),h[a].push(f)):b.push(f)}for(a in h){if(k=h[a],k.length===1){b.push(k[0]);continue}var O=!1;for(k.length&&(f=k[0],O=_("bingroup")),a=O||a,p=0;p<k.length;p++){f=k[p];var N=f._input.bingroup;N&&N!==a&&x.warn(["Trace",f.index,"must match","within bingroup",a+".","Ignoring its bingroup:",N,"setting."].join(" ")),f.bingroup=a,u(f,a,T(f))}}for(p=0;p<b.length;p++){f=b[p];var z=_("bingroup");if(i(f,"2dMap"))for(S=0;S<2;S++){c=e[S];var F=_(c+"bingroup",z?z+"__"+c:null);u(f,F,c)}else u(f,z,T(f))}for(a in l){var I=l[a];for(k=I.traces,w=0;w<r.length;w++){var j=r[w],V=j.name,W,K;if(!(V==="nbins"&&I.sizeFound)){for(p=0;p<k.length;p++){if(f=k[p],c=I.dirs[p],W=j.aStr[c],d(f._input,W).get()!==void 0){I[V]=_(W),I[V+"Found"]=!0;break}K=(f._autoBin||{})[c]||{},K[V]&&d(f,W).set(K[V])}if(V==="start"||V==="end")for(;p<k.length;p++)f=k[p],f["_"+c+"bingroup"]&&(K=(f._autoBin||{})[c]||{},_(W,K[V]));V==="nbins"&&!I.sizeFound&&!I.nbinsFound&&(f=k[0],I[V]=_(W))}}}}},6616:function(X,B,t){var x=t(24040),E=t(3400),i=t(76308),M=t(31508).handleText,m=t(55592),d=t(40196);X.exports=function(v,r,e,s){function n(T,P){return E.coerce(v,r,d,T,P)}var l=n("x"),o=n("y"),h=n("cumulative.enabled");h&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var b=n("textposition");M(v,r,s,n,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var f=n("orientation",o&&!l?"h":"v"),k=f==="v"?"x":"y",a=f==="v"?"y":"x",c=l&&o?Math.min(E.minRowLength(l)&&E.minRowLength(o)):E.minRowLength(r[k]||[]);if(!c){r.visible=!1;return}r._length=c;var p=x.getComponentMethod("calendars","handleTraceDefaults");p(v,r,["x","y"],s);var w=r[a];w&&n("histfunc"),n("histnorm"),n("autobin"+k),m(v,r,n,e,s),E.coerceSelectionMarkerOpacity(r,n);var S=(r.marker.line||{}).color,_=x.getComponentMethod("errorbars","supplyDefaults");_(v,r,S||i.defaultLine,{axis:"y"}),_(v,r,S||i.defaultLine,{axis:"x",inherit:"y"})}},84980:function(X){X.exports=function(B,t,x,E,i){if(B.x="xVal"in t?t.xVal:t.x,B.y="yVal"in t?t.yVal:t.y,"zLabelVal"in t&&(B.z=t.zLabelVal),t.xa&&(B.xaxis=t.xa),t.ya&&(B.yaxis=t.ya),!(x.cumulative||{}).enabled){var M=Array.isArray(i)?E[0].pts[i[0]][i[1]]:E[i].pts;B.pointNumbers=M,B.binNumber=B.pointNumber,delete B.pointNumber,delete B.pointIndex;var m;if(x._indexToPoints){m=[];for(var d=0;d<M.length;d++)m=m.concat(x._indexToPoints[M[d]])}else m=M;B.pointIndices=m}return B}},43339:function(X,B,t){var x=t(63400).hoverPoints,E=t(54460).hoverLabelText;X.exports=function(i,M,m,d,v){var r=x(i,M,m,d,v);if(r){i=r[0];var e=i.cd[i.index],s=i.cd[0].trace;if(!s.cumulative.enabled){var n=s.orientation==="h"?"y":"x";i[n+"Label"]=E(i[n+"a"],[e.ph0,e.ph1],s[n+"hoverformat"])}return r}}},42600:function(X,B,t){X.exports={attributes:t(40196),layoutAttributes:t(39324),supplyDefaults:t(6616),crossTraceDefaults:t(80536),supplyLayoutDefaults:t(37156),calc:t(35852).calc,crossTraceCalc:t(96376).crossTraceCalc,plot:t(98184).plot,layerName:"barlayer",style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,colorbar:t(5528),hoverPoints:t(43339),selectPoints:t(45784),eventData:t(84980),moduleType:"trace",name:"histogram",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(X){X.exports={percent:function(B,t){for(var x=B.length,E=100/t,i=0;i<x;i++)B[i]*=E},probability:function(B,t){for(var x=B.length,E=0;E<x;E++)B[E]/=t},density:function(B,t,x,E){var i=B.length;E=E||1;for(var M=0;M<i;M++)B[M]*=x[M]*E},"probability density":function(B,t,x,E){var i=B.length;E&&(t/=E);for(var M=0;M<i;M++)B[M]*=x[M]/t}}},37008:function(X,B,t){var x=t(40196),E=t(11120),i=t(83328),M=t(45464),m=t(29736).axisHoverFormat,d=t(21776).Ks,v=t(21776).Gw,r=t(49084),e=t(92880).extendFlat;X.exports=e({x:x.x,y:x.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:x.histnorm,histfunc:x.histfunc,nbinsx:x.nbinsx,xbins:E("x"),nbinsy:x.nbinsy,ybins:E("y"),autobinx:x.autobinx,autobiny:x.autobiny,bingroup:e({},x.bingroup,{}),xbingroup:e({},x.bingroup,{}),ybingroup:e({},x.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:m("x"),yhoverformat:m("y"),zhoverformat:m("z",1),hovertemplate:d({},{keys:"z"}),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:e({},M.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(X,B,t){var x=t(3400),E=t(54460),i=t(16964),M=t(10648),m=t(2e3),d=t(67712),v=t(35852).calcAllAutoBins;X.exports=function(n,l){var o=E.getFromId(n,l.xaxis),h=E.getFromId(n,l.yaxis),b=l.xcalendar,f=l.ycalendar,k=function(Jt){return o.r2c(Jt,0,b)},a=function(Jt){return h.r2c(Jt,0,f)},c=function(Jt){return o.c2r(Jt,0,b)},p=function(Jt){return h.c2r(Jt,0,f)},w,S,_,T,P=v(n,l,o,"x"),u=P[0],g=P[1],L=v(n,l,h,"y"),A=L[0],R=L[1],O=l._length;g.length>O&&g.splice(O,g.length-O),R.length>O&&R.splice(O,R.length-O);var N=[],z=[],F=[],I=typeof u.size=="string",j=typeof A.size=="string",V=[],W=[],K=I?V:u,et=j?W:A,lt=0,ot=[],q=[],J=l.histnorm,it=l.histfunc,Z=J.indexOf("density")!==-1,tt=it==="max"||it==="min",st=tt?null:0,Q=i.count,G=M[J],ut=!1,at=[],dt=[],gt="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";gt&&it!=="count"&&(ut=it==="avg",Q=i[it]);var wt=u.size,kt=k(u.start),Ot=k(u.end)+(kt-E.tickIncrement(kt,wt,!1,b))/1e6;for(w=kt;w<Ot;w=E.tickIncrement(w,wt,!1,b))z.push(st),V.push(w),ut&&F.push(0);V.push(w);var bt=z.length,_t=(w-kt)/bt,mt=c(kt+_t/2),Pt=A.size,Rt=a(A.start),Ht=a(A.end)+(Rt-E.tickIncrement(Rt,Pt,!1,f))/1e6;for(w=Rt;w<Ht;w=E.tickIncrement(w,Pt,!1,f)){N.push(z.slice()),W.push(w);var Dt=new Array(bt);for(S=0;S<bt;S++)Dt[S]=[];q.push(Dt),ut&&ot.push(F.slice())}W.push(w);var Xt=N.length,se=(w-Rt)/Xt,Yt=p(Rt+se/2);Z&&(at=r(z.length,K,_t,I),dt=r(N.length,et,se,j)),!I&&o.type==="date"&&(K=e(k,K)),!j&&h.type==="date"&&(et=e(a,et));var ue=!0,ie=!0,fe=new Array(bt),ce=new Array(Xt),ye=1/0,de=1/0,Te=1/0,Et=1/0;for(w=0;w<O;w++){var Vt=g[w],te=R[w];_=x.findBin(Vt,K),T=x.findBin(te,et),_>=0&&_<bt&&T>=0&&T<Xt&&(lt+=Q(_,w,N[T],gt,ot[T]),q[T][_].push(w),ue&&(fe[_]===void 0?fe[_]=Vt:fe[_]!==Vt&&(ue=!1)),ie&&(ce[T]===void 0?ce[T]=te:ce[T]!==te&&(ie=!1)),ye=Math.min(ye,Vt-V[_]),de=Math.min(de,V[_+1]-Vt),Te=Math.min(Te,te-W[T]),Et=Math.min(Et,W[T+1]-te))}if(ut)for(T=0;T<Xt;T++)lt+=m(N[T],ot[T]);if(G)for(T=0;T<Xt;T++)G(N[T],lt,at,dt[T]);return{x:g,xRanges:s(V,ue&&fe,ye,de,o,b),x0:mt,dx:_t,y:R,yRanges:s(W,ie&&ce,Te,Et,h,f),y0:Yt,dy:se,z:N,pts:q}};function r(n,l,o,h){var b=new Array(n),f;if(h)for(f=0;f<n;f++)b[f]=1/(l[f+1]-l[f]);else{var k=1/o;for(f=0;f<n;f++)b[f]=k}return b}function e(n,l){return{start:n(l.start),end:n(l.end),size:l.size}}function s(n,l,o,h,b,f){var k,a=n.length-1,c=new Array(a),p=d(o,h,n,b,f);for(k=0;k<a;k++){var w=(l||[])[k];c[k]=w===void 0?[p(n[k]),p(n[k+1],!0)]:[w,w]}return c}},99784:function(X,B,t){var x=t(3400),E=t(56408),i=t(82748),M=t(27260),m=t(39096),d=t(37008);X.exports=function(v,r,e,s){function n(l,o){return x.coerce(v,r,d,l,o)}E(v,r,n,s),r.visible!==!1&&(i(v,r,n,s),M(v,r,s,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),m(n,s),n("xhoverformat"),n("yhoverformat"))}},59576:function(X,B,t){var x=t(55512),E=t(54460).hoverLabelText;X.exports=function(i,M,m,d,v){var r=x(i,M,m,d,v);if(r){i=r[0];var e=i.index,s=e[0],n=e[1],l=i.cd[0],o=l.trace,h=l.xRanges[n],b=l.yRanges[s];return i.xLabel=E(i.xa,[h[0],h[1]],o.xhoverformat),i.yLabel=E(i.ya,[b[0],b[1]],o.yhoverformat),r}}},21536:function(X,B,t){X.exports={attributes:t(37008),supplyDefaults:t(99784),crossTraceDefaults:t(80536),calc:t(19512),plot:t(41420),layerName:"heatmaplayer",colorbar:t(96288),style:t(41648),hoverPoints:t(59576),eventData:t(84980),moduleType:"trace",name:"histogram2d",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(X,B,t){var x=t(24040),E=t(3400);X.exports=function(i,M,m,d){var v=m("x"),r=m("y"),e=E.minRowLength(v),s=E.minRowLength(r);if(!e||!s){M.visible=!1;return}M._length=Math.min(e,s);var n=x.getComponentMethod("calendars","handleTraceDefaults");n(i,M,["x","y"],d);var l=m("z")||m("marker.color");l&&m("histfunc"),m("histnorm"),m("autobinx"),m("autobiny")}},81220:function(X,B,t){var x=t(37008),E=t(67104),i=t(49084),M=t(29736).axisHoverFormat,m=t(92880).extendFlat;X.exports=m({x:x.x,y:x.y,z:x.z,marker:x.marker,histnorm:x.histnorm,histfunc:x.histfunc,nbinsx:x.nbinsx,xbins:x.xbins,nbinsy:x.nbinsy,ybins:x.ybins,autobinx:x.autobinx,autobiny:x.autobiny,bingroup:x.bingroup,xbingroup:x.xbingroup,ybingroup:x.ybingroup,autocontour:E.autocontour,ncontours:E.ncontours,contours:E.contours,line:{color:E.line.color,width:m({},E.line.width,{dflt:.5}),dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:x.hovertemplate,texttemplate:E.texttemplate,textfont:E.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(X,B,t){var x=t(3400),E=t(56408),i=t(84952),M=t(97680),m=t(39096),d=t(81220);X.exports=function(v,r,e,s){function n(o,h){return x.coerce(v,r,d,o,h)}function l(o){return x.coerce2(v,r,d,o)}E(v,r,n,s),r.visible!==!1&&(i(v,r,n,l),M(v,r,n,s),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&m(n,s))}},65664:function(X,B,t){X.exports={attributes:t(81220),supplyDefaults:t(3704),crossTraceDefaults:t(80536),calc:t(20688),plot:t(23676).plot,layerName:"contourlayer",style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(X,B,t){var x=t(21776).Ks,E=t(21776).Gw,i=t(49084),M=t(86968).u,m=t(74996),d=t(424),v=t(40516),r=t(32984),e=t(92880).extendFlat,s=t(98192).c;X.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:v.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:e({colors:d.marker.colors,line:d.marker.line,pattern:s,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:d.leaf,pathbar:v.pathbar,text:m.text,textinfo:d.textinfo,texttemplate:E({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:m.hovertext,hoverinfo:d.hoverinfo,hovertemplate:x({},{keys:r.eventDataKeys}),textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:v.outsidetextfont,textposition:v.textposition,sort:m.sort,root:d.root,domain:M({name:"icicle",trace:!0,editType:"calc"})}},59564:function(X,B,t){var x=t(7316);B.name="icicle",B.plot=function(E,i,M,m){x.plotBasePlot(B.name,E,i,M,m)},B.clean=function(E,i,M,m){x.cleanBasePlot(B.name,E,i,M,m)}},73876:function(X,B,t){var x=t(3776);B.r=function(E,i){return x.calc(E,i)},B.q=function(E){return x._runCrossTraceCalc("icicle",E)}},7045:function(X,B,t){var x=t(3400),E=t(97376),i=t(76308),M=t(86968).Q,m=t(31508).handleText,d=t(78048).TEXTPAD,v=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,s=r.handleDefaults;X.exports=function(n,l,o,h){function b(_,T){return x.coerce(n,l,E,_,T)}var f=b("labels"),k=b("parents");if(!f||!f.length||!k||!k.length){l.visible=!1;return}var a=b("values");a&&a.length?b("branchvalues"):b("count"),b("level"),b("maxdepth"),b("tiling.orientation"),b("tiling.flip"),b("tiling.pad");var c=b("text");b("texttemplate"),l.texttemplate||b("textinfo",x.isArrayOrTypedArray(c)?"text+label":"label"),b("hovertext"),b("hovertemplate");var p=b("pathbar.visible"),w="auto";m(n,l,h,b,w,{hasPathbar:p,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),b("textposition"),v(n,l,h,b);var S=l._hasColorscale=e(n,"marker","colors")||(n.marker||{}).coloraxis;S&&s(n,l,h,b,{prefix:"marker.",cLetter:"c"}),b("leaf.opacity",S?1:.7),l._hovered={marker:{line:{width:2,color:i.contrast(h.paper_bgcolor)}}},p&&(b("pathbar.thickness",l.pathbar.textfont.size+2*d),b("pathbar.side"),b("pathbar.edgeshape")),b("sort"),b("root.color"),M(l,h,b),l._length=null}},67880:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(72736),m=t(25132),d=t(47192).styleOne,v=t(32984),r=t(78176),e=t(45716),s=t(96488).formatSliceLabel,n=!1;X.exports=function(l,o,h,b,f){var k=f.width,a=f.height,c=f.viewX,p=f.viewY,w=f.pathSlice,S=f.toMoveInsideSlice,_=f.strTransform,T=f.hasTransition,P=f.handleSlicesExit,u=f.makeUpdateSliceInterpolator,g=f.makeUpdateTextInterpolator,L=f.prevEntry,A={},R=l._context.staticPlot,O=l._fullLayout,N=o[0],z=N.trace,F=z.textposition.indexOf("left")!==-1,I=z.textposition.indexOf("right")!==-1,j=z.textposition.indexOf("bottom")!==-1,V=m(h,[k,a],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}),W=V.descendants(),K=1/0,et=-1/0;W.forEach(function(it){var Z=it.depth;Z>=z._maxDepth?(it.x0=it.x1=(it.x0+it.x1)/2,it.y0=it.y1=(it.y0+it.y1)/2):(K=Math.min(K,Z),et=Math.max(et,Z))}),b=b.data(W,r.getPtId),z._maxVisibleLayers=isFinite(et)?et-K+1:0,b.enter().append("g").classed("slice",!0),P(b,n,A,[k,a],w),b.order();var lt=null;if(T&&L){var ot=r.getPtId(L);b.each(function(it){lt===null&&r.getPtId(it)===ot&&(lt={x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1})})}var q=function(){return lt||{x0:0,x1:k,y0:0,y1:a}},J=b;return T&&(J=J.transition().each("end",function(){var it=x.select(this);r.setSliceCursor(it,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),J.each(function(it){it._x0=c(it.x0),it._x1=c(it.x1),it._y0=p(it.y0),it._y1=p(it.y1),it._hoverX=c(it.x1-z.tiling.pad),it._hoverY=p(j?it.y1-z.tiling.pad/2:it.y0+z.tiling.pad/2);var Z=x.select(this),tt=E.ensureSingle(Z,"path","surface",function(ut){ut.style("pointer-events",R?"none":"all")});T?tt.transition().attrTween("d",function(ut){var at=u(ut,n,q(),[k,a],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(dt){return w(at(dt))}}):tt.attr("d",w),Z.call(e,h,l,o,{styleOne:d,eventDataKeys:v.eventDataKeys,transitionTime:v.CLICK_TRANSITION_TIME,transitionEasing:v.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{isTransitioning:l._transitioning}),tt.call(d,it,z,l,{hovered:!1}),it.x0===it.x1||it.y0===it.y1?it._text="":it._text=s(it,h,z,o,O)||"";var st=E.ensureSingle(Z,"g","slicetext"),Q=E.ensureSingle(st,"text","",function(ut){ut.attr("data-notex",1)}),G=E.ensureUniformFontSize(l,r.determineTextFont(z,it,O.font));Q.text(it._text||" ").classed("slicetext",!0).attr("text-anchor",I?"end":F?"start":"middle").call(i.font,G).call(M.convertToTspans,l),it.textBB=i.bBox(Q.node()),it.transform=S(it,{fontSize:G.size}),it.transform.fontSize=G.size,T?Q.transition().attrTween("transform",function(ut){var at=g(ut,n,q(),[k,a]);return function(dt){return _(at(dt))}}):Q.attr("transform",_(it))}),lt}},29044:function(X,B,t){X.exports={moduleType:"trace",name:"icicle",basePlotModule:t(59564),categories:[],animatable:!0,attributes:t(97376),layoutAttributes:t(90676),supplyDefaults:t(7045),supplyLayoutDefaults:t(4304),calc:t(73876).r,crossTraceCalc:t(73876).q,plot:t(38364),style:t(47192).style,colorbar:t(5528),meta:{}}},90676:function(X){X.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(X,B,t){var x=t(3400),E=t(90676);X.exports=function(i,M){function m(d,v){return x.coerce(i,M,E,d,v)}m("iciclecolorway",M.colorway),m("extendiciclecolors")}},25132:function(X,B,t){var x=t(74148),E=t(83024);X.exports=function(i,M,m){var d=m.flipX,v=m.flipY,r=m.orientation==="h",e=m.maxDepth,s=M[0],n=M[1];e&&(s=(i.height+1)*M[0]/Math.min(i.height+1,e),n=(i.height+1)*M[1]/Math.min(i.height+1,e));var l=x.partition().padding(m.pad.inner).size(r?[M[1],s]:[M[0],n])(i);return(r||d||v)&&E(l,M,{swapXY:r,flipX:d,flipY:v}),l}},38364:function(X,B,t){var x=t(95808),E=t(67880);X.exports=function(i,M,m,d){return x(i,M,m,d,{type:"icicle",drawDescendants:E})}},47192:function(X,B,t){var x=t(33428),E=t(76308),i=t(3400),M=t(82744).resizeText,m=t(60404);function d(r){var e=r._fullLayout._iciclelayer.selectAll(".trace");M(r,e,"icicle"),e.each(function(s){var n=x.select(this),l=s[0],o=l.trace;n.style("opacity",o.opacity),n.selectAll("path.surface").each(function(h){x.select(this).call(v,h,o,r)})})}function v(r,e,s,n){var l=e.data.data,o=!e.children,h=l.i,b=i.castOption(s,h,"marker.line.color")||E.defaultLine,f=i.castOption(s,h,"marker.line.width")||0;r.call(m,e,s,n).style("stroke-width",f).call(E.stroke,b).style("opacity",o?s.leaf.opacity:null)}X.exports={style:d,styleOne:v}},95188:function(X,B,t){for(var x=t(45464),E=t(21776).Ks,i=t(92880).extendFlat,M=t(47797).colormodel,m=["rgb","rgba","rgba256","hsl","hsla"],d=[],v=[],r=0;r<m.length;r++){var e=M[m[r]];d.push("For the `"+m[r]+"` colormodel, it is ["+(e.zminDflt||e.min).join(", ")+"]."),v.push("For the `"+m[r]+"` colormodel, it is ["+(e.zmaxDflt||e.max).join(", ")+"].")}X.exports=i({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:m,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:i({},x.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:E({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(X,B,t){var x=t(3400),E=t(47797),i=t(38248),M=t(54460),m=t(3400).maxRowLength,d=t(18712).i;X.exports=function(s,n){var l,o;if(n._hasZ)l=n.z.length,o=m(n.z);else if(n._hasSource){var h=d(n.source);l=h.height,o=h.width}var b=M.getFromId(s,n.xaxis||"x"),f=M.getFromId(s,n.yaxis||"y"),k=b.d2c(n.x0)-n.dx/2,a=f.d2c(n.y0)-n.dy/2,c,p=[k,k+o*n.dx],w=[a,a+l*n.dy];if(b&&b.type==="log")for(c=0;c<o;c++)p.push(k+c*n.dx);if(f&&f.type==="log")for(c=0;c<l;c++)w.push(a+c*n.dy);n._extremes[b._id]=M.findExtremes(b,p),n._extremes[f._id]=M.findExtremes(f,w),n._scaler=e(n);var S={x0:k,y0:a,z:n.z,w:o,h:l};return[S]};function v(s,n,l,o){return function(h){return x.constrain((h-s)*n,l,o)}}function r(s,n){return function(l){return x.constrain(l,s,n)}}function e(s){var n=E.colormodel[s.colormodel],l=n.colormodel||s.colormodel,o=l.length;s._sArray=[];for(var h=0;h<o;h++)n.min[h]!==s.zmin[h]||n.max[h]!==s.zmax[h]?s._sArray.push(v(s.zmin[h],(n.max[h]-n.min[h])/(s.zmax[h]-s.zmin[h]),n.min[h],n.max[h])):s._sArray.push(r(n.min[h],n.max[h]));return function(b){for(var f=b.slice(0,o),k=0;k<o;k++){var a=f[k];if(!i(a))return!1;f[k]=s._sArray[k](a)}return f}}},47797:function(X){X.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var t=B.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var t=B.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%",""]}}}},13188:function(X,B,t){var x=t(3400),E=t(95188),i=t(47797),M=t(81792).IMAGE_URL_PREFIX;X.exports=function(m,d){function v(s,n){return x.coerce(m,d,E,s,n)}v("source"),d.source&&!d.source.match(M)&&delete d.source,d._hasSource=!!d.source;var r=v("z");if(d._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!d._hasZ&&!d._hasSource){d.visible=!1;return}v("x0"),v("y0"),v("dx"),v("dy");var e;d._hasZ?(v("colormodel","rgb"),e=i.colormodel[d.colormodel],v("zmin",e.zminDflt||e.min),v("zmax",e.zmaxDflt||e.max)):d._hasSource&&(d.colormodel="rgba256",e=i.colormodel[d.colormodel],d.zmin=e.zminDflt,d.zmax=e.zmaxDflt),v("zsmooth"),v("text"),v("hovertext"),v("hovertemplate"),d._length=null}},79972:function(X){X.exports=function(B,t){return"xVal"in t&&(B.x=t.xVal),"yVal"in t&&(B.y=t.yVal),t.xa&&(B.xaxis=t.xa),t.ya&&(B.yaxis=t.ya),B.color=t.color,B.colormodel=t.trace.colormodel,B.z||(B.z=t.color),B}},18712:function(X,B,t){var x=t(19480),E=t(81792).IMAGE_URL_PREFIX,i=t(33576).Buffer;B.i=function(M){var m=M.replace(E,""),d=new i(m,"base64");return x(d)}},24892:function(X,B,t){var x=t(93024),E=t(3400),i=E.isArrayOrTypedArray,M=t(47797);X.exports=function(m,d,v){var r=m.cd[0],e=r.trace,s=m.xa,n=m.ya;if(!(x.inbox(d-r.x0,d-(r.x0+r.w*e.dx),0)>0||x.inbox(v-r.y0,v-(r.y0+r.h*e.dy),0)>0)){var l=Math.floor((d-r.x0)/e.dx),o=Math.floor(Math.abs(v-r.y0)/e.dy),h;if(e._hasZ?h=r.z[o][l]:e._hasSource&&(h=e._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,o,1,1).data),!!h){var b=r.hi||e.hoverinfo,f;if(b){var k=b.split("+");k.indexOf("all")!==-1&&(k=["color"]),k.indexOf("color")!==-1&&(f=!0)}var a=M.colormodel[e.colormodel],c=a.colormodel||e.colormodel,p=c.length,w=e._scaler(h),S=a.suffix,_=[];(e.hovertemplate||f)&&(_.push("["+[w[0]+S[0],w[1]+S[1],w[2]+S[2]].join(", ")),p===4&&_.push(", "+w[3]+S[3]),_.push("]"),_=_.join(""),m.extraText=c.toUpperCase()+": "+_);var T;i(e.hovertext)&&i(e.hovertext[o])?T=e.hovertext[o][l]:i(e.text)&&i(e.text[o])&&(T=e.text[o][l]);var P=n.c2p(r.y0+(o+.5)*e.dy),u=r.x0+(l+.5)*e.dx,g=r.y0+(o+.5)*e.dy,L="["+h.slice(0,e.colormodel.length).join(", ")+"]";return[E.extendFlat(m,{index:[o,l],x0:s.c2p(r.x0+l*e.dx),x1:s.c2p(r.x0+(l+1)*e.dx),y0:P,y1:P,color:w,xVal:u,xLabelVal:u,yVal:g,yLabelVal:g,zLabelVal:L,text:T,hovertemplateLabels:{zLabel:L,colorLabel:_,"color[0]Label":w[0]+S[0],"color[1]Label":w[1]+S[1],"color[2]Label":w[2]+S[2],"color[3]Label":w[3]+S[3]}})]}}}},48928:function(X,B,t){X.exports={attributes:t(95188),supplyDefaults:t(13188),calc:t(93336),plot:t(63715),style:t(28576),hoverPoints:t(24892),eventData:t(79972),moduleType:"trace",name:"image",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(X,B,t){var x=t(33428),E=t(3400),i=E.strTranslate,M=t(9616),m=t(47797),d=t(9188),v=t(2264).STYLE;X.exports=function(r,e,s,n){var l=e.xaxis,o=e.yaxis,h=!r._context._exportedPlot&&d();E.makeTraceGroups(n,s,"im").each(function(b){var f=x.select(this),k=b[0],a=k.trace,c=(a.zsmooth==="fast"||a.zsmooth===!1&&h)&&!a._hasZ&&a._hasSource&&l.type==="linear"&&o.type==="linear";a._realImage=c;var p=k.z,w=k.x0,S=k.y0,_=k.w,T=k.h,P=a.dx,u=a.dy,g,L,A,R,O,N;for(N=0;g===void 0&&N<_;)g=l.c2p(w+N*P),N++;for(N=_;L===void 0&&N>0;)L=l.c2p(w+N*P),N--;for(N=0;R===void 0&&N<T;)R=o.c2p(S+N*u),N++;for(N=T;O===void 0&&N>0;)O=o.c2p(S+N*u),N--;if(L<g&&(A=L,L=g,g=A),O<R&&(A=R,R=O,O=A),!c){var z=.5;g=Math.max(-z*l._length,g),L=Math.min((1+z)*l._length,L),R=Math.max(-z*o._length,R),O=Math.min((1+z)*o._length,O)}var F=Math.round(L-g),I=Math.round(O-R),j=F<=0||I<=0;if(j){var V=f.selectAll("image").data([]);V.exit().remove();return}function W(st){var Q=document.createElement("canvas");Q.width=F,Q.height=I;var G=Q.getContext("2d",{willReadFrequently:!0}),ut=function(Rt){return E.constrain(Math.round(l.c2p(w+Rt*P)-g),0,F)},at=function(Rt){return E.constrain(Math.round(o.c2p(S+Rt*u)-R),0,I)},dt=m.colormodel[a.colormodel],gt=dt.colormodel||a.colormodel,wt=dt.fmt,kt;for(N=0;N<k.w;N++){var Ot=ut(N),bt=ut(N+1);if(!(bt===Ot||isNaN(bt)||isNaN(Ot)))for(var _t=0;_t<k.h;_t++){var mt=at(_t),Pt=at(_t+1);Pt===mt||isNaN(Pt)||isNaN(mt)||!st(N,_t)||(kt=a._scaler(st(N,_t)),kt?G.fillStyle=gt+"("+wt(kt).join(",")+")":G.fillStyle="rgba(0,0,0,0)",G.fillRect(Ot,mt,bt-Ot,Pt-mt))}}return Q}var K=f.selectAll("image").data([b]);K.enter().append("svg:image").attr({xmlns:M.svg,preserveAspectRatio:"none"}),K.exit().remove();var et=a.zsmooth===!1?v:"";if(c){var lt=E.simpleMap(l.range,l.r2l),ot=E.simpleMap(o.range,o.r2l),q=lt[1]<lt[0],J=ot[1]>ot[0];if(q||J){var it=g+F/2,Z=R+I/2;et+="transform:"+i(it+"px",Z+"px")+"scale("+(q?-1:1)+","+(J?-1:1)+")"+i(-it+"px",-Z+"px")+";"}}K.attr("style",et);var tt=new Promise(function(st){if(a._hasZ)st();else if(a._hasSource)if(a._canvas&&a._canvas.el.width===_&&a._canvas.el.height===T&&a._canvas.source===a.source)st();else{var Q=document.createElement("canvas");Q.width=_,Q.height=T;var G=Q.getContext("2d",{willReadFrequently:!0});a._image=a._image||new Image;var ut=a._image;ut.onload=function(){G.drawImage(ut,0,0),a._canvas={el:Q,source:a.source},st()},ut.setAttribute("src",a.source)}}).then(function(){var st,Q;if(a._hasZ)Q=W(function(at,dt){var gt=p[dt][at];return E.isTypedArray(gt)&&(gt=Array.from(gt)),gt}),st=Q.toDataURL("image/png");else if(a._hasSource)if(c)st=a.source;else{var G=a._canvas.el.getContext("2d",{willReadFrequently:!0}),ut=G.getImageData(0,0,_,T).data;Q=W(function(at,dt){var gt=4*(dt*_+at);return[ut[gt],ut[gt+1],ut[gt+2],ut[gt+3]]}),st=Q.toDataURL("image/png")}K.attr({"xlink:href":st,height:I,width:F,x:g,y:R})});r._promises.push(tt)})}},28576:function(X,B,t){var x=t(33428);X.exports=function(E){x.select(E).selectAll(".im image").style("opacity",function(i){return i[0].trace.opacity})}},89864:function(X,B,t){var x=t(92880).extendFlat,E=t(92880).extendDeep,i=t(67824).overrideAll,M=t(25376),m=t(22548),d=t(86968).u,v=t(94724),r=t(31780).templatedArray,e=t(48164),s=t(29736).descriptionOnlyNumbers,n=M({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:m.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},o={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},h=r("step",E({},l,{range:o}));X.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:d({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:x({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:x({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:e.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:e.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:x({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:E({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:m.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:o,visible:x({},v.visible,{dflt:!0}),tickmode:v.minor.tickmode,nticks:v.nticks,tick0:v.tick0,dtick:v.dtick,tickvals:v.tickvals,ticktext:v.ticktext,ticks:x({},v.ticks,{dflt:"outside"}),ticklen:v.ticklen,tickwidth:v.tickwidth,tickcolor:v.tickcolor,ticklabelstep:v.ticklabelstep,showticklabels:v.showticklabels,labelalias:v.labelalias,tickfont:M({}),tickangle:v.tickangle,tickformat:v.tickformat,tickformatstops:v.tickformatstops,tickprefix:v.tickprefix,showtickprefix:v.showtickprefix,ticksuffix:v.ticksuffix,showticksuffix:v.showticksuffix,separatethousands:v.separatethousands,exponentformat:v.exponentformat,minexponent:v.minexponent,showexponent:v.showexponent,editType:"plot"},"plot"),steps:h,threshold:{line:{color:x({},l.line.color,{}),width:x({},l.line.width,{dflt:1}),editType:"plot"},thickness:x({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(X,B,t){var x=t(7316);B.name="indicator",B.plot=function(E,i,M,m){x.plotBasePlot(B.name,E,i,M,m)},B.clean=function(E,i,M,m){x.cleanBasePlot(B.name,E,i,M,m)}},79136:function(X){function B(t,x){var E=[],i=x.value;typeof x._lastValue!="number"&&(x._lastValue=x.value);var M=x._lastValue,m=M;return x._hasDelta&&typeof x.delta.reference=="number"&&(m=x.delta.reference),E[0]={y:i,lastY:M,delta:i-m,relativeDelta:(i-m)/m},E}X.exports={calc:B}},12096:function(X){X.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(X,B,t){var x=t(3400),E=t(89864),i=t(86968).Q,M=t(31780),m=t(51272),d=t(12096),v=t(26332),r=t(25404),e=t(95936),s=t(42568);function n(o,h,b,f){function k(N,z){return x.coerce(o,h,E,N,z)}i(h,f,k),k("mode"),h._hasNumber=h.mode.indexOf("number")!==-1,h._hasDelta=h.mode.indexOf("delta")!==-1,h._hasGauge=h.mode.indexOf("gauge")!==-1;var a=k("value");h._range=[0,typeof a=="number"?1.5*a:1];var c=new Array(2),p;h._hasNumber&&(k("number.valueformat"),k("number.font.color",f.font.color),k("number.font.family",f.font.family),k("number.font.size"),h.number.font.size===void 0&&(h.number.font.size=d.defaultNumberFontSize,c[0]=!0),k("number.prefix"),k("number.suffix"),p=h.number.font.size);var w;h._hasDelta&&(k("delta.font.color",f.font.color),k("delta.font.family",f.font.family),k("delta.font.size"),h.delta.font.size===void 0&&(h.delta.font.size=(h._hasNumber?.5:1)*(p||d.defaultNumberFontSize),c[1]=!0),k("delta.reference",h.value),k("delta.relative"),k("delta.valueformat",h.delta.relative?"2%":""),k("delta.increasing.symbol"),k("delta.increasing.color"),k("delta.decreasing.symbol"),k("delta.decreasing.color"),k("delta.position"),k("delta.prefix"),k("delta.suffix"),w=h.delta.font.size),h._scaleNumbers=(!h._hasNumber||c[0])&&(!h._hasDelta||c[1])||!1,k("title.font.color",f.font.color),k("title.font.family",f.font.family),k("title.font.size",.25*(p||w||d.defaultNumberFontSize)),k("title.text");var S,_,T,P;function u(N,z){return x.coerce(S,_,E.gauge,N,z)}function g(N,z){return x.coerce(T,P,E.gauge.axis,N,z)}if(h._hasGauge){S=o.gauge,S||(S={}),_=M.newContainer(h,"gauge"),u("shape");var L=h._isBullet=h.gauge.shape==="bullet";L||k("title.align","center");var A=h._isAngular=h.gauge.shape==="angular";A||k("align","center"),u("bgcolor",f.paper_bgcolor),u("borderwidth"),u("bordercolor"),u("bar.color"),u("bar.line.color"),u("bar.line.width");var R=d.valueThickness*(h.gauge.shape==="bullet"?.5:1);u("bar.thickness",R),m(S,_,{name:"steps",handleItemDefaults:l}),u("threshold.value"),u("threshold.thickness"),u("threshold.line.width"),u("threshold.line.color"),T={},S&&(T=S.axis||{}),P=M.newContainer(_,"axis"),g("visible"),h._range=g("range",h._range);var O={noAutotickangles:!0,outerTicks:!0};v(T,P,g,"linear"),s(T,P,g,"linear",O),e(T,P,g,"linear",O),r(T,P,g,O)}else k("title.align","center"),k("align","center"),h._isAngular=h._isBullet=!1;h._length=null}function l(o,h){function b(f,k){return x.coerce(o,h,E.gauge.steps,f,k)}b("color"),b("line.color"),b("line.width"),b("range"),b("thickness")}X.exports={supplyDefaults:n}},43480:function(X,B,t){X.exports={moduleType:"trace",name:"indicator",basePlotModule:t(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:t(89864),supplyDefaults:t(20424).supplyDefaults,calc:t(79136).calc,plot:t(97864),meta:{}}},97864:function(X,B,t){var x=t(33428),E=t(67756).qy,i=t(67756).Gz,M=t(3400),m=M.strScale,d=M.strTranslate,v=M.rad2deg,r=t(84284).MID_SHIFT,e=t(43616),s=t(12096),n=t(72736),l=t(54460),o=t(28336),h=t(37668),b=t(94724),f=t(76308),k={left:"start",center:"middle",right:"end"},a={left:0,center:.5,right:1},c=/[yzafpnµmkMGTPEZY]/;function p(O){return O&&O.duration>0}X.exports=function(O,N,z,F){var I=O._fullLayout,j;p(z)&&F&&(j=F()),M.makeTraceGroups(I._indicatorlayer,N,"trace").each(function(V){var W=V[0],K=W.trace,et=x.select(this),lt=K._hasGauge,ot=K._isAngular,q=K._isBullet,J=K.domain,it={w:I._size.w*(J.x[1]-J.x[0]),h:I._size.h*(J.y[1]-J.y[0]),l:I._size.l+I._size.w*J.x[0],r:I._size.r+I._size.w*(1-J.x[1]),t:I._size.t+I._size.h*(1-J.y[1]),b:I._size.b+I._size.h*J.y[0]},Z=it.l+it.w/2,tt=it.t+it.h/2,st=Math.min(it.w/2,it.h),Q=s.innerRadius*st,G,ut,at,dt=K.align||"center";if(ut=tt,!lt)G=it.l+a[dt]*it.w,at=function(Ht){return g(Ht,it.w,it.h)};else if(ot&&(G=Z,ut=tt+st/2,at=function(Ht){return L(Ht,.9*Q)}),q){var gt=s.bulletPadding,wt=1-s.bulletNumberDomainSize+gt;G=it.l+(wt+(1-wt)*a[dt])*it.w,at=function(Ht){return g(Ht,(s.bulletNumberDomainSize-gt)*it.w,it.h)}}_(O,et,V,{numbersX:G,numbersY:ut,numbersScaler:at,transitionOpts:z,onComplete:j});var kt,Ot;lt&&(kt={range:K.gauge.axis.range,color:K.gauge.bgcolor,line:{color:K.gauge.bordercolor,width:0},thickness:1},Ot={range:K.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:K.gauge.bordercolor,width:K.gauge.borderwidth},thickness:1});var bt=et.selectAll("g.angular").data(ot?V:[]);bt.exit().remove();var _t=et.selectAll("g.angularaxis").data(ot?V:[]);_t.exit().remove(),ot&&S(O,et,V,{radius:st,innerRadius:Q,gauge:bt,layer:_t,size:it,gaugeBg:kt,gaugeOutline:Ot,transitionOpts:z,onComplete:j});var mt=et.selectAll("g.bullet").data(q?V:[]);mt.exit().remove();var Pt=et.selectAll("g.bulletaxis").data(q?V:[]);Pt.exit().remove(),q&&w(O,et,V,{gauge:mt,layer:Pt,size:it,gaugeBg:kt,gaugeOutline:Ot,transitionOpts:z,onComplete:j});var Rt=et.selectAll("text.title").data(V);Rt.exit().remove(),Rt.enter().append("text").classed("title",!0),Rt.attr("text-anchor",function(){return q?k.right:k[K.title.align]}).text(K.title.text).call(e.font,K.title.font).call(n.convertToTspans,O),Rt.attr("transform",function(){var Ht=it.l+it.w*a[K.title.align],Dt,Xt=s.titlePadding,se=e.bBox(Rt.node());if(lt){if(ot)if(K.gauge.axis.visible){var Yt=e.bBox(_t.node());Dt=Yt.top-Xt-se.bottom}else Dt=it.t+it.h/2-st/2-se.bottom-Xt;q&&(Dt=ut-(se.top+se.bottom)/2,Ht=it.l-s.bulletPadding*it.w)}else Dt=K._numbersTop-Xt-se.bottom;return d(Ht,Dt)})})};function w(O,N,z,F){var I=z[0].trace,j=F.gauge,V=F.layer,W=F.gaugeBg,K=F.gaugeOutline,et=F.size,lt=I.domain,ot=F.transitionOpts,q=F.onComplete,J,it,Z,tt,st;j.enter().append("g").classed("bullet",!0),j.attr("transform",d(et.l,et.t)),V.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),V.selectAll("g.xbulletaxistick,path,text").remove();var Q=et.h,G=I.gauge.bar.thickness*Q,ut=lt.x[0],at=lt.x[0]+(lt.x[1]-lt.x[0])*(I._hasNumber||I._hasDelta?1-s.bulletNumberDomainSize:1);J=u(O,I.gauge.axis),J._id="xbulletaxis",J.domain=[ut,at],J.setScale(),it=l.calcTicks(J),Z=l.makeTransTickFn(J),tt=l.getTickSigns(J)[2],st=et.t+et.h,J.visible&&(l.drawTicks(O,J,{vals:J.ticks==="inside"?l.clipEnds(J,it):it,layer:V,path:l.makeTickPath(J,st,tt),transFn:Z}),l.drawLabels(O,J,{vals:it,layer:V,transFn:Z,labelFns:l.makeLabelFns(J,st)}));function dt(mt){mt.attr("width",function(Pt){return Math.max(0,J.c2p(Pt.range[1])-J.c2p(Pt.range[0]))}).attr("x",function(Pt){return J.c2p(Pt.range[0])}).attr("y",function(Pt){return .5*(1-Pt.thickness)*Q}).attr("height",function(Pt){return Pt.thickness*Q})}var gt=[W].concat(I.gauge.steps),wt=j.selectAll("g.bg-bullet").data(gt);wt.enter().append("g").classed("bg-bullet",!0).append("rect"),wt.select("rect").call(dt).call(T),wt.exit().remove();var kt=j.selectAll("g.value-bullet").data([I.gauge.bar]);kt.enter().append("g").classed("value-bullet",!0).append("rect"),kt.select("rect").attr("height",G).attr("y",(Q-G)/2).call(T),p(ot)?kt.select("rect").transition().duration(ot.duration).ease(ot.easing).each("end",function(){q&&q()}).each("interrupt",function(){q&&q()}).attr("width",Math.max(0,J.c2p(Math.min(I.gauge.axis.range[1],z[0].y)))):kt.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,J.c2p(Math.min(I.gauge.axis.range[1],z[0].y))):0),kt.exit().remove();var Ot=z.filter(function(){return I.gauge.threshold.value||I.gauge.threshold.value===0}),bt=j.selectAll("g.threshold-bullet").data(Ot);bt.enter().append("g").classed("threshold-bullet",!0).append("line"),bt.select("line").attr("x1",J.c2p(I.gauge.threshold.value)).attr("x2",J.c2p(I.gauge.threshold.value)).attr("y1",(1-I.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-I.gauge.threshold.thickness)/2)*Q).call(f.stroke,I.gauge.threshold.line.color).style("stroke-width",I.gauge.threshold.line.width),bt.exit().remove();var _t=j.selectAll("g.gauge-outline").data([K]);_t.enter().append("g").classed("gauge-outline",!0).append("rect"),_t.select("rect").call(dt).call(T),_t.exit().remove()}function S(O,N,z,F){var I=z[0].trace,j=F.size,V=F.radius,W=F.innerRadius,K=F.gaugeBg,et=F.gaugeOutline,lt=[j.l+j.w/2,j.t+j.h/2+V/2],ot=F.gauge,q=F.layer,J=F.transitionOpts,it=F.onComplete,Z=Math.PI/2;function tt(ie){var fe=I.gauge.axis.range[0],ce=I.gauge.axis.range[1],ye=(ie-fe)/(ce-fe)*Math.PI-Z;return ye<-Z?-Z:ye>Z?Z:ye}function st(ie){return x.svg.arc().innerRadius((W+V)/2-ie/2*(V-W)).outerRadius((W+V)/2+ie/2*(V-W)).startAngle(-Z)}function Q(ie){ie.attr("d",function(fe){return st(fe.thickness).startAngle(tt(fe.range[0])).endAngle(tt(fe.range[1]))()})}var G,ut,at,dt;ot.enter().append("g").classed("angular",!0),ot.attr("transform",d(lt[0],lt[1])),q.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),q.selectAll("g.xangularaxistick,path,text").remove(),G=u(O,I.gauge.axis),G.type="linear",G.range=I.gauge.axis.range,G._id="xangularaxis",G.ticklabeloverflow="allow",G.setScale();var gt=function(ie){return(G.range[0]-ie.x)/(G.range[1]-G.range[0])*Math.PI+Math.PI},wt={},kt=l.makeLabelFns(G,0),Ot=kt.labelStandoff;wt.xFn=function(ie){var fe=gt(ie);return Math.cos(fe)*Ot},wt.yFn=function(ie){var fe=gt(ie),ce=Math.sin(fe)>0?.2:1;return-Math.sin(fe)*(Ot+ie.fontSize*ce)+Math.abs(Math.cos(fe))*(ie.fontSize*r)},wt.anchorFn=function(ie){var fe=gt(ie),ce=Math.cos(fe);return Math.abs(ce)<.1?"middle":ce>0?"start":"end"},wt.heightFn=function(ie,fe,ce){var ye=gt(ie);return-.5*(1+Math.sin(ye))*ce};var bt=function(ie){return d(lt[0]+V*Math.cos(ie),lt[1]-V*Math.sin(ie))};at=function(ie){return bt(gt(ie))};var _t=function(ie){var fe=gt(ie);return bt(fe)+"rotate("+-v(fe)+")"};if(ut=l.calcTicks(G),dt=l.getTickSigns(G)[2],G.visible){dt=G.ticks==="inside"?-1:1;var mt=(G.linewidth||1)/2;l.drawTicks(O,G,{vals:ut,layer:q,path:"M"+dt*mt+",0h"+dt*G.ticklen,transFn:_t}),l.drawLabels(O,G,{vals:ut,layer:q,transFn:at,labelFns:wt})}var Pt=[K].concat(I.gauge.steps),Rt=ot.selectAll("g.bg-arc").data(Pt);Rt.enter().append("g").classed("bg-arc",!0).append("path"),Rt.select("path").call(Q).call(T),Rt.exit().remove();var Ht=st(I.gauge.bar.thickness),Dt=ot.selectAll("g.value-arc").data([I.gauge.bar]);Dt.enter().append("g").classed("value-arc",!0).append("path");var Xt=Dt.select("path");p(J)?(Xt.transition().duration(J.duration).ease(J.easing).each("end",function(){it&&it()}).each("interrupt",function(){it&&it()}).attrTween("d",P(Ht,tt(z[0].lastY),tt(z[0].y))),I._lastValue=z[0].y):Xt.attr("d",typeof z[0].y=="number"?Ht.endAngle(tt(z[0].y)):"M0,0Z"),Xt.call(T),Dt.exit().remove(),Pt=[];var se=I.gauge.threshold.value;(se||se===0)&&Pt.push({range:[se,se],color:I.gauge.threshold.color,line:{color:I.gauge.threshold.line.color,width:I.gauge.threshold.line.width},thickness:I.gauge.threshold.thickness});var Yt=ot.selectAll("g.threshold-arc").data(Pt);Yt.enter().append("g").classed("threshold-arc",!0).append("path"),Yt.select("path").call(Q).call(T),Yt.exit().remove();var ue=ot.selectAll("g.gauge-outline").data([et]);ue.enter().append("g").classed("gauge-outline",!0).append("path"),ue.select("path").call(Q).call(T),ue.exit().remove()}function _(O,N,z,F){var I=z[0].trace,j=F.numbersX,V=F.numbersY,W=I.align||"center",K=k[W],et=F.transitionOpts,lt=F.onComplete,ot=M.ensureSingle(N,"g","numbers"),q,J,it,Z=[];I._hasNumber&&Z.push("number"),I._hasDelta&&(Z.push("delta"),I.delta.position==="left"&&Z.reverse());var tt=ot.selectAll("text").data(Z);tt.enter().append("text"),tt.attr("text-anchor",function(){return K}).attr("class",function(bt){return bt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),tt.exit().remove();function st(bt,_t,mt,Pt){if(bt.match("s")&&mt>=0!=Pt>=0&&!_t(mt).slice(-1).match(c)&&!_t(Pt).slice(-1).match(c)){var Rt=bt.slice().replace("s","f").replace(/\d+/,function(Dt){return parseInt(Dt)-1}),Ht=u(O,{tickformat:Rt});return function(Dt){return Math.abs(Dt)<1?l.tickText(Ht,Dt).text:_t(Dt)}}else return _t}function Q(){var bt=u(O,{tickformat:I.number.valueformat},I._range);bt.setScale(),l.prepTicks(bt);var _t=function(Dt){return l.tickText(bt,Dt).text},mt=I.number.suffix,Pt=I.number.prefix,Rt=ot.select("text.number");function Ht(){var Dt=typeof z[0].y=="number"?Pt+_t(z[0].y)+mt:"-";Rt.text(Dt).call(e.font,I.number.font).call(n.convertToTspans,O)}return p(et)?Rt.transition().duration(et.duration).ease(et.easing).each("end",function(){Ht(),lt&&lt()}).each("interrupt",function(){Ht(),lt&&lt()}).attrTween("text",function(){var Dt=x.select(this),Xt=i(z[0].lastY,z[0].y);I._lastValue=z[0].y;var se=st(I.number.valueformat,_t,z[0].lastY,z[0].y);return function(Yt){Dt.text(Pt+se(Xt(Yt))+mt)}}):Ht(),q=A(Pt+_t(z[0].y)+mt,I.number.font,K,O),Rt}function G(){var bt=u(O,{tickformat:I.delta.valueformat},I._range);bt.setScale(),l.prepTicks(bt);var _t=function(Yt){return l.tickText(bt,Yt).text},mt=I.delta.suffix,Pt=I.delta.prefix,Rt=function(Yt){var ue=I.delta.relative?Yt.relativeDelta:Yt.delta;return ue},Ht=function(Yt,ue){return Yt===0||typeof Yt!="number"||isNaN(Yt)?"-":(Yt>0?I.delta.increasing.symbol:I.delta.decreasing.symbol)+Pt+ue(Yt)+mt},Dt=function(Yt){return Yt.delta>=0?I.delta.increasing.color:I.delta.decreasing.color};I._deltaLastValue===void 0&&(I._deltaLastValue=Rt(z[0]));var Xt=ot.select("text.delta");Xt.call(e.font,I.delta.font).call(f.fill,Dt({delta:I._deltaLastValue}));function se(){Xt.text(Ht(Rt(z[0]),_t)).call(f.fill,Dt(z[0])).call(n.convertToTspans,O)}return p(et)?Xt.transition().duration(et.duration).ease(et.easing).tween("text",function(){var Yt=x.select(this),ue=Rt(z[0]),ie=I._deltaLastValue,fe=st(I.delta.valueformat,_t,ie,ue),ce=i(ie,ue);return I._deltaLastValue=ue,function(ye){Yt.text(Ht(ce(ye),fe)),Yt.call(f.fill,Dt({delta:ce(ye)}))}}).each("end",function(){se(),lt&&lt()}).each("interrupt",function(){se(),lt&&lt()}):se(),J=A(Ht(Rt(z[0]),_t),I.delta.font,K,O),Xt}var ut=I.mode+I.align,at;if(I._hasDelta&&(at=G(),ut+=I.delta.position+I.delta.font.size+I.delta.font.family+I.delta.valueformat,ut+=I.delta.increasing.symbol+I.delta.decreasing.symbol,it=J),I._hasNumber&&(Q(),ut+=I.number.font.size+I.number.font.family+I.number.valueformat+I.number.suffix+I.number.prefix,it=q),I._hasDelta&&I._hasNumber){var dt=[(q.left+q.right)/2,(q.top+q.bottom)/2],gt=[(J.left+J.right)/2,(J.top+J.bottom)/2],wt,kt,Ot=.75*I.delta.font.size;I.delta.position==="left"&&(wt=R(I,"deltaPos",0,-1*(q.width*a[I.align]+J.width*(1-a[I.align])+Ot),ut,Math.min),kt=dt[1]-gt[1],it={width:q.width+J.width+Ot,height:Math.max(q.height,J.height),left:J.left+wt,right:q.right,top:Math.min(q.top,J.top+kt),bottom:Math.max(q.bottom,J.bottom+kt)}),I.delta.position==="right"&&(wt=R(I,"deltaPos",0,q.width*(1-a[I.align])+J.width*a[I.align]+Ot,ut,Math.max),kt=dt[1]-gt[1],it={width:q.width+J.width+Ot,height:Math.max(q.height,J.height),left:q.left,right:J.right+wt,top:Math.min(q.top,J.top+kt),bottom:Math.max(q.bottom,J.bottom+kt)}),I.delta.position==="bottom"&&(wt=null,kt=J.height,it={width:Math.max(q.width,J.width),height:q.height+J.height,left:Math.min(q.left,J.left),right:Math.max(q.right,J.right),top:q.bottom-q.height,bottom:q.bottom+J.height}),I.delta.position==="top"&&(wt=null,kt=q.top,it={width:Math.max(q.width,J.width),height:q.height+J.height,left:Math.min(q.left,J.left),right:Math.max(q.right,J.right),top:q.bottom-q.height-J.height,bottom:q.bottom}),at.attr({dx:wt,dy:kt})}(I._hasNumber||I._hasDelta)&&ot.attr("transform",function(){var bt=F.numbersScaler(it);ut+=bt[2];var _t=R(I,"numbersScale",1,bt[0],ut,Math.min),mt;I._scaleNumbers||(_t=1),I._isAngular?mt=V-_t*it.bottom:mt=V-_t*(it.top+it.bottom)/2,I._numbersTop=_t*it.top+mt;var Pt=it[W];W==="center"&&(Pt=(it.left+it.right)/2);var Rt=j-_t*Pt;return Rt=R(I,"numbersTranslate",0,Rt,ut,Math.max),d(Rt,mt)+m(_t)})}function T(O){O.each(function(N){f.stroke(x.select(this),N.line.color)}).each(function(N){f.fill(x.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function P(O,N,z){return function(){var F=E(N,z);return function(I){return O.endAngle(F(I))()}}}function u(O,N,z){var F=O._fullLayout,I=M.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},N),j={type:"linear",_id:"x"+N._id},V={letter:"x",font:F.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W(K,et){return M.coerce(I,j,b,K,et)}return o(I,j,W,V,F),h(I,j,W,V),j}function g(O,N,z){var F=Math.min(N/O.width,z/O.height);return[F,O,N+"x"+z]}function L(O,N){var z=Math.sqrt(O.width/2*(O.width/2)+O.height*O.height),F=N/z;return[F,O,N]}function A(O,N,z,F){var I=document.createElementNS("http://www.w3.org/2000/svg","text"),j=x.select(I);return j.text(O).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",O).call(n.convertToTspans,F).call(e.font,N),e.bBox(j.node())}function R(O,N,z,F,I,j){var V="_cache"+N;O[V]&&O[V].key===I||(O[V]={key:I,value:z});var W=M.aggNums(j,null,[O[V].value,F],2);return O[V].value=W,W}},50048:function(X,B,t){var x=t(49084),E=t(29736).axisHoverFormat,i=t(21776).Ks,M=t(52948),m=t(45464),d=t(92880).extendFlat,v=t(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function e(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=X.exports=v(d({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:e(),y:e(),z:e()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),valuehoverformat:E("value",1),showlegend:d({},m.showlegend,{dflt:!1})},x("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:M.opacity,lightposition:M.lightposition,lighting:M.lighting,flatshading:M.flatshading,contour:M.contour,hoverinfo:d({},m.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},62624:function(X,B,t){var x=t(47128),E=t(3832).processGrid,i=t(3832).filter;X.exports=function(M,m){m._len=Math.min(m.x.length,m.y.length,m.z.length,m.value.length),m._x=i(m.x,m._len),m._y=i(m.y,m._len),m._z=i(m.z,m._len),m._value=i(m.value,m._len);var d=E(m);m._gridFill=d.fill,m._Xs=d.Xs,m._Ys=d.Ys,m._Zs=d.Zs,m._len=d.len;for(var v=1/0,r=-1/0,e=0;e<m._len;e++){var s=m._value[e];v=Math.min(v,s),r=Math.max(r,s)}m._minValues=v,m._maxValues=r,m._vMin=m.isomin===void 0||m.isomin===null?v:m.isomin,m._vMax=m.isomax===void 0||m.isomin===null?r:m.isomax,x(M,m,{vals:[m._vMin,m._vMax],containerStr:"",cLetter:"c"})}},31460:function(X,B,t){var x=t(67792).gl_mesh3d,E=t(33040).parseColorScale,i=t(3400).isArrayOrTypedArray,M=t(43080),m=t(8932).extractOpts,d=t(52094),v=function(o,h){for(var b=h.length-1;b>0;b--){var f=Math.min(h[b],h[b-1]),k=Math.max(h[b],h[b-1]);if(k>f&&f<o&&o<=k)return{id:b,distRatio:(k-o)/(k-f)}}return{id:0,distRatio:0}};function r(o,h,b){this.scene=o,this.uid=b,this.mesh=h,this.name="",this.data=null,this.showContour=!1}var e=r.prototype;e.handlePick=function(o){if(o.object===this.mesh){var h=o.data.index,b=this.data._meshX[h],f=this.data._meshY[h],k=this.data._meshZ[h],a=this.data._Ys.length,c=this.data._Zs.length,p=v(b,this.data._Xs).id,w=v(f,this.data._Ys).id,S=v(k,this.data._Zs).id,_=o.index=S+c*w+c*a*p;o.traceCoordinate=[this.data._meshX[_],this.data._meshY[_],this.data._meshZ[_],this.data._value[_]];var T=this.data.hovertext||this.data.text;return i(T)&&T[_]!==void 0?o.textLabel=T[_]:T&&(o.textLabel=T),!0}},e.update=function(o){var h=this.scene,b=h.fullSceneLayout;this.data=n(o);function f(w,S,_,T){return S.map(function(P){return w.d2l(P,0,T)*_})}var k=d(f(b.xaxis,o._meshX,h.dataScale[0],o.xcalendar),f(b.yaxis,o._meshY,h.dataScale[1],o.ycalendar),f(b.zaxis,o._meshZ,h.dataScale[2],o.zcalendar)),a=d(o._meshI,o._meshJ,o._meshK),c={positions:k,cells:a,lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:M(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},p=m(o);c.vertexIntensity=o._meshIntensity,c.vertexIntensityBounds=[p.min,p.max],c.colormap=E(o),this.mesh.update(c)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(o){o._meshI=[],o._meshJ=[],o._meshK=[];var h=o.surface.show,b=o.spaceframe.show,f=o.surface.fill,k=o.spaceframe.fill,a=!1,c=!1,p=0,w,S,_=o._Xs,T=o._Ys,P=o._Zs,u=_.length,g=T.length,L=P.length,A=s.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),R=function(Jt,Ut,It){switch(A){case 5:return It+L*Ut+L*g*Jt;case 4:return It+L*Jt+L*u*Ut;case 3:return Ut+g*It+g*L*Jt;case 2:return Ut+g*Jt+g*u*It;case 1:return Jt+u*It+u*L*Ut;default:return Jt+u*Ut+u*g*It}},O=o._minValues,N=o._maxValues,z=o._vMin,F=o._vMax,I,j,V,W;function K(Jt,Ut,It){for(var pt=W.length,xt=S;xt<pt;xt++)if(Jt===I[xt]&&Ut===j[xt]&&It===V[xt])return xt;return-1}function et(){S=w}function lt(){I=[],j=[],V=[],W=[],w=0,et()}function ot(Jt,Ut,It,pt){return I.push(Jt),j.push(Ut),V.push(It),W.push(pt),w++,w-1}function q(Jt,Ut,It){return o._meshI.push(Jt),o._meshJ.push(Ut),o._meshK.push(It),p++,p-1}function J(Jt,Ut,It){for(var pt=[],xt=0;xt<Jt.length;xt++)pt[xt]=(Jt[xt]+Ut[xt]+It[xt])/3;return pt}function it(Jt,Ut,It){for(var pt=[],xt=0;xt<Jt.length;xt++)pt[xt]=Jt[xt]*(1-It)+It*Ut[xt];return pt}var Z;function tt(Jt){Z=Jt}function st(Jt,Ut){var It=Jt[0],pt=Jt[1],xt=Jt[2],Ct=J(It,pt,xt),At=Math.sqrt(1-Z),Ft=it(Ct,It,At),Wt=it(Ct,pt,At),Qt=it(Ct,xt,At),he=Ut[0],ve=Ut[1],Je=Ut[2];return{xyzv:[[It,pt,Wt],[Wt,Ft,It],[pt,xt,Qt],[Qt,Wt,pt],[xt,It,Ft],[Ft,Qt,xt]],abc:[[he,ve,-1],[-1,-1,he],[ve,Je,-1],[-1,-1,ve],[Je,he,-1],[-1,-1,Je]]}}function Q(Jt,Ut){return Jt==="all"||Jt===null?!0:Jt.indexOf(Ut)>-1}function G(Jt,Ut){return Jt===null?Ut:Jt}function ut(Jt,Ut,It){et();var pt=[Ut],xt=[It];if(Z>=1)pt=[Ut],xt=[It];else if(Z>0){var Ct=st(Ut,It);pt=Ct.xyzv,xt=Ct.abc}for(var At=0;At<pt.length;At++){Ut=pt[At],It=xt[At];for(var Ft=[],Wt=0;Wt<3;Wt++){var Qt=Ut[Wt][0],he=Ut[Wt][1],ve=Ut[Wt][2],Je=Ut[Wt][3],Ue=It[Wt]>-1?It[Wt]:K(Qt,he,ve);Ue>-1?Ft[Wt]=Ue:Ft[Wt]=ot(Qt,he,ve,G(Jt,Je))}q(Ft[0],Ft[1],Ft[2])}}function at(Jt,Ut,It){var pt=function(xt,Ct,At){ut(Jt,[Ut[xt],Ut[Ct],Ut[At]],[It[xt],It[Ct],It[At]])};pt(0,1,2),pt(2,3,0)}function dt(Jt,Ut,It){var pt=function(xt,Ct,At){ut(Jt,[Ut[xt],Ut[Ct],Ut[At]],[It[xt],It[Ct],It[At]])};pt(0,1,2),pt(3,0,1),pt(2,3,0),pt(1,2,3)}function gt(Jt,Ut,It,pt){var xt=Jt[3];xt<It&&(xt=It),xt>pt&&(xt=pt);for(var Ct=(Jt[3]-xt)/(Jt[3]-Ut[3]+1e-9),At=[],Ft=0;Ft<4;Ft++)At[Ft]=(1-Ct)*Jt[Ft]+Ct*Ut[Ft];return At}function wt(Jt,Ut,It){return Jt>=Ut&&Jt<=It}function kt(Jt){var Ut=.001*(F-z);return Jt>=z-Ut&&Jt<=F+Ut}function Ot(Jt){for(var Ut=[],It=0;It<4;It++){var pt=Jt[It];Ut.push([o._x[pt],o._y[pt],o._z[pt],o._value[pt]])}return Ut}var bt=3;function _t(Jt,Ut,It,pt,xt,Ct){Ct||(Ct=1),It=[-1,-1,-1];var At=!1,Ft=[wt(Ut[0][3],pt,xt),wt(Ut[1][3],pt,xt),wt(Ut[2][3],pt,xt)];if(!Ft[0]&&!Ft[1]&&!Ft[2])return!1;var Wt=function(he,ve,Je){return kt(ve[0][3])&&kt(ve[1][3])&&kt(ve[2][3])?(ut(he,ve,Je),!0):Ct<bt?_t(he,ve,Je,z,F,++Ct):!1};if(Ft[0]&&Ft[1]&&Ft[2])return Wt(Jt,Ut,It)||At;var Qt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(he){if(Ft[he[0]]&&Ft[he[1]]&&!Ft[he[2]]){var ve=Ut[he[0]],Je=Ut[he[1]],Ue=Ut[he[2]],ke=gt(Ue,ve,pt,xt),Le=gt(Ue,Je,pt,xt);At=Wt(Jt,[Le,ke,ve],[-1,-1,It[he[0]]])||At,At=Wt(Jt,[ve,Je,Le],[It[he[0]],It[he[1]],-1])||At,Qt=!0}}),Qt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(he){if(Ft[he[0]]&&!Ft[he[1]]&&!Ft[he[2]]){var ve=Ut[he[0]],Je=Ut[he[1]],Ue=Ut[he[2]],ke=gt(Je,ve,pt,xt),Le=gt(Ue,ve,pt,xt);At=Wt(Jt,[Le,ke,ve],[-1,-1,It[he[0]]])||At,Qt=!0}}),At}function mt(Jt,Ut,It,pt){var xt=!1,Ct=Ot(Ut),At=[wt(Ct[0][3],It,pt),wt(Ct[1][3],It,pt),wt(Ct[2][3],It,pt),wt(Ct[3][3],It,pt)];if(!At[0]&&!At[1]&&!At[2]&&!At[3])return xt;if(At[0]&&At[1]&&At[2]&&At[3])return c&&(xt=dt(Jt,Ct,Ut)||xt),xt;var Ft=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Wt){if(At[Wt[0]]&&At[Wt[1]]&&At[Wt[2]]&&!At[Wt[3]]){var Qt=Ct[Wt[0]],he=Ct[Wt[1]],ve=Ct[Wt[2]],Je=Ct[Wt[3]];if(c)xt=ut(Jt,[Qt,he,ve],[Ut[Wt[0]],Ut[Wt[1]],Ut[Wt[2]]])||xt;else{var Ue=gt(Je,Qt,It,pt),ke=gt(Je,he,It,pt),Le=gt(Je,ve,It,pt);xt=ut(null,[Ue,ke,Le],[-1,-1,-1])||xt}Ft=!0}}),Ft||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Wt){if(At[Wt[0]]&&At[Wt[1]]&&!At[Wt[2]]&&!At[Wt[3]]){var Qt=Ct[Wt[0]],he=Ct[Wt[1]],ve=Ct[Wt[2]],Je=Ct[Wt[3]],Ue=gt(ve,Qt,It,pt),ke=gt(ve,he,It,pt),Le=gt(Je,he,It,pt),Ge=gt(Je,Qt,It,pt);c?(xt=ut(Jt,[Qt,Ge,Ue],[Ut[Wt[0]],-1,-1])||xt,xt=ut(Jt,[he,ke,Le],[Ut[Wt[1]],-1,-1])||xt):xt=at(null,[Ue,ke,Le,Ge],[-1,-1,-1,-1])||xt,Ft=!0}}),Ft)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Wt){if(At[Wt[0]]&&!At[Wt[1]]&&!At[Wt[2]]&&!At[Wt[3]]){var Qt=Ct[Wt[0]],he=Ct[Wt[1]],ve=Ct[Wt[2]],Je=Ct[Wt[3]],Ue=gt(he,Qt,It,pt),ke=gt(ve,Qt,It,pt),Le=gt(Je,Qt,It,pt);c?(xt=ut(Jt,[Qt,Ue,ke],[Ut[Wt[0]],-1,-1])||xt,xt=ut(Jt,[Qt,ke,Le],[Ut[Wt[0]],-1,-1])||xt,xt=ut(Jt,[Qt,Le,Ue],[Ut[Wt[0]],-1,-1])||xt):xt=ut(null,[Ue,ke,Le],[-1,-1,-1])||xt,Ft=!0}}),xt}function Pt(Jt,Ut,It,pt,xt,Ct,At,Ft,Wt,Qt,he){var ve=!1;return a&&(Q(Jt,"A")&&(ve=mt(null,[Ut,It,pt,Ct],Qt,he)||ve),Q(Jt,"B")&&(ve=mt(null,[It,pt,xt,Wt],Qt,he)||ve),Q(Jt,"C")&&(ve=mt(null,[It,Ct,At,Wt],Qt,he)||ve),Q(Jt,"D")&&(ve=mt(null,[pt,Ct,Ft,Wt],Qt,he)||ve),Q(Jt,"E")&&(ve=mt(null,[It,pt,Ct,Wt],Qt,he)||ve)),c&&(ve=mt(Jt,[It,pt,Ct,Wt],Qt,he)||ve),ve}function Rt(Jt,Ut,It,pt,xt,Ct,At,Ft){return[Ft[0]===!0?!0:_t(Jt,Ot([Ut,It,pt]),[Ut,It,pt],Ct,At),Ft[1]===!0?!0:_t(Jt,Ot([pt,xt,Ut]),[pt,xt,Ut],Ct,At)]}function Ht(Jt,Ut,It,pt,xt,Ct,At,Ft,Wt){return Ft?Rt(Jt,Ut,It,xt,pt,Ct,At,Wt):Rt(Jt,It,xt,pt,Ut,Ct,At,Wt)}function Dt(Jt,Ut,It,pt,xt,Ct,At){var Ft=!1,Wt,Qt,he,ve,Je=function(){Ft=_t(Jt,[Wt,Qt,he],[-1,-1,-1],xt,Ct)||Ft,Ft=_t(Jt,[he,ve,Wt],[-1,-1,-1],xt,Ct)||Ft},Ue=At[0],ke=At[1],Le=At[2];return Ue&&(Wt=it(Ot([R(Ut,It-0,pt-0)])[0],Ot([R(Ut-1,It-0,pt-0)])[0],Ue),Qt=it(Ot([R(Ut,It-0,pt-1)])[0],Ot([R(Ut-1,It-0,pt-1)])[0],Ue),he=it(Ot([R(Ut,It-1,pt-1)])[0],Ot([R(Ut-1,It-1,pt-1)])[0],Ue),ve=it(Ot([R(Ut,It-1,pt-0)])[0],Ot([R(Ut-1,It-1,pt-0)])[0],Ue),Je()),ke&&(Wt=it(Ot([R(Ut-0,It,pt-0)])[0],Ot([R(Ut-0,It-1,pt-0)])[0],ke),Qt=it(Ot([R(Ut-0,It,pt-1)])[0],Ot([R(Ut-0,It-1,pt-1)])[0],ke),he=it(Ot([R(Ut-1,It,pt-1)])[0],Ot([R(Ut-1,It-1,pt-1)])[0],ke),ve=it(Ot([R(Ut-1,It,pt-0)])[0],Ot([R(Ut-1,It-1,pt-0)])[0],ke),Je()),Le&&(Wt=it(Ot([R(Ut-0,It-0,pt)])[0],Ot([R(Ut-0,It-0,pt-1)])[0],Le),Qt=it(Ot([R(Ut-0,It-1,pt)])[0],Ot([R(Ut-0,It-1,pt-1)])[0],Le),he=it(Ot([R(Ut-1,It-1,pt)])[0],Ot([R(Ut-1,It-1,pt-1)])[0],Le),ve=it(Ot([R(Ut-1,It-0,pt)])[0],Ot([R(Ut-1,It-0,pt-1)])[0],Le),Je()),Ft}function Xt(Jt,Ut,It,pt,xt,Ct,At,Ft,Wt,Qt,he,ve){var Je=Jt;return ve?(a&&Jt==="even"&&(Je=null),Pt(Je,Ut,It,pt,xt,Ct,At,Ft,Wt,Qt,he)):(a&&Jt==="odd"&&(Je=null),Pt(Je,Wt,Ft,At,Ct,xt,pt,It,Ut,Qt,he))}function se(Jt,Ut,It,pt,xt){for(var Ct=[],At=0,Ft=0;Ft<Ut.length;Ft++)for(var Wt=Ut[Ft],Qt=1;Qt<L;Qt++)for(var he=1;he<g;he++)Ct.push(Ht(Jt,R(Wt,he-1,Qt-1),R(Wt,he-1,Qt),R(Wt,he,Qt-1),R(Wt,he,Qt),It,pt,(Wt+he+Qt)%2,xt&&xt[At]?xt[At]:[])),At++;return Ct}function Yt(Jt,Ut,It,pt,xt){for(var Ct=[],At=0,Ft=0;Ft<Ut.length;Ft++)for(var Wt=Ut[Ft],Qt=1;Qt<u;Qt++)for(var he=1;he<L;he++)Ct.push(Ht(Jt,R(Qt-1,Wt,he-1),R(Qt,Wt,he-1),R(Qt-1,Wt,he),R(Qt,Wt,he),It,pt,(Qt+Wt+he)%2,xt&&xt[At]?xt[At]:[])),At++;return Ct}function ue(Jt,Ut,It,pt,xt){for(var Ct=[],At=0,Ft=0;Ft<Ut.length;Ft++)for(var Wt=Ut[Ft],Qt=1;Qt<g;Qt++)for(var he=1;he<u;he++)Ct.push(Ht(Jt,R(he-1,Qt-1,Wt),R(he-1,Qt,Wt),R(he,Qt-1,Wt),R(he,Qt,Wt),It,pt,(he+Qt+Wt)%2,xt&&xt[At]?xt[At]:[])),At++;return Ct}function ie(Jt,Ut,It){for(var pt=1;pt<L;pt++)for(var xt=1;xt<g;xt++)for(var Ct=1;Ct<u;Ct++)Xt(Jt,R(Ct-1,xt-1,pt-1),R(Ct-1,xt-1,pt),R(Ct-1,xt,pt-1),R(Ct-1,xt,pt),R(Ct,xt-1,pt-1),R(Ct,xt-1,pt),R(Ct,xt,pt-1),R(Ct,xt,pt),Ut,It,(Ct+xt+pt)%2)}function fe(Jt,Ut,It){c=!0,ie(Jt,Ut,It),c=!1}function ce(Jt,Ut,It){a=!0,ie(Jt,Ut,It),a=!1}function ye(Jt,Ut,It,pt,xt,Ct){for(var At=[],Ft=0,Wt=0;Wt<Ut.length;Wt++)for(var Qt=Ut[Wt],he=1;he<L;he++)for(var ve=1;ve<g;ve++)At.push(Dt(Jt,Qt,ve,he,It,pt,xt[Wt],Ct&&Ct[Ft]?Ct[Ft]:[])),Ft++;return At}function de(Jt,Ut,It,pt,xt,Ct){for(var At=[],Ft=0,Wt=0;Wt<Ut.length;Wt++)for(var Qt=Ut[Wt],he=1;he<u;he++)for(var ve=1;ve<L;ve++)At.push(Dt(Jt,he,Qt,ve,It,pt,xt[Wt],Ct&&Ct[Ft]?Ct[Ft]:[])),Ft++;return At}function Te(Jt,Ut,It,pt,xt,Ct){for(var At=[],Ft=0,Wt=0;Wt<Ut.length;Wt++)for(var Qt=Ut[Wt],he=1;he<g;he++)for(var ve=1;ve<u;ve++)At.push(Dt(Jt,ve,he,Qt,It,pt,xt[Wt],Ct&&Ct[Ft]?Ct[Ft]:[])),Ft++;return At}function Et(Jt,Ut){for(var It=[],pt=Jt;pt<Ut;pt++)It.push(pt);return It}function Vt(){for(var Jt=0;Jt<u;Jt++)for(var Ut=0;Ut<g;Ut++)for(var It=0;It<L;It++){var pt=R(Jt,Ut,It);ot(o._x[pt],o._y[pt],o._z[pt],o._value[pt])}}function te(){lt(),Vt();var Jt=null;if(b&&k&&(tt(k),fe(Jt,z,F)),h&&f){tt(f);for(var Ut=o.surface.pattern,It=o.surface.count,pt=0;pt<It;pt++){var xt=It===1?.5:pt/(It-1),Ct=(1-xt)*z+xt*F,At=Math.abs(Ct-O),Ft=Math.abs(Ct-N),Wt=At>Ft?[O,Ct]:[Ct,N];ce(Ut,Wt[0],Wt[1])}}var Qt=[[Math.min(z,N),Math.max(z,N)],[Math.min(O,F),Math.max(O,F)]];["x","y","z"].forEach(function(he){for(var ve=[],Je=0;Je<Qt.length;Je++){var Ue=0,ke=Qt[Je][0],Le=Qt[Je][1],Ge=o.slices[he];if(Ge.show&&Ge.fill){tt(Ge.fill);var mr=[],xe=[],Xe=[];if(Ge.locations.length)for(var Ye=0;Ye<Ge.locations.length;Ye++){var _r=v(Ge.locations[Ye],he==="x"?_:he==="y"?T:P);_r.distRatio===0?mr.push(_r.id):_r.id>0&&(xe.push(_r.id),he==="x"?Xe.push([_r.distRatio,0,0]):he==="y"?Xe.push([0,_r.distRatio,0]):Xe.push([0,0,_r.distRatio]))}else he==="x"?mr=Et(1,u-1):he==="y"?mr=Et(1,g-1):mr=Et(1,L-1);xe.length>0&&(he==="x"?ve[Ue]=ye(Jt,xe,ke,Le,Xe,ve[Ue]):he==="y"?ve[Ue]=de(Jt,xe,ke,Le,Xe,ve[Ue]):ve[Ue]=Te(Jt,xe,ke,Le,Xe,ve[Ue]),Ue++),mr.length>0&&(he==="x"?ve[Ue]=se(Jt,mr,ke,Le,ve[Ue]):he==="y"?ve[Ue]=Yt(Jt,mr,ke,Le,ve[Ue]):ve[Ue]=ue(Jt,mr,ke,Le,ve[Ue]),Ue++)}var rr=o.caps[he];rr.show&&rr.fill&&(tt(rr.fill),he==="x"?ve[Ue]=se(Jt,[0,u-1],ke,Le,ve[Ue]):he==="y"?ve[Ue]=Yt(Jt,[0,g-1],ke,Le,ve[Ue]):ve[Ue]=ue(Jt,[0,L-1],ke,Le,ve[Ue]),Ue++)}}),p===0&&lt(),o._meshX=I,o._meshY=j,o._meshZ=V,o._meshIntensity=W,o._Xs=_,o._Ys=T,o._Zs=P}return te(),o}function l(o,h){var b=o.glplot.gl,f=x({gl:b}),k=new r(o,f,h.uid);return f._trace=k,k.update(h),o.glplot.add(f),k}X.exports={findNearestOnAxis:v,generateIsoMeshes:n,createIsosurfaceTrace:l}},70548:function(X,B,t){var x=t(3400),E=t(24040),i=t(50048),M=t(27260);function m(v,r,e,s){function n(l,o){return x.coerce(v,r,i,l,o)}d(v,r,e,s,n)}function d(v,r,e,s,n){var l=n("isomin"),o=n("isomax");o!=null&&l!==void 0&&l!==null&&l>o&&(r.isomin=null,r.isomax=null);var h=n("x"),b=n("y"),f=n("z"),k=n("value");if(!h||!h.length||!b||!b.length||!f||!f.length||!k||!k.length){r.visible=!1;return}var a=E.getComponentMethod("calendars","handleTraceDefaults");a(v,r,["x","y","z"],s),n("valuehoverformat"),["x","y","z"].forEach(function(S){n(S+"hoverformat");var _="caps."+S,T=n(_+".show");T&&n(_+".fill");var P="slices."+S,u=n(P+".show");u&&(n(P+".fill"),n(P+".locations"))});var c=n("spaceframe.show");c&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var w=n("contour.show");w&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(S){n(S)}),M(v,r,s,n,{prefix:"",cLetter:"c"}),r._length=null}X.exports={supplyDefaults:m,supplyIsoDefaults:d}},6296:function(X,B,t){X.exports={attributes:t(50048),supplyDefaults:t(70548).supplyDefaults,calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(X,B,t){var x=t(49084),E=t(29736).axisHoverFormat,i=t(21776).Ks,M=t(16716),m=t(45464),d=t(92880).extendFlat;X.exports=d({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},x("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:M.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:d({},M.contours.x.show,{}),color:M.contours.x.color,width:M.contours.x.width,editType:"calc"},lightposition:{x:d({},M.lightposition.x,{dflt:1e5}),y:d({},M.lightposition.y,{dflt:1e5}),z:d({},M.lightposition.z,{dflt:0}),editType:"calc"},lighting:d({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},M.lighting),hoverinfo:d({},m.hoverinfo,{editType:"calc"}),showlegend:d({},m.showlegend,{dflt:!1})})},1876:function(X,B,t){var x=t(47128);X.exports=function(E,i){i.intensity&&x(E,i,{vals:i.intensity,containerStr:"",cLetter:"c"})}},576:function(X,B,t){var x=t(67792).gl_mesh3d,E=t(67792).delaunay_triangulate,i=t(67792).alpha_shape,M=t(67792).convex_hull,m=t(33040).parseColorScale,d=t(3400).isArrayOrTypedArray,v=t(43080),r=t(8932).extractOpts,e=t(52094);function s(a,c,p){this.scene=a,this.uid=p,this.mesh=c,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=s.prototype;n.handlePick=function(a){if(a.object===this.mesh){var c=a.index=a.data.index;a.data._cellCenter?a.traceCoordinate=a.data.dataCoordinate:a.traceCoordinate=[this.data.x[c],this.data.y[c],this.data.z[c]];var p=this.data.hovertext||this.data.text;return d(p)&&p[c]!==void 0?a.textLabel=p[c]:p&&(a.textLabel=p),!0}};function l(a){for(var c=[],p=a.length,w=0;w<p;w++)c[w]=v(a[w]);return c}function o(a,c,p,w){for(var S=[],_=c.length,T=0;T<_;T++)S[T]=a.d2l(c[T],0,w)*p;return S}function h(a){for(var c=[],p=a.length,w=0;w<p;w++)c[w]=Math.round(a[w]);return c}function b(a,c){for(var p=["x","y","z"].indexOf(a),w=[],S=c.length,_=0;_<S;_++)w[_]=[c[_][(p+1)%3],c[_][(p+2)%3]];return E(w)}function f(a,c){for(var p=a.length,w=0;w<p;w++)if(a[w]<=-.5||a[w]>=c-.5)return!1;return!0}n.update=function(a){var c=this.scene,p=c.fullSceneLayout;this.data=a;var w=a.x.length,S=e(o(p.xaxis,a.x,c.dataScale[0],a.xcalendar),o(p.yaxis,a.y,c.dataScale[1],a.ycalendar),o(p.zaxis,a.z,c.dataScale[2],a.zcalendar)),_;if(a.i&&a.j&&a.k){if(a.i.length!==a.j.length||a.j.length!==a.k.length||!f(a.i,w)||!f(a.j,w)||!f(a.k,w))return;_=e(h(a.i),h(a.j),h(a.k))}else a.alphahull===0?_=M(S):a.alphahull>0?_=i(a.alphahull,S):_=b(a.delaunayaxis,S);var T={positions:S,cells:_,lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,contourEnable:a.contour.show,contourColor:v(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading};if(a.intensity){var P=r(a);this.color="#fff";var u=a.intensitymode;T[u+"Intensity"]=a.intensity,T[u+"IntensityBounds"]=[P.min,P.max],T.colormap=m(a)}else a.vertexcolor?(this.color=a.vertexcolor[0],T.vertexColors=l(a.vertexcolor)):a.facecolor?(this.color=a.facecolor[0],T.cellColors=l(a.facecolor)):(this.color=a.color,T.meshColor=v(a.color));this.mesh.update(T)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function k(a,c){var p=a.glplot.gl,w=x({gl:p}),S=new s(a,w,c.uid);return w._trace=S,S.update(c),a.glplot.add(w),S}X.exports=k},74212:function(X,B,t){var x=t(24040),E=t(3400),i=t(27260),M=t(52948);X.exports=function(m,d,v,r){function e(h,b){return E.coerce(m,d,M,h,b)}function s(h){var b=h.map(function(f){var k=e(f);return k&&E.isArrayOrTypedArray(k)?k:null});return b.every(function(f){return f&&f.length===b[0].length})&&b}var n=s(["x","y","z"]);if(!n){d.visible=!1;return}if(s(["i","j","k"]),d.i&&(!d.j||!d.k)||d.j&&(!d.k||!d.i)||d.k&&(!d.i||!d.j)){d.visible=!1;return}var l=x.getComponentMethod("calendars","handleTraceDefaults");l(m,d,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(h){e(h)});var o=e("contour.show");o&&(e("contour.color"),e("contour.width")),"intensity"in m?(e("intensity"),e("intensitymode"),i(m,d,r,e,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in m?e("facecolor"):"vertexcolor"in m?e("vertexcolor"):e("color",v)),e("text"),e("hovertext"),e("hovertemplate"),e("xhoverformat"),e("yhoverformat"),e("zhoverformat"),d._length=null}},7404:function(X,B,t){X.exports={attributes:t(52948),supplyDefaults:t(74212),calc:t(1876),colorbar:{min:"cmin",max:"cmax"},plot:t(576),moduleType:"trace",name:"mesh3d",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(X,B,t){var x=t(3400).extendFlat,E=t(52904),i=t(29736).axisHoverFormat,M=t(98192).u,m=t(55756),d=t(48164),v=d.INCREASING.COLOR,r=d.DECREASING.COLOR,e=E.line;function s(n){return{line:{color:x({},e.color,{dflt:n}),width:e.width,dash:M,editType:"style"},editType:"style"}}X.exports={xperiod:E.xperiod,xperiod0:E.xperiod0,xperiodalignment:E.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:x({},e.width,{}),dash:x({},M,{}),editType:"style"},increasing:s(v),decreasing:s(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:x({},m.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(X,B,t){var x=t(3400),E=x._,i=t(54460),M=t(1220),m=t(39032).BADNUM;function d(s,n){var l=i.getFromId(s,n.xaxis),o=i.getFromId(s,n.yaxis),h=e(s,l,n),b=n._minDiff;n._minDiff=null;var f=n._origX;n._origX=null;var k=n._xcalc;n._xcalc=null;var a=r(s,n,f,k,o,v);return n._extremes[l._id]=i.findExtremes(l,k,{vpad:b/2}),a.length?(x.extendFlat(a[0].t,{wHover:b/2,tickLen:h}),a):[{t:{empty:!0}}]}function v(s,n,l,o){return{o:s,h:n,l,c:o}}function r(s,n,l,o,h,b){for(var f=h.makeCalcdata(n,"open"),k=h.makeCalcdata(n,"high"),a=h.makeCalcdata(n,"low"),c=h.makeCalcdata(n,"close"),p=x.isArrayOrTypedArray(n.text),w=x.isArrayOrTypedArray(n.hovertext),S=!0,_=null,T=!!n.xperiodalignment,P=[],u=0;u<o.length;u++){var g=o[u],L=f[u],A=k[u],R=a[u],O=c[u];if(g!==m&&L!==m&&A!==m&&R!==m&&O!==m){O===L?_!==null&&O!==_&&(S=O>_):S=O>L,_=O;var N=b(L,A,R,O);N.pos=g,N.yc=(L+O)/2,N.i=u,N.dir=S?"increasing":"decreasing",N.x=N.pos,N.y=[R,A],T&&(N.orig_p=l[u]),p&&(N.tx=n.text[u]),w&&(N.htx=n.hovertext[u]),P.push(N)}else P.push({pos:g,empty:!0})}return n._extremes[h._id]=i.findExtremes(h,x.concat(a,k),{padded:!0}),P.length&&(P[0].t={labels:{open:E(s,"open:")+" ",high:E(s,"high:")+" ",low:E(s,"low:")+" ",close:E(s,"close:")+" "}}),P}function e(s,n,l){var o=l._minDiff;if(!o){var h=s._fullData,b=[];o=1/0;var f;for(f=0;f<h.length;f++){var k=h[f];if(k.type==="ohlc"&&k.visible===!0&&k.xaxis===n._id){b.push(k);var a=n.makeCalcdata(k,"x");k._origX=a;var c=M(l,n,"x",a).vals;k._xcalc=c;var p=x.distinctVals(c).minDiff;p&&isFinite(p)&&(o=Math.min(o,p))}}for(o===1/0&&(o=1),f=0;f<b.length;f++)b[f]._minDiff=o}return o*l.tickwidth}X.exports={calc:d,calcCommon:r}},23860:function(X,B,t){var x=t(3400),E=t(52744),i=t(31147),M=t(20279);X.exports=function(d,v,r,e){function s(l,o){return x.coerce(d,v,M,l,o)}var n=E(d,v,s,e);if(!n){v.visible=!1;return}i(d,v,e,s,{x:!0}),s("xhoverformat"),s("yhoverformat"),s("line.width"),s("line.dash"),m(d,v,s,"increasing"),m(d,v,s,"decreasing"),s("text"),s("hovertext"),s("tickwidth"),e._requestRangeslider[v.xaxis]=!0};function m(d,v,r,e){r(e+".line.color"),r(e+".line.width",v.line.width),r(e+".line.dash",v.line.dash)}},18720:function(X,B,t){var x=t(54460),E=t(3400),i=t(93024),M=t(76308),m=t(3400).fillText,d=t(48164),v={increasing:d.INCREASING.SYMBOL,decreasing:d.DECREASING.SYMBOL};function r(l,o,h,b){var f=l.cd,k=f[0].trace;return k.hoverlabel.split?s(l,o,h,b):n(l,o,h,b)}function e(l,o,h,b){var f=l.cd,k=l.xa,a=f[0].trace,c=f[0].t,p=a.type,w=p==="ohlc"?"l":"min",S=p==="ohlc"?"h":"max",_,T,P=c.bPos||0,u=function(W){return W.pos+P-o},g=c.bdPos||c.tickLen,L=c.wHover,A=Math.min(1,g/Math.abs(k.r2c(k.range[1])-k.r2c(k.range[0])));_=l.maxHoverDistance-A,T=l.maxSpikeDistance-A;function R(W){var K=u(W);return i.inbox(K-L,K+L,_)}function O(W){var K=W[w],et=W[S];return K===et||i.inbox(K-h,et-h,_)}function N(W){return(R(W)+O(W))/2}var z=i.getDistanceFunction(b,R,O,N);if(i.getClosest(f,z,l),l.index===!1)return null;var F=f[l.index];if(F.empty)return null;var I=F.dir,j=a[I],V=j.line.color;return M.opacity(V)&&j.line.width?l.color=V:l.color=j.fillcolor,l.x0=k.c2p(F.pos+P-g,!0),l.x1=k.c2p(F.pos+P+g,!0),l.xLabelVal=F.orig_p!==void 0?F.orig_p:F.pos,l.spikeDistance=N(F)*T/_,l.xSpike=k.c2p(F.pos,!0),l}function s(l,o,h,b){var f=l.cd,k=l.ya,a=f[0].trace,c=f[0].t,p=[],w=e(l,o,h,b);if(!w)return[];var S=w.index,_=f[S],T=_.hi||a.hoverinfo,P=T.split("+"),u=T==="all",g=u||P.indexOf("y")!==-1;if(!g)return[];for(var L=["high","open","close","low"],A={},R=0;R<L.length;R++){var O=L[R],N=a[O][w.index],z=k.c2p(N,!0),F;N in A?(F=A[N],F.yLabel+="<br>"+c.labels[O]+x.hoverLabelText(k,N,a.yhoverformat)):(F=E.extendFlat({},w),F.y0=F.y1=z,F.yLabelVal=N,F.yLabel=c.labels[O]+x.hoverLabelText(k,N,a.yhoverformat),F.name="",p.push(F),A[N]=F)}return p}function n(l,o,h,b){var f=l.cd,k=l.ya,a=f[0].trace,c=f[0].t,p=e(l,o,h,b);if(!p)return[];var w=p.index,S=f[w],_=p.index=S.i,T=S.dir;function P(N){return c.labels[N]+x.hoverLabelText(k,a[N][_],a.yhoverformat)}var u=S.hi||a.hoverinfo,g=u.split("+"),L=u==="all",A=L||g.indexOf("y")!==-1,R=L||g.indexOf("text")!==-1,O=A?[P("open"),P("high"),P("low"),P("close")+"  "+v[T]]:[];return R&&m(S,a,O),p.extraText=O.join("<br>"),p.y0=p.y1=k.c2p(S.yc,!0),[p]}X.exports={hoverPoints:r,hoverSplit:s,hoverOnPoints:n}},65456:function(X,B,t){X.exports={moduleType:"trace",name:"ohlc",basePlotModule:t(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:t(20279),supplyDefaults:t(23860),calc:t(42812).calc,plot:t(36664),style:t(14008),hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},52744:function(X,B,t){var x=t(24040),E=t(3400);X.exports=function(i,M,m,d){var v=m("x"),r=m("open"),e=m("high"),s=m("low"),n=m("close");m("hoverlabel.split");var l=x.getComponentMethod("calendars","handleTraceDefaults");if(l(i,M,["x"],d),!!(r&&e&&s&&n)){var o=Math.min(r.length,e.length,s.length,n.length);return v&&(o=Math.min(o,E.minRowLength(v))),M._length=o,o}}},36664:function(X,B,t){var x=t(33428),E=t(3400);X.exports=function(i,M,m,d){var v=M.yaxis,r=M.xaxis,e=!!r.rangebreaks;E.makeTraceGroups(d,m,"trace ohlc").each(function(s){var n=x.select(this),l=s[0],o=l.t,h=l.trace;if(h.visible!==!0||o.empty){n.remove();return}var b=o.tickLen,f=n.selectAll("path").data(E.identity);f.enter().append("path"),f.exit().remove(),f.attr("d",function(k){if(k.empty)return"M0,0Z";var a=r.c2p(k.pos-b,!0),c=r.c2p(k.pos+b,!0),p=e?(a+c)/2:r.c2p(k.pos,!0),w=v.c2p(k.o,!0),S=v.c2p(k.h,!0),_=v.c2p(k.l,!0),T=v.c2p(k.c,!0);return"M"+a+","+w+"H"+p+"M"+p+","+S+"V"+_+"M"+c+","+T+"H"+p})})}},97384:function(X){X.exports=function(B,t){var x=B.cd,E=B.xaxis,i=B.yaxis,M=[],m,d=x[0].t.bPos||0;if(t===!1)for(m=0;m<x.length;m++)x[m].selected=0;else for(m=0;m<x.length;m++){var v=x[m];t.contains([E.c2p(v.pos+d),i.c2p(v.yc)],null,v.i,B)?(M.push({pointNumber:v.i,x:E.c2d(v.pos),y:i.c2d(v.yc)}),v.selected=1):v.selected=0}return M}},14008:function(X,B,t){var x=t(33428),E=t(43616),i=t(76308);X.exports=function(M,m,d){var v=d||x.select(M).selectAll("g.ohlclayer").selectAll("g.trace");v.style("opacity",function(r){return r[0].trace.opacity}),v.each(function(r){var e=r[0].trace;x.select(this).selectAll("path").each(function(s){if(!s.empty){var n=e[s.dir].line;x.select(this).style("fill","none").call(i.stroke,n.color).call(E.dashLine,n.dash,n.width).style("opacity",e.selectedpoints&&!s.selected?.3:1)}})})}},72140:function(X,B,t){var x=t(92880).extendFlat,E=t(45464),i=t(25376),M=t(49084),m=t(21776).Ks,d=t(86968).u,v=x({editType:"calc"},M("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:m({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});X.exports={domain:d({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:x({},E.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:m({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:v,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(X,B,t){var x=t(84888)._M,E=t(60268),i="parcats";B.name=i,B.plot=function(M,m,d,v){var r=x(M.calcdata,i);if(r.length){var e=r[0];E(M,e,d,v)}},B.clean=function(M,m,d,v){var r=v._has&&v._has("parcats"),e=m._has&&m._has("parcats");r&&!e&&v._paperdiv.selectAll(".parcats").remove()}},69136:function(X,B,t){var x=t(71688).wrap,E=t(94288).hasColorscale,i=t(47128),M=t(68944),m=t(43616),d=t(3400),v=t(38248);X.exports=function(a,c){var p=d.filterVisible(c.dimensions);if(p.length===0)return[];var w=p.map(function(ot){var q;if(ot.categoryorder==="trace")q=null;else if(ot.categoryorder==="array")q=ot.categoryarray;else{q=M(ot.values);for(var J=!0,it=0;it<q.length;it++)if(!v(q[it])){J=!1;break}q.sort(J?d.sorterAsc:void 0),ot.categoryorder==="category descending"&&(q=q.reverse())}return h(ot.values,q)}),S,_,T;d.isArrayOrTypedArray(c.counts)?S=c.counts:S=[c.counts],b(p),p.forEach(function(ot,q){f(ot,w[q])});var P=c.line,u;P?(E(c,"line")&&i(a,c,{vals:c.line.color,containerStr:"line",cLetter:"c"}),u=m.tryColorscale(P)):u=d.identity;function g(ot){var q,J;return d.isArrayOrTypedArray(P.color)?(q=P.color[ot%P.color.length],J=q):q=P.color,{color:u(q),rawColor:J}}var L=p[0].values.length,A={},R=w.map(function(ot){return ot.inds});T=0;var O,N;for(O=0;O<L;O++){var z=[];for(N=0;N<R.length;N++)z.push(R[N][O]);_=S[O%S.length],T+=_;var F=g(O),I=z+"-"+F.rawColor;A[I]===void 0&&(A[I]=l(z,F.color,F.rawColor)),o(A[I],O,_)}var j=p.map(function(ot,q){return e(q,ot._index,ot._displayindex,ot.label,T)});for(O=0;O<L;O++)for(_=S[O%S.length],N=0;N<j.length;N++){var V=j[N].containerInd,W=w[N].inds[O],K=j[N].categories;if(K[W]===void 0){var et=c.dimensions[V]._categoryarray[W],lt=c.dimensions[V]._ticktext[W];K[W]=s(N,W,et,lt)}n(K[W],O,_)}return x(r(j,A,T))};function r(a,c,p){var w=a.map(function(S){return S.categories.length}).reduce(function(S,_){return Math.max(S,_)});return{dimensions:a,paths:c,trace:void 0,maxCats:w,count:p}}function e(a,c,p,w,S){return{dimensionInd:a,containerInd:c,displayInd:p,dimensionLabel:w,count:S,categories:[],dragX:null}}function s(a,c,p,w){return{dimensionInd:a,categoryInd:c,categoryValue:p,displayInd:c,categoryLabel:w,valueInds:[],count:0,dragY:null}}function n(a,c,p){a.valueInds.push(c),a.count+=p}function l(a,c,p){return{categoryInds:a,color:c,rawColor:p,valueInds:[],count:0}}function o(a,c,p){a.valueInds.push(c),a.count+=p}function h(a,c){c==null?c=[]:c=c.map(function(g){return g});var p={},w={},S=[];c.forEach(function(g,L){p[g]=0,w[g]=L});for(var _=0;_<a.length;_++){var T=a[_],P;p[T]===void 0?(p[T]=1,P=c.push(T)-1,w[T]=P):(p[T]++,P=w[T]),S.push(P)}var u=c.map(function(g){return p[g]});return{uniqueValues:c,uniqueCounts:u,inds:S}}function b(a){var c=a.map(function(w){return w.displayindex}),p;if(k(c))for(p=0;p<a.length;p++)a[p]._displayindex=a[p].displayindex;else for(p=0;p<a.length;p++)a[p]._displayindex=p}function f(a,c){a._categoryarray=c.uniqueValues,a.ticktext===null||a.ticktext===void 0?a._ticktext=[]:a._ticktext=a.ticktext.slice();for(var p=a._ticktext.length;p<c.uniqueValues.length;p++)a._ticktext.push(c.uniqueValues[p])}function k(a){for(var c=new Array(a.length),p=0;p<a.length;p++){if(a[p]<0||a[p]>=a.length||c[a[p]]!==void 0)return!1;c[a[p]]=!0}return!0}},76671:function(X,B,t){var x=t(3400),E=t(94288).hasColorscale,i=t(27260),M=t(86968).Q,m=t(51272),d=t(72140),v=t(26284),r=t(38116).isTypedArraySpec;function e(n,l,o,h,b){b("line.shape"),b("line.hovertemplate");var f=b("line.color",h.colorway[0]);if(E(n,"line")&&x.isArrayOrTypedArray(f)){if(f.length)return b("line.colorscale"),i(n,l,h,b,{prefix:"line.",cLetter:"c"}),f.length;l.line.color=o}return 1/0}function s(n,l){function o(p,w){return x.coerce(n,l,d.dimensions,p,w)}var h=o("values"),b=o("visible");if(h&&h.length||(b=l.visible=!1),b){o("label"),o("displayindex",l._index);var f=n.categoryarray,k=x.isArrayOrTypedArray(f)&&f.length>0||r(f),a;k&&(a="array");var c=o("categoryorder",a);c==="array"?(o("categoryarray"),o("ticktext")):(delete n.categoryarray,delete n.ticktext),!k&&c==="array"&&(l.categoryorder="trace")}}X.exports=function(n,l,o,h){function b(p,w){return x.coerce(n,l,d,p,w)}var f=m(n,l,{name:"dimensions",handleItemDefaults:s}),k=e(n,l,o,h,b);M(l,h,b),(!Array.isArray(f)||!f.length)&&(l.visible=!1),v(l,f,"values",k),b("hoveron"),b("hovertemplate"),b("arrangement"),b("bundlecolors"),b("sortpaths"),b("counts");var a={family:h.font.family,size:Math.round(h.font.size),color:h.font.color};x.coerceFont(b,"labelfont",a);var c={family:h.font.family,size:Math.round(h.font.size/1.2),color:h.font.color};x.coerceFont(b,"tickfont",c)}},22020:function(X,B,t){X.exports={attributes:t(72140),supplyDefaults:t(76671),calc:t(69136),plot:t(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:t(91800),categories:["noOpacity"],meta:{}}},51036:function(X,B,t){var x=t(33428),E=t(67756).Gz,i=t(36424),M=t(93024),m=t(3400),d=m.strTranslate,v=t(43616),r=t(49760),e=t(72736);function s(Z,tt,st,Q){var G=tt._context.staticPlot,ut=Z.map(lt.bind(0,tt,st)),at=Q.selectAll("g.parcatslayer").data([null]);at.enter().append("g").attr("class","parcatslayer").style("pointer-events",G?"none":"all");var dt=at.selectAll("g.trace.parcats").data(ut,n),gt=dt.enter().append("g").attr("class","trace parcats");dt.attr("transform",function(Xt){return d(Xt.x,Xt.y)}),gt.append("g").attr("class","paths");var wt=dt.select("g.paths"),kt=wt.selectAll("path.path").data(function(Xt){return Xt.paths},n);kt.attr("fill",function(Xt){return Xt.model.color});var Ot=kt.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Xt){return Xt.model.color}).attr("fill-opacity",0);c(Ot),kt.attr("d",function(Xt){return Xt.svgD}),Ot.empty()||kt.sort(o),kt.exit().remove(),kt.on("mouseover",h).on("mouseout",b).on("click",a),gt.append("g").attr("class","dimensions");var bt=dt.select("g.dimensions"),_t=bt.selectAll("g.dimension").data(function(Xt){return Xt.dimensions},n);_t.enter().append("g").attr("class","dimension"),_t.attr("transform",function(Xt){return d(Xt.x,0)}),_t.exit().remove();var mt=_t.selectAll("g.category").data(function(Xt){return Xt.categories},n),Pt=mt.enter().append("g").attr("class","category");mt.attr("transform",function(Xt){return d(0,Xt.y)}),Pt.append("rect").attr("class","catrect").attr("pointer-events","none"),mt.select("rect.catrect").attr("fill","none").attr("width",function(Xt){return Xt.width}).attr("height",function(Xt){return Xt.height}),S(Pt);var Rt=mt.selectAll("rect.bandrect").data(function(Xt){return Xt.bands},n);Rt.each(function(){m.raiseToTop(this)}),Rt.attr("fill",function(Xt){return Xt.color});var Ht=Rt.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Xt){return Xt.color}).attr("fill-opacity",0);Rt.attr("fill",function(Xt){return Xt.color}).attr("width",function(Xt){return Xt.width}).attr("height",function(Xt){return Xt.height}).attr("y",function(Xt){return Xt.y}).attr("cursor",function(Xt){return Xt.parcatsViewModel.arrangement==="fixed"?"default":Xt.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),T(Ht),Rt.exit().remove(),Pt.append("text").attr("class","catlabel").attr("pointer-events","none");var Dt=tt._fullLayout.paper_bgcolor;mt.select("text.catlabel").attr("text-anchor",function(Xt){return l(Xt)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",e.makeTextShadow(Dt)).style("fill","rgb(0, 0, 0)").attr("x",function(Xt){return l(Xt)?Xt.width+5:-5}).attr("y",function(Xt){return Xt.height/2}).text(function(Xt){return Xt.model.categoryLabel}).each(function(Xt){v.font(x.select(this),Xt.parcatsViewModel.categorylabelfont),e.convertToTspans(x.select(this),tt)}),Pt.append("text").attr("class","dimlabel"),mt.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Xt){return Xt.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Xt){return Xt.width/2}).attr("y",-5).text(function(Xt,se){return se===0?Xt.parcatsViewModel.model.dimensions[Xt.model.dimensionInd].dimensionLabel:null}).each(function(Xt){v.font(x.select(this),Xt.parcatsViewModel.labelfont)}),mt.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",F),mt.exit().remove(),_t.call(x.behavior.drag().origin(function(Xt){return{x:Xt.x,y:0}}).on("dragstart",I).on("drag",j).on("dragend",V)),dt.each(function(Xt){Xt.traceSelection=x.select(this),Xt.pathSelection=x.select(this).selectAll("g.paths").selectAll("path.path"),Xt.dimensionSelection=x.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),dt.exit().remove()}X.exports=function(Z,tt,st,Q){s(st,Z,Q,tt)};function n(Z){return Z.key}function l(Z){var tt=Z.parcatsViewModel.dimensions.length,st=Z.parcatsViewModel.dimensions[tt-1].model.dimensionInd;return Z.model.dimensionInd===st}function o(Z,tt){return Z.model.rawColor>tt.model.rawColor?1:Z.model.rawColor<tt.model.rawColor?-1:0}function h(Z){if(!Z.parcatsViewModel.dragDimension&&Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){m.raiseToTop(this),p(x.select(this));var tt=f(Z),st=k(Z);if(Z.parcatsViewModel.graphDiv.emit("plotly_hover",{points:tt,event:x.event,constraints:st}),Z.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q=x.mouse(this)[0],G=Z.parcatsViewModel.graphDiv,ut=Z.parcatsViewModel.trace,at=G._fullLayout,dt=at._paperdiv.node().getBoundingClientRect(),gt=Z.parcatsViewModel.graphDiv.getBoundingClientRect(),wt,kt,Ot;for(Ot=0;Ot<Z.leftXs.length-1;Ot++)if(Z.leftXs[Ot]+Z.dimWidths[Ot]-2<=Q&&Q<=Z.leftXs[Ot+1]+2){var bt=Z.parcatsViewModel.dimensions[Ot],_t=Z.parcatsViewModel.dimensions[Ot+1];wt=(bt.x+bt.width+_t.x)/2,kt=(Z.topYs[Ot]+Z.topYs[Ot+1]+Z.height)/2;break}var mt=Z.parcatsViewModel.x+wt,Pt=Z.parcatsViewModel.y+kt,Rt=r.mostReadable(Z.model.color,["black","white"]),Ht=Z.model.count,Dt=Ht/Z.parcatsViewModel.model.count,Xt={countLabel:Ht,probabilityLabel:Dt.toFixed(3)},se=[];Z.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&se.push(["Count:",Xt.countLabel].join(" ")),Z.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&se.push(["P:",Xt.probabilityLabel].join(" "));var Yt=se.join("<br>"),ue=x.mouse(G)[0];M.loneHover({trace:ut,x:mt-dt.left+gt.left,y:Pt-dt.top+gt.top,text:Yt,color:Z.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Rt,idealAlign:ue<mt?"right":"left",hovertemplate:(ut.line||{}).hovertemplate,hovertemplateLabels:Xt,eventData:[{data:ut._input,fullData:ut,count:Ht,probability:Dt}]},{container:at._hoverlayer.node(),outerContainer:at._paper.node(),gd:G})}}}function b(Z){if(!Z.parcatsViewModel.dragDimension&&(c(x.select(this)),M.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Z.parcatsViewModel.pathSelection.sort(o),Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var tt=f(Z),st=k(Z);Z.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:tt,event:x.event,constraints:st})}}function f(Z){for(var tt=[],st=W(Z.parcatsViewModel),Q=0;Q<Z.model.valueInds.length;Q++){var G=Z.model.valueInds[Q];tt.push({curveNumber:st,pointNumber:G})}return tt}function k(Z){for(var tt={},st=Z.parcatsViewModel.model.dimensions,Q=0;Q<st.length;Q++){var G=st[Q],ut=G.categories[Z.model.categoryInds[Q]];tt[G.containerInd]=ut.categoryValue}return Z.model.rawColor!==void 0&&(tt.color=Z.model.rawColor),tt}function a(Z){if(Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var tt=f(Z),st=k(Z);Z.parcatsViewModel.graphDiv.emit("plotly_click",{points:tt,event:x.event,constraints:st})}}function c(Z){Z.attr("fill",function(tt){return tt.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(Z){Z.attr("fill-opacity",.8).attr("stroke",function(tt){return r.mostReadable(tt.model.color,["black","white"])}).attr("stroke-width",.3)}function w(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function S(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function _(Z){Z.attr("stroke","black").attr("stroke-width",1.5)}function T(Z){Z.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function P(Z){var tt=Z.parcatsViewModel.pathSelection,st=Z.categoryViewModel.model.dimensionInd,Q=Z.categoryViewModel.model.categoryInd;return tt.filter(function(G){return G.model.categoryInds[st]===Q&&G.model.color===Z.color})}function u(Z){var tt=x.select(Z.parentNode).selectAll("rect.bandrect");tt.each(function(st){var Q=P(st);p(Q),Q.each(function(){m.raiseToTop(this)})}),w(x.select(Z.parentNode))}function g(Z){var tt=x.select(Z).datum(),st=P(tt);p(st),st.each(function(){m.raiseToTop(this)}),x.select(Z.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===tt.color}).each(function(){m.raiseToTop(this),_(x.select(this))})}function L(Z,tt,st){var Q=x.select(Z).datum(),G=Q.categoryViewModel.model,ut=Q.parcatsViewModel.graphDiv,at=x.select(Z.parentNode).selectAll("rect.bandrect"),dt=[];at.each(function(wt){var kt=P(wt);kt.each(function(Ot){Array.prototype.push.apply(dt,f(Ot))})});var gt={};gt[G.dimensionInd]=G.categoryValue,ut.emit(tt,{points:dt,event:st,constraints:gt})}function A(Z,tt,st){var Q=x.select(Z).datum(),G=Q.categoryViewModel.model,ut=Q.parcatsViewModel.graphDiv,at=P(Q),dt=[];at.each(function(wt){Array.prototype.push.apply(dt,f(wt))});var gt={};gt[G.dimensionInd]=G.categoryValue,Q.rawColor!==void 0&&(gt.color=Q.rawColor),ut.emit(tt,{points:dt,event:st,constraints:gt})}function R(Z,tt,st){Z._fullLayout._calcInverseTransform(Z);var Q=Z._fullLayout._invScaleX,G=Z._fullLayout._invScaleY,ut=x.select(st.parentNode).select("rect.catrect"),at=ut.node().getBoundingClientRect(),dt=ut.datum(),gt=dt.parcatsViewModel,wt=gt.model.dimensions[dt.model.dimensionInd],kt=gt.trace,Ot=at.top+at.height/2,bt,_t;gt.dimensions.length>1&&wt.displayInd===gt.dimensions.length-1?(bt=at.left,_t="left"):(bt=at.left+at.width,_t="right");var mt=dt.model.count,Pt=dt.model.categoryLabel,Rt=mt/dt.parcatsViewModel.model.count,Ht={countLabel:mt,categoryLabel:Pt,probabilityLabel:Rt.toFixed(3)},Dt=[];dt.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Dt.push(["Count:",Ht.countLabel].join(" ")),dt.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Dt.push(["P("+Ht.categoryLabel+"):",Ht.probabilityLabel].join(" "));var Xt=Dt.join("<br>");return{trace:kt,x:Q*(bt-tt.left),y:G*(Ot-tt.top),text:Xt,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:_t,hovertemplate:kt.hovertemplate,hovertemplateLabels:Ht,eventData:[{data:kt._input,fullData:kt,count:mt,category:Pt,probability:Rt}]}}function O(Z,tt,st){var Q=[];return x.select(st.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var G=this;Q.push(R(Z,tt,G))}),Q}function N(Z,tt,st){Z._fullLayout._calcInverseTransform(Z);var Q=Z._fullLayout._invScaleX,G=Z._fullLayout._invScaleY,ut=st.getBoundingClientRect(),at=x.select(st).datum(),dt=at.categoryViewModel,gt=dt.parcatsViewModel,wt=gt.model.dimensions[dt.model.dimensionInd],kt=gt.trace,Ot=ut.y+ut.height/2,bt,_t;gt.dimensions.length>1&&wt.displayInd===gt.dimensions.length-1?(bt=ut.left,_t="left"):(bt=ut.left+ut.width,_t="right");var mt=dt.model.categoryLabel,Pt=at.parcatsViewModel.model.count,Rt=0;at.categoryViewModel.bands.forEach(function(ye){ye.color===at.color&&(Rt+=ye.count)});var Ht=dt.model.count,Dt=0;gt.pathSelection.each(function(ye){ye.model.color===at.color&&(Dt+=ye.model.count)});var Xt=Rt/Pt,se=Rt/Dt,Yt=Rt/Ht,ue={countLabel:Pt,categoryLabel:mt,probabilityLabel:Xt.toFixed(3)},ie=[];dt.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ie.push(["Count:",ue.countLabel].join(" ")),dt.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(ie.push("P(color ∩ "+mt+"): "+ue.probabilityLabel),ie.push("P("+mt+" | color): "+se.toFixed(3)),ie.push("P(color | "+mt+"): "+Yt.toFixed(3)));var fe=ie.join("<br>"),ce=r.mostReadable(at.color,["black","white"]);return{trace:kt,x:Q*(bt-tt.left),y:G*(Ot-tt.top),text:fe,color:at.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ce,fontSize:10,idealAlign:_t,hovertemplate:kt.hovertemplate,hovertemplateLabels:ue,eventData:[{data:kt._input,fullData:kt,category:mt,count:Pt,probability:Xt,categorycount:Ht,colorcount:Dt,bandcolorcount:Rt}]}}function z(Z){if(!Z.parcatsViewModel.dragDimension&&Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var tt=x.mouse(this)[1];if(tt<-1)return;var st=Z.parcatsViewModel.graphDiv,Q=st._fullLayout,G=Q._paperdiv.node().getBoundingClientRect(),ut=Z.parcatsViewModel.hoveron,at=this;if(ut==="color"?(g(at),A(at,"plotly_hover",x.event)):(u(at),L(at,"plotly_hover",x.event)),Z.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var dt;ut==="category"?dt=R(st,G,at):ut==="color"?dt=N(st,G,at):ut==="dimension"&&(dt=O(st,G,at)),dt&&M.loneHover(dt,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:st})}}}function F(Z){var tt=Z.parcatsViewModel;if(!tt.dragDimension&&(c(tt.pathSelection),S(tt.dimensionSelection.selectAll("g.category")),T(tt.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),M.loneUnhover(tt.graphDiv._fullLayout._hoverlayer.node()),tt.pathSelection.sort(o),tt.hoverinfoItems.indexOf("skip")===-1)){var st=Z.parcatsViewModel.hoveron,Q=this;st==="color"?A(Q,"plotly_unhover",x.event):L(Q,"plotly_unhover",x.event)}}function I(Z){Z.parcatsViewModel.arrangement!=="fixed"&&(Z.dragDimensionDisplayInd=Z.model.displayInd,Z.initialDragDimensionDisplayInds=Z.parcatsViewModel.model.dimensions.map(function(tt){return tt.displayInd}),Z.dragHasMoved=!1,Z.dragCategoryDisplayInd=null,x.select(this).selectAll("g.category").select("rect.catrect").each(function(tt){var st=x.mouse(this)[0],Q=x.mouse(this)[1];-2<=st&&st<=tt.width+2&&-2<=Q&&Q<=tt.height+2&&(Z.dragCategoryDisplayInd=tt.model.displayInd,Z.initialDragCategoryDisplayInds=Z.model.categories.map(function(G){return G.displayInd}),tt.model.dragY=tt.y,m.raiseToTop(this.parentNode),x.select(this.parentNode).selectAll("rect.bandrect").each(function(G){G.y<Q&&Q<=G.y+G.height&&(Z.potentialClickBand=this)}))}),Z.parcatsViewModel.dragDimension=Z,M.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function j(Z){if(Z.parcatsViewModel.arrangement!=="fixed"&&(Z.dragHasMoved=!0,Z.dragDimensionDisplayInd!==null)){var tt=Z.dragDimensionDisplayInd,st=tt-1,Q=tt+1,G=Z.parcatsViewModel.dimensions[tt];if(Z.dragCategoryDisplayInd!==null){var ut=G.categories[Z.dragCategoryDisplayInd];ut.model.dragY+=x.event.dy;var at=ut.model.dragY,dt=ut.model.displayInd,gt=G.categories,wt=gt[dt-1],kt=gt[dt+1];wt!==void 0&&at<wt.y+wt.height/2&&(ut.model.displayInd=wt.model.displayInd,wt.model.displayInd=dt),kt!==void 0&&at+ut.height>kt.y+kt.height/2&&(ut.model.displayInd=kt.model.displayInd,kt.model.displayInd=dt),Z.dragCategoryDisplayInd=ut.model.displayInd}if(Z.dragCategoryDisplayInd===null||Z.parcatsViewModel.arrangement==="freeform"){G.model.dragX=x.event.x;var Ot=Z.parcatsViewModel.dimensions[st],bt=Z.parcatsViewModel.dimensions[Q];Ot!==void 0&&G.model.dragX<Ot.x+Ot.width&&(G.model.displayInd=Ot.model.displayInd,Ot.model.displayInd=tt),bt!==void 0&&G.model.dragX+G.width>bt.x&&(G.model.displayInd=bt.model.displayInd,bt.model.displayInd=Z.dragDimensionDisplayInd),Z.dragDimensionDisplayInd=G.model.displayInd}J(Z.parcatsViewModel),q(Z.parcatsViewModel),et(Z.parcatsViewModel),K(Z.parcatsViewModel)}}function V(Z){if(Z.parcatsViewModel.arrangement!=="fixed"&&Z.dragDimensionDisplayInd!==null){x.select(this).selectAll("text").attr("font-weight","normal");var tt={},st=W(Z.parcatsViewModel),Q=Z.parcatsViewModel.model.dimensions.map(function(bt){return bt.displayInd}),G=Z.initialDragDimensionDisplayInds.some(function(bt,_t){return bt!==Q[_t]});G&&Q.forEach(function(bt,_t){var mt=Z.parcatsViewModel.model.dimensions[_t].containerInd;tt["dimensions["+mt+"].displayindex"]=bt});var ut=!1;if(Z.dragCategoryDisplayInd!==null){var at=Z.model.categories.map(function(bt){return bt.displayInd});if(ut=Z.initialDragCategoryDisplayInds.some(function(bt,_t){return bt!==at[_t]}),ut){var dt=Z.model.categories.slice().sort(function(bt,_t){return bt.displayInd-_t.displayInd}),gt=dt.map(function(bt){return bt.categoryValue}),wt=dt.map(function(bt){return bt.categoryLabel});tt["dimensions["+Z.model.containerInd+"].categoryarray"]=[gt],tt["dimensions["+Z.model.containerInd+"].ticktext"]=[wt],tt["dimensions["+Z.model.containerInd+"].categoryorder"]="array"}}if(Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Z.dragHasMoved&&Z.potentialClickBand&&(Z.parcatsViewModel.hoveron==="color"?A(Z.potentialClickBand,"plotly_click",x.event.sourceEvent):L(Z.potentialClickBand,"plotly_click",x.event.sourceEvent)),Z.model.dragX=null,Z.dragCategoryDisplayInd!==null){var kt=Z.parcatsViewModel.dimensions[Z.dragDimensionDisplayInd].categories[Z.dragCategoryDisplayInd];kt.model.dragY=null,Z.dragCategoryDisplayInd=null}Z.dragDimensionDisplayInd=null,Z.parcatsViewModel.dragDimension=null,Z.dragHasMoved=null,Z.potentialClickBand=null,J(Z.parcatsViewModel),q(Z.parcatsViewModel);var Ot=x.transition().duration(300).ease("cubic-in-out");Ot.each(function(){et(Z.parcatsViewModel,!0),K(Z.parcatsViewModel,!0)}).each("end",function(){(G||ut)&&i.restyle(Z.parcatsViewModel.graphDiv,tt,[st])})}}function W(Z){for(var tt,st=Z.graphDiv._fullData,Q=0;Q<st.length;Q++)if(Z.key===st[Q].uid){tt=Q;break}return tt}function K(Z,tt){tt===void 0&&(tt=!1);function st(Q){return tt?Q.transition():Q}Z.pathSelection.data(function(Q){return Q.paths},n),st(Z.pathSelection).attr("d",function(Q){return Q.svgD})}function et(Z,tt){tt===void 0&&(tt=!1);function st(gt){return tt?gt.transition():gt}Z.dimensionSelection.data(function(gt){return gt.dimensions},n);var Q=Z.dimensionSelection.selectAll("g.category").data(function(gt){return gt.categories},n);st(Z.dimensionSelection).attr("transform",function(gt){return d(gt.x,0)}),st(Q).attr("transform",function(gt){return d(0,gt.y)});var G=Q.select(".dimlabel");G.text(function(gt,wt){return wt===0?gt.parcatsViewModel.model.dimensions[gt.model.dimensionInd].dimensionLabel:null});var ut=Q.select(".catlabel");ut.attr("text-anchor",function(gt){return l(gt)?"start":"end"}).attr("x",function(gt){return l(gt)?gt.width+5:-5}).each(function(gt){var wt,kt;l(gt)?(wt=gt.width+5,kt="start"):(wt=-5,kt="end"),x.select(this).selectAll("tspan").attr("x",wt).attr("text-anchor",kt)});var at=Q.selectAll("rect.bandrect").data(function(gt){return gt.bands},n),dt=at.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(gt){return gt.color}).attr("fill-opacity",0);at.attr("fill",function(gt){return gt.color}).attr("width",function(gt){return gt.width}).attr("height",function(gt){return gt.height}).attr("y",function(gt){return gt.y}),T(dt),at.each(function(){m.raiseToTop(this)}),at.exit().remove()}function lt(Z,tt,st){var Q=st[0],G=tt.margin||{l:80,r:80,t:100,b:80},ut=Q.trace,at=ut.domain,dt=tt.width,gt=tt.height,wt=Math.floor(dt*(at.x[1]-at.x[0])),kt=Math.floor(gt*(at.y[1]-at.y[0])),Ot=at.x[0]*dt+G.l,bt=tt.height-at.y[1]*tt.height+G.t,_t=ut.line.shape,mt;ut.hoverinfo==="all"?mt=["count","probability"]:mt=(ut.hoverinfo||"").split("+");var Pt={trace:ut,key:ut.uid,model:Q,x:Ot,y:bt,width:wt,height:kt,hoveron:ut.hoveron,hoverinfoItems:mt,arrangement:ut.arrangement,bundlecolors:ut.bundlecolors,sortpaths:ut.sortpaths,labelfont:ut.labelfont,categorylabelfont:ut.tickfont,pathShape:_t,dragDimension:null,margin:G,paths:[],dimensions:[],graphDiv:Z,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(J(Pt),q(Pt)),Pt}function ot(Z,tt,st,Q,G){var ut=[],at=[],dt,gt;for(gt=0;gt<st.length-1;gt++)dt=E(st[gt]+Z[gt],Z[gt+1]),ut.push(dt(G)),at.push(dt(1-G));var wt="M "+Z[0]+","+tt[0];for(wt+="l"+st[0]+",0 ",gt=1;gt<st.length;gt++)wt+="C"+ut[gt-1]+","+tt[gt-1]+" "+at[gt-1]+","+tt[gt]+" "+Z[gt]+","+tt[gt],wt+="l"+st[gt]+",0 ";for(wt+="l0,"+Q+" ",wt+="l -"+st[st.length-1]+",0 ",gt=st.length-2;gt>=0;gt--)wt+="C"+at[gt]+","+(tt[gt+1]+Q)+" "+ut[gt]+","+(tt[gt]+Q)+" "+(Z[gt]+st[gt])+","+(tt[gt]+Q),wt+="l-"+st[gt]+",0 ";return wt+="Z",wt}function q(Z){var tt=Z.dimensions,st=Z.model,Q=tt.map(function(Et){return Et.categories.map(function(Vt){return Vt.y})}),G=Z.model.dimensions.map(function(Et){return Et.categories.map(function(Vt){return Vt.displayInd})}),ut=Z.model.dimensions.map(function(Et){return Et.displayInd}),at=Z.dimensions.map(function(Et){return Et.model.dimensionInd}),dt=tt.map(function(Et){return Et.x}),gt=tt.map(function(Et){return Et.width}),wt=[];for(var kt in st.paths)st.paths.hasOwnProperty(kt)&&wt.push(st.paths[kt]);function Ot(Et){var Vt=Et.categoryInds.map(function(Jt,Ut){return G[Ut][Jt]}),te=at.map(function(Jt){return Vt[Jt]});return te}wt.sort(function(Et,Vt){var te=Ot(Et),Jt=Ot(Vt);return Z.sortpaths==="backward"&&(te.reverse(),Jt.reverse()),te.push(Et.valueInds[0]),Jt.push(Vt.valueInds[0]),Z.bundlecolors&&(te.unshift(Et.rawColor),Jt.unshift(Vt.rawColor)),te<Jt?-1:te>Jt?1:0});for(var bt=new Array(wt.length),_t=tt[0].model.count,mt=tt[0].categories.map(function(Et){return Et.height}).reduce(function(Et,Vt){return Et+Vt}),Pt=0;Pt<wt.length;Pt++){var Rt=wt[Pt],Ht;_t>0?Ht=mt*(Rt.count/_t):Ht=0;for(var Dt=new Array(Q.length),Xt=0;Xt<Rt.categoryInds.length;Xt++){var se=Rt.categoryInds[Xt],Yt=G[Xt][se],ue=ut[Xt];Dt[ue]=Q[ue][Yt],Q[ue][Yt]+=Ht;var ie=Z.dimensions[ue].categories[Yt],fe=ie.bands.length,ce=ie.bands[fe-1];if(ce===void 0||Rt.rawColor!==ce.rawColor){var ye=ce===void 0?0:ce.y+ce.height;ie.bands.push({key:ye,color:Rt.color,rawColor:Rt.rawColor,height:Ht,width:ie.width,count:Rt.count,y:ye,categoryViewModel:ie,parcatsViewModel:Z})}else{var de=ie.bands[fe-1];de.height+=Ht,de.count+=Rt.count}}var Te;Z.pathShape==="hspline"?Te=ot(dt,Dt,gt,Ht,.5):Te=ot(dt,Dt,gt,Ht,0),bt[Pt]={key:Rt.valueInds[0],model:Rt,height:Ht,leftXs:dt,topYs:Dt,dimWidths:gt,svgD:Te,parcatsViewModel:Z}}Z.paths=bt}function J(Z){var tt=Z.model.dimensions.map(function(at){return{displayInd:at.displayInd,dimensionInd:at.dimensionInd}});tt.sort(function(at,dt){return at.displayInd-dt.displayInd});var st=[];for(var Q in tt){var G=tt[Q].dimensionInd,ut=Z.model.dimensions[G];st.push(it(Z,ut))}Z.dimensions=st}function it(Z,tt){var st=40,Q=16,G=Z.model.dimensions.length,ut=tt.displayInd,at,dt,gt;G>1?at=(Z.width-2*st-Q)/(G-1):at=0,dt=st,gt=dt+at*ut;var wt=[],kt=Z.model.maxCats,Ot=tt.categories.length,bt=8,_t=tt.count,mt=Z.height-bt*(kt-1),Pt,Rt,Ht,Dt,Xt,se=(kt-Ot)*bt/2,Yt=tt.categories.map(function(ue){return{displayInd:ue.displayInd,categoryInd:ue.categoryInd}});for(Yt.sort(function(ue,ie){return ue.displayInd-ie.displayInd}),Xt=0;Xt<Ot;Xt++)Dt=Yt[Xt].categoryInd,Rt=tt.categories[Dt],_t>0?Pt=Rt.count/_t*mt:Pt=0,Ht={key:Rt.valueInds[0],model:Rt,width:Q,height:Pt,y:Rt.dragY!==null?Rt.dragY:se,bands:[],parcatsViewModel:Z},se=se+Pt+bt,wt.push(Ht);return{key:tt.dimensionInd,x:tt.dragX!==null?tt.dragX:gt,y:0,width:Q,model:tt,categories:wt,parcatsViewModel:Z,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(X,B,t){var x=t(51036);X.exports=function(E,i,M,m){var d=E._fullLayout,v=d._paper,r=d._size;x(E,v,i,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},M,m)}},82296:function(X,B,t){var x=t(49084),E=t(94724),i=t(25376),M=t(86968).u,m=t(92880).extendFlat,d=t(31780).templatedArray;X.exports={domain:M({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:d("dimension",{label:{valType:"string",editType:"plot"},tickvals:m({},E.tickvals,{editType:"plot"}),ticktext:m({},E.ticktext,{editType:"plot"}),tickformat:m({},E.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:m({editType:"calc"},x("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(X,B,t){var x=t(30140),E=t(33428),i=t(71688).keyFun,M=t(71688).repeat,m=t(3400).sorterAsc,d=t(3400).strTranslate,v=x.bar.snapRatio;function r(V,W){return V*(1-v)+W*v}var e=x.bar.snapClose;function s(V,W){return V*(1-e)+W*e}function n(V,W,K,et){if(l(K,et))return K;var lt=V?-1:1,ot=0,q=W.length-1;if(lt<0){var J=ot;ot=q,q=J}for(var it=W[ot],Z=it,tt=ot;lt*tt<lt*q;tt+=lt){var st=tt+lt,Q=W[st];if(lt*K<lt*s(it,Q))return r(it,Z);if(lt*K<lt*Q||st===q)return r(Q,it);Z=it,it=Q}}function l(V,W){for(var K=0;K<W.length;K++)if(V>=W[K][0]&&V<=W[K][1])return!0;return!1}function o(V){V.attr("x",-x.bar.captureWidth/2).attr("width",x.bar.captureWidth)}function h(V){V.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function b(V){if(!V.brush.filterSpecified)return"0,"+V.height;for(var W=f(V.brush.filter.getConsolidated(),V.height),K=[0],et,lt,ot,q=W.length?W[0][0]:null,J=0;J<W.length;J++)et=W[J],lt=et[1]-et[0],K.push(q),K.push(lt),ot=J+1,ot<W.length&&(q=W[ot][0]-et[1]);return K.push(V.height),K}function f(V,W){return V.map(function(K){return K.map(function(et){return Math.max(0,et*W)}).sort(m)})}function k(V,W){var K=x.bar.handleHeight;if(!(W>V[1]+K||W<V[0]-K))return W>=.9*V[1]+.1*V[0]?"n":W<=.9*V[0]+.1*V[1]?"s":"ns"}function a(){E.select(document.body).style("cursor",null)}function c(V){V.attr("stroke-dasharray",b)}function p(V,W){var K=E.select(V).selectAll(".highlight, .highlight-shadow"),et=W?K.transition().duration(x.bar.snapDuration).each("end",W):K;c(et)}function w(V,W){var K=V.brush,et=K.filterSpecified,lt=NaN,ot={},q;if(et){var J=V.height,it=K.filter.getConsolidated(),Z=f(it,J),tt=NaN,st=NaN,Q=NaN;for(q=0;q<=Z.length;q++){var G=Z[q];if(G&&G[0]<=W&&W<=G[1]){tt=q;break}else if(st=q?q-1:NaN,G&&G[0]>W){Q=q;break}}if(lt=tt,isNaN(lt)&&(isNaN(st)||isNaN(Q)?lt=isNaN(st)?Q:st:lt=W-Z[st][1]<Z[Q][0]-W?st:Q),!isNaN(lt)){var ut=Z[lt],at=k(ut,W);at&&(ot.interval=it[lt],ot.intervalPix=ut,ot.region=at)}}if(V.ordinal&&!ot.region){var dt=V.unitTickvals,gt=V.unitToPaddedPx.invert(W);for(q=0;q<dt.length;q++){var wt=[dt[Math.max(q-1,0)]*.25+dt[q]*.75,dt[Math.min(q+1,dt.length-1)]*.25+dt[q]*.75];if(gt>=wt[0]&&gt<=wt[1]){ot.clickableOrdinalRange=wt;break}}}return ot}function S(V,W){E.event.sourceEvent.stopPropagation();var K=W.height-E.mouse(V)[1]-2*x.verticalPadding,et=W.unitToPaddedPx.invert(K),lt=W.brush,ot=w(W,K),q=ot.interval,J=lt.svgBrush;if(J.wasDragged=!1,J.grabbingBar=ot.region==="ns",J.grabbingBar){var it=q.map(W.unitToPaddedPx);J.grabPoint=K-it[0]-x.verticalPadding,J.barLength=it[1]-it[0]}J.clickableOrdinalRange=ot.clickableOrdinalRange,J.stayingIntervals=W.multiselect&&lt.filterSpecified?lt.filter.getConsolidated():[],q&&(J.stayingIntervals=J.stayingIntervals.filter(function(Z){return Z[0]!==q[0]&&Z[1]!==q[1]})),J.startExtent=ot.region?q[ot.region==="s"?1:0]:et,W.parent.inBrushDrag=!0,J.brushStartCallback()}function _(V,W){E.event.sourceEvent.stopPropagation();var K=W.height-E.mouse(V)[1]-2*x.verticalPadding,et=W.brush.svgBrush;et.wasDragged=!0,et._dragging=!0,et.grabbingBar?et.newExtent=[K-et.grabPoint,K+et.barLength-et.grabPoint].map(W.unitToPaddedPx.invert):et.newExtent=[et.startExtent,W.unitToPaddedPx.invert(K)].sort(m),W.brush.filterSpecified=!0,et.extent=et.stayingIntervals.concat([et.newExtent]),et.brushCallback(W),p(V.parentNode)}function T(V,W){var K=W.brush,et=K.filter,lt=K.svgBrush;lt._dragging||(P(V,W),_(V,W),W.brush.svgBrush.wasDragged=!1),lt._dragging=!1;var ot=E.event;ot.sourceEvent.stopPropagation();var q=lt.grabbingBar;if(lt.grabbingBar=!1,lt.grabLocation=void 0,W.parent.inBrushDrag=!1,a(),!lt.wasDragged){lt.wasDragged=void 0,lt.clickableOrdinalRange?K.filterSpecified&&W.multiselect?lt.extent.push(lt.clickableOrdinalRange):(lt.extent=[lt.clickableOrdinalRange],K.filterSpecified=!0):q?(lt.extent=lt.stayingIntervals,lt.extent.length===0&&O(K)):O(K),lt.brushCallback(W),p(V.parentNode),lt.brushEndCallback(K.filterSpecified?et.getConsolidated():[]);return}var J=function(){et.set(et.getConsolidated())};if(W.ordinal){var it=W.unitTickvals;it[it.length-1]<it[0]&&it.reverse(),lt.newExtent=[n(0,it,lt.newExtent[0],lt.stayingIntervals),n(1,it,lt.newExtent[1],lt.stayingIntervals)];var Z=lt.newExtent[1]>lt.newExtent[0];lt.extent=lt.stayingIntervals.concat(Z?[lt.newExtent]:[]),lt.extent.length||O(K),lt.brushCallback(W),Z?p(V.parentNode,J):(J(),p(V.parentNode))}else J();lt.brushEndCallback(K.filterSpecified?et.getConsolidated():[])}function P(V,W){var K=W.height-E.mouse(V)[1]-2*x.verticalPadding,et=w(W,K),lt="crosshair";et.clickableOrdinalRange?lt="pointer":et.region&&(lt=et.region+"-resize"),E.select(document.body).style("cursor",lt)}function u(V){V.on("mousemove",function(W){E.event.preventDefault(),W.parent.inBrushDrag||P(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||a()}).call(E.behavior.drag().on("dragstart",function(W){S(this,W)}).on("drag",function(W){_(this,W)}).on("dragend",function(W){T(this,W)}))}function g(V,W){return V[0]-W[0]}function L(V,W,K){var et=K._context.staticPlot,lt=V.selectAll(".background").data(M);lt.enter().append("rect").classed("background",!0).call(o).call(h).style("pointer-events",et?"none":"auto").attr("transform",d(0,x.verticalPadding)),lt.call(u).attr("height",function(J){return J.height-x.verticalPadding});var ot=V.selectAll(".highlight-shadow").data(M);ot.enter().append("line").classed("highlight-shadow",!0).attr("x",-x.bar.width/2).attr("stroke-width",x.bar.width+x.bar.strokeWidth).attr("stroke",W).attr("opacity",x.bar.strokeOpacity).attr("stroke-linecap","butt"),ot.attr("y1",function(J){return J.height}).call(c);var q=V.selectAll(".highlight").data(M);q.enter().append("line").classed("highlight",!0).attr("x",-x.bar.width/2).attr("stroke-width",x.bar.width-x.bar.strokeWidth).attr("stroke",x.bar.fillColor).attr("opacity",x.bar.fillOpacity).attr("stroke-linecap","butt"),q.attr("y1",function(J){return J.height}).call(c)}function A(V,W,K){var et=V.selectAll("."+x.cn.axisBrush).data(M,i);et.enter().append("g").classed(x.cn.axisBrush,!0),L(et,W,K)}function R(V){return V.svgBrush.extent.map(function(W){return W.slice()})}function O(V){V.filterSpecified=!1,V.svgBrush.extent=[[-1/0,1/0]]}function N(V){return function(W){var K=W.brush,et=R(K),lt=et.slice();K.filter.set(lt),V()}}function z(V){for(var W=V.slice(),K=[],et,lt=W.shift();lt;){for(et=lt.slice();(lt=W.shift())&&lt[0]<=et[1];)et[1]=Math.max(et[1],lt[1]);K.push(et)}return K.length===1&&K[0][0]>K[0][1]&&(K=[]),K}function F(){var V=[],W,K;return{set:function(et){V=et.map(function(lt){return lt.slice().sort(m)}).sort(g),V.length===1&&V[0][0]===-1/0&&V[0][1]===1/0&&(V=[[0,-1]]),W=z(V),K=V.reduce(function(lt,ot){return[Math.min(lt[0],ot[0]),Math.max(lt[1],ot[1])]},[1/0,-1/0])},get:function(){return V.slice()},getConsolidated:function(){return W},getBounds:function(){return K}}}function I(V,W,K,et,lt,ot){var q=F();return q.set(K),{filter:q,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:et,brushCallback:N(lt),brushEndCallback:ot}}}function j(V,W){if(Array.isArray(V[0])?(V=V.map(function(et){return et.sort(m)}),W.multiselect?V=z(V.sort(g)):V=[V[0]]):V=[V.sort(m)],W.tickvals){var K=W.tickvals.slice().sort(m);if(V=V.map(function(et){var lt=[n(0,K,et[0],[]),n(1,K,et[1],[])];if(lt[1]>lt[0])return lt}).filter(function(et){return et}),!V.length)return}return V.length>1?V:V[0]}X.exports={makeBrush:I,ensureAxisBrush:A,cleanRanges:j}},61664:function(X,B,t){X.exports={attributes:t(82296),supplyDefaults:t(60664),calc:t(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:t(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(X,B,t){var x=t(33428),E=t(84888)._M,i=t(24196),M=t(9616);B.name="parcoords",B.plot=function(m){var d=E(m.calcdata,"parcoords")[0];d.length&&i(m,d)},B.clean=function(m,d,v,r){var e=r._has&&r._has("parcoords"),s=d._has&&d._has("parcoords");e&&!s&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},B.toSVG=function(m){var d=m._fullLayout._glimages,v=x.select(m).selectAll(".svg-container"),r=v.filter(function(s,n){return n===v.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function e(){var s=this,n=s.toDataURL("image/png"),l=d.append("svg:image");l.attr({xmlns:M.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}r.each(e),window.setTimeout(function(){x.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(X,B,t){var x=t(3400).isArrayOrTypedArray,E=t(8932),i=t(71688).wrap;X.exports=function(m,d){var v,r;return E.hasColorscale(d,"line")&&x(d.line.color)?(v=d.line.color,r=E.extractOpts(d.line).colorscale,E.calc(m,d,{vals:v,containerStr:"line",cLetter:"c"})):(v=M(d._length),r=[[0,d.line.color],[1,d.line.color]]),i({lineColor:v,cscale:r})};function M(m){for(var d=new Array(m),v=0;v<m;v++)d[v]=.5;return d}},30140:function(X){X.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(X,B,t){var x=t(3400),E=t(94288).hasColorscale,i=t(27260),M=t(86968).Q,m=t(51272),d=t(54460),v=t(82296),r=t(71864),e=t(30140).maxDimensionCount,s=t(26284);function n(o,h,b,f,k){var a=k("line.color",b);if(E(o,"line")&&x.isArrayOrTypedArray(a)){if(a.length)return k("line.colorscale"),i(o,h,f,k,{prefix:"line.",cLetter:"c"}),a.length;h.line.color=b}return 1/0}function l(o,h,b,f){function k(S,_){return x.coerce(o,h,v.dimensions,S,_)}var a=k("values"),c=k("visible");if(a&&a.length||(c=h.visible=!1),c){k("label"),k("tickvals"),k("ticktext"),k("tickformat");var p=k("range");h._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},d.setConvert(h._ax,f.layout),k("multiselect");var w=k("constraintrange");w&&(h.constraintrange=r.cleanRanges(w,h))}}X.exports=function(o,h,b,f){function k(S,_){return x.coerce(o,h,v,S,_)}var a=o.dimensions;Array.isArray(a)&&a.length>e&&(x.log("parcoords traces support up to "+e+" dimensions at the moment"),a.splice(e));var c=m(o,h,{name:"dimensions",layout:f,handleItemDefaults:l}),p=n(o,h,b,f,k);M(h,f,k),(!Array.isArray(c)||!c.length)&&(h.visible=!1),s(h,c,"values",p);var w={family:f.font.family,size:Math.round(f.font.size/1.2),color:f.font.color};x.coerceFont(k,"labelfont",w),x.coerceFont(k,"tickfont",w),x.coerceFont(k,"rangefont",w),k("labelangle"),k("labelside"),k("unselected.line.color"),k("unselected.line.opacity")}},95724:function(X,B,t){var x=t(3400).isTypedArray;B.convertTypedArray=function(E){return x(E)?Array.prototype.slice.call(E):E},B.isOrdinal=function(E){return!!E.tickvals},B.isVisible=function(E){return E.visible||!("visible"in E)}},29928:function(X,B,t){var x=t(61664);x.plot=t(24196),X.exports=x},51352:function(X,B,t){var x=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),E=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),i=t(30140).maxDimensionCount,M=t(3400),m=1e-6,d=2048,v=new Uint8Array(4),r=new Uint8Array(4),e={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function s(T){T.read({x:0,y:0,width:1,height:1,data:v})}function n(T,P,u,g,L){var A=T._gl;A.enable(A.SCISSOR_TEST),A.scissor(P,u,g,L),T.clear({color:[0,0,0,0],depth:1})}function l(T,P,u,g,L,A){var R=A.key;function O(N){var z=Math.min(g,L-N*g);N===0&&(window.cancelAnimationFrame(u.currentRafs[R]),delete u.currentRafs[R],n(T,A.scissorX,A.scissorY,A.scissorWidth,A.viewBoxSize[1])),!u.clearOnly&&(A.count=2*z,A.offset=2*N*g,P(A),N*g+z<L&&(u.currentRafs[R]=window.requestAnimationFrame(function(){O(N+1)})),u.drawCompleted=!1)}u.drawCompleted||(s(T),u.drawCompleted=!0),O(0)}function o(T){return Math.max(m,Math.min(1-m,T))}function h(T,P){for(var u=new Array(256),g=0;g<256;g++)u[g]=T(g/255).concat(P);return u}function b(T,P){return(T>>>8*P)%256/255}function f(T,P,u){for(var g=new Array(T*(i+4)),L=0,A=0;A<T;A++){for(var R=0;R<i;R++)g[L++]=R<P.length?P[R].paddedUnitValues[A]:.5;g[L++]=b(A,2),g[L++]=b(A,1),g[L++]=b(A,0),g[L++]=o(u[A])}return g}function k(T,P,u){for(var g=new Array(P*8),L=0,A=0;A<P;A++)for(var R=0;R<2;R++)for(var O=0;O<4;O++){var N=T*4+O,z=u[A*64+N];N===63&&R===0&&(z*=-1),g[L++]=z}return g}function a(T){var P="0"+T;return P.substr(P.length-2)}function c(T){return T<i?"p"+a(T+1)+"_"+a(T+4):"colors"}function p(T,P,u){for(var g=0;g<=i;g+=4)T[c(g)](k(g/4,P,u))}function w(T){for(var P={},u=0;u<=i;u+=4)P[c(u)]=T.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return P}function S(T,P,u,g,L,A,R,O,N,z,F,I,j,V){for(var W=[[],[]],K=0;K<64;K++)W[0][K]=K===L?1:0,W[1][K]=K===A?1:0;R*=V,O*=V,N*=V,z*=V;var et=T.lines.canvasOverdrag*V,lt=T.domain,ot=T.canvasWidth*V,q=T.canvasHeight*V,J=T.pad.l*V,it=T.pad.b*V,Z=T.layoutHeight*V,tt=T.layoutWidth*V,st=T.deselectedLines.color,Q=T.deselectedLines.opacity,G=M.extendFlat({key:F,resolution:[ot,q],viewBoxPos:[R+et,O],viewBoxSize:[N,z],i0:L,i1:A,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:I,contextColor:[st[0]/255,st[1]/255,st[2]/255,Q!=="auto"?st[3]*Q:Math.max(1/255,Math.pow(1/T.lines.color.length,1/3))],scissorX:(g===P?0:R+et)+(J-et)+tt*lt.x[0],scissorWidth:(g===u?ot-R+et:N+.5)+(g===P?R+et:0),scissorY:O+it+Z*lt.y[0],scissorHeight:z,viewportX:J-et+tt*lt.x[0],viewportY:it+Z*lt.y[0],viewportWidth:ot,viewportHeight:q},j);return G}function _(T){var P=d-1,u=Math.max(0,Math.floor(T[0]*P),0),g=Math.min(P,Math.ceil(T[1]*P),P);return[Math.min(u,g),Math.max(u,g)]}X.exports=function(T,P){var u=P.context,g=P.pick,L=P.regl,A=L._gl,R=A.getParameter(A.ALIASED_LINE_WIDTH_RANGE),O=Math.max(R[0],Math.min(R[1],P.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},z,F,I,j,V=w(L),W,K=L.texture(e),et=[];ot(P);var lt=L({profile:!1,blend:{enable:u,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!u,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:L.prop("scissorX"),y:L.prop("scissorY"),width:L.prop("scissorWidth"),height:L.prop("scissorHeight")}},viewport:{x:L.prop("viewportX"),y:L.prop("viewportY"),width:L.prop("viewportWidth"),height:L.prop("viewportHeight")},dither:!1,vert:x,frag:E,primitive:"lines",lineWidth:O,attributes:V,uniforms:{resolution:L.prop("resolution"),viewBoxPos:L.prop("viewBoxPos"),viewBoxSize:L.prop("viewBoxSize"),dim0A:L.prop("dim0A"),dim1A:L.prop("dim1A"),dim0B:L.prop("dim0B"),dim1B:L.prop("dim1B"),dim0C:L.prop("dim0C"),dim1C:L.prop("dim1C"),dim0D:L.prop("dim0D"),dim1D:L.prop("dim1D"),loA:L.prop("loA"),hiA:L.prop("hiA"),loB:L.prop("loB"),hiB:L.prop("hiB"),loC:L.prop("loC"),hiC:L.prop("hiC"),loD:L.prop("loD"),hiD:L.prop("hiD"),palette:K,contextColor:L.prop("contextColor"),maskTexture:L.prop("maskTexture"),drwLayer:L.prop("drwLayer"),maskHeight:L.prop("maskHeight")},offset:L.prop("offset"),count:L.prop("count")});function ot(st){z=st.model,F=st.viewModel,I=F.dimensions.slice(),j=I[0]?I[0].values.length:0;var Q=z.lines,G=g?Q.color.map(function(at,dt){return dt/Q.color.length}):Q.color,ut=f(j,I,G);p(V,j,ut),!u&&!g&&(K=L.texture(M.extendFlat({data:h(z.unitToColor,255)},e)))}function q(st){var Q,G,ut,at=[[],[]];for(ut=0;ut<64;ut++){var dt=!st&&ut<I.length?I[ut].brush.filter.getBounds():[-1/0,1/0];at[0][ut]=dt[0],at[1][ut]=dt[1]}var gt=d*8,wt=new Array(gt);for(Q=0;Q<gt;Q++)wt[Q]=255;if(!st)for(Q=0;Q<I.length;Q++){var kt=Q%8,Ot=(Q-kt)/8,bt=Math.pow(2,kt),_t=I[Q],mt=_t.brush.filter.get();if(!(mt.length<2)){var Pt=_(mt[0])[1];for(G=1;G<mt.length;G++){var Rt=_(mt[G]);for(ut=Pt+1;ut<Rt[0];ut++)wt[ut*8+Ot]&=~bt;Pt=Math.max(Pt,Rt[1])}}}var Ht={shape:[8,d],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:wt};return W?W(Ht):W=L.texture(Ht),{maskTexture:W,maskHeight:d,loA:at[0].slice(0,16),loB:at[0].slice(16,32),loC:at[0].slice(32,48),loD:at[0].slice(48,64),hiA:at[1].slice(0,16),hiB:at[1].slice(16,32),hiC:at[1].slice(32,48),hiD:at[1].slice(48,64)}}function J(st,Q,G){var ut=st.length,at,dt,gt,wt=1/0,kt=-1/0;for(at=0;at<ut;at++)st[at].dim0.canvasX<wt&&(wt=st[at].dim0.canvasX,dt=at),st[at].dim1.canvasX>kt&&(kt=st[at].dim1.canvasX,gt=at);ut===0&&n(L,0,0,z.canvasWidth,z.canvasHeight);var Ot=q(u);for(at=0;at<ut;at++){var bt=st[at],_t=bt.dim0.crossfilterDimensionIndex,mt=bt.dim1.crossfilterDimensionIndex,Pt=bt.canvasX,Rt=bt.canvasY,Ht=Pt+bt.panelSizeX,Dt=bt.plotGlPixelRatio;if(Q||!et[_t]||et[_t][0]!==Pt||et[_t][1]!==Ht){et[_t]=[Pt,Ht];var Xt=S(z,dt,gt,at,_t,mt,Pt,Rt,bt.panelSizeX,bt.panelSizeY,bt.dim0.crossfilterDimensionIndex,u?0:g?2:1,Ot,Dt);N.clearOnly=G;var se=Q?z.lines.blockLineCount:j;l(L,lt,N,se,j,Xt)}}}function it(st,Q){return L.read({x:st,y:Q,width:1,height:1,data:r}),r}function Z(st,Q,G,ut){var at=new Uint8Array(4*G*ut);return L.read({x:st,y:Q,width:G,height:ut,data:at}),at}function tt(){T.style["pointer-events"]="none",K.destroy(),W&&W.destroy();for(var st in V)V[st].destroy()}return{render:J,readPixel:it,readPixels:Z,destroy:tt,update:ot}}},26284:function(X){X.exports=function(B,t,x,E){E||(E=1/0);var i,M;for(i=0;i<t.length;i++)M=t[i],M.visible&&(E=Math.min(E,M[x].length));for(E===1/0&&(E=0),B._length=E,i=0;i<t.length;i++)M=t[i],M.visible&&(M._length=E);return E}},36336:function(X,B,t){var x=t(33428),E=t(3400),i=E.isArrayOrTypedArray,M=E.numberFormat,m=t(96824),d=t(54460),v=E.strRotate,r=E.strTranslate,e=t(72736),s=t(43616),n=t(8932),l=t(71688),o=l.keyFun,h=l.repeat,b=l.unwrap,f=t(95724),k=t(30140),a=t(71864),c=t(51352);function p(et,lt,ot){return E.aggNums(et,null,lt,ot)}function w(et,lt){return _(p(Math.min,et,lt),p(Math.max,et,lt))}function S(et){var lt=et.range;return lt?_(lt[0],lt[1]):w(et.values,et._length)}function _(et,lt){return(isNaN(et)||!isFinite(et))&&(et=0),(isNaN(lt)||!isFinite(lt))&&(lt=0),et===lt&&(et===0?(et-=1,lt+=1):(et*=.9,lt*=1.1)),[et,lt]}function T(et,lt){return lt?function(ot,q){var J=lt[q];return J??et(ot)}:et}function P(et,lt,ot,q,J){var it=S(ot);return q?x.scale.ordinal().domain(q.map(T(M(ot.tickformat),J))).range(q.map(function(Z){var tt=(Z-it[0])/(it[1]-it[0]);return et-lt+tt*(2*lt-et)})):x.scale.linear().domain(it).range([et-lt,lt])}function u(et,lt){return x.scale.linear().range([lt,et-lt])}function g(et,lt){return x.scale.linear().domain(S(et)).range([lt,1-lt])}function L(et){if(et.tickvals){var lt=S(et);return x.scale.ordinal().domain(et.tickvals).range(et.tickvals.map(function(ot){return(ot-lt[0])/(lt[1]-lt[0])}))}}function A(et){var lt=et.map(function(it){return it[0]}),ot=et.map(function(it){var Z=m(it[1]);return x.rgb("rgb("+Z[0]+","+Z[1]+","+Z[2]+")")}),q=function(it){return function(Z){return Z[it]}},J="rgb".split("").map(function(it){return x.scale.linear().clamp(!0).domain(lt).range(ot.map(q(it)))});return function(it){return J.map(function(Z){return Z(it)})}}function R(et){return et.dimensions.some(function(lt){return lt.brush.filterSpecified})}function O(et,lt,ot){var q=b(lt),J=q.trace,it=f.convertTypedArray(q.lineColor),Z=J.line,tt={color:m(J.unselected.line.color),opacity:J.unselected.line.opacity},st=n.extractOpts(Z),Q=st.reversescale?n.flipScale(q.cscale):q.cscale,G=J.domain,ut=J.dimensions,at=et.width,dt=J.labelangle,gt=J.labelside,wt=J.labelfont,kt=J.tickfont,Ot=J.rangefont,bt=E.extendDeepNoArrays({},Z,{color:it.map(x.scale.linear().domain(S({values:it,range:[st.min,st.max],_length:J._length}))),blockLineCount:k.blockLineCount,canvasOverdrag:k.overdrag*k.canvasPixelRatio}),_t=Math.floor(at*(G.x[1]-G.x[0])),mt=Math.floor(et.height*(G.y[1]-G.y[0])),Pt=et.margin||{l:80,r:80,t:100,b:80},Rt=_t,Ht=mt;return{key:ot,colCount:ut.filter(f.isVisible).length,dimensions:ut,tickDistance:k.tickDistance,unitToColor:A(Q),lines:bt,deselectedLines:tt,labelAngle:dt,labelSide:gt,labelFont:wt,tickFont:kt,rangeFont:Ot,layoutWidth:at,layoutHeight:et.height,domain:G,translateX:G.x[0]*at,translateY:et.height-G.y[1]*et.height,pad:Pt,canvasWidth:Rt*k.canvasPixelRatio+2*bt.canvasOverdrag,canvasHeight:Ht*k.canvasPixelRatio,width:Rt,height:Ht,canvasPixelRatio:k.canvasPixelRatio}}function N(et,lt,ot){var q=ot.width,J=ot.height,it=ot.dimensions,Z=ot.canvasPixelRatio,tt=function(at){return q*at/Math.max(1,ot.colCount-1)},st=k.verticalPadding/J,Q=u(J,k.verticalPadding),G={key:ot.key,xScale:tt,model:ot,inBrushDrag:!1},ut={};return G.dimensions=it.filter(f.isVisible).map(function(at,dt){var gt=g(at,st),wt=ut[at.label];ut[at.label]=(wt||0)+1;var kt=at.label+(wt?"__"+wt:""),Ot=at.constraintrange,bt=Ot&&Ot.length;bt&&!i(Ot[0])&&(Ot=[Ot]);var _t=bt?Ot.map(function(ie){return ie.map(gt)}):[[-1/0,1/0]],mt=function(){var ie=G;ie.focusLayer&&ie.focusLayer.render(ie.panels,!0);var fe=R(ie);!et.contextShown()&&fe?(ie.contextLayer&&ie.contextLayer.render(ie.panels,!0),et.contextShown(!0)):et.contextShown()&&!fe&&(ie.contextLayer&&ie.contextLayer.render(ie.panels,!0,!0),et.contextShown(!1))},Pt=at.values;Pt.length>at._length&&(Pt=Pt.slice(0,at._length));var Rt=at.tickvals,Ht;function Dt(ie,fe){return{val:ie,text:Ht[fe]}}function Xt(ie,fe){return ie.val-fe.val}if(i(Rt)&&Rt.length){E.isTypedArray(Rt)&&(Rt=Array.from(Rt)),Ht=at.ticktext,!i(Ht)||!Ht.length?Ht=Rt.map(M(at.tickformat)):Ht.length>Rt.length?Ht=Ht.slice(0,Rt.length):Rt.length>Ht.length&&(Rt=Rt.slice(0,Ht.length));for(var se=1;se<Rt.length;se++)if(Rt[se]<Rt[se-1]){for(var Yt=Rt.map(Dt).sort(Xt),ue=0;ue<Rt.length;ue++)Rt[ue]=Yt[ue].val,Ht[ue]=Yt[ue].text;break}}else Rt=void 0;return Pt=f.convertTypedArray(Pt),{key:kt,label:at.label,tickFormat:at.tickformat,tickvals:Rt,ticktext:Ht,ordinal:f.isOrdinal(at),multiselect:at.multiselect,xIndex:dt,crossfilterDimensionIndex:dt,visibleIndex:at._index,height:J,values:Pt,paddedUnitValues:Pt.map(gt),unitTickvals:Rt&&Rt.map(gt),xScale:tt,x:tt(dt),canvasX:tt(dt)*Z,unitToPaddedPx:Q,domainScale:P(J,k.verticalPadding,at,Rt,Ht),ordinalScale:L(at),parent:G,model:ot,brush:a.makeBrush(et,bt,_t,function(){et.linePickActive(!1)},mt,function(ie){if(G.focusLayer.render(G.panels,!0),G.pickLayer&&G.pickLayer.render(G.panels,!0),et.linePickActive(!0),lt&&lt.filterChanged){var fe=gt.invert,ce=ie.map(function(ye){return ye.map(fe).sort(E.sorterAsc)}).sort(function(ye,de){return ye[0]-de[0]});lt.filterChanged(G.key,at._index,ce)}})}}),G}function z(et){et.classed(k.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var et=!0,lt=!1;return{linePickActive:function(ot){return arguments.length?et=!!ot:et},contextShown:function(ot){return arguments.length?lt=!!ot:lt}}}function I(et,lt){var ot=lt==="top"?1:-1,q=et*Math.PI/180,J=Math.sin(q),it=Math.cos(q);return{dir:ot,dx:J,dy:it,degrees:et}}function j(et,lt,ot){for(var q=lt.panels||(lt.panels=[]),J=et.data(),it=0;it<J.length-1;it++){var Z=q[it]||(q[it]={}),tt=J[it],st=J[it+1];Z.dim0=tt,Z.dim1=st,Z.canvasX=tt.canvasX,Z.panelSizeX=st.canvasX-tt.canvasX,Z.panelSizeY=lt.model.canvasHeight,Z.y=0,Z.canvasY=0,Z.plotGlPixelRatio=ot}}function V(et){for(var lt=0;lt<et.length;lt++)for(var ot=0;ot<et[lt].length;ot++)for(var q=et[lt][ot].trace,J=q.dimensions,it=0;it<J.length;it++){var Z=J[it].values,tt=J[it]._ax;tt&&(tt.range?tt.range=_(tt.range[0],tt.range[1]):tt.range=w(Z,q._length),tt.dtick||(tt.dtick=.01*(Math.abs(tt.range[1]-tt.range[0])||1)),tt.tickformat=J[it].tickformat,d.calcTicks(tt),tt.cleanRange())}}function W(et,lt){return d.tickText(et._ax,lt,!1).text}function K(et,lt){if(et.ordinal)return"";var ot=et.domainScale.domain(),q=ot[lt?ot.length-1:0];return W(et.model.dimensions[et.visibleIndex],q)}X.exports=function(et,lt,ot,q){var J=et._context.staticPlot,it=et._fullLayout,Z=it._toppaper,tt=it._glcontainer,st=et._context.plotGlPixelRatio,Q=et._fullLayout.paper_bgcolor;V(lt);var G=F(),ut=lt.filter(function(Yt){return b(Yt).trace.visible}).map(O.bind(0,ot)).map(N.bind(0,G,q));tt.each(function(Yt,ue){return E.extendFlat(Yt,ut[ue])});var at=tt.selectAll(".gl-canvas").each(function(Yt){Yt.viewModel=ut[0],Yt.viewModel.plotGlPixelRatio=st,Yt.viewModel.paperColor=Q,Yt.model=Yt.viewModel?Yt.viewModel.model:null}),dt=null,gt=at.filter(function(Yt){return Yt.pick});gt.style("pointer-events",J?"none":"auto").on("mousemove",function(Yt){if(G.linePickActive()&&Yt.lineLayer&&q&&q.hover){var ue=x.event,ie=this.width,fe=this.height,ce=x.mouse(this),ye=ce[0],de=ce[1];if(ye<0||de<0||ye>=ie||de>=fe)return;var Te=Yt.lineLayer.readPixel(ye,fe-1-de),Et=Te[3]!==0,Vt=Et?Te[2]+256*(Te[1]+256*Te[0]):null,te={x:ye,y:de,clientX:ue.clientX,clientY:ue.clientY,dataIndex:Yt.model.key,curveNumber:Vt};Vt!==dt&&(Et?q.hover(te):q.unhover&&q.unhover(te),dt=Vt)}}),at.style("opacity",function(Yt){return Yt.pick?0:1}),Z.style("background","rgba(255, 255, 255, 0)");var wt=Z.selectAll("."+k.cn.parcoords).data(ut,o);wt.exit().remove(),wt.enter().append("g").classed(k.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),wt.attr("transform",function(Yt){return r(Yt.model.translateX,Yt.model.translateY)});var kt=wt.selectAll("."+k.cn.parcoordsControlView).data(h,o);kt.enter().append("g").classed(k.cn.parcoordsControlView,!0),kt.attr("transform",function(Yt){return r(Yt.model.pad.l,Yt.model.pad.t)});var Ot=kt.selectAll("."+k.cn.yAxis).data(function(Yt){return Yt.dimensions},o);Ot.enter().append("g").classed(k.cn.yAxis,!0),kt.each(function(Yt){j(Ot,Yt,st)}),at.each(function(Yt){if(Yt.viewModel){!Yt.lineLayer||q?Yt.lineLayer=c(this,Yt):Yt.lineLayer.update(Yt),(Yt.key||Yt.key===0)&&(Yt.viewModel[Yt.key]=Yt.lineLayer);var ue=!Yt.context||q;Yt.lineLayer.render(Yt.viewModel.panels,ue)}}),Ot.attr("transform",function(Yt){return r(Yt.xScale(Yt.xIndex),0)}),Ot.call(x.behavior.drag().origin(function(Yt){return Yt}).on("drag",function(Yt){var ue=Yt.parent;G.linePickActive(!1),Yt.x=Math.max(-k.overdrag,Math.min(Yt.model.width+k.overdrag,x.event.x)),Yt.canvasX=Yt.x*Yt.model.canvasPixelRatio,Ot.sort(function(ie,fe){return ie.x-fe.x}).each(function(ie,fe){ie.xIndex=fe,ie.x=Yt===ie?ie.x:ie.xScale(ie.xIndex),ie.canvasX=ie.x*ie.model.canvasPixelRatio}),j(Ot,ue,st),Ot.filter(function(ie){return Math.abs(Yt.xIndex-ie.xIndex)!==0}).attr("transform",function(ie){return r(ie.xScale(ie.xIndex),0)}),x.select(this).attr("transform",r(Yt.x,0)),Ot.each(function(ie,fe,ce){ce===Yt.parent.key&&(ue.dimensions[fe]=ie)}),ue.contextLayer&&ue.contextLayer.render(ue.panels,!1,!R(ue)),ue.focusLayer.render&&ue.focusLayer.render(ue.panels)}).on("dragend",function(Yt){var ue=Yt.parent;Yt.x=Yt.xScale(Yt.xIndex),Yt.canvasX=Yt.x*Yt.model.canvasPixelRatio,j(Ot,ue,st),x.select(this).attr("transform",function(ie){return r(ie.x,0)}),ue.contextLayer&&ue.contextLayer.render(ue.panels,!1,!R(ue)),ue.focusLayer&&ue.focusLayer.render(ue.panels),ue.pickLayer&&ue.pickLayer.render(ue.panels,!0),G.linePickActive(!0),q&&q.axesMoved&&q.axesMoved(ue.key,ue.dimensions.map(function(ie){return ie.crossfilterDimensionIndex}))})),Ot.exit().remove();var bt=Ot.selectAll("."+k.cn.axisOverlays).data(h,o);bt.enter().append("g").classed(k.cn.axisOverlays,!0),bt.selectAll("."+k.cn.axis).remove();var _t=bt.selectAll("."+k.cn.axis).data(h,o);_t.enter().append("g").classed(k.cn.axis,!0),_t.each(function(Yt){var ue=Yt.model.height/Yt.model.tickDistance,ie=Yt.domainScale,fe=ie.domain();x.select(this).call(x.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(ue,Yt.tickFormat).tickValues(Yt.ordinal?fe:null).tickFormat(function(ce){return f.isOrdinal(Yt)?ce:W(Yt.model.dimensions[Yt.visibleIndex],ce)}).scale(ie)),s.font(_t.selectAll("text"),Yt.model.tickFont)}),_t.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),_t.selectAll("text").style("text-shadow",e.makeTextShadow(Q)).style("cursor","default");var mt=bt.selectAll("."+k.cn.axisHeading).data(h,o);mt.enter().append("g").classed(k.cn.axisHeading,!0);var Pt=mt.selectAll("."+k.cn.axisTitle).data(h,o);Pt.enter().append("text").classed(k.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",J?"none":"auto"),Pt.text(function(Yt){return Yt.label}).each(function(Yt){var ue=x.select(this);s.font(ue,Yt.model.labelFont),e.convertToTspans(ue,et)}).attr("transform",function(Yt){var ue=I(Yt.model.labelAngle,Yt.model.labelSide),ie=k.axisTitleOffset;return(ue.dir>0?"":r(0,2*ie+Yt.model.height))+v(ue.degrees)+r(-ie*ue.dx,-ie*ue.dy)}).attr("text-anchor",function(Yt){var ue=I(Yt.model.labelAngle,Yt.model.labelSide),ie=Math.abs(ue.dx),fe=Math.abs(ue.dy);return 2*ie>fe?ue.dir*ue.dx<0?"start":"end":"middle"});var Rt=bt.selectAll("."+k.cn.axisExtent).data(h,o);Rt.enter().append("g").classed(k.cn.axisExtent,!0);var Ht=Rt.selectAll("."+k.cn.axisExtentTop).data(h,o);Ht.enter().append("g").classed(k.cn.axisExtentTop,!0),Ht.attr("transform",r(0,-k.axisExtentOffset));var Dt=Ht.selectAll("."+k.cn.axisExtentTopText).data(h,o);Dt.enter().append("text").classed(k.cn.axisExtentTopText,!0).call(z),Dt.text(function(Yt){return K(Yt,!0)}).each(function(Yt){s.font(x.select(this),Yt.model.rangeFont)});var Xt=Rt.selectAll("."+k.cn.axisExtentBottom).data(h,o);Xt.enter().append("g").classed(k.cn.axisExtentBottom,!0),Xt.attr("transform",function(Yt){return r(0,Yt.model.height+k.axisExtentOffset)});var se=Xt.selectAll("."+k.cn.axisExtentBottomText).data(h,o);se.enter().append("text").classed(k.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(z),se.text(function(Yt){return K(Yt,!1)}).each(function(Yt){s.font(x.select(this),Yt.model.rangeFont)}),a.ensureAxisBrush(bt,Q,et)}},24196:function(X,B,t){var x=t(36336),E=t(5048),i=t(95724).isVisible,M={};function m(r,e,s){var n=e.indexOf(s),l=r.indexOf(n);return l===-1&&(l+=e.length),l}function d(r,e){return function(s,n){return m(r,e,s)-m(r,e,n)}}var v=X.exports=function(r,e){var s=r._fullLayout,n=E(r,[],M);if(n){var l={},o={},h={},b={},f=s._size;e.forEach(function(w,S){var _=w[0].trace;h[S]=_.index;var T=b[S]=_._fullInput.index;l[S]=r.data[T].dimensions,o[S]=r.data[T].dimensions.slice()});var k=function(w,S,_){var T=o[w][S],P=_.map(function(O){return O.slice()}),u="dimensions["+S+"].constraintrange",g=s._tracePreGUI[r._fullData[h[w]]._fullInput.uid];if(g[u]===void 0){var L=T.constraintrange;g[u]=L||null}var A=r._fullData[h[w]].dimensions[S];P.length?(P.length===1&&(P=P[0]),T.constraintrange=P,A.constraintrange=P.slice(),P=[P]):(delete T.constraintrange,delete A.constraintrange,P=null);var R={};R[u]=P,r.emit("plotly_restyle",[R,[b[w]]])},a=function(w){r.emit("plotly_hover",w)},c=function(w){r.emit("plotly_unhover",w)},p=function(w,S){var _=d(S,o[w].filter(i));l[w].sort(_),o[w].filter(function(T){return!i(T)}).sort(function(T){return o[w].indexOf(T)}).forEach(function(T){l[w].splice(l[w].indexOf(T),1),l[w].splice(o[w].indexOf(T),0,T)}),r.emit("plotly_restyle",[{dimensions:[l[w]]},[b[w]]])};x(r,e,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{filterChanged:k,hover:a,unhover:c,axesMoved:p})}};v.reglPrecompiled=M},74996:function(X,B,t){var x=t(45464),E=t(86968).u,i=t(25376),M=t(22548),m=t(21776).Ks,d=t(21776).Gw,v=t(92880).extendFlat,r=t(98192).c,e=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});X.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:M.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:v({},x.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:m({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:v({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:v({},e,{}),outsidetextfont:v({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:v({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:E({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:v({},e,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(X,B,t){var x=t(7316);B.name="pie",B.plot=function(E,i,M,m){x.plotBasePlot(B.name,E,i,M,m)},B.clean=function(E,i,M,m){x.cleanBasePlot(B.name,E,i,M,m)}},45768:function(X,B,t){var x=t(38248),E=t(49760),i=t(76308),M={};function m(e,s){var n=[],l=e._fullLayout,o=l.hiddenlabels||[],h=s.labels,b=s.marker.colors||[],f=s.values,k=s._length,a=s._hasValues&&k,c,p;if(s.dlabel)for(h=new Array(k),c=0;c<k;c++)h[c]=String(s.label0+c*s.dlabel);var w={},S=d(l["_"+s.type+"colormap"]),_=0,T=!1;for(c=0;c<k;c++){var P,u,g;if(a){if(P=f[c],!x(P))continue;P=+P}else P=1;u=h[c],(u===void 0||u==="")&&(u=c),u=String(u);var L=w[u];L===void 0?(w[u]=n.length,g=o.indexOf(u)!==-1,g||(_+=P),n.push({v:P,label:u,color:S(b[c],u),i:c,pts:[c],hidden:g})):(T=!0,p=n[L],p.v+=P,p.pts.push(c),p.hidden||(_+=P),p.color===!1&&b[c]&&(p.color=S(b[c],u)))}n=n.filter(function(R){return R.v>=0});var A=s.type==="funnelarea"?T:s.sort;return A&&n.sort(function(R,O){return O.v-R.v}),n[0]&&(n[0].vTotal=_),n}function d(e){return function(s,n){return!s||(s=E(s),!s.isValid())?!1:(s=i.addOpacity(s,s.getAlpha()),e[n]||(e[n]=s),s)}}function v(e,s){var n=(s||{}).type;n||(n="pie");var l=e._fullLayout,o=e.calcdata,h=l[n+"colorway"],b=l["_"+n+"colormap"];l["extend"+n+"colors"]&&(h=r(h,M));for(var f=0,k=0;k<o.length;k++){var a=o[k],c=a[0].trace.type;if(c===n)for(var p=0;p<a.length;p++){var w=a[p];w.color===!1&&(b[w.label]?w.color=b[w.label]:(b[w.label]=w.color=h[f%h.length],f++))}}}function r(e,s){var n,l=JSON.stringify(e),o=s[l];if(!o){for(o=e.slice(),n=0;n<e.length;n++)o.push(E(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)o.push(E(e[n]).darken(20).toHexString());s[l]=o}return o}X.exports={calc:m,crossTraceCalc:v,makePullColorFn:d,generateExtendedColors:r}},74174:function(X,B,t){var x=t(38248),E=t(3400),i=t(74996),M=t(86968).Q,m=t(31508).handleText,d=t(3400).coercePattern;function v(s,n){var l=E.isArrayOrTypedArray(s),o=E.isArrayOrTypedArray(n),h=Math.min(l?s.length:1/0,o?n.length:1/0);if(isFinite(h)||(h=0),h&&o){for(var b,f=0;f<h;f++){var k=n[f];if(x(k)&&k>0){b=!0;break}}b||(h=0)}return{hasLabels:l,hasValues:o,len:h}}function r(s,n,l,o,h){var b=o("marker.line.width");b&&o("marker.line.color",h?void 0:l.paper_bgcolor);var f=o("marker.colors");d(o,"marker.pattern",f),s.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=s.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=l.paper_bgcolor)}function e(s,n,l,o){function h(L,A){return E.coerce(s,n,i,L,A)}var b=h("labels"),f=h("values"),k=v(b,f),a=k.len;if(n._hasLabels=k.hasLabels,n._hasValues=k.hasValues,!n._hasLabels&&n._hasValues&&(h("label0"),h("dlabel")),!a){n.visible=!1;return}n._length=a,r(s,n,o,h,!0),h("scalegroup");var c=h("text"),p=h("texttemplate"),w;if(p||(w=h("textinfo",E.isArrayOrTypedArray(c)?"text+percent":"percent")),h("hovertext"),h("hovertemplate"),p||w&&w!=="none"){var S=h("textposition");m(s,n,o,h,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var _=Array.isArray(S)||S==="auto",T=_||S==="outside";T&&h("automargin"),(S==="inside"||S==="auto"||Array.isArray(S))&&h("insidetextorientation")}else w==="none"&&h("textposition","none");M(n,o,h);var P=h("hole"),u=h("title.text");if(u){var g=h("title.position",P?"middle center":"top center");!P&&g==="middle center"&&(n.title.position="top center"),E.coerceFont(h,"title.font",o.font)}h("sort"),h("direction"),h("rotation"),h("pull")}X.exports={handleLabelsAndValues:v,handleMarkerDefaults:r,supplyDefaults:e}},53644:function(X,B,t){var x=t(10624).appendArrayMultiPointValues;X.exports=function(E,i){var M={curveNumber:i.index,pointNumbers:E.pts,data:i._input,fullData:i,label:E.label,color:E.color,value:E.v,percent:E.percent,text:E.text,bbox:E.bbox,v:E.v};return E.pts.length===1&&(M.pointNumber=M.i=E.pts[0]),x(M,i,E.pts),i.type==="funnelarea"&&(delete M.v,delete M.i),M}},21552:function(X,B,t){var x=t(43616),E=t(76308);X.exports=function(i,M,m,d){var v=m.marker.pattern;v&&v.shape?x.pointStyle(i,m,d,M):E.fill(i,M.color)}},69656:function(X,B,t){var x=t(3400);function E(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}B.formatPiePercent=function(i,M){var m=E((i*100).toPrecision(3));return x.numSeparate(m,M)+"%"},B.formatPieValue=function(i,M){var m=E(i.toPrecision(10));return x.numSeparate(m,M)},B.getFirstFilled=function(i,M){if(x.isArrayOrTypedArray(i))for(var m=0;m<M.length;m++){var d=i[M[m]];if(d||d===0||d==="")return d}},B.castOption=function(i,M){if(x.isArrayOrTypedArray(i))return B.getFirstFilled(i,M);if(i)return i},B.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},75792:function(X,B,t){X.exports={attributes:t(74996),supplyDefaults:t(74174).supplyDefaults,supplyLayoutDefaults:t(90248),layoutAttributes:t(85204),calc:t(45768).calc,crossTraceCalc:t(45768).crossTraceCalc,plot:t(37820).plot,style:t(22152),styleOne:t(10528),moduleType:"trace",name:"pie",basePlotModule:t(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(X){X.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(X,B,t){var x=t(3400),E=t(85204);X.exports=function(i,M){function m(d,v){return x.coerce(i,M,E,d,v)}m("hiddenlabels"),m("piecolorway",M.colorway),m("extendpiecolors")}},37820:function(X,B,t){var x=t(33428),E=t(7316),i=t(93024),M=t(76308),m=t(43616),d=t(3400),v=d.strScale,r=d.strTranslate,e=t(72736),s=t(82744),n=s.recordMinTextSize,l=s.clearMinTextSize,o=t(78048).TEXTPAD,h=t(69656),b=t(53644),f=t(3400).isValidTextValue;function k(J,it){var Z=J._context.staticPlot,tt=J._fullLayout,st=tt._size;l("pie",tt),S(it,J),W(it,st);var Q=d.makeTraceGroups(tt._pielayer,it,"trace").each(function(G){var ut=x.select(this),at=G[0],dt=at.trace;et(G),ut.attr("stroke-linejoin","round"),ut.each(function(){var gt=x.select(this).selectAll("g.slice").data(G);gt.enter().append("g").classed("slice",!0),gt.exit().remove();var wt=[[[],[]],[[],[]]],kt=!1;gt.each(function(Dt,Xt){if(Dt.hidden){x.select(this).selectAll("path,g").remove();return}Dt.pointNumber=Dt.i,Dt.curveNumber=dt.index,wt[Dt.pxmid[1]<0?0:1][Dt.pxmid[0]<0?0:1].push(Dt);var se=at.cx,Yt=at.cy,ue=x.select(this),ie=ue.selectAll("path.surface").data([Dt]);if(ie.enter().append("path").classed("surface",!0).style({"pointer-events":Z?"none":"all"}),ue.call(c,J,G),dt.pull){var fe=+h.castOption(dt.pull,Dt.pts)||0;fe>0&&(se+=fe*Dt.pxmid[0],Yt+=fe*Dt.pxmid[1])}Dt.cxFinal=se,Dt.cyFinal=Yt;function ce(Jt,Ut,It,pt){var xt=pt*(Ut[0]-Jt[0]),Ct=pt*(Ut[1]-Jt[1]);return"a"+pt*at.r+","+pt*at.r+" 0 "+Dt.largeArc+(It?" 1 ":" 0 ")+xt+","+Ct}var ye=dt.hole;if(Dt.v===at.vTotal){var de="M"+(se+Dt.px0[0])+","+(Yt+Dt.px0[1])+ce(Dt.px0,Dt.pxmid,!0,1)+ce(Dt.pxmid,Dt.px0,!0,1)+"Z";ye?ie.attr("d","M"+(se+ye*Dt.px0[0])+","+(Yt+ye*Dt.px0[1])+ce(Dt.px0,Dt.pxmid,!1,ye)+ce(Dt.pxmid,Dt.px0,!1,ye)+"Z"+de):ie.attr("d",de)}else{var Te=ce(Dt.px0,Dt.px1,!0,1);if(ye){var Et=1-ye;ie.attr("d","M"+(se+ye*Dt.px1[0])+","+(Yt+ye*Dt.px1[1])+ce(Dt.px1,Dt.px0,!1,ye)+"l"+Et*Dt.px0[0]+","+Et*Dt.px0[1]+Te+"Z")}else ie.attr("d","M"+se+","+Yt+"l"+Dt.px0[0]+","+Dt.px0[1]+Te+"Z")}ot(J,Dt,at);var Vt=h.castOption(dt.textposition,Dt.pts),te=ue.selectAll("g.slicetext").data(Dt.text&&Vt!=="none"?[0]:[]);te.enter().append("g").classed("slicetext",!0),te.exit().remove(),te.each(function(){var Jt=d.ensureSingle(x.select(this),"text","",function(Wt){Wt.attr("data-notex",1)}),Ut=d.ensureUniformFontSize(J,Vt==="outside"?p(dt,Dt,tt.font):w(dt,Dt,tt.font));Jt.text(Dt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(m.font,Ut).call(e.convertToTspans,J);var It=m.bBox(Jt.node()),pt;if(Vt==="outside")pt=O(It,Dt);else if(pt=_(It,Dt,at),Vt==="auto"&&pt.scale<1){var xt=d.ensureUniformFontSize(J,dt.outsidetextfont);Jt.call(m.font,xt),It=m.bBox(Jt.node()),pt=O(It,Dt)}var Ct=pt.textPosAngle,At=Ct===void 0?Dt.pxmid:lt(at.r,Ct);if(pt.targetX=se+At[0]*pt.rCenter+(pt.x||0),pt.targetY=Yt+At[1]*pt.rCenter+(pt.y||0),q(pt,It),pt.outside){var Ft=pt.targetY;Dt.yLabelMin=Ft-It.height/2,Dt.yLabelMid=Ft,Dt.yLabelMax=Ft+It.height/2,Dt.labelExtraX=0,Dt.labelExtraY=0,kt=!0}pt.fontSize=Ut.size,n(dt.type,pt,tt),G[Xt].transform=pt,d.setTransormAndDisplay(Jt,pt)})});var Ot=x.select(this).selectAll("g.titletext").data(dt.title.text?[0]:[]);if(Ot.enter().append("g").classed("titletext",!0),Ot.exit().remove(),Ot.each(function(){var Dt=d.ensureSingle(x.select(this),"text","",function(Yt){Yt.attr("data-notex",1)}),Xt=dt.title.text;dt._meta&&(Xt=d.templateString(Xt,dt._meta)),Dt.text(Xt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(m.font,dt.title.font).call(e.convertToTspans,J);var se;dt.title.position==="middle center"?se=N(at):se=z(at,st),Dt.attr("transform",r(se.x,se.y)+v(Math.min(1,se.scale))+r(se.tx,se.ty))}),kt&&V(wt,dt),a(gt,dt),kt&&dt.automargin){var bt=m.bBox(ut.node()),_t=dt.domain,mt=st.w*(_t.x[1]-_t.x[0]),Pt=st.h*(_t.y[1]-_t.y[0]),Rt=(.5*mt-at.r)/st.w,Ht=(.5*Pt-at.r)/st.h;E.autoMargin(J,"pie."+dt.uid+".automargin",{xl:_t.x[0]-Rt,xr:_t.x[1]+Rt,yb:_t.y[0]-Ht,yt:_t.y[1]+Ht,l:Math.max(at.cx-at.r-bt.left,0),r:Math.max(bt.right-(at.cx+at.r),0),b:Math.max(bt.bottom-(at.cy+at.r),0),t:Math.max(at.cy-at.r-bt.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var G=x.select(this);G.attr("dy")&&G.attr("dy",G.attr("dy"))})},0)}function a(J,it){J.each(function(Z){var tt=x.select(this);if(!Z.labelExtraX&&!Z.labelExtraY){tt.select("path.textline").remove();return}var st=tt.select("g.slicetext text");Z.transform.targetX+=Z.labelExtraX,Z.transform.targetY+=Z.labelExtraY,d.setTransormAndDisplay(st,Z.transform);var Q=Z.cxFinal+Z.pxmid[0],G=Z.cyFinal+Z.pxmid[1],ut="M"+Q+","+G,at=(Z.yLabelMax-Z.yLabelMin)*(Z.pxmid[0]<0?-1:1)/4;if(Z.labelExtraX){var dt=Z.labelExtraX*Z.pxmid[1]/Z.pxmid[0],gt=Z.yLabelMid+Z.labelExtraY-(Z.cyFinal+Z.pxmid[1]);Math.abs(dt)>Math.abs(gt)?ut+="l"+gt*Z.pxmid[0]/Z.pxmid[1]+","+gt+"H"+(Q+Z.labelExtraX+at):ut+="l"+Z.labelExtraX+","+dt+"v"+(gt-dt)+"h"+at}else ut+="V"+(Z.yLabelMid+Z.labelExtraY)+"h"+at;d.ensureSingle(tt,"path","textline").call(M.stroke,it.outsidetextfont.color).attr({"stroke-width":Math.min(2,it.outsidetextfont.size/8),d:ut,fill:"none"})})}function c(J,it,Z){var tt=Z[0],st=tt.cx,Q=tt.cy,G=tt.trace,ut=G.type==="funnelarea";"_hasHoverLabel"in G||(G._hasHoverLabel=!1),"_hasHoverEvent"in G||(G._hasHoverEvent=!1),J.on("mouseover",function(at){var dt=it._fullLayout,gt=it._fullData[G.index];if(!(it._dragging||dt.hovermode===!1)){var wt=gt.hoverinfo;if(Array.isArray(wt)&&(wt=i.castHoverinfo({hoverinfo:[h.castOption(wt,at.pts)],_module:G._module},dt,0)),wt==="all"&&(wt="label+text+value+percent+name"),gt.hovertemplate||wt!=="none"&&wt!=="skip"&&wt){var kt=at.rInscribed||0,Ot=st+at.pxmid[0]*(1-kt),bt=Q+at.pxmid[1]*(1-kt),_t=dt.separators,mt=[];if(wt&&wt.indexOf("label")!==-1&&mt.push(at.label),at.text=h.castOption(gt.hovertext||gt.text,at.pts),wt&&wt.indexOf("text")!==-1){var Pt=at.text;d.isValidTextValue(Pt)&&mt.push(Pt)}at.value=at.v,at.valueLabel=h.formatPieValue(at.v,_t),wt&&wt.indexOf("value")!==-1&&mt.push(at.valueLabel),at.percent=at.v/tt.vTotal,at.percentLabel=h.formatPiePercent(at.percent,_t),wt&&wt.indexOf("percent")!==-1&&mt.push(at.percentLabel);var Rt=gt.hoverlabel,Ht=Rt.font,Dt=[];i.loneHover({trace:G,x0:Ot-kt*tt.r,x1:Ot+kt*tt.r,y:bt,_x0:ut?st+at.TL[0]:Ot-kt*tt.r,_x1:ut?st+at.TR[0]:Ot+kt*tt.r,_y0:ut?Q+at.TL[1]:bt-kt*tt.r,_y1:ut?Q+at.BL[1]:bt+kt*tt.r,text:mt.join("<br>"),name:gt.hovertemplate||wt.indexOf("name")!==-1?gt.name:void 0,idealAlign:at.pxmid[0]<0?"left":"right",color:h.castOption(Rt.bgcolor,at.pts)||at.color,borderColor:h.castOption(Rt.bordercolor,at.pts),fontFamily:h.castOption(Ht.family,at.pts),fontSize:h.castOption(Ht.size,at.pts),fontColor:h.castOption(Ht.color,at.pts),nameLength:h.castOption(Rt.namelength,at.pts),textAlign:h.castOption(Rt.align,at.pts),hovertemplate:h.castOption(gt.hovertemplate,at.pts),hovertemplateLabels:at,eventData:[b(at,gt)]},{container:dt._hoverlayer.node(),outerContainer:dt._paper.node(),gd:it,inOut_bbox:Dt}),at.bbox=Dt[0],G._hasHoverLabel=!0}G._hasHoverEvent=!0,it.emit("plotly_hover",{points:[b(at,gt)],event:x.event})}}),J.on("mouseout",function(at){var dt=it._fullLayout,gt=it._fullData[G.index],wt=x.select(this).datum();G._hasHoverEvent&&(at.originalEvent=x.event,it.emit("plotly_unhover",{points:[b(wt,gt)],event:x.event}),G._hasHoverEvent=!1),G._hasHoverLabel&&(i.loneUnhover(dt._hoverlayer.node()),G._hasHoverLabel=!1)}),J.on("click",function(at){var dt=it._fullLayout,gt=it._fullData[G.index];it._dragging||dt.hovermode===!1||(it._hoverdata=[b(at,gt)],i.click(it,x.event))})}function p(J,it,Z){var tt=h.castOption(J.outsidetextfont.color,it.pts)||h.castOption(J.textfont.color,it.pts)||Z.color,st=h.castOption(J.outsidetextfont.family,it.pts)||h.castOption(J.textfont.family,it.pts)||Z.family,Q=h.castOption(J.outsidetextfont.size,it.pts)||h.castOption(J.textfont.size,it.pts)||Z.size;return{color:tt,family:st,size:Q}}function w(J,it,Z){var tt=h.castOption(J.insidetextfont.color,it.pts);!tt&&J._input.textfont&&(tt=h.castOption(J._input.textfont.color,it.pts));var st=h.castOption(J.insidetextfont.family,it.pts)||h.castOption(J.textfont.family,it.pts)||Z.family,Q=h.castOption(J.insidetextfont.size,it.pts)||h.castOption(J.textfont.size,it.pts)||Z.size;return{color:tt||M.contrast(it.color),family:st,size:Q}}function S(J,it){for(var Z,tt,st=0;st<J.length;st++)if(Z=J[st][0],tt=Z.trace,tt.title.text){var Q=tt.title.text;tt._meta&&(Q=d.templateString(Q,tt._meta));var G=m.tester.append("text").attr("data-notex",1).text(Q).call(m.font,tt.title.font).call(e.convertToTspans,it),ut=m.bBox(G.node(),!0);Z.titleBox={width:ut.width,height:ut.height},G.remove()}}function _(J,it,Z){var tt=Z.r||it.rpx1,st=it.rInscribed,Q=it.startangle===it.stopangle;if(Q)return{rCenter:1-st,scale:0,rotate:0,textPosAngle:0};var G=it.ring,ut=G===1&&Math.abs(it.startangle-it.stopangle)===Math.PI*2,at=it.halfangle,dt=it.midangle,gt=Z.trace.insidetextorientation,wt=gt==="horizontal",kt=gt==="tangential",Ot=gt==="radial",bt=gt==="auto",_t=[],mt;if(!bt){var Pt=function(ue,ie){if(T(it,ue)){var fe=Math.abs(ue-it.startangle),ce=Math.abs(ue-it.stopangle),ye=fe<ce?fe:ce;ie==="tan"?mt=u(J,tt,G,ye,0):mt=P(J,tt,G,ye,Math.PI/2),mt.textPosAngle=ue,_t.push(mt)}},Rt;if(wt||kt){for(Rt=4;Rt>=-4;Rt-=2)Pt(Math.PI*Rt,"tan");for(Rt=4;Rt>=-4;Rt-=2)Pt(Math.PI*(Rt+1),"tan")}if(wt||Ot){for(Rt=4;Rt>=-4;Rt-=2)Pt(Math.PI*(Rt+1.5),"rad");for(Rt=4;Rt>=-4;Rt-=2)Pt(Math.PI*(Rt+.5),"rad")}}if(ut||bt||wt){var Ht=Math.sqrt(J.width*J.width+J.height*J.height);if(mt={scale:st*tt*2/Ht,rCenter:1-st,rotate:0},mt.textPosAngle=(it.startangle+it.stopangle)/2,mt.scale>=1)return mt;_t.push(mt)}(bt||Ot)&&(mt=P(J,tt,G,at,dt),mt.textPosAngle=(it.startangle+it.stopangle)/2,_t.push(mt)),(bt||kt)&&(mt=u(J,tt,G,at,dt),mt.textPosAngle=(it.startangle+it.stopangle)/2,_t.push(mt));for(var Dt=0,Xt=0,se=0;se<_t.length;se++){var Yt=_t[se].scale;if(Xt<Yt&&(Xt=Yt,Dt=se),!bt&&Xt>=1)break}return _t[Dt]}function T(J,it){var Z=J.startangle,tt=J.stopangle;return Z>it&&it>tt||Z<it&&it<tt}function P(J,it,Z,tt,st){it=Math.max(0,it-2*o);var Q=J.width/J.height,G=A(Q,tt,it,Z);return{scale:G*2/J.height,rCenter:g(Q,G/it),rotate:L(st)}}function u(J,it,Z,tt,st){it=Math.max(0,it-2*o);var Q=J.height/J.width,G=A(Q,tt,it,Z);return{scale:G*2/J.width,rCenter:g(Q,G/it),rotate:L(st+Math.PI/2)}}function g(J,it){return Math.cos(it)-J*it}function L(J){return(180/Math.PI*J+720)%180-90}function A(J,it,Z,tt){var st=J+1/(2*Math.tan(it));return Z*Math.min(1/(Math.sqrt(st*st+.5)+st),tt/(Math.sqrt(J*J+tt/2)+J))}function R(J,it){return J.v===it.vTotal&&!it.trace.hole?1:Math.min(1/(1+1/Math.sin(J.halfangle)),J.ring/2)}function O(J,it){var Z=it.pxmid[0],tt=it.pxmid[1],st=J.width/2,Q=J.height/2;return Z<0&&(st*=-1),tt<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:st+Math.abs(Q)*(st>0?1:-1)/2,y:Q/(1+Z*Z/(tt*tt)),outside:!0}}function N(J){var it=Math.sqrt(J.titleBox.width*J.titleBox.width+J.titleBox.height*J.titleBox.height);return{x:J.cx,y:J.cy,scale:J.trace.hole*J.r*2/it,tx:0,ty:-J.titleBox.height/2+J.trace.title.font.size}}function z(J,it){var Z=1,tt=1,st,Q=J.trace,G={x:J.cx,y:J.cy},ut={tx:0,ty:0};ut.ty+=Q.title.font.size,st=j(Q),Q.title.position.indexOf("top")!==-1?(G.y-=(1+st)*J.r,ut.ty-=J.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(G.y+=(1+st)*J.r);var at=F(J.r,J.trace.aspectratio),dt=it.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(dt=dt+at,G.x-=(1+st)*at,ut.tx+=J.titleBox.width/2):Q.title.position.indexOf("center")!==-1?dt*=2:Q.title.position.indexOf("right")!==-1&&(dt=dt+at,G.x+=(1+st)*at,ut.tx-=J.titleBox.width/2),Z=dt/J.titleBox.width,tt=I(J,it)/J.titleBox.height,{x:G.x,y:G.y,scale:Math.min(Z,tt),tx:ut.tx,ty:ut.ty}}function F(J,it){return J/(it===void 0?1:it)}function I(J,it){var Z=J.trace,tt=it.h*(Z.domain.y[1]-Z.domain.y[0]);return Math.min(J.titleBox.height,tt/2)}function j(J){var it=J.pull;if(!it)return 0;var Z;if(d.isArrayOrTypedArray(it))for(it=0,Z=0;Z<J.pull.length;Z++)J.pull[Z]>it&&(it=J.pull[Z]);return it}function V(J,it){var Z,tt,st,Q,G,ut,at,dt,gt,wt,kt,Ot,bt;function _t(Ht,Dt){return Ht.pxmid[1]-Dt.pxmid[1]}function mt(Ht,Dt){return Dt.pxmid[1]-Ht.pxmid[1]}function Pt(Ht,Dt){Dt||(Dt={});var Xt=Dt.labelExtraY+(tt?Dt.yLabelMax:Dt.yLabelMin),se=tt?Ht.yLabelMin:Ht.yLabelMax,Yt=tt?Ht.yLabelMax:Ht.yLabelMin,ue=Ht.cyFinal+G(Ht.px0[1],Ht.px1[1]),ie=Xt-se,fe,ce,ye,de,Te,Et;if(ie*at>0&&(Ht.labelExtraY=ie),!!d.isArrayOrTypedArray(it.pull))for(ce=0;ce<wt.length;ce++)ye=wt[ce],!(ye===Ht||(h.castOption(it.pull,Ht.pts)||0)>=(h.castOption(it.pull,ye.pts)||0))&&((Ht.pxmid[1]-ye.pxmid[1])*at>0?(de=ye.cyFinal+G(ye.px0[1],ye.px1[1]),ie=de-se-Ht.labelExtraY,ie*at>0&&(Ht.labelExtraY+=ie)):(Yt+Ht.labelExtraY-ue)*at>0&&(fe=3*ut*Math.abs(ce-wt.indexOf(Ht)),Te=ye.cxFinal+Q(ye.px0[0],ye.px1[0]),Et=Te+fe-(Ht.cxFinal+Ht.pxmid[0])-Ht.labelExtraX,Et*ut>0&&(Ht.labelExtraX+=Et)))}for(tt=0;tt<2;tt++)for(st=tt?_t:mt,G=tt?Math.max:Math.min,at=tt?1:-1,Z=0;Z<2;Z++){for(Q=Z?Math.max:Math.min,ut=Z?1:-1,dt=J[tt][Z],dt.sort(st),gt=J[1-tt][Z],wt=gt.concat(dt),Ot=[],kt=0;kt<dt.length;kt++)dt[kt].yLabelMid!==void 0&&Ot.push(dt[kt]);for(bt=!1,kt=0;tt&&kt<gt.length;kt++)if(gt[kt].yLabelMid!==void 0){bt=gt[kt];break}for(kt=0;kt<Ot.length;kt++){var Rt=kt&&Ot[kt-1];bt&&!kt&&(Rt=bt),Pt(Ot[kt],Rt)}}}function W(J,it){for(var Z=[],tt=0;tt<J.length;tt++){var st=J[tt][0],Q=st.trace,G=Q.domain,ut=it.w*(G.x[1]-G.x[0]),at=it.h*(G.y[1]-G.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(at-=I(st,it));var dt=ut/2,gt=at/2;Q.type==="funnelarea"&&!Q.scalegroup&&(gt/=Q.aspectratio),st.r=Math.min(dt,gt)/(1+j(Q)),st.cx=it.l+it.w*(Q.domain.x[1]+Q.domain.x[0])/2,st.cy=it.t+it.h*(1-Q.domain.y[0])-at/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(st.cy-=I(st,it)),Q.scalegroup&&Z.indexOf(Q.scalegroup)===-1&&Z.push(Q.scalegroup)}K(J,Z)}function K(J,it){for(var Z,tt,st,Q=0;Q<it.length;Q++){var G=1/0,ut=it[Q];for(tt=0;tt<J.length;tt++)if(Z=J[tt][0],st=Z.trace,st.scalegroup===ut){var at;if(st.type==="pie")at=Z.r*Z.r;else if(st.type==="funnelarea"){var dt,gt;st.aspectratio>1?(dt=Z.r,gt=dt/st.aspectratio):(gt=Z.r,dt=gt*st.aspectratio),dt*=(1+st.baseratio)/2,at=dt*gt}G=Math.min(G,at/Z.vTotal)}for(tt=0;tt<J.length;tt++)if(Z=J[tt][0],st=Z.trace,st.scalegroup===ut){var wt=G*Z.vTotal;st.type==="funnelarea"&&(wt/=(1+st.baseratio)/2,wt/=st.aspectratio),Z.r=Math.sqrt(wt)}}}function et(J){var it=J[0],Z=it.r,tt=it.trace,st=h.getRotationAngle(tt.rotation),Q=2*Math.PI/it.vTotal,G="px0",ut="px1",at,dt,gt;if(tt.direction==="counterclockwise"){for(at=0;at<J.length&&J[at].hidden;at++);if(at===J.length)return;st+=Q*J[at].v,Q*=-1,G="px1",ut="px0"}for(gt=lt(Z,st),at=0;at<J.length;at++)dt=J[at],!dt.hidden&&(dt[G]=gt,dt.startangle=st,st+=Q*dt.v/2,dt.pxmid=lt(Z,st),dt.midangle=st,st+=Q*dt.v/2,gt=lt(Z,st),dt.stopangle=st,dt[ut]=gt,dt.largeArc=dt.v>it.vTotal/2?1:0,dt.halfangle=Math.PI*Math.min(dt.v/it.vTotal,.5),dt.ring=1-tt.hole,dt.rInscribed=R(dt,it))}function lt(J,it){return[J*Math.sin(it),-J*Math.cos(it)]}function ot(J,it,Z){var tt=J._fullLayout,st=Z.trace,Q=st.texttemplate,G=st.textinfo;if(!Q&&G&&G!=="none"){var ut=G.split("+"),at=function(Dt){return ut.indexOf(Dt)!==-1},dt=at("label"),gt=at("text"),wt=at("value"),kt=at("percent"),Ot=tt.separators,bt;if(bt=dt?[it.label]:[],gt){var _t=h.getFirstFilled(st.text,it.pts);f(_t)&&bt.push(_t)}wt&&bt.push(h.formatPieValue(it.v,Ot)),kt&&bt.push(h.formatPiePercent(it.v/Z.vTotal,Ot)),it.text=bt.join("<br>")}function mt(Dt){return{label:Dt.label,value:Dt.v,valueLabel:h.formatPieValue(Dt.v,tt.separators),percent:Dt.v/Z.vTotal,percentLabel:h.formatPiePercent(Dt.v/Z.vTotal,tt.separators),color:Dt.color,text:Dt.text,customdata:d.castOption(st,Dt.i,"customdata")}}if(Q){var Pt=d.castOption(st,it.i,"texttemplate");if(!Pt)it.text="";else{var Rt=mt(it),Ht=h.getFirstFilled(st.text,it.pts);(f(Ht)||Ht==="")&&(Rt.text=Ht),it.text=d.texttemplateString(Pt,Rt,J._fullLayout._d3locale,Rt,st._meta||{})}}}function q(J,it){var Z=J.rotate*Math.PI/180,tt=Math.cos(Z),st=Math.sin(Z),Q=(it.left+it.right)/2,G=(it.top+it.bottom)/2;J.textX=Q*tt-G*st,J.textY=Q*st+G*tt,J.noCenter=!0}X.exports={plot:k,formatSliceLabel:ot,transformInsideText:_,determineInsideTextFont:w,positionTitleOutside:z,prerenderTitles:S,layoutAreas:W,attachFxHandlers:c,computeTransform:q}},22152:function(X,B,t){var x=t(33428),E=t(10528),i=t(82744).resizeText;X.exports=function(M){var m=M._fullLayout._pielayer.selectAll(".trace");i(M,m,"pie"),m.each(function(d){var v=d[0],r=v.trace,e=x.select(this);e.style({opacity:r.opacity}),e.selectAll("path.surface").each(function(s){x.select(this).call(E,s,r,M)})})}},10528:function(X,B,t){var x=t(76308),E=t(69656).castOption,i=t(21552);X.exports=function(M,m,d,v){var r=d.marker.line,e=E(r.color,m.pts)||x.defaultLine,s=E(r.width,m.pts)||0;M.call(i,m,d,v).style("stroke-width",s).call(x.stroke,e)}},35484:function(X,B,t){var x=t(52904);X.exports={x:x.x,y:x.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:x.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(X,B,t){var x=t(67792).gl_pointcloud2d,E=t(3400).isArrayOrTypedArray,i=t(43080),M=t(19280).findExtremes,m=t(44928);function d(e,s){this.scene=e,this.uid=s,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=x(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=d.prototype;v.handlePick=function(e){var s=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[s*2],this.pickXYData[s*2+1]]:[this.pickXData[s],this.pickYData[s]],textLabel:E(this.textLabels)?this.textLabels[s]:this.textLabels,color:this.color,name:this.name,pointIndex:s,hoverinfo:this.hoverinfo}},v.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=m(e,{})},v.updateFast=function(e){var s=this.xData=this.pickXData=e.x,n=this.yData=this.pickYData=e.y,l=this.pickXYData=e.xy,o=e.xbounds&&e.ybounds,h=e.indices,b,f,k,a=this.bounds,c,p,w;if(l){if(k=l,b=l.length>>>1,o)a[0]=e.xbounds[0],a[2]=e.xbounds[1],a[1]=e.ybounds[0],a[3]=e.ybounds[1];else for(w=0;w<b;w++)c=k[w*2],p=k[w*2+1],c<a[0]&&(a[0]=c),c>a[2]&&(a[2]=c),p<a[1]&&(a[1]=p),p>a[3]&&(a[3]=p);if(h)f=h;else for(f=new Int32Array(b),w=0;w<b;w++)f[w]=w}else for(b=s.length,k=new Float32Array(2*b),f=new Int32Array(b),w=0;w<b;w++)c=s[w],p=n[w],f[w]=w,k[w*2]=c,k[w*2+1]=p,c<a[0]&&(a[0]=c),c>a[2]&&(a[2]=c),p<a[1]&&(a[1]=p),p>a[3]&&(a[3]=p);this.idToIndex=f,this.pointcloudOptions.idToIndex=f,this.pointcloudOptions.positions=k;var S=i(e.marker.color),_=i(e.marker.border.color),T=e.opacity*e.marker.opacity;S[3]*=T,this.pointcloudOptions.color=S;var P=e.marker.blend;if(P===null){var u=100;P=s.length<u||n.length<u}this.pointcloudOptions.blend=P,_[3]*=T,this.pointcloudOptions.borderColor=_;var g=e.marker.sizemin,L=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=g,this.pointcloudOptions.sizeMax=L,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var A=this.scene.xaxis,R=this.scene.yaxis,O=L/2||.5;e._extremes[A._id]=M(A,[a[0],a[2]],{ppad:O}),e._extremes[R._id]=M(R,[a[1],a[3]],{ppad:O})},v.dispose=function(){this.pointcloud.dispose()};function r(e,s){var n=new d(e,s.uid);return n.update(s),n}X.exports=r},41904:function(X,B,t){var x=t(3400),E=t(35484);X.exports=function(i,M,m){function d(v,r){return x.coerce(i,M,E,v,r)}d("x"),d("y"),d("xbounds"),d("ybounds"),i.xy&&i.xy instanceof Float32Array&&(M.xy=i.xy),i.indices&&i.indices instanceof Int32Array&&(M.indices=i.indices),d("text"),d("marker.color",m),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",m),d("marker.border.arearatio"),M._length=null}},156:function(X,B,t){X.exports={attributes:t(35484),supplyDefaults:t(41904),calc:t(41484),plot:t(11072),moduleType:"trace",name:"pointcloud",basePlotModule:t(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(X,B,t){var x=t(25376),E=t(45464),i=t(22548),M=t(55756),m=t(86968).u,d=t(21776).Ks,v=t(49084),r=t(31780).templatedArray,e=t(29736).descriptionOnlyNumbers,s=t(92880).extendFlat,n=t(67824).overrideAll,l=X.exports=n({hoverinfo:s({},E.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:M.hoverlabel,domain:m({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:e("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:x({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:M.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:M.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(v().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");l.transforms=void 0},10760:function(X,B,t){var x=t(67824).overrideAll,E=t(84888)._M,i=t(59596),M=t(65460),m=t(93972),d=t(86476),v=t(22676).prepSelect,r=t(3400),e=t(24040),s="sankey";B.name=s,B.baseLayoutAttrOverrides=x({hoverlabel:M.hoverlabel},"plot","nested"),B.plot=function(l){var o=E(l.calcdata,s)[0];i(l,o),B.updateFx(l)},B.clean=function(l,o,h,b){var f=b._has&&b._has(s),k=o._has&&o._has(s);f&&!k&&(b._paperdiv.selectAll(".sankey").remove(),b._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(l){for(var o=0;o<l._fullData.length;o++)n(l,o)};function n(l,o){var h=l._fullData[o],b=l._fullLayout,f=b.dragmode,k=b.dragmode==="pan"?"move":"crosshair",a=h._bgRect;if(a&&!(f==="pan"||f==="zoom")){m(a,k);var c={_id:"x",c2p:r.identity,_offset:h._sankey.translateX,_length:h._sankey.width},p={_id:"y",c2p:r.identity,_offset:h._sankey.translateY,_length:h._sankey.height},w={gd:l,element:a.node(),plotinfo:{id:o,xaxis:c,yaxis:p,fillRangeItems:r.noop},subplot:o,xaxes:[c],yaxes:[p],doneFnCompleted:function(S){var _=l._fullData[o],T,P=_.node.groups.slice(),u=[];function g(O){for(var N=_._sankey.graph.nodes,z=0;z<N.length;z++)if(N[z].pointNumber===O)return N[z]}for(var L=0;L<S.length;L++){var A=g(S[L].pointNumber);if(A)if(A.group){for(var R=0;R<A.childrenNodes.length;R++)u.push(A.childrenNodes[R].pointNumber);P[A.pointNumber-_.node._count]=!1}else u.push(A.pointNumber)}T=P.filter(Boolean).concat([u]),e.call("_guiRestyle",l,{"node.groups":[T]},o)}};w.prepFn=function(S,_,T){v(S,_,T,w,f)},d.init(w)}}},48068:function(X,B,t){var x=t(78484),E=t(3400),i=t(71688).wrap,M=E.isArrayOrTypedArray,m=E.isIndex,d=t(8932);function v(e){var s=e.node,n=e.link,l=[],o=M(n.color),h=M(n.hovercolor),b=M(n.customdata),f={},k={},a=n.colorscales.length,c;for(c=0;c<a;c++){var p=n.colorscales[c],w=d.extractScale(p,{cLetter:"c"}),S=d.makeColorScaleFunc(w);k[p.label]=S}var _=0;for(c=0;c<n.value.length;c++)n.source[c]>_&&(_=n.source[c]),n.target[c]>_&&(_=n.target[c]);var T=_+1;e.node._count=T;var P,u=e.node.groups,g={};for(c=0;c<u.length;c++){var L=u[c];for(P=0;P<L.length;P++){var A=L[P],R=T+c;g.hasOwnProperty(A)?E.warn("Node "+A+" is already part of a group."):g[A]=R}}var O={source:[],target:[]};for(c=0;c<n.value.length;c++){var N=n.value[c],z=n.source[c],F=n.target[c];if(N>0&&m(z,T)&&m(F,T)&&!(g.hasOwnProperty(z)&&g.hasOwnProperty(F)&&g[z]===g[F])){g.hasOwnProperty(F)&&(F=g[F]),g.hasOwnProperty(z)&&(z=g[z]),z=+z,F=+F,f[z]=f[F]=!0;var I="";n.label&&n.label[c]&&(I=n.label[c]);var j=null;I&&k.hasOwnProperty(I)&&(j=k[I]),l.push({pointNumber:c,label:I,color:o?n.color[c]:n.color,hovercolor:h?n.hovercolor[c]:n.hovercolor,customdata:b?n.customdata[c]:n.customdata,concentrationscale:j,source:z,target:F,value:+N}),O.source.push(z),O.target.push(F)}}var V=T+u.length,W=M(s.color),K=M(s.customdata),et=[];for(c=0;c<V;c++)if(f[c]){var lt=s.label[c];et.push({group:c>T-1,childrenNodes:[],pointNumber:c,label:lt,color:W?s.color[c]:s.color,customdata:K?s.customdata[c]:s.customdata})}var ot=!1;return r(V,O.source,O.target)&&(ot=!0),{circular:ot,links:l,nodes:et,groups:u,groupLookup:g}}function r(e,s,n){for(var l=E.init2dArray(e,0),o=0;o<Math.min(s.length,n.length);o++)if(E.isIndex(s[o],e)&&E.isIndex(n[o],e)){if(s[o]===n[o])return!0;l[s[o]].push(n[o])}var h=x(l);return h.components.some(function(b){return b.length>1})}X.exports=function(e,s){var n=v(s);return i({circular:n.circular,_nodes:n.nodes,_links:n.links,_groups:n.groups,_groupLookup:n.groupLookup})}},11820:function(X){X.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(X,B,t){var x=t(3400),E=t(41440),i=t(76308),M=t(49760),m=t(86968).Q,d=t(16132),v=t(31780),r=t(51272);X.exports=function(s,n,l,o){function h(A,R){return x.coerce(s,n,E,A,R)}var b=x.extendDeep(o.hoverlabel,s.hoverlabel),f=s.node,k=v.newContainer(n,"node");function a(A,R){return x.coerce(f,k,E.node,A,R)}a("label"),a("groups"),a("x"),a("y"),a("pad"),a("thickness"),a("line.color"),a("line.width"),a("hoverinfo",s.hoverinfo),d(f,k,a,b),a("hovertemplate"),a("align");var c=o.colorway,p=function(A){return c[A%c.length]};a("color",k.label.map(function(A,R){return i.addOpacity(p(R),.8)})),a("customdata");var w=s.link||{},S=v.newContainer(n,"link");function _(A,R){return x.coerce(w,S,E.link,A,R)}_("label"),_("arrowlen"),_("source"),_("target"),_("value"),_("line.color"),_("line.width"),_("hoverinfo",s.hoverinfo),d(w,S,_,b),_("hovertemplate");var T=M(o.paper_bgcolor).getLuminance()<.333,P=T?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",u=_("color",P);function g(A){var R=M(A);if(!R.isValid())return A;var O=R.getAlpha();return O<=.8?R.setAlpha(O+.2):R=T?R.brighten():R.darken(),R.toRgbString()}_("hovercolor",Array.isArray(u)?u.map(g):g(u)),_("customdata"),r(w,S,{name:"colorscales",handleItemDefaults:e}),m(n,o,h),h("orientation"),h("valueformat"),h("valuesuffix");var L;k.x.length&&k.y.length&&(L="freeform"),h("arrangement",L),x.coerceFont(h,"textfont",x.extendFlat({},o.font)),n._length=null};function e(s,n){function l(o,h){return x.coerce(s,n,E.link.colorscales,o,h)}l("label"),l("cmin"),l("cmax"),l("colorscale")}},45499:function(X,B,t){X.exports={attributes:t(41440),supplyDefaults:t(47140),calc:t(48068),plot:t(59596),moduleType:"trace",name:"sankey",basePlotModule:t(10760),selectPoints:t(81128),categories:["noOpacity"],meta:{}}},59596:function(X,B,t){var x=t(33428),E=t(3400),i=E.numberFormat,M=t(83248),m=t(93024),d=t(76308),v=t(11820).cn,r=E._;function e(p){return p!==""}function s(p,w){return p.filter(function(S){return S.key===w.traceId})}function n(p,w){x.select(p).select("path").style("fill-opacity",w),x.select(p).select("rect").style("fill-opacity",w)}function l(p){x.select(p).select("text.name").style("fill","black")}function o(p){return function(w){return p.node.sourceLinks.indexOf(w.link)!==-1||p.node.targetLinks.indexOf(w.link)!==-1}}function h(p){return function(w){return w.node.sourceLinks.indexOf(p.link)!==-1||w.node.targetLinks.indexOf(p.link)!==-1}}function b(p,w,S){w&&S&&s(S,w).selectAll("."+v.sankeyLink).filter(o(w)).call(k.bind(0,w,S,!1))}function f(p,w,S){w&&S&&s(S,w).selectAll("."+v.sankeyLink).filter(o(w)).call(a.bind(0,w,S,!1))}function k(p,w,S,_){_.style("fill",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverHue}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverAlpha}),_.each(function(T){var P=T.link.label;P!==""&&s(w,p).selectAll("."+v.sankeyLink).filter(function(u){return u.link.label===P}).style("fill",function(u){if(!u.link.concentrationscale)return u.tinyColorHoverHue}).style("fill-opacity",function(u){if(!u.link.concentrationscale)return u.tinyColorHoverAlpha})}),S&&s(w,p).selectAll("."+v.sankeyNode).filter(h(p)).call(b)}function a(p,w,S,_){_.style("fill",function(T){return T.tinyColorHue}).style("fill-opacity",function(T){return T.tinyColorAlpha}),_.each(function(T){var P=T.link.label;P!==""&&s(w,p).selectAll("."+v.sankeyLink).filter(function(u){return u.link.label===P}).style("fill",function(u){return u.tinyColorHue}).style("fill-opacity",function(u){return u.tinyColorAlpha})}),S&&s(w,p).selectAll(v.sankeyNode).filter(h(p)).call(f)}function c(p,w){var S=p.hoverlabel||{},_=E.nestedProperty(S,w).get();return Array.isArray(_)?!1:_}X.exports=function(p,w){for(var S=p._fullLayout,_=S._paper,T=S._size,P=0;P<p._fullData.length;P++)if(p._fullData[P].visible&&p._fullData[P].type===v.sankey&&!p._fullData[P]._viewInitial){var u=p._fullData[P].node;p._fullData[P]._viewInitial={node:{groups:u.groups.slice(),x:u.x.slice(),y:u.y.slice()}}}var g=function(et,lt){var ot=lt.link;ot.originalEvent=x.event,p._hoverdata=[ot],m.click(p,{target:!0})},L=function(et,lt,ot){p._fullLayout.hovermode!==!1&&(x.select(et).call(k.bind(0,lt,ot,!0)),lt.link.trace.link.hoverinfo!=="skip"&&(lt.link.fullData=lt.link.trace,p.emit("plotly_hover",{event:x.event,points:[lt.link]})))},A=r(p,"source:")+" ",R=r(p,"target:")+" ",O=r(p,"concentration:")+" ",N=r(p,"incoming flow count:")+" ",z=r(p,"outgoing flow count:")+" ",F=function(et,lt){if(p._fullLayout.hovermode===!1)return;var ot=lt.link.trace.link;if(ot.hoverinfo==="none"||ot.hoverinfo==="skip")return;var q=[];function J(ut){var at,dt;ut.circular?(at=(ut.circularPathData.leftInnerExtent+ut.circularPathData.rightInnerExtent)/2,dt=ut.circularPathData.verticalFullExtent):(at=(ut.source.x1+ut.target.x0)/2,dt=(ut.y0+ut.y1)/2);var gt=[at,dt];return ut.trace.orientation==="v"&&gt.reverse(),gt[0]+=lt.parent.translateX,gt[1]+=lt.parent.translateY,gt}for(var it=0,Z=0;Z<lt.flow.links.length;Z++){var tt=lt.flow.links[Z];if(!(p._fullLayout.hovermode==="closest"&&lt.link.pointNumber!==tt.pointNumber)){lt.link.pointNumber===tt.pointNumber&&(it=Z),tt.fullData=tt.trace,ot=lt.link.trace.link;var st=J(tt),Q={valueLabel:i(lt.valueFormat)(tt.value)+lt.valueSuffix};q.push({x:st[0],y:st[1],name:Q.valueLabel,text:[tt.label||"",A+tt.source.label,R+tt.target.label,tt.concentrationscale?O+i("%0.2f")(tt.flow.labelConcentration):""].filter(e).join("<br>"),color:c(ot,"bgcolor")||d.addOpacity(tt.color,1),borderColor:c(ot,"bordercolor"),fontFamily:c(ot,"font.family"),fontSize:c(ot,"font.size"),fontColor:c(ot,"font.color"),nameLength:c(ot,"namelength"),textAlign:c(ot,"align"),idealAlign:x.event.x<st[0]?"right":"left",hovertemplate:ot.hovertemplate,hovertemplateLabels:Q,eventData:[tt]})}}var G=m.loneHover(q,{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:p,anchorIndex:it});G.each(function(){var ut=this;lt.link.concentrationscale||n(ut,.65),l(ut)})},I=function(et,lt,ot){p._fullLayout.hovermode!==!1&&(x.select(et).call(a.bind(0,lt,ot,!0)),lt.link.trace.link.hoverinfo!=="skip"&&(lt.link.fullData=lt.link.trace,p.emit("plotly_unhover",{event:x.event,points:[lt.link]})),m.loneUnhover(S._hoverlayer.node()))},j=function(et,lt,ot){var q=lt.node;q.originalEvent=x.event,p._hoverdata=[q],x.select(et).call(f,lt,ot),m.click(p,{target:!0})},V=function(et,lt,ot){p._fullLayout.hovermode!==!1&&(x.select(et).call(b,lt,ot),lt.node.trace.node.hoverinfo!=="skip"&&(lt.node.fullData=lt.node.trace,p.emit("plotly_hover",{event:x.event,points:[lt.node]})))},W=function(et,lt){if(p._fullLayout.hovermode!==!1){var ot=lt.node.trace.node;if(!(ot.hoverinfo==="none"||ot.hoverinfo==="skip")){var q=x.select(et).select("."+v.nodeRect),J=p._fullLayout._paperdiv.node().getBoundingClientRect(),it=q.node().getBoundingClientRect(),Z=it.left-2-J.left,tt=it.right+2-J.left,st=it.top+it.height/4-J.top,Q={valueLabel:i(lt.valueFormat)(lt.node.value)+lt.valueSuffix};lt.node.fullData=lt.node.trace,p._fullLayout._calcInverseTransform(p);var G=p._fullLayout._invScaleX,ut=p._fullLayout._invScaleY,at=m.loneHover({x0:G*Z,x1:G*tt,y:ut*st,name:i(lt.valueFormat)(lt.node.value)+lt.valueSuffix,text:[lt.node.label,N+lt.node.targetLinks.length,z+lt.node.sourceLinks.length].filter(e).join("<br>"),color:c(ot,"bgcolor")||lt.tinyColorHue,borderColor:c(ot,"bordercolor"),fontFamily:c(ot,"font.family"),fontSize:c(ot,"font.size"),fontColor:c(ot,"font.color"),nameLength:c(ot,"namelength"),textAlign:c(ot,"align"),idealAlign:"left",hovertemplate:ot.hovertemplate,hovertemplateLabels:Q,eventData:[lt.node]},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:p});n(at,.85),l(at)}}},K=function(et,lt,ot){p._fullLayout.hovermode!==!1&&(x.select(et).call(f,lt,ot),lt.node.trace.node.hoverinfo!=="skip"&&(lt.node.fullData=lt.node.trace,p.emit("plotly_unhover",{event:x.event,points:[lt.node]})),m.loneUnhover(S._hoverlayer.node()))};M(p,_,w,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{linkEvents:{hover:L,follow:F,unhover:I,select:g},nodeEvents:{hover:V,follow:W,unhover:K,select:j}})}},83248:function(X,B,t){var x=t(49812),E=t(67756).Gz,i=t(33428),M=t(26800),m=t(48932),d=t(11820),v=t(49760),r=t(76308),e=t(43616),s=t(3400),n=s.strTranslate,l=s.strRotate,o=t(71688),h=o.keyFun,b=o.repeat,f=o.unwrap,k=t(72736),a=t(24040),c=t(84284),p=c.CAP_SHIFT,w=c.LINE_SPACING,S=3;function _(it,Z,tt){var st=f(Z),Q=st.trace,G=Q.domain,ut=Q.orientation==="h",at=Q.node.pad,dt=Q.node.thickness,gt={justify:M.sankeyJustify,left:M.sankeyLeft,right:M.sankeyRight,center:M.sankeyCenter}[Q.node.align],wt=it.width*(G.x[1]-G.x[0]),kt=it.height*(G.y[1]-G.y[0]),Ot=st._nodes,bt=st._links,_t=st.circular,mt;_t?mt=m.sankeyCircular().circularLinkGap(0):mt=M.sankey(),mt.iterations(d.sankeyIterations).size(ut?[wt,kt]:[kt,wt]).nodeWidth(dt).nodePadding(at).nodeId(function(Et){return Et.pointNumber}).nodeAlign(gt).nodes(Ot).links(bt);var Pt=mt();mt.nodePadding()<at&&s.warn("node.pad was reduced to ",mt.nodePadding()," to fit within the figure.");var Rt,Ht,Dt;for(var Xt in st._groupLookup){var se=parseInt(st._groupLookup[Xt]),Yt;for(Rt=0;Rt<Pt.nodes.length;Rt++)if(Pt.nodes[Rt].pointNumber===se){Yt=Pt.nodes[Rt];break}if(Yt){var ue={pointNumber:parseInt(Xt),x0:Yt.x0,x1:Yt.x1,y0:Yt.y0,y1:Yt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Pt.nodes.unshift(ue),Yt.childrenNodes.unshift(ue)}}function ie(){for(Rt=0;Rt<Pt.nodes.length;Rt++){var Et=Pt.nodes[Rt],Vt={},te,Jt;for(Ht=0;Ht<Et.targetLinks.length;Ht++)Jt=Et.targetLinks[Ht],te=Jt.source.pointNumber+":"+Jt.target.pointNumber,Vt.hasOwnProperty(te)||(Vt[te]=[]),Vt[te].push(Jt);var Ut=Object.keys(Vt);for(Ht=0;Ht<Ut.length;Ht++){te=Ut[Ht];var It=Vt[te],pt=0,xt={};for(Dt=0;Dt<It.length;Dt++)Jt=It[Dt],xt[Jt.label]||(xt[Jt.label]=0),xt[Jt.label]+=Jt.value,pt+=Jt.value;for(Dt=0;Dt<It.length;Dt++)Jt=It[Dt],Jt.flow={value:pt,labelConcentration:xt[Jt.label]/pt,concentration:Jt.value/pt,links:It},Jt.concentrationscale&&(Jt.color=v(Jt.concentrationscale(Jt.flow.labelConcentration)))}var Ct=0;for(Ht=0;Ht<Et.sourceLinks.length;Ht++)Ct+=Et.sourceLinks[Ht].value;for(Ht=0;Ht<Et.sourceLinks.length;Ht++)Jt=Et.sourceLinks[Ht],Jt.concentrationOut=Jt.value/Ct;var At=0;for(Ht=0;Ht<Et.targetLinks.length;Ht++)At+=Et.targetLinks[Ht].value;for(Ht=0;Ht<Et.targetLinks.length;Ht++)Jt=Et.targetLinks[Ht],Jt.concenrationIn=Jt.value/At}}ie();function fe(Et){Et.forEach(function(Vt){var te,Jt,Ut=0,It=Vt.length,pt;for(Vt.sort(function(xt,Ct){return xt.y0-Ct.y0}),pt=0;pt<It;++pt)te=Vt[pt],te.y0>=Ut||(Jt=Ut-te.y0,Jt>1e-6&&(te.y0+=Jt,te.y1+=Jt)),Ut=te.y1+at})}function ce(Et){var Vt=Et.map(function(Ct,At){return{x0:Ct.x0,index:At}}).sort(function(Ct,At){return Ct.x0-At.x0}),te=[],Jt=-1,Ut,It=-1/0,pt;for(Rt=0;Rt<Vt.length;Rt++){var xt=Et[Vt[Rt].index];xt.x0>It+dt&&(Jt+=1,Ut=xt.x0),It=xt.x0,te[Jt]||(te[Jt]=[]),te[Jt].push(xt),pt=Ut-xt.x0,xt.x0+=pt,xt.x1+=pt}return te}if(Q.node.x.length&&Q.node.y.length){for(Rt=0;Rt<Math.min(Q.node.x.length,Q.node.y.length,Pt.nodes.length);Rt++)if(Q.node.x[Rt]&&Q.node.y[Rt]){var ye=[Q.node.x[Rt]*wt,Q.node.y[Rt]*kt];Pt.nodes[Rt].x0=ye[0]-dt/2,Pt.nodes[Rt].x1=ye[0]+dt/2;var de=Pt.nodes[Rt].y1-Pt.nodes[Rt].y0;Pt.nodes[Rt].y0=ye[1]-de/2,Pt.nodes[Rt].y1=ye[1]+de/2}if(Q.arrangement==="snap"){Ot=Pt.nodes;var Te=ce(Ot);fe(Te)}mt.update(Pt)}return{circular:_t,key:tt,trace:Q,guid:s.randstr(),horizontal:ut,width:wt,height:kt,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:G.x[0]*it.width+it.margin.l,translateY:it.height-G.y[1]*it.height+it.margin.t,dragParallel:ut?kt:wt,dragPerpendicular:ut?wt:kt,arrangement:Q.arrangement,sankey:mt,graph:Pt,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function T(it,Z,tt){var st=v(Z.color),Q=v(Z.hovercolor),G=Z.source.label+"|"+Z.target.label,ut=G+"__"+tt;return Z.trace=it.trace,Z.curveNumber=it.trace.index,{circular:it.circular,key:ut,traceId:it.key,pointNumber:Z.pointNumber,link:Z,tinyColorHue:r.tinyRGB(st),tinyColorAlpha:st.getAlpha(),tinyColorHoverHue:r.tinyRGB(Q),tinyColorHoverAlpha:Q.getAlpha(),linkPath:u,linkLineColor:it.linkLineColor,linkLineWidth:it.linkLineWidth,linkArrowLength:it.linkArrowLength,valueFormat:it.valueFormat,valueSuffix:it.valueSuffix,sankey:it.sankey,parent:it,interactionState:it.interactionState,flow:Z.flow}}function P(it,Z){var tt="",st=it.width/2,Q=it.circularPathData;return it.circularLinkType==="top"?tt="M "+(Q.targetX-Z)+" "+(Q.targetY+st)+" L"+(Q.rightInnerExtent-Z)+" "+(Q.targetY+st)+"A"+(Q.rightLargeArcRadius+st)+" "+(Q.rightSmallArcRadius+st)+" 0 0 1 "+(Q.rightFullExtent-st-Z)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-st-Z)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+st)+" "+(Q.rightLargeArcRadius+st)+" 0 0 1 "+(Q.rightInnerExtent-Z)+" "+(Q.verticalFullExtent-st)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-st)+"A"+(Q.leftLargeArcRadius+st)+" "+(Q.leftLargeArcRadius+st)+" 0 0 1 "+(Q.leftFullExtent+st)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+st)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+st)+" "+(Q.leftSmallArcRadius+st)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+st)+"L"+Q.sourceX+" "+(Q.sourceY+st)+"L"+Q.sourceX+" "+(Q.sourceY-st)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-st)+"A"+(Q.leftLargeArcRadius-st)+" "+(Q.leftSmallArcRadius-st)+" 0 0 0 "+(Q.leftFullExtent-st)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-st)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-st)+" "+(Q.leftLargeArcRadius-st)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+st)+"L"+(Q.rightInnerExtent-Z)+" "+(Q.verticalFullExtent+st)+"A"+(Q.rightLargeArcRadius-st)+" "+(Q.rightLargeArcRadius-st)+" 0 0 0 "+(Q.rightFullExtent+st-Z)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+st-Z)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-st)+" "+(Q.rightSmallArcRadius-st)+" 0 0 0 "+(Q.rightInnerExtent-Z)+" "+(Q.targetY-st)+"L"+(Q.targetX-Z)+" "+(Q.targetY-st)+(Z>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":tt="M "+(Q.targetX-Z)+" "+(Q.targetY-st)+" L"+(Q.rightInnerExtent-Z)+" "+(Q.targetY-st)+"A"+(Q.rightLargeArcRadius+st)+" "+(Q.rightSmallArcRadius+st)+" 0 0 0 "+(Q.rightFullExtent-st-Z)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-st-Z)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+st)+" "+(Q.rightLargeArcRadius+st)+" 0 0 0 "+(Q.rightInnerExtent-Z)+" "+(Q.verticalFullExtent+st)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+st)+"A"+(Q.leftLargeArcRadius+st)+" "+(Q.leftLargeArcRadius+st)+" 0 0 0 "+(Q.leftFullExtent+st)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+st)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+st)+" "+(Q.leftSmallArcRadius+st)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-st)+"L"+Q.sourceX+" "+(Q.sourceY-st)+"L"+Q.sourceX+" "+(Q.sourceY+st)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+st)+"A"+(Q.leftLargeArcRadius-st)+" "+(Q.leftSmallArcRadius-st)+" 0 0 1 "+(Q.leftFullExtent-st)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-st)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-st)+" "+(Q.leftLargeArcRadius-st)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-st)+"L"+(Q.rightInnerExtent-Z)+" "+(Q.verticalFullExtent-st)+"A"+(Q.rightLargeArcRadius-st)+" "+(Q.rightLargeArcRadius-st)+" 0 0 1 "+(Q.rightFullExtent+st-Z)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+st-Z)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-st)+" "+(Q.rightSmallArcRadius-st)+" 0 0 1 "+(Q.rightInnerExtent-Z)+" "+(Q.targetY+st)+"L"+(Q.targetX-Z)+" "+(Q.targetY+st)+(Z>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z",tt}function u(){var it=.5;function Z(tt){var st=tt.linkArrowLength;if(tt.link.circular)return P(tt.link,st);var Q=Math.abs((tt.link.target.x0-tt.link.source.x1)/2);st>Q&&(st=Q);var G=tt.link.source.x1,ut=tt.link.target.x0-st,at=E(G,ut),dt=at(it),gt=at(1-it),wt=tt.link.y0-tt.link.width/2,kt=tt.link.y0+tt.link.width/2,Ot=tt.link.y1-tt.link.width/2,bt=tt.link.y1+tt.link.width/2,_t="M"+G+","+wt,mt="C"+dt+","+wt+" "+gt+","+Ot+" "+ut+","+Ot,Pt="C"+gt+","+bt+" "+dt+","+kt+" "+G+","+kt,Rt=st>0?"L"+(ut+st)+","+(Ot+tt.link.width/2):"";return Rt+="L"+ut+","+bt,_t+mt+Rt+Pt+"Z"}return Z}function g(it,Z){var tt=v(Z.color),st=d.nodePadAcross,Q=it.nodePad/2;Z.dx=Z.x1-Z.x0,Z.dy=Z.y1-Z.y0;var G=Z.dx,ut=Math.max(.5,Z.dy),at="node_"+Z.pointNumber;return Z.group&&(at=s.randstr()),Z.trace=it.trace,Z.curveNumber=it.trace.index,{index:Z.pointNumber,key:at,partOfGroup:Z.partOfGroup||!1,group:Z.group,traceId:it.key,trace:it.trace,node:Z,nodePad:it.nodePad,nodeLineColor:it.nodeLineColor,nodeLineWidth:it.nodeLineWidth,textFont:it.textFont,size:it.horizontal?it.height:it.width,visibleWidth:Math.ceil(G),visibleHeight:ut,zoneX:-st,zoneY:-Q,zoneWidth:G+2*st,zoneHeight:ut+2*Q,labelY:it.horizontal?Z.dy/2+1:Z.dx/2+1,left:Z.originalLayer===1,sizeAcross:it.width,forceLayouts:it.forceLayouts,horizontal:it.horizontal,darkBackground:tt.getBrightness()<=128,tinyColorHue:r.tinyRGB(tt),tinyColorAlpha:tt.getAlpha(),valueFormat:it.valueFormat,valueSuffix:it.valueSuffix,sankey:it.sankey,graph:it.graph,arrangement:it.arrangement,uniqueNodeLabelPathId:[it.guid,it.key,at].join("_"),interactionState:it.interactionState,figure:it}}function L(it){it.attr("transform",function(Z){return n(Z.node.x0.toFixed(3),Z.node.y0.toFixed(3))})}function A(it){it.call(L)}function R(it,Z){it.call(A),Z.attr("d",u())}function O(it){it.attr("width",function(Z){return Z.node.x1-Z.node.x0}).attr("height",function(Z){return Z.visibleHeight})}function N(it){return it.link.width>1||it.linkLineWidth>0}function z(it){var Z=n(it.translateX,it.translateY);return Z+(it.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function F(it,Z,tt){it.on(".basic",null).on("mouseover.basic",function(st){!st.interactionState.dragInProgress&&!st.partOfGroup&&(tt.hover(this,st,Z),st.interactionState.hovered=[this,st])}).on("mousemove.basic",function(st){!st.interactionState.dragInProgress&&!st.partOfGroup&&(tt.follow(this,st),st.interactionState.hovered=[this,st])}).on("mouseout.basic",function(st){!st.interactionState.dragInProgress&&!st.partOfGroup&&(tt.unhover(this,st,Z),st.interactionState.hovered=!1)}).on("click.basic",function(st){st.interactionState.hovered&&(tt.unhover(this,st,Z),st.interactionState.hovered=!1),!st.interactionState.dragInProgress&&!st.partOfGroup&&tt.select(this,st,Z)})}function I(it,Z,tt,st){var Q=i.behavior.drag().origin(function(G){return{x:G.node.x0+G.visibleWidth/2,y:G.node.y0+G.visibleHeight/2}}).on("dragstart",function(G){if(G.arrangement!=="fixed"&&(s.ensureSingle(st._fullLayout._infolayer,"g","dragcover",function(at){st._fullLayout._dragCover=at}),s.raiseToTop(this),G.interactionState.dragInProgress=G.node,lt(G.node),G.interactionState.hovered&&(tt.nodeEvents.unhover.apply(0,G.interactionState.hovered),G.interactionState.hovered=!1),G.arrangement==="snap")){var ut=G.traceId+"|"+G.key;G.forceLayouts[ut]?G.forceLayouts[ut].alpha(1):j(it,ut,G),V(it,Z,G,ut,st)}}).on("drag",function(G){if(G.arrangement!=="fixed"){var ut=i.event.x,at=i.event.y;G.arrangement==="snap"?(G.node.x0=ut-G.visibleWidth/2,G.node.x1=ut+G.visibleWidth/2,G.node.y0=at-G.visibleHeight/2,G.node.y1=at+G.visibleHeight/2):(G.arrangement==="freeform"&&(G.node.x0=ut-G.visibleWidth/2,G.node.x1=ut+G.visibleWidth/2),at=Math.max(0,Math.min(G.size-G.visibleHeight/2,at)),G.node.y0=at-G.visibleHeight/2,G.node.y1=at+G.visibleHeight/2),lt(G.node),G.arrangement!=="snap"&&(G.sankey.update(G.graph),R(it.filter(ot(G)),Z))}}).on("dragend",function(G){if(G.arrangement!=="fixed"){G.interactionState.dragInProgress=!1;for(var ut=0;ut<G.node.childrenNodes.length;ut++)G.node.childrenNodes[ut].x=G.node.x,G.node.childrenNodes[ut].y=G.node.y;G.arrangement!=="snap"&&K(G,st)}});it.on(".drag",null).call(Q)}function j(it,Z,tt,st){q(tt.graph.nodes);var Q=tt.graph.nodes.filter(function(G){return G.originalX===tt.node.originalX}).filter(function(G){return!G.partOfGroup});tt.forceLayouts[Z]=x.forceSimulation(Q).alphaDecay(0).force("collide",x.forceCollide().radius(function(G){return G.dy/2+tt.nodePad/2}).strength(1).iterations(d.forceIterations)).force("constrain",W(it,Z,Q,tt)).stop()}function V(it,Z,tt,st,Q){window.requestAnimationFrame(function G(){var ut;for(ut=0;ut<d.forceTicksPerFrame;ut++)tt.forceLayouts[st].tick();var at=tt.graph.nodes;if(J(at),tt.sankey.update(tt.graph),R(it.filter(ot(tt)),Z),tt.forceLayouts[st].alpha()>0)window.requestAnimationFrame(G);else{var dt=tt.node.originalX;tt.node.x0=dt-tt.visibleWidth/2,tt.node.x1=dt+tt.visibleWidth/2,K(tt,Q)}})}function W(it,Z,tt,st){return function(){for(var Q=0,G=0;G<tt.length;G++){var ut=tt[G];ut===st.interactionState.dragInProgress?(ut.x=ut.lastDraggedX,ut.y=ut.lastDraggedY):(ut.vx=(ut.originalX-ut.x)/d.forceTicksPerFrame,ut.y=Math.min(st.size-ut.dy/2,Math.max(ut.dy/2,ut.y))),Q=Math.max(Q,Math.abs(ut.vx),Math.abs(ut.vy))}!st.interactionState.dragInProgress&&Q<.1&&st.forceLayouts[Z].alpha()>0&&st.forceLayouts[Z].alpha(0)}}function K(it,Z){for(var tt=[],st=[],Q=0;Q<it.graph.nodes.length;Q++){var G=(it.graph.nodes[Q].x0+it.graph.nodes[Q].x1)/2,ut=(it.graph.nodes[Q].y0+it.graph.nodes[Q].y1)/2;tt.push(G/it.figure.width),st.push(ut/it.figure.height)}a.call("_guiRestyle",Z,{"node.x":[tt],"node.y":[st]},it.trace.index).then(function(){Z._fullLayout._dragCover&&Z._fullLayout._dragCover.remove()})}function et(it){var Z=[],tt;for(tt=0;tt<it.length;tt++)it[tt].originalX=(it[tt].x0+it[tt].x1)/2,it[tt].originalY=(it[tt].y0+it[tt].y1)/2,Z.indexOf(it[tt].originalX)===-1&&Z.push(it[tt].originalX);for(Z.sort(function(st,Q){return st-Q}),tt=0;tt<it.length;tt++)it[tt].originalLayerIndex=Z.indexOf(it[tt].originalX),it[tt].originalLayer=it[tt].originalLayerIndex/(Z.length-1)}function lt(it){it.lastDraggedX=it.x0+it.dx/2,it.lastDraggedY=it.y0+it.dy/2}function ot(it){return function(Z){return Z.node.originalX===it.node.originalX}}function q(it){for(var Z=0;Z<it.length;Z++)it[Z].y=(it[Z].y0+it[Z].y1)/2,it[Z].x=(it[Z].x0+it[Z].x1)/2}function J(it){for(var Z=0;Z<it.length;Z++)it[Z].y0=it[Z].y-it[Z].dy/2,it[Z].y1=it[Z].y0+it[Z].dy,it[Z].x0=it[Z].x-it[Z].dx/2,it[Z].x1=it[Z].x0+it[Z].dx}X.exports=function(it,Z,tt,st,Q){var G=it._context.staticPlot,ut=!1;s.ensureSingle(it._fullLayout._infolayer,"g","first-render",function(){ut=!0});var at=it._fullLayout._dragCover,dt=tt.filter(function(Pt){return f(Pt).trace.visible}).map(_.bind(null,st)),gt=Z.selectAll("."+d.cn.sankey).data(dt,h);gt.exit().remove(),gt.enter().append("g").classed(d.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",G?"none":"auto").attr("transform",z),gt.each(function(Pt,Rt){it._fullData[Rt]._sankey=Pt;var Ht="bgsankey-"+Pt.trace.uid+"-"+Rt;s.ensureSingle(it._fullLayout._draggers,"rect",Ht),it._fullData[Rt]._bgRect=i.select("."+Ht),it._fullData[Rt]._bgRect.style("pointer-events",G?"none":"all").attr("width",Pt.width).attr("height",Pt.height).attr("x",Pt.translateX).attr("y",Pt.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),gt.transition().ease(d.ease).duration(d.duration).attr("transform",z);var wt=gt.selectAll("."+d.cn.sankeyLinks).data(b,h);wt.enter().append("g").classed(d.cn.sankeyLinks,!0).style("fill","none");var kt=wt.selectAll("."+d.cn.sankeyLink).data(function(Pt){var Rt=Pt.graph.links;return Rt.filter(function(Ht){return Ht.value}).map(T.bind(null,Pt))},h);kt.enter().append("path").classed(d.cn.sankeyLink,!0).call(F,gt,Q.linkEvents),kt.style("stroke",function(Pt){return N(Pt)?r.tinyRGB(v(Pt.linkLineColor)):Pt.tinyColorHue}).style("stroke-opacity",function(Pt){return N(Pt)?r.opacity(Pt.linkLineColor):Pt.tinyColorAlpha}).style("fill",function(Pt){return Pt.tinyColorHue}).style("fill-opacity",function(Pt){return Pt.tinyColorAlpha}).style("stroke-width",function(Pt){return N(Pt)?Pt.linkLineWidth:1}).attr("d",u()),kt.style("opacity",function(){return it._context.staticPlot||ut||at?1:0}).transition().ease(d.ease).duration(d.duration).style("opacity",1),kt.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var Ot=gt.selectAll("."+d.cn.sankeyNodeSet).data(b,h);Ot.enter().append("g").classed(d.cn.sankeyNodeSet,!0),Ot.style("cursor",function(Pt){switch(Pt.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var bt=Ot.selectAll("."+d.cn.sankeyNode).data(function(Pt){var Rt=Pt.graph.nodes;return et(Rt),Rt.map(g.bind(null,Pt))},h);bt.enter().append("g").classed(d.cn.sankeyNode,!0).call(L).style("opacity",function(Pt){return(it._context.staticPlot||ut)&&!Pt.partOfGroup?1:0}),bt.call(F,gt,Q.nodeEvents).call(I,kt,Q,it),bt.transition().ease(d.ease).duration(d.duration).call(L).style("opacity",function(Pt){return Pt.partOfGroup?0:1}),bt.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var _t=bt.selectAll("."+d.cn.nodeRect).data(b);_t.enter().append("rect").classed(d.cn.nodeRect,!0).call(O),_t.style("stroke-width",function(Pt){return Pt.nodeLineWidth}).style("stroke",function(Pt){return r.tinyRGB(v(Pt.nodeLineColor))}).style("stroke-opacity",function(Pt){return r.opacity(Pt.nodeLineColor)}).style("fill",function(Pt){return Pt.tinyColorHue}).style("fill-opacity",function(Pt){return Pt.tinyColorAlpha}),_t.transition().ease(d.ease).duration(d.duration).call(O);var mt=bt.selectAll("."+d.cn.nodeLabel).data(b);mt.enter().append("text").classed(d.cn.nodeLabel,!0).style("cursor","default"),mt.attr("data-notex",1).text(function(Pt){return Pt.node.label}).each(function(Pt){var Rt=i.select(this);e.font(Rt,Pt.textFont),k.convertToTspans(Rt,it)}).style("text-shadow",k.makeTextShadow(it._fullLayout.paper_bgcolor)).attr("text-anchor",function(Pt){return Pt.horizontal&&Pt.left?"end":"start"}).attr("transform",function(Pt){var Rt=i.select(this),Ht=k.lineCount(Rt),Dt=Pt.textFont.size*((Ht-1)*w-p),Xt=Pt.nodeLineWidth/2+S,se=((Pt.horizontal?Pt.visibleHeight:Pt.visibleWidth)-Dt)/2;Pt.horizontal&&(Pt.left?Xt=-Xt:Xt+=Pt.visibleWidth);var Yt=Pt.horizontal?"":"scale(-1,1)"+l(90);return n(Pt.horizontal?Xt:se,Pt.horizontal?se:Xt)+Yt}),mt.transition().ease(d.ease).duration(d.duration)}},81128:function(X){X.exports=function(B,t){for(var x=B.cd,E=[],i=x[0].trace,M=i._sankey.graph.nodes,m=0;m<M.length;m++){var d=M[m];if(!d.partOfGroup){var v=[(d.x0+d.x1)/2,(d.y0+d.y1)/2];i.orientation==="v"&&v.reverse(),t&&t.contains(v,!1,m,B)&&E.push({pointNumber:d.pointNumber})}}return E}},20148:function(X,B,t){var x=t(3400);X.exports=function(E,i){for(var M=0;M<E.length;M++)E[M].i=M;x.mergeArray(i.text,E,"tx"),x.mergeArray(i.texttemplate,E,"txt"),x.mergeArray(i.hovertext,E,"htx"),x.mergeArray(i.customdata,E,"data"),x.mergeArray(i.textposition,E,"tp"),i.textfont&&(x.mergeArrayCastPositive(i.textfont.size,E,"ts"),x.mergeArray(i.textfont.color,E,"tc"),x.mergeArray(i.textfont.family,E,"tf"));var m=i.marker;if(m){x.mergeArrayCastPositive(m.size,E,"ms"),x.mergeArrayCastPositive(m.opacity,E,"mo"),x.mergeArray(m.symbol,E,"mx"),x.mergeArray(m.angle,E,"ma"),x.mergeArray(m.standoff,E,"mf"),x.mergeArray(m.color,E,"mc");var d=m.line;m.line&&(x.mergeArray(d.color,E,"mlc"),x.mergeArrayCastPositive(d.width,E,"mlw"));var v=m.gradient;v&&v.type!=="none"&&(x.mergeArray(v.type,E,"mgt"),x.mergeArray(v.color,E,"mgc"))}}},52904:function(X,B,t){var x=t(29736).axisHoverFormat,E=t(21776).Gw,i=t(21776).Ks,M=t(49084),m=t(25376),d=t(98192).u,v=t(98192).c,r=t(43616),e=t(88200),s=t(92880).extendFlat,n=t(98304);function l(b){return{valType:"any",dflt:0,editType:"calc"}}function o(b){return{valType:"any",editType:"calc"}}function h(b){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}X.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:l(),yperiod:l(),xperiod0:o(),yperiod0:o(),xperiodalignment:h(),yperiodalignment:h(),xhoverformat:x("x"),yhoverformat:x("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:E({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:s({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:v,marker:s({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},M("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},M("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:m({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(X,B,t){var x=t(38248),E=t(3400),i=t(54460),M=t(1220),m=t(39032).BADNUM,d=t(43028),v=t(90136),r=t(20148),e=t(4500);function s(f,k){var a=f._fullLayout,c=k._xA=i.getFromId(f,k.xaxis||"x","x"),p=k._yA=i.getFromId(f,k.yaxis||"y","y"),w=c.makeCalcdata(k,"x"),S=p.makeCalcdata(k,"y"),_=M(k,c,"x",w),T=M(k,p,"y",S),P=_.vals,u=T.vals,g=k._length,L=new Array(g),A=k.ids,R=b(k,a,c,p),O=!1,N,z,F,I,j,V;o(a,k);var W="x",K="y",et;if(R)E.pushUnique(R.traceIndices,k._expandedIndex),N=R.orientation==="v",N?(K="s",et="x"):(W="s",et="y"),j=R.stackgaps==="interpolate";else{var lt=l(k,g);n(f,k,c,p,P,u,lt)}var ot=!!k.xperiodalignment,q=!!k.yperiodalignment;for(z=0;z<g;z++){var J=L[z]={},it=x(P[z]),Z=x(u[z]);it&&Z?(J[W]=P[z],J[K]=u[z],ot&&(J.orig_x=w[z],J.xEnd=_.ends[z],J.xStart=_.starts[z]),q&&(J.orig_y=S[z],J.yEnd=T.ends[z],J.yStart=T.starts[z])):R&&(N?it:Z)?(J[et]=N?P[z]:u[z],J.gap=!0,j?(J.s=m,O=!0):J.s=0):J[W]=J[K]=m,A&&(J.id=String(A[z]))}if(r(L,k),v(f,k),e(L,k),R){for(z=0;z<L.length;)L[z][et]===m?L.splice(z,1):z++;if(E.sort(L,function(G,ut){return G[et]-ut[et]||G.i-ut.i}),O){for(z=0;z<L.length-1&&L[z].gap;)z++;for(V=L[z].s,V||(V=L[z].s=0),F=0;F<z;F++)L[F].s=V;for(I=L.length-1;I>z&&L[I].gap;)I--;for(V=L[I].s,F=L.length-1;F>I;F--)L[F].s=V;for(;z<I;)if(z++,L[z].gap){for(F=z+1;L[F].gap;)F++;for(var tt=L[z-1][et],st=L[z-1].s,Q=(L[F].s-st)/(L[F][et]-tt);z<F;)L[z].s=st+(L[z][et]-tt)*Q,z++}}}return L}function n(f,k,a,c,p,w,S){var _=k._length,T=f._fullLayout,P=a._id,u=c._id,g=T._firstScatter[h(k)]===k.uid,L=(b(k,T,a,c)||{}).orientation,A=k.fill;a._minDtick=0,c._minDtick=0;var R={padded:!0},O={padded:!0};S&&(R.ppad=O.ppad=S);var N=_<2||p[0]!==p[_-1]||w[0]!==w[_-1];N&&(A==="tozerox"||A==="tonextx"&&(g||L==="h"))?R.tozero=!0:!(k.error_y||{}).visible&&(A==="tonexty"||A==="tozeroy"||!d.hasMarkers(k)&&!d.hasText(k))&&(R.padded=!1,R.ppad=0),N&&(A==="tozeroy"||A==="tonexty"&&(g||L==="v"))?O.tozero=!0:(A==="tonextx"||A==="tozerox")&&(O.padded=!1),P&&(k._extremes[P]=i.findExtremes(a,p,R)),u&&(k._extremes[u]=i.findExtremes(c,w,O))}function l(f,k){if(d.hasMarkers(f)){var a=f.marker,c=1.6*(f.marker.sizeref||1),p;if(f.marker.sizemode==="area"?p=function(P){return Math.max(Math.sqrt((P||0)/c),3)}:p=function(P){return Math.max((P||0)/c,3)},E.isArrayOrTypedArray(a.size)){var w={type:"linear"};i.setConvert(w);for(var S=w.makeCalcdata(f.marker,"size"),_=new Array(k),T=0;T<k;T++)_[T]=p(S[T]);return _}else return p(a.size)}}function o(f,k){var a=h(k),c=f._firstScatter;c[a]||(c[a]=k.uid)}function h(f){var k=f.stackgroup;return f.xaxis+f.yaxis+f.type+(k?"-"+k:"")}function b(f,k,a,c){var p=f.stackgroup;if(p){var w=k._scatterStackOpts[a._id+c._id][p],S=w.orientation==="v"?c:a;if(S.type==="linear"||S.type==="log")return w}}X.exports={calc:s,calcMarkerSize:l,calcAxisExpansion:n,setFirstScatter:o,getStackOpts:b}},4500:function(X,B,t){var x=t(3400);X.exports=function(E,i){x.isArrayOrTypedArray(i.selectedpoints)&&x.tagSelected(E,i)}},90136:function(X,B,t){var x=t(94288).hasColorscale,E=t(47128),i=t(43028);X.exports=function(M,m){i.hasLines(m)&&x(m,"line")&&E(M,m,{vals:m.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(m)&&(x(m,"marker")&&E(M,m,{vals:m.marker.color,containerStr:"marker",cLetter:"c"}),x(m,"marker.line")&&E(M,m,{vals:m.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(X){X.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(X,B,t){var x=t(16356),E=t(96376).setGroupPositions;function i(d,v){for(var r=v.xaxis,e=v.yaxis,s=d._fullLayout,n=d._fullData,l=d.calcdata,o=[],h=[],b=0;b<n.length;b++){var f=n[b];f.visible===!0&&f.type==="scatter"&&f.xaxis===r._id&&f.yaxis===e._id&&(f.orientation==="h"?o.push(l[b]):f.orientation==="v"&&h.push(l[b]))}var k={mode:s.scattermode,gap:s.scattergap};E(d,r,e,h,k),E(d,e,r,o,k)}X.exports=function(d,v){d._fullLayout.scattermode==="group"&&i(d,v);var r=v.xaxis,e=v.yaxis,s=r._id+e._id,n=d._fullLayout._scatterStackOpts[s];if(n){var l=d.calcdata,o,h,b,f,k,a,c,p,w,S,_,T,P,u,g;for(var L in n){S=n[L];var A=S.traceIndices;if(A.length){for(_=S.stackgaps==="interpolate",T=S.groupnorm,S.orientation==="v"?(P="x",u="y"):(P="y",u="x"),g=new Array(A.length),o=0;o<g.length;o++)g[o]=!1;a=l[A[0]];var R=new Array(a.length);for(o=0;o<a.length;o++)R[o]=a[o][P];for(o=1;o<A.length;o++){for(k=l[A[o]],h=b=0;h<k.length;h++){for(c=k[h][P];c>R[b]&&b<R.length;b++)M(k,h,R[b],o,g,_,P),h++;if(c!==R[b]){for(f=0;f<o;f++)M(l[A[f]],b,c,f,g,_,P);R.splice(b,0,c)}b++}for(;b<R.length;b++)M(k,h,R[b],o,g,_,P),h++}var O=R.length;for(h=0;h<a.length;h++){for(p=a[h][u]=a[h].s,o=1;o<A.length;o++)k=l[A[o]],k[0].trace._rawLength=k[0].trace._length,k[0].trace._length=O,p+=k[h].s,k[h][u]=p;if(T)for(w=(T==="fraction"?p:p/100)||1,o=0;o<A.length;o++){var N=l[A[o]][h];N[u]/=w,N.sNorm=N.s/w}}for(o=0;o<A.length;o++){k=l[A[o]];var z=k[0].trace,F=x.calcMarkerSize(z,z._rawLength),I=Array.isArray(F);if(F&&g[o]||I){var j=F;for(F=new Array(O),h=0;h<O;h++)F[h]=k[h].gap?0:I?j[k[h].i]:j}var V=new Array(O),W=new Array(O);for(h=0;h<O;h++)V[h]=k[h].x,W[h]=k[h].y;x.calcAxisExpansion(d,z,r,e,V,W,F),k[0].t.orientation=S.orientation}}}}};function M(d,v,r,e,s,n,l){s[e]=!0;var o={i:null,gap:!0,s:0};if(o[l]=r,d.splice(v,0,o),v&&r===d[v-1][l]){var h=d[v-1];o.s=h.s,o.i=h.i,o.gap=h.gap}else n&&(o.s=m(d,v,r,l));v||(d[0].t=d[1].t,d[0].trace=d[1].trace,delete d[1].t,delete d[1].trace)}function m(d,v,r,e){var s=d[v-1],n=d[v+1];return n?s?s.s+(n.s-s.s)*(r-s[e])/(n[e]-s[e]):n.s:s.s}},35036:function(X,B,t){var x=t(3400),E=t(20011),i=t(52904);X.exports=function(M,m){var d,v,r;function e(h){return x.coerce(v._input,v,i,h)}if(m.scattermode==="group")for(r=0;r<M.length;r++)v=M[r],v.type==="scatter"&&(d=v._input,E(d,v,m,e));for(r=0;r<M.length;r++){var s=M[r];if(s.type==="scatter"){var n=s.fill;if(!(n==="none"||n==="toself")&&(s.opacity=void 0,n==="tonexty"||n==="tonextx"))for(var l=r-1;l>=0;l--){var o=M[l];if(o.type==="scatter"&&o.xaxis===s.xaxis&&o.yaxis===s.yaxis){o.opacity=void 0;break}}}}}},18800:function(X,B,t){var x=t(3400),E=t(24040),i=t(52904),M=t(88200),m=t(43028),d=t(43980),v=t(31147),r=t(43912),e=t(74428),s=t(66828),n=t(11731),l=t(124),o=t(70840),h=t(3400).coercePattern;X.exports=function(b,f,k,a){function c(g,L){return x.coerce(b,f,i,g,L)}var p=d(b,f,a,c);if(p||(f.visible=!1),!!f.visible){v(b,f,a,c),c("xhoverformat"),c("yhoverformat");var w=r(b,f,a,c);a.scattermode==="group"&&f.orientation===void 0&&c("orientation","v");var S=!w&&p<M.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("mode",S),m.hasMarkers(f)&&e(b,f,k,a,c,{gradient:!0}),m.hasLines(f)&&(s(b,f,k,a,c,{backoff:!0}),n(b,f,c),c("connectgaps"),c("line.simplify")),m.hasText(f)&&(c("texttemplate"),l(b,f,a,c));var _=[];(m.hasMarkers(f)||m.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),_.push("points")),c("fill",w?w.fillDflt:"none"),f.fill!=="none"&&(o(b,f,k,c,{moduleHasFillgradient:!0}),m.hasLines(f)||n(b,f,c),h(c,"fillpattern",f.fillcolor,!1));var T=(f.line||{}).color,P=(f.marker||{}).color;(f.fill==="tonext"||f.fill==="toself")&&_.push("fills"),c("hoveron",_.join("+")||"points"),f.hoveron!=="fills"&&c("hovertemplate");var u=E.getComponentMethod("errorbars","supplyDefaults");u(b,f,T||P||k,{axis:"y"}),u(b,f,T||P||k,{axis:"x",inherit:"y"}),x.coerceSelectionMarkerOpacity(f,c)}}},98304:function(X){X.exports=function(B){return{valType:"color",editType:"style",anim:!0}}},70840:function(X,B,t){var x=t(76308),E=t(3400).isArrayOrTypedArray;function i(M){for(var m=x.interpolate(M[0][1],M[1][1],.5),d=2;d<M.length;d++){var v=x.interpolate(M[d-1][1],M[d][1],.5);m=x.interpolate(m,v,M[d-1][0]/M[d][0])}return m}X.exports=function(M,m,d,v,r){r||(r={});var e=!1;if(m.marker){var s=m.marker.color,n=(m.marker.line||{}).color;s&&!E(s)?e=s:n&&!E(n)&&(e=n)}var l;if(r.moduleHasFillgradient){var o=v("fillgradient.type");if(o!=="none"){v("fillgradient.start"),v("fillgradient.stop");var h=v("fillgradient.colorscale");h&&(l=i(h))}}v("fillcolor",x.addOpacity((m.line||{}).color||e||l||d,.5))}},76688:function(X,B,t){var x=t(54460);X.exports=function(E,i,M){var m={},d={_fullLayout:M},v=x.getFromTrace(d,i,"x"),r=x.getFromTrace(d,i,"y"),e=E.orig_x;e===void 0&&(e=E.x);var s=E.orig_y;return s===void 0&&(s=E.y),m.xLabel=x.tickText(v,v.c2l(e),!0).text,m.yLabel=x.tickText(r,r.c2l(s),!0).text,m}},44928:function(X,B,t){var x=t(76308),E=t(43028);X.exports=function(i,M){var m,d;if(i.mode==="lines")return m=i.line.color,m&&x.opacity(m)?m:i.fillcolor;if(i.mode==="none")return i.fill?i.fillcolor:"";var v=M.mcc||(i.marker||{}).color,r=M.mlcc||((i.marker||{}).line||{}).color;return d=v&&x.opacity(v)?v:r&&x.opacity(r)&&(M.mlw||((i.marker||{}).line||{}).width)?r:"",d?x.opacity(d)<.3?x.addOpacity(d,.3):d:(m=(i.line||{}).color,m&&x.opacity(m)&&E.hasLines(i)&&i.line.width?m:i.fillcolor)}},20011:function(X,B,t){var x=t(71888).getAxisGroup;X.exports=function(E,i,M,m){var d=i.orientation,v=i[{v:"x",h:"y"}[d]+"axis"],r=x(M,v)+d,e=M._alignmentOpts||{},s=m("alignmentgroup"),n=e[r];n||(n=e[r]={});var l=n[s];l?l.traces.push(i):l=n[s]={traces:[i],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var o=m("offsetgroup"),h=l.offsetGroups,b=h[o];o&&(b||(b=h[o]={offsetIndex:Object.keys(h).length}),i._offsetIndex=b.offsetIndex)}},98723:function(X,B,t){var x=t(3400),E=t(93024),i=t(24040),M=t(44928),m=t(76308),d=x.fillText;X.exports=function(v,r,e,s){var n=v.cd,l=n[0].trace,o=v.xa,h=v.ya,b=o.c2p(r),f=h.c2p(e),k=[b,f],a=l.hoveron||"",c=l.mode.indexOf("markers")!==-1?3:.5,p=!!l.xperiodalignment,w=!!l.yperiodalignment;if(a.indexOf("points")!==-1){var S=function(K){if(p){var et=o.c2p(K.xStart),lt=o.c2p(K.xEnd);return b>=Math.min(et,lt)&&b<=Math.max(et,lt)?0:1/0}var ot=Math.max(3,K.mrc||0),q=1-1/ot,J=Math.abs(o.c2p(K.x)-b);return J<ot?q*J/ot:J-ot+q},_=function(K){if(w){var et=h.c2p(K.yStart),lt=h.c2p(K.yEnd);return f>=Math.min(et,lt)&&f<=Math.max(et,lt)?0:1/0}var ot=Math.max(3,K.mrc||0),q=1-1/ot,J=Math.abs(h.c2p(K.y)-f);return J<ot?q*J/ot:J-ot+q},T=function(K){var et=Math.max(c,K.mrc||0),lt=o.c2p(K.x)-b,ot=h.c2p(K.y)-f;return Math.max(Math.sqrt(lt*lt+ot*ot)-et,1-c/et)},P=E.getDistanceFunction(s,S,_,T);if(E.getClosest(n,P,v),v.index!==!1){var u=n[v.index],g=o.c2p(u.x,!0),L=h.c2p(u.y,!0),A=u.mrc||1;v.index=u.i;var R=n[0].t.orientation,O=R&&(u.sNorm||u.s),N=R==="h"?O:u.orig_x!==void 0?u.orig_x:u.x,z=R==="v"?O:u.orig_y!==void 0?u.orig_y:u.y;return x.extendFlat(v,{color:M(l,u),x0:g-A,x1:g+A,xLabelVal:N,y0:L-A,y1:L+A,yLabelVal:z,spikeDistance:T(u),hovertemplate:l.hovertemplate}),d(u,l,v),i.getComponentMethod("errorbars","hoverInfo")(u,l,v),[v]}}function F(K){if(!K)return!1;var et=K.node();try{var lt=new DOMPoint(k[0],k[1]);return et.isPointInFill(lt)}catch{var ot=et.ownerSVGElement.createSVGPoint();return ot.x=k[0],ot.y=k[1],et.isPointInFill(ot)}}function I(K){var et,lt=[],ot=1/0,q=-1/0,J=1/0,it=-1/0,Z;for(et=0;et<K.length;et++){var tt=K[et];tt.contains(k)&&(lt.push(tt),J=Math.min(J,tt.ymin),it=Math.max(it,tt.ymax))}if(lt.length===0)return null;J=Math.max(J,0),it=Math.min(it,h._length),Z=(J+it)/2;var st,Q,G,ut,at,dt,gt;for(et=0;et<lt.length;et++)for(Q=lt[et].pts,st=1;st<Q.length;st++)dt=Q[st-1][1],gt=Q[st][1],dt>Z!=gt>=Z&&(ut=Q[st-1][0],at=Q[st][0],gt-dt&&(G=ut+(at-ut)*(Z-dt)/(gt-dt),ot=Math.min(ot,G),q=Math.max(q,G)));return ot=Math.max(ot,0),q=Math.min(q,o._length),{x0:ot,x1:q,y0:Z,y1:Z}}if(a.indexOf("fills")!==-1&&l._fillElement){var j=F(l._fillElement)&&!F(l._fillExclusionElement);if(j){var V=I(l._polygons);V===null&&(V={x0:k[0],x1:k[0],y0:k[1],y1:k[1]});var W=m.defaultLine;return m.opacity(l.fillcolor)?W=l.fillcolor:m.opacity((l.line||{}).color)&&(W=l.line.color),x.extendFlat(v,{distance:v.maxHoverDistance,x0:V.x0,x1:V.x1,y0:V.y0,y1:V.y1,color:W,hovertemplate:!1}),delete v.index,l.text&&!x.isArrayOrTypedArray(l.text)?v.text=String(l.text):v.text=l.name,[v]}}}},65875:function(X,B,t){var x=t(43028);X.exports={hasLines:x.hasLines,hasMarkers:x.hasMarkers,hasText:x.hasText,isBubble:x.isBubble,attributes:t(52904),layoutAttributes:t(55308),supplyDefaults:t(18800),crossTraceDefaults:t(35036),supplyLayoutDefaults:t(59748),calc:t(16356).calc,crossTraceCalc:t(96664),arraysToCalcdata:t(20148),plot:t(96504),colorbar:t(5528),formatLabels:t(76688),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(98723),selectPoints:t(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(X){X.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(X,B,t){var x=t(3400),E=t(55308);X.exports=function(i,M){function m(v,r){return x.coerce(i,M,E,v,r)}var d=M.barmode==="group";M.scattermode==="group"&&m("scattergap",d?M.bargap:.2)}},66828:function(X,B,t){var x=t(3400).isArrayOrTypedArray,E=t(94288).hasColorscale,i=t(27260);X.exports=function(M,m,d,v,r,e){e||(e={});var s=(M.marker||{}).color;if(s&&s._inputArray&&(s=s._inputArray),r("line.color",d),E(M,"line"))i(M,m,v,r,{prefix:"line.",cLetter:"c"});else{var n=(x(s)?!1:s)||d;r("line.color",n)}r("line.width"),e.noDash||r("line.dash"),e.backoff&&r("line.backoff")}},52340:function(X,B,t){var x=t(43616),E=t(39032),i=E.BADNUM,M=E.LOG_CLIP,m=M+.5,d=M-.5,v=t(3400),r=v.segmentsIntersect,e=v.constrain,s=t(88200);X.exports=function(n,l){var o=l.trace||{},h=l.xaxis,b=l.yaxis,f=h.type==="log",k=b.type==="log",a=h._length,c=b._length,p=l.backoff,w=o.marker,S=l.connectGaps,_=l.baseTolerance,T=l.shape,P=T==="linear",u=o.fill&&o.fill!=="none",g=[],L=s.minTolerance,A=n.length,R=new Array(A),O=0,N,z,F,I,j,V,W,K,et,lt,ot,q,J,it,Z,tt;function st(Qt){var he=n[Qt];if(!he)return!1;var ve=l.linearized?h.l2p(he.x):h.c2p(he.x),Je=l.linearized?b.l2p(he.y):b.c2p(he.y);if(ve===i){if(f&&(ve=h.c2p(he.x,!0)),ve===i)return!1;k&&Je===i&&(ve*=Math.abs(h._m*c*(h._m>0?m:d)/(b._m*a*(b._m>0?m:d)))),ve*=1e3}if(Je===i){if(k&&(Je=b.c2p(he.y,!0)),Je===i)return!1;Je*=1e3}return[ve,Je]}function Q(Qt,he,ve,Je){var Ue=ve-Qt,ke=Je-he,Le=.5-Qt,Ge=.5-he,mr=Ue*Ue+ke*ke,xe=Ue*Le+ke*Ge;if(xe>0&&xe<mr){var Xe=Le*ke-Ge*Ue;if(Xe*Xe<mr)return!0}}var G,ut;function at(Qt,he){var ve=Qt[0]/a,Je=Qt[1]/c,Ue=Math.max(0,-ve,ve-1,-Je,Je-1);return Ue&&G!==void 0&&Q(ve,Je,G,ut)&&(Ue=0),Ue&&he&&Q(ve,Je,he[0]/a,he[1]/c)&&(Ue=0),(1+s.toleranceGrowth*Ue)*_}function dt(Qt,he){var ve=Qt[0]-he[0],Je=Qt[1]-he[1];return Math.sqrt(ve*ve+Je*Je)}var gt=s.maxScreensAway,wt=-a*gt,kt=a*(1+gt),Ot=-c*gt,bt=c*(1+gt),_t=[[wt,Ot,kt,Ot],[kt,Ot,kt,bt],[kt,bt,wt,bt],[wt,bt,wt,Ot]],mt,Pt,Rt,Ht,Dt,Xt;function se(Qt,he){for(var ve=[],Je=0,Ue=0;Ue<4;Ue++){var ke=_t[Ue],Le=r(Qt[0],Qt[1],he[0],he[1],ke[0],ke[1],ke[2],ke[3]);Le&&(!Je||Math.abs(Le.x-ve[0][0])>1||Math.abs(Le.y-ve[0][1])>1)&&(Le=[Le.x,Le.y],Je&&dt(Le,Qt)<dt(ve[0],Qt)?ve.unshift(Le):ve.push(Le),Je++)}return ve}function Yt(Qt){if(Qt[0]<wt||Qt[0]>kt||Qt[1]<Ot||Qt[1]>bt)return[e(Qt[0],wt,kt),e(Qt[1],Ot,bt)]}function ue(Qt,he){if(Qt[0]===he[0]&&(Qt[0]===wt||Qt[0]===kt)||Qt[1]===he[1]&&(Qt[1]===Ot||Qt[1]===bt))return!0}function ie(Qt,he){var ve=[],Je=Yt(Qt),Ue=Yt(he);return Je&&Ue&&ue(Je,Ue)||(Je&&ve.push(Je),Ue&&ve.push(Ue)),ve}function fe(Qt,he,ve){return function(Je,Ue){var ke=Yt(Je),Le=Yt(Ue),Ge=[];if(ke&&Le&&ue(ke,Le))return Ge;ke&&Ge.push(ke),Le&&Ge.push(Le);var mr=2*v.constrain((Je[Qt]+Ue[Qt])/2,he,ve)-((ke||Je)[Qt]+(Le||Ue)[Qt]);if(mr){var xe;ke&&Le?xe=mr>0==ke[Qt]>Le[Qt]?ke:Le:xe=ke||Le,xe[Qt]+=mr}return Ge}}var ce;T==="linear"||T==="spline"?ce=se:T==="hv"||T==="vh"?ce=ie:T==="hvh"?ce=fe(0,wt,kt):T==="vhv"&&(ce=fe(1,Ot,bt));function ye(Qt,he){var ve=he[0]-Qt[0],Je=(he[1]-Qt[1])/ve,Ue=(Qt[1]*he[0]-he[1]*Qt[0])/ve;return Ue>0?[Je>0?wt:kt,bt]:[Je>0?kt:wt,Ot]}function de(Qt){var he=Qt[0],ve=Qt[1],Je=he===R[O-1][0],Ue=ve===R[O-1][1];if(!(Je&&Ue))if(O>1){var ke=he===R[O-2][0],Le=ve===R[O-2][1];Je&&(he===wt||he===kt)&&ke?Le?O--:R[O-1]=Qt:Ue&&(ve===Ot||ve===bt)&&Le?ke?O--:R[O-1]=Qt:R[O++]=Qt}else R[O++]=Qt}function Te(Qt){R[O-1][0]!==Qt[0]&&R[O-1][1]!==Qt[1]&&de([Rt,Ht]),de(Qt),Dt=null,Rt=Ht=0}var Et=v.isArrayOrTypedArray(w);function Vt(Qt){if(Qt&&p&&(Qt.i=N,Qt.d=n,Qt.trace=o,Qt.marker=Et?w[Qt.i]:w,Qt.backoff=p),G=Qt[0]/a,ut=Qt[1]/c,mt=Qt[0]<wt?wt:Qt[0]>kt?kt:0,Pt=Qt[1]<Ot?Ot:Qt[1]>bt?bt:0,mt||Pt){if(!O)R[O++]=[mt||Qt[0],Pt||Qt[1]];else if(Dt){var he=ce(Dt,Qt);he.length>1&&(Te(he[0]),R[O++]=he[1])}else Xt=ce(R[O-1],Qt)[0],R[O++]=Xt;var ve=R[O-1];mt&&Pt&&(ve[0]!==mt||ve[1]!==Pt)?(Dt&&(Rt!==mt&&Ht!==Pt?de(Rt&&Ht?ye(Dt,Qt):[Rt||mt,Ht||Pt]):Rt&&Ht&&de([Rt,Ht])),de([mt,Pt])):Rt-mt&&Ht-Pt&&de([mt||Rt,Pt||Ht]),Dt=Qt,Rt=mt,Ht=Pt}else Dt&&Te(ce(Dt,Qt)[0]),R[O++]=Qt}for(N=0;N<A;N++)if(z=st(N),!!z){for(O=0,Dt=null,Vt(z),N++;N<A;N++){if(I=st(N),!I){if(S)continue;break}if(!P||!l.simplify){Vt(I);continue}var te=st(N+1);if(lt=dt(I,z),!(!(u&&(O===0||O===A-1))&&lt<at(I,te)*L)){for(K=[(I[0]-z[0])/lt,(I[1]-z[1])/lt],j=z,ot=lt,q=it=Z=0,W=!1,F=I,N++;N<n.length;N++){if(V=te,te=st(N+1),!V){if(S)continue;break}if(et=[V[0]-z[0],V[1]-z[1]],tt=et[0]*K[1]-et[1]*K[0],it=Math.min(it,tt),Z=Math.max(Z,tt),Z-it>at(V,te))break;F=V,J=et[0]*K[0]+et[1]*K[1],J>ot?(ot=J,I=V,W=!1):J<q&&(q=J,j=V,W=!0)}if(W?(Vt(I),F!==j&&Vt(j)):(j!==z&&Vt(j),F!==I&&Vt(I)),Vt(F),N>=n.length||!V)break;Vt(V),z=V}}Dt&&de([Rt||Dt[0],Ht||Dt[1]]),g.push(R.slice(0,O))}var Jt=T.slice(T.length-1);if(p&&Jt!=="h"&&Jt!=="v"){for(var Ut=!1,It=-1,pt=[],xt=0;xt<g.length;xt++)for(var Ct=0;Ct<g[xt].length-1;Ct++){var At=g[xt][Ct],Ft=g[xt][Ct+1],Wt=x.applyBackoff(Ft,At);(Wt[0]!==Ft[0]||Wt[1]!==Ft[1])&&(Ut=!0),pt[It+1]||(It++,pt[It]=[At,[Wt[0],Wt[1]]])}return Ut?pt:g}return g}},11731:function(X){X.exports=function(B,t,x){var E=x("line.shape");E==="spline"&&x("line.smoothing")}},14328:function(X){var B={tonextx:1,tonexty:1,tonext:1};X.exports=function(t,x,E){var i,M,m,d,v,r={},e=!1,s=-1,n=0,l=-1;for(M=0;M<E.length;M++)i=E[M][0].trace,m=i.stackgroup||"",m?m in r?v=r[m]:(v=r[m]=n,n++):i.fill in B&&l>=0?v=l:(v=l=n,n++),v<s&&(e=!0),i._groupIndex=s=v;var o=E.slice();e&&o.sort(function(b,f){var k=b[0].trace,a=f[0].trace;return k._groupIndex-a._groupIndex||k.index-a.index});var h={};for(M=0;M<o.length;M++)i=o[M][0].trace,m=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in B&&(d=h[m],i._prevtrace=d||null,d&&(d._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),h[m]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return o}},7152:function(X,B,t){var x=t(38248);X.exports=function(E,i){i||(i=2);var M=E.marker,m=M.sizeref||1,d=M.sizemin||0,v=M.sizemode==="area"?function(r){return Math.sqrt(r/m)}:function(r){return r/m};return function(r){var e=v(r/i);return x(e)&&e>0?Math.max(e,d):0}}},5528:function(X){X.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(X,B,t){var x=t(76308),E=t(94288).hasColorscale,i=t(27260),M=t(43028);X.exports=function(m,d,v,r,e,s){var n=M.isBubble(m),l=(m.line||{}).color,o;if(s=s||{},l&&(v=l),e("marker.symbol"),e("marker.opacity",n?.7:1),e("marker.size"),s.noAngle||(e("marker.angle"),s.noAngleRef||e("marker.angleref"),s.noStandOff||e("marker.standoff")),e("marker.color",v),E(m,"marker")&&i(m,d,r,e,{prefix:"marker.",cLetter:"c"}),s.noSelect||(e("selected.marker.color"),e("unselected.marker.color"),e("selected.marker.size"),e("unselected.marker.size")),s.noLine||(l&&!Array.isArray(l)&&d.marker.color!==l?o=l:n?o=x.background:o=x.defaultLine,e("marker.line.color",o),E(m,"marker.line")&&i(m,d,r,e,{prefix:"marker.line.",cLetter:"c"}),e("marker.line.width",n?1:0)),n&&(e("marker.sizeref"),e("marker.sizemin"),e("marker.sizemode")),s.gradient){var h=e("marker.gradient.type");h!=="none"&&e("marker.gradient.color")}}},31147:function(X,B,t){var x=t(3400).dateTick0,E=t(39032),i=E.ONEWEEK;function M(m,d){return m%i===0?x(d,1):x(d,0)}X.exports=function(m,d,v,r,e){if(e||(e={x:!0,y:!0}),e.x){var s=r("xperiod");s&&(r("xperiod0",M(s,d.xcalendar)),r("xperiodalignment"))}if(e.y){var n=r("yperiod");n&&(r("yperiod0",M(n,d.ycalendar)),r("yperiodalignment"))}}},96504:function(X,B,t){var x=t(33428),E=t(24040),i=t(3400),M=i.ensureSingle,m=i.identity,d=t(43616),v=t(43028),r=t(52340),e=t(14328),s=t(92065).tester;X.exports=function(h,b,f,k,a,c){var p,w,S=!a,_=!!a&&a.duration>0,T=e(h,b,f);if(p=k.selectAll("g.trace").data(T,function(u){return u[0].trace.uid}),p.enter().append("g").attr("class",function(u){return"trace scatter trace"+u[0].trace.uid}).style("stroke-miterlimit",2),p.order(),n(h,p,b),_){c&&(w=c());var P=x.transition().duration(a.duration).ease(a.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});P.each(function(){k.selectAll("g.trace").each(function(u,g){l(h,g,b,u,T,this,a)})})}else p.each(function(u,g){l(h,g,b,u,T,this,a)});S&&p.exit().remove(),k.selectAll("path:not([d])").remove()};function n(h,b,f){b.each(function(k){var a=M(x.select(this),"g","fills");d.setClipUrl(a,f.layerClipId,h);var c=k[0].trace,p=[];c._ownfill&&p.push("_ownFill"),c._nexttrace&&p.push("_nextFill");var w=a.selectAll("g").data(p,m);w.enter().append("g"),w.exit().each(function(S){c[S]=null}).remove(),w.order().each(function(S){c[S]=M(x.select(this),"path","js-fill")})})}function l(h,b,f,k,a,c,p){var w=h._context.staticPlot,S;o(h,b,f,k,a);var _=!!p&&p.duration>0;function T(Te){return _?Te.transition():Te}var P=f.xaxis,u=f.yaxis,g=k[0].trace,L=g.line,A=x.select(c),R=M(A,"g","errorbars"),O=M(A,"g","lines"),N=M(A,"g","points"),z=M(A,"g","text");if(E.getComponentMethod("errorbars","plot")(h,R,f,p),g.visible!==!0)return;T(A).style("opacity",g.opacity);var F,I,j=g.fill.charAt(g.fill.length-1);j!=="x"&&j!=="y"&&(j="");var V,W;j==="y"?(V=1,W=u.c2p(0,!0)):j==="x"&&(V=0,W=P.c2p(0,!0)),k[0][f.isRangePlot?"nodeRangePlot3":"node3"]=A;var K="",et=[],lt=g._prevtrace,ot=null,q=null;lt&&(K=lt._prevRevpath||"",I=lt._nextFill,et=lt._ownPolygons,ot=lt._fillsegments,q=lt._fillElement);var J,it,Z="",tt="",st,Q,G,ut,at,dt,gt=[];g._polygons=[];var wt=[],kt=[],Ot=i.noop;if(F=g._ownFill,v.hasLines(g)||g.fill!=="none"){I&&I.datum(k),["hv","vh","hvh","vhv"].indexOf(L.shape)!==-1?(st=d.steps(L.shape),Q=d.steps(L.shape.split("").reverse().join(""))):L.shape==="spline"?st=Q=function(Te){var Et=Te[Te.length-1];return Te.length>1&&Te[0][0]===Et[0]&&Te[0][1]===Et[1]?d.smoothclosed(Te.slice(1),L.smoothing):d.smoothopen(Te,L.smoothing)}:st=Q=function(Te){return"M"+Te.join("L")},G=function(Te){return Q(Te.reverse())},kt=r(k,{xaxis:P,yaxis:u,trace:g,connectGaps:g.connectgaps,baseTolerance:Math.max(L.width||1,3)/4,shape:L.shape,backoff:L.backoff,simplify:L.simplify,fill:g.fill}),wt=new Array(kt.length);var bt=0;for(S=0;S<kt.length;S++){var _t,mt=kt[S];!_t||!j?(_t=mt.slice(),wt[bt]=_t,bt++):_t.push.apply(_t,mt)}g._fillElement=null,g._fillExclusionElement=q,g._fillsegments=wt.slice(0,bt),wt=g._fillsegments,kt.length&&(ut=kt[0][0].slice(),at=kt[kt.length-1],dt=at[at.length-1].slice()),Ot=function(Te){return function(Et){if(J=st(Et),it=G(Et),Z?j?(Z+="L"+J.substr(1),tt=it+("L"+tt.substr(1))):(Z+="Z"+J,tt=it+"Z"+tt):(Z=J,tt=it),v.hasLines(g)){var Vt=x.select(this);if(Vt.datum(k),Te)T(Vt.style("opacity",0).attr("d",J).call(d.lineGroupStyle)).style("opacity",1);else{var te=T(Vt);te.attr("d",J),d.singleLineStyle(k,te)}}}}}var Pt=O.selectAll(".js-line").data(kt);T(Pt.exit()).style("opacity",0).remove(),Pt.each(Ot(!1)),Pt.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(Ot(!0)),d.setClipUrl(Pt,f.layerClipId,h);function Rt(Te){T(Te).attr("d","M0,0Z")}var Ht=function(){var Te=new Array(wt.length);for(S=0;S<wt.length;S++)Te[S]=s(wt[S]);return Te},Dt=function(Te){var Et,Vt;if(!Te||Te.length===0)for(Et=new Array(wt.length),Vt=0;Vt<wt.length;Vt++){var te=wt[Vt][0].slice(),Jt=wt[Vt][wt[Vt].length-1].slice();te[V]=Jt[V]=W;var Ut=[Jt,te],It=Ut.concat(wt[Vt]);Et[Vt]=s(It)}else{for(Et=new Array(Te.length-1+wt.length),Vt=0;Vt<Te.length-1;Vt++)Et[Vt]=s(Te[Vt]);var pt=Te[Te.length-1].slice();for(pt.reverse(),Vt=0;Vt<wt.length;Vt++)Et[Te.length-1+Vt]=s(wt[Vt].concat(pt))}return Et};kt.length?(F?(F.datum(k),ut&&dt&&(j?(ut[V]=dt[V]=W,T(F).attr("d","M"+dt+"L"+ut+"L"+Z.substr(1)).call(d.singleFillStyle,h),gt=Dt(null)):(T(F).attr("d",Z+"Z").call(d.singleFillStyle,h),gt=Ht())),g._polygons=gt,g._fillElement=F):I&&(g.fill.substr(0,6)==="tonext"&&Z&&K?(g.fill==="tonext"?(T(I).attr("d",Z+"Z"+K+"Z").call(d.singleFillStyle,h),gt=Ht(),g._polygons=gt.concat(et)):(T(I).attr("d",Z+"L"+K.substr(1)+"Z").call(d.singleFillStyle,h),gt=Dt(ot),g._polygons=gt),g._fillElement=I):Rt(I)),g._prevRevpath=tt):(F?Rt(F):I&&Rt(I),g._prevRevpath=null),g._ownPolygons=gt;function Xt(Te){return Te.filter(function(Et){return!Et.gap&&Et.vis})}function se(Te){return Te.filter(function(Et){return Et.vis})}function Yt(Te){return Te.filter(function(Et){return!Et.gap})}function ue(Te){return Te.id}function ie(Te){if(Te.ids)return ue}function fe(){return!1}function ce(Te,Et,Vt){var te,Jt,Ut,It=Vt[0].trace,pt=v.hasMarkers(It),xt=v.hasText(It),Ct=ie(It),At=fe,Ft=fe;if(pt||xt){var Wt=m,Qt=It.stackgroup,he=Qt&&h._fullLayout._scatterStackOpts[P._id+u._id][Qt].stackgaps==="infer zero";It.marker.maxdisplayed||It._needsCull?Wt=he?se:Xt:Qt&&!he&&(Wt=Yt),pt&&(At=Wt),xt&&(Ft=Wt)}Jt=Te.selectAll("path.point"),te=Jt.data(At,Ct);var ve=te.enter().append("path").classed("point",!0);_&&ve.call(d.pointStyle,It,h).call(d.translatePoints,P,u).style("opacity",0).transition().style("opacity",1),te.order();var Je;pt&&(Je=d.makePointStyleFns(It)),te.each(function(Ue){var ke=x.select(this),Le=T(ke);Ut=d.translatePoint(Ue,Le,P,u),Ut?(d.singlePointStyle(Ue,Le,It,Je,h),f.layerClipId&&d.hideOutsideRangePoint(Ue,Le,P,u,It.xcalendar,It.ycalendar),It.customdata&&ke.classed("plotly-customdata",Ue.data!==null&&Ue.data!==void 0)):Le.remove()}),_?te.exit().transition().style("opacity",0).remove():te.exit().remove(),Jt=Et.selectAll("g"),te=Jt.data(Ft,Ct),te.enter().append("g").classed("textpoint",!0).append("text"),te.order(),te.each(function(Ue){var ke=x.select(this),Le=T(ke.select("text"));Ut=d.translatePoint(Ue,Le,P,u),Ut?f.layerClipId&&d.hideOutsideRangePoint(Ue,ke,P,u,It.xcalendar,It.ycalendar):ke.remove()}),te.selectAll("text").call(d.textPointStyle,It,h).each(function(Ue){var ke=P.c2p(Ue.x),Le=u.c2p(Ue.y);x.select(this).selectAll("tspan.line").each(function(){T(x.select(this)).attr({x:ke,y:Le})})}),te.exit().remove()}N.datum(k),z.datum(k),ce(N,z,k);var ye=g.cliponaxis===!1,de=ye?null:f.layerClipId;d.setClipUrl(N,de,h),d.setClipUrl(z,de,h)}function o(h,b,f,k,a){var c=f.xaxis,p=f.yaxis,w=x.extent(i.simpleMap(c.range,c.r2c)),S=x.extent(i.simpleMap(p.range,p.r2c)),_=k[0].trace;if(v.hasMarkers(_)){var T=_.marker.maxdisplayed;if(T!==0){var P=k.filter(function(A){return A.x>=w[0]&&A.x<=w[1]&&A.y>=S[0]&&A.y<=S[1]}),u=Math.ceil(P.length/T),g=0;a.forEach(function(A,R){var O=A[0].trace;v.hasMarkers(O)&&O.marker.maxdisplayed>0&&R<b&&g++});var L=Math.round(g*u/3+Math.floor(g/3)*u/7.1);k.forEach(function(A){delete A.vis}),P.forEach(function(A,R){Math.round((R+L)%u)===0&&(A.vis=!0)})}}}},91560:function(X,B,t){var x=t(43028);X.exports=function(E,i){var M=E.cd,m=E.xaxis,d=E.yaxis,v=[],r=M[0].trace,e,s,n,l,o=!x.hasMarkers(r)&&!x.hasText(r);if(o)return[];if(i===!1)for(e=0;e<M.length;e++)M[e].selected=0;else for(e=0;e<M.length;e++)s=M[e],n=m.c2p(s.x),l=d.c2p(s.y),s.i!==null&&i.contains([n,l],!1,e,E)?(v.push({pointNumber:s.i,x:m.c2d(s.x),y:d.c2d(s.y)}),s.selected=1):s.selected=0;return v}},43912:function(X){var B=["orientation","groupnorm","stackgaps"];X.exports=function(t,x,E,i){var M=E._scatterStackOpts,m=i("stackgroup");if(m){var d=x.xaxis+x.yaxis,v=M[d];v||(v=M[d]={});var r=v[m],e=!1;r?r.traces.push(x):(r=v[m]={traceIndices:[],traces:[x]},e=!0);for(var s={orientation:x.x&&!x.y?"h":"v"},n=0;n<B.length;n++){var l=B[n],o=l+"Found";if(!r[o]){var h=t[l]!==void 0,b=l==="orientation";if((h||e)&&(r[l]=i(l,s[l]),b&&(r.fillDflt=r[l]==="h"?"tonextx":"tonexty"),h&&(r[o]=!0,!e&&(delete r.traces[0][l],b))))for(var f=0;f<r.traces.length-1;f++){var k=r.traces[f];k._input.fill!==k.fill&&(k.fill=r.fillDflt)}}}return r}}},49224:function(X,B,t){var x=t(33428),E=t(43616),i=t(24040);function M(r){var e=x.select(r).selectAll("g.trace.scatter");e.style("opacity",function(s){return s[0].trace.opacity}),e.selectAll("g.points").each(function(s){var n=x.select(this),l=s.trace||s[0].trace;m(n,l,r)}),e.selectAll("g.text").each(function(s){var n=x.select(this),l=s.trace||s[0].trace;d(n,l,r)}),e.selectAll("g.trace path.js-line").call(E.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(E.fillGroupStyle,r,!1),i.getComponentMethod("errorbars","style")(e)}function m(r,e,s){E.pointStyle(r.selectAll("path.point"),e,s)}function d(r,e,s){E.textPointStyle(r.selectAll("text"),e,s)}function v(r,e,s){var n=e[0].trace;n.selectedpoints?(E.selectedPointStyle(s.selectAll("path.point"),n),E.selectedTextStyle(s.selectAll("text"),n)):(m(s,n,r),d(s,n,r))}X.exports={style:M,stylePoints:m,styleText:d,styleOnSelect:v}},43028:function(X,B,t){var x=t(3400),E=t(38116).isTypedArraySpec;X.exports={hasLines:function(i){return i.visible&&i.mode&&i.mode.indexOf("lines")!==-1},hasMarkers:function(i){return i.visible&&(i.mode&&i.mode.indexOf("markers")!==-1||i.type==="splom")},hasText:function(i){return i.visible&&i.mode&&i.mode.indexOf("text")!==-1},isBubble:function(i){var M=i.marker;return x.isPlainObject(M)&&(x.isArrayOrTypedArray(M.size)||E(M.size))}}},124:function(X,B,t){var x=t(3400);X.exports=function(E,i,M,m,d){d=d||{},m("textposition"),x.coerceFont(m,"textfont",d.font||M.font),d.noSelect||(m("selected.textfont.color"),m("unselected.textfont.color"))}},43980:function(X,B,t){var x=t(3400),E=t(24040);X.exports=function(i,M,m,d){var v=d("x"),r=d("y"),e,s=E.getComponentMethod("calendars","handleTraceDefaults");if(s(i,M,["x","y"],m),v){var n=x.minRowLength(v);r?e=Math.min(n,x.minRowLength(r)):(e=n,d("y0"),d("dy"))}else{if(!r)return 0;e=x.minRowLength(r),d("x0"),d("dx")}return M._length=e,e}},91592:function(X,B,t){var x=t(52904),E=t(49084),i=t(29736).axisHoverFormat,M=t(21776).Ks,m=t(21776).Gw,d=t(45464),v=t(99168),r=t(87792),e=t(92880).extendFlat,s=t(67824).overrideAll,n=t(95376),l=x.line,o=x.marker,h=o.line,b=e({width:l.width,dash:{valType:"enumerated",values:n(v),dflt:"solid"}},E("line"));function f(a){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var k=X.exports=s({x:x.x,y:x.y,z:{valType:"data_array"},text:e({},x.text,{}),texttemplate:m({},{}),hovertext:e({},x.hovertext,{}),hovertemplate:M(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),mode:e({},x.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:f(),y:f(),z:f()},connectgaps:x.connectgaps,line:b,marker:e({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:e({},o.size,{dflt:8}),sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:e({},o.opacity,{arrayOk:!1}),colorbar:o.colorbar,line:e({width:e({},h.width,{arrayOk:!1})},E("marker.line"))},E("marker")),textposition:e({},x.textposition,{dflt:"top center"}),textfont:{color:x.textfont.color,size:x.textfont.size,family:e({},x.textfont.family,{arrayOk:!1})},opacity:d.opacity,hoverinfo:e({},d.hoverinfo)},"calc","nested");k.x.editType=k.y.editType=k.z.editType="calc+clearAxisTypes"},41484:function(X,B,t){var x=t(20148),E=t(90136);X.exports=function(i,M){var m=[{x:!1,y:!1,trace:M,t:{}}];return x(m,M),E(i,M),m}},45156:function(X,B,t){var x=t(24040);function E(m,d,v,r){if(!d||!d.visible)return null;for(var e=x.getComponentMethod("errorbars","makeComputeError")(d),s=new Array(m.length),n=0;n<m.length;n++){var l=e(+m[n],n);if(r.type==="log"){var o=r.c2l(m[n]),h=m[n]-l[0],b=m[n]+l[1];if(s[n]=[(r.c2l(h,!0)-o)*v,(r.c2l(b,!0)-o)*v],h>0){var f=r.c2l(h);r._lowerLogErrorBound||(r._lowerLogErrorBound=f),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,f)}}else s[n]=[-l[0]*v,l[1]*v]}return s}function i(m){for(var d=0;d<m.length;d++)if(m[d])return m[d].length;return 0}function M(m,d,v){var r=[E(m.x,m.error_x,d[0],v.xaxis),E(m.y,m.error_y,d[1],v.yaxis),E(m.z,m.error_z,d[2],v.zaxis)],e=i(r);if(e===0)return null;for(var s=new Array(e),n=0;n<e;n++){for(var l=[[0,0,0],[0,0,0]],o=0;o<3;o++)if(r[o])for(var h=0;h<2;h++)l[h][o]=r[o][n][h];s[n]=l}return s}X.exports=M},41064:function(X,B,t){var x=t(67792).gl_line3d,E=t(67792).gl_scatter3d,i=t(67792).gl_error3d,M=t(67792).gl_mesh3d,m=t(67792).delaunay_triangulate,d=t(3400),v=t(43080),r=t(33040).formatColor,e=t(7152),s=t(99168),n=t(87792),l=t(54460),o=t(10624).appendArrayPointValue,h=t(45156);function b(A,R){this.scene=A,this.uid=R,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var f=b.prototype;f.handlePick=function(A){if(A.object&&(A.object===this.linePlot||A.object===this.delaunayMesh||A.object===this.textMarkers||A.object===this.scatterPlot)){var R=A.index=A.data.index;return A.object.highlight&&A.object.highlight(null),this.scatterPlot&&(A.object=this.scatterPlot,this.scatterPlot.highlight(A.data)),A.textLabel="",this.textLabels&&(d.isArrayOrTypedArray(this.textLabels)?(this.textLabels[R]||this.textLabels[R]===0)&&(A.textLabel=this.textLabels[R]):A.textLabel=this.textLabels),A.traceCoordinate=[this.data.x[R],this.data.y[R],this.data.z[R]],!0}};function k(A,R,O){var N=(O+1)%3,z=(O+2)%3,F=[],I=[],j;for(j=0;j<A.length;++j){var V=A[j];isNaN(V[N])||!isFinite(V[N])||isNaN(V[z])||!isFinite(V[z])||(F.push([V[N],V[z]]),I.push(j))}var W=m(F);for(j=0;j<W.length;++j)for(var K=W[j],et=0;et<K.length;++et)K[et]=I[K[et]];return{positions:A,cells:W,meshColor:R}}function a(A){for(var R=[0,0,0],O=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],z=0;z<3;z++){var F=A[z];F&&F.copy_zstyle!==!1&&A[2].visible!==!1&&(F=A[2]),!(!F||!F.visible)&&(R[z]=F.width/2,O[z]=v(F.color),N[z]=F.thickness)}return{capSize:R,color:O,lineWidth:N}}function c(A){return A==null?0:A.indexOf("left")>-1?-1:A.indexOf("right")>-1?1:0}function p(A){return A==null?0:A.indexOf("top")>-1?-1:A.indexOf("bottom")>-1?1:0}function w(A){var R=0,O=0,N=[R,O];if(Array.isArray(A))for(var z=0;z<A.length;z++)N[z]=[R,O],A[z]&&(N[z][0]=c(A[z]),N[z][1]=p(A[z]));else N[0]=c(A),N[1]=p(A);return N}function S(A,R){return R(A*4)}function _(A){return n[A]}function T(A,R,O,N,z){var F=null;if(d.isArrayOrTypedArray(A)){F=[];for(var I=0;I<R;I++)A[I]===void 0?F[I]=N:F[I]=O(A[I],z)}else F=O(A,d.identity);return F}function P(A,R){var O=[],N=A.fullSceneLayout,z=A.dataScale,F=N.xaxis,I=N.yaxis,j=N.zaxis,V=R.marker,W=R.line,K=R.x||[],et=R.y||[],lt=R.z||[],ot=K.length,q=R.xcalendar,J=R.ycalendar,it=R.zcalendar,Z,tt,st,Q,G,ut;for(G=0;G<ot;G++)Z=F.d2l(K[G],0,q)*z[0],tt=I.d2l(et[G],0,J)*z[1],st=j.d2l(lt[G],0,it)*z[2],O[G]=[Z,tt,st];if(Array.isArray(R.text))ut=R.text;else if(d.isTypedArray(R.text))ut=Array.from(R.text);else if(R.text!==void 0)for(ut=new Array(ot),G=0;G<ot;G++)ut[G]=R.text;function at(Yt,ue){var ie=N[Yt];return l.tickText(ie,ie.d2l(ue),!0).text}var dt=R.texttemplate;if(dt){var gt=A.fullLayout,wt=gt._d3locale,kt=Array.isArray(dt),Ot=kt?Math.min(dt.length,ot):ot,bt=kt?function(Yt){return dt[Yt]}:function(){return dt};for(ut=new Array(Ot),G=0;G<Ot;G++){var _t={x:K[G],y:et[G],z:lt[G]},mt={xLabel:at("xaxis",K[G]),yLabel:at("yaxis",et[G]),zLabel:at("zaxis",lt[G])},Pt={};o(Pt,R,G);var Rt=R._meta||{};ut[G]=d.texttemplateString(bt(G),mt,wt,Pt,_t,Rt)}}if(Q={position:O,mode:R.mode,text:ut},"line"in R&&(Q.lineColor=r(W,1,ot),Q.lineWidth=W.width,Q.lineDashes=W.dash),"marker"in R){var Ht=e(R);Q.scatterColor=r(V,1,ot),Q.scatterSize=T(V.size,ot,S,20,Ht),Q.scatterMarker=T(V.symbol,ot,_,"●"),Q.scatterLineWidth=V.line.width,Q.scatterLineColor=r(V.line,1,ot),Q.scatterAngle=0}"textposition"in R&&(Q.textOffset=w(R.textposition),Q.textColor=r(R.textfont,1,ot),Q.textSize=T(R.textfont.size,ot,d.identity,12),Q.textFont=R.textfont.family,Q.textAngle=0);var Dt=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],G=0;G<3;++G){var Xt=R.projection[Dt[G]];(Q.project[G]=Xt.show)&&(Q.projectOpacity[G]=Xt.opacity,Q.projectScale[G]=Xt.scale)}Q.errorBounds=h(R,z,N);var se=a([R.error_x,R.error_y,R.error_z]);return Q.errorColor=se.color,Q.errorLineWidth=se.lineWidth,Q.errorCapSize=se.capSize,Q.delaunayAxis=R.surfaceaxis,Q.delaunayColor=v(R.surfacecolor),Q}function u(A){if(d.isArrayOrTypedArray(A)){var R=A[0];return d.isArrayOrTypedArray(R)&&(A=R),"rgb("+A.slice(0,3).map(function(O){return Math.round(O*255)})+")"}return null}function g(A){return d.isArrayOrTypedArray(A)?A.length===4&&typeof A[0]=="number"?u(A):A.map(u):null}f.update=function(A){var R=this.scene.glplot.gl,O,N,z,F,I=s.solid;this.data=A;var j=P(this.scene,A);"mode"in j&&(this.mode=j.mode),"lineDashes"in j&&j.lineDashes in s&&(I=s[j.lineDashes]),this.color=g(j.scatterColor)||g(j.lineColor),this.dataPoints=j.position,O={gl:this.scene.glplot.gl,position:j.position,color:j.lineColor,lineWidth:j.lineWidth||1,dashes:I[0],dashScale:I[1],opacity:A.opacity,connectGaps:A.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(O):(this.linePlot=x(O),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=A.opacity;if(A.marker&&A.marker.opacity!==void 0&&(V*=A.marker.opacity),N={gl:this.scene.glplot.gl,position:j.position,color:j.scatterColor,size:j.scatterSize,glyph:j.scatterMarker,opacity:V,orthographic:!0,lineWidth:j.scatterLineWidth,lineColor:j.scatterLineColor,project:j.project,projectScale:j.projectScale,projectOpacity:j.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=E(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),F={gl:this.scene.glplot.gl,position:j.position,glyph:j.text,color:j.textColor,size:j.textSize,angle:j.textAngle,alignment:j.textOffset,font:j.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:A.opacity},this.textLabels=A.hovertext||A.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(F):(this.textMarkers=E(F),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:j.position,color:j.errorColor,error:j.errorBounds,lineWidth:j.errorLineWidth,capSize:j.errorCapSize,opacity:A.opacity},this.errorBars?j.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):j.errorBounds&&(this.errorBars=i(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),j.delaunayAxis>=0){var W=k(j.position,j.delaunayColor,j.delaunayAxis);W.opacity=A.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=R,this.delaunayMesh=M(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},f.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function L(A,R){var O=new b(A,R.uid);return O.update(R),O}X.exports=L},83484:function(X,B,t){var x=t(24040),E=t(3400),i=t(43028),M=t(74428),m=t(66828),d=t(124),v=t(91592);X.exports=function(e,s,n,l){function o(w,S){return E.coerce(e,s,v,w,S)}var h=r(e,s,o,l);if(!h){s.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),i.hasMarkers(s)&&M(e,s,n,l,o,{noSelect:!0,noAngle:!0}),i.hasLines(s)&&(o("connectgaps"),m(e,s,n,l,o)),i.hasText(s)&&(o("texttemplate"),d(e,s,l,o,{noSelect:!0}));var b=(s.line||{}).color,f=(s.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",b||f);for(var k=["x","y","z"],a=0;a<3;++a){var c="projection."+k[a];o(c+".show")&&(o(c+".opacity"),o(c+".scale"))}var p=x.getComponentMethod("errorbars","supplyDefaults");p(e,s,b||f||n,{axis:"z"}),p(e,s,b||f||n,{axis:"y",inherit:"z"}),p(e,s,b||f||n,{axis:"x",inherit:"z"})};function r(e,s,n,l){var o=0,h=n("x"),b=n("y"),f=n("z"),k=x.getComponentMethod("calendars","handleTraceDefaults");return k(e,s,["x","y","z"],l),h&&b&&f&&(o=Math.min(h.length,b.length,f.length),s._length=s._xlength=s._ylength=s._zlength=o),o}},3296:function(X,B,t){X.exports={plot:t(41064),attributes:t(91592),markerSymbols:t(87792),supplyDefaults:t(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:t(41484),moduleType:"trace",name:"scatter3d",basePlotModule:t(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(X,B,t){var x=t(98304),E=t(52904),i=t(45464),M=t(21776).Ks,m=t(21776).Gw,d=t(49084),v=t(92880).extendFlat,r=E.marker,e=E.line,s=r.line;X.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},E.mode,{dflt:"markers"}),text:v({},E.text,{}),texttemplate:m({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},E.hovertext,{}),line:{color:e.color,width:e.width,dash:e.dash,backoff:e.backoff,shape:v({},e.shape,{values:["linear","spline"]}),smoothing:e.smoothing,editType:"calc"},connectgaps:E.connectgaps,fill:v({},E.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:x(),marker:v({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:v({width:s.width,editType:"calc"},d("marker.line")),gradient:r.gradient,editType:"calc"},d("marker")),textfont:E.textfont,textposition:E.textposition,selected:E.selected,unselected:E.unselected,hoverinfo:v({},i.hoverinfo,{flags:["a","b","text","name"]}),hoveron:E.hoveron,hovertemplate:M()}},48228:function(X,B,t){var x=t(38248),E=t(90136),i=t(20148),M=t(4500),m=t(16356).calcMarkerSize,d=t(50948);X.exports=function(v,r){var e=r._carpetTrace=d(v,r);if(!(!e||!e.visible||e.visible==="legendonly")){var s;r.xaxis=e.xaxis,r.yaxis=e.yaxis;var n=r._length,l=new Array(n),o,h,b=!1;for(s=0;s<n;s++)if(o=r.a[s],h=r.b[s],x(o)&&x(h)){var f=e.ab2xy(+o,+h,!0),k=e.isVisible(+o,+h);k||(b=!0),l[s]={x:f[0],y:f[1],a:o,b:h,vis:k}}else l[s]={x:!1,y:!1};return r._needsCull=b,l[0].carpet=e,l[0].trace=r,m(r,n),E(v,r),i(l,r),M(l,r),l}}},6176:function(X,B,t){var x=t(3400),E=t(88200),i=t(43028),M=t(74428),m=t(66828),d=t(11731),v=t(124),r=t(70840),e=t(90372);X.exports=function(s,n,l,o){function h(w,S){return x.coerce(s,n,e,w,S)}h("carpet"),n.xaxis="x",n.yaxis="y";var b=h("a"),f=h("b"),k=Math.min(b.length,f.length);if(!k){n.visible=!1;return}n._length=k,h("text"),h("texttemplate"),h("hovertext");var a=k<E.PTS_LINESONLY?"lines+markers":"lines";h("mode",a),i.hasMarkers(n)&&M(s,n,l,o,h,{gradient:!0}),i.hasLines(n)&&(m(s,n,l,o,h,{backoff:!0}),d(s,n,h),h("connectgaps")),i.hasText(n)&&v(s,n,o,h);var c=[];(i.hasMarkers(n)||i.hasText(n))&&(h("marker.maxdisplayed"),c.push("points")),h("fill"),n.fill!=="none"&&(r(s,n,l,h),i.hasLines(n)||d(s,n,h)),(n.fill==="tonext"||n.fill==="toself")&&c.push("fills");var p=h("hoveron",c.join("+")||"points");p!=="fills"&&h("hovertemplate"),x.coerceSelectionMarkerOpacity(n,h)}},89307:function(X){X.exports=function(B,t,x,E,i){var M=E[i];return B.a=M.a,B.b=M.b,B.y=M.y,B}},52364:function(X){X.exports=function(B,t){var x={},E=t._carpet,i=E.ab2ij([B.a,B.b]),M=Math.floor(i[0]),m=i[0]-M,d=Math.floor(i[1]),v=i[1]-d,r=E.evalxy([],M,d,m,v);return x.yLabel=r[1].toFixed(3),x}},58960:function(X,B,t){var x=t(98723),E=t(3400).fillText;X.exports=function(i,M,m,d){var v=x(i,M,m,d);if(!v||v[0].index===!1)return;var r=v[0];if(r.index===void 0){var e=1-r.y0/i.ya._length,s=i.xa._length,n=s*e/2,l=s-n;return r.x0=Math.max(Math.min(r.x0,l),n),r.x1=Math.max(Math.min(r.x1,l),n),v}var o=r.cd[r.index];r.a=o.a,r.b=o.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var h=r.trace,b=h._carpet,f=h._module.formatLabels(o,h);r.yLabel=f.yLabel,delete r.text;var k=[];function a(w,S){var _;w.labelprefix&&w.labelprefix.length>0?_=w.labelprefix.replace(/ = $/,""):_=w._hovertitle,k.push(_+": "+S.toFixed(3)+w.labelsuffix)}if(!h.hovertemplate){var c=o.hi||h.hoverinfo,p=c.split("+");p.indexOf("all")!==-1&&(p=["a","b","text"]),p.indexOf("a")!==-1&&a(b.aaxis,o.a),p.indexOf("b")!==-1&&a(b.baxis,o.b),k.push("y: "+r.yLabel),p.indexOf("text")!==-1&&E(o,h,k),r.extraText=k.join("<br>")}return v}},4184:function(X,B,t){X.exports={attributes:t(90372),supplyDefaults:t(6176),colorbar:t(5528),formatLabels:t(52364),calc:t(48228),plot:t(20036),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(58960),selectPoints:t(91560),eventData:t(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:t(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(X,B,t){var x=t(96504),E=t(54460),i=t(43616);X.exports=function(M,m,d,v){var r,e,s,n=d[0][0].carpet,l=E.getFromId(M,n.xaxis||"x"),o=E.getFromId(M,n.yaxis||"y"),h={xaxis:l,yaxis:o,plot:m.plot};for(r=0;r<d.length;r++)e=d[r][0].trace,e._xA=l,e._yA=o;for(x(M,h,d,v),r=0;r<d.length;r++)e=d[r][0].trace,s=v.selectAll("g.trace"+e.uid+" .js-line"),i.setClipUrl(s,d[r][0].carpet._clipPathId,M)}},6096:function(X,B,t){var x=t(21776).Ks,E=t(21776).Gw,i=t(98304),M=t(52904),m=t(45464),d=t(49084),v=t(98192).u,r=t(92880).extendFlat,e=t(67824).overrideAll,s=M.marker,n=M.line,l=s.line;X.exports=e({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},M.mode,{dflt:"markers"}),text:r({},M.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},M.hovertext,{}),textfont:M.textfont,textposition:M.textposition,line:{color:n.color,width:n.width,dash:v},connectgaps:M.connectgaps,marker:r({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:r({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:r({width:l.width},d("marker.line")),gradient:s.gradient},d("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i(),selected:M.selected,unselected:M.unselected,hoverinfo:r({},m.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:x()},"calc","nested")},25212:function(X,B,t){var x=t(38248),E=t(39032).BADNUM,i=t(90136),M=t(20148),m=t(4500),d=t(3400).isArrayOrTypedArray,v=t(3400)._;function r(e){return e&&typeof e=="string"}X.exports=function(e,s){var n=d(s.locations),l=n?s.locations.length:s._length,o=new Array(l),h;s.geojson?h=function(p){return r(p)||x(p)}:h=r;for(var b=0;b<l;b++){var f=o[b]={};if(n){var k=s.locations[b];f.loc=h(k)?k:null}else{var a=s.lon[b],c=s.lat[b];x(a)&&x(c)?f.lonlat=[+a,+c]:f.lonlat=[E,E]}}return M(o,s),i(e,s),m(o,s),l&&(o[0].t={labels:{lat:v(e,"lat:")+" ",lon:v(e,"lon:")+" "}}),o}},86188:function(X,B,t){var x=t(3400),E=t(43028),i=t(74428),M=t(66828),m=t(124),d=t(70840),v=t(6096);X.exports=function(r,e,s,n){function l(p,w){return x.coerce(r,e,v,p,w)}var o=l("locations"),h;if(o&&o.length){var b=l("geojson"),f;(typeof b=="string"&&b!==""||x.isPlainObject(b))&&(f="geojson-id");var k=l("locationmode",f);k==="geojson-id"&&l("featureidkey"),h=o.length}else{var a=l("lon")||[],c=l("lat")||[];h=Math.min(a.length,c.length)}if(!h){e.visible=!1;return}e._length=h,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),E.hasMarkers(e)&&i(r,e,s,n,l,{gradient:!0}),E.hasLines(e)&&(M(r,e,s,n,l),l("connectgaps")),E.hasText(e)&&(l("texttemplate"),m(r,e,n,l)),l("fill"),e.fill!=="none"&&d(r,e,s,l),x.coerceSelectionMarkerOpacity(e,l)}},58544:function(X){X.exports=function(B,t,x,E,i){B.lon=t.lon,B.lat=t.lat,B.location=t.loc?t.loc:null;var M=E[i];return M.fIn&&M.fIn.properties&&(B.properties=M.fIn.properties),B}},56696:function(X,B,t){var x=t(54460);X.exports=function(E,i,M){var m={},d=M[i.geo]._subplot,v=d.mockAxis,r=E.lonlat;return m.lonLabel=x.tickText(v,v.c2l(r[0]),!0).text,m.latLabel=x.tickText(v,v.c2l(r[1]),!0).text,m}},64292:function(X,B,t){var x=t(93024),E=t(39032).BADNUM,i=t(44928),M=t(3400).fillText,m=t(6096);X.exports=function(v,r,e){var s=v.cd,n=s[0].trace,l=v.xa,o=v.ya,h=v.subplot,b=h.projection.isLonLatOverEdges,f=h.project;function k(T){var P=T.lonlat;if(P[0]===E||b(P))return 1/0;var u=f(P),g=f([r,e]),L=Math.abs(u[0]-g[0]),A=Math.abs(u[1]-g[1]),R=Math.max(3,T.mrc||0);return Math.max(Math.sqrt(L*L+A*A)-R,1-3/R)}if(x.getClosest(s,k,v),v.index!==!1){var a=s[v.index],c=a.lonlat,p=[l.c2p(c),o.c2p(c)],w=a.mrc||1;v.x0=p[0]-w,v.x1=p[0]+w,v.y0=p[1]-w,v.y1=p[1]+w,v.loc=a.loc,v.lon=c[0],v.lat=c[1];var S={};S[n.geo]={_subplot:h};var _=n._module.formatLabels(a,n,S);return v.lonLabel=_.lonLabel,v.latLabel=_.latLabel,v.color=i(n,a),v.extraText=d(n,a,v,s[0].t.labels),v.hovertemplate=n.hovertemplate,[v]}};function d(v,r,e,s){if(v.hovertemplate)return;var n=r.hi||v.hoverinfo,l=n==="all"?m.hoverinfo.flags:n.split("+"),o=l.indexOf("location")!==-1&&Array.isArray(v.locations),h=l.indexOf("lon")!==-1,b=l.indexOf("lat")!==-1,f=l.indexOf("text")!==-1,k=[];function a(c){return c+"°"}return o?k.push(r.loc):h&&b?k.push("("+a(e.latLabel)+", "+a(e.lonLabel)+")"):h?k.push(s.lon+a(e.lonLabel)):b&&k.push(s.lat+a(e.latLabel)),f&&M(r,v,k),k.join("<br>")}},36952:function(X,B,t){X.exports={attributes:t(6096),supplyDefaults:t(86188),colorbar:t(5528),formatLabels:t(56696),calc:t(25212),calcGeoJSON:t(48691).calcGeoJSON,plot:t(48691).plot,style:t(25064),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(64292),eventData:t(58544),selectPoints:t(8796),moduleType:"trace",name:"scattergeo",basePlotModule:t(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(X,B,t){var x=t(33428),E=t(3400),i=t(59972).getTopojsonFeatures,M=t(44808),m=t(27144),d=t(19280).findExtremes,v=t(39032).BADNUM,r=t(16356).calcMarkerSize,e=t(43028),s=t(25064);function n(o,h,b){var f=h.layers.frontplot.select(".scatterlayer"),k=E.makeTraceGroups(f,b,"trace scattergeo");function a(c,p){c.lonlat[0]===v&&x.select(p).remove()}k.selectAll("*").remove(),k.each(function(c){var p=x.select(this),w=c[0].trace;if(e.hasLines(w)||w.fill!=="none"){var S=M.calcTraceToLineCoords(c),_=w.fill!=="none"?M.makePolygon(S):M.makeLine(S);p.selectAll("path.js-line").data([{geojson:_,trace:w}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}e.hasMarkers(w)&&p.selectAll("path.point").data(E.identity).enter().append("path").classed("point",!0).each(function(T){a(T,this)}),e.hasText(w)&&p.selectAll("g").data(E.identity).enter().append("g").append("text").each(function(T){a(T,this)}),s(o,c)})}function l(o,h){var b=o[0].trace,f=h[b.geo],k=f._subplot,a=b._length,c,p;if(E.isArrayOrTypedArray(b.locations)){var w=b.locationmode,S=w==="geojson-id"?m.extractTraceFeature(o):i(b,k.topojson);for(c=0;c<a;c++){p=o[c];var _=w==="geojson-id"?p.fOut:m.locationToFeature(w,p.loc,S);p.lonlat=_?_.properties.ct:[v,v]}}var T={padded:!0},P,u;if(f.fitbounds==="geojson"&&b.locationmode==="geojson-id"){var g=m.computeBbox(m.getTraceGeojson(b));P=[g[0],g[2]],u=[g[1],g[3]]}else{for(P=new Array(a),u=new Array(a),c=0;c<a;c++)p=o[c],P[c]=p.lonlat[0],u[c]=p.lonlat[1];T.ppad=r(b,a)}b._extremes.lon=d(f.lonaxis._ax,P,T),b._extremes.lat=d(f.lataxis._ax,u,T)}X.exports={calcGeoJSON:l,plot:n}},8796:function(X,B,t){var x=t(43028),E=t(39032).BADNUM;X.exports=function(i,M){var m=i.cd,d=i.xaxis,v=i.yaxis,r=[],e=m[0].trace,s,n,l,o,h,b=!x.hasMarkers(e)&&!x.hasText(e);if(b)return[];if(M===!1)for(h=0;h<m.length;h++)m[h].selected=0;else for(h=0;h<m.length;h++)s=m[h],n=s.lonlat,n[0]!==E&&(l=d.c2p(n),o=v.c2p(n),M.contains([l,o],null,h,i)?(r.push({pointNumber:h,lon:n[0],lat:n[1]}),s.selected=1):s.selected=0);return r}},25064:function(X,B,t){var x=t(33428),E=t(43616),i=t(76308),M=t(49224),m=M.stylePoints,d=M.styleText;X.exports=function(r,e){e&&v(r,e)};function v(r,e){var s=e[0].trace,n=e[0].node3;n.style("opacity",e[0].trace.opacity),m(n,s,r),d(n,s,r),n.selectAll("path.js-line").style("fill","none").each(function(l){var o=x.select(this),h=l.trace,b=h.line||{};o.call(i.stroke,b.color).call(E.dashLine,b.dash||"",b.width||0),h.fill!=="none"&&o.call(i.fill,h.fillcolor)})}},2876:function(X,B,t){var x=t(45464),E=t(98304),i=t(52904),M=t(29736).axisHoverFormat,m=t(49084),d=t(95376),v=t(92880).extendFlat,r=t(67824).overrideAll,e=t(67072).DASHES,s=i.line,n=i.marker,l=n.line,o=X.exports=r({x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),text:i.text,hovertext:i.hovertext,textposition:i.textposition,textfont:i.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:d(e),dflt:"solid"}},marker:v({},m("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:v({},m("marker.line"),{width:l.width})}),connectgaps:i.connectgaps,fill:v({},i.fill,{dflt:"none"}),fillcolor:E(),selected:{marker:i.selected.marker,textfont:i.selected.textfont},unselected:{marker:i.unselected.marker,textfont:i.unselected.textfont},opacity:x.opacity},"calc","nested");o.x.editType=o.y.editType=o.x0.editType=o.y0.editType="calc+clearAxisTypes",o.hovertemplate=i.hovertemplate,o.texttemplate=i.texttemplate},64628:function(X,B,t){var x=t(41272);X.exports={moduleType:"trace",name:"scattergl",basePlotModule:t(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:t(2876),supplyDefaults:t(80220),crossTraceDefaults:t(35036),colorbar:t(5528),formatLabels:t(99396),calc:t(24856),hoverPoints:x.hoverPoints,selectPoints:t(73224),meta:{}}},24856:function(X,B,t){var x=t(3108),E=t(3400),i=t(79811),M=t(19280).findExtremes,m=t(1220),d=t(16356),v=d.calcMarkerSize,r=d.calcAxisExpansion,e=d.setFirstScatter,s=t(90136),n=t(84236),l=t(74588),o=t(39032).BADNUM,h=t(67072).TOO_MANY_POINTS;X.exports=function(k,a){var c=k._fullLayout,p=a._xA=i.getFromId(k,a.xaxis,"x"),w=a._yA=i.getFromId(k,a.yaxis,"y"),S=c._plots[a.xaxis+a.yaxis],_=a._length,T=_>=h,P=_*2,u={},g,L=p.makeCalcdata(a,"x"),A=w.makeCalcdata(a,"y"),R=m(a,p,"x",L),O=m(a,w,"y",A),N=R.vals,z=O.vals;a._x=N,a._y=z,a.xperiodalignment&&(a._origX=L,a._xStarts=R.starts,a._xEnds=R.ends),a.yperiodalignment&&(a._origY=A,a._yStarts=O.starts,a._yEnds=O.ends);var F=new Array(P),I=new Array(_);for(g=0;g<_;g++)F[g*2]=N[g]===o?NaN:N[g],F[g*2+1]=z[g]===o?NaN:z[g],I[g]=g;if(p.type==="log")for(g=0;g<P;g+=2)F[g]=p.c2l(F[g]);if(w.type==="log")for(g=1;g<P;g+=2)F[g]=w.c2l(F[g]);T&&p.type!=="log"&&w.type!=="log"?u.tree=x(F):u.ids=I,s(k,a);var j=f(k,S,a,F,N,z),V=l(k,S);e(c,a);var W;return T?j.marker&&(W=j.marker.sizeAvg||Math.max(j.marker.size,3)):W=v(a,_),r(k,a,p,w,N,z,W),j.errorX&&b(a,p,j.errorX),j.errorY&&b(a,w,j.errorY),j.fill&&!V.fill2d&&(V.fill2d=!0),j.marker&&!V.scatter2d&&(V.scatter2d=!0),j.line&&!V.line2d&&(V.line2d=!0),(j.errorX||j.errorY)&&!V.error2d&&(V.error2d=!0),j.text&&!V.glText&&(V.glText=!0),j.marker&&(j.marker.snap=_),V.lineOptions.push(j.line),V.errorXOptions.push(j.errorX),V.errorYOptions.push(j.errorY),V.fillOptions.push(j.fill),V.markerOptions.push(j.marker),V.markerSelectedOptions.push(j.markerSel),V.markerUnselectedOptions.push(j.markerUnsel),V.textOptions.push(j.text),V.textSelectedOptions.push(j.textSel),V.textUnselectedOptions.push(j.textUnsel),V.selectBatch.push([]),V.unselectBatch.push([]),u._scene=V,u.index=V.count,u.x=N,u.y=z,u.positions=F,V.count++,[{x:!1,y:!1,t:u,trace:a}]};function b(k,a,c){var p=k._extremes[a._id],w=M(a,c._bnds,{padded:!0});p.min=p.min.concat(w.min),p.max=p.max.concat(w.max)}function f(k,a,c,p,w,S){var _=n.style(k,c);if(_.marker&&(_.marker.positions=p),_.line&&p.length>1&&E.extendFlat(_.line,n.linePositions(k,c,p)),_.errorX||_.errorY){var T=n.errorBarPositions(k,c,p,w,S);_.errorX&&E.extendFlat(_.errorX,T.x),_.errorY&&E.extendFlat(_.errorY,T.y)}return _.text&&(E.extendFlat(_.text,{positions:p},n.textPosition(k,c,_.text,_.marker)),E.extendFlat(_.textSel,{positions:p},n.textPosition(k,c,_.text,_.markerSel)),E.extendFlat(_.textUnsel,{positions:p},n.textPosition(k,c,_.text,_.markerUnsel))),_}},67072:function(X){var B=20;X.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:B,SYMBOL_STROKE:B/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(X,B,t){var x=t(38248),E=t(20472),i=t(72160),M=t(24040),m=t(3400),d=m.isArrayOrTypedArray,v=t(43616),r=t(79811),e=t(33040).formatColor,s=t(43028),n=t(7152),l=t(80088),o=t(67072),h=t(13448).DESELECTDIM,b={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},f=t(10624).appendArrayPointValue;function k(N,z){var F,I={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},j=N._context.plotGlPixelRatio;if(z.visible!==!0)return I;if(s.hasText(z)&&(I.text=a(N,z),I.textSel=w(N,z,z.selected),I.textUnsel=w(N,z,z.unselected)),s.hasMarkers(z)&&(I.marker=c(N,z),I.markerSel=p(N,z,z.selected),I.markerUnsel=p(N,z,z.unselected),!z.unselected&&d(z.marker.opacity))){var V=z.marker.opacity;for(I.markerUnsel.opacity=new Array(V.length),F=0;F<V.length;F++)I.markerUnsel.opacity[F]=h*V[F]}if(s.hasLines(z)){I.line={overlay:!0,thickness:z.line.width*j,color:z.line.color,opacity:z.opacity};var W=(o.DASHES[z.line.dash]||[1]).slice();for(F=0;F<W.length;++F)W[F]*=z.line.width*j;I.line.dashes=W}return z.error_x&&z.error_x.visible&&(I.errorX=S(z,z.error_x,j)),z.error_y&&z.error_y.visible&&(I.errorY=S(z,z.error_y,j)),z.fill&&z.fill!=="none"&&(I.fill={closed:!0,fill:z.fillcolor,thickness:0}),I}function a(N,z){var F=N._fullLayout,I=z._length,j=z.textfont,V=z.textposition,W=d(V)?V:[V],K=j.color,et=j.size,lt=j.family,ot={},q,J=N._context.plotGlPixelRatio,it=z.texttemplate;if(it){ot.text=[];var Z=F._d3locale,tt=Array.isArray(it),st=tt?Math.min(it.length,I):I,Q=tt?function(kt){return it[kt]}:function(){return it};for(q=0;q<st;q++){var G={i:q},ut=z._module.formatLabels(G,z,F),at={};f(at,z,q);var dt=z._meta||{};ot.text.push(m.texttemplateString(Q(q),ut,Z,at,G,dt))}}else d(z.text)&&z.text.length<I?ot.text=z.text.slice():ot.text=z.text;if(d(ot.text))for(q=ot.text.length;q<I;q++)ot.text[q]="";for(ot.opacity=z.opacity,ot.font={},ot.align=[],ot.baseline=[],q=0;q<W.length;q++){var gt=W[q].split(/\s+/);switch(gt[1]){case"left":ot.align.push("right");break;case"right":ot.align.push("left");break;default:ot.align.push(gt[1])}switch(gt[0]){case"top":ot.baseline.push("bottom");break;case"bottom":ot.baseline.push("top");break;default:ot.baseline.push(gt[0])}}if(d(K))for(ot.color=new Array(I),q=0;q<I;q++)ot.color[q]=K[q];else ot.color=K;if(d(et)||d(lt))for(ot.font=new Array(I),q=0;q<I;q++){var wt=ot.font[q]={};wt.size=(m.isTypedArray(et)?et[q]:d(et)?x(et[q])?et[q]:0:et)*J,wt.family=d(lt)?lt[q]:lt}else ot.font={size:et*J,family:lt};return ot}function c(N,z){var F=z._length,I=z.marker,j={},V,W=d(I.symbol),K=d(I.angle),et=d(I.color),lt=d(I.line.color),ot=d(I.opacity),q=d(I.size),J=d(I.line.width),it;if(W||(it=l.isOpenSymbol(I.symbol)),W||et||lt||ot||K){j.symbols=new Array(F),j.angles=new Array(F),j.colors=new Array(F),j.borderColors=new Array(F);var Z=I.symbol,tt=I.angle,st=e(I,I.opacity,F),Q=e(I.line,I.opacity,F);if(!d(Q[0])){var G=Q;for(Q=Array(F),V=0;V<F;V++)Q[V]=G}if(!d(st[0])){var ut=st;for(st=Array(F),V=0;V<F;V++)st[V]=ut}if(!d(Z)){var at=Z;for(Z=Array(F),V=0;V<F;V++)Z[V]=at}if(!d(tt)){var dt=tt;for(tt=Array(F),V=0;V<F;V++)tt[V]=dt}for(j.symbols=Z,j.angles=tt,j.colors=st,j.borderColors=Q,V=0;V<F;V++)W&&(it=l.isOpenSymbol(I.symbol[V])),it&&(Q[V]=st[V].slice(),st[V]=st[V].slice(),st[V][3]=0);for(j.opacity=z.opacity,j.markers=new Array(F),V=0;V<F;V++)j.markers[V]=L({mx:j.symbols[V],ma:j.angles[V]},z)}else it?(j.color=i(I.color,"uint8"),j.color[3]=0,j.borderColor=i(I.color,"uint8")):(j.color=i(I.color,"uint8"),j.borderColor=i(I.line.color,"uint8")),j.opacity=z.opacity*I.opacity,j.marker=L({mx:I.symbol,ma:I.angle},z);var gt=1,wt=n(z,gt),kt;if(q||J){var Ot=j.sizes=new Array(F),bt=j.borderSizes=new Array(F),_t=0,mt;if(q){for(V=0;V<F;V++)Ot[V]=wt(I.size[V]),_t+=Ot[V];mt=_t/F}else for(kt=wt(I.size),V=0;V<F;V++)Ot[V]=kt;if(J)for(V=0;V<F;V++)bt[V]=I.line.width[V];else for(kt=I.line.width,V=0;V<F;V++)bt[V]=kt;j.sizeAvg=mt}else j.size=wt(I&&I.size||10),j.borderSizes=wt(I.line.width);return j}function p(N,z,F){var I=z.marker,j={};return F&&(F.marker&&F.marker.symbol?j=c(N,m.extendFlat({},I,F.marker)):F.marker&&(F.marker.size&&(j.size=F.marker.size),F.marker.color&&(j.colors=F.marker.color),F.marker.opacity!==void 0&&(j.opacity=F.marker.opacity))),j}function w(N,z,F){var I={};if(!F)return I;if(F.textfont){var j={opacity:1,text:z.text,texttemplate:z.texttemplate,textposition:z.textposition,textfont:m.extendFlat({},z.textfont)};F.textfont&&m.extendFlat(j.textfont,F.textfont),I=a(N,j)}return I}function S(N,z,F){var I={capSize:z.width*2*F,lineWidth:z.thickness*F,color:z.color};return z.copy_ystyle&&(I=N.error_y),I}var _=o.SYMBOL_SDF_SIZE,T=o.SYMBOL_SIZE,P=o.SYMBOL_STROKE,u={},g=v.symbolFuncs[0](T*.05);function L(N,z){var F=N.mx;if(F==="circle")return null;var I,j,V=v.symbolNumber(F),W=v.symbolFuncs[V%100],K=!!v.symbolNoDot[V%100],et=!!v.symbolNoFill[V%100],lt=l.isDotSymbol(F);if(N.ma&&(F+="_"+N.ma),u[F])return u[F];var ot=v.getMarkerAngle(N,z);return lt&&!K?I=W(T*1.1,ot)+g:I=W(T,ot),j=E(I,{w:_,h:_,viewBox:[-T,-T,T,T],stroke:et?P:-P}),u[F]=j,j||null}function A(N,z,F){var I=F.length,j=I/2,V,W;if(s.hasLines(z)&&j)if(z.line.shape==="hv"){for(V=[],W=0;W<j-1;W++)isNaN(F[W*2])||isNaN(F[W*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[W*2],F[W*2+1]),!isNaN(F[W*2+2])&&!isNaN(F[W*2+3])?V.push(F[W*2+2],F[W*2+1]):V.push(NaN,NaN));V.push(F[I-2],F[I-1])}else if(z.line.shape==="hvh"){for(V=[],W=0;W<j-1;W++)if(isNaN(F[W*2])||isNaN(F[W*2+1])||isNaN(F[W*2+2])||isNaN(F[W*2+3]))!isNaN(F[W*2])&&!isNaN(F[W*2+1])?V.push(F[W*2],F[W*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var K=(F[W*2]+F[W*2+2])/2;V.push(F[W*2],F[W*2+1],K,F[W*2+1],K,F[W*2+3])}V.push(F[I-2],F[I-1])}else if(z.line.shape==="vhv"){for(V=[],W=0;W<j-1;W++)if(isNaN(F[W*2])||isNaN(F[W*2+1])||isNaN(F[W*2+2])||isNaN(F[W*2+3]))!isNaN(F[W*2])&&!isNaN(F[W*2+1])?V.push(F[W*2],F[W*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var et=(F[W*2+1]+F[W*2+3])/2;V.push(F[W*2],F[W*2+1],F[W*2],et,F[W*2+2],et)}V.push(F[I-2],F[I-1])}else if(z.line.shape==="vh"){for(V=[],W=0;W<j-1;W++)isNaN(F[W*2])||isNaN(F[W*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[W*2],F[W*2+1]),!isNaN(F[W*2+2])&&!isNaN(F[W*2+3])?V.push(F[W*2],F[W*2+3]):V.push(NaN,NaN));V.push(F[I-2],F[I-1])}else V=F;var lt=!1;for(W=0;W<V.length;W++)if(isNaN(V[W])){lt=!0;break}var ot=lt||V.length>o.TOO_MANY_POINTS||s.hasMarkers(z)?"rect":"round";if(lt&&z.connectgaps){var q=V[0],J=V[1];for(W=0;W<V.length;W+=2)isNaN(V[W])||isNaN(V[W+1])?(V[W]=q,V[W+1]=J):(q=V[W],J=V[W+1])}return{join:ot,positions:V}}function R(N,z,F,I,j){var V=M.getComponentMethod("errorbars","makeComputeError"),W=r.getFromId(N,z.xaxis,"x"),K=r.getFromId(N,z.yaxis,"y"),et=F.length/2,lt={};function ot(q,J){var it=J._id.charAt(0),Z=z["error_"+it];if(Z&&Z.visible&&(J.type==="linear"||J.type==="log")){for(var tt=V(Z),st={x:0,y:1}[it],Q={x:[0,1,2,3],y:[2,3,0,1]}[it],G=new Float64Array(4*et),ut=1/0,at=-1/0,dt=0,gt=0;dt<et;dt++,gt+=4){var wt=q[dt];if(x(wt)){var kt=F[dt*2+st],Ot=tt(wt,dt),bt=Ot[0],_t=Ot[1];if(x(bt)&&x(_t)){var mt=wt-bt,Pt=wt+_t;G[gt+Q[0]]=kt-J.c2l(mt),G[gt+Q[1]]=J.c2l(Pt)-kt,G[gt+Q[2]]=0,G[gt+Q[3]]=0,ut=Math.min(ut,wt-bt),at=Math.max(at,wt+_t)}}}lt[it]={positions:F,errors:G,_bnds:[ut,at]}}}return ot(I,W),ot(j,K),lt}function O(N,z,F,I){var j=z._length,V={},W;if(s.hasMarkers(z)){var K=F.font,et=F.align,lt=F.baseline;for(V.offset=new Array(j),W=0;W<j;W++){var ot=I.sizes?I.sizes[W]:I.size,q=d(K)?K[W].size:K.size,J=d(et)?et.length>1?et[W]:et[0]:et,it=d(lt)?lt.length>1?lt[W]:lt[0]:lt,Z=b[J],tt=b[it],st=ot?ot/.8+1:0,Q=-tt*st-tt*.5;V.offset[W]=[Z*st/q,Q/q]}}return V}X.exports={style:k,markerStyle:c,markerSelection:p,linePositions:A,errorBarPositions:R,textPosition:O}},80220:function(X,B,t){var x=t(3400),E=t(24040),i=t(80088),M=t(2876),m=t(88200),d=t(43028),v=t(43980),r=t(31147),e=t(74428),s=t(66828),n=t(70840),l=t(124);X.exports=function(o,h,b,f){function k(P,u){return x.coerce(o,h,M,P,u)}var a=o.marker?i.isOpenSymbol(o.marker.symbol):!1,c=d.isBubble(o),p=v(o,h,f,k);if(!p){h.visible=!1;return}r(o,h,f,k),k("xhoverformat"),k("yhoverformat");var w=p<m.PTS_LINESONLY?"lines+markers":"lines";k("text"),k("hovertext"),k("hovertemplate"),k("mode",w),d.hasMarkers(h)&&(e(o,h,b,f,k,{noAngleRef:!0,noStandOff:!0}),k("marker.line.width",a||c?1:0)),d.hasLines(h)&&(k("connectgaps"),s(o,h,b,f,k),k("line.shape")),d.hasText(h)&&(k("texttemplate"),l(o,h,f,k));var S=(h.line||{}).color,_=(h.marker||{}).color;k("fill"),h.fill!=="none"&&n(o,h,b,k);var T=E.getComponentMethod("errorbars","supplyDefaults");T(o,h,S||_||b,{axis:"y"}),T(o,h,S||_||b,{axis:"x",inherit:"y"}),x.coerceSelectionMarkerOpacity(h,k)}},26768:function(X,B,t){var x=t(3400),E=t(76308),i=t(13448).DESELECTDIM;function M(m){var d=m[0],v=d.trace,r=d.t,e=r._scene,s=r.index,n=e.selectBatch[s],l=e.unselectBatch[s],o=e.textOptions[s],h=e.textSelectedOptions[s]||{},b=e.textUnselectedOptions[s]||{},f=x.extendFlat({},o),k,a;if(n.length||l.length){var c=h.color,p=b.color,w=o.color,S=x.isArrayOrTypedArray(w);for(f.color=new Array(v._length),k=0;k<n.length;k++)a=n[k],f.color[a]=c||(S?w[a]:w);for(k=0;k<l.length;k++){a=l[k];var _=S?w[a]:w;f.color[a]=p||(c?_:E.addOpacity(_,i))}}e.glText[s].update(f)}X.exports={styleTextSelection:M}},99396:function(X,B,t){var x=t(76688);X.exports=function(E,i,M){var m=E.i;return"x"in E||(E.x=i._x[m]),"y"in E||(E.y=i._y[m]),x(E,i,M)}},80088:function(X,B,t){var x=t(67072);B.isOpenSymbol=function(E){return typeof E=="string"?x.OPEN_RE.test(E):E%200>100},B.isDotSymbol=function(E){return typeof E=="string"?x.DOT_RE.test(E):E>200}},41272:function(X,B,t){var x=t(24040),E=t(3400),i=t(44928);function M(d,v,r,e){var s=d.cd,n=s[0].t,l=s[0].trace,o=d.xa,h=d.ya,b=n.x,f=n.y,k=o.c2p(v),a=h.c2p(r),c=d.distance,p;if(n.tree){var w=o.p2c(k-c),S=o.p2c(k+c),_=h.p2c(a-c),T=h.p2c(a+c);e==="x"?p=n.tree.range(Math.min(w,S),Math.min(h._rl[0],h._rl[1]),Math.max(w,S),Math.max(h._rl[0],h._rl[1])):p=n.tree.range(Math.min(w,S),Math.min(_,T),Math.max(w,S),Math.max(_,T))}else p=n.ids;var P,u,g,L,A,R,O,N,z,F=c;if(e==="x"){var I=!!l.xperiodalignment,j=!!l.yperiodalignment;for(A=0;A<p.length;A++){if(P=p[A],g=b[P],R=Math.abs(o.c2p(g)-k),I){var V=o.c2p(l._xStarts[P]),W=o.c2p(l._xEnds[P]);R=k>=Math.min(V,W)&&k<=Math.max(V,W)?0:1/0}if(R<F){if(F=R,L=f[P],O=h.c2p(L)-a,j){var K=h.c2p(l._yStarts[P]),et=h.c2p(l._yEnds[P]);O=a>=Math.min(K,et)&&a<=Math.max(K,et)?0:1/0}z=Math.sqrt(R*R+O*O),u=p[A]}}}else for(A=p.length-1;A>-1;A--)P=p[A],g=b[P],L=f[P],R=o.c2p(g)-k,O=h.c2p(L)-a,N=Math.sqrt(R*R+O*O),N<F&&(F=z=N,u=P);return d.index=u,d.distance=F,d.dxy=z,u===void 0?[d]:[m(d,b,f,l)]}function m(d,v,r,e){var s=d.xa,n=d.ya,l=d.distance,o=d.dxy,h=d.index,b={pointNumber:h,x:v[h],y:r[h]};b.tx=E.isArrayOrTypedArray(e.text)?e.text[h]:e.text,b.htx=Array.isArray(e.hovertext)?e.hovertext[h]:e.hovertext,b.data=Array.isArray(e.customdata)?e.customdata[h]:e.customdata,b.tp=Array.isArray(e.textposition)?e.textposition[h]:e.textposition;var f=e.textfont;f&&(b.ts=E.isArrayOrTypedArray(f.size)?f.size[h]:f.size,b.tc=Array.isArray(f.color)?f.color[h]:f.color,b.tf=Array.isArray(f.family)?f.family[h]:f.family);var k=e.marker;k&&(b.ms=E.isArrayOrTypedArray(k.size)?k.size[h]:k.size,b.mo=E.isArrayOrTypedArray(k.opacity)?k.opacity[h]:k.opacity,b.mx=E.isArrayOrTypedArray(k.symbol)?k.symbol[h]:k.symbol,b.ma=E.isArrayOrTypedArray(k.angle)?k.angle[h]:k.angle,b.mc=E.isArrayOrTypedArray(k.color)?k.color[h]:k.color);var a=k&&k.line;a&&(b.mlc=Array.isArray(a.color)?a.color[h]:a.color,b.mlw=E.isArrayOrTypedArray(a.width)?a.width[h]:a.width);var c=k&&k.gradient;c&&c.type!=="none"&&(b.mgt=Array.isArray(c.type)?c.type[h]:c.type,b.mgc=Array.isArray(c.color)?c.color[h]:c.color);var p=s.c2p(b.x,!0),w=n.c2p(b.y,!0),S=b.mrc||1,_=e.hoverlabel;_&&(b.hbg=Array.isArray(_.bgcolor)?_.bgcolor[h]:_.bgcolor,b.hbc=Array.isArray(_.bordercolor)?_.bordercolor[h]:_.bordercolor,b.hts=E.isArrayOrTypedArray(_.font.size)?_.font.size[h]:_.font.size,b.htc=Array.isArray(_.font.color)?_.font.color[h]:_.font.color,b.htf=Array.isArray(_.font.family)?_.font.family[h]:_.font.family,b.hnl=E.isArrayOrTypedArray(_.namelength)?_.namelength[h]:_.namelength);var T=e.hoverinfo;T&&(b.hi=Array.isArray(T)?T[h]:T);var P=e.hovertemplate;P&&(b.ht=Array.isArray(P)?P[h]:P);var u={};u[d.index]=b;var g=e._origX,L=e._origY,A=E.extendFlat({},d,{color:i(e,b),x0:p-S,x1:p+S,xLabelVal:g?g[h]:b.x,y0:w-S,y1:w+S,yLabelVal:L?L[h]:b.y,cd:u,distance:l,spikeDistance:o,hovertemplate:b.ht});return b.htx?A.text=b.htx:b.tx?A.text=b.tx:e.text&&(A.text=e.text),E.fillText(b,e,A),x.getComponentMethod("errorbars","hoverInfo")(b,e,A),A}X.exports={hoverPoints:M,calcHover:m}},38983:function(X,B,t){var x=t(64628);x.plot=t(89876),X.exports=x},89876:function(X,B,t){var x=t(38540),E=t(13472),i=t(24544),M=t(23352),m=t(3400),d=t(72760).selectMode,v=t(5048),r=t(43028),e=t(14328),s=t(26768).styleTextSelection,n={};function l(h,b,f,k){var a=h._size,c=h.width*k,p=h.height*k,w=a.l*k,S=a.b*k,_=a.r*k,T=a.t*k,P=a.w*k,u=a.h*k;return[w+b.domain[0]*P,S+f.domain[0]*u,c-_-(1-b.domain[1])*P,p-T-(1-f.domain[1])*u]}var o=X.exports=function(h,b,f){if(f.length){var k=h._fullLayout,a=b._scene,c=b.xaxis,p=b.yaxis,w,S;if(a){var _=v(h,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!_){a.init();return}var T=a.count,P=k._glcanvas.data()[0].regl;if(e(h,b,f),a.dirty){if((a.line2d||a.error2d)&&!(a.scatter2d||a.fill2d||a.glText)&&P.clear({}),a.error2d===!0&&(a.error2d=i(P)),a.line2d===!0&&(a.line2d=E(P)),a.scatter2d===!0&&(a.scatter2d=x(P)),a.fill2d===!0&&(a.fill2d=E(P)),a.glText===!0)for(a.glText=new Array(T),w=0;w<T;w++)a.glText[w]=new M(P);if(a.glText){if(T>a.glText.length){var u=T-a.glText.length;for(w=0;w<u;w++)a.glText.push(new M(P))}else if(T<a.glText.length){var g=a.glText.length-T,L=a.glText.splice(T,g);L.forEach(function(st){st.destroy()})}for(w=0;w<T;w++)a.glText[w].update(a.textOptions[w])}if(a.line2d&&(a.line2d.update(a.lineOptions),a.lineOptions=a.lineOptions.map(function(st){if(st&&st.positions){for(var Q=st.positions,G=0;G<Q.length&&(isNaN(Q[G])||isNaN(Q[G+1]));)G+=2;for(var ut=Q.length-2;ut>G&&(isNaN(Q[ut])||isNaN(Q[ut+1]));)ut-=2;st.positions=Q.slice(G,ut+2)}return st}),a.line2d.update(a.lineOptions)),a.error2d){var A=(a.errorXOptions||[]).concat(a.errorYOptions||[]);a.error2d.update(A)}a.scatter2d&&a.scatter2d.update(a.markerOptions),a.fillOrder=m.repeat(null,T),a.fill2d&&(a.fillOptions=a.fillOptions.map(function(st,Q){var G=f[Q];if(!(!st||!G||!G[0]||!G[0].trace)){var ut=G[0],at=ut.trace,dt=ut.t,gt=a.lineOptions[Q],wt,kt,Ot=[];at._ownfill&&Ot.push(Q),at._nexttrace&&Ot.push(Q+1),Ot.length&&(a.fillOrder[Q]=Ot);var bt=[],_t=gt&&gt.positions||dt.positions,mt,Pt;if(at.fill==="tozeroy"){for(mt=0;mt<_t.length&&isNaN(_t[mt+1]);)mt+=2;for(Pt=_t.length-2;Pt>mt&&isNaN(_t[Pt+1]);)Pt-=2;_t[mt+1]!==0&&(bt=[_t[mt],0]),bt=bt.concat(_t.slice(mt,Pt+2)),_t[Pt+1]!==0&&(bt=bt.concat([_t[Pt],0]))}else if(at.fill==="tozerox"){for(mt=0;mt<_t.length&&isNaN(_t[mt]);)mt+=2;for(Pt=_t.length-2;Pt>mt&&isNaN(_t[Pt]);)Pt-=2;_t[mt]!==0&&(bt=[0,_t[mt+1]]),bt=bt.concat(_t.slice(mt,Pt+2)),_t[Pt]!==0&&(bt=bt.concat([0,_t[Pt+1]]))}else if(at.fill==="toself"||at.fill==="tonext"){for(bt=[],wt=0,st.splitNull=!0,kt=0;kt<_t.length;kt+=2)(isNaN(_t[kt])||isNaN(_t[kt+1]))&&(bt=bt.concat(_t.slice(wt,kt)),bt.push(_t[wt],_t[wt+1]),bt.push(null,null),wt=kt+2);bt=bt.concat(_t.slice(wt)),wt&&bt.push(_t[wt],_t[wt+1])}else{var Rt=at._nexttrace;if(Rt){var Ht=a.lineOptions[Q+1];if(Ht){var Dt=Ht.positions;if(at.fill==="tonexty"){for(bt=_t.slice(),Q=Math.floor(Dt.length/2);Q--;){var Xt=Dt[Q*2],se=Dt[Q*2+1];isNaN(Xt)||isNaN(se)||bt.push(Xt,se)}st.fill=Rt.fillcolor}}}}if(at._prevtrace&&at._prevtrace.fill==="tonext"){var Yt=a.lineOptions[Q-1].positions,ue=bt.length/2;wt=ue;var ie=[wt];for(kt=0;kt<Yt.length;kt+=2)(isNaN(Yt[kt])||isNaN(Yt[kt+1]))&&(ie.push(kt/2+ue+1),wt=kt+2);bt=bt.concat(Yt),st.hole=ie}return st.fillmode=at.fill,st.opacity=at.opacity,st.positions=bt,st}}),a.fill2d.update(a.fillOptions))}var R=k.dragmode,O=d(R),N=k.clickmode.indexOf("select")>-1;for(w=0;w<T;w++){var z=f[w][0],F=z.trace,I=z.t,j=I.index,V=F._length,W=I.x,K=I.y;if(F.selectedpoints||O||N){if(O||(O=!0),F.selectedpoints){var et=a.selectBatch[j]=m.selIndices2selPoints(F),lt={};for(S=0;S<et.length;S++)lt[et[S]]=1;var ot=[];for(S=0;S<V;S++)lt[S]||ot.push(S);a.unselectBatch[j]=ot}var q=I.xpx=new Array(V),J=I.ypx=new Array(V);for(S=0;S<V;S++)q[S]=c.c2p(W[S]),J[S]=p.c2p(K[S])}else I.xpx=I.ypx=null}if(O){if(a.select2d||(a.select2d=x(k._glcanvas.data()[1].regl)),a.scatter2d){var it=new Array(T);for(w=0;w<T;w++)it[w]=a.selectBatch[w].length||a.unselectBatch[w].length?a.markerUnselectedOptions[w]:{};a.scatter2d.update(it)}a.select2d&&(a.select2d.update(a.markerOptions),a.select2d.update(a.markerSelectedOptions)),a.glText&&f.forEach(function(st){var Q=((st||[])[0]||{}).trace||{};r.hasText(Q)&&s(st)})}else a.scatter2d&&a.scatter2d.update(a.markerOptions);var Z={viewport:l(k,c,p,h._context.plotGlPixelRatio),range:[(c._rl||c.range)[0],(p._rl||p.range)[0],(c._rl||c.range)[1],(p._rl||p.range)[1]]},tt=m.repeat(Z,a.count);a.fill2d&&a.fill2d.update(tt),a.line2d&&a.line2d.update(tt),a.error2d&&a.error2d.update(tt.concat(tt)),a.scatter2d&&a.scatter2d.update(tt),a.select2d&&a.select2d.update(tt),a.glText&&a.glText.forEach(function(st){st.update(Z)})}}};o.reglPrecompiled=n},74588:function(X,B,t){var x=t(3400);X.exports=function(E,i){var M=i._scene,m={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return i._scene||(M=i._scene={},M.init=function(){x.extendFlat(M,d,m)},M.init(),M.update=function(v){var r=x.repeat(v,M.count);if(M.fill2d&&M.fill2d.update(r),M.scatter2d&&M.scatter2d.update(r),M.line2d&&M.line2d.update(r),M.error2d&&M.error2d.update(r.concat(r)),M.select2d&&M.select2d.update(r),M.glText)for(var e=0;e<M.count;e++)M.glText[e].update(v)},M.draw=function(){for(var v=M.count,r=M.fill2d,e=M.error2d,s=M.line2d,n=M.scatter2d,l=M.glText,o=M.select2d,h=M.selectBatch,b=M.unselectBatch,f=0;f<v;f++){if(r&&M.fillOrder[f]&&r.draw(M.fillOrder[f]),s&&M.lineOptions[f]&&s.draw(f),e&&(M.errorXOptions[f]&&e.draw(f),M.errorYOptions[f]&&e.draw(f+v)),n&&M.markerOptions[f])if(b[f].length){var k=x.repeat([],M.count);k[f]=b[f],n.draw(k)}else h[f].length||n.draw(f);l[f]&&M.textOptions[f]&&l[f].render()}o&&o.draw(h),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(v){v.destroy&&v.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,i._scene=null}),M.dirty||x.extendFlat(M,m),M}},73224:function(X,B,t){var x=t(43028),E=t(26768).styleTextSelection;X.exports=function(i,M){var m=i.cd,d=i.xaxis,v=i.yaxis,r=[],e=m[0].trace,s=m[0].t,n=e._length,l=s.x,o=s.y,h=s._scene,b=s.index;if(!h)return r;var f=x.hasText(e),k=x.hasMarkers(e),a=!k&&!f;if(e.visible!==!0||a)return r;var c=[],p=[];if(M!==!1&&!M.degenerate)for(var w=0;w<n;w++)M.contains([s.xpx[w],s.ypx[w]],!1,w,i)?(c.push(w),r.push({pointNumber:w,x:d.c2d(l[w]),y:v.c2d(o[w])})):p.push(w);if(k){var S=h.scatter2d;if(!c.length&&!p.length){var _=new Array(h.count);_[b]=h.markerOptions[b],S.update.apply(S,_)}else if(!h.selectBatch[b].length&&!h.unselectBatch[b].length){var T=new Array(h.count);T[b]=h.markerUnselectedOptions[b],S.update.apply(S,T)}}return h.selectBatch[b]=c,h.unselectBatch[b]=p,f&&E(m),r}},31512:function(X,B,t){var x=t(21776).Ks,E=t(21776).Gw,i=t(98304),M=t(6096),m=t(52904),d=t(5232),v=t(45464),r=t(49084),e=t(92880).extendFlat,s=t(67824).overrideAll,n=t(5232),l=M.line,o=M.marker;X.exports=s({lon:M.lon,lat:M.lat,cluster:{enabled:{valType:"boolean"},maxzoom:e({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:e({},o.opacity,{dflt:1})},mode:e({},m.mode,{dflt:"markers"}),text:e({},m.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:e({},m.hovertext,{}),line:{color:l.color,width:l.width},connectgaps:m.connectgaps,marker:e({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:o.opacity,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode},r("marker")),fill:M.fill,fillcolor:i(),textfont:d.layers.symbol.textfont,textposition:d.layers.symbol.textposition,below:{valType:"string"},selected:{marker:m.selected.marker},unselected:{marker:m.unselected.marker},hoverinfo:e({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:x()},"calc","nested")},59392:function(X,B,t){var x=t(38248),E=t(3400),i=t(39032).BADNUM,M=t(44808),m=t(8932),d=t(43616),v=t(7152),r=t(43028),e=t(89032),s=t(10624).appendArrayPointValue,n=t(72736).NEWLINES,l=t(72736).BR_TAG_ALL;X.exports=function(p,w){var S=w[0].trace,_=S.visible===!0&&S._length!==0,T=S.fill!=="none",P=r.hasLines(S),u=r.hasMarkers(S),g=r.hasText(S),L=u&&S.marker.symbol==="circle",A=u&&S.marker.symbol!=="circle",R=S.cluster&&S.cluster.enabled,O=o("fill"),N=o("line"),z=o("circle"),F=o("symbol"),I={fill:O,line:N,circle:z,symbol:F};if(!_)return I;var j;if((T||P)&&(j=M.calcTraceToLineCoords(w)),T&&(O.geojson=M.makePolygon(j),O.layout.visibility="visible",E.extendFlat(O.paint,{"fill-color":S.fillcolor})),P&&(N.geojson=M.makeLine(j),N.layout.visibility="visible",E.extendFlat(N.paint,{"line-width":S.line.width,"line-color":S.line.color,"line-opacity":S.opacity})),L){var V=h(w);z.geojson=V.geojson,z.layout.visibility="visible",R&&(z.filter=["!",["has","point_count"]],I.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":c(S.cluster.color,S.cluster.step),"circle-radius":c(S.cluster.size,S.cluster.step),"circle-opacity":c(S.cluster.opacity,S.cluster.step)}},I.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),E.extendFlat(z.paint,{"circle-color":V.mcc,"circle-radius":V.mrc,"circle-opacity":V.mo})}if(L&&R&&(z.filter=["!",["has","point_count"]]),(A||g)&&(F.geojson=b(w,p),E.extendFlat(F.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),A&&(E.extendFlat(F.layout,{"icon-size":S.marker.size/10}),"angle"in S.marker&&S.marker.angle!=="auto"&&E.extendFlat(F.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),F.layout["icon-allow-overlap"]=S.marker.allowoverlap,E.extendFlat(F.paint,{"icon-opacity":S.opacity*S.marker.opacity,"icon-color":S.marker.color})),g)){var W=(S.marker||{}).size,K=e(S.textposition,W);E.extendFlat(F.layout,{"text-size":S.textfont.size,"text-anchor":K.anchor,"text-offset":K.offset,"text-font":S.textfont.family.split(", ")}),E.extendFlat(F.paint,{"text-color":S.textfont.color,"text-opacity":S.opacity})}return I};function o(p){return{type:p,geojson:M.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function h(p){var w=p[0].trace,S=w.marker,_=w.selectedpoints,T=E.isArrayOrTypedArray(S.color),P=E.isArrayOrTypedArray(S.size),u=E.isArrayOrTypedArray(S.opacity),g;function L(K){return w.opacity*K}function A(K){return K/2}var R;T&&(m.hasColorscale(w,"marker")?R=m.makeColorScaleFuncFromTrace(S):R=E.identity);var O;P&&(O=v(w));var N;u&&(N=function(K){var et=x(K)?+E.constrain(K,0,1):0;return L(et)});var z=[];for(g=0;g<p.length;g++){var F=p[g],I=F.lonlat;if(!a(I)){var j={};R&&(j.mcc=F.mcc=R(F.mc)),O&&(j.mrc=F.mrc=O(F.ms)),N&&(j.mo=N(F.mo)),_&&(j.selected=F.selected||0),z.push({type:"Feature",id:g+1,geometry:{type:"Point",coordinates:I},properties:j})}}var V;if(_)for(V=d.makeSelectedPointStyleFns(w),g=0;g<z.length;g++){var W=z[g].properties;V.selectedOpacityFn&&(W.mo=L(V.selectedOpacityFn(W))),V.selectedColorFn&&(W.mcc=V.selectedColorFn(W)),V.selectedSizeFn&&(W.mrc=V.selectedSizeFn(W))}return{geojson:{type:"FeatureCollection",features:z},mcc:T||V&&V.selectedColorFn?{type:"identity",property:"mcc"}:S.color,mrc:P||V&&V.selectedSizeFn?{type:"identity",property:"mrc"}:A(S.size),mo:u||V&&V.selectedOpacityFn?{type:"identity",property:"mo"}:L(S.opacity)}}function b(p,w){for(var S=w._fullLayout,_=p[0].trace,T=_.marker||{},P=T.symbol,u=T.angle,g=P!=="circle"?f(P):k,L=u!=="auto"?f(u,!0):k,A=r.hasText(_)?f(_.text):k,R=[],O=0;O<p.length;O++){var N=p[O];if(!a(N.lonlat)){var z=_.texttemplate,F;if(z){var I=Array.isArray(z)?z[O]||"":z,j=_._module.formatLabels(N,_,S),V={};s(V,_,N.i);var W=_._meta||{};F=E.texttemplateString(I,j,S._d3locale,V,N,W)}else F=A(O);F&&(F=F.replace(n,"").replace(l,`
`)),R.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:g(O),angle:L(O),text:F}})}}return{type:"FeatureCollection",features:R}}function f(p,w){return E.isArrayOrTypedArray(p)?w?function(S){return x(p[S])?+p[S]:0}:function(S){return p[S]}:p?function(){return p}:k}function k(){return""}function a(p){return p[0]===i}function c(p,w){var S;if(E.isArrayOrTypedArray(p)&&E.isArrayOrTypedArray(w)){S=["step",["get","point_count"],p[0]];for(var _=1;_<p.length;_++)S.push(w[_-1],p[_])}else S=p;return S}},15752:function(X,B,t){var x=t(3400),E=t(43028),i=t(74428),M=t(66828),m=t(124),d=t(70840),v=t(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];X.exports=function(s,n,l,o){function h(T,P){return x.coerce(s,n,v,T,P)}function b(T,P){return x.coerce2(s,n,v,T,P)}var f=e(s,n,h);if(!f){n.visible=!1;return}if(h("text"),h("texttemplate"),h("hovertext"),h("hovertemplate"),h("mode"),h("below"),E.hasMarkers(n)){i(s,n,l,o,h,{noLine:!0,noAngle:!0}),h("marker.allowoverlap"),h("marker.angle");var k=n.marker;k.symbol!=="circle"&&(x.isArrayOrTypedArray(k.size)&&(k.size=k.size[0]),x.isArrayOrTypedArray(k.color)&&(k.color=k.color[0]))}E.hasLines(n)&&(M(s,n,l,o,h,{noDash:!0}),h("connectgaps"));var a=b("cluster.maxzoom"),c=b("cluster.step"),p=b("cluster.color",n.marker&&n.marker.color||l),w=b("cluster.size"),S=b("cluster.opacity"),_=a!==!1||c!==!1||p!==!1||w!==!1||S!==!1;h("cluster.enabled",_),E.hasText(n)&&m(s,n,o,h,{noSelect:!0,font:{family:r.indexOf(o.font.family)!==-1?o.font.family:"Open Sans Regular",size:o.font.size,color:o.font.color}}),h("fill"),n.fill!=="none"&&d(s,n,l,h),x.coerceSelectionMarkerOpacity(n,h)};function e(s,n,l){var o=l("lon")||[],h=l("lat")||[],b=Math.min(o.length,h.length);return n._length=b,b}},37920:function(X){X.exports=function(B,t){return B.lon=t.lon,B.lat=t.lat,B}},11960:function(X,B,t){var x=t(54460);X.exports=function(E,i,M){var m={},d=M[i.subplot]._subplot,v=d.mockAxis,r=E.lonlat;return m.lonLabel=x.tickText(v,v.c2l(r[0]),!0).text,m.latLabel=x.tickText(v,v.c2l(r[1]),!0).text,m}},63312:function(X,B,t){var x=t(93024),E=t(3400),i=t(44928),M=E.fillText,m=t(39032).BADNUM,d=t(47552).traceLayerPrefix;function v(e,s,n){var l=e.cd,o=l[0].trace,h=e.xa,b=e.ya,f=e.subplot,k=[],a=d+o.uid+"-circle",c=o.cluster&&o.cluster.enabled;if(c){var p=f.map.queryRenderedFeatures(null,{layers:[a]});k=p.map(function(z){return z.id})}var w=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),S=w*360,_=s-S;function T(z){var F=z.lonlat;if(F[0]===m||c&&k.indexOf(z.i+1)===-1)return 1/0;var I=E.modHalf(F[0],360),j=F[1],V=f.project([I,j]),W=V.x-h.c2p([_,j]),K=V.y-b.c2p([I,n]),et=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(W*W+K*K)-et,1-3/et)}if(x.getClosest(l,T,e),e.index!==!1){var P=l[e.index],u=P.lonlat,g=[E.modHalf(u[0],360)+S,u[1]],L=h.c2p(g),A=b.c2p(g),R=P.mrc||1;e.x0=L-R,e.x1=L+R,e.y0=A-R,e.y1=A+R;var O={};O[o.subplot]={_subplot:f};var N=o._module.formatLabels(P,o,O);return e.lonLabel=N.lonLabel,e.latLabel=N.latLabel,e.color=i(o,P),e.extraText=r(o,P,l[0].t.labels),e.hovertemplate=o.hovertemplate,[e]}}function r(e,s,n){if(e.hovertemplate)return;var l=s.hi||e.hoverinfo,o=l.split("+"),h=o.indexOf("all")!==-1,b=o.indexOf("lon")!==-1,f=o.indexOf("lat")!==-1,k=s.lonlat,a=[];function c(p){return p+"°"}return h||b&&f?a.push("("+c(k[1])+", "+c(k[0])+")"):b?a.push(n.lon+c(k[0])):f&&a.push(n.lat+c(k[1])),(h||o.indexOf("text")!==-1)&&M(s,e,a),a.join("<br>")}X.exports={hoverPoints:v,getExtraText:r}},11572:function(X,B,t){X.exports={attributes:t(31512),supplyDefaults:t(15752),colorbar:t(5528),formatLabels:t(11960),calc:t(25212),plot:t(9660),hoverPoints:t(63312).hoverPoints,eventData:t(37920),selectPoints:t(404),styleOnSelect:function(x,E){if(E){var i=E[0].trace;i._glTrace.update(E)}},moduleType:"trace",name:"scattermapbox",basePlotModule:t(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(X,B,t){var x=t(3400),E=t(59392),i=t(47552).traceLayerPrefix,M={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function m(v,r,e,s){this.type="scattermapbox",this.subplot=v,this.uid=r,this.clusterEnabled=e,this.isHidden=s,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:i+r+"-fill",line:i+r+"-line",circle:i+r+"-circle",symbol:i+r+"-symbol",cluster:i+r+"-cluster",clusterCount:i+r+"-cluster-count"},this.below=null}var d=m.prototype;d.addSource=function(v,r,e){var s={type:"geojson",data:r.geojson};e&&e.enabled&&x.extendFlat(s,{cluster:!0,clusterMaxZoom:e.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[v]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[v],s)},d.setSourceData=function(v,r){this.subplot.map.getSource(this.sourceIds[v]).setData(r.geojson)},d.addLayer=function(v,r,e){var s={type:r.type,id:this.layerIds[v],source:this.sourceIds[v],layout:r.layout,paint:r.paint};r.filter&&(s.filter=r.filter);for(var n=this.layerIds[v],l,o=this.subplot.getMapLayers(),h=0;h<o.length;h++)if(o[h].id===n){l=!0;break}l?(this.subplot.setOptions(n,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",s.paint)):this.subplot.addLayer(s,e)},d.update=function(v){var r=v[0].trace,e=this.subplot,s=e.map,n=E(e.gd,v),l=e.belowLookup["trace-"+this.uid],o=!!(r.cluster&&r.cluster.enabled),h=!!this.clusterEnabled,b=this;function f(P){P||b.addSource("circle",n.circle,r.cluster);for(var u=M.cluster,g=0;g<u.length;g++){var L=u[g],A=n[L];b.addLayer(L,A,l)}}function k(P){for(var u=M.cluster,g=u.length-1;g>=0;g--){var L=u[g];s.removeLayer(b.layerIds[L])}P||s.removeSource(b.sourceIds.circle)}function a(P){for(var u=M.nonCluster,g=0;g<u.length;g++){var L=u[g],A=n[L];P||b.addSource(L,A),b.addLayer(L,A,l)}}function c(P){for(var u=M.nonCluster,g=u.length-1;g>=0;g--){var L=u[g];s.removeLayer(b.layerIds[L]),P||s.removeSource(b.sourceIds[L])}}function p(P){h?k(P):c(P)}function w(P){o?f(P):a(P)}function S(){for(var P=o?M.cluster:M.nonCluster,u=0;u<P.length;u++){var g=P[u],L=n[g];L&&(e.setOptions(b.layerIds[g],"setLayoutProperty",L.layout),L.layout.visibility==="visible"&&(g!=="cluster"&&b.setSourceData(g,L),e.setOptions(b.layerIds[g],"setPaintProperty",L.paint)))}}var _=this.isHidden,T=r.visible!==!0;T?_||p():_?T||w():h!==o?(p(),w()):(this.below!==l&&(p(!0),w(!0)),S()),this.clusterEnabled=o,this.isHidden=T,this.below=l,v[0].trace._glTrace=this},d.dispose=function(){for(var v=this.subplot.map,r=this.clusterEnabled?M.cluster:M.nonCluster,e=r.length-1;e>=0;e--){var s=r[e];v.removeLayer(this.layerIds[s]),v.removeSource(this.sourceIds[s])}},X.exports=function(v,r){var e=r[0].trace,s=e.cluster&&e.cluster.enabled,n=e.visible!==!0,l=new m(v,e.uid,s,n),o=E(v.gd,r),h=l.below=v.belowLookup["trace-"+e.uid],b,f,k;if(s)for(l.addSource("circle",o.circle,e.cluster),b=0;b<M.cluster.length;b++)f=M.cluster[b],k=o[f],l.addLayer(f,k,h);else for(b=0;b<M.nonCluster.length;b++)f=M.nonCluster[b],k=o[f],l.addSource(f,k,e.cluster),l.addLayer(f,k,h);return r[0].trace._glTrace=l,l}},404:function(X,B,t){var x=t(3400),E=t(43028),i=t(39032).BADNUM;X.exports=function(M,m){var d=M.cd,v=M.xaxis,r=M.yaxis,e=[],s=d[0].trace,n;if(!E.hasMarkers(s))return[];if(m===!1)for(n=0;n<d.length;n++)d[n].selected=0;else for(n=0;n<d.length;n++){var l=d[n],o=l.lonlat;if(o[0]!==i){var h=[x.modHalf(o[0],360),o[1]],b=[v.c2p(h),r.c2p(h)];m.contains(b,null,n,M)?(e.push({pointNumber:n,lon:o[0],lat:o[1]}),l.selected=1):l.selected=0}}return e}},8319:function(X,B,t){var x=t(21776).Ks,E=t(21776).Gw,i=t(92880).extendFlat,M=t(98304),m=t(52904),d=t(45464),v=m.line;X.exports={mode:m.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:m.text,texttemplate:E({editType:"plot"},{keys:["r","theta","text"]}),hovertext:m.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:i({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:m.connectgaps,marker:m.marker,cliponaxis:i({},m.cliponaxis,{dflt:!1}),textposition:m.textposition,textfont:m.textfont,fill:i({},m.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M(),hoverinfo:i({},d.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:m.hoveron,hovertemplate:x(),selected:m.selected,unselected:m.unselected}},58320:function(X,B,t){var x=t(38248),E=t(39032).BADNUM,i=t(54460),M=t(90136),m=t(20148),d=t(4500),v=t(16356).calcMarkerSize;X.exports=function(r,e){for(var s=r._fullLayout,n=e.subplot,l=s[n].radialaxis,o=s[n].angularaxis,h=l.makeCalcdata(e,"r"),b=o.makeCalcdata(e,"theta"),f=e._length,k=new Array(f),a=0;a<f;a++){var c=h[a],p=b[a],w=k[a]={};x(c)&&x(p)?(w.r=c,w.theta=p):w.r=E}var S=v(e,f);return e._extremes.x=i.findExtremes(l,h,{ppad:S}),M(r,e),m(k,e),d(k,e),k}},85968:function(X,B,t){var x=t(3400),E=t(43028),i=t(74428),M=t(66828),m=t(11731),d=t(124),v=t(70840),r=t(88200).PTS_LINESONLY,e=t(8319);function s(l,o,h,b){function f(c,p){return x.coerce(l,o,e,c,p)}var k=n(l,o,b,f);if(!k){o.visible=!1;return}f("thetaunit"),f("mode",k<r?"lines+markers":"lines"),f("text"),f("hovertext"),o.hoveron!=="fills"&&f("hovertemplate"),E.hasMarkers(o)&&i(l,o,h,b,f,{gradient:!0}),E.hasLines(o)&&(M(l,o,h,b,f,{backoff:!0}),m(l,o,f),f("connectgaps")),E.hasText(o)&&(f("texttemplate"),d(l,o,b,f));var a=[];(E.hasMarkers(o)||E.hasText(o))&&(f("cliponaxis"),f("marker.maxdisplayed"),a.push("points")),f("fill"),o.fill!=="none"&&(v(l,o,h,f),E.hasLines(o)||m(l,o,f)),(o.fill==="tonext"||o.fill==="toself")&&a.push("fills"),f("hoveron",a.join("+")||"points"),x.coerceSelectionMarkerOpacity(o,f)}function n(l,o,h,b){var f=b("r"),k=b("theta");x.isTypedArray(f)&&(o.r=f=Array.from(f)),x.isTypedArray(k)&&(o.theta=k=Array.from(k));var a;if(f)k?a=Math.min(f.length,k.length):(a=f.length,b("theta0"),b("dtheta"));else{if(!k)return 0;a=o.theta.length,b("r0"),b("dr")}return o._length=a,a}X.exports={handleRThetaDefaults:n,supplyDefaults:s}},22852:function(X,B,t){var x=t(3400),E=t(54460);X.exports=function(i,M,m){var d={},v=m[M.subplot]._subplot,r,e;v?(r=v.radialAxis,e=v.angularAxis):(v=m[M.subplot],r=v.radialaxis,e=v.angularaxis);var s=r.c2l(i.r);d.rLabel=E.tickText(r,s,!0).text;var n=e.thetaunit==="degrees"?x.rad2deg(i.theta):i.theta;return d.thetaLabel=E.tickText(e,n,!0).text,d}},8504:function(X,B,t){var x=t(98723);function E(M,m,d,v){var r=x(M,m,d,v);if(!(!r||r[0].index===!1)){var e=r[0];if(e.index===void 0)return r;var s=M.subplot,n=e.cd[e.index],l=e.trace;if(s.isPtInside(n))return e.xLabelVal=void 0,e.yLabelVal=void 0,i(n,l,s,e),e.hovertemplate=l.hovertemplate,r}}function i(M,m,d,v){var r=d.radialAxis,e=d.angularAxis;r._hovertitle="r",e._hovertitle="θ";var s={};s[m.subplot]={_subplot:d};var n=m._module.formatLabels(M,m,s);v.rLabel=n.rLabel,v.thetaLabel=n.thetaLabel;var l=M.hi||m.hoverinfo,o=[];function h(f,k){o.push(f._hovertitle+": "+k)}if(!m.hovertemplate){var b=l.split("+");b.indexOf("all")!==-1&&(b=["r","theta","text"]),b.indexOf("r")!==-1&&h(r,v.rLabel),b.indexOf("theta")!==-1&&h(e,v.thetaLabel),b.indexOf("text")!==-1&&v.text&&(o.push(v.text),delete v.text),v.extraText=o.join("<br>")}}X.exports={hoverPoints:E,makeHoverPointText:i}},76924:function(X,B,t){X.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:t(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:t(8319),supplyDefaults:t(85968).supplyDefaults,colorbar:t(5528),formatLabels:t(22852),calc:t(58320),plot:t(43456),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(8504).hoverPoints,selectPoints:t(91560),meta:{}}},43456:function(X,B,t){var x=t(96504),E=t(39032).BADNUM;X.exports=function(i,M,m){for(var d=M.layers.frontplot.select("g.scatterlayer"),v=M.xaxis,r=M.yaxis,e={xaxis:v,yaxis:r,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},s=M.radialAxis,n=M.angularAxis,l=0;l<m.length;l++)for(var o=m[l],h=0;h<o.length;h++){h===0&&(o[0].trace._xA=v,o[0].trace._yA=r);var b=o[h],f=b.r;if(f===E)b.x=b.y=E;else{var k=s.c2g(f),a=n.c2g(b.theta);b.x=k*Math.cos(a),b.y=k*Math.sin(a)}}x(i,e,m,d)}},24396:function(X,B,t){var x=t(8319),E=t(2876),i=t(21776).Gw;X.exports={mode:x.mode,r:x.r,theta:x.theta,r0:x.r0,dr:x.dr,theta0:x.theta0,dtheta:x.dtheta,thetaunit:x.thetaunit,text:x.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:x.hovertext,hovertemplate:x.hovertemplate,line:{color:E.line.color,width:E.line.width,dash:E.line.dash,editType:"calc"},connectgaps:E.connectgaps,marker:E.marker,fill:E.fill,fillcolor:E.fillcolor,textposition:E.textposition,textfont:E.textfont,hoverinfo:x.hoverinfo,selected:x.selected,unselected:x.unselected}},27160:function(X,B,t){X.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:t(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:t(24396),supplyDefaults:t(98608),colorbar:t(5528),formatLabels:t(94120),calc:t(66720),hoverPoints:t(1600).hoverPoints,selectPoints:t(73224),meta:{}}},66720:function(X,B,t){var x=t(90136),E=t(16356).calcMarkerSize,i=t(84236),M=t(54460),m=t(67072).TOO_MANY_POINTS;X.exports=function(d,v){var r=d._fullLayout,e=v.subplot,s=r[e].radialaxis,n=r[e].angularaxis,l=v._r=s.makeCalcdata(v,"r"),o=v._theta=n.makeCalcdata(v,"theta"),h=v._length,b={};h<l.length&&(l=l.slice(0,h)),h<o.length&&(o=o.slice(0,h)),b.r=l,b.theta=o,x(d,v);var f=b.opts=i.style(d,v),k;return h<m?k=E(v,h):f.marker&&(k=2*(f.marker.sizeAvg||Math.max(f.marker.size,3))),v._extremes.x=M.findExtremes(s,l,{ppad:k}),[{x:!1,y:!1,t:b,trace:v}]}},98608:function(X,B,t){var x=t(3400),E=t(43028),i=t(85968).handleRThetaDefaults,M=t(74428),m=t(66828),d=t(124),v=t(70840),r=t(88200).PTS_LINESONLY,e=t(24396);X.exports=function(s,n,l,o){function h(f,k){return x.coerce(s,n,e,f,k)}var b=i(s,n,o,h);if(!b){n.visible=!1;return}h("thetaunit"),h("mode",b<r?"lines+markers":"lines"),h("text"),h("hovertext"),n.hoveron!=="fills"&&h("hovertemplate"),E.hasMarkers(n)&&M(s,n,l,o,h,{noAngleRef:!0,noStandOff:!0}),E.hasLines(n)&&(m(s,n,l,o,h),h("connectgaps")),E.hasText(n)&&(h("texttemplate"),d(s,n,o,h)),h("fill"),n.fill!=="none"&&v(s,n,l,h),x.coerceSelectionMarkerOpacity(n,h)}},94120:function(X,B,t){var x=t(22852);X.exports=function(E,i,M){var m=E.i;return"r"in E||(E.r=i._r[m]),"theta"in E||(E.theta=i._theta[m]),x(E,i,M)}},1600:function(X,B,t){var x=t(41272),E=t(8504).makeHoverPointText;function i(M,m,d,v){var r=M.cd,e=r[0].t,s=e.r,n=e.theta,l=x.hoverPoints(M,m,d,v);if(!(!l||l[0].index===!1)){var o=l[0];if(o.index===void 0)return l;var h=M.subplot,b=o.cd[o.index],f=o.trace;if(b.r=s[o.index],b.theta=n[o.index],!!h.isPtInside(b))return o.xLabelVal=void 0,o.yLabelVal=void 0,E(b,f,h,o),l}}X.exports={hoverPoints:i}},62944:function(X,B,t){var x=t(27160);x.plot=t(56512),X.exports=x},56512:function(X,B,t){var x=t(3108),E=t(38248),i=t(89876),M=t(74588),m=t(84236),d=t(3400),v=t(67072).TOO_MANY_POINTS,r={};X.exports=function(e,s,n){if(n.length){var l=s.radialAxis,o=s.angularAxis,h=M(e,s);return n.forEach(function(b){if(!(!b||!b[0]||!b[0].trace)){var f=b[0],k=f.trace,a=f.t,c=k._length,p=a.r,w=a.theta,S=a.opts,_,T=p.slice(),P=w.slice();for(_=0;_<p.length;_++)s.isPtInside({r:p[_],theta:w[_]})||(T[_]=NaN,P[_]=NaN);var u=new Array(c*2),g=Array(c),L=Array(c);for(_=0;_<c;_++){var A=T[_],R,O;if(E(A)){var N=l.c2g(A),z=o.c2g(P[_],k.thetaunit);R=N*Math.cos(z),O=N*Math.sin(z)}else R=O=NaN;g[_]=u[_*2]=R,L[_]=u[_*2+1]=O}a.tree=x(u),S.marker&&c>=v&&(S.marker.cluster=a.tree),S.marker&&(S.markerSel.positions=S.markerUnsel.positions=S.marker.positions=u),S.line&&u.length>1&&d.extendFlat(S.line,m.linePositions(e,k,u)),S.text&&(d.extendFlat(S.text,{positions:u},m.textPosition(e,k,S.text,S.marker)),d.extendFlat(S.textSel,{positions:u},m.textPosition(e,k,S.text,S.markerSel)),d.extendFlat(S.textUnsel,{positions:u},m.textPosition(e,k,S.text,S.markerUnsel))),S.fill&&!h.fill2d&&(h.fill2d=!0),S.marker&&!h.scatter2d&&(h.scatter2d=!0),S.line&&!h.line2d&&(h.line2d=!0),S.text&&!h.glText&&(h.glText=!0),h.lineOptions.push(S.line),h.fillOptions.push(S.fill),h.markerOptions.push(S.marker),h.markerSelectedOptions.push(S.markerSel),h.markerUnselectedOptions.push(S.markerUnsel),h.textOptions.push(S.text),h.textSelectedOptions.push(S.textSel),h.textUnselectedOptions.push(S.textUnsel),h.selectBatch.push([]),h.unselectBatch.push([]),a.x=g,a.y=L,a.rawx=g,a.rawy=L,a.r=p,a.theta=w,a.positions=u,a._scene=h,a.index=h.count,h.count++}}),i(e,s,n)}},X.exports.reglPrecompiled=r},69496:function(X,B,t){var x=t(21776).Ks,E=t(21776).Gw,i=t(92880).extendFlat,M=t(98304),m=t(52904),d=t(45464),v=m.line;X.exports={mode:m.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:m.text,texttemplate:E({editType:"plot"},{keys:["real","imag","text"]}),hovertext:m.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:i({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:m.connectgaps,marker:m.marker,cliponaxis:i({},m.cliponaxis,{dflt:!1}),textposition:m.textposition,textfont:m.textfont,fill:i({},m.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M(),hoverinfo:i({},d.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:m.hoveron,hovertemplate:x(),selected:m.selected,unselected:m.unselected}},47507:function(X,B,t){var x=t(38248),E=t(39032).BADNUM,i=t(90136),M=t(20148),m=t(4500),d=t(16356).calcMarkerSize;X.exports=function(v,r){for(var e=v._fullLayout,s=r.subplot,n=e[s].realaxis,l=e[s].imaginaryaxis,o=n.makeCalcdata(r,"real"),h=l.makeCalcdata(r,"imag"),b=r._length,f=new Array(b),k=0;k<b;k++){var a=o[k],c=h[k],p=f[k]={};x(a)&&x(c)?(p.real=a,p.imag=c):p.real=E}return d(r,b),i(v,r),M(f,r),m(f,r),f}},76716:function(X,B,t){var x=t(3400),E=t(43028),i=t(74428),M=t(66828),m=t(11731),d=t(124),v=t(70840),r=t(88200).PTS_LINESONLY,e=t(69496);X.exports=function(n,l,o,h){function b(a,c){return x.coerce(n,l,e,a,c)}var f=s(n,l,h,b);if(!f){l.visible=!1;return}b("mode",f<r?"lines+markers":"lines"),b("text"),b("hovertext"),l.hoveron!=="fills"&&b("hovertemplate"),E.hasMarkers(l)&&i(n,l,o,h,b,{gradient:!0}),E.hasLines(l)&&(M(n,l,o,h,b,{backoff:!0}),m(n,l,b),b("connectgaps")),E.hasText(l)&&(b("texttemplate"),d(n,l,h,b));var k=[];(E.hasMarkers(l)||E.hasText(l))&&(b("cliponaxis"),b("marker.maxdisplayed"),k.push("points")),b("fill"),l.fill!=="none"&&(v(n,l,o,b),E.hasLines(l)||m(n,l,b)),(l.fill==="tonext"||l.fill==="toself")&&k.push("fills"),b("hoveron",k.join("+")||"points"),x.coerceSelectionMarkerOpacity(l,b)};function s(n,l,o,h){var b=h("real"),f=h("imag"),k;return b&&f&&(k=Math.min(b.length,f.length)),x.isTypedArray(b)&&(l.real=b=Array.from(b)),x.isTypedArray(f)&&(l.imag=f=Array.from(f)),l._length=k,k}},49504:function(X,B,t){var x=t(54460);X.exports=function(E,i,M){var m={},d=M[i.subplot]._subplot;return m.realLabel=x.tickText(d.radialAxis,E.real,!0).text,m.imagLabel=x.tickText(d.angularAxis,E.imag,!0).text,m}},25292:function(X,B,t){var x=t(98723);function E(M,m,d,v){var r=x(M,m,d,v);if(!(!r||r[0].index===!1)){var e=r[0];if(e.index===void 0)return r;var s=M.subplot,n=e.cd[e.index],l=e.trace;if(s.isPtInside(n))return e.xLabelVal=void 0,e.yLabelVal=void 0,i(n,l,s,e),e.hovertemplate=l.hovertemplate,r}}function i(M,m,d,v){var r=d.radialAxis,e=d.angularAxis;r._hovertitle="real",e._hovertitle="imag";var s={};s[m.subplot]={_subplot:d};var n=m._module.formatLabels(M,m,s);v.realLabel=n.realLabel,v.imagLabel=n.imagLabel;var l=M.hi||m.hoverinfo,o=[];function h(f,k){o.push(f._hovertitle+": "+k)}if(!m.hovertemplate){var b=l.split("+");b.indexOf("all")!==-1&&(b=["real","imag","text"]),b.indexOf("real")!==-1&&h(r,v.realLabel),b.indexOf("imag")!==-1&&h(e,v.imagLabel),b.indexOf("text")!==-1&&v.text&&(o.push(v.text),delete v.text),v.extraText=o.join("<br>")}}X.exports={hoverPoints:E,makeHoverPointText:i}},95443:function(X,B,t){X.exports={moduleType:"trace",name:"scattersmith",basePlotModule:t(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:t(69496),supplyDefaults:t(76716),colorbar:t(5528),formatLabels:t(49504),calc:t(47507),plot:t(34927),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(25292).hoverPoints,selectPoints:t(91560),meta:{}}},34927:function(X,B,t){var x=t(96504),E=t(39032).BADNUM,i=t(36416),M=i.smith;X.exports=function(m,d,v){for(var r=d.layers.frontplot.select("g.scatterlayer"),e=d.xaxis,s=d.yaxis,n={xaxis:e,yaxis:s,plot:d.framework,layerClipId:d._hasClipOnAxisFalse?d.clipIds.forTraces:null},l=0;l<v.length;l++)for(var o=v[l],h=0;h<o.length;h++){h===0&&(o[0].trace._xA=e,o[0].trace._yA=s);var b=o[h],f=b.real;if(f===E)b.x=b.y=E;else{var k=M([f,b.imag]);b.x=k[0],b.y=k[1]}}x(m,n,v,r)}},5896:function(X,B,t){var x=t(21776).Ks,E=t(21776).Gw,i=t(98304),M=t(52904),m=t(45464),d=t(49084),v=t(98192).u,r=t(92880).extendFlat,e=M.marker,s=M.line,n=e.line;X.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},M.mode,{dflt:"markers"}),text:r({},M.text,{}),texttemplate:E({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},M.hovertext,{}),line:{color:s.color,width:s.width,dash:v,backoff:s.backoff,shape:r({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:M.connectgaps,cliponaxis:M.cliponaxis,fill:r({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i(),marker:r({symbol:e.symbol,opacity:e.opacity,angle:e.angle,angleref:e.angleref,standoff:e.standoff,maxdisplayed:e.maxdisplayed,size:e.size,sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,line:r({width:n.width,editType:"calc"},d("marker.line")),gradient:e.gradient,editType:"calc"},d("marker")),textfont:M.textfont,textposition:M.textposition,selected:M.selected,unselected:M.unselected,hoverinfo:r({},m.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:M.hoveron,hovertemplate:x()}},34335:function(X,B,t){var x=t(38248),E=t(90136),i=t(20148),M=t(4500),m=t(16356).calcMarkerSize,d=["a","b","c"],v={a:["b","c"],b:["a","c"],c:["a","b"]};X.exports=function(r,e){var s=r._fullLayout[e.subplot],n=s.sum,l=e.sum||n,o={a:e.a,b:e.b,c:e.c},h,b,f,k,a,c;for(h=0;h<d.length;h++)if(f=d[h],!o[f]){for(a=o[v[f][0]],c=o[v[f][1]],k=new Array(a.length),b=0;b<a.length;b++)k[b]=l-a[b]-c[b];o[f]=k}var p=e._length,w=new Array(p),S,_,T,P,u,g;for(h=0;h<p;h++)S=o.a[h],_=o.b[h],T=o.c[h],x(S)&&x(_)&&x(T)?(S=+S,_=+_,T=+T,P=n/(S+_+T),P!==1&&(S*=P,_*=P,T*=P),g=S,u=T-_,w[h]={x:u,y:g,a:S,b:_,c:T}):w[h]={x:!1,y:!1};return m(e,p),E(r,e),i(w,e),M(w,e),w}},84256:function(X,B,t){var x=t(3400),E=t(88200),i=t(43028),M=t(74428),m=t(66828),d=t(11731),v=t(124),r=t(70840),e=t(5896);X.exports=function(s,n,l,o){function h(w,S){return x.coerce(s,n,e,w,S)}var b=h("a"),f=h("b"),k=h("c"),a;if(b?(a=b.length,f?(a=Math.min(a,f.length),k&&(a=Math.min(a,k.length))):k?a=Math.min(a,k.length):a=0):f&&k&&(a=Math.min(f.length,k.length)),!a){n.visible=!1;return}n._length=a,h("sum"),h("text"),h("hovertext"),n.hoveron!=="fills"&&h("hovertemplate");var c=a<E.PTS_LINESONLY?"lines+markers":"lines";h("mode",c),i.hasMarkers(n)&&M(s,n,l,o,h,{gradient:!0}),i.hasLines(n)&&(m(s,n,l,o,h,{backoff:!0}),d(s,n,h),h("connectgaps")),i.hasText(n)&&(h("texttemplate"),v(s,n,o,h));var p=[];(i.hasMarkers(n)||i.hasText(n))&&(h("cliponaxis"),h("marker.maxdisplayed"),p.push("points")),h("fill"),n.fill!=="none"&&(r(s,n,l,h),i.hasLines(n)||d(s,n,h)),(n.fill==="tonext"||n.fill==="toself")&&p.push("fills"),h("hoveron",p.join("+")||"points"),x.coerceSelectionMarkerOpacity(n,h)}},97476:function(X){X.exports=function(B,t,x,E,i){if(t.xa&&(B.xaxis=t.xa),t.ya&&(B.yaxis=t.ya),E[i]){var M=E[i];B.a=M.a,B.b=M.b,B.c=M.c}else B.a=t.a,B.b=t.b,B.c=t.c;return B}},90404:function(X,B,t){var x=t(54460);X.exports=function(E,i,M){var m={},d=M[i.subplot]._subplot;return m.aLabel=x.tickText(d.aaxis,E.a,!0).text,m.bLabel=x.tickText(d.baxis,E.b,!0).text,m.cLabel=x.tickText(d.caxis,E.c,!0).text,m}},26596:function(X,B,t){var x=t(98723);X.exports=function(E,i,M,m){var d=x(E,i,M,m);if(!d||d[0].index===!1)return;var v=d[0];if(v.index===void 0){var r=1-v.y0/E.ya._length,e=E.xa._length,s=e*r/2,n=e-s;return v.x0=Math.max(Math.min(v.x0,n),s),v.x1=Math.max(Math.min(v.x1,n),s),d}var l=v.cd[v.index],o=v.trace,h=v.subplot;v.a=l.a,v.b=l.b,v.c=l.c,v.xLabelVal=void 0,v.yLabelVal=void 0;var b={};b[o.subplot]={_subplot:h};var f=o._module.formatLabels(l,o,b);v.aLabel=f.aLabel,v.bLabel=f.bLabel,v.cLabel=f.cLabel;var k=l.hi||o.hoverinfo,a=[];function c(w,S){a.push(w._hovertitle+": "+S)}if(!o.hovertemplate){var p=k.split("+");p.indexOf("all")!==-1&&(p=["a","b","c"]),p.indexOf("a")!==-1&&c(h.aaxis,v.aLabel),p.indexOf("b")!==-1&&c(h.baxis,v.bLabel),p.indexOf("c")!==-1&&c(h.caxis,v.cLabel)}return v.extraText=a.join("<br>"),v.hovertemplate=o.hovertemplate,d}},34864:function(X,B,t){X.exports={attributes:t(5896),supplyDefaults:t(84256),colorbar:t(5528),formatLabels:t(90404),calc:t(34335),plot:t(88776),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(26596),selectPoints:t(91560),eventData:t(97476),moduleType:"trace",name:"scatterternary",basePlotModule:t(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(X,B,t){var x=t(96504);X.exports=function(E,i,M){var m=i.plotContainer;m.select(".scatterlayer").selectAll("*").remove();for(var d=i.xaxis,v=i.yaxis,r={xaxis:d,yaxis:v,plot:m,layerClipId:i._hasClipOnAxisFalse?i.clipIdRelative:null},e=i.layers.frontplot.select("g.scatterlayer"),s=0;s<M.length;s++){var n=M[s];n.length&&(n[0].trace._xA=d,n[0].trace._yA=v)}x(E,r,M,e)}},44524:function(X,B,t){var x=t(52904),E=t(49084),i=t(29736).axisHoverFormat,M=t(21776).Ks,m=t(2876),d=t(33816).idRegex,v=t(31780).templatedArray,r=t(92880).extendFlat,e=x.marker,s=e.line,n=r(E("marker.line",{editTypeOverride:"calc"}),{width:r({},s.width,{editType:"calc"}),editType:"calc"}),l=r(E("marker"),{symbol:e.symbol,angle:e.angle,size:r({},e.size,{editType:"markerSize"}),sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,opacity:e.opacity,colorbar:e.colorbar,line:n,editType:"calc"});l.color.editType=l.cmin.editType=l.cmax.editType="style";function o(h){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:d[h],editType:"plot"}}}X.exports={dimensions:v("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},m.text,{}),hovertext:r({},m.hovertext,{}),hovertemplate:M(),xhoverformat:i("x"),yhoverformat:i("y"),marker:l,xaxes:o("x"),yaxes:o("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:m.selected.marker,editType:"calc"},unselected:{marker:m.unselected.marker,editType:"calc"},opacity:m.opacity}},28888:function(X,B,t){var x=t(24040),E=t(12704);X.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:t(44524),supplyDefaults:t(69544),colorbar:t(5528),calc:t(66821),plot:t(54840),hoverPoints:t(72248).hoverPoints,selectPoints:t(62500),editStyle:t(83156),meta:{}},x.register(E)},99332:function(X,B,t){var x=t(13472),E=t(24040),i=t(5048),M=t(84888)._M,m=t(57952),d=t(79811).getFromId,v=t(54460).shouldShowZeroLine,r="splom",e={};function s(f){var k=f._fullLayout,a=E.getModule(r),c=M(f.calcdata,a)[0],p=i(f,["ANGLE_instanced_arrays","OES_element_index_uint"],e);p&&(k._hasOnlyLargeSploms&&o(f),a.plot(f,{},c))}function n(f){var k=f.calcdata,a=f._fullLayout;a._hasOnlyLargeSploms&&o(f);for(var c=0;c<k.length;c++){var p=k[c][0],w=p.trace,S=a._splomScenes[w.uid];w.type==="splom"&&S&&S.matrix&&l(f,w,S)}}function l(f,k,a){for(var c=a.matrixOptions.data.length,p=k._visibleDims,w=a.viewOpts.ranges=new Array(c),S=0;S<p.length;S++){var _=p[S],T=w[S]=new Array(4),P=d(f,k._diag[_][0]);P&&(T[0]=P.r2l(P.range[0]),T[2]=P.r2l(P.range[1]));var u=d(f,k._diag[_][1]);u&&(T[1]=u.r2l(u.range[0]),T[3]=u.r2l(u.range[1]))}a.selectBatch.length||a.unselectBatch.length?a.matrix.update({ranges:w},{ranges:w}):a.matrix.update({ranges:w})}function o(f){var k=f._fullLayout,a=k._glcanvas.data()[0].regl,c=k._splomGrid;c||(c=k._splomGrid=x(a)),c.update(h(f))}function h(f){var k=f._context.plotGlPixelRatio,a=f._fullLayout,c=a._size,p=[0,0,a.width*k,a.height*k],w={},S;function _(W,K,et,lt,ot,q){et*=k,lt*=k,ot*=k,q*=k;var J=K[W+"color"],it=K[W+"width"],Z=String(J+it);Z in w?w[Z].data.push(NaN,NaN,et,lt,ot,q):w[Z]={data:[et,lt,ot,q],join:"rect",thickness:it*k,color:J,viewport:p,range:p,overlay:!1}}for(S in a._splomSubplots){var T=a._plots[S],P=T.xaxis,u=T.yaxis,g=P._gridVals,L=u._gridVals,A=P._offset,R=P._length,O=u._length,N=c.b+u.domain[0]*c.h,z=-u._m,F=-z*u.r2l(u.range[0],u.calendar),I,j;if(P.showgrid)for(S=0;S<g.length;S++)I=A+P.l2p(g[S].x),_("grid",P,I,N,I,N+O);if(u.showgrid)for(S=0;S<L.length;S++)j=N+F+z*L[S].x,_("grid",u,A,j,A+R,j);v(f,P,u)&&(I=A+P.l2p(0),_("zeroline",P,I,N,I,N+O)),v(f,u,P)&&(j=N+F+0,_("zeroline",u,A,j,A+R,j))}var V=[];for(S in w)V.push(w[S]);return V}function b(f,k,a,c){var p={},w;if(c._splomScenes){for(w=0;w<f.length;w++){var S=f[w];S.type==="splom"&&(p[S.uid]=1)}for(w=0;w<a.length;w++){var _=a[w];if(!p[_.uid]){var T=c._splomScenes[_.uid];T&&T.destroy&&T.destroy(),c._splomScenes[_.uid]=null,delete c._splomScenes[_.uid]}}}Object.keys(c._splomScenes||{}).length===0&&delete c._splomScenes,c._splomGrid&&!k._hasOnlyLargeSploms&&c._hasOnlyLargeSploms&&(c._splomGrid.destroy(),c._splomGrid=null,delete c._splomGrid),m.clean(f,k,a,c)}X.exports={name:r,attr:m.attr,attrRegex:m.attrRegex,layoutAttributes:m.layoutAttributes,supplyLayoutDefaults:m.supplyLayoutDefaults,drawFramework:m.drawFramework,plot:s,drag:n,updateGrid:o,clean:b,updateFx:m.updateFx,toSVG:m.toSVG,reglPrecompiled:e}},66821:function(X,B,t){var x=t(3400),E=t(79811),i=t(16356).calcMarkerSize,M=t(16356).calcAxisExpansion,m=t(90136),d=t(84236).markerSelection,v=t(84236).markerStyle,r=t(72308),e=t(39032).BADNUM,s=t(67072).TOO_MANY_POINTS;X.exports=function(n,l){var o=l.dimensions,h=l._length,b={},f=b.cdata=[],k=b.data=[],a=l._visibleDims=[],c,p,w,S,_;function T(A,R){for(var O=A.makeCalcdata({v:R.values,vcalendar:l.calendar},"v"),N=0;N<O.length;N++)O[N]=O[N]===e?NaN:O[N];f.push(O),k.push(A.type==="log"?x.simpleMap(O,A.c2l):O)}for(c=0;c<o.length;c++)if(w=o[c],w.visible){if(S=E.getFromId(n,l._diag[c][0]),_=E.getFromId(n,l._diag[c][1]),S&&_&&S.type!==_.type){x.log("Skipping splom dimension "+c+" with conflicting axis types");continue}S?(T(S,w),_&&_.type==="category"&&(_._categories=S._categories.slice())):T(_,w),a.push(c)}m(n,l),x.extendFlat(b,v(n,l));var P=f.length,u=P*h>s,g;for(u?g=b.sizeAvg||Math.max(b.size,3):g=i(l,h),p=0;p<a.length;p++)c=a[p],w=o[c],S=E.getFromId(n,l._diag[c][0])||{},_=E.getFromId(n,l._diag[c][1])||{},M(n,l,S,_,f[p],f[p],g);var L=r(n,l);return L.matrix||(L.matrix=!0),L.matrixOptions=b,L.selectedOptions=d(n,l,l.selected),L.unselectedOptions=d(n,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},69544:function(X,B,t){var x=t(3400),E=t(51272),i=t(44524),M=t(43028),m=t(74428),d=t(26284),v=t(80088).isOpenSymbol;X.exports=function(s,n,l,o){function h(S,_){return x.coerce(s,n,i,S,_)}var b=E(s,n,{name:"dimensions",handleItemDefaults:r}),f=h("diagonal.visible"),k=h("showupperhalf"),a=h("showlowerhalf"),c=d(n,b,"values");if(!c||!f&&!k&&!a){n.visible=!1;return}h("text"),h("hovertext"),h("hovertemplate"),h("xhoverformat"),h("yhoverformat"),m(s,n,l,o,h,{noAngleRef:!0,noStandOff:!0});var p=v(n.marker.symbol),w=M.isBubble(n);h("marker.line.width",p||w?1:0),e(s,n,o,h),x.coerceSelectionMarkerOpacity(n,h)};function r(s,n){function l(h,b){return x.coerce(s,n,i.dimensions,h,b)}l("label");var o=l("values");o&&o.length?l("visible"):n.visible=!1,l("axis.type"),l("axis.matches")}function e(s,n,l,o){var h=n.dimensions,b=h.length,f=n.showupperhalf,k=n.showlowerhalf,a=n.diagonal.visible,c,p,w=new Array(b),S=new Array(b);for(c=0;c<b;c++){var _=c?c+1:"";w[c]="x"+_,S[c]="y"+_}var T=o("xaxes",w),P=o("yaxes",S),u=n._diag=new Array(b);n._xaxes={},n._yaxes={};var g=[],L=[];function A(W,K,et,lt){if(W){var ot=W.charAt(0),q=l._splomAxes[ot];if(n["_"+ot+"axes"][W]=1,lt.push(W),!(W in q)){var J=q[W]={};et&&(J.label=et.label||"",et.visible&&et.axis&&(et.axis.type&&(J.type=et.axis.type),et.axis.matches&&(J.matches=K)))}}}var R=!a&&!k,O=!a&&!f;for(n._axesDim={},c=0;c<b;c++){var N=h[c],z=c===0,F=c===b-1,I=z&&R||F&&O?void 0:T[c],j=z&&O||F&&R?void 0:P[c];A(I,j,N,g),A(j,I,N,L),u[c]=[I,j],n._axesDim[I]=c,n._axesDim[j]=c}for(c=0;c<g.length;c++)for(p=0;p<L.length;p++){var V=g[c]+L[p];(c>p&&f||c<p&&k||c===p&&(a||!k||!f))&&(l._splomSubplots[V]=1)}(!k||!a&&f&&k)&&(l._splomGridDflt.xside="bottom",l._splomGridDflt.yside="left")}},83156:function(X,B,t){var x=t(3400),E=t(90136),i=t(84236).markerStyle;X.exports=function(M,m){var d=m.trace,v=M._fullLayout._splomScenes[d.uid];if(v){E(M,d),x.extendFlat(v.matrixOptions,i(M,d));var r=x.extendFlat({},v.matrixOptions,v.viewOpts);v.matrix.update(r,null)}}},50328:function(X,B){B.getDimIndex=function(t,x){for(var E=x._id,i=E.charAt(0),M={x:0,y:1}[i],m=t._visibleDims,d=0;d<m.length;d++){var v=m[d];if(t._diag[v][M]===E)return d}return!1}},72248:function(X,B,t){var x=t(50328),E=t(41272).calcHover;function i(M,m,d){var v=M.cd,r=v[0].trace,e=M.scene,s=e.matrixOptions.cdata,n=M.xa,l=M.ya,o=n.c2p(m),h=l.c2p(d),b=M.distance,f=x.getDimIndex(r,n),k=x.getDimIndex(r,l);if(f===!1||k===!1)return[M];for(var a=s[f],c=s[k],p,w,S=b,_=0;_<a.length;_++){var T=a[_],P=c[_],u=n.c2p(T)-o,g=l.c2p(P)-h,L=Math.sqrt(u*u+g*g);L<S&&(S=w=L,p=_)}return M.index=p,M.distance=S,M.dxy=w,p===void 0?[M]:[E(M,a,c,r)]}X.exports={hoverPoints:i}},97924:function(X,B,t){var x=t(28888);x.basePlotModule=t(99332),X.exports=x},54840:function(X,B,t){var x=t(55795),E=t(3400),i=t(79811),M=t(72760).selectMode;X.exports=function(d,v,r){if(r.length)for(var e=0;e<r.length;e++)m(d,r[e][0])};function m(d,v){var r=d._fullLayout,e=r._size,s=v.trace,n=v.t,l=r._splomScenes[s.uid],o=l.matrixOptions,h=o.cdata,b=r._glcanvas.data()[0].regl,f=r.dragmode,k,a,c,p,w;if(h.length!==0){o.lower=s.showupperhalf,o.upper=s.showlowerhalf,o.diagonal=s.diagonal.visible;var S=s._visibleDims,_=h.length,T=l.viewOpts={};for(T.ranges=new Array(_),T.domains=new Array(_),w=0;w<S.length;w++){c=S[w];var P=T.ranges[w]=new Array(4),u=T.domains[w]=new Array(4);k=i.getFromId(d,s._diag[c][0]),k&&(P[0]=k._rl[0],P[2]=k._rl[1],u[0]=k.domain[0],u[2]=k.domain[1]),a=i.getFromId(d,s._diag[c][1]),a&&(P[1]=a._rl[0],P[3]=a._rl[1],u[1]=a.domain[0],u[3]=a.domain[1])}var g=d._context.plotGlPixelRatio,L=e.l*g,A=e.b*g,R=e.w*g,O=e.h*g;T.viewport=[L,A,R+L,O+A],l.matrix===!0&&(l.matrix=x(b));var N=r.clickmode.indexOf("select")>-1,z=M(f)||!!s.selectedpoints||N,F=!0;if(z){var I=s._length;if(s.selectedpoints){l.selectBatch=s.selectedpoints;var j=s.selectedpoints,V={};for(c=0;c<j.length;c++)V[j[c]]=!0;var W=[];for(c=0;c<I;c++)V[c]||W.push(c);l.unselectBatch=W}var K=n.xpx=new Array(_),et=n.ypx=new Array(_);for(w=0;w<S.length;w++){if(c=S[w],k=i.getFromId(d,s._diag[c][0]),k)for(K[w]=new Array(I),p=0;p<I;p++)K[w][p]=k.c2p(h[w][p]);if(a=i.getFromId(d,s._diag[c][1]),a)for(et[w]=new Array(I),p=0;p<I;p++)et[w][p]=a.c2p(h[w][p])}if(l.selectBatch.length||l.unselectBatch.length){var lt=E.extendFlat({},o,l.unselectedOptions,T),ot=E.extendFlat({},o,l.selectedOptions,T);l.matrix.update(lt,ot),F=!1}}else n.xpx=n.ypx=null;if(F){var q=E.extendFlat({},o,T);l.matrix.update(q,null)}}}},72308:function(X,B,t){var x=t(3400);X.exports=function(E,i){var M=E._fullLayout,m=i.uid,d=M._splomScenes;d||(d=M._splomScenes={});var v={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},e=d[i.uid];return e||(e=d[m]=x.extendFlat({},v,r),e.draw=function(){e.matrix&&e.matrix.draw&&(e.selectBatch.length||e.unselectBatch.length?e.matrix.draw(e.unselectBatch,e.selectBatch):e.matrix.draw()),e.dirty=!1},e.destroy=function(){e.matrix&&e.matrix.destroy&&e.matrix.destroy(),e.matrixOptions=null,e.selectBatch=null,e.unselectBatch=null,e=null}),e.dirty||x.extendFlat(e,v),e}},62500:function(X,B,t){var x=t(3400),E=x.pushUnique,i=t(43028),M=t(50328);X.exports=function(m,d){var v=m.cd,r=v[0].trace,e=v[0].t,s=m.scene,n=s.matrixOptions.cdata,l=m.xaxis,o=m.yaxis,h=[];if(!s)return h;var b=!i.hasMarkers(r)&&!i.hasText(r);if(r.visible!==!0||b)return h;var f=M.getDimIndex(r,l),k=M.getDimIndex(r,o);if(f===!1||k===!1)return h;var a=e.xpx[f],c=e.ypx[k],p=n[f],w=n[k],S=(m.scene.selectBatch||[]).slice(),_=[];if(d!==!1&&!d.degenerate)for(var T=0;T<p.length;T++)d.contains([a[T],c[T]],null,T,m)?(h.push({pointNumber:T,x:p[T],y:w[T]}),E(S,T)):S.indexOf(T)!==-1?E(S,T):_.push(T);var P=s.matrixOptions;return!S.length&&!_.length?s.matrix.update(P,null):!s.selectBatch.length&&!s.unselectBatch.length&&s.matrix.update(s.unselectedOptions,x.extendFlat({},P,s.selectedOptions,s.viewOpts)),s.selectBatch=S,s.unselectBatch=_,h}},90167:function(X,B,t){var x=t(49084),E=t(29736).axisHoverFormat,i=t(21776).Ks,M=t(52948),m=t(45464),d=t(92880).extendFlat,v={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:d({},m.showlegend,{dflt:!1})};d(v,x("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(e){v[e]=M[e]}),v.hoverinfo=d({},m.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),v.transforms=void 0,X.exports=v},3832:function(X,B,t){var x=t(3400),E=t(47128);function i(v,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=d(r.u,r._len),r._v=d(r.v,r._len),r._w=d(r.w,r._len),r._x=d(r.x,r._len),r._y=d(r.y,r._len),r._z=d(r.z,r._len);var e=M(r);r._gridFill=e.fill,r._Xs=e.Xs,r._Ys=e.Ys,r._Zs=e.Zs,r._len=e.len;var s=0,n,l,o;r.starts&&(n=d(r.starts.x||[]),l=d(r.starts.y||[]),o=d(r.starts.z||[]),s=Math.min(n.length,l.length,o.length)),r._startsX=n||[],r._startsY=l||[],r._startsZ=o||[];var h=0,b=1/0,f;for(f=0;f<r._len;f++){var k=r._u[f],a=r._v[f],c=r._w[f],p=Math.sqrt(k*k+a*a+c*c);h=Math.max(h,p),b=Math.min(b,p)}for(E(v,r,{vals:[b,h],containerStr:"",cLetter:"c"}),f=0;f<s;f++){var w=n[f];e.xMax=Math.max(e.xMax,w),e.xMin=Math.min(e.xMin,w);var S=l[f];e.yMax=Math.max(e.yMax,S),e.yMin=Math.min(e.yMin,S);var _=o[f];e.zMax=Math.max(e.zMax,_),e.zMin=Math.min(e.zMin,_)}r._slen=s,r._normMax=h,r._xbnds=[e.xMin,e.xMax],r._ybnds=[e.yMin,e.yMax],r._zbnds=[e.zMin,e.zMax]}function M(v){var r=v._x,e=v._y,s=v._z,n=v._len,l,o,h,b=-1/0,f=1/0,k=-1/0,a=1/0,c=-1/0,p=1/0,w="",S,_,T,P,u,g,L,A,R;for(n&&(P=r[0],g=e[0],A=s[0]),n>1&&(u=r[n-1],L=e[n-1],R=s[n-1]),l=0;l<n;l++)b=Math.max(b,r[l]),f=Math.min(f,r[l]),k=Math.max(k,e[l]),a=Math.min(a,e[l]),c=Math.max(c,s[l]),p=Math.min(p,s[l]),!S&&r[l]!==P&&(S=!0,w+="x"),!_&&e[l]!==g&&(_=!0,w+="y"),!T&&s[l]!==A&&(T=!0,w+="z");S||(w+="x"),_||(w+="y"),T||(w+="z");var O=m(v._x),N=m(v._y),z=m(v._z);w=w.replace("x",(P>u?"-":"+")+"x"),w=w.replace("y",(g>L?"-":"+")+"y"),w=w.replace("z",(A>R?"-":"+")+"z");var F=function(){n=0,O=[],N=[],z=[]};(!n||n<O.length*N.length*z.length)&&F();var I=function(dt){return dt==="x"?r:dt==="y"?e:s},j=function(dt){return dt==="x"?O:dt==="y"?N:z},V=function(dt){return dt[n-1]<dt[0]?-1:1},W=I(w[1]),K=I(w[3]),et=I(w[5]),lt=j(w[1]).length,ot=j(w[3]).length,q=j(w[5]).length,J=!1,it=function(dt,gt,wt){return lt*(ot*dt+gt)+wt},Z=V(I(w[1])),tt=V(I(w[3])),st=V(I(w[5]));for(l=0;l<q-1;l++){for(o=0;o<ot-1;o++){for(h=0;h<lt-1;h++){var Q=it(l,o,h),G=it(l,o,h+1),ut=it(l,o+1,h),at=it(l+1,o,h);if((!(W[Q]*Z<W[G]*Z)||!(K[Q]*tt<K[ut]*tt)||!(et[Q]*st<et[at]*st))&&(J=!0),J)break}if(J)break}if(J)break}return J&&(x.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:f,yMin:a,zMin:p,xMax:b,yMax:k,zMax:c,Xs:O,Ys:N,Zs:z,len:n,fill:w}}function m(v){return x.distinctVals(v).vals}function d(v,r){if(r===void 0&&(r=v.length),x.isTypedArray(v))return v.subarray(0,r);for(var e=[],s=0;s<r;s++)e[s]=+v[s];return e}X.exports={calc:i,filter:d,processGrid:M}},25668:function(X,B,t){var x=t(67792).gl_streamtube3d,E=x.createTubeMesh,i=t(3400),M=t(33040).parseColorScale,m=t(8932).extractOpts,d=t(52094),v={xaxis:0,yaxis:1,zaxis:2};function r(h,b){this.scene=h,this.uid=b,this.mesh=null,this.data=null}var e=r.prototype;e.handlePick=function(h){var b=this.scene.fullSceneLayout,f=this.scene.dataScale;function k(p,w){var S=b[w],_=f[v[w]];return S.l2c(p)/_}if(h.object===this.mesh){var a=h.data.position,c=h.data.velocity;return h.traceCoordinate=[k(a[0],"xaxis"),k(a[1],"yaxis"),k(a[2],"zaxis"),k(c[0],"xaxis"),k(c[1],"yaxis"),k(c[2],"zaxis"),h.data.intensity*this.data._normMax,h.data.divergence],h.textLabel=this.data.hovertext||this.data.text,!0}};function s(h){var b=h.length,f;return b>2?f=h.slice(1,b-1):b===2?f=[(h[0]+h[1])/2]:f=h,f}function n(h){var b=h.length;return b===1?[.5,.5]:[h[1]-h[0],h[b-1]-h[b-2]]}function l(h,b){var f=h.fullSceneLayout,k=h.dataScale,a=b._len,c={};function p(ot,q){var J=f[q],it=k[v[q]];return i.simpleMap(ot,function(Z){return J.d2l(Z)*it})}if(c.vectors=d(p(b._u,"xaxis"),p(b._v,"yaxis"),p(b._w,"zaxis"),a),!a)return{positions:[],cells:[]};var w=p(b._Xs,"xaxis"),S=p(b._Ys,"yaxis"),_=p(b._Zs,"zaxis");c.meshgrid=[w,S,_],c.gridFill=b._gridFill;var T=b._slen;if(T)c.startingPositions=d(p(b._startsX,"xaxis"),p(b._startsY,"yaxis"),p(b._startsZ,"zaxis"));else{for(var P=S[0],u=s(w),g=s(_),L=new Array(u.length*g.length),A=0,R=0;R<u.length;R++)for(var O=0;O<g.length;O++)L[A++]=[u[R],P,g[O]];c.startingPositions=L}c.colormap=M(b),c.tubeSize=b.sizeref,c.maxLength=b.maxdisplayed;var N=p(b._xbnds,"xaxis"),z=p(b._ybnds,"yaxis"),F=p(b._zbnds,"zaxis"),I=n(w),j=n(S),V=n(_),W=[[N[0]-I[0],z[0]-j[0],F[0]-V[0]],[N[1]+I[1],z[1]+j[1],F[1]+V[1]]],K=x(c,W),et=m(b);K.vertexIntensityBounds=[et.min/b._normMax,et.max/b._normMax];var lt=b.lightposition;return K.lightPosition=[lt.x,lt.y,lt.z],K.ambient=b.lighting.ambient,K.diffuse=b.lighting.diffuse,K.specular=b.lighting.specular,K.roughness=b.lighting.roughness,K.fresnel=b.lighting.fresnel,K.opacity=b.opacity,b._pad=K.tubeScale*b.sizeref*2,K}e.update=function(h){this.data=h;var b=l(this.scene,h);this.mesh.update(b)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function o(h,b){var f=h.glplot.gl,k=l(h,b),a=E(f,k),c=new r(h,b.uid);return c.mesh=a,c.data=b,a._trace=c,h.glplot.add(a),c}X.exports=o},54304:function(X,B,t){var x=t(3400),E=t(27260),i=t(90167);X.exports=function(M,m,d,v){function r(b,f){return x.coerce(M,m,i,b,f)}var e=r("u"),s=r("v"),n=r("w"),l=r("x"),o=r("y"),h=r("z");if(!e||!e.length||!s||!s.length||!n||!n.length||!l||!l.length||!o||!o.length||!h||!h.length){m.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),E(M,m,v,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),m._length=null}},15436:function(X,B,t){X.exports={moduleType:"trace",name:"streamtube",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(90167),supplyDefaults:t(54304),colorbar:{min:"cmin",max:"cmax"},calc:t(3832).calc,plot:t(25668),eventData:function(x,E){return x.tubex=x.x,x.tubey=x.y,x.tubez=x.z,x.tubeu=E.traceCoordinate[3],x.tubev=E.traceCoordinate[4],x.tubew=E.traceCoordinate[5],x.norm=E.traceCoordinate[6],x.divergence=E.traceCoordinate[7],delete x.x,delete x.y,delete x.z,x},meta:{}}},424:function(X,B,t){var x=t(45464),E=t(21776).Ks,i=t(21776).Gw,M=t(49084),m=t(86968).u,d=t(74996),v=t(27328),r=t(92880).extendFlat,e=t(98192).c;X.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},d.marker.line.color,{dflt:null}),width:r({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:e,editType:"calc"},M("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:d.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:v.eventDataKeys.concat(["label","value"])}),hovertext:d.hovertext,hoverinfo:r({},x.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:E({},{keys:v.eventDataKeys}),textfont:d.textfont,insidetextorientation:d.insidetextorientation,insidetextfont:d.insidetextfont,outsidetextfont:r({},d.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:d.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:m({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(X,B,t){var x=t(7316);B.name="sunburst",B.plot=function(E,i,M,m){x.plotBasePlot(B.name,E,i,M,m)},B.clean=function(E,i,M,m){x.cleanBasePlot(B.name,E,i,M,m)}},3776:function(X,B,t){var x=t(74148),E=t(38248),i=t(3400),M=t(8932).makeColorScaleFuncFromTrace,m=t(45768).makePullColorFn,d=t(45768).generateExtendedColors,v=t(8932).calc,r=t(39032).ALMOST_EQUAL,e={},s={},n={};B.calc=function(o,h){var b=o._fullLayout,f=h.ids,k=i.isArrayOrTypedArray(f),a=h.labels,c=h.parents,p=h.values,w=i.isArrayOrTypedArray(p),S=[],_={},T={},P=function(Z,tt){_[Z]?_[Z].push(tt):_[Z]=[tt],T[tt]=1},u=function(Z){return Z||typeof Z=="number"},g=function(Z){return!w||E(p[Z])&&p[Z]>=0},L,A,R;k?(L=Math.min(f.length,c.length),A=function(Z){return u(f[Z])&&g(Z)},R=function(Z){return String(f[Z])}):(L=Math.min(a.length,c.length),A=function(Z){return u(a[Z])&&g(Z)},R=function(Z){return String(a[Z])}),w&&(L=Math.min(L,p.length));for(var O=0;O<L;O++)if(A(O)){var N=R(O),z=u(c[O])?String(c[O]):"",F={i:O,id:N,pid:z,label:u(a[O])?String(a[O]):""};w&&(F.v=+p[O]),S.push(F),P(z,N)}if(_[""]){if(_[""].length>1){for(var I=i.randstr(),j=0;j<S.length;j++)S[j].pid===""&&(S[j].pid=I);S.unshift({hasMultipleRoots:!0,id:I,pid:"",label:""})}}else{var V=[],W;for(W in _)T[W]||V.push(W);if(V.length===1)W=V[0],S.unshift({hasImpliedRoot:!0,id:W,pid:"",label:W});else return i.warn(["Multiple implied roots, cannot build",h.type,"hierarchy of",h.name+".","These roots include:",V.join(", ")].join(" "))}var K;try{K=x.stratify().id(function(Z){return Z.id}).parentId(function(Z){return Z.pid})(S)}catch(Z){return i.warn(["Failed to build",h.type,"hierarchy of",h.name+".","Error:",Z.message].join(" "))}var et=x.hierarchy(K),lt=!1;if(w)switch(h.branchvalues){case"remainder":et.sum(function(Z){return Z.data.v});break;case"total":et.each(function(Z){var tt=Z.data.data,st=tt.v;if(Z.children){var Q=Z.children.reduce(function(G,ut){return G+ut.data.data.v},0);if((tt.hasImpliedRoot||tt.hasMultipleRoots)&&(st=Q),st<Q*r)return lt=!0,i.warn(["Total value for node",Z.data.data.id,"of",h.name,"is smaller than the sum of its children.",`
parent value =`,st,`
children sum =`,Q].join(" "))}Z.value=st});break}else l(et,h,{branches:h.count.indexOf("branches")!==-1,leaves:h.count.indexOf("leaves")!==-1});if(!lt){h.sort&&et.sort(function(Z,tt){return tt.value-Z.value});var ot,q,J=h.marker.colors||[],it=!!J.length;return h._hasColorscale?(it||(J=w?h.values:h._values),v(o,h,{vals:J,containerStr:"marker",cLetter:"c"}),q=M(h.marker)):ot=m(b["_"+h.type+"colormap"]),et.each(function(Z){var tt=Z.data.data;tt.color=h._hasColorscale?q(J[tt.i]):ot(J[tt.i],tt.id)}),S[0].hierarchy=et,S}},B._runCrossTraceCalc=function(o,h){var b=h._fullLayout,f=h.calcdata,k=b[o+"colorway"],a=b["_"+o+"colormap"];b["extend"+o+"colors"]&&(k=d(k,o==="icicle"?n:o==="treemap"?s:e));var c=0,p;function w(P){var u=P.data.data,g=u.id;u.color===!1&&(a[g]?u.color=a[g]:P.parent?P.parent.parent?u.color=P.parent.data.data.color:(a[g]=u.color=k[c%k.length],c++):u.color=p)}for(var S=0;S<f.length;S++){var _=f[S],T=_[0];T.trace.type===o&&T.hierarchy&&(p=T.trace.root.color,T.hierarchy.each(w))}},B.crossTraceCalc=function(o){return B._runCrossTraceCalc("sunburst",o)};function l(o,h,b){var f=0,k=o.children;if(k){for(var a=k.length,c=0;c<a;c++)f+=l(k[c],h,b);b.branches&&f++}else b.leaves&&f++;return o.value=o.data.data.value=f,h._values||(h._values=[]),h._values[o.data.data.i]=f,f}},27328:function(X){X.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(X,B,t){var x=t(3400),E=t(424),i=t(86968).Q,M=t(31508).handleText,m=t(74174).handleMarkerDefaults,d=t(8932),v=d.hasColorscale,r=d.handleDefaults;X.exports=function(e,s,n,l){function o(p,w){return x.coerce(e,s,E,p,w)}var h=o("labels"),b=o("parents");if(!h||!h.length||!b||!b.length){s.visible=!1;return}var f=o("values");f&&f.length?o("branchvalues"):o("count"),o("level"),o("maxdepth"),m(e,s,l,o);var k=s._hasColorscale=v(e,"marker","colors")||(e.marker||{}).coloraxis;k&&r(e,s,l,o,{prefix:"marker.",cLetter:"c"}),o("leaf.opacity",k?1:.7);var a=o("text");o("texttemplate"),s.texttemplate||o("textinfo",x.isArrayOrTypedArray(a)?"text+label":"label"),o("hovertext"),o("hovertemplate");var c="auto";M(e,s,l,o,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),o("insidetextorientation"),o("sort"),o("rotation"),o("root.color"),i(s,l,o),s._length=null}},60404:function(X,B,t){var x=t(43616),E=t(76308);X.exports=function(i,M,m,d,v){var r=M.data.data,e=r.i,s=v||r.color;if(e>=0){M.i=r.i;var n=m.marker;n.pattern?(!n.colors||!n.pattern.shape)&&(n.color=s,M.color=s):(n.color=s,M.color=s),x.pointStyle(i,m,d,M)}else E.fill(i,s)}},45716:function(X,B,t){var x=t(33428),E=t(24040),i=t(10624).appendArrayPointValue,M=t(93024),m=t(3400),d=t(95924),v=t(78176),r=t(69656),e=r.formatPieValue;X.exports=function(n,l,o,h,b){var f=h[0],k=f.trace,a=f.hierarchy,c=k.type==="sunburst",p=k.type==="treemap"||k.type==="icicle";"_hasHoverLabel"in k||(k._hasHoverLabel=!1),"_hasHoverEvent"in k||(k._hasHoverEvent=!1);var w=function(T){var P=o._fullLayout;if(!(o._dragging||P.hovermode===!1)){var u=o._fullData[k.index],g=T.data.data,L=g.i,A=v.isHierarchyRoot(T),R=v.getParent(a,T),O=v.getValue(T),N=function(Q){return m.castOption(u,L,Q)},z=N("hovertemplate"),F=M.castHoverinfo(u,P,L),I=P.separators,j;if(z||F&&F!=="none"&&F!=="skip"){var V,W;c&&(V=f.cx+T.pxmid[0]*(1-T.rInscribed),W=f.cy+T.pxmid[1]*(1-T.rInscribed)),p&&(V=T._hoverX,W=T._hoverY);var K={},et=[],lt=[],ot=function(Q){return et.indexOf(Q)!==-1};F&&(et=F==="all"?u._module.attributes.hoverinfo.flags:F.split("+")),K.label=g.label,ot("label")&&K.label&&lt.push(K.label),g.hasOwnProperty("v")&&(K.value=g.v,K.valueLabel=e(K.value,I),ot("value")&&lt.push(K.valueLabel)),K.currentPath=T.currentPath=v.getPath(T.data),ot("current path")&&!A&&lt.push(K.currentPath);var q,J=[],it=function(){J.indexOf(q)===-1&&(lt.push(q),J.push(q))};K.percentParent=T.percentParent=O/v.getValue(R),K.parent=T.parentString=v.getPtLabel(R),ot("percent parent")&&(q=v.formatPercent(K.percentParent,I)+" of "+K.parent,it()),K.percentEntry=T.percentEntry=O/v.getValue(l),K.entry=T.entry=v.getPtLabel(l),ot("percent entry")&&!A&&!T.onPathbar&&(q=v.formatPercent(K.percentEntry,I)+" of "+K.entry,it()),K.percentRoot=T.percentRoot=O/v.getValue(a),K.root=T.root=v.getPtLabel(a),ot("percent root")&&!A&&(q=v.formatPercent(K.percentRoot,I)+" of "+K.root,it()),K.text=N("hovertext")||N("text"),ot("text")&&(q=K.text,m.isValidTextValue(q)&&lt.push(q)),j=[s(T,u,b.eventDataKeys)];var Z={trace:u,y:W,_x0:T._x0,_x1:T._x1,_y0:T._y0,_y1:T._y1,text:lt.join("<br>"),name:z||ot("name")?u.name:void 0,color:N("hoverlabel.bgcolor")||g.color,borderColor:N("hoverlabel.bordercolor"),fontFamily:N("hoverlabel.font.family"),fontSize:N("hoverlabel.font.size"),fontColor:N("hoverlabel.font.color"),nameLength:N("hoverlabel.namelength"),textAlign:N("hoverlabel.align"),hovertemplate:z,hovertemplateLabels:K,eventData:j};c&&(Z.x0=V-T.rInscribed*T.rpx1,Z.x1=V+T.rInscribed*T.rpx1,Z.idealAlign=T.pxmid[0]<0?"left":"right"),p&&(Z.x=V,Z.idealAlign=V<0?"left":"right");var tt=[];M.loneHover(Z,{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:o,inOut_bbox:tt}),j[0].bbox=tt[0],k._hasHoverLabel=!0}if(p){var st=n.select("path.surface");b.styleOne(st,T,u,o,{hovered:!0})}k._hasHoverEvent=!0,o.emit("plotly_hover",{points:j||[s(T,u,b.eventDataKeys)],event:x.event})}},S=function(T){var P=o._fullLayout,u=o._fullData[k.index],g=x.select(this).datum();if(k._hasHoverEvent&&(T.originalEvent=x.event,o.emit("plotly_unhover",{points:[s(g,u,b.eventDataKeys)],event:x.event}),k._hasHoverEvent=!1),k._hasHoverLabel&&(M.loneUnhover(P._hoverlayer.node()),k._hasHoverLabel=!1),p){var L=n.select("path.surface");b.styleOne(L,g,u,o,{hovered:!1})}},_=function(T){var P=o._fullLayout,u=o._fullData[k.index],g=c&&(v.isHierarchyRoot(T)||v.isLeaf(T)),L=v.getPtId(T),A=v.isEntry(T)?v.findEntryWithChild(a,L):v.findEntryWithLevel(a,L),R=v.getPtId(A),O={points:[s(T,u,b.eventDataKeys)],event:x.event};g||(O.nextLevel=R);var N=d.triggerHandler(o,"plotly_"+k.type+"click",O);if(N!==!1&&P.hovermode&&(o._hoverdata=[s(T,u,b.eventDataKeys)],M.click(o,x.event)),!g&&N!==!1&&!o._dragging&&!o._transitioning){E.call("_storeDirectGUIEdit",u,P._tracePreGUI[u.uid],{level:u.level});var z={data:[{level:R}],traces:[k.index]},F={frame:{redraw:!1,duration:b.transitionTime},transition:{duration:b.transitionTime,easing:b.transitionEasing},mode:"immediate",fromcurrent:!0};M.loneUnhover(P._hoverlayer.node()),E.call("animate",o,z,F)}};n.on("mouseover",w),n.on("mouseout",S),n.on("click",_)};function s(n,l,o){for(var h=n.data.data,b={curveNumber:l.index,pointNumber:h.i,data:l._input,fullData:l},f=0;f<o.length;f++){var k=o[f];k in n&&(b[k]=n[k])}return"parentString"in n&&!v.isHierarchyRoot(n)&&(b.parent=n.parentString),i(b,l,h.i),b}},78176:function(X,B,t){var x=t(3400),E=t(76308),i=t(93972),M=t(69656);B.findEntryWithLevel=function(r,e){var s;return e&&r.eachAfter(function(n){if(B.getPtId(n)===e)return s=n.copy()}),s||r},B.findEntryWithChild=function(r,e){var s;return r.eachAfter(function(n){for(var l=n.children||[],o=0;o<l.length;o++){var h=l[o];if(B.getPtId(h)===e)return s=n.copy()}}),s||r},B.isEntry=function(r){return!r.parent},B.isLeaf=function(r){return!r.children},B.getPtId=function(r){return r.data.data.id},B.getPtLabel=function(r){return r.data.data.label},B.getValue=function(r){return r.value},B.isHierarchyRoot=function(r){return v(r)===""},B.setSliceCursor=function(r,e,s){var n=s.isTransitioning;if(!n){var l=r.datum();n=s.hideOnRoot&&B.isHierarchyRoot(l)||s.hideOnLeaves&&B.isLeaf(l)}i(r,n?null:"pointer")};function m(r,e,s){return{color:B.getOutsideTextFontKey("color",r,e,s),family:B.getOutsideTextFontKey("family",r,e,s),size:B.getOutsideTextFontKey("size",r,e,s)}}function d(r,e,s,n){var l=(n||{}).onPathbar,o=e.data.data,h=o.i,b=x.castOption(r,h,(l?"pathbar.textfont":"insidetextfont")+".color");return!b&&r._input.textfont&&(b=x.castOption(r._input,h,"textfont.color")),{color:b||E.contrast(o.color),family:B.getInsideTextFontKey("family",r,e,s,n),size:B.getInsideTextFontKey("size",r,e,s,n)}}B.getInsideTextFontKey=function(r,e,s,n,l){var o=(l||{}).onPathbar,h=o?"pathbar.textfont":"insidetextfont",b=s.data.data.i;return x.castOption(e,b,h+"."+r)||x.castOption(e,b,"textfont."+r)||n.size},B.getOutsideTextFontKey=function(r,e,s,n){var l=s.data.data.i;return x.castOption(e,l,"outsidetextfont."+r)||x.castOption(e,l,"textfont."+r)||n.size},B.isOutsideText=function(r,e){return!r._hasColorscale&&B.isHierarchyRoot(e)},B.determineTextFont=function(r,e,s,n){return B.isOutsideText(r,e)?m(r,e,s):d(r,e,s,n)},B.hasTransition=function(r){return!!(r&&r.duration>0)},B.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},B.isHeader=function(r,e){return!(B.isLeaf(r)||r.depth===e._maxDepth-1)};function v(r){return r.data.data.pid}B.getParent=function(r,e){return B.findEntryWithLevel(r,v(e))},B.listPath=function(r,e){var s=r.parent;if(!s)return[];var n=e?[s.data[e]]:[s];return B.listPath(s,e).concat(n)},B.getPath=function(r){return B.listPath(r,"label").join("/")+"/"},B.formatValue=M.formatPieValue,B.formatPercent=function(r,e){var s=x.formatPercent(r,0);return s==="0%"&&(s=M.formatPiePercent(r,e)),s}},5621:function(X,B,t){X.exports={moduleType:"trace",name:"sunburst",basePlotModule:t(54904),categories:[],animatable:!0,attributes:t(424),layoutAttributes:t(84920),supplyDefaults:t(25244),supplyLayoutDefaults:t(28732),calc:t(3776).calc,crossTraceCalc:t(3776).crossTraceCalc,plot:t(96488).plot,style:t(85676).style,colorbar:t(5528),meta:{}}},84920:function(X){X.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(X,B,t){var x=t(3400),E=t(84920);X.exports=function(i,M){function m(d,v){return x.coerce(i,M,E,d,v)}m("sunburstcolorway",M.colorway),m("extendsunburstcolors")}},96488:function(X,B,t){var x=t(33428),E=t(74148),i=t(67756).qy,M=t(43616),m=t(3400),d=t(72736),v=t(82744),r=v.recordMinTextSize,e=v.clearMinTextSize,s=t(37820),n=t(69656).getRotationAngle,l=s.computeTransform,o=s.transformInsideText,h=t(85676).styleOne,b=t(60100).resizeText,f=t(45716),k=t(27328),a=t(78176);B.plot=function(T,P,u,g){var L=T._fullLayout,A=L._sunburstlayer,R,O,N=!u,z=!L.uniformtext.mode&&a.hasTransition(u);if(e("sunburst",L),R=A.selectAll("g.trace.sunburst").data(P,function(I){return I[0].trace.uid}),R.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),R.order(),z){g&&(O=g());var F=x.transition().duration(u.duration).ease(u.easing).each("end",function(){O&&O()}).each("interrupt",function(){O&&O()});F.each(function(){A.selectAll("g.trace").each(function(I){c(T,I,this,u)})})}else R.each(function(I){c(T,I,this,u)}),L.uniformtext.mode&&b(T,L._sunburstlayer.selectAll(".trace"),"sunburst");N&&R.exit().remove()};function c(T,P,u,g){var L=T._context.staticPlot,A=T._fullLayout,R=!A.uniformtext.mode&&a.hasTransition(g),O=x.select(u),N=O.selectAll("g.slice"),z=P[0],F=z.trace,I=z.hierarchy,j=a.findEntryWithLevel(I,F.level),V=a.getMaxDepth(F),W=A._size,K=F.domain,et=W.w*(K.x[1]-K.x[0]),lt=W.h*(K.y[1]-K.y[0]),ot=.5*Math.min(et,lt),q=z.cx=W.l+W.w*(K.x[1]+K.x[0])/2,J=z.cy=W.t+W.h*(1-K.y[0])-lt/2;if(!j)return N.remove();var it=null,Z={};R&&N.each(function(Xt){Z[a.getPtId(Xt)]={rpx0:Xt.rpx0,rpx1:Xt.rpx1,x0:Xt.x0,x1:Xt.x1,transform:Xt.transform},!it&&a.isEntry(Xt)&&(it=Xt)});var tt=p(j).descendants(),st=j.height+1,Q=0,G=V;z.hasMultipleRoots&&a.isHierarchyRoot(j)&&(tt=tt.slice(1),st-=1,Q=1,G+=1),tt=tt.filter(function(Xt){return Xt.y1<=G});var ut=n(F.rotation);ut&&tt.forEach(function(Xt){Xt.x0+=ut,Xt.x1+=ut});var at=Math.min(st,V),dt=function(Xt){return(Xt-Q)/at*ot},gt=function(Xt,se){return[Xt*Math.cos(se),-Xt*Math.sin(se)]},wt=function(Xt){return m.pathAnnulus(Xt.rpx0,Xt.rpx1,Xt.x0,Xt.x1,q,J)},kt=function(Xt){return q+S(Xt)[0]*(Xt.transform.rCenter||0)+(Xt.transform.x||0)},Ot=function(Xt){return J+S(Xt)[1]*(Xt.transform.rCenter||0)+(Xt.transform.y||0)};N=N.data(tt,a.getPtId),N.enter().append("g").classed("slice",!0),R?N.exit().transition().each(function(){var Xt=x.select(this),se=Xt.select("path.surface");se.transition().attrTween("d",function(ue){var ie=Pt(ue);return function(fe){return wt(ie(fe))}});var Yt=Xt.select("g.slicetext");Yt.attr("opacity",0)}).remove():N.exit().remove(),N.order();var bt=null;if(R&&it){var _t=a.getPtId(it);N.each(function(Xt){bt===null&&a.getPtId(Xt)===_t&&(bt=Xt.x1)})}var mt=N;R&&(mt=mt.transition().each("end",function(){var Xt=x.select(this);a.setSliceCursor(Xt,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),mt.each(function(Xt){var se=x.select(this),Yt=m.ensureSingle(se,"path","surface",function(de){de.style("pointer-events",L?"none":"all")});Xt.rpx0=dt(Xt.y0),Xt.rpx1=dt(Xt.y1),Xt.xmid=(Xt.x0+Xt.x1)/2,Xt.pxmid=gt(Xt.rpx1,Xt.xmid),Xt.midangle=-(Xt.xmid-Math.PI/2),Xt.startangle=-(Xt.x0-Math.PI/2),Xt.stopangle=-(Xt.x1-Math.PI/2),Xt.halfangle=.5*Math.min(m.angleDelta(Xt.x0,Xt.x1)||Math.PI,Math.PI),Xt.ring=1-Xt.rpx0/Xt.rpx1,Xt.rInscribed=w(Xt),R?Yt.transition().attrTween("d",function(de){var Te=Rt(de);return function(Et){return wt(Te(Et))}}):Yt.attr("d",wt),se.call(f,j,T,P,{eventDataKeys:k.eventDataKeys,transitionTime:k.CLICK_TRANSITION_TIME,transitionEasing:k.CLICK_TRANSITION_EASING}).call(a.setSliceCursor,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:T._transitioning}),Yt.call(h,Xt,F,T);var ue=m.ensureSingle(se,"g","slicetext"),ie=m.ensureSingle(ue,"text","",function(de){de.attr("data-notex",1)}),fe=m.ensureUniformFontSize(T,a.determineTextFont(F,Xt,A.font));ie.text(B.formatSliceLabel(Xt,j,F,P,A)).classed("slicetext",!0).attr("text-anchor","middle").call(M.font,fe).call(d.convertToTspans,T);var ce=M.bBox(ie.node());Xt.transform=o(ce,Xt,z),Xt.transform.targetX=kt(Xt),Xt.transform.targetY=Ot(Xt);var ye=function(de,Te){var Et=de.transform;return l(Et,Te),Et.fontSize=fe.size,r(F.type,Et,A),m.getTextTransform(Et)};R?ie.transition().attrTween("transform",function(de){var Te=Ht(de);return function(Et){return ye(Te(Et),ce)}}):ie.attr("transform",ye(Xt,ce))});function Pt(Xt){var se=a.getPtId(Xt),Yt=Z[se],ue=Z[a.getPtId(j)],ie;if(ue){var fe=(Xt.x1>ue.x1?2*Math.PI:0)+ut;ie=Xt.rpx1<ue.rpx1?{x0:Xt.x0,x1:Xt.x1,rpx0:0,rpx1:0}:{x0:fe,x1:fe,rpx0:Xt.rpx0,rpx1:Xt.rpx1}}else{var ce,ye=a.getPtId(Xt.parent);N.each(function(te){if(a.getPtId(te)===ye)return ce=te});var de=ce.children,Te;de.forEach(function(te,Jt){if(a.getPtId(te)===se)return Te=Jt});var Et=de.length,Vt=i(ce.x0,ce.x1);ie={rpx0:ot,rpx1:ot,x0:Vt(Te/Et),x1:Vt((Te+1)/Et)}}return i(Yt,ie)}function Rt(Xt){var se=Z[a.getPtId(Xt)],Yt,ue={x0:Xt.x0,x1:Xt.x1,rpx0:Xt.rpx0,rpx1:Xt.rpx1};if(se)Yt=se;else if(it)if(Xt.parent)if(bt){var ie=(Xt.x1>bt?2*Math.PI:0)+ut;Yt={x0:ie,x1:ie}}else Yt={rpx0:ot,rpx1:ot},m.extendFlat(Yt,Dt(Xt));else Yt={rpx0:0,rpx1:0};else Yt={x0:ut,x1:ut};return i(Yt,ue)}function Ht(Xt){var se=Z[a.getPtId(Xt)],Yt,ue=Xt.transform;if(se)Yt=se;else if(Yt={rpx1:Xt.rpx1,transform:{textPosAngle:ue.textPosAngle,scale:0,rotate:ue.rotate,rCenter:ue.rCenter,x:ue.x,y:ue.y}},it)if(Xt.parent)if(bt){var ie=Xt.x1>bt?2*Math.PI:0;Yt.x0=Yt.x1=ie}else m.extendFlat(Yt,Dt(Xt));else Yt.x0=Yt.x1=ut;else Yt.x0=Yt.x1=ut;var fe=i(Yt.transform.textPosAngle,Xt.transform.textPosAngle),ce=i(Yt.rpx1,Xt.rpx1),ye=i(Yt.x0,Xt.x0),de=i(Yt.x1,Xt.x1),Te=i(Yt.transform.scale,ue.scale),Et=i(Yt.transform.rotate,ue.rotate),Vt=ue.rCenter===0?3:Yt.transform.rCenter===0?1/3:1,te=i(Yt.transform.rCenter,ue.rCenter),Jt=function(Ut){return te(Math.pow(Ut,Vt))};return function(Ut){var It=ce(Ut),pt=ye(Ut),xt=de(Ut),Ct=Jt(Ut),At=gt(It,(pt+xt)/2),Ft=fe(Ut),Wt={pxmid:At,rpx1:It,transform:{textPosAngle:Ft,rCenter:Ct,x:ue.x,y:ue.y}};return r(F.type,ue,A),{transform:{targetX:kt(Wt),targetY:Ot(Wt),scale:Te(Ut),rotate:Et(Ut),rCenter:Ct}}}}function Dt(Xt){var se=Xt.parent,Yt=Z[a.getPtId(se)],ue={};if(Yt){var ie=se.children,fe=ie.indexOf(Xt),ce=ie.length,ye=i(Yt.x0,Yt.x1);ue.x0=ye(fe/ce),ue.x1=ye(fe/ce)}else ue.x0=ue.x1=0;return ue}}function p(T){return E.partition().size([2*Math.PI,T.height+1])(T)}B.formatSliceLabel=function(T,P,u,g,L){var A=u.texttemplate,R=u.textinfo;if(!A&&(!R||R==="none"))return"";var O=L.separators,N=g[0],z=T.data.data,F=N.hierarchy,I=a.isHierarchyRoot(T),j=a.getParent(F,T),V=a.getValue(T);if(!A){var W=R.split("+"),K=function(Q){return W.indexOf(Q)!==-1},et=[],lt;if(K("label")&&z.label&&et.push(z.label),z.hasOwnProperty("v")&&K("value")&&et.push(a.formatValue(z.v,O)),!I){K("current path")&&et.push(a.getPath(T.data));var ot=0;K("percent parent")&&ot++,K("percent entry")&&ot++,K("percent root")&&ot++;var q=ot>1;if(ot){var J,it=function(Q){lt=a.formatPercent(J,O),q&&(lt+=" of "+Q),et.push(lt)};K("percent parent")&&!I&&(J=V/a.getValue(j),it("parent")),K("percent entry")&&(J=V/a.getValue(P),it("entry")),K("percent root")&&(J=V/a.getValue(F),it("root"))}}return K("text")&&(lt=m.castOption(u,z.i,"text"),m.isValidTextValue(lt)&&et.push(lt)),et.join("<br>")}var Z=m.castOption(u,z.i,"texttemplate");if(!Z)return"";var tt={};z.label&&(tt.label=z.label),z.hasOwnProperty("v")&&(tt.value=z.v,tt.valueLabel=a.formatValue(z.v,O)),tt.currentPath=a.getPath(T.data),I||(tt.percentParent=V/a.getValue(j),tt.percentParentLabel=a.formatPercent(tt.percentParent,O),tt.parent=a.getPtLabel(j)),tt.percentEntry=V/a.getValue(P),tt.percentEntryLabel=a.formatPercent(tt.percentEntry,O),tt.entry=a.getPtLabel(P),tt.percentRoot=V/a.getValue(F),tt.percentRootLabel=a.formatPercent(tt.percentRoot,O),tt.root=a.getPtLabel(F),z.hasOwnProperty("color")&&(tt.color=z.color);var st=m.castOption(u,z.i,"text");return(m.isValidTextValue(st)||st==="")&&(tt.text=st),tt.customdata=m.castOption(u,z.i,"customdata"),m.texttemplateString(Z,tt,L._d3locale,tt,u._meta||{})};function w(T){return T.rpx0===0&&m.isFullCircle([T.x0,T.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(T.halfangle)),T.ring/2))}function S(T){return _(T.rpx1,T.transform.textPosAngle)}function _(T,P){return[T*Math.sin(P),-T*Math.cos(P)]}},85676:function(X,B,t){var x=t(33428),E=t(76308),i=t(3400),M=t(82744).resizeText,m=t(60404);function d(r){var e=r._fullLayout._sunburstlayer.selectAll(".trace");M(r,e,"sunburst"),e.each(function(s){var n=x.select(this),l=s[0],o=l.trace;n.style("opacity",o.opacity),n.selectAll("path.surface").each(function(h){x.select(this).call(v,h,o,r)})})}function v(r,e,s,n){var l=e.data.data,o=!e.children,h=l.i,b=i.castOption(s,h,"marker.line.color")||E.defaultLine,f=i.castOption(s,h,"marker.line.width")||0;r.call(m,e,s,n).style("stroke-width",f).call(E.stroke,b).style("opacity",o?s.leaf.opacity:null)}X.exports={style:d,styleOne:v}},16716:function(X,B,t){var x=t(76308),E=t(49084),i=t(29736).axisHoverFormat,M=t(21776).Ks,m=t(45464),d=t(92880).extendFlat,v=t(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function e(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:x.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:x.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=X.exports=v(d({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:M(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},E("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:e(),y:e(),z:e()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:d({},E.zauto,{}),zmin:d({},E.zmin,{}),zmax:d({},E.zmax,{})},hoverinfo:d({},m.hoverinfo),showlegend:d({},m.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},56576:function(X,B,t){var x=t(47128);X.exports=function(E,i){i.surfacecolor?x(E,i,{vals:i.surfacecolor,containerStr:"",cLetter:"c"}):x(E,i,{vals:i.z,containerStr:"",cLetter:"c"})}},79164:function(X,B,t){var x=t(67792).gl_surface3d,E=t(67792).ndarray,i=t(67792).ndarray_linear_interpolate.d2,M=t(70448),m=t(11240),d=t(3400).isArrayOrTypedArray,v=t(33040).parseColorScale,r=t(43080),e=t(8932).extractOpts;function s(g,L,A){this.scene=g,this.uid=A,this.surface=L,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=s.prototype;n.getXat=function(g,L,A,R){var O=d(this.data.x)?d(this.data.x[0])?this.data.x[L][g]:this.data.x[g]:g;return A===void 0?O:R.d2l(O,0,A)},n.getYat=function(g,L,A,R){var O=d(this.data.y)?d(this.data.y[0])?this.data.y[L][g]:this.data.y[L]:L;return A===void 0?O:R.d2l(O,0,A)},n.getZat=function(g,L,A,R){var O=this.data.z[L][g];return O===null&&this.data.connectgaps&&this.data._interpolatedZ&&(O=this.data._interpolatedZ[L][g]),A===void 0?O:R.d2l(O,0,A)},n.handlePick=function(g){if(g.object===this.surface){var L=(g.data.index[0]-1)/this.dataScaleX-1,A=(g.data.index[1]-1)/this.dataScaleY-1,R=Math.max(Math.min(Math.round(L),this.data.z[0].length-1),0),O=Math.max(Math.min(Math.round(A),this.data._ylength-1),0);g.index=[R,O],g.traceCoordinate=[this.getXat(R,O),this.getYat(R,O),this.getZat(R,O)],g.dataCoordinate=[this.getXat(R,O,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(R,O,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(R,O,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var z=g.dataCoordinate[N];z!=null&&(g.dataCoordinate[N]*=this.scene.dataScale[N])}var F=this.data.hovertext||this.data.text;return d(F)&&F[O]&&F[O][R]!==void 0?g.textLabel=F[O][R]:F?g.textLabel=F:g.textLabel="",g.data.dataCoordinate=g.dataCoordinate.slice(),this.surface.highlight(g.data),this.scene.glplot.spikes.position=g.dataCoordinate,!0}};function l(g){var L=g[0].rgb,A=g[g.length-1].rgb;return L[0]===A[0]&&L[1]===A[1]&&L[2]===A[2]&&L[3]===A[3]}var o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function h(g,L){if(g<L)return 0;for(var A=0;Math.floor(g%L)===0;)g/=L,A++;return A}function b(g){for(var L=[],A=0;A<o.length;A++){var R=o[A];L.push(h(g,R))}return L}function f(g){for(var L=b(g),A=g,R=0;R<o.length;R++)if(L[R]>0){A=o[R];break}return A}function k(g,L){if(!(g<1||L<1)){for(var A=b(g),R=b(L),O=1,N=0;N<o.length;N++)O*=Math.pow(o[N],Math.max(A[N],R[N]));return O}}function a(g){if(g.length!==0){for(var L=1,A=0;A<g.length;A++)L=k(L,g[A]);return L}}n.calcXnums=function(g){var L,A=[];for(L=1;L<g;L++){var R=this.getXat(L-1,0),O=this.getXat(L,0);O!==R&&R!==void 0&&R!==null&&O!==void 0&&O!==null?A[L-1]=Math.abs(O-R):A[L-1]=0}var N=0;for(L=1;L<g;L++)N+=A[L-1];for(L=1;L<g;L++)A[L-1]===0?A[L-1]=1:A[L-1]=Math.round(N/A[L-1]);return A},n.calcYnums=function(g){var L,A=[];for(L=1;L<g;L++){var R=this.getYat(0,L-1),O=this.getYat(0,L);O!==R&&R!==void 0&&R!==null&&O!==void 0&&O!==null?A[L-1]=Math.abs(O-R):A[L-1]=0}var N=0;for(L=1;L<g;L++)N+=A[L-1];for(L=1;L<g;L++)A[L-1]===0?A[L-1]=1:A[L-1]=Math.round(N/A[L-1]);return A};var c=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=c[9],w=c[13];n.estimateScale=function(g,L){for(var A=L===0?this.calcXnums(g):this.calcYnums(g),R=1+a(A);R<p;)R*=2;for(;R>w;)R--,R/=f(R),R++,R<p&&(R=w);var O=Math.round(R/g);return O>1?O:1};function S(g,L,A){var R=A[8]+A[2]*L[0]+A[5]*L[1];return g[0]=(A[6]+A[0]*L[0]+A[3]*L[1])/R,g[1]=(A[7]+A[1]*L[0]+A[4]*L[1])/R,g}function _(g,L,A){return T(g,L,S,A),g}function T(g,L,A,R){for(var O=[0,0],N=g.shape[0],z=g.shape[1],F=0;F<N;F++)for(var I=0;I<z;I++)A(O,[F,I],R),g.set(F,I,i(L,O[0],O[1]));return g}n.refineCoords=function(g){for(var L=this.dataScaleX,A=this.dataScaleY,R=g[0].shape[0],O=g[0].shape[1],N=Math.floor(g[0].shape[0]*L+1)|0,z=Math.floor(g[0].shape[1]*A+1)|0,F=1+R+1,I=1+O+1,j=E(new Float32Array(F*I),[F,I]),V=[1/L,0,0,0,1/A,0,0,0,1],W=0;W<g.length;++W){this.surface.padField(j,g[W]);var K=E(new Float32Array(N*z),[N,z]);_(K,j,V),g[W]=K}};function P(g,L){for(var A=!1,R=0;R<g.length;R++)if(L===g[R]){A=!0;break}A===!1&&g.push(L)}n.setContourLevels=function(){var g=[[],[],[]],L=[!1,!1,!1],A=!1,R,O,N;for(R=0;R<3;++R)if(this.showContour[R]&&(A=!0,this.contourSize[R]>0&&this.contourStart[R]!==null&&this.contourEnd[R]!==null&&this.contourEnd[R]>this.contourStart[R]))for(L[R]=!0,O=this.contourStart[R];O<this.contourEnd[R];O+=this.contourSize[R])N=O*this.scene.dataScale[R],P(g[R],N);if(A){var z=[[],[],[]];for(R=0;R<3;++R)this.showContour[R]&&(z[R]=L[R]?g[R]:this.scene.contourLevels[R]);this.surface.update({levels:z})}},n.update=function(g){var L=this.scene,A=L.fullSceneLayout,R=this.surface,O=v(g),N=L.dataScale,z=g.z[0].length,F=g._ylength,I=L.contourLevels;this.data=g;var j,V,W,K,et=[];for(j=0;j<3;j++)for(et[j]=[],V=0;V<z;V++)et[j][V]=[];for(V=0;V<z;V++)for(W=0;W<F;W++)et[0][V][W]=this.getXat(V,W,g.xcalendar,A.xaxis),et[1][V][W]=this.getYat(V,W,g.ycalendar,A.yaxis),et[2][V][W]=this.getZat(V,W,g.zcalendar,A.zaxis);if(g.connectgaps)for(g._emptypoints=m(et[2]),M(et[2],g._emptypoints),g._interpolatedZ=[],V=0;V<z;V++)for(g._interpolatedZ[V]=[],W=0;W<F;W++)g._interpolatedZ[V][W]=et[2][V][W];for(j=0;j<3;j++)for(V=0;V<z;V++)for(W=0;W<F;W++)K=et[j][V][W],K==null?et[j][V][W]=NaN:K=et[j][V][W]*=N[j];for(j=0;j<3;j++)for(V=0;V<z;V++)for(W=0;W<F;W++)K=et[j][V][W],K!=null&&(this.minValues[j]>K&&(this.minValues[j]=K),this.maxValues[j]<K&&(this.maxValues[j]=K));for(j=0;j<3;j++)this.objectOffset[j]=.5*(this.minValues[j]+this.maxValues[j]);for(j=0;j<3;j++)for(V=0;V<z;V++)for(W=0;W<F;W++)K=et[j][V][W],K!=null&&(et[j][V][W]-=this.objectOffset[j]);var lt=[E(new Float32Array(z*F),[z,F]),E(new Float32Array(z*F),[z,F]),E(new Float32Array(z*F),[z,F])];for(j=0;j<3;j++)for(V=0;V<z;V++)for(W=0;W<F;W++)lt[j].set(V,W,et[j][V][W]);et=[];var ot={colormap:O,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!g.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:g.opacityscale,opacity:g.opacity},q=e(g);if(ot.intensityBounds=[q.min,q.max],g.surfacecolor){var J=E(new Float32Array(z*F),[z,F]);for(V=0;V<z;V++)for(W=0;W<F;W++)J.set(V,W,g.surfacecolor[W][V]);lt.push(J)}else ot.intensityBounds[0]*=N[2],ot.intensityBounds[1]*=N[2];(w<lt[0].shape[0]||w<lt[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(lt[0].shape[0],0),this.dataScaleY=this.estimateScale(lt[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(lt)),g.surfacecolor&&(ot.intensity=lt.pop());var it=[!0,!0,!0],Z=["x","y","z"];for(j=0;j<3;++j){var tt=g.contours[Z[j]];it[j]=tt.highlight,ot.showContour[j]=tt.show||tt.highlight,ot.showContour[j]&&(ot.contourProject[j]=[tt.project.x,tt.project.y,tt.project.z],tt.show?(this.showContour[j]=!0,ot.levels[j]=I[j],R.highlightColor[j]=ot.contourColor[j]=r(tt.color),tt.usecolormap?R.highlightTint[j]=ot.contourTint[j]=0:R.highlightTint[j]=ot.contourTint[j]=1,ot.contourWidth[j]=tt.width,this.contourStart[j]=tt.start,this.contourEnd[j]=tt.end,this.contourSize[j]=tt.size):(this.showContour[j]=!1,this.contourStart[j]=null,this.contourEnd[j]=null,this.contourSize[j]=0),tt.highlight&&(ot.dynamicColor[j]=r(tt.highlightcolor),ot.dynamicWidth[j]=tt.highlightwidth))}l(O)&&(ot.vertexColor=!0),ot.objectOffset=this.objectOffset,ot.coords=lt,R.update(ot),R.visible=g.visible,R.enableDynamic=it,R.enableHighlight=it,R.snapToData=!0,"lighting"in g&&(R.ambientLight=g.lighting.ambient,R.diffuseLight=g.lighting.diffuse,R.specularLight=g.lighting.specular,R.roughness=g.lighting.roughness,R.fresnel=g.lighting.fresnel),"lightposition"in g&&(R.lightPosition=[g.lightposition.x,g.lightposition.y,g.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function u(g,L){var A=g.glplot.gl,R=x({gl:A}),O=new s(g,R,L.uid);return R._trace=O,O.update(L),g.glplot.add(R),O}X.exports=u},60192:function(X,B,t){var x=t(24040),E=t(3400),i=t(27260),M=t(16716),m=.1;function d(n,l){for(var o=[],h=32,b=0;b<h;b++){var f=b/(h-1),k=l+(1-l)*(1-Math.pow(Math.sin(n*f*Math.PI),2));o.push([f,Math.max(0,Math.min(1,k))])}return o}function v(n){var l=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var o=0;o<n.length;o++){var h=n[o];if(h.length!==2||+h[0]<l)return!1;l=+h[0]}return!0}function r(n,l,o,h){var b,f;function k(g,L){return E.coerce(n,l,M,g,L)}var a=k("x"),c=k("y"),p=k("z");if(!p||!p.length||a&&a.length<1||c&&c.length<1){l.visible=!1;return}l._xlength=Array.isArray(a)&&E.isArrayOrTypedArray(a[0])?p.length:p[0].length,l._ylength=p.length;var w=x.getComponentMethod("calendars","handleTraceDefaults");w(n,l,["x","y","z"],h),k("text"),k("hovertext"),k("hovertemplate"),k("xhoverformat"),k("yhoverformat"),k("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(g){k(g)});var S=k("surfacecolor"),_=["x","y","z"];for(b=0;b<3;++b){var T="contours."+_[b],P=k(T+".show"),u=k(T+".highlight");if(P||u)for(f=0;f<3;++f)k(T+".project."+_[f]);P&&(k(T+".color"),k(T+".width"),k(T+".usecolormap")),u&&(k(T+".highlightcolor"),k(T+".highlightwidth")),k(T+".start"),k(T+".end"),k(T+".size")}S||(s(n,"zmin","cmin"),s(n,"zmax","cmax"),s(n,"zauto","cauto")),i(n,l,h,k,{prefix:"",cLetter:"c"}),e(n,l,h,k),l._length=null}function e(n,l,o,h){var b=h("opacityscale");b==="max"?l.opacityscale=[[0,m],[1,1]]:b==="min"?l.opacityscale=[[0,1],[1,m]]:b==="extremes"?l.opacityscale=d(1,m):v(b)||(l.opacityscale=void 0)}function s(n,l,o){l in n&&!(o in n)&&(n[o]=n[l])}X.exports={supplyDefaults:r,opacityscaleDefaults:e}},91304:function(X,B,t){X.exports={attributes:t(16716),supplyDefaults:t(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:t(56576),plot:t(79164),moduleType:"trace",name:"surface",basePlotModule:t(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(X,B,t){var x=t(13916),E=t(92880).extendFlat,i=t(67824).overrideAll,M=t(25376),m=t(86968).u,d=t(29736).descriptionOnlyNumbers,v=X.exports=i({domain:m({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:E({},x.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},M({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:E({},x.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},M({arrayOk:!0}))}},"calc","from-root");v.transforms=void 0},85852:function(X,B,t){var x=t(84888)._M,E=t(24752),i="table";B.name=i,B.plot=function(M){var m=x(M.calcdata,i)[0];m.length&&E(M,m)},B.clean=function(M,m,d,v){var r=v._has&&v._has(i),e=m._has&&m._has(i);r&&!e&&v._paperdiv.selectAll(".table").remove()}},39312:function(X,B,t){var x=t(71688).wrap;X.exports=function(){return x({})}},23536:function(X){X.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(X,B,t){var x=t(23536),E=t(92880).extendFlat,i=t(38248),M=t(38116).isTypedArray,m=t(38116).isArrayOrTypedArray;X.exports=function(h,b){var f=r(b.cells.values),k=function(W){return W.slice(b.header.values.length,W.length)},a=r(b.header.values);a.length&&!a[0].length&&(a[0]=[""],a=r(a));var c=a.concat(k(f).map(function(){return e((a[0]||[""]).length)})),p=b.domain,w=Math.floor(h._fullLayout._size.w*(p.x[1]-p.x[0])),S=Math.floor(h._fullLayout._size.h*(p.y[1]-p.y[0])),_=b.header.values.length?c[0].map(function(){return b.header.height}):[x.emptyHeaderHeight],T=f.length?f[0].map(function(){return b.cells.height}):[],P=_.reduce(v,0),u=S-P,g=u+x.uplift,L=l(T,g),A=l(_,P),R=n(A,[]),O=n(L,R),N={},z=b._fullInput.columnorder;m(z)&&(z=Array.from(z)),z=z.concat(k(f.map(function(W,K){return K})));var F=c.map(function(W,K){var et=m(b.columnwidth)?b.columnwidth[Math.min(K,b.columnwidth.length-1)]:b.columnwidth;return i(et)?Number(et):1}),I=F.reduce(v,0);F=F.map(function(W){return W/I*w});var j=Math.max(d(b.header.line.width),d(b.cells.line.width)),V={key:b.uid+h._context.staticPlot,translateX:p.x[0]*h._fullLayout._size.w,translateY:h._fullLayout._size.h*(1-p.y[1]),size:h._fullLayout._size,width:w,maxLineWidth:j,height:S,columnOrder:z,groupHeight:S,rowBlocks:O,headerRowBlocks:R,scrollY:0,cells:E({},b.cells,{values:f}),headerCells:E({},b.header,{values:c}),gdColumns:c.map(function(W){return W[0]}),gdColumnsOriginalOrder:c.map(function(W){return W[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:c.map(function(W,K){var et=N[W];N[W]=(et||0)+1;var lt=W+"__"+N[W];return{key:lt,label:W,specIndex:K,xIndex:z[K],xScale:s,x:void 0,calcdata:void 0,columnWidth:F[K]}})};return V.columns.forEach(function(W){W.calcdata=V,W.x=s(W)}),V};function d(h){if(m(h)){for(var b=0,f=0;f<h.length;f++)b=Math.max(b,d(h[f]));return b}return h}function v(h,b){return h+b}function r(h){var b=h.slice(),f=1/0,k=0,a;for(a=0;a<b.length;a++)M(b[a])?b[a]=Array.from(b[a]):m(b[a])||(b[a]=[b[a]]),f=Math.min(f,b[a].length),k=Math.max(k,b[a].length);if(f!==k)for(a=0;a<b.length;a++){var c=k-b[a].length;c&&(b[a]=b[a].concat(e(c)))}return b}function e(h){for(var b=new Array(h),f=0;f<h;f++)b[f]="";return b}function s(h){return h.calcdata.columns.reduce(function(b,f){return f.xIndex<h.xIndex?b+f.columnWidth:b},0)}function n(h,b){var f=Object.keys(h);return f.map(function(k){return E({},h[k],{auxiliaryBlocks:b})})}function l(h,b){for(var f={},k,a=0,c=0,p=o(),w=0,S=0,_=0;_<h.length;_++)k=h[_],p.rows.push({rowIndex:_,rowHeight:k}),c+=k,(c>=b||_===h.length-1)&&(f[a]=p,p.key=S++,p.firstRowIndex=w,p.lastRowIndex=_,p=o(),a+=c,w=_+1,c=0);return f}function o(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(X,B,t){var x=t(92880).extendFlat;B.splitToPanels=function(i){var M=[0,0],m=x({},i,{key:"header",type:"header",page:0,prevPages:M,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:x({},i.calcdata,{cells:i.calcdata.headerCells})}),d=x({},i,{key:"cells1",type:"cells",page:0,prevPages:M,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),v=x({},i,{key:"cells2",type:"cells",page:1,prevPages:M,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[d,v,m]},B.splitToCells=function(i){var M=E(i);return(i.values||[]).slice(M[0],M[1]).map(function(m,d){var v=typeof m=="string"&&m.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:d+v,key:M[0]+d,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:m}})};function E(i){var M=i.rowBlocks[i.page],m=M?M.rows[0].rowIndex:0,d=M?m+M.rows.length:0;return[m,d]}},53212:function(X,B,t){var x=t(3400),E=t(60520),i=t(86968).Q;function M(m,d){for(var v=m.columnorder||[],r=m.header.values.length,e=v.slice(0,r),s=e.slice().sort(function(o,h){return o-h}),n=e.map(function(o){return s.indexOf(o)}),l=n.length;l<r;l++)n.push(l);d("columnorder",n)}X.exports=function(m,d,v,r){function e(s,n){return x.coerce(m,d,E,s,n)}i(d,r,e),e("columnwidth"),e("header.values"),e("header.format"),e("header.align"),e("header.prefix"),e("header.suffix"),e("header.height"),e("header.line.width"),e("header.line.color"),e("header.fill.color"),x.coerceFont(e,"header.font",x.extendFlat({},r.font)),M(d,e),e("cells.values"),e("cells.format"),e("cells.align"),e("cells.prefix"),e("cells.suffix"),e("cells.height"),e("cells.line.width"),e("cells.line.color"),e("cells.fill.color"),x.coerceFont(e,"cells.font",x.extendFlat({},r.font)),d._length=null}},41724:function(X,B,t){X.exports={attributes:t(60520),supplyDefaults:t(53212),calc:t(39312),plot:t(24752),moduleType:"trace",name:"table",basePlotModule:t(85852),categories:["noOpacity"],meta:{}}},24752:function(X,B,t){var x=t(23536),E=t(33428),i=t(3400),M=i.numberFormat,m=t(71688),d=t(43616),v=t(72736),r=t(3400).raiseToTop,e=t(3400).strTranslate,s=t(3400).cancelTransition,n=t(55992),l=t(53056),o=t(76308);X.exports=function(G,ut){var at=!G._context.staticPlot,dt=G._fullLayout._paper.selectAll("."+x.cn.table).data(ut.map(function(Yt){var ue=m.unwrap(Yt),ie=ue.trace;return n(G,ie)}),m.keyFun);dt.exit().remove(),dt.enter().append("g").classed(x.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),dt.attr("width",function(Yt){return Yt.width+Yt.size.l+Yt.size.r}).attr("height",function(Yt){return Yt.height+Yt.size.t+Yt.size.b}).attr("transform",function(Yt){return e(Yt.translateX,Yt.translateY)});var gt=dt.selectAll("."+x.cn.tableControlView).data(m.repeat,m.keyFun),wt=gt.enter().append("g").classed(x.cn.tableControlView,!0).style("box-sizing","content-box");if(at){var kt="onwheel"in document?"wheel":"mousewheel";wt.on("mousemove",function(Yt){gt.filter(function(ue){return Yt===ue}).call(a,G)}).on(kt,function(Yt){if(!Yt.scrollbarState.wheeling){Yt.scrollbarState.wheeling=!0;var ue=Yt.scrollY+E.event.deltaY,ie=K(G,gt,null,ue)(Yt);ie||(E.event.stopPropagation(),E.event.preventDefault()),Yt.scrollbarState.wheeling=!1}}).call(a,G,!0)}gt.attr("transform",function(Yt){return e(Yt.size.l,Yt.size.t)});var Ot=gt.selectAll("."+x.cn.scrollBackground).data(m.repeat,m.keyFun);Ot.enter().append("rect").classed(x.cn.scrollBackground,!0).attr("fill","none"),Ot.attr("width",function(Yt){return Yt.width}).attr("height",function(Yt){return Yt.height}),gt.each(function(Yt){d.setClipUrl(E.select(this),b(G,Yt),G)});var bt=gt.selectAll("."+x.cn.yColumn).data(function(Yt){return Yt.columns},m.keyFun);bt.enter().append("g").classed(x.cn.yColumn,!0),bt.exit().remove(),bt.attr("transform",function(Yt){return e(Yt.x,0)}),at&&bt.call(E.behavior.drag().origin(function(Yt){var ue=E.select(this);return z(ue,Yt,-x.uplift),r(this),Yt.calcdata.columnDragInProgress=!0,a(gt.filter(function(ie){return Yt.calcdata.key===ie.key}),G),Yt}).on("drag",function(Yt){var ue=E.select(this),ie=function(ye){return(Yt===ye?E.event.x:ye.x)+ye.columnWidth/2};Yt.x=Math.max(-x.overdrag,Math.min(Yt.calcdata.width+x.overdrag-Yt.columnWidth,E.event.x));var fe=k(bt).filter(function(ye){return ye.calcdata.key===Yt.calcdata.key}),ce=fe.sort(function(ye,de){return ie(ye)-ie(de)});ce.forEach(function(ye,de){ye.xIndex=de,ye.x=Yt===ye?ye.x:ye.xScale(ye)}),bt.filter(function(ye){return Yt!==ye}).transition().ease(x.transitionEase).duration(x.transitionDuration).attr("transform",function(ye){return e(ye.x,0)}),ue.call(s).attr("transform",e(Yt.x,-x.uplift))}).on("dragend",function(Yt){var ue=E.select(this),ie=Yt.calcdata;Yt.x=Yt.xScale(Yt),Yt.calcdata.columnDragInProgress=!1,z(ue,Yt,0),O(G,ie,ie.columns.map(function(fe){return fe.xIndex}))})),bt.each(function(Yt){d.setClipUrl(E.select(this),f(G,Yt),G)});var _t=bt.selectAll("."+x.cn.columnBlock).data(l.splitToPanels,m.keyFun);_t.enter().append("g").classed(x.cn.columnBlock,!0).attr("id",function(Yt){return Yt.key}),_t.style("cursor",function(Yt){return Yt.dragHandle?"ew-resize":Yt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var mt=_t.filter(I),Pt=_t.filter(F);at&&Pt.call(E.behavior.drag().origin(function(Yt){return E.event.stopPropagation(),Yt}).on("drag",K(G,gt,-1)).on("dragend",function(){})),c(G,gt,mt,_t),c(G,gt,Pt,_t);var Rt=gt.selectAll("."+x.cn.scrollAreaClip).data(m.repeat,m.keyFun);Rt.enter().append("clipPath").classed(x.cn.scrollAreaClip,!0).attr("id",function(Yt){return b(G,Yt)});var Ht=Rt.selectAll("."+x.cn.scrollAreaClipRect).data(m.repeat,m.keyFun);Ht.enter().append("rect").classed(x.cn.scrollAreaClipRect,!0).attr("x",-x.overdrag).attr("y",-x.uplift).attr("fill","none"),Ht.attr("width",function(Yt){return Yt.width+2*x.overdrag}).attr("height",function(Yt){return Yt.height+x.uplift});var Dt=bt.selectAll("."+x.cn.columnBoundary).data(m.repeat,m.keyFun);Dt.enter().append("g").classed(x.cn.columnBoundary,!0);var Xt=bt.selectAll("."+x.cn.columnBoundaryClippath).data(m.repeat,m.keyFun);Xt.enter().append("clipPath").classed(x.cn.columnBoundaryClippath,!0),Xt.attr("id",function(Yt){return f(G,Yt)});var se=Xt.selectAll("."+x.cn.columnBoundaryRect).data(m.repeat,m.keyFun);se.enter().append("rect").classed(x.cn.columnBoundaryRect,!0).attr("fill","none"),se.attr("width",function(Yt){return Yt.columnWidth+2*h(Yt)}).attr("height",function(Yt){return Yt.calcdata.height+2*h(Yt)+x.uplift}).attr("x",function(Yt){return-h(Yt)}).attr("y",function(Yt){return-h(Yt)}),W(null,Pt,gt)};function h(G){return Math.ceil(G.calcdata.maxLineWidth/2)}function b(G,ut){return"clip"+G._fullLayout._uid+"_scrollAreaBottomClip_"+ut.key}function f(G,ut){return"clip"+G._fullLayout._uid+"_columnBoundaryClippath_"+ut.calcdata.key+"_"+ut.specIndex}function k(G){return[].concat.apply([],G.map(function(ut){return ut})).map(function(ut){return ut.__data__})}function a(G,ut,at){function dt(_t){var mt=_t.rowBlocks;return it(mt,mt.length-1)+(mt.length?Z(mt[mt.length-1],1/0):1)}var gt=G.selectAll("."+x.cn.scrollbarKit).data(m.repeat,m.keyFun);gt.enter().append("g").classed(x.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),gt.each(function(_t){var mt=_t.scrollbarState;mt.totalHeight=dt(_t),mt.scrollableAreaHeight=_t.groupHeight-j(_t),mt.currentlyVisibleHeight=Math.min(mt.totalHeight,mt.scrollableAreaHeight),mt.ratio=mt.currentlyVisibleHeight/mt.totalHeight,mt.barLength=Math.max(mt.ratio*mt.currentlyVisibleHeight,x.goldenRatio*x.scrollbarWidth),mt.barWiggleRoom=mt.currentlyVisibleHeight-mt.barLength,mt.wiggleRoom=Math.max(0,mt.totalHeight-mt.scrollableAreaHeight),mt.topY=mt.barWiggleRoom===0?0:_t.scrollY/mt.wiggleRoom*mt.barWiggleRoom,mt.bottomY=mt.topY+mt.barLength,mt.dragMultiplier=mt.wiggleRoom/mt.barWiggleRoom}).attr("transform",function(_t){var mt=_t.width+x.scrollbarWidth/2+x.scrollbarOffset;return e(mt,j(_t))});var wt=gt.selectAll("."+x.cn.scrollbar).data(m.repeat,m.keyFun);wt.enter().append("g").classed(x.cn.scrollbar,!0);var kt=wt.selectAll("."+x.cn.scrollbarSlider).data(m.repeat,m.keyFun);kt.enter().append("g").classed(x.cn.scrollbarSlider,!0),kt.attr("transform",function(_t){return e(0,_t.scrollbarState.topY||0)});var Ot=kt.selectAll("."+x.cn.scrollbarGlyph).data(m.repeat,m.keyFun);Ot.enter().append("line").classed(x.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",x.scrollbarWidth).attr("stroke-linecap","round").attr("y1",x.scrollbarWidth/2),Ot.attr("y2",function(_t){return _t.scrollbarState.barLength-x.scrollbarWidth/2}).attr("stroke-opacity",function(_t){return _t.columnDragInProgress||!_t.scrollbarState.barWiggleRoom||at?0:.4}),Ot.transition().delay(0).duration(0),Ot.transition().delay(x.scrollbarHideDelay).duration(x.scrollbarHideDuration).attr("stroke-opacity",0);var bt=wt.selectAll("."+x.cn.scrollbarCaptureZone).data(m.repeat,m.keyFun);bt.enter().append("line").classed(x.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",x.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(_t){var mt=E.event.y,Pt=this.getBoundingClientRect(),Rt=_t.scrollbarState,Ht=mt-Pt.top,Dt=E.scale.linear().domain([0,Rt.scrollableAreaHeight]).range([0,Rt.totalHeight]).clamp(!0);Rt.topY<=Ht&&Ht<=Rt.bottomY||K(ut,G,null,Dt(Ht-Rt.barLength/2))(_t)}).call(E.behavior.drag().origin(function(_t){return E.event.stopPropagation(),_t.scrollbarState.scrollbarScrollInProgress=!0,_t}).on("drag",K(ut,G)).on("dragend",function(){})),bt.attr("y2",function(_t){return _t.scrollbarState.scrollableAreaHeight}),ut._context.staticPlot&&(Ot.remove(),bt.remove())}function c(G,ut,at,dt){var gt=p(at),wt=w(gt);P(wt);var kt=S(wt);g(kt);var Ot=T(wt),bt=_(Ot);u(bt),L(bt,ut,dt,G),J(wt)}function p(G){var ut=G.selectAll("."+x.cn.columnCells).data(m.repeat,m.keyFun);return ut.enter().append("g").classed(x.cn.columnCells,!0),ut.exit().remove(),ut}function w(G){var ut=G.selectAll("."+x.cn.columnCell).data(l.splitToCells,function(at){return at.keyWithinBlock});return ut.enter().append("g").classed(x.cn.columnCell,!0),ut.exit().remove(),ut}function S(G){var ut=G.selectAll("."+x.cn.cellRect).data(m.repeat,function(at){return at.keyWithinBlock});return ut.enter().append("rect").classed(x.cn.cellRect,!0),ut}function _(G){var ut=G.selectAll("."+x.cn.cellText).data(m.repeat,function(at){return at.keyWithinBlock});return ut.enter().append("text").classed(x.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){E.event.stopPropagation()}),ut}function T(G){var ut=G.selectAll("."+x.cn.cellTextHolder).data(m.repeat,function(at){return at.keyWithinBlock});return ut.enter().append("g").classed(x.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ut}function P(G){G.each(function(ut,at){var dt=ut.calcdata.cells.font,gt=ut.column.specIndex,wt={size:N(dt.size,gt,at),color:N(dt.color,gt,at),family:N(dt.family,gt,at)};ut.rowNumber=ut.key,ut.align=N(ut.calcdata.cells.align,gt,at),ut.cellBorderWidth=N(ut.calcdata.cells.line.width,gt,at),ut.font=wt})}function u(G){G.each(function(ut){d.font(E.select(this),ut.font)})}function g(G){G.attr("width",function(ut){return ut.column.columnWidth}).attr("stroke-width",function(ut){return ut.cellBorderWidth}).each(function(ut){var at=E.select(this);o.stroke(at,N(ut.calcdata.cells.line.color,ut.column.specIndex,ut.rowNumber)),o.fill(at,N(ut.calcdata.cells.fill.color,ut.column.specIndex,ut.rowNumber))})}function L(G,ut,at,dt){G.text(function(gt){var wt=gt.column.specIndex,kt=gt.rowNumber,Ot=gt.value,bt=typeof Ot=="string",_t=bt&&Ot.match(/<br>/i),mt=!bt||_t;gt.mayHaveMarkup=bt&&Ot.match(/[<&>]/);var Pt=A(Ot);gt.latex=Pt;var Rt=Pt?"":N(gt.calcdata.cells.prefix,wt,kt)||"",Ht=Pt?"":N(gt.calcdata.cells.suffix,wt,kt)||"",Dt=Pt?null:N(gt.calcdata.cells.format,wt,kt)||null,Xt=Rt+(Dt?M(Dt)(gt.value):gt.value)+Ht,se;gt.wrappingNeeded=!gt.wrapped&&!mt&&!Pt&&(se=R(Xt)),gt.cellHeightMayIncrease=_t||Pt||gt.mayHaveMarkup||(se===void 0?R(Xt):se),gt.needsConvertToTspans=gt.mayHaveMarkup||gt.wrappingNeeded||gt.latex;var Yt;if(gt.wrappingNeeded){var ue=x.wrapSplitCharacter===" "?Xt.replace(/<a href=/ig,"<a_href="):Xt,ie=ue.split(x.wrapSplitCharacter),fe=x.wrapSplitCharacter===" "?ie.map(function(ce){return ce.replace(/<a_href=/ig,"<a href=")}):ie;gt.fragments=fe.map(function(ce){return{text:ce,width:null}}),gt.fragments.push({fragment:x.wrapSpacer,width:null}),Yt=fe.join(x.lineBreaker)+x.lineBreaker+x.wrapSpacer}else delete gt.fragments,Yt=Xt;return Yt}).attr("dy",function(gt){return gt.needsConvertToTspans?0:"0.75em"}).each(function(gt){var wt=this,kt=E.select(wt),Ot=gt.wrappingNeeded?lt:ot;gt.needsConvertToTspans?v.convertToTspans(kt,dt,Ot(at,wt,ut,dt,gt)):E.select(wt.parentNode).attr("transform",function(bt){return e(q(bt),x.cellPad)}).attr("text-anchor",function(bt){return{left:"start",center:"middle",right:"end"}[bt.align]})})}function A(G){return typeof G=="string"&&G.match(x.latexCheck)}function R(G){return G.indexOf(x.wrapSplitCharacter)!==-1}function O(G,ut,at){var dt=ut.gdColumnsOriginalOrder;ut.gdColumns.sort(function(gt,wt){return at[dt.indexOf(gt)]-at[dt.indexOf(wt)]}),ut.columnorder=at,G.emit("plotly_restyle")}function N(G,ut,at){if(i.isArrayOrTypedArray(G)){var dt=G[Math.min(ut,G.length-1)];return i.isArrayOrTypedArray(dt)?dt[Math.min(at,dt.length-1)]:dt}else return G}function z(G,ut,at){G.transition().ease(x.releaseTransitionEase).duration(x.releaseTransitionDuration).attr("transform",e(ut.x,at))}function F(G){return G.type==="cells"}function I(G){return G.type==="header"}function j(G){var ut=G.rowBlocks.length?G.rowBlocks[0].auxiliaryBlocks:[];return ut.reduce(function(at,dt){return at+Z(dt,1/0)},0)}function V(G,ut,at){for(var dt=[],gt=0,wt=0;wt<G.length;wt++){for(var kt=G[wt],Ot=kt.rows,bt=0,_t=0;_t<Ot.length;_t++)bt+=Ot[_t].rowHeight;kt.allRowsHeight=bt;var mt=gt+bt,Pt=ut,Rt=Pt+at;Pt<mt&&Rt>gt&&dt.push(wt),gt+=bt}return dt}function W(G,ut,at){var dt=k(ut)[0];if(dt!==void 0){var gt=dt.rowBlocks,wt=dt.calcdata,kt=it(gt,gt.length),Ot=dt.calcdata.groupHeight-j(dt),bt=wt.scrollY=Math.max(0,Math.min(kt-Ot,wt.scrollY)),_t=V(gt,bt,Ot);_t.length===1&&(_t[0]===gt.length-1?_t.unshift(_t[0]-1):_t.push(_t[0]+1)),_t[0]%2&&_t.reverse(),ut.each(function(mt,Pt){mt.page=_t[Pt],mt.scrollY=bt}),ut.attr("transform",function(mt){var Pt=it(mt.rowBlocks,mt.page)-mt.scrollY;return e(0,Pt)}),G&&(et(G,at,ut,_t,dt.prevPages,dt,0),et(G,at,ut,_t,dt.prevPages,dt,1),a(at,G))}}function K(G,ut,at,dt){return function(gt){var wt=gt.calcdata?gt.calcdata:gt,kt=ut.filter(function(mt){return wt.key===mt.key}),Ot=at||wt.scrollbarState.dragMultiplier,bt=wt.scrollY;wt.scrollY=dt===void 0?wt.scrollY+Ot*E.event.dy:dt;var _t=kt.selectAll("."+x.cn.yColumn).selectAll("."+x.cn.columnBlock).filter(F);return W(G,_t,kt),wt.scrollY===bt}}function et(G,ut,at,dt,gt,wt,kt){var Ot=dt[kt]!==gt[kt];Ot&&(clearTimeout(wt.currentRepaint[kt]),wt.currentRepaint[kt]=setTimeout(function(){var bt=at.filter(function(_t,mt){return mt===kt&&dt[mt]!==gt[mt]});c(G,ut,bt,at),gt[kt]=dt[kt]}))}function lt(G,ut,at,dt){return function(){var gt=E.select(ut.parentNode);gt.each(function(wt){var kt=wt.fragments;gt.selectAll("tspan.line").each(function(Dt,Xt){kt[Xt].width=this.getComputedTextLength()});var Ot=kt[kt.length-1].width,bt=kt.slice(0,-1),_t=[],mt,Pt,Rt=0,Ht=wt.column.columnWidth-2*x.cellPad;for(wt.value="";bt.length;)mt=bt.shift(),Pt=mt.width+Ot,Rt+Pt>Ht&&(wt.value+=_t.join(x.wrapSpacer)+x.lineBreaker,_t=[],Rt=0),_t.push(mt.text),Rt+=Pt;Rt&&(wt.value+=_t.join(x.wrapSpacer)),wt.wrapped=!0}),gt.selectAll("tspan.line").remove(),L(gt.select("."+x.cn.cellText),at,G,dt),E.select(ut.parentNode.parentNode).call(J)}}function ot(G,ut,at,dt,gt){return function(){if(!gt.settledY){var wt=E.select(ut.parentNode),kt=st(gt),Ot=gt.key-kt.firstRowIndex,bt=kt.rows[Ot].rowHeight,_t=gt.cellHeightMayIncrease?ut.parentNode.getBoundingClientRect().height+2*x.cellPad:bt,mt=Math.max(_t,bt),Pt=mt-kt.rows[Ot].rowHeight;Pt&&(kt.rows[Ot].rowHeight=mt,G.selectAll("."+x.cn.columnCell).call(J),W(null,G.filter(F),0),a(at,dt,!0)),wt.attr("transform",function(){var Rt=this,Ht=Rt.parentNode,Dt=Ht.getBoundingClientRect(),Xt=E.select(Rt.parentNode).select("."+x.cn.cellRect).node().getBoundingClientRect(),se=Rt.transform.baseVal.consolidate(),Yt=Xt.top-Dt.top+(se?se.matrix.f:x.cellPad);return e(q(gt,E.select(Rt.parentNode).select("."+x.cn.cellTextHolder).node().getBoundingClientRect().width),Yt)}),gt.settledY=!0}}}function q(G,ut){switch(G.align){case"left":return x.cellPad;case"right":return G.column.columnWidth-(ut||0)-x.cellPad;case"center":return(G.column.columnWidth-(ut||0))/2;default:return x.cellPad}}function J(G){G.attr("transform",function(ut){var at=ut.rowBlocks[0].auxiliaryBlocks.reduce(function(kt,Ot){return kt+Z(Ot,1/0)},0),dt=st(ut),gt=Z(dt,ut.key),wt=gt+at;return e(0,wt)}).selectAll("."+x.cn.cellRect).attr("height",function(ut){return Q(st(ut),ut.key).rowHeight})}function it(G,ut){for(var at=0,dt=ut-1;dt>=0;dt--)at+=tt(G[dt]);return at}function Z(G,ut){for(var at=0,dt=0;dt<G.rows.length&&G.rows[dt].rowIndex<ut;dt++)at+=G.rows[dt].rowHeight;return at}function tt(G){var ut=G.allRowsHeight;if(ut!==void 0)return ut;for(var at=0,dt=0;dt<G.rows.length;dt++)at+=G.rows[dt].rowHeight;return G.allRowsHeight=at,at}function st(G){return G.rowBlocks[G.page]}function Q(G,ut){return G.rows[ut-G.firstRowIndex]}},40516:function(X,B,t){var x=t(21776).Ks,E=t(21776).Gw,i=t(49084),M=t(86968).u,m=t(74996),d=t(424),v=t(32984),r=t(92880).extendFlat,e=t(98192).c;X.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:d.marker.colors,pattern:e,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:d.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},m.textfont,{}),editType:"calc"},text:m.text,textinfo:d.textinfo,texttemplate:E({editType:"plot"},{keys:v.eventDataKeys.concat(["label","value"])}),hovertext:m.hovertext,hoverinfo:d.hoverinfo,hovertemplate:x({},{keys:v.eventDataKeys}),textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:r({},m.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:m.sort,root:d.root,domain:M({name:"treemap",trace:!0,editType:"calc"})}},79516:function(X,B,t){var x=t(7316);B.name="treemap",B.plot=function(E,i,M,m){x.plotBasePlot(B.name,E,i,M,m)},B.clean=function(E,i,M,m){x.cleanBasePlot(B.name,E,i,M,m)}},97840:function(X,B,t){var x=t(3776);B.r=function(E,i){return x.calc(E,i)},B.q=function(E){return x._runCrossTraceCalc("treemap",E)}},32984:function(X){X.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(X,B,t){var x=t(3400),E=t(40516),i=t(76308),M=t(86968).Q,m=t(31508).handleText,d=t(78048).TEXTPAD,v=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,s=r.handleDefaults;X.exports=function(n,l,o,h){function b(u,g){return x.coerce(n,l,E,u,g)}var f=b("labels"),k=b("parents");if(!f||!f.length||!k||!k.length){l.visible=!1;return}var a=b("values");a&&a.length?b("branchvalues"):b("count"),b("level"),b("maxdepth");var c=b("tiling.packing");c==="squarify"&&b("tiling.squarifyratio"),b("tiling.flip"),b("tiling.pad");var p=b("text");b("texttemplate"),l.texttemplate||b("textinfo",x.isArrayOrTypedArray(p)?"text+label":"label"),b("hovertext"),b("hovertemplate");var w=b("pathbar.visible"),S="auto";m(n,l,h,b,S,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),b("textposition");var _=l.textposition.indexOf("bottom")!==-1;v(n,l,h,b);var T=l._hasColorscale=e(n,"marker","colors")||(n.marker||{}).coloraxis;T?s(n,l,h,b,{prefix:"marker.",cLetter:"c"}):b("marker.depthfade",!(l.marker.colors||[]).length);var P=l.textfont.size*2;b("marker.pad.t",_?P/4:P),b("marker.pad.l",P/4),b("marker.pad.r",P/4),b("marker.pad.b",_?P:P/4),b("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:i.contrast(h.paper_bgcolor)}}},w&&(b("pathbar.thickness",l.pathbar.textfont.size+2*d),b("pathbar.side"),b("pathbar.edgeshape")),b("sort"),b("root.color"),M(l,h,b),l._length=null}},95808:function(X,B,t){var x=t(33428),E=t(78176),i=t(82744),M=i.clearMinTextSize,m=t(60100).resizeText,d=t(52960);X.exports=function(v,r,e,s,n){var l=n.type,o=n.drawDescendants,h=v._fullLayout,b=h["_"+l+"layer"],f,k,a=!e;if(M(l,h),f=b.selectAll("g.trace."+l).data(r,function(p){return p[0].trace.uid}),f.enter().append("g").classed("trace",!0).classed(l,!0),f.order(),!h.uniformtext.mode&&E.hasTransition(e)){s&&(k=s());var c=x.transition().duration(e.duration).ease(e.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()});c.each(function(){b.selectAll("g.trace").each(function(p){d(v,p,this,e,o)})})}else f.each(function(p){d(v,p,this,e,o)}),h.uniformtext.mode&&m(v,b.selectAll(".trace"),l);a&&f.exit().remove()}},27336:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(72736),m=t(13832),d=t(66192).styleOne,v=t(32984),r=t(78176),e=t(45716),s=!0;X.exports=function(n,l,o,h,b){var f=b.barDifY,k=b.width,a=b.height,c=b.viewX,p=b.viewY,w=b.pathSlice,S=b.toMoveInsideSlice,_=b.strTransform,T=b.hasTransition,P=b.handleSlicesExit,u=b.makeUpdateSliceInterpolator,g=b.makeUpdateTextInterpolator,L={},A=n._context.staticPlot,R=n._fullLayout,O=l[0],N=O.trace,z=O.hierarchy,F=k/N._entryDepth,I=r.listPath(o.data,"id"),j=m(z.copy(),[k,a],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();j=j.filter(function(W){var K=I.indexOf(W.data.id);return K===-1?!1:(W.x0=F*K,W.x1=F*(K+1),W.y0=f,W.y1=f+a,W.onPathbar=!0,!0)}),j.reverse(),h=h.data(j,r.getPtId),h.enter().append("g").classed("pathbar",!0),P(h,s,L,[k,a],w),h.order();var V=h;T&&(V=V.transition().each("end",function(){var W=x.select(this);r.setSliceCursor(W,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(W){W._x0=c(W.x0),W._x1=c(W.x1),W._y0=p(W.y0),W._y1=p(W.y1),W._hoverX=c(W.x1-Math.min(k,a)/2),W._hoverY=p(W.y1-a/2);var K=x.select(this),et=E.ensureSingle(K,"path","surface",function(J){J.style("pointer-events",A?"none":"all")});T?et.transition().attrTween("d",function(J){var it=u(J,s,L,[k,a]);return function(Z){return w(it(Z))}}):et.attr("d",w),K.call(e,o,n,l,{styleOne:d,eventDataKeys:v.eventDataKeys,transitionTime:v.CLICK_TRANSITION_TIME,transitionEasing:v.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),et.call(d,W,N,n,{hovered:!1}),W._text=(r.getPtLabel(W)||"").split("<br>").join(" ")||"";var lt=E.ensureSingle(K,"g","slicetext"),ot=E.ensureSingle(lt,"text","",function(J){J.attr("data-notex",1)}),q=E.ensureUniformFontSize(n,r.determineTextFont(N,W,R.font,{onPathbar:!0}));ot.text(W._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,q).call(M.convertToTspans,n),W.textBB=i.bBox(ot.node()),W.transform=S(W,{fontSize:q.size,onPathbar:!0}),W.transform.fontSize=q.size,T?ot.transition().attrTween("transform",function(J){var it=g(J,s,L,[k,a]);return function(Z){return _(it(Z))}}):ot.attr("transform",_(W))})}},76477:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(72736),m=t(13832),d=t(66192).styleOne,v=t(32984),r=t(78176),e=t(45716),s=t(96488).formatSliceLabel,n=!1;X.exports=function(l,o,h,b,f){var k=f.width,a=f.height,c=f.viewX,p=f.viewY,w=f.pathSlice,S=f.toMoveInsideSlice,_=f.strTransform,T=f.hasTransition,P=f.handleSlicesExit,u=f.makeUpdateSliceInterpolator,g=f.makeUpdateTextInterpolator,L=f.prevEntry,A={},R=l._context.staticPlot,O=l._fullLayout,N=o[0],z=N.trace,F=z.textposition.indexOf("left")!==-1,I=z.textposition.indexOf("right")!==-1,j=z.textposition.indexOf("bottom")!==-1,V=!j&&!z.marker.pad.t||j&&!z.marker.pad.b,W=m(h,[k,a],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}),K=W.descendants(),et=1/0,lt=-1/0;K.forEach(function(Z){var tt=Z.depth;tt>=z._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(et=Math.min(et,tt),lt=Math.max(lt,tt))}),b=b.data(K,r.getPtId),z._maxVisibleLayers=isFinite(lt)?lt-et+1:0,b.enter().append("g").classed("slice",!0),P(b,n,A,[k,a],w),b.order();var ot=null;if(T&&L){var q=r.getPtId(L);b.each(function(Z){ot===null&&r.getPtId(Z)===q&&(ot={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var J=function(){return ot||{x0:0,x1:k,y0:0,y1:a}},it=b;return T&&(it=it.transition().each("end",function(){var Z=x.select(this);r.setSliceCursor(Z,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),it.each(function(Z){var tt=r.isHeader(Z,z);Z._x0=c(Z.x0),Z._x1=c(Z.x1),Z._y0=p(Z.y0),Z._y1=p(Z.y1),Z._hoverX=c(Z.x1-z.marker.pad.r),Z._hoverY=p(j?Z.y1-z.marker.pad.b/2:Z.y0+z.marker.pad.t/2);var st=x.select(this),Q=E.ensureSingle(st,"path","surface",function(wt){wt.style("pointer-events",R?"none":"all")});T?Q.transition().attrTween("d",function(wt){var kt=u(wt,n,J(),[k,a]);return function(Ot){return w(kt(Ot))}}):Q.attr("d",w),st.call(e,h,l,o,{styleOne:d,eventDataKeys:v.eventDataKeys,transitionTime:v.CLICK_TRANSITION_TIME,transitionEasing:v.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{isTransitioning:l._transitioning}),Q.call(d,Z,z,l,{hovered:!1}),Z.x0===Z.x1||Z.y0===Z.y1?Z._text="":tt?Z._text=V?"":r.getPtLabel(Z)||"":Z._text=s(Z,h,z,o,O)||"";var G=E.ensureSingle(st,"g","slicetext"),ut=E.ensureSingle(G,"text","",function(wt){wt.attr("data-notex",1)}),at=E.ensureUniformFontSize(l,r.determineTextFont(z,Z,O.font)),dt=Z._text||" ",gt=tt&&dt.indexOf("<br>")===-1;ut.text(dt).classed("slicetext",!0).attr("text-anchor",I?"end":F||gt?"start":"middle").call(i.font,at).call(M.convertToTspans,l),Z.textBB=i.bBox(ut.node()),Z.transform=S(Z,{fontSize:at.size,isHeader:tt}),Z.transform.fontSize=at.size,T?ut.transition().attrTween("transform",function(wt){var kt=g(wt,n,J(),[k,a]);return function(Ot){return _(kt(Ot))}}):ut.attr("transform",_(Z))}),ot}},83024:function(X){X.exports=function B(t,x,E){var i;E.swapXY&&(i=t.x0,t.x0=t.y0,t.y0=i,i=t.x1,t.x1=t.y1,t.y1=i),E.flipX&&(i=t.x0,t.x0=x[0]-t.x1,t.x1=x[0]-i),E.flipY&&(i=t.y0,t.y0=x[1]-t.y1,t.y1=x[1]-i);var M=t.children;if(M)for(var m=0;m<M.length;m++)B(M[m],x,E)}},31991:function(X,B,t){X.exports={moduleType:"trace",name:"treemap",basePlotModule:t(79516),categories:[],animatable:!0,attributes:t(40516),layoutAttributes:t(45392),supplyDefaults:t(34092),supplyLayoutDefaults:t(77480),calc:t(97840).r,crossTraceCalc:t(97840).q,plot:t(53264),style:t(66192).style,colorbar:t(5528),meta:{}}},45392:function(X){X.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(X,B,t){var x=t(3400),E=t(45392);X.exports=function(i,M){function m(d,v){return x.coerce(i,M,E,d,v)}m("treemapcolorway",M.colorway),m("extendtreemapcolors")}},13832:function(X,B,t){var x=t(74148),E=t(83024);X.exports=function(M,m,d){var v=d.flipX,r=d.flipY,e=d.packing==="dice-slice",s=d.pad[r?"bottom":"top"],n=d.pad[v?"right":"left"],l=d.pad[v?"left":"right"],o=d.pad[r?"top":"bottom"],h;e&&(h=n,n=s,s=h,h=l,l=o,o=h);var b=x.treemap().tile(i(d.packing,d.squarifyratio)).paddingInner(d.pad.inner).paddingLeft(n).paddingRight(l).paddingTop(s).paddingBottom(o).size(e?[m[1],m[0]]:m)(M);return(e||v||r)&&E(b,m,{swapXY:e,flipX:v,flipY:r}),b};function i(M,m){switch(M){case"squarify":return x.treemapSquarify.ratio(m);case"binary":return x.treemapBinary;case"dice":return x.treemapDice;case"slice":return x.treemapSlice;default:return x.treemapSliceDice}}},53264:function(X,B,t){var x=t(95808),E=t(76477);X.exports=function(i,M,m,d){return x(i,M,m,d,{type:"treemap",drawDescendants:E})}},52960:function(X,B,t){var x=t(33428),E=t(67756).qy,i=t(78176),M=t(3400),m=t(78048).TEXTPAD,d=t(98184),v=d.toMoveInsideBar,r=t(82744),e=r.recordMinTextSize,s=t(32984),n=t(27336);function l(o){return i.isHierarchyRoot(o)?"":i.getPtId(o)}X.exports=function(o,h,b,f,k){var a=o._fullLayout,c=h[0],p=c.trace,w=p.type,S=w==="icicle",_=c.hierarchy,T=i.findEntryWithLevel(_,p.level),P=x.select(b),u=P.selectAll("g.pathbar"),g=P.selectAll("g.slice");if(!T){u.remove(),g.remove();return}var L=i.isHierarchyRoot(T),A=!a.uniformtext.mode&&i.hasTransition(f),R=i.getMaxDepth(p),O=function(Et){return Et.data.depth-T.data.depth<R},N=a._size,z=p.domain,F=N.w*(z.x[1]-z.x[0]),I=N.h*(z.y[1]-z.y[0]),j=F,V=p.pathbar.thickness,W=p.marker.line.width+s.gapWithPathbar,K=p.pathbar.visible?p.pathbar.side.indexOf("bottom")>-1?I+W:-(V+W):0,et={x0:j,x1:j,y0:K,y1:K+V},lt=function(Et,Vt,te){var Jt=p.tiling.pad,Ut=function(Ct){return Ct-Jt<=Vt.x0},It=function(Ct){return Ct+Jt>=Vt.x1},pt=function(Ct){return Ct-Jt<=Vt.y0},xt=function(Ct){return Ct+Jt>=Vt.y1};return Et.x0===Vt.x0&&Et.x1===Vt.x1&&Et.y0===Vt.y0&&Et.y1===Vt.y1?{x0:Et.x0,x1:Et.x1,y0:Et.y0,y1:Et.y1}:{x0:Ut(Et.x0-Jt)?0:It(Et.x0-Jt)?te[0]:Et.x0,x1:Ut(Et.x1+Jt)?0:It(Et.x1+Jt)?te[0]:Et.x1,y0:pt(Et.y0-Jt)?0:xt(Et.y0-Jt)?te[1]:Et.y0,y1:pt(Et.y1+Jt)?0:xt(Et.y1+Jt)?te[1]:Et.y1}},ot=null,q={},J={},it=null,Z=function(Et,Vt){return Vt?q[l(Et)]:J[l(Et)]},tt=function(Et,Vt,te,Jt){if(Vt)return q[l(_)]||et;var Ut=J[p.level]||te;return O(Et)?lt(Et,Ut,Jt):{}};c.hasMultipleRoots&&L&&R++,p._maxDepth=R,p._backgroundColor=a.paper_bgcolor,p._entryDepth=T.data.depth,p._atRootLevel=L;var st=-F/2+N.l+N.w*(z.x[1]+z.x[0])/2,Q=-I/2+N.t+N.h*(1-(z.y[1]+z.y[0])/2),G=function(Et){return st+Et},ut=function(Et){return Q+Et},at=ut(0),dt=G(0),gt=function(Et){return dt+Et},wt=function(Et){return at+Et};function kt(Et,Vt){return Et+","+Vt}var Ot=gt(0),bt=function(Et){Et.x=Math.max(Ot,Et.x)},_t=p.pathbar.edgeshape,mt=function(Et){var Vt=gt(Math.max(Math.min(Et.x0,Et.x0),0)),te=gt(Math.min(Math.max(Et.x1,Et.x1),j)),Jt=wt(Et.y0),Ut=wt(Et.y1),It=V/2,pt={},xt={};pt.x=Vt,xt.x=te,pt.y=xt.y=(Jt+Ut)/2;var Ct={x:Vt,y:Jt},At={x:te,y:Jt},Ft={x:te,y:Ut},Wt={x:Vt,y:Ut};return _t===">"?(Ct.x-=It,At.x-=It,Ft.x-=It,Wt.x-=It):_t==="/"?(Ft.x-=It,Wt.x-=It,pt.x-=It/2,xt.x-=It/2):_t==="\\"?(Ct.x-=It,At.x-=It,pt.x-=It/2,xt.x-=It/2):_t==="<"&&(pt.x-=It,xt.x-=It),bt(Ct),bt(Wt),bt(pt),bt(At),bt(Ft),bt(xt),"M"+kt(Ct.x,Ct.y)+"L"+kt(At.x,At.y)+"L"+kt(xt.x,xt.y)+"L"+kt(Ft.x,Ft.y)+"L"+kt(Wt.x,Wt.y)+"L"+kt(pt.x,pt.y)+"Z"},Pt=p[S?"tiling":"marker"].pad,Rt=function(Et){return p.textposition.indexOf(Et)!==-1},Ht=Rt("top"),Dt=Rt("left"),Xt=Rt("right"),se=Rt("bottom"),Yt=function(Et){var Vt=G(Et.x0),te=G(Et.x1),Jt=ut(Et.y0),Ut=ut(Et.y1),It=te-Vt,pt=Ut-Jt;if(!It||!pt)return"";var xt=p.marker.cornerradius||0,Ct=Math.min(xt,It/2,pt/2);Ct&&Et.data&&Et.data.data&&Et.data.data.label&&(Ht&&(Ct=Math.min(Ct,Pt.t)),Dt&&(Ct=Math.min(Ct,Pt.l)),Xt&&(Ct=Math.min(Ct,Pt.r)),se&&(Ct=Math.min(Ct,Pt.b)));var At=function(Ft,Wt){return Ct?"a"+kt(Ct,Ct)+" 0 0 1 "+kt(Ft,Wt):""};return"M"+kt(Vt,Jt+Ct)+At(Ct,-Ct)+"L"+kt(te-Ct,Jt)+At(Ct,Ct)+"L"+kt(te,Ut-Ct)+At(-Ct,Ct)+"L"+kt(Vt+Ct,Ut)+At(-Ct,-Ct)+"Z"},ue=function(Et,Vt){var te=Et.x0,Jt=Et.x1,Ut=Et.y0,It=Et.y1,pt=Et.textBB,xt=Ht||Vt.isHeader&&!se,Ct=xt?"start":se?"end":"middle",At=Rt("right"),Ft=Rt("left")||Vt.onPathbar,Wt=Ft?-1:At?1:0;if(Vt.isHeader){if(te+=(S?Pt:Pt.l)-m,Jt-=(S?Pt:Pt.r)-m,te>=Jt){var Qt=(te+Jt)/2;te=Qt,Jt=Qt}var he;se?(he=It-(S?Pt:Pt.b),Ut<he&&he<It&&(Ut=he)):(he=Ut+(S?Pt:Pt.t),Ut<he&&he<It&&(It=he))}var ve=v(te,Jt,Ut,It,pt,{isHorizontal:!1,constrained:!0,angle:0,anchor:Ct,leftToRight:Wt});return ve.fontSize=Vt.fontSize,ve.targetX=G(ve.targetX),ve.targetY=ut(ve.targetY),isNaN(ve.targetX)||isNaN(ve.targetY)?{}:(te!==Jt&&Ut!==It&&e(p.type,ve,a),{scale:ve.scale,rotate:ve.rotate,textX:ve.textX,textY:ve.textY,anchorX:ve.anchorX,anchorY:ve.anchorY,targetX:ve.targetX,targetY:ve.targetY})},ie=function(Et,Vt){for(var te,Jt=0,Ut=Et;!te&&Jt<R;)Jt++,Ut=Ut.parent,Ut?te=Z(Ut,Vt):Jt=R;return te||{}},fe=function(Et,Vt,te,Jt){var Ut=Z(Et,Vt),It;if(Vt)It=et;else{var pt=Z(T,Vt);pt?It=lt(Et,pt,Jt):It={}}return E(Ut,It)},ce=function(Et,Vt,te,Jt,Ut){var It=Z(Et,Vt),pt;if(It)pt=It;else if(Vt)pt=et;else if(ot)if(Et.parent){var xt=it||te;xt&&!Vt?pt=lt(Et,xt,Jt):(pt={},M.extendFlat(pt,ie(Et,Vt)))}else pt=M.extendFlat({},Et),S&&(Ut.orientation==="h"?Ut.flipX?pt.x0=Et.x1:pt.x1=0:Ut.flipY?pt.y0=Et.y1:pt.y1=0);else pt={};return E(pt,{x0:Et.x0,x1:Et.x1,y0:Et.y0,y1:Et.y1})},ye=function(Et,Vt,te,Jt){var Ut=Z(Et,Vt),It={},pt=tt(Et,Vt,te,Jt);M.extendFlat(It,{transform:ue({x0:pt.x0,x1:pt.x1,y0:pt.y0,y1:pt.y1,textBB:Et.textBB,_text:Et._text},{isHeader:i.isHeader(Et,p)})}),Ut?It=Ut:Et.parent&&M.extendFlat(It,ie(Et,Vt));var xt=Et.transform;return Et.x0!==Et.x1&&Et.y0!==Et.y1&&e(p.type,xt,a),E(It,{transform:{scale:xt.scale,rotate:xt.rotate,textX:xt.textX,textY:xt.textY,anchorX:xt.anchorX,anchorY:xt.anchorY,targetX:xt.targetX,targetY:xt.targetY}})},de=function(Et,Vt,te,Jt,Ut){var It=Jt[0],pt=Jt[1];A?Et.exit().transition().each(function(){var xt=x.select(this),Ct=xt.select("path.surface");Ct.transition().attrTween("d",function(Ft){var Wt=fe(Ft,Vt,te,[It,pt]);return function(Qt){return Ut(Wt(Qt))}});var At=xt.select("g.slicetext");At.attr("opacity",0)}).remove():Et.exit().remove()},Te=function(Et){var Vt=Et.transform;return Et.x0!==Et.x1&&Et.y0!==Et.y1&&e(p.type,Vt,a),M.getTextTransform({textX:Vt.textX,textY:Vt.textY,anchorX:Vt.anchorX,anchorY:Vt.anchorY,targetX:Vt.targetX,targetY:Vt.targetY,scale:Vt.scale,rotate:Vt.rotate})};A&&(u.each(function(Et){q[l(Et)]={x0:Et.x0,x1:Et.x1,y0:Et.y0,y1:Et.y1},Et.transform&&(q[l(Et)].transform={textX:Et.transform.textX,textY:Et.transform.textY,anchorX:Et.transform.anchorX,anchorY:Et.transform.anchorY,targetX:Et.transform.targetX,targetY:Et.transform.targetY,scale:Et.transform.scale,rotate:Et.transform.rotate})}),g.each(function(Et){J[l(Et)]={x0:Et.x0,x1:Et.x1,y0:Et.y0,y1:Et.y1},Et.transform&&(J[l(Et)].transform={textX:Et.transform.textX,textY:Et.transform.textY,anchorX:Et.transform.anchorX,anchorY:Et.transform.anchorY,targetX:Et.transform.targetX,targetY:Et.transform.targetY,scale:Et.transform.scale,rotate:Et.transform.rotate}),!ot&&i.isEntry(Et)&&(ot=Et)})),it=k(o,h,T,g,{width:F,height:I,viewX:G,viewY:ut,pathSlice:Yt,toMoveInsideSlice:ue,prevEntry:ot,makeUpdateSliceInterpolator:ce,makeUpdateTextInterpolator:ye,handleSlicesExit:de,hasTransition:A,strTransform:Te}),p.pathbar.visible?n(o,h,T,u,{barDifY:K,width:j,height:V,viewX:gt,viewY:wt,pathSlice:mt,toMoveInsideSlice:ue,makeUpdateSliceInterpolator:ce,makeUpdateTextInterpolator:ye,handleSlicesExit:de,hasTransition:A,strTransform:Te}):u.remove()}},66192:function(X,B,t){var x=t(33428),E=t(76308),i=t(3400),M=t(78176),m=t(82744).resizeText,d=t(60404);function v(e){var s=e._fullLayout._treemaplayer.selectAll(".trace");m(e,s,"treemap"),s.each(function(n){var l=x.select(this),o=n[0],h=o.trace;l.style("opacity",h.opacity),l.selectAll("path.surface").each(function(b){x.select(this).call(r,b,h,e,{hovered:!1})})})}function r(e,s,n,l,o){var h=(o||{}).hovered,b=s.data.data,f=b.i,k,a,c=b.color,p=M.isHierarchyRoot(s),w=1;if(h)k=n._hovered.marker.line.color,a=n._hovered.marker.line.width;else if(p&&c===n.root.color)w=100,k="rgba(0,0,0,0)",a=0;else if(k=i.castOption(n,f,"marker.line.color")||E.defaultLine,a=i.castOption(n,f,"marker.line.width")||0,!n._hasColorscale&&!s.onPathbar){var S=n.marker.depthfade;if(S){var _=E.combine(E.addOpacity(n._backgroundColor,.75),c),T;if(S===!0){var P=M.getMaxDepth(n);isFinite(P)?M.isLeaf(s)?T=0:T=n._maxVisibleLayers-(s.data.depth-n._entryDepth):T=s.data.height+1}else T=s.data.depth-n._entryDepth,n._atRootLevel||T++;if(T>0)for(var u=0;u<T;u++){var g=.5*u/T;c=E.combine(E.addOpacity(_,g),c)}}}e.call(d,s,n,l,c).style("stroke-width",a).call(E.stroke,k).style("opacity",w)}X.exports={style:v,styleOne:r}},13988:function(X,B,t){var x=t(63188),E=t(92880).extendFlat,i=t(29736).axisHoverFormat;X.exports={y:x.y,x:x.x,x0:x.x0,y0:x.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:E({},x.name,{}),orientation:E({},x.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:x.fillcolor,points:E({},x.boxpoints,{}),jitter:E({},x.jitter,{}),pointpos:E({},x.pointpos,{}),width:E({},x.width,{}),marker:x.marker,text:x.text,hovertext:x.hovertext,hovertemplate:x.hovertemplate,quartilemethod:x.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,selected:x.selected,unselected:x.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(X,B,t){var x=t(3400),E=t(54460),i=t(62555),M=t(63800),m=t(39032).BADNUM;X.exports=function(e,s){var n=i(e,s);if(n[0].t.empty)return n;for(var l=e._fullLayout,o=E.getFromId(e,s[s.orientation==="h"?"xaxis":"yaxis"]),h=1/0,b=-1/0,f=0,k=0,a=0;a<n.length;a++){var c=n[a],p=c.pts.map(M.extractVal),w=c.bandwidth=v(s,c,p),S=c.span=r(s,c,o,w);if(c.min===c.max&&w===0)S=c.span=[c.min,c.max],c.density=[{v:1,t:S[0]}],c.bandwidth=w,f=Math.max(f,1);else{var _=S[1]-S[0],T=Math.ceil(_/(w/3)),P=_/T;if(!isFinite(P)||!isFinite(T))return x.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var u=M.makeKDE(c,s,p);c.density=new Array(T);for(var g=0,L=S[0];L<S[1]+P/2;g++,L+=P){var A=u(L);c.density[g]={v:A,t:L},f=Math.max(f,A)}}k=Math.max(k,p.length),h=Math.min(h,S[0]),b=Math.max(b,S[1])}var R=E.findExtremes(o,[h,b],{padded:!0});if(s._extremes[o._id]=R,s.width)n[0].t.maxKDE=f;else{var O=l._violinScaleGroupStats,N=s.scalegroup,z=O[N];z?(z.maxKDE=Math.max(z.maxKDE,f),z.maxCount=Math.max(z.maxCount,k)):O[N]={maxKDE:f,maxCount:k}}return n[0].t.labels.kde=x._(e,"kde:"),n};function d(e,s,n){var l=Math.min(s,n/1.349);return 1.059*l*Math.pow(e,-.2)}function v(e,s,n){var l=s.max-s.min;if(!l)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,l/1e4);var o=n.length,h=x.stdev(n,o-1,s.mean);return Math.max(d(o,h,s.q3-s.q1),l/100)}function r(e,s,n,l){var o=e.spanmode,h=e.span||[],b=[s.min,s.max],f=[s.min-2*l,s.max+2*l],k;function a(p){var w=h[p],S=n.type==="multicategory"?n.r2c(w):n.d2c(w,0,e[s.valLetter+"calendar"]);return S===m?f[p]:S}o==="soft"?k=f:o==="hard"?k=b:k=[a(0),a(1)];var c={type:"linear",range:k};return E.setConvert(c),c.cleanRange(),k}},14348:function(X,B,t){var x=t(96404).setPositionOffset,E=["v","h"];X.exports=function(i,M){for(var m=i.calcdata,d=M.xaxis,v=M.yaxis,r=0;r<E.length;r++){for(var e=E[r],s=e==="h"?v:d,n=[],l=0;l<m.length;l++){var o=m[l],h=o[0].t,b=o[0].trace;b.visible===!0&&b.type==="violin"&&!h.empty&&b.orientation===e&&b.xaxis===d._id&&b.yaxis===v._id&&n.push(l)}x("violin",i,n,s)}}},36240:function(X,B,t){var x=t(3400),E=t(76308),i=t(90624),M=t(13988);X.exports=function(m,d,v,r){function e(P,u){return x.coerce(m,d,M,P,u)}function s(P,u){return x.coerce2(m,d,M,P,u)}if(i.handleSampleDefaults(m,d,e,r),d.visible!==!1){e("bandwidth"),e("side");var n=e("width");n||(e("scalegroup",d.name),e("scalemode"));var l=e("span"),o;Array.isArray(l)&&(o="manual"),e("spanmode",o);var h=e("line.color",(m.marker||{}).color||v),b=e("line.width"),f=e("fillcolor",E.addOpacity(d.line.color,.5));i.handlePointsDefaults(m,d,e,{prefix:""});var k=s("box.width"),a=s("box.fillcolor",f),c=s("box.line.color",h),p=s("box.line.width",b),w=e("box.visible",!!(k||a||c||p));w||(d.box={visible:!1});var S=s("meanline.color",h),_=s("meanline.width",b),T=e("meanline.visible",!!(S||_));T||(d.meanline={visible:!1}),e("quartilemethod")}}},63800:function(X,B,t){var x=t(3400),E={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};B.makeKDE=function(i,M,m){var d=m.length,v=E.gaussian,r=i.bandwidth,e=1/(d*r);return function(s){for(var n=0,l=0;l<d;l++)n+=v((s-m[l])/r);return e*n}},B.getPositionOnKdePath=function(i,M,m){var d,v;M.orientation==="h"?(d="y",v="x"):(d="x",v="y");var r=x.findPointOnPath(i.path,m,v,{pathLength:i.pathLength}),e=i.posCenterPx,s=r[d],n=M.side==="both"?2*e-s:e;return[s,n]},B.getKdeValue=function(i,M,m){var d=i.pts.map(B.extractVal),v=B.makeKDE(i,M,d);return v(m)/i.posDensityScale},B.extractVal=function(i){return i.v}},78e3:function(X,B,t){var x=t(76308),E=t(3400),i=t(54460),M=t(27576),m=t(63800);X.exports=function(d,v,r,e,s){s||(s={});var n=s.hoverLayer,l=d.cd,o=l[0].trace,h=o.hoveron,b=h.indexOf("violins")!==-1,f=h.indexOf("kde")!==-1,k=[],a,c;if(b||f){var p=M.hoverOnBoxes(d,v,r,e);if(f&&p.length>0){var w=d.xa,S=d.ya,_,T,P,u,g;o.orientation==="h"?(g=v,_="y",P=S,T="x",u=w):(g=r,_="x",P=w,T="y",u=S);var L=l[d.index];if(g>=L.span[0]&&g<=L.span[1]){var A=E.extendFlat({},d),R=u.c2p(g,!0),O=m.getKdeValue(L,o,g),N=m.getPositionOnKdePath(L,o,R),z=P._offset,F=P._length;A[_+"0"]=N[0],A[_+"1"]=N[1],A[T+"0"]=A[T+"1"]=R,A[T+"Label"]=T+": "+i.hoverLabelText(u,g,o[T+"hoverformat"])+", "+l[0].t.labels.kde+" "+O.toFixed(3);for(var I=0,j=0;j<p.length;j++)if(p[j].attr==="med"){I=j;break}A.spikeDistance=p[I].spikeDistance;var V=_+"Spike";A[V]=p[I][V],p[I].spikeDistance=void 0,p[I][V]=void 0,A.hovertemplate=!1,k.push(A),c={},c[_+"1"]=E.constrain(z+N[0],z,z+F),c[_+"2"]=E.constrain(z+N[1],z,z+F),c[T+"1"]=c[T+"2"]=u._offset+R}}b&&(k=k.concat(p))}h.indexOf("points")!==-1&&(a=M.hoverOnPoints(d,v,r));var W=n.selectAll(".violinline-"+o.uid).data(c?[0]:[]);return W.enter().append("line").classed("violinline-"+o.uid,!0).attr("stroke-width",1.5),W.exit().remove(),W.attr(c).call(x.stroke,d.color),e==="closest"?a?[a]:k:(a&&k.push(a),k)}},22869:function(X,B,t){X.exports={attributes:t(13988),layoutAttributes:t(98228),supplyDefaults:t(36240),crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(8939),calc:t(67064),crossTraceCalc:t(14348),plot:t(5140),style:t(95908),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(78e3),selectPoints:t(8264),moduleType:"trace",name:"violin",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(X,B,t){var x=t(16560),E=t(3400).extendFlat;X.exports={violinmode:E({},x.boxmode,{}),violingap:E({},x.boxgap,{}),violingroupgap:E({},x.boxgroupgap,{})}},8939:function(X,B,t){var x=t(3400),E=t(98228),i=t(68832);X.exports=function(M,m,d){function v(r,e){return x.coerce(M,m,E,r,e)}i._supply(M,m,d,v,"violin")}},5140:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(18728),m=t(52340),d=t(63800);X.exports=function(v,r,e,s){var n=v._context.staticPlot,l=v._fullLayout,o=r.xaxis,h=r.yaxis;function b(f,k){var a=m(f,{xaxis:o,yaxis:h,trace:k,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(a[0],1)}E.makeTraceGroups(s,e,"trace violins").each(function(f){var k=x.select(this),a=f[0],c=a.t,p=a.trace;if(p.visible!==!0||c.empty){k.remove();return}var w=c.bPos,S=c.bdPos,_=r[c.valLetter+"axis"],T=r[c.posLetter+"axis"],P=p.side==="both",u=P||p.side==="positive",g=P||p.side==="negative",L=k.selectAll("path.violin").data(E.identity);L.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),L.exit().remove(),L.each(function(j){var V=x.select(this),W=j.density,K=W.length,et=T.c2l(j.pos+w,!0),lt=T.l2p(et),ot;if(p.width)ot=c.maxKDE/S;else{var q=l._violinScaleGroupStats[p.scalegroup];ot=p.scalemode==="count"?q.maxKDE/S*(q.maxCount/j.pts.length):q.maxKDE/S}var J,it,Z,tt,st,Q,G;if(u){for(Q=new Array(K),tt=0;tt<K;tt++)G=Q[tt]={},G[c.posLetter]=et+W[tt].v/ot,G[c.valLetter]=_.c2l(W[tt].t,!0);J=b(Q,p)}if(g){for(Q=new Array(K),st=0,tt=K-1;st<K;st++,tt--)G=Q[st]={},G[c.posLetter]=et-W[tt].v/ot,G[c.valLetter]=_.c2l(W[tt].t,!0);it=b(Q,p)}if(P)Z=J+"L"+it.substr(1)+"Z";else{var ut=[lt,_.c2p(W[0].t)],at=[lt,_.c2p(W[K-1].t)];p.orientation==="h"&&(ut.reverse(),at.reverse()),u?Z="M"+ut+"L"+J.substr(1)+"L"+at:Z="M"+at+"L"+it.substr(1)+"L"+ut}V.attr("d",Z),j.posCenterPx=lt,j.posDensityScale=ot*S,j.path=V.node(),j.pathLength=j.path.getTotalLength()/(P?2:1)});var A=p.box,R=A.width,O=(A.line||{}).width,N,z;P?(N=S*R,z=0):u?(N=[0,S*R/2],z=O*{x:1,y:-1}[c.posLetter]):(N=[S*R/2,0],z=O*{x:-1,y:1}[c.posLetter]),M.plotBoxAndWhiskers(k,{pos:T,val:_},p,{bPos:w,bdPos:N,bPosPxOffset:z}),M.plotBoxMean(k,{pos:T,val:_},p,{bPos:w,bdPos:N,bPosPxOffset:z});var F;!p.box.visible&&p.meanline.visible&&(F=E.identity);var I=k.selectAll("path.meanline").data(F||[]);I.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),I.exit().remove(),I.each(function(j){var V=_.c2p(j.mean,!0),W=d.getPositionOnKdePath(j,p,V);x.select(this).attr("d",p.orientation==="h"?"M"+V+","+W[0]+"V"+W[1]:"M"+W[0]+","+V+"H"+W[1])}),M.plotPoints(k,{x:o,y:h},p,c)})}},95908:function(X,B,t){var x=t(33428),E=t(76308),i=t(49224).stylePoints;X.exports=function(M){var m=x.select(M).selectAll("g.trace.violins");m.style("opacity",function(d){return d[0].trace.opacity}),m.each(function(d){var v=d[0].trace,r=x.select(this),e=v.box||{},s=e.line||{},n=v.meanline||{},l=n.width;r.selectAll("path.violin").style("stroke-width",v.line.width+"px").call(E.stroke,v.line.color).call(E.fill,v.fillcolor),r.selectAll("path.box").style("stroke-width",s.width+"px").call(E.stroke,s.color).call(E.fill,e.fillcolor);var o={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};r.selectAll("path.mean").style(o).call(E.stroke,n.color),r.selectAll("path.meanline").style(o).call(E.stroke,n.color),i(r,v,M)})}},58168:function(X,B,t){var x=t(49084),E=t(50048),i=t(16716),M=t(45464),m=t(92880).extendFlat,d=t(67824).overrideAll,v=X.exports=d(m({x:E.x,y:E.y,z:E.z,value:E.value,isomin:E.isomin,isomax:E.isomax,surface:E.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:E.slices,caps:E.caps,text:E.text,hovertext:E.hovertext,xhoverformat:E.xhoverformat,yhoverformat:E.yhoverformat,zhoverformat:E.zhoverformat,valuehoverformat:E.valuehoverformat,hovertemplate:E.hovertemplate},x("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:E.colorbar,opacity:E.opacity,opacityscale:i.opacityscale,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:m({},M.hoverinfo),showlegend:m({},M.showlegend,{dflt:!1})}),"calc","nested");v.x.editType=v.y.editType=v.z.editType=v.value.editType="calc+clearAxisTypes",v.transforms=void 0},91976:function(X,B,t){var x=t(67792).gl_mesh3d,E=t(33040).parseColorScale,i=t(3400).isArrayOrTypedArray,M=t(43080),m=t(8932).extractOpts,d=t(52094),v=t(31460).findNearestOnAxis,r=t(31460).generateIsoMeshes;function e(l,o,h){this.scene=l,this.uid=h,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var s=e.prototype;s.handlePick=function(l){if(l.object===this.mesh){var o=l.data.index,h=this.data._meshX[o],b=this.data._meshY[o],f=this.data._meshZ[o],k=this.data._Ys.length,a=this.data._Zs.length,c=v(h,this.data._Xs).id,p=v(b,this.data._Ys).id,w=v(f,this.data._Zs).id,S=l.index=w+a*p+a*k*c;l.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var _=this.data.hovertext||this.data.text;return i(_)&&_[S]!==void 0?l.textLabel=_[S]:_&&(l.textLabel=_),!0}},s.update=function(l){var o=this.scene,h=o.fullSceneLayout;this.data=r(l);function b(p,w,S,_){return w.map(function(T){return p.d2l(T,0,_)*S})}var f=d(b(h.xaxis,l._meshX,o.dataScale[0],l.xcalendar),b(h.yaxis,l._meshY,o.dataScale[1],l.ycalendar),b(h.zaxis,l._meshZ,o.dataScale[2],l.zcalendar)),k=d(l._meshI,l._meshJ,l._meshK),a={positions:f,cells:k,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,opacityscale:l.opacityscale,contourEnable:l.contour.show,contourColor:M(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},c=m(l);a.vertexIntensity=l._meshIntensity,a.vertexIntensityBounds=[c.min,c.max],a.colormap=E(l),this.mesh.update(a)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(l,o){var h=l.glplot.gl,b=x({gl:h}),f=new e(l,b,o.uid);return b._trace=f,f.update(o),l.glplot.add(b),f}X.exports=n},12448:function(X,B,t){var x=t(3400),E=t(58168),i=t(70548).supplyIsoDefaults,M=t(60192).opacityscaleDefaults;X.exports=function(m,d,v,r){function e(s,n){return x.coerce(m,d,E,s,n)}i(m,d,v,r,e),M(m,d,r,e)}},67776:function(X,B,t){X.exports={attributes:t(58168),supplyDefaults:t(12448),calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(91976),moduleType:"trace",name:"volume",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(X,B,t){var x=t(20832),E=t(52904).line,i=t(45464),M=t(29736).axisHoverFormat,m=t(21776).Ks,d=t(21776).Gw,v=t(10213),r=t(92880).extendFlat,e=t(76308);function s(n){return{marker:{color:r({},x.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},x.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},x.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}X.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:x.hovertext,hovertemplate:m({},{keys:v.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:v.eventDataKeys.concat(["label"])}),text:x.text,textposition:x.textposition,insidetextanchor:x.insidetextanchor,textangle:x.textangle,textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:x.outsidetextfont,constraintext:x.constraintext,cliponaxis:x.cliponaxis,orientation:x.orientation,offset:x.offset,width:x.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:r({},E.color,{dflt:e.defaultLine}),width:r({},E.width,{editType:"plot"}),dash:E.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup}},73540:function(X,B,t){var x=t(54460),E=t(1220),i=t(3400).mergeArray,M=t(4500),m=t(39032).BADNUM;function d(r){return r==="a"||r==="absolute"}function v(r){return r==="t"||r==="total"}X.exports=function(r,e){var s=x.getFromId(r,e.xaxis||"x"),n=x.getFromId(r,e.yaxis||"y"),l,o,h,b,f,k;e.orientation==="h"?(l=s.makeCalcdata(e,"x"),h=n.makeCalcdata(e,"y"),b=E(e,n,"y",h),f=!!e.yperiodalignment,k="y"):(l=n.makeCalcdata(e,"y"),h=s.makeCalcdata(e,"x"),b=E(e,s,"x",h),f=!!e.xperiodalignment,k="x"),o=b.vals;for(var a=Math.min(o.length,l.length),c=new Array(a),p=0,w,S=!1,_=0;_<a;_++){var T=l[_]||0,P=!1;(l[_]!==m||v(e.measure[_])||d(e.measure[_]))&&_+1<a&&(l[_+1]!==m||v(e.measure[_+1])||d(e.measure[_+1]))&&(P=!0);var u=c[_]={i:_,p:o[_],s:T,rawS:T,cNext:P};d(e.measure[_])?(p=u.s,u.isSum=!0,u.dir="totals",u.s=p):v(e.measure[_])?(u.isSum=!0,u.dir="totals",u.s=p):(u.isSum=!1,u.dir=u.rawS<0?"decreasing":"increasing",w=u.s,u.s=p+w,p+=w),u.dir==="totals"&&(S=!0),f&&(c[_].orig_p=h[_],c[_][k+"End"]=b.ends[_],c[_][k+"Start"]=b.starts[_]),e.ids&&(u.id=String(e.ids[_])),u.v=(e.base||0)+p}return c.length&&(c[0].hasTotals=S),i(e.text,c,"tx"),i(e.hovertext,c,"htx"),M(c,e),c}},10213:function(X){X.exports={eventDataKeys:["initial","delta","final"]}},50152:function(X,B,t){var x=t(96376).setGroupPositions;X.exports=function(E,i){var M=E._fullLayout,m=E._fullData,d=E.calcdata,v=i.xaxis,r=i.yaxis,e=[],s=[],n=[],l,o;for(o=0;o<m.length;o++){var h=m[o];h.visible===!0&&h.xaxis===v._id&&h.yaxis===r._id&&h.type==="waterfall"&&(l=d[o],h.orientation==="h"?n.push(l):s.push(l),e.push(l))}var b={mode:M.waterfallmode,norm:M.waterfallnorm,gap:M.waterfallgap,groupgap:M.waterfallgroupgap};for(x(E,v,r,s,b),x(E,r,v,n,b),o=0;o<e.length;o++){l=e[o];for(var f=0;f<l.length;f++){var k=l[f];k.isSum===!1&&(k.s0+=f===0?0:l[f-1].s),f+1<l.length&&(l[f].nextP0=l[f+1].p0,l[f].nextS0=l[f+1].s0)}}}},24224:function(X,B,t){var x=t(3400),E=t(20011),i=t(31508).handleText,M=t(43980),m=t(31147),d=t(65776),v=t(76308),r=t(48164),e=r.INCREASING.COLOR,s=r.DECREASING.COLOR,n="#4499FF";function l(b,f,k){b(f+".marker.color",k),b(f+".marker.line.color",v.defaultLine),b(f+".marker.line.width")}function o(b,f,k,a){function c(T,P){return x.coerce(b,f,d,T,P)}var p=M(b,f,a,c);if(!p){f.visible=!1;return}m(b,f,a,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",f.x&&!f.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var w=c("textposition");i(b,f,a,c,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&(c("texttemplate"),f.texttemplate||c("textinfo")),l(c,"increasing",e),l(c,"decreasing",s),l(c,"totals",n);var S=c("connector.visible");if(S){c("connector.mode");var _=c("connector.line.width");_&&(c("connector.line.color"),c("connector.line.dash"))}}function h(b,f){var k,a;function c(w){return x.coerce(a._input,a,d,w)}if(f.waterfallmode==="group")for(var p=0;p<b.length;p++)a=b[p],k=a._input,E(k,a,f,c)}X.exports={supplyDefaults:o,crossTraceDefaults:h}},53256:function(X){X.exports=function(B,t){return B.x="xVal"in t?t.xVal:t.x,B.y="yVal"in t?t.yVal:t.y,"initial"in t&&(B.initial=t.initial),"delta"in t&&(B.delta=t.delta),"final"in t&&(B.final=t.final),t.xa&&(B.xaxis=t.xa),t.ya&&(B.yaxis=t.ya),B}},94196:function(X,B,t){var x=t(54460).hoverLabelText,E=t(76308).opacity,i=t(63400).hoverOnBars,M=t(48164),m={increasing:M.INCREASING.SYMBOL,decreasing:M.DECREASING.SYMBOL};X.exports=function(v,r,e,s,n){var l=i(v,r,e,s,n);if(!l)return;var o=l.cd,h=o[0].trace,b=h.orientation==="h",f=b?"x":"y",k=b?v.xa:v.ya;function a(L){return x(k,L,h[f+"hoverformat"])}var c=l.index,p=o[c],w=p.isSum?p.b+p.s:p.rawS;l.initial=p.b+p.s-w,l.delta=w,l.final=l.initial+l.delta;var S=a(Math.abs(l.delta));l.deltaLabel=w<0?"("+S+")":S,l.finalLabel=a(l.final),l.initialLabel=a(l.initial);var _=p.hi||h.hoverinfo,T=[];if(_&&_!=="none"&&_!=="skip"){var P=_==="all",u=_.split("+"),g=function(L){return P||u.indexOf(L)!==-1};p.isSum||(g("final")&&(b?!g("x"):!g("y"))&&T.push(l.finalLabel),g("delta")&&(w<0?T.push(l.deltaLabel+" "+m.decreasing):T.push(l.deltaLabel+" "+m.increasing)),g("initial")&&T.push("Initial: "+l.initialLabel))}return T.length&&(l.extraText=T.join("<br>")),l.color=d(h,p),[l]};function d(v,r){var e=v[r.dir].marker,s=e.color,n=e.line.color,l=e.line.width;if(E(s))return s;if(E(n)&&l)return n}},95952:function(X,B,t){X.exports={attributes:t(65776),layoutAttributes:t(91352),supplyDefaults:t(24224).supplyDefaults,crossTraceDefaults:t(24224).crossTraceDefaults,supplyLayoutDefaults:t(59464),calc:t(73540),crossTraceCalc:t(50152),plot:t(64488),style:t(12252).style,hoverPoints:t(94196),eventData:t(53256),selectPoints:t(45784),moduleType:"trace",name:"waterfall",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(X){X.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(X,B,t){var x=t(3400),E=t(91352);X.exports=function(i,M,m){var d=!1;function v(s,n){return x.coerce(i,M,E,s,n)}for(var r=0;r<m.length;r++){var e=m[r];if(e.visible&&e.type==="waterfall"){d=!0;break}}d&&(v("waterfallmode"),v("waterfallgap",.2),v("waterfallgroupgap"))}},64488:function(X,B,t){var x=t(33428),E=t(3400),i=t(43616),M=t(39032).BADNUM,m=t(98184),d=t(82744).clearMinTextSize;X.exports=function(e,s,n,l){var o=e._fullLayout;d("waterfall",o),m.plot(e,s,n,l,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),v(e,s,n,l)};function v(e,s,n,l){var o=s.xaxis,h=s.yaxis;E.makeTraceGroups(l,n,"trace bars").each(function(b){var f=x.select(this),k=b[0].trace,a=E.ensureSingle(f,"g","lines");if(!k.connector||!k.connector.visible){a.remove();return}var c=k.orientation==="h",p=k.connector.mode,w=a.selectAll("g.line").data(E.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var S=w.size();w.each(function(_,T){if(!(T!==S-1&&!_.cNext)){var P=r(_,o,h,c),u=P[0],g=P[1],L="";u[0]!==M&&g[0]!==M&&u[1]!==M&&g[1]!==M&&(p==="spanning"&&!_.isSum&&T>0&&(c?L+="M"+u[0]+","+g[1]+"V"+g[0]:L+="M"+u[1]+","+g[0]+"H"+u[0]),p!=="between"&&(_.isSum||T<S-1)&&(c?L+="M"+u[1]+","+g[0]+"V"+g[1]:L+="M"+u[0]+","+g[1]+"H"+u[1]),u[2]!==M&&g[2]!==M&&(c?L+="M"+u[1]+","+g[1]+"V"+g[2]:L+="M"+u[1]+","+g[1]+"H"+u[2])),L===""&&(L="M0,0Z"),E.ensureSingle(x.select(this),"path").attr("d",L).call(i.setClipUrl,s.layerClipId,e)}})})}function r(e,s,n,l){var o=[],h=[],b=l?s:n,f=l?n:s;return o[0]=b.c2p(e.s0,!0),h[0]=f.c2p(e.p0,!0),o[1]=b.c2p(e.s1,!0),h[1]=f.c2p(e.p1,!0),o[2]=b.c2p(e.nextS0,!0),h[2]=f.c2p(e.nextP0,!0),l?[o,h]:[h,o]}},12252:function(X,B,t){var x=t(33428),E=t(43616),i=t(76308),M=t(13448).DESELECTDIM,m=t(60100),d=t(82744).resizeText,v=m.styleTextPoints;function r(e,s,n){var l=n||x.select(e).selectAll("g.waterfalllayer").selectAll("g.trace");d(e,l,"waterfall"),l.style("opacity",function(o){return o[0].trace.opacity}),l.each(function(o){var h=x.select(this),b=o[0].trace;h.selectAll(".point > path").each(function(f){if(!f.isBlank){var k=b[f.dir].marker;x.select(this).call(i.fill,k.color).call(i.stroke,k.line.color).call(E.dashLine,k.line.dash,k.line.width).style("opacity",b.selectedpoints&&!f.selected?M:1)}}),v(h,b,e),h.selectAll(".lines").each(function(){var f=b.connector.line;E.lineGroupStyle(x.select(this).selectAll("path"),f.width,f.color,f.dash)})})}X.exports={style:r}},84224:function(X,B,t){var x=t(54460),E=t(3400),i=t(73060),M=t(60468).W,m=t(39032).BADNUM;B.moduleType="transform",B.name="aggregate";var d=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},v=d.aggregations;B.supplyDefaults=function(o,h){var b={},f;function k(A,R){return E.coerce(o,b,d,A,R)}var a=k("enabled");if(!a)return b;var c=i.findArrayAttributes(h),p={};for(f=0;f<c.length;f++)p[c[f]]=1;var w=k("groups");if(!Array.isArray(w)){if(!p[w])return b.enabled=!1,b;p[w]=0}var S=o.aggregations||[],_=b.aggregations=new Array(S.length),T;function P(A,R){return E.coerce(S[f],T,v,A,R)}for(f=0;f<S.length;f++){T={_index:f};var u=P("target"),g=P("func"),L=P("enabled");L&&u&&(p[u]||g==="count"&&p[u]===void 0)?(g==="stddev"&&P("funcmode"),p[u]=0,_[f]=T):_[f]={enabled:!1,_index:f}}for(f=0;f<c.length;f++)p[c[f]]&&_.push({target:c[f],func:v.func.dflt,enabled:!0,_index:-1});return b},B.calcTransform=function(o,h,b){if(b.enabled){var f=b.groups,k=E.getTargetArray(h,{target:f});if(k){var a,c,p,w,S={},_={},T=[],P=M(h.transforms,b),u=k.length;for(h._length&&(u=Math.min(u,h._length)),a=0;a<u;a++)c=k[a],p=S[c],p===void 0?(S[c]=T.length,w=[a],T.push(w),_[S[c]]=P(a)):(T[p].push(a),_[S[c]]=(_[S[c]]||[]).concat(P(a)));b._indexToPoints=_;var g=b.aggregations;for(a=0;a<g.length;a++)r(o,h,T,g[a]);typeof f=="string"&&r(o,h,T,{target:f,func:"first",enabled:!0}),h._length=T.length}}};function r(o,h,b,f){if(f.enabled){for(var k=f.target,a=E.nestedProperty(h,k),c=a.get(),p=x.getDataConversions(o,h,k,c),w=e(f,p),S=new Array(b.length),_=0;_<b.length;_++)S[_]=w(c,b[_]);a.set(S),f.func==="count"&&E.pushUnique(h._arrayAttrs,k)}}function e(o,h){var b=o.func,f=h.d2c,k=h.c2d;switch(b){case"count":return s;case"first":return n;case"last":return l;case"sum":return function(a,c){for(var p=0,w=0;w<c.length;w++){var S=f(a[c[w]]);S!==m&&(p+=S)}return k(p)};case"avg":return function(a,c){for(var p=0,w=0,S=0;S<c.length;S++){var _=f(a[c[S]]);_!==m&&(p+=_,w++)}return w?k(p/w):m};case"min":return function(a,c){for(var p=1/0,w=0;w<c.length;w++){var S=f(a[c[w]]);S!==m&&(p=Math.min(p,S))}return p===1/0?m:k(p)};case"max":return function(a,c){for(var p=-1/0,w=0;w<c.length;w++){var S=f(a[c[w]]);S!==m&&(p=Math.max(p,S))}return p===-1/0?m:k(p)};case"range":return function(a,c){for(var p=1/0,w=-1/0,S=0;S<c.length;S++){var _=f(a[c[S]]);_!==m&&(p=Math.min(p,_),w=Math.max(w,_))}return w===-1/0||p===1/0?m:k(w-p)};case"change":return function(a,c){var p=f(a[c[0]]),w=f(a[c[c.length-1]]);return p===m||w===m?m:k(w-p)};case"median":return function(a,c){for(var p=[],w=0;w<c.length;w++){var S=f(a[c[w]]);S!==m&&p.push(S)}if(!p.length)return m;p.sort(E.sorterAsc);var _=(p.length-1)/2;return k((p[Math.floor(_)]+p[Math.ceil(_)])/2)};case"mode":return function(a,c){for(var p={},w=0,S=m,_=0;_<c.length;_++){var T=f(a[c[_]]);if(T!==m){var P=p[T]=(p[T]||0)+1;P>w&&(w=P,S=T)}}return w?k(S):m};case"rms":return function(a,c){for(var p=0,w=0,S=0;S<c.length;S++){var _=f(a[c[S]]);_!==m&&(p+=_*_,w++)}return w?k(Math.sqrt(p/w)):m};case"stddev":return function(a,c){var p=0,w=0,S=1,_=m,T;for(T=0;T<c.length&&_===m;T++)_=f(a[c[T]]);if(_===m)return m;for(;T<c.length;T++){var P=f(a[c[T]]);if(P!==m){var u=P-_;p+=u,w+=u*u,S++}}var g=o.funcmode==="sample"?S-1:S;return g?Math.sqrt((w-p*p/S)/g):0}}}function s(o,h){return h.length}function n(o,h){return o[h[0]]}function l(o,h){return o[h[h.length-1]]}},76744:function(X,B,t){var x=t(3400),E=t(24040),i=t(54460),M=t(60468).W,m=t(69104),d=m.COMPARISON_OPS,v=m.INTERVAL_OPS,r=m.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(v).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(s){var n={};function l(f,k){return x.coerce(s,n,B.attributes,f,k)}var o=l("enabled");if(o){var h=l("target");if(x.isArrayOrTypedArray(h)&&h.length===0)return n.enabled=!1,n;l("preservegaps"),l("operation"),l("value");var b=E.getComponentMethod("calendars","handleDefaults");b(s,n,"valuecalendar",null),b(s,n,"targetcalendar",null)}return n},B.calcTransform=function(s,n,l){if(!l.enabled)return;var o=x.getTargetArray(n,l);if(!o)return;var h=l.target,b=o.length;n._length&&(b=Math.min(b,n._length));var f=l.targetcalendar,k=n._arrayAttrs,a=l.preservegaps;if(typeof h=="string"){var c=x.nestedProperty(n,h+"calendar").get();c&&(f=c)}var p=i.getDataToCoordFunc(s,n,h,o),w=e(l,p,f),S={},_={},T=0;function P(O,N){for(var z=0;z<k.length;z++){var F=x.nestedProperty(n,k[z]);O(F,N)}}var u,g;a?(u=function(O){S[O.astr]=x.extendDeep([],O.get()),O.set(new Array(b))},g=function(O,N){var z=S[O.astr][N];O.get()[N]=z}):(u=function(O){S[O.astr]=x.extendDeep([],O.get()),O.set([])},g=function(O,N){var z=S[O.astr][N];O.get().push(z)}),P(u);for(var L=M(n.transforms,l),A=0;A<b;A++){var R=w(o[A]);R?(P(g,A),_[T++]=L(A)):a&&T++}l._indexToPoints=_,n._length=T};function e(s,n,l){var o=s.operation,h=s.value,b=x.isArrayOrTypedArray(h);function f(p){return p.indexOf(o)!==-1}var k=function(p){return n(p,0,s.valuecalendar)},a=function(p){return n(p,0,l)},c;switch(f(d)?c=k(b?h[0]:h):f(v)?c=b?[k(h[0]),k(h[1])]:[k(h),k(h)]:f(r)&&(c=b?h.map(k):[k(h)]),o){case"=":return function(p){return a(p)===c};case"!=":return function(p){return a(p)!==c};case"<":return function(p){return a(p)<c};case"<=":return function(p){return a(p)<=c};case">":return function(p){return a(p)>c};case">=":return function(p){return a(p)>=c};case"[]":return function(p){var w=a(p);return w>=c[0]&&w<=c[1]};case"()":return function(p){var w=a(p);return w>c[0]&&w<c[1]};case"[)":return function(p){var w=a(p);return w>=c[0]&&w<c[1]};case"(]":return function(p){var w=a(p);return w>c[0]&&w<=c[1]};case"][":return function(p){var w=a(p);return w<=c[0]||w>=c[1]};case")(":return function(p){var w=a(p);return w<c[0]||w>c[1]};case"](":return function(p){var w=a(p);return w<=c[0]||w>c[1]};case")[":return function(p){var w=a(p);return w<c[0]||w>=c[1]};case"{}":return function(p){return c.indexOf(a(p))!==-1};case"}{":return function(p){return c.indexOf(a(p))===-1}}}},32028:function(X,B,t){var x=t(3400),E=t(73060),i=t(7316),M=t(60468).W;B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(d,v,r){var e,s={};function n(k,a){return x.coerce(d,s,B.attributes,k,a)}var l=n("enabled");if(!l)return s;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var o=d.styles,h=s.styles=[];if(o)for(e=0;e<o.length;e++){var b=h[e]={};x.coerce(o[e],h[e],B.attributes.styles,"target");var f=x.coerce(o[e],h[e],B.attributes.styles,"value");x.isPlainObject(f)?b.value=x.extendDeep({},f):f&&delete b.value}return s},B.transform=function(d,v){var r,e,s,n=[];for(e=0;e<d.length;e++)for(r=m(d[e],v),s=0;s<r.length;s++)n.push(r[s]);return n};function m(d,v){var r,e,s,n,l,o,h,b,f,k,a=v.transform,c=v.transformIndex,p=d.transforms[c].groups,w=M(d.transforms,a);if(!x.isArrayOrTypedArray(p)||p.length===0)return[d];var S=x.filterUnique(p),_=new Array(S.length),T=p.length,P=E.findArrayAttributes(d),u=a.styles||[],g={};for(r=0;r<u.length;r++)g[u[r].target]=u[r].value;a.styles&&(k=x.keyedContainer(a,"styles","target","value.name"));var L={},A={};for(r=0;r<S.length;r++){o=S[r],L[o]=r,A[o]=0,h=_[r]=x.extendDeepNoArrays({},d),h._group=o,h.transforms[c]._indexToPoints={};var R=null;for(k&&(R=k.get(o)),R||R===""?h.name=R:h.name=x.templateString(a.nameformat,{trace:d.name,group:o}),b=h.transforms,h.transforms=[],e=0;e<b.length;e++)h.transforms[e]=x.extendDeepNoArrays({},b[e]);for(e=0;e<P.length;e++)x.nestedProperty(h,P[e]).set([])}for(s=0;s<P.length;s++){for(n=P[s],e=0,f=[];e<S.length;e++)f[e]=x.nestedProperty(_[e],n).get();for(l=x.nestedProperty(d,n).get(),e=0;e<T;e++)f[L[p[e]]].push(l[e])}for(e=0;e<T;e++){h=_[L[p[e]]];var O=h.transforms[c]._indexToPoints;O[A[p[e]]]=w(e),A[p[e]]++}for(r=0;r<S.length;r++)o=S[r],h=_[r],i.clearExpandedTraceDefaultColors(h),h=x.extendDeepNoArrays(h,g[o]||{});return _}},60468:function(X,B){B.W=function(t,x){for(var E,i,M=0;M<t.length&&(E=t[M],E!==x);M++)!E._indexToPoints||E.enabled===!1||(i=E._indexToPoints);var m=i?function(d){return i[d]}:function(d){return[d]};return m}},76272:function(X,B,t){var x=t(3400),E=t(54460),i=t(60468).W,M=t(39032).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(v){var r={};function e(n,l){return x.coerce(v,r,B.attributes,n,l)}var s=e("enabled");return s&&(e("target"),e("order")),r},B.calcTransform=function(v,r,e){if(e.enabled){var s=x.getTargetArray(r,e);if(s){var n=e.target,l=s.length;r._length&&(l=Math.min(l,r._length));var o=r._arrayAttrs,h=E.getDataToCoordFunc(v,r,n,s),b=m(e,s,h,l),f=i(r.transforms,e),k={},a,c;for(a=0;a<o.length;a++){var p=x.nestedProperty(r,o[a]),w=p.get(),S=new Array(l);for(c=0;c<l;c++)S[c]=w[b[c]];p.set(S)}for(c=0;c<l;c++)k[c]=f(b[c]);e._indexToPoints=k,r._length=l}}};function m(v,r,e,s){var n=new Array(s),l=new Array(s),o;for(o=0;o<s;o++)n[o]={v:r[o],i:o};for(n.sort(d(v,e)),o=0;o<s;o++)l[o]=n[o].i;return l}function d(v,r){switch(v.order){case"ascending":return function(e,s){var n=r(e.v),l=r(s.v);return n===M?1:l===M?-1:n-l};case"descending":return function(e,s){var n=r(e.v),l=r(s.v);return n===M?1:l===M?-1:l-n}}}},25788:function(X,B){B.version="2.30.1"},67792:function(X,B,t){var x=t(4168);(function(E,i){X.exports=i()})(self,function(){return function(){var E={7386:function(d,v,r){d.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(d,v,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function e(pt,xt){if(!(pt instanceof xt))throw new TypeError("Cannot call a class as a function")}function s(pt,xt){for(var Ct=0;Ct<xt.length;Ct++){var At=xt[Ct];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(pt,At.key,At)}}function n(pt,xt,Ct){return xt&&s(pt.prototype,xt),Ct&&s(pt,Ct),Object.defineProperty(pt,"prototype",{writable:!1}),pt}function l(pt,xt){if(typeof xt!="function"&&xt!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(xt&&xt.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),Object.defineProperty(pt,"prototype",{writable:!1}),xt&&o(pt,xt)}function o(pt,xt){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ct,At){return Ct.__proto__=At,Ct},o(pt,xt)}function h(pt){var xt=k();return function(){var Ct=a(pt),At;if(xt){var Ft=a(this).constructor;At=Reflect.construct(Ct,arguments,Ft)}else At=Ct.apply(this,arguments);return b(this,At)}}function b(pt,xt){if(xt&&(c(xt)==="object"||typeof xt=="function"))return xt;if(xt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(pt)}function f(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(pt){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xt){return xt.__proto__||Object.getPrototypeOf(xt)},a(pt)}function c(pt){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xt){return typeof xt}:function(xt){return xt&&typeof Symbol=="function"&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt},c(pt)}var p=r(3910),w=r(3187),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;v.lW=u,v.h2=50;var _=2147483647;u.TYPED_ARRAY_SUPPORT=T(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var pt=new Uint8Array(1),xt={foo:function(){return 42}};return Object.setPrototypeOf(xt,Uint8Array.prototype),Object.setPrototypeOf(pt,xt),pt.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function P(pt){if(pt>_)throw new RangeError('The value "'+pt+'" is invalid for option "size"');var xt=new Uint8Array(pt);return Object.setPrototypeOf(xt,u.prototype),xt}function u(pt,xt,Ct){if(typeof pt=="number"){if(typeof xt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(pt)}return g(pt,xt,Ct)}u.poolSize=8192;function g(pt,xt,Ct){if(typeof pt=="string")return O(pt,xt);if(ArrayBuffer.isView(pt))return z(pt);if(pt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(pt));if(Vt(pt,ArrayBuffer)||pt&&Vt(pt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Vt(pt,SharedArrayBuffer)||pt&&Vt(pt.buffer,SharedArrayBuffer)))return F(pt,xt,Ct);if(typeof pt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var At=pt.valueOf&&pt.valueOf();if(At!=null&&At!==pt)return u.from(At,xt,Ct);var Ft=I(pt);if(Ft)return Ft;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof pt[Symbol.toPrimitive]=="function")return u.from(pt[Symbol.toPrimitive]("string"),xt,Ct);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(pt))}u.from=function(pt,xt,Ct){return g(pt,xt,Ct)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function L(pt){if(typeof pt!="number")throw new TypeError('"size" argument must be of type number');if(pt<0)throw new RangeError('The value "'+pt+'" is invalid for option "size"')}function A(pt,xt,Ct){return L(pt),pt<=0?P(pt):xt!==void 0?typeof Ct=="string"?P(pt).fill(xt,Ct):P(pt).fill(xt):P(pt)}u.alloc=function(pt,xt,Ct){return A(pt,xt,Ct)};function R(pt){return L(pt),P(pt<0?0:j(pt)|0)}u.allocUnsafe=function(pt){return R(pt)},u.allocUnsafeSlow=function(pt){return R(pt)};function O(pt,xt){if((typeof xt!="string"||xt==="")&&(xt="utf8"),!u.isEncoding(xt))throw new TypeError("Unknown encoding: "+xt);var Ct=V(pt,xt)|0,At=P(Ct),Ft=At.write(pt,xt);return Ft!==Ct&&(At=At.slice(0,Ft)),At}function N(pt){for(var xt=pt.length<0?0:j(pt.length)|0,Ct=P(xt),At=0;At<xt;At+=1)Ct[At]=pt[At]&255;return Ct}function z(pt){if(Vt(pt,Uint8Array)){var xt=new Uint8Array(pt);return F(xt.buffer,xt.byteOffset,xt.byteLength)}return N(pt)}function F(pt,xt,Ct){if(xt<0||pt.byteLength<xt)throw new RangeError('"offset" is outside of buffer bounds');if(pt.byteLength<xt+(Ct||0))throw new RangeError('"length" is outside of buffer bounds');var At;return xt===void 0&&Ct===void 0?At=new Uint8Array(pt):Ct===void 0?At=new Uint8Array(pt,xt):At=new Uint8Array(pt,xt,Ct),Object.setPrototypeOf(At,u.prototype),At}function I(pt){if(u.isBuffer(pt)){var xt=j(pt.length)|0,Ct=P(xt);return Ct.length===0||pt.copy(Ct,0,0,xt),Ct}if(pt.length!==void 0)return typeof pt.length!="number"||te(pt.length)?P(0):N(pt);if(pt.type==="Buffer"&&Array.isArray(pt.data))return N(pt.data)}function j(pt){if(pt>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return pt|0}u.isBuffer=function(pt){return pt!=null&&pt._isBuffer===!0&&pt!==u.prototype},u.compare=function(pt,xt){if(Vt(pt,Uint8Array)&&(pt=u.from(pt,pt.offset,pt.byteLength)),Vt(xt,Uint8Array)&&(xt=u.from(xt,xt.offset,xt.byteLength)),!u.isBuffer(pt)||!u.isBuffer(xt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pt===xt)return 0;for(var Ct=pt.length,At=xt.length,Ft=0,Wt=Math.min(Ct,At);Ft<Wt;++Ft)if(pt[Ft]!==xt[Ft]){Ct=pt[Ft],At=xt[Ft];break}return Ct<At?-1:At<Ct?1:0},u.isEncoding=function(pt){switch(String(pt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(pt,xt){if(!Array.isArray(pt))throw new TypeError('"list" argument must be an Array of Buffers');if(pt.length===0)return u.alloc(0);var Ct;if(xt===void 0)for(xt=0,Ct=0;Ct<pt.length;++Ct)xt+=pt[Ct].length;var At=u.allocUnsafe(xt),Ft=0;for(Ct=0;Ct<pt.length;++Ct){var Wt=pt[Ct];if(Vt(Wt,Uint8Array))Ft+Wt.length>At.length?(u.isBuffer(Wt)||(Wt=u.from(Wt)),Wt.copy(At,Ft)):Uint8Array.prototype.set.call(At,Wt,Ft);else if(u.isBuffer(Wt))Wt.copy(At,Ft);else throw new TypeError('"list" argument must be an Array of Buffers');Ft+=Wt.length}return At};function V(pt,xt){if(u.isBuffer(pt))return pt.length;if(ArrayBuffer.isView(pt)||Vt(pt,ArrayBuffer))return pt.byteLength;if(typeof pt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(pt));var Ct=pt.length,At=arguments.length>2&&arguments[2]===!0;if(!At&&Ct===0)return 0;for(var Ft=!1;;)switch(xt){case"ascii":case"latin1":case"binary":return Ct;case"utf8":case"utf-8":return ce(pt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct*2;case"hex":return Ct>>>1;case"base64":return Te(pt).length;default:if(Ft)return At?-1:ce(pt).length;xt=(""+xt).toLowerCase(),Ft=!0}}u.byteLength=V;function W(pt,xt,Ct){var At=!1;if((xt===void 0||xt<0)&&(xt=0),xt>this.length||((Ct===void 0||Ct>this.length)&&(Ct=this.length),Ct<=0)||(Ct>>>=0,xt>>>=0,Ct<=xt))return"";for(pt||(pt="utf8");;)switch(pt){case"hex":return dt(this,xt,Ct);case"utf8":case"utf-8":return st(this,xt,Ct);case"ascii":return ut(this,xt,Ct);case"latin1":case"binary":return at(this,xt,Ct);case"base64":return tt(this,xt,Ct);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,xt,Ct);default:if(At)throw new TypeError("Unknown encoding: "+pt);pt=(pt+"").toLowerCase(),At=!0}}u.prototype._isBuffer=!0;function K(pt,xt,Ct){var At=pt[xt];pt[xt]=pt[Ct],pt[Ct]=At}u.prototype.swap16=function(){var pt=this.length;if(pt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xt=0;xt<pt;xt+=2)K(this,xt,xt+1);return this},u.prototype.swap32=function(){var pt=this.length;if(pt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xt=0;xt<pt;xt+=4)K(this,xt,xt+3),K(this,xt+1,xt+2);return this},u.prototype.swap64=function(){var pt=this.length;if(pt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xt=0;xt<pt;xt+=8)K(this,xt,xt+7),K(this,xt+1,xt+6),K(this,xt+2,xt+5),K(this,xt+3,xt+4);return this},u.prototype.toString=function(){var pt=this.length;return pt===0?"":arguments.length===0?st(this,0,pt):W.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(pt){if(!u.isBuffer(pt))throw new TypeError("Argument must be a Buffer");return this===pt?!0:u.compare(this,pt)===0},u.prototype.inspect=function(){var pt="",xt=v.h2;return pt=this.toString("hex",0,xt).replace(/(.{2})/g,"$1 ").trim(),this.length>xt&&(pt+=" ... "),"<Buffer "+pt+">"},S&&(u.prototype[S]=u.prototype.inspect),u.prototype.compare=function(pt,xt,Ct,At,Ft){if(Vt(pt,Uint8Array)&&(pt=u.from(pt,pt.offset,pt.byteLength)),!u.isBuffer(pt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(pt));if(xt===void 0&&(xt=0),Ct===void 0&&(Ct=pt?pt.length:0),At===void 0&&(At=0),Ft===void 0&&(Ft=this.length),xt<0||Ct>pt.length||At<0||Ft>this.length)throw new RangeError("out of range index");if(At>=Ft&&xt>=Ct)return 0;if(At>=Ft)return-1;if(xt>=Ct)return 1;if(xt>>>=0,Ct>>>=0,At>>>=0,Ft>>>=0,this===pt)return 0;for(var Wt=Ft-At,Qt=Ct-xt,he=Math.min(Wt,Qt),ve=this.slice(At,Ft),Je=pt.slice(xt,Ct),Ue=0;Ue<he;++Ue)if(ve[Ue]!==Je[Ue]){Wt=ve[Ue],Qt=Je[Ue];break}return Wt<Qt?-1:Qt<Wt?1:0};function et(pt,xt,Ct,At,Ft){if(pt.length===0)return-1;if(typeof Ct=="string"?(At=Ct,Ct=0):Ct>2147483647?Ct=2147483647:Ct<-2147483648&&(Ct=-2147483648),Ct=+Ct,te(Ct)&&(Ct=Ft?0:pt.length-1),Ct<0&&(Ct=pt.length+Ct),Ct>=pt.length){if(Ft)return-1;Ct=pt.length-1}else if(Ct<0)if(Ft)Ct=0;else return-1;if(typeof xt=="string"&&(xt=u.from(xt,At)),u.isBuffer(xt))return xt.length===0?-1:lt(pt,xt,Ct,At,Ft);if(typeof xt=="number")return xt=xt&255,typeof Uint8Array.prototype.indexOf=="function"?Ft?Uint8Array.prototype.indexOf.call(pt,xt,Ct):Uint8Array.prototype.lastIndexOf.call(pt,xt,Ct):lt(pt,[xt],Ct,At,Ft);throw new TypeError("val must be string, number or Buffer")}function lt(pt,xt,Ct,At,Ft){var Wt=1,Qt=pt.length,he=xt.length;if(At!==void 0&&(At=String(At).toLowerCase(),At==="ucs2"||At==="ucs-2"||At==="utf16le"||At==="utf-16le")){if(pt.length<2||xt.length<2)return-1;Wt=2,Qt/=2,he/=2,Ct/=2}function ve(Ge,mr){return Wt===1?Ge[mr]:Ge.readUInt16BE(mr*Wt)}var Je;if(Ft){var Ue=-1;for(Je=Ct;Je<Qt;Je++)if(ve(pt,Je)===ve(xt,Ue===-1?0:Je-Ue)){if(Ue===-1&&(Ue=Je),Je-Ue+1===he)return Ue*Wt}else Ue!==-1&&(Je-=Je-Ue),Ue=-1}else for(Ct+he>Qt&&(Ct=Qt-he),Je=Ct;Je>=0;Je--){for(var ke=!0,Le=0;Le<he;Le++)if(ve(pt,Je+Le)!==ve(xt,Le)){ke=!1;break}if(ke)return Je}return-1}u.prototype.includes=function(pt,xt,Ct){return this.indexOf(pt,xt,Ct)!==-1},u.prototype.indexOf=function(pt,xt,Ct){return et(this,pt,xt,Ct,!0)},u.prototype.lastIndexOf=function(pt,xt,Ct){return et(this,pt,xt,Ct,!1)};function ot(pt,xt,Ct,At){Ct=Number(Ct)||0;var Ft=pt.length-Ct;At?(At=Number(At),At>Ft&&(At=Ft)):At=Ft;var Wt=xt.length;At>Wt/2&&(At=Wt/2);var Qt;for(Qt=0;Qt<At;++Qt){var he=parseInt(xt.substr(Qt*2,2),16);if(te(he))return Qt;pt[Ct+Qt]=he}return Qt}function q(pt,xt,Ct,At){return Et(ce(xt,pt.length-Ct),pt,Ct,At)}function J(pt,xt,Ct,At){return Et(ye(xt),pt,Ct,At)}function it(pt,xt,Ct,At){return Et(Te(xt),pt,Ct,At)}function Z(pt,xt,Ct,At){return Et(de(xt,pt.length-Ct),pt,Ct,At)}u.prototype.write=function(pt,xt,Ct,At){if(xt===void 0)At="utf8",Ct=this.length,xt=0;else if(Ct===void 0&&typeof xt=="string")At=xt,Ct=this.length,xt=0;else if(isFinite(xt))xt=xt>>>0,isFinite(Ct)?(Ct=Ct>>>0,At===void 0&&(At="utf8")):(At=Ct,Ct=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ft=this.length-xt;if((Ct===void 0||Ct>Ft)&&(Ct=Ft),pt.length>0&&(Ct<0||xt<0)||xt>this.length)throw new RangeError("Attempt to write outside buffer bounds");At||(At="utf8");for(var Wt=!1;;)switch(At){case"hex":return ot(this,pt,xt,Ct);case"utf8":case"utf-8":return q(this,pt,xt,Ct);case"ascii":case"latin1":case"binary":return J(this,pt,xt,Ct);case"base64":return it(this,pt,xt,Ct);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,pt,xt,Ct);default:if(Wt)throw new TypeError("Unknown encoding: "+At);At=(""+At).toLowerCase(),Wt=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function tt(pt,xt,Ct){return xt===0&&Ct===pt.length?p.fromByteArray(pt):p.fromByteArray(pt.slice(xt,Ct))}function st(pt,xt,Ct){Ct=Math.min(pt.length,Ct);for(var At=[],Ft=xt;Ft<Ct;){var Wt=pt[Ft],Qt=null,he=Wt>239?4:Wt>223?3:Wt>191?2:1;if(Ft+he<=Ct){var ve=void 0,Je=void 0,Ue=void 0,ke=void 0;switch(he){case 1:Wt<128&&(Qt=Wt);break;case 2:ve=pt[Ft+1],(ve&192)===128&&(ke=(Wt&31)<<6|ve&63,ke>127&&(Qt=ke));break;case 3:ve=pt[Ft+1],Je=pt[Ft+2],(ve&192)===128&&(Je&192)===128&&(ke=(Wt&15)<<12|(ve&63)<<6|Je&63,ke>2047&&(ke<55296||ke>57343)&&(Qt=ke));break;case 4:ve=pt[Ft+1],Je=pt[Ft+2],Ue=pt[Ft+3],(ve&192)===128&&(Je&192)===128&&(Ue&192)===128&&(ke=(Wt&15)<<18|(ve&63)<<12|(Je&63)<<6|Ue&63,ke>65535&&ke<1114112&&(Qt=ke))}}Qt===null?(Qt=65533,he=1):Qt>65535&&(Qt-=65536,At.push(Qt>>>10&1023|55296),Qt=56320|Qt&1023),At.push(Qt),Ft+=he}return G(At)}var Q=4096;function G(pt){var xt=pt.length;if(xt<=Q)return String.fromCharCode.apply(String,pt);for(var Ct="",At=0;At<xt;)Ct+=String.fromCharCode.apply(String,pt.slice(At,At+=Q));return Ct}function ut(pt,xt,Ct){var At="";Ct=Math.min(pt.length,Ct);for(var Ft=xt;Ft<Ct;++Ft)At+=String.fromCharCode(pt[Ft]&127);return At}function at(pt,xt,Ct){var At="";Ct=Math.min(pt.length,Ct);for(var Ft=xt;Ft<Ct;++Ft)At+=String.fromCharCode(pt[Ft]);return At}function dt(pt,xt,Ct){var At=pt.length;(!xt||xt<0)&&(xt=0),(!Ct||Ct<0||Ct>At)&&(Ct=At);for(var Ft="",Wt=xt;Wt<Ct;++Wt)Ft+=Jt[pt[Wt]];return Ft}function gt(pt,xt,Ct){for(var At=pt.slice(xt,Ct),Ft="",Wt=0;Wt<At.length-1;Wt+=2)Ft+=String.fromCharCode(At[Wt]+At[Wt+1]*256);return Ft}u.prototype.slice=function(pt,xt){var Ct=this.length;pt=~~pt,xt=xt===void 0?Ct:~~xt,pt<0?(pt+=Ct,pt<0&&(pt=0)):pt>Ct&&(pt=Ct),xt<0?(xt+=Ct,xt<0&&(xt=0)):xt>Ct&&(xt=Ct),xt<pt&&(xt=pt);var At=this.subarray(pt,xt);return Object.setPrototypeOf(At,u.prototype),At};function wt(pt,xt,Ct){if(pt%1!==0||pt<0)throw new RangeError("offset is not uint");if(pt+xt>Ct)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(pt,xt,Ct){pt=pt>>>0,xt=xt>>>0,Ct||wt(pt,xt,this.length);for(var At=this[pt],Ft=1,Wt=0;++Wt<xt&&(Ft*=256);)At+=this[pt+Wt]*Ft;return At},u.prototype.readUintBE=u.prototype.readUIntBE=function(pt,xt,Ct){pt=pt>>>0,xt=xt>>>0,Ct||wt(pt,xt,this.length);for(var At=this[pt+--xt],Ft=1;xt>0&&(Ft*=256);)At+=this[pt+--xt]*Ft;return At},u.prototype.readUint8=u.prototype.readUInt8=function(pt,xt){return pt=pt>>>0,xt||wt(pt,1,this.length),this[pt]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,2,this.length),this[pt]|this[pt+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,2,this.length),this[pt]<<8|this[pt+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,4,this.length),(this[pt]|this[pt+1]<<8|this[pt+2]<<16)+this[pt+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,4,this.length),this[pt]*16777216+(this[pt+1]<<16|this[pt+2]<<8|this[pt+3])},u.prototype.readBigUInt64LE=Ut(function(pt){pt=pt>>>0,Yt(pt,"offset");var xt=this[pt],Ct=this[pt+7];(xt===void 0||Ct===void 0)&&ue(pt,this.length-8);var At=xt+this[++pt]*Math.pow(2,8)+this[++pt]*Math.pow(2,16)+this[++pt]*Math.pow(2,24),Ft=this[++pt]+this[++pt]*Math.pow(2,8)+this[++pt]*Math.pow(2,16)+Ct*Math.pow(2,24);return BigInt(At)+(BigInt(Ft)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ut(function(pt){pt=pt>>>0,Yt(pt,"offset");var xt=this[pt],Ct=this[pt+7];(xt===void 0||Ct===void 0)&&ue(pt,this.length-8);var At=xt*Math.pow(2,24)+this[++pt]*Math.pow(2,16)+this[++pt]*Math.pow(2,8)+this[++pt],Ft=this[++pt]*Math.pow(2,24)+this[++pt]*Math.pow(2,16)+this[++pt]*Math.pow(2,8)+Ct;return(BigInt(At)<<BigInt(32))+BigInt(Ft)}),u.prototype.readIntLE=function(pt,xt,Ct){pt=pt>>>0,xt=xt>>>0,Ct||wt(pt,xt,this.length);for(var At=this[pt],Ft=1,Wt=0;++Wt<xt&&(Ft*=256);)At+=this[pt+Wt]*Ft;return Ft*=128,At>=Ft&&(At-=Math.pow(2,8*xt)),At},u.prototype.readIntBE=function(pt,xt,Ct){pt=pt>>>0,xt=xt>>>0,Ct||wt(pt,xt,this.length);for(var At=xt,Ft=1,Wt=this[pt+--At];At>0&&(Ft*=256);)Wt+=this[pt+--At]*Ft;return Ft*=128,Wt>=Ft&&(Wt-=Math.pow(2,8*xt)),Wt},u.prototype.readInt8=function(pt,xt){return pt=pt>>>0,xt||wt(pt,1,this.length),this[pt]&128?(255-this[pt]+1)*-1:this[pt]},u.prototype.readInt16LE=function(pt,xt){pt=pt>>>0,xt||wt(pt,2,this.length);var Ct=this[pt]|this[pt+1]<<8;return Ct&32768?Ct|4294901760:Ct},u.prototype.readInt16BE=function(pt,xt){pt=pt>>>0,xt||wt(pt,2,this.length);var Ct=this[pt+1]|this[pt]<<8;return Ct&32768?Ct|4294901760:Ct},u.prototype.readInt32LE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,4,this.length),this[pt]|this[pt+1]<<8|this[pt+2]<<16|this[pt+3]<<24},u.prototype.readInt32BE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,4,this.length),this[pt]<<24|this[pt+1]<<16|this[pt+2]<<8|this[pt+3]},u.prototype.readBigInt64LE=Ut(function(pt){pt=pt>>>0,Yt(pt,"offset");var xt=this[pt],Ct=this[pt+7];(xt===void 0||Ct===void 0)&&ue(pt,this.length-8);var At=this[pt+4]+this[pt+5]*Math.pow(2,8)+this[pt+6]*Math.pow(2,16)+(Ct<<24);return(BigInt(At)<<BigInt(32))+BigInt(xt+this[++pt]*Math.pow(2,8)+this[++pt]*Math.pow(2,16)+this[++pt]*Math.pow(2,24))}),u.prototype.readBigInt64BE=Ut(function(pt){pt=pt>>>0,Yt(pt,"offset");var xt=this[pt],Ct=this[pt+7];(xt===void 0||Ct===void 0)&&ue(pt,this.length-8);var At=(xt<<24)+this[++pt]*Math.pow(2,16)+this[++pt]*Math.pow(2,8)+this[++pt];return(BigInt(At)<<BigInt(32))+BigInt(this[++pt]*Math.pow(2,24)+this[++pt]*Math.pow(2,16)+this[++pt]*Math.pow(2,8)+Ct)}),u.prototype.readFloatLE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,4,this.length),w.read(this,pt,!0,23,4)},u.prototype.readFloatBE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,4,this.length),w.read(this,pt,!1,23,4)},u.prototype.readDoubleLE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,8,this.length),w.read(this,pt,!0,52,8)},u.prototype.readDoubleBE=function(pt,xt){return pt=pt>>>0,xt||wt(pt,8,this.length),w.read(this,pt,!1,52,8)};function kt(pt,xt,Ct,At,Ft,Wt){if(!u.isBuffer(pt))throw new TypeError('"buffer" argument must be a Buffer instance');if(xt>Ft||xt<Wt)throw new RangeError('"value" argument is out of bounds');if(Ct+At>pt.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(pt,xt,Ct,At){if(pt=+pt,xt=xt>>>0,Ct=Ct>>>0,!At){var Ft=Math.pow(2,8*Ct)-1;kt(this,pt,xt,Ct,Ft,0)}var Wt=1,Qt=0;for(this[xt]=pt&255;++Qt<Ct&&(Wt*=256);)this[xt+Qt]=pt/Wt&255;return xt+Ct},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(pt,xt,Ct,At){if(pt=+pt,xt=xt>>>0,Ct=Ct>>>0,!At){var Ft=Math.pow(2,8*Ct)-1;kt(this,pt,xt,Ct,Ft,0)}var Wt=Ct-1,Qt=1;for(this[xt+Wt]=pt&255;--Wt>=0&&(Qt*=256);)this[xt+Wt]=pt/Qt&255;return xt+Ct},u.prototype.writeUint8=u.prototype.writeUInt8=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,1,255,0),this[xt]=pt&255,xt+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,2,65535,0),this[xt]=pt&255,this[xt+1]=pt>>>8,xt+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,2,65535,0),this[xt]=pt>>>8,this[xt+1]=pt&255,xt+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,4,4294967295,0),this[xt+3]=pt>>>24,this[xt+2]=pt>>>16,this[xt+1]=pt>>>8,this[xt]=pt&255,xt+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,4,4294967295,0),this[xt]=pt>>>24,this[xt+1]=pt>>>16,this[xt+2]=pt>>>8,this[xt+3]=pt&255,xt+4};function Ot(pt,xt,Ct,At,Ft){se(xt,At,Ft,pt,Ct,7);var Wt=Number(xt&BigInt(4294967295));pt[Ct++]=Wt,Wt=Wt>>8,pt[Ct++]=Wt,Wt=Wt>>8,pt[Ct++]=Wt,Wt=Wt>>8,pt[Ct++]=Wt;var Qt=Number(xt>>BigInt(32)&BigInt(4294967295));return pt[Ct++]=Qt,Qt=Qt>>8,pt[Ct++]=Qt,Qt=Qt>>8,pt[Ct++]=Qt,Qt=Qt>>8,pt[Ct++]=Qt,Ct}function bt(pt,xt,Ct,At,Ft){se(xt,At,Ft,pt,Ct,7);var Wt=Number(xt&BigInt(4294967295));pt[Ct+7]=Wt,Wt=Wt>>8,pt[Ct+6]=Wt,Wt=Wt>>8,pt[Ct+5]=Wt,Wt=Wt>>8,pt[Ct+4]=Wt;var Qt=Number(xt>>BigInt(32)&BigInt(4294967295));return pt[Ct+3]=Qt,Qt=Qt>>8,pt[Ct+2]=Qt,Qt=Qt>>8,pt[Ct+1]=Qt,Qt=Qt>>8,pt[Ct]=Qt,Ct+8}u.prototype.writeBigUInt64LE=Ut(function(pt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ot(this,pt,xt,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ut(function(pt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return bt(this,pt,xt,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(pt,xt,Ct,At){if(pt=+pt,xt=xt>>>0,!At){var Ft=Math.pow(2,8*Ct-1);kt(this,pt,xt,Ct,Ft-1,-Ft)}var Wt=0,Qt=1,he=0;for(this[xt]=pt&255;++Wt<Ct&&(Qt*=256);)pt<0&&he===0&&this[xt+Wt-1]!==0&&(he=1),this[xt+Wt]=(pt/Qt>>0)-he&255;return xt+Ct},u.prototype.writeIntBE=function(pt,xt,Ct,At){if(pt=+pt,xt=xt>>>0,!At){var Ft=Math.pow(2,8*Ct-1);kt(this,pt,xt,Ct,Ft-1,-Ft)}var Wt=Ct-1,Qt=1,he=0;for(this[xt+Wt]=pt&255;--Wt>=0&&(Qt*=256);)pt<0&&he===0&&this[xt+Wt+1]!==0&&(he=1),this[xt+Wt]=(pt/Qt>>0)-he&255;return xt+Ct},u.prototype.writeInt8=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,1,127,-128),pt<0&&(pt=255+pt+1),this[xt]=pt&255,xt+1},u.prototype.writeInt16LE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,2,32767,-32768),this[xt]=pt&255,this[xt+1]=pt>>>8,xt+2},u.prototype.writeInt16BE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,2,32767,-32768),this[xt]=pt>>>8,this[xt+1]=pt&255,xt+2},u.prototype.writeInt32LE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,4,2147483647,-2147483648),this[xt]=pt&255,this[xt+1]=pt>>>8,this[xt+2]=pt>>>16,this[xt+3]=pt>>>24,xt+4},u.prototype.writeInt32BE=function(pt,xt,Ct){return pt=+pt,xt=xt>>>0,Ct||kt(this,pt,xt,4,2147483647,-2147483648),pt<0&&(pt=4294967295+pt+1),this[xt]=pt>>>24,this[xt+1]=pt>>>16,this[xt+2]=pt>>>8,this[xt+3]=pt&255,xt+4},u.prototype.writeBigInt64LE=Ut(function(pt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ot(this,pt,xt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ut(function(pt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return bt(this,pt,xt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _t(pt,xt,Ct,At,Ft,Wt){if(Ct+At>pt.length)throw new RangeError("Index out of range");if(Ct<0)throw new RangeError("Index out of range")}function mt(pt,xt,Ct,At,Ft){return xt=+xt,Ct=Ct>>>0,Ft||_t(pt,xt,Ct,4),w.write(pt,xt,Ct,At,23,4),Ct+4}u.prototype.writeFloatLE=function(pt,xt,Ct){return mt(this,pt,xt,!0,Ct)},u.prototype.writeFloatBE=function(pt,xt,Ct){return mt(this,pt,xt,!1,Ct)};function Pt(pt,xt,Ct,At,Ft){return xt=+xt,Ct=Ct>>>0,Ft||_t(pt,xt,Ct,8),w.write(pt,xt,Ct,At,52,8),Ct+8}u.prototype.writeDoubleLE=function(pt,xt,Ct){return Pt(this,pt,xt,!0,Ct)},u.prototype.writeDoubleBE=function(pt,xt,Ct){return Pt(this,pt,xt,!1,Ct)},u.prototype.copy=function(pt,xt,Ct,At){if(!u.isBuffer(pt))throw new TypeError("argument should be a Buffer");if(Ct||(Ct=0),!At&&At!==0&&(At=this.length),xt>=pt.length&&(xt=pt.length),xt||(xt=0),At>0&&At<Ct&&(At=Ct),At===Ct||pt.length===0||this.length===0)return 0;if(xt<0)throw new RangeError("targetStart out of bounds");if(Ct<0||Ct>=this.length)throw new RangeError("Index out of range");if(At<0)throw new RangeError("sourceEnd out of bounds");At>this.length&&(At=this.length),pt.length-xt<At-Ct&&(At=pt.length-xt+Ct);var Ft=At-Ct;return this===pt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xt,Ct,At):Uint8Array.prototype.set.call(pt,this.subarray(Ct,At),xt),Ft},u.prototype.fill=function(pt,xt,Ct,At){if(typeof pt=="string"){if(typeof xt=="string"?(At=xt,xt=0,Ct=this.length):typeof Ct=="string"&&(At=Ct,Ct=this.length),At!==void 0&&typeof At!="string")throw new TypeError("encoding must be a string");if(typeof At=="string"&&!u.isEncoding(At))throw new TypeError("Unknown encoding: "+At);if(pt.length===1){var Ft=pt.charCodeAt(0);(At==="utf8"&&Ft<128||At==="latin1")&&(pt=Ft)}}else typeof pt=="number"?pt=pt&255:typeof pt=="boolean"&&(pt=Number(pt));if(xt<0||this.length<xt||this.length<Ct)throw new RangeError("Out of range index");if(Ct<=xt)return this;xt=xt>>>0,Ct=Ct===void 0?this.length:Ct>>>0,pt||(pt=0);var Wt;if(typeof pt=="number")for(Wt=xt;Wt<Ct;++Wt)this[Wt]=pt;else{var Qt=u.isBuffer(pt)?pt:u.from(pt,At),he=Qt.length;if(he===0)throw new TypeError('The value "'+pt+'" is invalid for argument "value"');for(Wt=0;Wt<Ct-xt;++Wt)this[Wt+xt]=Qt[Wt%he]}return this};var Rt={};function Ht(pt,xt,Ct){Rt[pt]=function(At){l(Wt,At);var Ft=h(Wt);function Wt(){var Qt;return e(this,Wt),Qt=Ft.call(this),Object.defineProperty(f(Qt),"message",{value:xt.apply(f(Qt),arguments),writable:!0,configurable:!0}),Qt.name="".concat(Qt.name," [").concat(pt,"]"),Qt.stack,delete Qt.name,Qt}return n(Wt,[{key:"code",get:function(){return pt},set:function(Qt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(pt,"]: ").concat(this.message)}}]),Wt}(Ct)}Ht("ERR_BUFFER_OUT_OF_BOUNDS",function(pt){return pt?"".concat(pt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ht("ERR_INVALID_ARG_TYPE",function(pt,xt){return'The "'.concat(pt,'" argument must be of type number. Received type ').concat(c(xt))},TypeError),Ht("ERR_OUT_OF_RANGE",function(pt,xt,Ct){var At='The value of "'.concat(pt,'" is out of range.'),Ft=Ct;return Number.isInteger(Ct)&&Math.abs(Ct)>Math.pow(2,32)?Ft=Dt(String(Ct)):typeof Ct=="bigint"&&(Ft=String(Ct),(Ct>Math.pow(BigInt(2),BigInt(32))||Ct<-Math.pow(BigInt(2),BigInt(32)))&&(Ft=Dt(Ft)),Ft+="n"),At+=" It must be ".concat(xt,". Received ").concat(Ft),At},RangeError);function Dt(pt){for(var xt="",Ct=pt.length,At=pt[0]==="-"?1:0;Ct>=At+4;Ct-=3)xt="_".concat(pt.slice(Ct-3,Ct)).concat(xt);return"".concat(pt.slice(0,Ct)).concat(xt)}function Xt(pt,xt,Ct){Yt(xt,"offset"),(pt[xt]===void 0||pt[xt+Ct]===void 0)&&ue(xt,pt.length-(Ct+1))}function se(pt,xt,Ct,At,Ft,Wt){if(pt>Ct||pt<xt){var Qt=typeof xt=="bigint"?"n":"",he;throw Wt>3?xt===0||xt===BigInt(0)?he=">= 0".concat(Qt," and < 2").concat(Qt," ** ").concat((Wt+1)*8).concat(Qt):he=">= -(2".concat(Qt," ** ").concat((Wt+1)*8-1).concat(Qt,") and < 2 ** ")+"".concat((Wt+1)*8-1).concat(Qt):he=">= ".concat(xt).concat(Qt," and <= ").concat(Ct).concat(Qt),new Rt.ERR_OUT_OF_RANGE("value",he,pt)}Xt(At,Ft,Wt)}function Yt(pt,xt){if(typeof pt!="number")throw new Rt.ERR_INVALID_ARG_TYPE(xt,"number",pt)}function ue(pt,xt,Ct){throw Math.floor(pt)!==pt?(Yt(pt,Ct),new Rt.ERR_OUT_OF_RANGE(Ct||"offset","an integer",pt)):xt<0?new Rt.ERR_BUFFER_OUT_OF_BOUNDS:new Rt.ERR_OUT_OF_RANGE(Ct||"offset",">= ".concat(Ct?1:0," and <= ").concat(xt),pt)}var ie=/[^+/0-9A-Za-z-_]/g;function fe(pt){if(pt=pt.split("=")[0],pt=pt.trim().replace(ie,""),pt.length<2)return"";for(;pt.length%4!==0;)pt=pt+"=";return pt}function ce(pt,xt){xt=xt||1/0;for(var Ct,At=pt.length,Ft=null,Wt=[],Qt=0;Qt<At;++Qt){if(Ct=pt.charCodeAt(Qt),Ct>55295&&Ct<57344){if(!Ft){if(Ct>56319){(xt-=3)>-1&&Wt.push(239,191,189);continue}else if(Qt+1===At){(xt-=3)>-1&&Wt.push(239,191,189);continue}Ft=Ct;continue}if(Ct<56320){(xt-=3)>-1&&Wt.push(239,191,189),Ft=Ct;continue}Ct=(Ft-55296<<10|Ct-56320)+65536}else Ft&&(xt-=3)>-1&&Wt.push(239,191,189);if(Ft=null,Ct<128){if((xt-=1)<0)break;Wt.push(Ct)}else if(Ct<2048){if((xt-=2)<0)break;Wt.push(Ct>>6|192,Ct&63|128)}else if(Ct<65536){if((xt-=3)<0)break;Wt.push(Ct>>12|224,Ct>>6&63|128,Ct&63|128)}else if(Ct<1114112){if((xt-=4)<0)break;Wt.push(Ct>>18|240,Ct>>12&63|128,Ct>>6&63|128,Ct&63|128)}else throw new Error("Invalid code point")}return Wt}function ye(pt){for(var xt=[],Ct=0;Ct<pt.length;++Ct)xt.push(pt.charCodeAt(Ct)&255);return xt}function de(pt,xt){for(var Ct,At,Ft,Wt=[],Qt=0;Qt<pt.length&&!((xt-=2)<0);++Qt)Ct=pt.charCodeAt(Qt),At=Ct>>8,Ft=Ct%256,Wt.push(Ft),Wt.push(At);return Wt}function Te(pt){return p.toByteArray(fe(pt))}function Et(pt,xt,Ct,At){var Ft;for(Ft=0;Ft<At&&!(Ft+Ct>=xt.length||Ft>=pt.length);++Ft)xt[Ft+Ct]=pt[Ft];return Ft}function Vt(pt,xt){return pt instanceof xt||pt!=null&&pt.constructor!=null&&pt.constructor.name!=null&&pt.constructor.name===xt.name}function te(pt){return pt!==pt}var Jt=function(){for(var pt="0123456789abcdef",xt=new Array(256),Ct=0;Ct<16;++Ct)for(var At=Ct*16,Ft=0;Ft<16;++Ft)xt[At+Ft]=pt[Ct]+pt[Ft];return xt}();function Ut(pt){return typeof BigInt>"u"?It:pt}function It(){throw new Error("BigInt not supported")}},2321:function(d){d.exports=s,d.exports.isMobile=s,d.exports.default=s;var v=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,e=/android|ipad|playbook|silk/i;function s(n){n||(n={});var l=n.ua;if(!l&&typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var o=v.test(l)&&!r.test(l)||!!n.tablet&&e.test(l);return!o&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(o=!0),o}},3910:function(d,v){v.byteLength=b,v.toByteArray=k,v.fromByteArray=p;for(var r=[],e=[],s=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,o=n.length;l<o;++l)r[l]=n[l],e[n.charCodeAt(l)]=l;e[45]=62,e[95]=63;function h(w){var S=w.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=w.indexOf("=");_===-1&&(_=S);var T=_===S?0:4-_%4;return[_,T]}function b(w){var S=h(w),_=S[0],T=S[1];return(_+T)*3/4-T}function f(w,S,_){return(S+_)*3/4-_}function k(w){var S,_=h(w),T=_[0],P=_[1],u=new s(f(w,T,P)),g=0,L=P>0?T-4:T,A;for(A=0;A<L;A+=4)S=e[w.charCodeAt(A)]<<18|e[w.charCodeAt(A+1)]<<12|e[w.charCodeAt(A+2)]<<6|e[w.charCodeAt(A+3)],u[g++]=S>>16&255,u[g++]=S>>8&255,u[g++]=S&255;return P===2&&(S=e[w.charCodeAt(A)]<<2|e[w.charCodeAt(A+1)]>>4,u[g++]=S&255),P===1&&(S=e[w.charCodeAt(A)]<<10|e[w.charCodeAt(A+1)]<<4|e[w.charCodeAt(A+2)]>>2,u[g++]=S>>8&255,u[g++]=S&255),u}function a(w){return r[w>>18&63]+r[w>>12&63]+r[w>>6&63]+r[w&63]}function c(w,S,_){for(var T,P=[],u=S;u<_;u+=3)T=(w[u]<<16&16711680)+(w[u+1]<<8&65280)+(w[u+2]&255),P.push(a(T));return P.join("")}function p(w){for(var S,_=w.length,T=_%3,P=[],u=16383,g=0,L=_-T;g<L;g+=u)P.push(c(w,g,g+u>L?L:g+u));return T===1?(S=w[_-1],P.push(r[S>>2]+r[S<<4&63]+"==")):T===2&&(S=(w[_-2]<<8)+w[_-1],P.push(r[S>>10]+r[S>>4&63]+r[S<<2&63]+"=")),P.join("")}},3187:function(d,v){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */v.read=function(r,e,s,n,l){var o,h,b=l*8-n-1,f=(1<<b)-1,k=f>>1,a=-7,c=s?l-1:0,p=s?-1:1,w=r[e+c];for(c+=p,o=w&(1<<-a)-1,w>>=-a,a+=b;a>0;o=o*256+r[e+c],c+=p,a-=8);for(h=o&(1<<-a)-1,o>>=-a,a+=n;a>0;h=h*256+r[e+c],c+=p,a-=8);if(o===0)o=1-k;else{if(o===f)return h?NaN:(w?-1:1)*(1/0);h=h+Math.pow(2,n),o=o-k}return(w?-1:1)*h*Math.pow(2,o-n)},v.write=function(r,e,s,n,l,o){var h,b,f,k=o*8-l-1,a=(1<<k)-1,c=a>>1,p=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,S=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(b=isNaN(e)?1:0,h=a):(h=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-h))<1&&(h--,f*=2),h+c>=1?e+=p/f:e+=p*Math.pow(2,1-c),e*f>=2&&(h++,f/=2),h+c>=a?(b=0,h=a):h+c>=1?(b=(e*f-1)*Math.pow(2,l),h=h+c):(b=e*Math.pow(2,c-1)*Math.pow(2,l),h=0));l>=8;r[s+w]=b&255,w+=S,b/=256,l-=8);for(h=h<<l|b,k+=l;k>0;r[s+w]=h&255,w+=S,h/=256,k-=8);r[s+w-S]|=_*128}},1152:function(d,v,r){d.exports=h;var e=r(3440),s=r(7774),n=r(9298);function l(b,f){this._controllerNames=Object.keys(b),this._controllerList=this._controllerNames.map(function(k){return b[k]}),this._mode=f,this._active=b[f],this._active||(this._mode="turntable",this._active=b.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=l.prototype;o.flush=function(b){for(var f=this._controllerList,k=0;k<f.length;++k)f[k].flush(b)},o.idle=function(b){for(var f=this._controllerList,k=0;k<f.length;++k)f[k].idle(b)},o.lookAt=function(b,f,k,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].lookAt(b,f,k,a)},o.rotate=function(b,f,k,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].rotate(b,f,k,a)},o.pan=function(b,f,k,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].pan(b,f,k,a)},o.translate=function(b,f,k,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].translate(b,f,k,a)},o.setMatrix=function(b,f){for(var k=this._controllerList,a=0;a<k.length;++a)k[a].setMatrix(b,f)},o.setDistanceLimits=function(b,f){for(var k=this._controllerList,a=0;a<k.length;++a)k[a].setDistanceLimits(b,f)},o.setDistance=function(b,f){for(var k=this._controllerList,a=0;a<k.length;++a)k[a].setDistance(b,f)},o.recalcMatrix=function(b){this._active.recalcMatrix(b)},o.getDistance=function(b){return this._active.getDistance(b)},o.getDistanceLimits=function(b){return this._active.getDistanceLimits(b)},o.lastT=function(){return this._active.lastT()},o.setMode=function(b){if(b!==this._mode){var f=this._controllerNames.indexOf(b);if(!(f<0)){var k=this._active,a=this._controllerList[f],c=Math.max(k.lastT(),a.lastT());k.recalcMatrix(c),a.setMatrix(c,k.computedMatrix),this._active=a,this._mode=b,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},o.getMode=function(){return this._mode};function h(b){b=b||{};var f=b.eye||[0,0,1],k=b.center||[0,0,0],a=b.up||[0,1,0],c=b.distanceLimits||[0,1/0],p=b.mode||"turntable",w=e(),S=s(),_=n();return w.setDistanceLimits(c[0],c[1]),w.lookAt(0,f,k,a),S.setDistanceLimits(c[0],c[1]),S.lookAt(0,f,k,a),_.setDistanceLimits(c[0],c[1]),_.lookAt(0,f,k,a),new l({turntable:w,orbit:S,matrix:_},p)}},8126:function(d,v,r){var e=typeof WeakMap>"u"?r(5346):WeakMap,s=r(5827),n=r(2944),l=new e;function o(h){var b=l.get(h),f=b&&(b._triangleBuffer.handle||b._triangleBuffer.buffer);if(!f||!h.isBuffer(f)){var k=s(h,new Float32Array([-1,-1,-1,4,4,-1]));b=n(h,[{buffer:k,type:h.FLOAT,size:2}]),b._triangleBuffer=k,l.set(h,b)}b.bind(),h.drawArrays(h.TRIANGLES,0,3),b.unbind()}d.exports=o},8008:function(d,v,r){var e=r(4930);d.exports=s;function s(n,l,o){l=typeof l=="number"?l:1,o=o||": ";var h=n.split(/\r?\n/),b=String(h.length+l-1).length;return h.map(function(f,k){var a=k+l,c=String(a).length,p=e(a,b-c);return p+o+f}).join(`
`)}},2153:function(d,v,r){d.exports=n;var e=r(417);function s(l,o){for(var h=new Array(o+1),b=0;b<l.length;++b)h[b]=l[b];for(var b=0;b<=l.length;++b){for(var f=l.length;f<=o;++f){for(var k=new Array(o),a=0;a<o;++a)k[a]=Math.pow(f+1-b,a);h[f]=k}var c=e.apply(void 0,h);if(c)return!0}return!1}function n(l){var o=l.length;if(o===0)return[];if(o===1)return[0];for(var h=l[0].length,b=[l[0]],f=[0],k=1;k<o;++k){if(b.push(l[k]),!s(b,h)){b.pop();continue}if(f.push(k),f.length===h+1)return f}return f}},4653:function(d,v,r){d.exports=n;var e=r(4419),s=r(1778);function n(l,o){return e(o).filter(function(h){for(var b=new Array(h.length),f=0;f<h.length;++f)b[f]=o[h[f]];return s(b)*l<1})}},2350:function(d,v,r){d.exports=n;var e=r(4653),s=r(8691);function n(l,o){return s(e(l,o))}},7896:function(d){d.exports=function(v){return atob(v)}},957:function(d,v,r){d.exports=n;var e=r(6606);function s(l){for(var o=0,h=0;h<l.length;++h)o+=l[h];return o}function n(l,o){for(var h=o.length,b=new Array(h+1),f=0;f<h;++f){for(var k=new Array(h+1),a=0;a<=h;++a)k[a]=l[a][f];b[f]=k}b[h]=new Array(h+1);for(var f=0;f<=h;++f)b[h][f]=1;for(var c=new Array(h+1),f=0;f<h;++f)c[f]=o[f];c[h]=1;var p=e(b,c),w=s(p[h+1]);w===0&&(w=1);for(var S=new Array(h+1),f=0;f<=h;++f)S[f]=s(p[f])/w;return S}},1539:function(d,v,r){var e=r(8524);d.exports=s;function s(n,l){return e(n[0].mul(l[1]).add(l[0].mul(n[1])),n[1].mul(l[1]))}},8846:function(d){d.exports=v;function v(r,e){return r[0].mul(e[1]).cmp(e[0].mul(r[1]))}},9189:function(d,v,r){var e=r(8524);d.exports=s;function s(n,l){return e(n[0].mul(l[1]),n[1].mul(l[0]))}},5125:function(d,v,r){var e=r(234),s=r(3218),n=r(5514),l=r(2813),o=r(8524),h=r(9189);d.exports=b;function b(f,k){if(e(f))return k?h(f,b(k)):[f[0].clone(),f[1].clone()];var a=0,c,p;if(s(f))c=f.clone();else if(typeof f=="string")c=l(f);else{if(f===0)return[n(0),n(1)];if(f===Math.floor(f))c=n(f);else{for(;f!==Math.floor(f);)f=f*Math.pow(2,256),a-=256;c=n(f)}}if(e(k))c.mul(k[1]),p=k[0].clone();else if(s(k))p=k.clone();else if(typeof k=="string")p=l(k);else if(!k)p=n(1);else if(k===Math.floor(k))p=n(k);else{for(;k!==Math.floor(k);)k=k*Math.pow(2,256),a+=256;p=n(k)}return a>0?c=c.ushln(a):a<0&&(p=p.ushln(-a)),o(c,p)}},234:function(d,v,r){var e=r(3218);d.exports=s;function s(n){return Array.isArray(n)&&n.length===2&&e(n[0])&&e(n[1])}},4275:function(d,v,r){var e=r(1928);d.exports=s;function s(n){return n.cmp(new e(0))}},9958:function(d,v,r){var e=r(4275);d.exports=s;function s(n){var l=n.length,o=n.words,h=0;if(l===1)h=o[0];else if(l===2)h=o[0]+o[1]*67108864;else for(var b=0;b<l;b++){var f=o[b];h+=f*Math.pow(67108864,b)}return e(n)*h}},1112:function(d,v,r){var e=r(8362),s=r(2288).countTrailingZeros;d.exports=n;function n(l){var o=s(e.lo(l));if(o<32)return o;var h=s(e.hi(l));return h>20?52:h+32}},3218:function(d,v,r){r(1928),d.exports=e;function e(s){return s&&typeof s=="object"&&!!s.words}},5514:function(d,v,r){var e=r(1928),s=r(8362);d.exports=n;function n(l){var o=s.exponent(l);return o<52?new e(l):new e(l*Math.pow(2,52-o)).ushln(o-52)}},8524:function(d,v,r){var e=r(5514),s=r(4275);d.exports=n;function n(l,o){var h=s(l),b=s(o);if(h===0)return[e(0),e(1)];if(b===0)return[e(0),e(0)];b<0&&(l=l.neg(),o=o.neg());var f=l.gcd(o);return f.cmpn(1)?[l.div(f),o.div(f)]:[l,o]}},2813:function(d,v,r){var e=r(1928);d.exports=s;function s(n){return new e(n)}},3962:function(d,v,r){var e=r(8524);d.exports=s;function s(n,l){return e(n[0].mul(l[0]),n[1].mul(l[1]))}},4951:function(d,v,r){var e=r(4275);d.exports=s;function s(n){return e(n[0])*e(n[1])}},4354:function(d,v,r){var e=r(8524);d.exports=s;function s(n,l){return e(n[0].mul(l[1]).sub(n[1].mul(l[0])),n[1].mul(l[1]))}},7999:function(d,v,r){var e=r(9958),s=r(1112);d.exports=n;function n(l){var o=l[0],h=l[1];if(o.cmpn(0)===0)return 0;var b=o.abs().divmod(h.abs()),f=b.div,k=e(f),a=b.mod,c=o.negative!==h.negative?-1:1;if(a.cmpn(0)===0)return c*k;if(k){var p=s(k)+4,w=e(a.ushln(p).divRound(h));return c*(k+w*Math.pow(2,-p))}else{var S=h.bitLength()-a.bitLength()+53,w=e(a.ushln(S).divRound(h));return S<1023?c*w*Math.pow(2,-S):(w*=Math.pow(2,-1023),c*w*Math.pow(2,1023-S))}}},5070:function(d){function v(o,h,b,f,k){for(var a=k+1;f<=k;){var c=f+k>>>1,p=o[c],w=b!==void 0?b(p,h):p-h;w>=0?(a=c,k=c-1):f=c+1}return a}function r(o,h,b,f,k){for(var a=k+1;f<=k;){var c=f+k>>>1,p=o[c],w=b!==void 0?b(p,h):p-h;w>0?(a=c,k=c-1):f=c+1}return a}function e(o,h,b,f,k){for(var a=f-1;f<=k;){var c=f+k>>>1,p=o[c],w=b!==void 0?b(p,h):p-h;w<0?(a=c,f=c+1):k=c-1}return a}function s(o,h,b,f,k){for(var a=f-1;f<=k;){var c=f+k>>>1,p=o[c],w=b!==void 0?b(p,h):p-h;w<=0?(a=c,f=c+1):k=c-1}return a}function n(o,h,b,f,k){for(;f<=k;){var a=f+k>>>1,c=o[a],p=b!==void 0?b(c,h):c-h;if(p===0)return a;p<=0?f=a+1:k=a-1}return-1}function l(o,h,b,f,k,a){return typeof b=="function"?a(o,h,b,f===void 0?0:f|0,k===void 0?o.length-1:k|0):a(o,h,void 0,b===void 0?0:b|0,f===void 0?o.length-1:f|0)}d.exports={ge:function(o,h,b,f,k){return l(o,h,b,f,k,v)},gt:function(o,h,b,f,k){return l(o,h,b,f,k,r)},lt:function(o,h,b,f,k){return l(o,h,b,f,k,e)},le:function(o,h,b,f,k){return l(o,h,b,f,k,s)},eq:function(o,h,b,f,k){return l(o,h,b,f,k,n)}}},2288:function(d,v){"use restrict";var r=32;v.INT_BITS=r,v.INT_MAX=2147483647,v.INT_MIN=-1<<r-1,v.sign=function(n){return(n>0)-(n<0)},v.abs=function(n){var l=n>>r-1;return(n^l)-l},v.min=function(n,l){return l^(n^l)&-(n<l)},v.max=function(n,l){return n^(n^l)&-(n<l)},v.isPow2=function(n){return!(n&n-1)&&!!n},v.log2=function(n){var l,o;return l=(n>65535)<<4,n>>>=l,o=(n>255)<<3,n>>>=o,l|=o,o=(n>15)<<2,n>>>=o,l|=o,o=(n>3)<<1,n>>>=o,l|=o,l|n>>1},v.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},v.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function e(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}v.countTrailingZeros=e,v.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},v.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},v.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var l=0;l<256;++l){var o=l,h=l,b=7;for(o>>>=1;o;o>>>=1)h<<=1,h|=o&1,--b;n[l]=h<<b&255}})(s),v.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},v.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},v.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},v.interleave3=function(n,l,o){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,n|o<<2},v.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},v.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>e(n)+1}},1928:function(d,v,r){d=r.nmd(d),function(e,s){function n(I,j){if(!I)throw new Error(j||"Assertion failed")}function l(I,j){I.super_=j;var V=function(){};V.prototype=j.prototype,I.prototype=new V,I.prototype.constructor=I}function o(I,j,V){if(o.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((j==="le"||j==="be")&&(V=j,j=10),this._init(I||0,j||10,V||"be"))}typeof e=="object"?e.exports=o:s.BN=o,o.BN=o,o.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=r(6601).Buffer}catch{}o.isBN=function(I){return I instanceof o?!0:I!==null&&typeof I=="object"&&I.constructor.wordSize===o.wordSize&&Array.isArray(I.words)},o.max=function(I,j){return I.cmp(j)>0?I:j},o.min=function(I,j){return I.cmp(j)<0?I:j},o.prototype._init=function(I,j,V){if(typeof I=="number")return this._initNumber(I,j,V);if(typeof I=="object")return this._initArray(I,j,V);j==="hex"&&(j=16),n(j===(j|0)&&j>=2&&j<=36),I=I.toString().replace(/\s+/g,"");var W=0;I[0]==="-"&&(W++,this.negative=1),W<I.length&&(j===16?this._parseHex(I,W,V):(this._parseBase(I,j,W),V==="le"&&this._initArray(this.toArray(),j,V)))},o.prototype._initNumber=function(I,j,V){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[I&67108863],this.length=1):I<4503599627370496?(this.words=[I&67108863,I/67108864&67108863],this.length=2):(n(I<9007199254740992),this.words=[I&67108863,I/67108864&67108863,1],this.length=3),V==="le"&&this._initArray(this.toArray(),j,V)},o.prototype._initArray=function(I,j,V){if(n(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var K,et,lt=0;if(V==="be")for(W=I.length-1,K=0;W>=0;W-=3)et=I[W]|I[W-1]<<8|I[W-2]<<16,this.words[K]|=et<<lt&67108863,this.words[K+1]=et>>>26-lt&67108863,lt+=24,lt>=26&&(lt-=26,K++);else if(V==="le")for(W=0,K=0;W<I.length;W+=3)et=I[W]|I[W+1]<<8|I[W+2]<<16,this.words[K]|=et<<lt&67108863,this.words[K+1]=et>>>26-lt&67108863,lt+=24,lt>=26&&(lt-=26,K++);return this.strip()};function b(I,j){var V=I.charCodeAt(j);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function f(I,j,V){var W=b(I,V);return V-1>=j&&(W|=b(I,V-1)<<4),W}o.prototype._parseHex=function(I,j,V){this.length=Math.ceil((I.length-j)/6),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var K=0,et=0,lt;if(V==="be")for(W=I.length-1;W>=j;W-=2)lt=f(I,j,W)<<K,this.words[et]|=lt&67108863,K>=18?(K-=18,et+=1,this.words[et]|=lt>>>26):K+=8;else{var ot=I.length-j;for(W=ot%2===0?j+1:j;W<I.length;W+=2)lt=f(I,j,W)<<K,this.words[et]|=lt&67108863,K>=18?(K-=18,et+=1,this.words[et]|=lt>>>26):K+=8}this.strip()};function k(I,j,V,W){for(var K=0,et=Math.min(I.length,V),lt=j;lt<et;lt++){var ot=I.charCodeAt(lt)-48;K*=W,ot>=49?K+=ot-49+10:ot>=17?K+=ot-17+10:K+=ot}return K}o.prototype._parseBase=function(I,j,V){this.words=[0],this.length=1;for(var W=0,K=1;K<=67108863;K*=j)W++;W--,K=K/j|0;for(var et=I.length-V,lt=et%W,ot=Math.min(et,et-lt)+V,q=0,J=V;J<ot;J+=W)q=k(I,J,J+W,j),this.imuln(K),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(lt!==0){var it=1;for(q=k(I,J,I.length,j),J=0;J<lt;J++)it*=j;this.imuln(it),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},o.prototype.copy=function(I){I.words=new Array(this.length);for(var j=0;j<this.length;j++)I.words[j]=this.words[j];I.length=this.length,I.negative=this.negative,I.red=this.red},o.prototype.clone=function(){var I=new o(null);return this.copy(I),I},o.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(I,j){I=I||10,j=j|0||1;var V;if(I===16||I==="hex"){V="";for(var W=0,K=0,et=0;et<this.length;et++){var lt=this.words[et],ot=((lt<<W|K)&16777215).toString(16);K=lt>>>24-W&16777215,K!==0||et!==this.length-1?V=a[6-ot.length]+ot+V:V=ot+V,W+=2,W>=26&&(W-=26,et--)}for(K!==0&&(V=K.toString(16)+V);V.length%j!==0;)V="0"+V;return this.negative!==0&&(V="-"+V),V}if(I===(I|0)&&I>=2&&I<=36){var q=c[I],J=p[I];V="";var it=this.clone();for(it.negative=0;!it.isZero();){var Z=it.modn(J).toString(I);it=it.idivn(J),it.isZero()?V=Z+V:V=a[q-Z.length]+Z+V}for(this.isZero()&&(V="0"+V);V.length%j!==0;)V="0"+V;return this.negative!==0&&(V="-"+V),V}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=this.words[1]*67108864:this.length===3&&this.words[2]===1?I+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(I,j){return n(typeof h<"u"),this.toArrayLike(h,I,j)},o.prototype.toArray=function(I,j){return this.toArrayLike(Array,I,j)},o.prototype.toArrayLike=function(I,j,V){var W=this.byteLength(),K=V||Math.max(1,W);n(W<=K,"byte array longer than desired length"),n(K>0,"Requested array length <= 0"),this.strip();var et=j==="le",lt=new I(K),ot,q,J=this.clone();if(et){for(q=0;!J.isZero();q++)ot=J.andln(255),J.iushrn(8),lt[q]=ot;for(;q<K;q++)lt[q]=0}else{for(q=0;q<K-W;q++)lt[q]=0;for(q=0;!J.isZero();q++)ot=J.andln(255),J.iushrn(8),lt[K-q-1]=ot}return lt},Math.clz32?o.prototype._countBits=function(I){return 32-Math.clz32(I)}:o.prototype._countBits=function(I){var j=I,V=0;return j>=4096&&(V+=13,j>>>=13),j>=64&&(V+=7,j>>>=7),j>=8&&(V+=4,j>>>=4),j>=2&&(V+=2,j>>>=2),V+j},o.prototype._zeroBits=function(I){if(I===0)return 26;var j=I,V=0;return j&8191||(V+=13,j>>>=13),j&127||(V+=7,j>>>=7),j&15||(V+=4,j>>>=4),j&3||(V+=2,j>>>=2),j&1||V++,V},o.prototype.bitLength=function(){var I=this.words[this.length-1],j=this._countBits(I);return(this.length-1)*26+j};function w(I){for(var j=new Array(I.bitLength()),V=0;V<j.length;V++){var W=V/26|0,K=V%26;j[V]=(I.words[W]&1<<K)>>>K}return j}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,j=0;j<this.length;j++){var V=this._zeroBits(this.words[j]);if(I+=V,V!==26)break}return I},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},o.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var j=0;j<I.length;j++)this.words[j]=this.words[j]|I.words[j];return this.strip()},o.prototype.ior=function(I){return n((this.negative|I.negative)===0),this.iuor(I)},o.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},o.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},o.prototype.iuand=function(I){var j;this.length>I.length?j=I:j=this;for(var V=0;V<j.length;V++)this.words[V]=this.words[V]&I.words[V];return this.length=j.length,this.strip()},o.prototype.iand=function(I){return n((this.negative|I.negative)===0),this.iuand(I)},o.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},o.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},o.prototype.iuxor=function(I){var j,V;this.length>I.length?(j=this,V=I):(j=I,V=this);for(var W=0;W<V.length;W++)this.words[W]=j.words[W]^V.words[W];if(this!==j)for(;W<j.length;W++)this.words[W]=j.words[W];return this.length=j.length,this.strip()},o.prototype.ixor=function(I){return n((this.negative|I.negative)===0),this.iuxor(I)},o.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},o.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},o.prototype.inotn=function(I){n(typeof I=="number"&&I>=0);var j=Math.ceil(I/26)|0,V=I%26;this._expand(j),V>0&&j--;for(var W=0;W<j;W++)this.words[W]=~this.words[W]&67108863;return V>0&&(this.words[W]=~this.words[W]&67108863>>26-V),this.strip()},o.prototype.notn=function(I){return this.clone().inotn(I)},o.prototype.setn=function(I,j){n(typeof I=="number"&&I>=0);var V=I/26|0,W=I%26;return this._expand(V+1),j?this.words[V]=this.words[V]|1<<W:this.words[V]=this.words[V]&~(1<<W),this.strip()},o.prototype.iadd=function(I){var j;if(this.negative!==0&&I.negative===0)return this.negative=0,j=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,j=this.isub(I),I.negative=1,j._normSign();var V,W;this.length>I.length?(V=this,W=I):(V=I,W=this);for(var K=0,et=0;et<W.length;et++)j=(V.words[et]|0)+(W.words[et]|0)+K,this.words[et]=j&67108863,K=j>>>26;for(;K!==0&&et<V.length;et++)j=(V.words[et]|0)+K,this.words[et]=j&67108863,K=j>>>26;if(this.length=V.length,K!==0)this.words[this.length]=K,this.length++;else if(V!==this)for(;et<V.length;et++)this.words[et]=V.words[et];return this},o.prototype.add=function(I){var j;return I.negative!==0&&this.negative===0?(I.negative=0,j=this.sub(I),I.negative^=1,j):I.negative===0&&this.negative!==0?(this.negative=0,j=I.sub(this),this.negative=1,j):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},o.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var j=this.iadd(I);return I.negative=1,j._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var V=this.cmp(I);if(V===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,K;V>0?(W=this,K=I):(W=I,K=this);for(var et=0,lt=0;lt<K.length;lt++)j=(W.words[lt]|0)-(K.words[lt]|0)+et,et=j>>26,this.words[lt]=j&67108863;for(;et!==0&&lt<W.length;lt++)j=(W.words[lt]|0)+et,et=j>>26,this.words[lt]=j&67108863;if(et===0&&lt<W.length&&W!==this)for(;lt<W.length;lt++)this.words[lt]=W.words[lt];return this.length=Math.max(this.length,lt),W!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(I){return this.clone().isub(I)};function S(I,j,V){V.negative=j.negative^I.negative;var W=I.length+j.length|0;V.length=W,W=W-1|0;var K=I.words[0]|0,et=j.words[0]|0,lt=K*et,ot=lt&67108863,q=lt/67108864|0;V.words[0]=ot;for(var J=1;J<W;J++){for(var it=q>>>26,Z=q&67108863,tt=Math.min(J,j.length-1),st=Math.max(0,J-I.length+1);st<=tt;st++){var Q=J-st|0;K=I.words[Q]|0,et=j.words[st]|0,lt=K*et+Z,it+=lt/67108864|0,Z=lt&67108863}V.words[J]=Z|0,q=it|0}return q!==0?V.words[J]=q|0:V.length--,V.strip()}var _=function(I,j,V){var W=I.words,K=j.words,et=V.words,lt=0,ot,q,J,it=W[0]|0,Z=it&8191,tt=it>>>13,st=W[1]|0,Q=st&8191,G=st>>>13,ut=W[2]|0,at=ut&8191,dt=ut>>>13,gt=W[3]|0,wt=gt&8191,kt=gt>>>13,Ot=W[4]|0,bt=Ot&8191,_t=Ot>>>13,mt=W[5]|0,Pt=mt&8191,Rt=mt>>>13,Ht=W[6]|0,Dt=Ht&8191,Xt=Ht>>>13,se=W[7]|0,Yt=se&8191,ue=se>>>13,ie=W[8]|0,fe=ie&8191,ce=ie>>>13,ye=W[9]|0,de=ye&8191,Te=ye>>>13,Et=K[0]|0,Vt=Et&8191,te=Et>>>13,Jt=K[1]|0,Ut=Jt&8191,It=Jt>>>13,pt=K[2]|0,xt=pt&8191,Ct=pt>>>13,At=K[3]|0,Ft=At&8191,Wt=At>>>13,Qt=K[4]|0,he=Qt&8191,ve=Qt>>>13,Je=K[5]|0,Ue=Je&8191,ke=Je>>>13,Le=K[6]|0,Ge=Le&8191,mr=Le>>>13,xe=K[7]|0,Xe=xe&8191,Ye=xe>>>13,_r=K[8]|0,rr=_r&8191,re=_r>>>13,le=K[9]|0,me=le&8191,Ee=le>>>13;V.negative=I.negative^j.negative,V.length=19,ot=Math.imul(Z,Vt),q=Math.imul(Z,te),q=q+Math.imul(tt,Vt)|0,J=Math.imul(tt,te);var ze=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(ze>>>26)|0,ze&=67108863,ot=Math.imul(Q,Vt),q=Math.imul(Q,te),q=q+Math.imul(G,Vt)|0,J=Math.imul(G,te),ot=ot+Math.imul(Z,Ut)|0,q=q+Math.imul(Z,It)|0,q=q+Math.imul(tt,Ut)|0,J=J+Math.imul(tt,It)|0;var Oe=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,ot=Math.imul(at,Vt),q=Math.imul(at,te),q=q+Math.imul(dt,Vt)|0,J=Math.imul(dt,te),ot=ot+Math.imul(Q,Ut)|0,q=q+Math.imul(Q,It)|0,q=q+Math.imul(G,Ut)|0,J=J+Math.imul(G,It)|0,ot=ot+Math.imul(Z,xt)|0,q=q+Math.imul(Z,Ct)|0,q=q+Math.imul(tt,xt)|0,J=J+Math.imul(tt,Ct)|0;var Fe=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,ot=Math.imul(wt,Vt),q=Math.imul(wt,te),q=q+Math.imul(kt,Vt)|0,J=Math.imul(kt,te),ot=ot+Math.imul(at,Ut)|0,q=q+Math.imul(at,It)|0,q=q+Math.imul(dt,Ut)|0,J=J+Math.imul(dt,It)|0,ot=ot+Math.imul(Q,xt)|0,q=q+Math.imul(Q,Ct)|0,q=q+Math.imul(G,xt)|0,J=J+Math.imul(G,Ct)|0,ot=ot+Math.imul(Z,Ft)|0,q=q+Math.imul(Z,Wt)|0,q=q+Math.imul(tt,Ft)|0,J=J+Math.imul(tt,Wt)|0;var Re=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(Re>>>26)|0,Re&=67108863,ot=Math.imul(bt,Vt),q=Math.imul(bt,te),q=q+Math.imul(_t,Vt)|0,J=Math.imul(_t,te),ot=ot+Math.imul(wt,Ut)|0,q=q+Math.imul(wt,It)|0,q=q+Math.imul(kt,Ut)|0,J=J+Math.imul(kt,It)|0,ot=ot+Math.imul(at,xt)|0,q=q+Math.imul(at,Ct)|0,q=q+Math.imul(dt,xt)|0,J=J+Math.imul(dt,Ct)|0,ot=ot+Math.imul(Q,Ft)|0,q=q+Math.imul(Q,Wt)|0,q=q+Math.imul(G,Ft)|0,J=J+Math.imul(G,Wt)|0,ot=ot+Math.imul(Z,he)|0,q=q+Math.imul(Z,ve)|0,q=q+Math.imul(tt,he)|0,J=J+Math.imul(tt,ve)|0;var Ke=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,ot=Math.imul(Pt,Vt),q=Math.imul(Pt,te),q=q+Math.imul(Rt,Vt)|0,J=Math.imul(Rt,te),ot=ot+Math.imul(bt,Ut)|0,q=q+Math.imul(bt,It)|0,q=q+Math.imul(_t,Ut)|0,J=J+Math.imul(_t,It)|0,ot=ot+Math.imul(wt,xt)|0,q=q+Math.imul(wt,Ct)|0,q=q+Math.imul(kt,xt)|0,J=J+Math.imul(kt,Ct)|0,ot=ot+Math.imul(at,Ft)|0,q=q+Math.imul(at,Wt)|0,q=q+Math.imul(dt,Ft)|0,J=J+Math.imul(dt,Wt)|0,ot=ot+Math.imul(Q,he)|0,q=q+Math.imul(Q,ve)|0,q=q+Math.imul(G,he)|0,J=J+Math.imul(G,ve)|0,ot=ot+Math.imul(Z,Ue)|0,q=q+Math.imul(Z,ke)|0,q=q+Math.imul(tt,Ue)|0,J=J+Math.imul(tt,ke)|0;var or=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(or>>>26)|0,or&=67108863,ot=Math.imul(Dt,Vt),q=Math.imul(Dt,te),q=q+Math.imul(Xt,Vt)|0,J=Math.imul(Xt,te),ot=ot+Math.imul(Pt,Ut)|0,q=q+Math.imul(Pt,It)|0,q=q+Math.imul(Rt,Ut)|0,J=J+Math.imul(Rt,It)|0,ot=ot+Math.imul(bt,xt)|0,q=q+Math.imul(bt,Ct)|0,q=q+Math.imul(_t,xt)|0,J=J+Math.imul(_t,Ct)|0,ot=ot+Math.imul(wt,Ft)|0,q=q+Math.imul(wt,Wt)|0,q=q+Math.imul(kt,Ft)|0,J=J+Math.imul(kt,Wt)|0,ot=ot+Math.imul(at,he)|0,q=q+Math.imul(at,ve)|0,q=q+Math.imul(dt,he)|0,J=J+Math.imul(dt,ve)|0,ot=ot+Math.imul(Q,Ue)|0,q=q+Math.imul(Q,ke)|0,q=q+Math.imul(G,Ue)|0,J=J+Math.imul(G,ke)|0,ot=ot+Math.imul(Z,Ge)|0,q=q+Math.imul(Z,mr)|0,q=q+Math.imul(tt,Ge)|0,J=J+Math.imul(tt,mr)|0;var pr=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(pr>>>26)|0,pr&=67108863,ot=Math.imul(Yt,Vt),q=Math.imul(Yt,te),q=q+Math.imul(ue,Vt)|0,J=Math.imul(ue,te),ot=ot+Math.imul(Dt,Ut)|0,q=q+Math.imul(Dt,It)|0,q=q+Math.imul(Xt,Ut)|0,J=J+Math.imul(Xt,It)|0,ot=ot+Math.imul(Pt,xt)|0,q=q+Math.imul(Pt,Ct)|0,q=q+Math.imul(Rt,xt)|0,J=J+Math.imul(Rt,Ct)|0,ot=ot+Math.imul(bt,Ft)|0,q=q+Math.imul(bt,Wt)|0,q=q+Math.imul(_t,Ft)|0,J=J+Math.imul(_t,Wt)|0,ot=ot+Math.imul(wt,he)|0,q=q+Math.imul(wt,ve)|0,q=q+Math.imul(kt,he)|0,J=J+Math.imul(kt,ve)|0,ot=ot+Math.imul(at,Ue)|0,q=q+Math.imul(at,ke)|0,q=q+Math.imul(dt,Ue)|0,J=J+Math.imul(dt,ke)|0,ot=ot+Math.imul(Q,Ge)|0,q=q+Math.imul(Q,mr)|0,q=q+Math.imul(G,Ge)|0,J=J+Math.imul(G,mr)|0,ot=ot+Math.imul(Z,Xe)|0,q=q+Math.imul(Z,Ye)|0,q=q+Math.imul(tt,Xe)|0,J=J+Math.imul(tt,Ye)|0;var hr=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(hr>>>26)|0,hr&=67108863,ot=Math.imul(fe,Vt),q=Math.imul(fe,te),q=q+Math.imul(ce,Vt)|0,J=Math.imul(ce,te),ot=ot+Math.imul(Yt,Ut)|0,q=q+Math.imul(Yt,It)|0,q=q+Math.imul(ue,Ut)|0,J=J+Math.imul(ue,It)|0,ot=ot+Math.imul(Dt,xt)|0,q=q+Math.imul(Dt,Ct)|0,q=q+Math.imul(Xt,xt)|0,J=J+Math.imul(Xt,Ct)|0,ot=ot+Math.imul(Pt,Ft)|0,q=q+Math.imul(Pt,Wt)|0,q=q+Math.imul(Rt,Ft)|0,J=J+Math.imul(Rt,Wt)|0,ot=ot+Math.imul(bt,he)|0,q=q+Math.imul(bt,ve)|0,q=q+Math.imul(_t,he)|0,J=J+Math.imul(_t,ve)|0,ot=ot+Math.imul(wt,Ue)|0,q=q+Math.imul(wt,ke)|0,q=q+Math.imul(kt,Ue)|0,J=J+Math.imul(kt,ke)|0,ot=ot+Math.imul(at,Ge)|0,q=q+Math.imul(at,mr)|0,q=q+Math.imul(dt,Ge)|0,J=J+Math.imul(dt,mr)|0,ot=ot+Math.imul(Q,Xe)|0,q=q+Math.imul(Q,Ye)|0,q=q+Math.imul(G,Xe)|0,J=J+Math.imul(G,Ye)|0,ot=ot+Math.imul(Z,rr)|0,q=q+Math.imul(Z,re)|0,q=q+Math.imul(tt,rr)|0,J=J+Math.imul(tt,re)|0;var jt=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(jt>>>26)|0,jt&=67108863,ot=Math.imul(de,Vt),q=Math.imul(de,te),q=q+Math.imul(Te,Vt)|0,J=Math.imul(Te,te),ot=ot+Math.imul(fe,Ut)|0,q=q+Math.imul(fe,It)|0,q=q+Math.imul(ce,Ut)|0,J=J+Math.imul(ce,It)|0,ot=ot+Math.imul(Yt,xt)|0,q=q+Math.imul(Yt,Ct)|0,q=q+Math.imul(ue,xt)|0,J=J+Math.imul(ue,Ct)|0,ot=ot+Math.imul(Dt,Ft)|0,q=q+Math.imul(Dt,Wt)|0,q=q+Math.imul(Xt,Ft)|0,J=J+Math.imul(Xt,Wt)|0,ot=ot+Math.imul(Pt,he)|0,q=q+Math.imul(Pt,ve)|0,q=q+Math.imul(Rt,he)|0,J=J+Math.imul(Rt,ve)|0,ot=ot+Math.imul(bt,Ue)|0,q=q+Math.imul(bt,ke)|0,q=q+Math.imul(_t,Ue)|0,J=J+Math.imul(_t,ke)|0,ot=ot+Math.imul(wt,Ge)|0,q=q+Math.imul(wt,mr)|0,q=q+Math.imul(kt,Ge)|0,J=J+Math.imul(kt,mr)|0,ot=ot+Math.imul(at,Xe)|0,q=q+Math.imul(at,Ye)|0,q=q+Math.imul(dt,Xe)|0,J=J+Math.imul(dt,Ye)|0,ot=ot+Math.imul(Q,rr)|0,q=q+Math.imul(Q,re)|0,q=q+Math.imul(G,rr)|0,J=J+Math.imul(G,re)|0,ot=ot+Math.imul(Z,me)|0,q=q+Math.imul(Z,Ee)|0,q=q+Math.imul(tt,me)|0,J=J+Math.imul(tt,Ee)|0;var Gt=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ot=Math.imul(de,Ut),q=Math.imul(de,It),q=q+Math.imul(Te,Ut)|0,J=Math.imul(Te,It),ot=ot+Math.imul(fe,xt)|0,q=q+Math.imul(fe,Ct)|0,q=q+Math.imul(ce,xt)|0,J=J+Math.imul(ce,Ct)|0,ot=ot+Math.imul(Yt,Ft)|0,q=q+Math.imul(Yt,Wt)|0,q=q+Math.imul(ue,Ft)|0,J=J+Math.imul(ue,Wt)|0,ot=ot+Math.imul(Dt,he)|0,q=q+Math.imul(Dt,ve)|0,q=q+Math.imul(Xt,he)|0,J=J+Math.imul(Xt,ve)|0,ot=ot+Math.imul(Pt,Ue)|0,q=q+Math.imul(Pt,ke)|0,q=q+Math.imul(Rt,Ue)|0,J=J+Math.imul(Rt,ke)|0,ot=ot+Math.imul(bt,Ge)|0,q=q+Math.imul(bt,mr)|0,q=q+Math.imul(_t,Ge)|0,J=J+Math.imul(_t,mr)|0,ot=ot+Math.imul(wt,Xe)|0,q=q+Math.imul(wt,Ye)|0,q=q+Math.imul(kt,Xe)|0,J=J+Math.imul(kt,Ye)|0,ot=ot+Math.imul(at,rr)|0,q=q+Math.imul(at,re)|0,q=q+Math.imul(dt,rr)|0,J=J+Math.imul(dt,re)|0,ot=ot+Math.imul(Q,me)|0,q=q+Math.imul(Q,Ee)|0,q=q+Math.imul(G,me)|0,J=J+Math.imul(G,Ee)|0;var Ce=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,ot=Math.imul(de,xt),q=Math.imul(de,Ct),q=q+Math.imul(Te,xt)|0,J=Math.imul(Te,Ct),ot=ot+Math.imul(fe,Ft)|0,q=q+Math.imul(fe,Wt)|0,q=q+Math.imul(ce,Ft)|0,J=J+Math.imul(ce,Wt)|0,ot=ot+Math.imul(Yt,he)|0,q=q+Math.imul(Yt,ve)|0,q=q+Math.imul(ue,he)|0,J=J+Math.imul(ue,ve)|0,ot=ot+Math.imul(Dt,Ue)|0,q=q+Math.imul(Dt,ke)|0,q=q+Math.imul(Xt,Ue)|0,J=J+Math.imul(Xt,ke)|0,ot=ot+Math.imul(Pt,Ge)|0,q=q+Math.imul(Pt,mr)|0,q=q+Math.imul(Rt,Ge)|0,J=J+Math.imul(Rt,mr)|0,ot=ot+Math.imul(bt,Xe)|0,q=q+Math.imul(bt,Ye)|0,q=q+Math.imul(_t,Xe)|0,J=J+Math.imul(_t,Ye)|0,ot=ot+Math.imul(wt,rr)|0,q=q+Math.imul(wt,re)|0,q=q+Math.imul(kt,rr)|0,J=J+Math.imul(kt,re)|0,ot=ot+Math.imul(at,me)|0,q=q+Math.imul(at,Ee)|0,q=q+Math.imul(dt,me)|0,J=J+Math.imul(dt,Ee)|0;var Ie=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,ot=Math.imul(de,Ft),q=Math.imul(de,Wt),q=q+Math.imul(Te,Ft)|0,J=Math.imul(Te,Wt),ot=ot+Math.imul(fe,he)|0,q=q+Math.imul(fe,ve)|0,q=q+Math.imul(ce,he)|0,J=J+Math.imul(ce,ve)|0,ot=ot+Math.imul(Yt,Ue)|0,q=q+Math.imul(Yt,ke)|0,q=q+Math.imul(ue,Ue)|0,J=J+Math.imul(ue,ke)|0,ot=ot+Math.imul(Dt,Ge)|0,q=q+Math.imul(Dt,mr)|0,q=q+Math.imul(Xt,Ge)|0,J=J+Math.imul(Xt,mr)|0,ot=ot+Math.imul(Pt,Xe)|0,q=q+Math.imul(Pt,Ye)|0,q=q+Math.imul(Rt,Xe)|0,J=J+Math.imul(Rt,Ye)|0,ot=ot+Math.imul(bt,rr)|0,q=q+Math.imul(bt,re)|0,q=q+Math.imul(_t,rr)|0,J=J+Math.imul(_t,re)|0,ot=ot+Math.imul(wt,me)|0,q=q+Math.imul(wt,Ee)|0,q=q+Math.imul(kt,me)|0,J=J+Math.imul(kt,Ee)|0;var We=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(We>>>26)|0,We&=67108863,ot=Math.imul(de,he),q=Math.imul(de,ve),q=q+Math.imul(Te,he)|0,J=Math.imul(Te,ve),ot=ot+Math.imul(fe,Ue)|0,q=q+Math.imul(fe,ke)|0,q=q+Math.imul(ce,Ue)|0,J=J+Math.imul(ce,ke)|0,ot=ot+Math.imul(Yt,Ge)|0,q=q+Math.imul(Yt,mr)|0,q=q+Math.imul(ue,Ge)|0,J=J+Math.imul(ue,mr)|0,ot=ot+Math.imul(Dt,Xe)|0,q=q+Math.imul(Dt,Ye)|0,q=q+Math.imul(Xt,Xe)|0,J=J+Math.imul(Xt,Ye)|0,ot=ot+Math.imul(Pt,rr)|0,q=q+Math.imul(Pt,re)|0,q=q+Math.imul(Rt,rr)|0,J=J+Math.imul(Rt,re)|0,ot=ot+Math.imul(bt,me)|0,q=q+Math.imul(bt,Ee)|0,q=q+Math.imul(_t,me)|0,J=J+Math.imul(_t,Ee)|0;var $e=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+($e>>>26)|0,$e&=67108863,ot=Math.imul(de,Ue),q=Math.imul(de,ke),q=q+Math.imul(Te,Ue)|0,J=Math.imul(Te,ke),ot=ot+Math.imul(fe,Ge)|0,q=q+Math.imul(fe,mr)|0,q=q+Math.imul(ce,Ge)|0,J=J+Math.imul(ce,mr)|0,ot=ot+Math.imul(Yt,Xe)|0,q=q+Math.imul(Yt,Ye)|0,q=q+Math.imul(ue,Xe)|0,J=J+Math.imul(ue,Ye)|0,ot=ot+Math.imul(Dt,rr)|0,q=q+Math.imul(Dt,re)|0,q=q+Math.imul(Xt,rr)|0,J=J+Math.imul(Xt,re)|0,ot=ot+Math.imul(Pt,me)|0,q=q+Math.imul(Pt,Ee)|0,q=q+Math.imul(Rt,me)|0,J=J+Math.imul(Rt,Ee)|0;var ir=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(ir>>>26)|0,ir&=67108863,ot=Math.imul(de,Ge),q=Math.imul(de,mr),q=q+Math.imul(Te,Ge)|0,J=Math.imul(Te,mr),ot=ot+Math.imul(fe,Xe)|0,q=q+Math.imul(fe,Ye)|0,q=q+Math.imul(ce,Xe)|0,J=J+Math.imul(ce,Ye)|0,ot=ot+Math.imul(Yt,rr)|0,q=q+Math.imul(Yt,re)|0,q=q+Math.imul(ue,rr)|0,J=J+Math.imul(ue,re)|0,ot=ot+Math.imul(Dt,me)|0,q=q+Math.imul(Dt,Ee)|0,q=q+Math.imul(Xt,me)|0,J=J+Math.imul(Xt,Ee)|0;var er=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(er>>>26)|0,er&=67108863,ot=Math.imul(de,Xe),q=Math.imul(de,Ye),q=q+Math.imul(Te,Xe)|0,J=Math.imul(Te,Ye),ot=ot+Math.imul(fe,rr)|0,q=q+Math.imul(fe,re)|0,q=q+Math.imul(ce,rr)|0,J=J+Math.imul(ce,re)|0,ot=ot+Math.imul(Yt,me)|0,q=q+Math.imul(Yt,Ee)|0,q=q+Math.imul(ue,me)|0,J=J+Math.imul(ue,Ee)|0;var De=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(De>>>26)|0,De&=67108863,ot=Math.imul(de,rr),q=Math.imul(de,re),q=q+Math.imul(Te,rr)|0,J=Math.imul(Te,re),ot=ot+Math.imul(fe,me)|0,q=q+Math.imul(fe,Ee)|0,q=q+Math.imul(ce,me)|0,J=J+Math.imul(ce,Ee)|0;var lr=(lt+ot|0)+((q&8191)<<13)|0;lt=(J+(q>>>13)|0)+(lr>>>26)|0,lr&=67108863,ot=Math.imul(de,me),q=Math.imul(de,Ee),q=q+Math.imul(Te,me)|0,J=Math.imul(Te,Ee);var vr=(lt+ot|0)+((q&8191)<<13)|0;return lt=(J+(q>>>13)|0)+(vr>>>26)|0,vr&=67108863,et[0]=ze,et[1]=Oe,et[2]=Fe,et[3]=Re,et[4]=Ke,et[5]=or,et[6]=pr,et[7]=hr,et[8]=jt,et[9]=Gt,et[10]=Ce,et[11]=Ie,et[12]=We,et[13]=$e,et[14]=ir,et[15]=er,et[16]=De,et[17]=lr,et[18]=vr,lt!==0&&(et[19]=lt,V.length++),V};Math.imul||(_=S);function T(I,j,V){V.negative=j.negative^I.negative,V.length=I.length+j.length;for(var W=0,K=0,et=0;et<V.length-1;et++){var lt=K;K=0;for(var ot=W&67108863,q=Math.min(et,j.length-1),J=Math.max(0,et-I.length+1);J<=q;J++){var it=et-J,Z=I.words[it]|0,tt=j.words[J]|0,st=Z*tt,Q=st&67108863;lt=lt+(st/67108864|0)|0,Q=Q+ot|0,ot=Q&67108863,lt=lt+(Q>>>26)|0,K+=lt>>>26,lt&=67108863}V.words[et]=ot,W=lt,lt=K}return W!==0?V.words[et]=W:V.length--,V.strip()}function P(I,j,V){var W=new u;return W.mulp(I,j,V)}o.prototype.mulTo=function(I,j){var V,W=this.length+I.length;return this.length===10&&I.length===10?V=_(this,I,j):W<63?V=S(this,I,j):W<1024?V=T(this,I,j):V=P(this,I,j),V};function u(I,j){this.x=I,this.y=j}u.prototype.makeRBT=function(I){for(var j=new Array(I),V=o.prototype._countBits(I)-1,W=0;W<I;W++)j[W]=this.revBin(W,V,I);return j},u.prototype.revBin=function(I,j,V){if(I===0||I===V-1)return I;for(var W=0,K=0;K<j;K++)W|=(I&1)<<j-K-1,I>>=1;return W},u.prototype.permute=function(I,j,V,W,K,et){for(var lt=0;lt<et;lt++)W[lt]=j[I[lt]],K[lt]=V[I[lt]]},u.prototype.transform=function(I,j,V,W,K,et){this.permute(et,I,j,V,W,K);for(var lt=1;lt<K;lt<<=1)for(var ot=lt<<1,q=Math.cos(2*Math.PI/ot),J=Math.sin(2*Math.PI/ot),it=0;it<K;it+=ot)for(var Z=q,tt=J,st=0;st<lt;st++){var Q=V[it+st],G=W[it+st],ut=V[it+st+lt],at=W[it+st+lt],dt=Z*ut-tt*at;at=Z*at+tt*ut,ut=dt,V[it+st]=Q+ut,W[it+st]=G+at,V[it+st+lt]=Q-ut,W[it+st+lt]=G-at,st!==ot&&(dt=q*Z-J*tt,tt=q*tt+J*Z,Z=dt)}},u.prototype.guessLen13b=function(I,j){var V=Math.max(j,I)|1,W=V&1,K=0;for(V=V/2|0;V;V=V>>>1)K++;return 1<<K+1+W},u.prototype.conjugate=function(I,j,V){if(!(V<=1))for(var W=0;W<V/2;W++){var K=I[W];I[W]=I[V-W-1],I[V-W-1]=K,K=j[W],j[W]=-j[V-W-1],j[V-W-1]=-K}},u.prototype.normalize13b=function(I,j){for(var V=0,W=0;W<j/2;W++){var K=Math.round(I[2*W+1]/j)*8192+Math.round(I[2*W]/j)+V;I[W]=K&67108863,K<67108864?V=0:V=K/67108864|0}return I},u.prototype.convert13b=function(I,j,V,W){for(var K=0,et=0;et<j;et++)K=K+(I[et]|0),V[2*et]=K&8191,K=K>>>13,V[2*et+1]=K&8191,K=K>>>13;for(et=2*j;et<W;++et)V[et]=0;n(K===0),n((K&-8192)===0)},u.prototype.stub=function(I){for(var j=new Array(I),V=0;V<I;V++)j[V]=0;return j},u.prototype.mulp=function(I,j,V){var W=2*this.guessLen13b(I.length,j.length),K=this.makeRBT(W),et=this.stub(W),lt=new Array(W),ot=new Array(W),q=new Array(W),J=new Array(W),it=new Array(W),Z=new Array(W),tt=V.words;tt.length=W,this.convert13b(I.words,I.length,lt,W),this.convert13b(j.words,j.length,J,W),this.transform(lt,et,ot,q,W,K),this.transform(J,et,it,Z,W,K);for(var st=0;st<W;st++){var Q=ot[st]*it[st]-q[st]*Z[st];q[st]=ot[st]*Z[st]+q[st]*it[st],ot[st]=Q}return this.conjugate(ot,q,W),this.transform(ot,q,tt,et,W,K),this.conjugate(tt,et,W),this.normalize13b(tt,W),V.negative=I.negative^j.negative,V.length=I.length+j.length,V.strip()},o.prototype.mul=function(I){var j=new o(null);return j.words=new Array(this.length+I.length),this.mulTo(I,j)},o.prototype.mulf=function(I){var j=new o(null);return j.words=new Array(this.length+I.length),P(this,I,j)},o.prototype.imul=function(I){return this.clone().mulTo(I,this)},o.prototype.imuln=function(I){n(typeof I=="number"),n(I<67108864);for(var j=0,V=0;V<this.length;V++){var W=(this.words[V]|0)*I,K=(W&67108863)+(j&67108863);j>>=26,j+=W/67108864|0,j+=K>>>26,this.words[V]=K&67108863}return j!==0&&(this.words[V]=j,this.length++),this},o.prototype.muln=function(I){return this.clone().imuln(I)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(I){var j=w(I);if(j.length===0)return new o(1);for(var V=this,W=0;W<j.length&&j[W]===0;W++,V=V.sqr());if(++W<j.length)for(var K=V.sqr();W<j.length;W++,K=K.sqr())j[W]!==0&&(V=V.mul(K));return V},o.prototype.iushln=function(I){n(typeof I=="number"&&I>=0);var j=I%26,V=(I-j)/26,W=67108863>>>26-j<<26-j,K;if(j!==0){var et=0;for(K=0;K<this.length;K++){var lt=this.words[K]&W,ot=(this.words[K]|0)-lt<<j;this.words[K]=ot|et,et=lt>>>26-j}et&&(this.words[K]=et,this.length++)}if(V!==0){for(K=this.length-1;K>=0;K--)this.words[K+V]=this.words[K];for(K=0;K<V;K++)this.words[K]=0;this.length+=V}return this.strip()},o.prototype.ishln=function(I){return n(this.negative===0),this.iushln(I)},o.prototype.iushrn=function(I,j,V){n(typeof I=="number"&&I>=0);var W;j?W=(j-j%26)/26:W=0;var K=I%26,et=Math.min((I-K)/26,this.length),lt=67108863^67108863>>>K<<K,ot=V;if(W-=et,W=Math.max(0,W),ot){for(var q=0;q<et;q++)ot.words[q]=this.words[q];ot.length=et}if(et!==0)if(this.length>et)for(this.length-=et,q=0;q<this.length;q++)this.words[q]=this.words[q+et];else this.words[0]=0,this.length=1;var J=0;for(q=this.length-1;q>=0&&(J!==0||q>=W);q--){var it=this.words[q]|0;this.words[q]=J<<26-K|it>>>K,J=it&lt}return ot&&J!==0&&(ot.words[ot.length++]=J),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(I,j,V){return n(this.negative===0),this.iushrn(I,j,V)},o.prototype.shln=function(I){return this.clone().ishln(I)},o.prototype.ushln=function(I){return this.clone().iushln(I)},o.prototype.shrn=function(I){return this.clone().ishrn(I)},o.prototype.ushrn=function(I){return this.clone().iushrn(I)},o.prototype.testn=function(I){n(typeof I=="number"&&I>=0);var j=I%26,V=(I-j)/26,W=1<<j;if(this.length<=V)return!1;var K=this.words[V];return!!(K&W)},o.prototype.imaskn=function(I){n(typeof I=="number"&&I>=0);var j=I%26,V=(I-j)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=V)return this;if(j!==0&&V++,this.length=Math.min(V,this.length),j!==0){var W=67108863^67108863>>>j<<j;this.words[this.length-1]&=W}return this.strip()},o.prototype.maskn=function(I){return this.clone().imaskn(I)},o.prototype.iaddn=function(I){return n(typeof I=="number"),n(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(this.words[0]|0)<I?(this.words[0]=I-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},o.prototype._iaddn=function(I){this.words[0]+=I;for(var j=0;j<this.length&&this.words[j]>=67108864;j++)this.words[j]-=67108864,j===this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=Math.max(this.length,j+1),this},o.prototype.isubn=function(I){if(n(typeof I=="number"),n(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&this.words[j]<0;j++)this.words[j]+=67108864,this.words[j+1]-=1;return this.strip()},o.prototype.addn=function(I){return this.clone().iaddn(I)},o.prototype.subn=function(I){return this.clone().isubn(I)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(I,j,V){var W=I.length+V,K;this._expand(W);var et,lt=0;for(K=0;K<I.length;K++){et=(this.words[K+V]|0)+lt;var ot=(I.words[K]|0)*j;et-=ot&67108863,lt=(et>>26)-(ot/67108864|0),this.words[K+V]=et&67108863}for(;K<this.length-V;K++)et=(this.words[K+V]|0)+lt,lt=et>>26,this.words[K+V]=et&67108863;if(lt===0)return this.strip();for(n(lt===-1),lt=0,K=0;K<this.length;K++)et=-(this.words[K]|0)+lt,lt=et>>26,this.words[K]=et&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(I,j){var V=this.length-I.length,W=this.clone(),K=I,et=K.words[K.length-1]|0,lt=this._countBits(et);V=26-lt,V!==0&&(K=K.ushln(V),W.iushln(V),et=K.words[K.length-1]|0);var ot=W.length-K.length,q;if(j!=="mod"){q=new o(null),q.length=ot+1,q.words=new Array(q.length);for(var J=0;J<q.length;J++)q.words[J]=0}var it=W.clone()._ishlnsubmul(K,1,ot);it.negative===0&&(W=it,q&&(q.words[ot]=1));for(var Z=ot-1;Z>=0;Z--){var tt=(W.words[K.length+Z]|0)*67108864+(W.words[K.length+Z-1]|0);for(tt=Math.min(tt/et|0,67108863),W._ishlnsubmul(K,tt,Z);W.negative!==0;)tt--,W.negative=0,W._ishlnsubmul(K,1,Z),W.isZero()||(W.negative^=1);q&&(q.words[Z]=tt)}return q&&q.strip(),W.strip(),j!=="div"&&V!==0&&W.iushrn(V),{div:q||null,mod:W}},o.prototype.divmod=function(I,j,V){if(n(!I.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var W,K,et;return this.negative!==0&&I.negative===0?(et=this.neg().divmod(I,j),j!=="mod"&&(W=et.div.neg()),j!=="div"&&(K=et.mod.neg(),V&&K.negative!==0&&K.iadd(I)),{div:W,mod:K}):this.negative===0&&I.negative!==0?(et=this.divmod(I.neg(),j),j!=="mod"&&(W=et.div.neg()),{div:W,mod:et.mod}):this.negative&I.negative?(et=this.neg().divmod(I.neg(),j),j!=="div"&&(K=et.mod.neg(),V&&K.negative!==0&&K.isub(I)),{div:et.div,mod:K}):I.length>this.length||this.cmp(I)<0?{div:new o(0),mod:this}:I.length===1?j==="div"?{div:this.divn(I.words[0]),mod:null}:j==="mod"?{div:null,mod:new o(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new o(this.modn(I.words[0]))}:this._wordDiv(I,j)},o.prototype.div=function(I){return this.divmod(I,"div",!1).div},o.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},o.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},o.prototype.divRound=function(I){var j=this.divmod(I);if(j.mod.isZero())return j.div;var V=j.div.negative!==0?j.mod.isub(I):j.mod,W=I.ushrn(1),K=I.andln(1),et=V.cmp(W);return et<0||K===1&&et===0?j.div:j.div.negative!==0?j.div.isubn(1):j.div.iaddn(1)},o.prototype.modn=function(I){n(I<=67108863);for(var j=67108864%I,V=0,W=this.length-1;W>=0;W--)V=(j*V+(this.words[W]|0))%I;return V},o.prototype.idivn=function(I){n(I<=67108863);for(var j=0,V=this.length-1;V>=0;V--){var W=(this.words[V]|0)+j*67108864;this.words[V]=W/I|0,j=W%I}return this.strip()},o.prototype.divn=function(I){return this.clone().idivn(I)},o.prototype.egcd=function(I){n(I.negative===0),n(!I.isZero());var j=this,V=I.clone();j.negative!==0?j=j.umod(I):j=j.clone();for(var W=new o(1),K=new o(0),et=new o(0),lt=new o(1),ot=0;j.isEven()&&V.isEven();)j.iushrn(1),V.iushrn(1),++ot;for(var q=V.clone(),J=j.clone();!j.isZero();){for(var it=0,Z=1;!(j.words[0]&Z)&&it<26;++it,Z<<=1);if(it>0)for(j.iushrn(it);it-- >0;)(W.isOdd()||K.isOdd())&&(W.iadd(q),K.isub(J)),W.iushrn(1),K.iushrn(1);for(var tt=0,st=1;!(V.words[0]&st)&&tt<26;++tt,st<<=1);if(tt>0)for(V.iushrn(tt);tt-- >0;)(et.isOdd()||lt.isOdd())&&(et.iadd(q),lt.isub(J)),et.iushrn(1),lt.iushrn(1);j.cmp(V)>=0?(j.isub(V),W.isub(et),K.isub(lt)):(V.isub(j),et.isub(W),lt.isub(K))}return{a:et,b:lt,gcd:V.iushln(ot)}},o.prototype._invmp=function(I){n(I.negative===0),n(!I.isZero());var j=this,V=I.clone();j.negative!==0?j=j.umod(I):j=j.clone();for(var W=new o(1),K=new o(0),et=V.clone();j.cmpn(1)>0&&V.cmpn(1)>0;){for(var lt=0,ot=1;!(j.words[0]&ot)&&lt<26;++lt,ot<<=1);if(lt>0)for(j.iushrn(lt);lt-- >0;)W.isOdd()&&W.iadd(et),W.iushrn(1);for(var q=0,J=1;!(V.words[0]&J)&&q<26;++q,J<<=1);if(q>0)for(V.iushrn(q);q-- >0;)K.isOdd()&&K.iadd(et),K.iushrn(1);j.cmp(V)>=0?(j.isub(V),W.isub(K)):(V.isub(j),K.isub(W))}var it;return j.cmpn(1)===0?it=W:it=K,it.cmpn(0)<0&&it.iadd(I),it},o.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var j=this.clone(),V=I.clone();j.negative=0,V.negative=0;for(var W=0;j.isEven()&&V.isEven();W++)j.iushrn(1),V.iushrn(1);do{for(;j.isEven();)j.iushrn(1);for(;V.isEven();)V.iushrn(1);var K=j.cmp(V);if(K<0){var et=j;j=V,V=et}else if(K===0||V.cmpn(1)===0)break;j.isub(V)}while(!0);return V.iushln(W)},o.prototype.invm=function(I){return this.egcd(I).a.umod(I)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(I){return this.words[0]&I},o.prototype.bincn=function(I){n(typeof I=="number");var j=I%26,V=(I-j)/26,W=1<<j;if(this.length<=V)return this._expand(V+1),this.words[V]|=W,this;for(var K=W,et=V;K!==0&&et<this.length;et++){var lt=this.words[et]|0;lt+=K,K=lt>>>26,lt&=67108863,this.words[et]=lt}return K!==0&&(this.words[et]=K,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(I){var j=I<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;this.strip();var V;if(this.length>1)V=1;else{j&&(I=-I),n(I<=67108863,"Number is too big");var W=this.words[0]|0;V=W===I?0:W<I?-1:1}return this.negative!==0?-V|0:V},o.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var j=this.ucmp(I);return this.negative!==0?-j|0:j},o.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var j=0,V=this.length-1;V>=0;V--){var W=this.words[V]|0,K=I.words[V]|0;if(W!==K){W<K?j=-1:W>K&&(j=1);break}}return j},o.prototype.gtn=function(I){return this.cmpn(I)===1},o.prototype.gt=function(I){return this.cmp(I)===1},o.prototype.gten=function(I){return this.cmpn(I)>=0},o.prototype.gte=function(I){return this.cmp(I)>=0},o.prototype.ltn=function(I){return this.cmpn(I)===-1},o.prototype.lt=function(I){return this.cmp(I)===-1},o.prototype.lten=function(I){return this.cmpn(I)<=0},o.prototype.lte=function(I){return this.cmp(I)<=0},o.prototype.eqn=function(I){return this.cmpn(I)===0},o.prototype.eq=function(I){return this.cmp(I)===0},o.red=function(I){return new z(I)},o.prototype.toRed=function(I){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(I){return this.red=I,this},o.prototype.forceRed=function(I){return n(!this.red,"Already a number in reduction context"),this._forceRed(I)},o.prototype.redAdd=function(I){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},o.prototype.redIAdd=function(I){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},o.prototype.redSub=function(I){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},o.prototype.redISub=function(I){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},o.prototype.redShl=function(I){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},o.prototype.redMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},o.prototype.redIMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(I){return n(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var g={k256:null,p224:null,p192:null,p25519:null};function L(I,j){this.name=I,this.p=new o(j,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var I=new o(null);return I.words=new Array(Math.ceil(this.n/13)),I},L.prototype.ireduce=function(I){var j=I,V;do this.split(j,this.tmp),j=this.imulK(j),j=j.iadd(this.tmp),V=j.bitLength();while(V>this.n);var W=V<this.n?-1:j.ucmp(this.p);return W===0?(j.words[0]=0,j.length=1):W>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},L.prototype.split=function(I,j){I.iushrn(this.n,0,j)},L.prototype.imulK=function(I){return I.imul(this.k)};function A(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(A,L),A.prototype.split=function(I,j){for(var V=4194303,W=Math.min(I.length,9),K=0;K<W;K++)j.words[K]=I.words[K];if(j.length=W,I.length<=9){I.words[0]=0,I.length=1;return}var et=I.words[9];for(j.words[j.length++]=et&V,K=10;K<I.length;K++){var lt=I.words[K]|0;I.words[K-10]=(lt&V)<<4|et>>>22,et=lt}et>>>=22,I.words[K-10]=et,et===0&&I.length>10?I.length-=10:I.length-=9},A.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var j=0,V=0;V<I.length;V++){var W=I.words[V]|0;j+=W*977,I.words[V]=j&67108863,j=W*64+(j/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I};function R(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(R,L);function O(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(O,L);function N(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(N,L),N.prototype.imulK=function(I){for(var j=0,V=0;V<I.length;V++){var W=(I.words[V]|0)*19+j,K=W&67108863;W>>>=26,I.words[V]=K,j=W}return j!==0&&(I.words[I.length++]=j),I},o._prime=function(I){if(g[I])return g[I];var j;if(I==="k256")j=new A;else if(I==="p224")j=new R;else if(I==="p192")j=new O;else if(I==="p25519")j=new N;else throw new Error("Unknown prime "+I);return g[I]=j,j};function z(I){if(typeof I=="string"){var j=o._prime(I);this.m=j.p,this.prime=j}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}z.prototype._verify1=function(I){n(I.negative===0,"red works only with positives"),n(I.red,"red works only with red numbers")},z.prototype._verify2=function(I,j){n((I.negative|j.negative)===0,"red works only with positives"),n(I.red&&I.red===j.red,"red works only with red numbers")},z.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},z.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},z.prototype.add=function(I,j){this._verify2(I,j);var V=I.add(j);return V.cmp(this.m)>=0&&V.isub(this.m),V._forceRed(this)},z.prototype.iadd=function(I,j){this._verify2(I,j);var V=I.iadd(j);return V.cmp(this.m)>=0&&V.isub(this.m),V},z.prototype.sub=function(I,j){this._verify2(I,j);var V=I.sub(j);return V.cmpn(0)<0&&V.iadd(this.m),V._forceRed(this)},z.prototype.isub=function(I,j){this._verify2(I,j);var V=I.isub(j);return V.cmpn(0)<0&&V.iadd(this.m),V},z.prototype.shl=function(I,j){return this._verify1(I),this.imod(I.ushln(j))},z.prototype.imul=function(I,j){return this._verify2(I,j),this.imod(I.imul(j))},z.prototype.mul=function(I,j){return this._verify2(I,j),this.imod(I.mul(j))},z.prototype.isqr=function(I){return this.imul(I,I.clone())},z.prototype.sqr=function(I){return this.mul(I,I)},z.prototype.sqrt=function(I){if(I.isZero())return I.clone();var j=this.m.andln(3);if(n(j%2===1),j===3){var V=this.m.add(new o(1)).iushrn(2);return this.pow(I,V)}for(var W=this.m.subn(1),K=0;!W.isZero()&&W.andln(1)===0;)K++,W.iushrn(1);n(!W.isZero());var et=new o(1).toRed(this),lt=et.redNeg(),ot=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new o(2*q*q).toRed(this);this.pow(q,ot).cmp(lt)!==0;)q.redIAdd(lt);for(var J=this.pow(q,W),it=this.pow(I,W.addn(1).iushrn(1)),Z=this.pow(I,W),tt=K;Z.cmp(et)!==0;){for(var st=Z,Q=0;st.cmp(et)!==0;Q++)st=st.redSqr();n(Q<tt);var G=this.pow(J,new o(1).iushln(tt-Q-1));it=it.redMul(G),J=G.redSqr(),Z=Z.redMul(J),tt=Q}return it},z.prototype.invm=function(I){var j=I._invmp(this.m);return j.negative!==0?(j.negative=0,this.imod(j).redNeg()):this.imod(j)},z.prototype.pow=function(I,j){if(j.isZero())return new o(1).toRed(this);if(j.cmpn(1)===0)return I.clone();var V=4,W=new Array(1<<V);W[0]=new o(1).toRed(this),W[1]=I;for(var K=2;K<W.length;K++)W[K]=this.mul(W[K-1],I);var et=W[0],lt=0,ot=0,q=j.bitLength()%26;for(q===0&&(q=26),K=j.length-1;K>=0;K--){for(var J=j.words[K],it=q-1;it>=0;it--){var Z=J>>it&1;if(et!==W[0]&&(et=this.sqr(et)),Z===0&&lt===0){ot=0;continue}lt<<=1,lt|=Z,ot++,!(ot!==V&&(K!==0||it!==0))&&(et=this.mul(et,W[lt]),ot=0,lt=0)}q=26}return et},z.prototype.convertTo=function(I){var j=I.umod(this.m);return j===I?j.clone():j},z.prototype.convertFrom=function(I){var j=I.clone();return j.red=null,j},o.mont=function(I){return new F(I)};function F(I){z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(F,z),F.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},F.prototype.convertFrom=function(I){var j=this.imod(I.mul(this.rinv));return j.red=null,j},F.prototype.imul=function(I,j){if(I.isZero()||j.isZero())return I.words[0]=0,I.length=1,I;var V=I.imul(j),W=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=V.isub(W).iushrn(this.shift),et=K;return K.cmp(this.m)>=0?et=K.isub(this.m):K.cmpn(0)<0&&(et=K.iadd(this.m)),et._forceRed(this)},F.prototype.mul=function(I,j){if(I.isZero()||j.isZero())return new o(0)._forceRed(this);var V=I.mul(j),W=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=V.isub(W).iushrn(this.shift),et=K;return K.cmp(this.m)>=0?et=K.isub(this.m):K.cmpn(0)<0&&(et=K.iadd(this.m)),et._forceRed(this)},F.prototype.invm=function(I){var j=this.imod(I._invmp(this.m).mul(this.r2));return j._forceRed(this)}}(d,this)},2692:function(d){d.exports=v;function v(r){var e,s,n,l=r.length,o=0;for(e=0;e<l;++e)o+=r[e].length;var h=new Array(o),b=0;for(e=0;e<l;++e){var f=r[e],k=f.length;for(s=0;s<k;++s){var a=h[b++]=new Array(k-1),c=0;for(n=0;n<k;++n)n!==s&&(a[c++]=f[n]);if(s&1){var p=a[1];a[1]=a[0],a[0]=p}}}return h}},2569:function(d,v,r){d.exports=c;var e=r(5306),s=r(1390),n=r(2337);function l(p,w){for(var S=0;S<p;++S)if(!(w[S]<=w[S+p]))return!0;return!1}function o(p,w,S,_){for(var T=0,P=0,u=0,g=p.length;u<g;++u){var L=p[u];if(!l(w,L)){for(var A=0;A<2*w;++A)S[T++]=L[A];_[P++]=u}}return P}function h(p,w,S,_){var T=p.length,P=w.length;if(!(T<=0||P<=0)){var u=p[0].length>>>1;if(!(u<=0)){var g,L=e.mallocDouble(2*u*T),A=e.mallocInt32(T);if(T=o(p,u,L,A),T>0){if(u===1&&_)s.init(T),g=s.sweepComplete(u,S,0,T,L,A,0,T,L,A);else{var R=e.mallocDouble(2*u*P),O=e.mallocInt32(P);P=o(w,u,R,O),P>0&&(s.init(T+P),u===1?g=s.sweepBipartite(u,S,0,T,L,A,0,P,R,O):g=n(u,S,_,T,L,A,P,R,O),e.free(R),e.free(O))}e.free(L),e.free(A)}return g}}}var b;function f(p,w){b.push([p,w])}function k(p){return b=[],h(p,p,f,!0),b}function a(p,w){return b=[],h(p,w,f,!1),b}function c(p,w,S){switch(arguments.length){case 1:return k(p);case 2:return typeof w=="function"?h(p,p,w,!0):a(p,w);case 3:return h(p,w,S,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(d,v){function r(){function n(h,b,f,k,a,c,p,w,S,_,T){for(var P=2*h,u=k,g=P*k;u<a;++u,g+=P){var L=c[b+g],A=c[b+g+h],R=p[u];t:for(var O=w,N=P*w;O<S;++O,N+=P){var z=_[b+N],F=_[b+N+h],I=T[O];if(!(F<L||A<z)){for(var j=b+1;j<h;++j){var V=c[j+g],W=c[j+h+g],K=_[j+N],et=_[j+h+N];if(W<K||et<V)continue t}var lt=f(R,I);if(lt!==void 0)return lt}}}}function l(h,b,f,k,a,c,p,w,S,_,T){for(var P=2*h,u=w,g=P*w;u<S;++u,g+=P){var L=_[b+g],A=_[b+g+h],R=T[u];t:for(var O=k,N=P*k;O<a;++O,N+=P){var z=c[b+N],F=c[b+N+h],I=p[O];if(!(A<z||F<L)){for(var j=b+1;j<h;++j){var V=c[j+N],W=c[j+h+N],K=_[j+g],et=_[j+h+g];if(W<K||et<V)continue t}var lt=f(I,R);if(lt!==void 0)return lt}}}}function o(h,b,f,k,a,c,p,w,S,_,T){return a-k>S-w?n(h,b,f,k,a,c,p,w,S,_,T):l(h,b,f,k,a,c,p,w,S,_,T)}return o}function e(){function n(f,k,a,c,p,w,S,_,T,P,u){for(var g=2*f,L=c,A=g*c;L<p;++L,A+=g){var R=w[k+A],O=w[k+A+f],N=S[L];t:for(var z=_,F=g*_;z<T;++z,F+=g){var I=P[k+F],j=u[z];if(!(I<=R||O<I)){for(var V=k+1;V<f;++V){var W=w[V+A],K=w[V+f+A],et=P[V+F],lt=P[V+f+F];if(K<et||lt<W)continue t}var ot=a(j,N);if(ot!==void 0)return ot}}}}function l(f,k,a,c,p,w,S,_,T,P,u){for(var g=2*f,L=c,A=g*c;L<p;++L,A+=g){var R=w[k+A],O=w[k+A+f],N=S[L];t:for(var z=_,F=g*_;z<T;++z,F+=g){var I=P[k+F],j=u[z];if(!(I<R||O<I)){for(var V=k+1;V<f;++V){var W=w[V+A],K=w[V+f+A],et=P[V+F],lt=P[V+f+F];if(K<et||lt<W)continue t}var ot=a(N,j);if(ot!==void 0)return ot}}}}function o(f,k,a,c,p,w,S,_,T,P,u){for(var g=2*f,L=_,A=g*_;L<T;++L,A+=g){var R=P[k+A],O=u[L];t:for(var N=c,z=g*c;N<p;++N,z+=g){var F=w[k+z],I=w[k+z+f],j=S[N];if(!(R<=F||I<R)){for(var V=k+1;V<f;++V){var W=w[V+z],K=w[V+f+z],et=P[V+A],lt=P[V+f+A];if(K<et||lt<W)continue t}var ot=a(O,j);if(ot!==void 0)return ot}}}}function h(f,k,a,c,p,w,S,_,T,P,u){for(var g=2*f,L=_,A=g*_;L<T;++L,A+=g){var R=P[k+A],O=u[L];t:for(var N=c,z=g*c;N<p;++N,z+=g){var F=w[k+z],I=w[k+z+f],j=S[N];if(!(R<F||I<R)){for(var V=k+1;V<f;++V){var W=w[V+z],K=w[V+f+z],et=P[V+A],lt=P[V+f+A];if(K<et||lt<W)continue t}var ot=a(j,O);if(ot!==void 0)return ot}}}}function b(f,k,a,c,p,w,S,_,T,P,u,g){return w-p>P-T?c?n(f,k,a,p,w,S,_,T,P,u,g):l(f,k,a,p,w,S,_,T,P,u,g):c?o(f,k,a,p,w,S,_,T,P,u,g):h(f,k,a,p,w,S,_,T,P,u,g)}return b}function s(n){return n?r():e()}v.partial=s(!1),v.full=s(!0)},2337:function(d,v,r){d.exports=I;var e=r(5306),s=r(2288),n=r(7333),l=n.partial,o=n.full,h=r(1390),b=r(2464),f=r(122),k=128,a=1<<22,c=1<<22,p=f("!(lo>=p0)&&!(p1>=hi)"),w=f("lo===p0"),S=f("lo<p0"),_=f("hi<=p0"),T=f("lo<=p0&&p0<=hi"),P=f("lo<p0&&p0<=hi"),u=6,g=2,L=1024,A=e.mallocInt32(L),R=e.mallocDouble(L);function O(j,V){var W=8*s.log2(V+1)*(j+1)|0,K=s.nextPow2(u*W);A.length<K&&(e.free(A),A=e.mallocInt32(K));var et=s.nextPow2(g*W);R.length<et&&(e.free(R),R=e.mallocDouble(et))}function N(j,V,W,K,et,lt,ot,q,J){var it=u*j;A[it]=V,A[it+1]=W,A[it+2]=K,A[it+3]=et,A[it+4]=lt,A[it+5]=ot;var Z=g*j;R[Z]=q,R[Z+1]=J}function z(j,V,W,K,et,lt,ot,q,J,it,Z){var tt=2*j,st=J*tt,Q=it[st+V];t:for(var G=et,ut=et*tt;G<lt;++G,ut+=tt){var at=ot[ut+V],dt=ot[ut+V+j];if(!(Q<at||dt<Q)&&!(K&&Q===at)){for(var gt=q[G],wt=V+1;wt<j;++wt){var at=ot[ut+wt],dt=ot[ut+wt+j],kt=it[st+wt],Ot=it[st+wt+j];if(dt<kt||Ot<at)continue t}var bt;if(K?bt=W(Z,gt):bt=W(gt,Z),bt!==void 0)return bt}}}function F(j,V,W,K,et,lt,ot,q,J,it){var Z=2*j,tt=q*Z,st=J[tt+V];t:for(var Q=K,G=K*Z;Q<et;++Q,G+=Z){var ut=ot[Q];if(ut!==it){var at=lt[G+V],dt=lt[G+V+j];if(!(st<at||dt<st)){for(var gt=V+1;gt<j;++gt){var at=lt[G+gt],dt=lt[G+gt+j],wt=J[tt+gt],kt=J[tt+gt+j];if(dt<wt||kt<at)continue t}var Ot=W(ut,it);if(Ot!==void 0)return Ot}}}}function I(j,V,W,K,et,lt,ot,q,J){O(j,K+ot);var it=0,Z=2*j,tt;for(N(it++,0,0,K,0,ot,W?16:0,-1/0,1/0),W||N(it++,0,0,ot,0,K,1,-1/0,1/0);it>0;){it-=1;var st=it*u,Q=A[st],G=A[st+1],ut=A[st+2],at=A[st+3],dt=A[st+4],gt=A[st+5],wt=it*g,kt=R[wt],Ot=R[wt+1],bt=gt&1,_t=!!(gt&16),mt=et,Pt=lt,Rt=q,Ht=J;if(bt&&(mt=q,Pt=J,Rt=et,Ht=lt),!(gt&2&&(ut=S(j,Q,G,ut,mt,Pt,Ot),G>=ut))&&!(gt&4&&(G=_(j,Q,G,ut,mt,Pt,kt),G>=ut))){var Dt=ut-G,Xt=dt-at;if(_t){if(j*Dt*(Dt+Xt)<c){if(tt=h.scanComplete(j,Q,V,G,ut,mt,Pt,at,dt,Rt,Ht),tt!==void 0)return tt;continue}}else if(j*Math.min(Dt,Xt)<k){if(tt=l(j,Q,V,bt,G,ut,mt,Pt,at,dt,Rt,Ht),tt!==void 0)return tt;continue}else if(j*Dt*Xt<a){if(tt=h.scanBipartite(j,Q,V,bt,G,ut,mt,Pt,at,dt,Rt,Ht),tt!==void 0)return tt;continue}var se=p(j,Q,G,ut,mt,Pt,kt,Ot);if(G<se)if(j*(se-G)<k){if(tt=o(j,Q+1,V,G,se,mt,Pt,at,dt,Rt,Ht),tt!==void 0)return tt}else if(Q===j-2){if(bt?tt=h.sweepBipartite(j,V,at,dt,Rt,Ht,G,se,mt,Pt):tt=h.sweepBipartite(j,V,G,se,mt,Pt,at,dt,Rt,Ht),tt!==void 0)return tt}else N(it++,Q+1,G,se,at,dt,bt,-1/0,1/0),N(it++,Q+1,at,dt,G,se,bt^1,-1/0,1/0);if(se<ut){var Yt=b(j,Q,at,dt,Rt,Ht),ue=Rt[Z*Yt+Q],ie=w(j,Q,Yt,dt,Rt,Ht,ue);if(ie<dt&&N(it++,Q,se,ut,ie,dt,(bt|4)+(_t?16:0),ue,Ot),at<Yt&&N(it++,Q,se,ut,at,Yt,(bt|2)+(_t?16:0),kt,ue),Yt+1===ie){if(_t?tt=F(j,Q,V,se,ut,mt,Pt,Yt,Rt,Ht[Yt]):tt=z(j,Q,V,bt,se,ut,mt,Pt,Yt,Rt,Ht[Yt]),tt!==void 0)return tt}else if(Yt<ie){var fe;if(_t){if(fe=T(j,Q,se,ut,mt,Pt,ue),se<fe){var ce=w(j,Q,se,fe,mt,Pt,ue);if(Q===j-2){if(se<ce&&(tt=h.sweepComplete(j,V,se,ce,mt,Pt,Yt,ie,Rt,Ht),tt!==void 0)||ce<fe&&(tt=h.sweepBipartite(j,V,ce,fe,mt,Pt,Yt,ie,Rt,Ht),tt!==void 0))return tt}else se<ce&&N(it++,Q+1,se,ce,Yt,ie,16,-1/0,1/0),ce<fe&&(N(it++,Q+1,ce,fe,Yt,ie,0,-1/0,1/0),N(it++,Q+1,Yt,ie,ce,fe,1,-1/0,1/0))}}else bt?fe=P(j,Q,se,ut,mt,Pt,ue):fe=T(j,Q,se,ut,mt,Pt,ue),se<fe&&(Q===j-2?bt?tt=h.sweepBipartite(j,V,Yt,ie,Rt,Ht,se,fe,mt,Pt):tt=h.sweepBipartite(j,V,se,fe,mt,Pt,Yt,ie,Rt,Ht):(N(it++,Q+1,se,fe,Yt,ie,bt,-1/0,1/0),N(it++,Q+1,Yt,ie,se,fe,bt^1,-1/0,1/0)))}}}}}},2464:function(d,v,r){d.exports=o;var e=r(122),s=e("lo<p0"),n=8;function l(h,b,f,k,a,c){for(var p=2*h,w=p*(f+1)+b,S=f+1;S<k;++S,w+=p)for(var _=a[w],T=S,P=p*(S-1);T>f&&a[P+b]>_;--T,P-=p){for(var u=P,g=P+p,L=0;L<p;++L,++u,++g){var A=a[u];a[u]=a[g],a[g]=A}var R=c[T];c[T]=c[T-1],c[T-1]=R}}function o(h,b,f,k,a,c){if(k<=f+1)return f;for(var p=f,w=k,S=k+f>>>1,_=2*h,T=S,P=a[_*S+b];p<w;){if(w-p<n){l(h,b,p,w,a,c),P=a[_*S+b];break}var u=w-p,g=Math.random()*u+p|0,L=a[_*g+b],A=Math.random()*u+p|0,R=a[_*A+b],O=Math.random()*u+p|0,N=a[_*O+b];L<=R?N>=R?(T=A,P=R):L>=N?(T=g,P=L):(T=O,P=N):R>=N?(T=A,P=R):N>=L?(T=g,P=L):(T=O,P=N);for(var z=_*(w-1),F=_*T,I=0;I<_;++I,++z,++F){var j=a[z];a[z]=a[F],a[F]=j}var V=c[w-1];c[w-1]=c[T],c[T]=V,T=s(h,b,p,w-1,a,c,P);for(var z=_*(w-1),F=_*T,I=0;I<_;++I,++z,++F){var j=a[z];a[z]=a[F],a[F]=j}var V=c[w-1];if(c[w-1]=c[T],c[T]=V,S<T){for(w=T-1;p<w&&a[_*(w-1)+b]===P;)w-=1;w+=1}else if(T<S)for(p=T+1;p<w&&a[_*p+b]===P;)p+=1;else break}return s(h,b,f,S,a,c,a[_*S+b])}},122:function(d){d.exports=r;var v={"lo===p0":e,"lo<p0":s,"lo<=p0":n,"hi<=p0":l,"lo<p0&&p0<=hi":h,"lo<=p0&&p0<=hi":o,"!(lo>=p0)&&!(p1>=hi)":b};function r(f){return v[f]}function e(f,k,a,c,p,w,S){for(var _=2*f,T=_*a,P=T,u=a,g=k,L=f+k,A=a;c>A;++A,T+=_){var R=p[T+g];if(R===S)if(u===A)u+=1,P+=_;else{for(var O=0;_>O;++O){var N=p[T+O];p[T+O]=p[P],p[P++]=N}var z=w[A];w[A]=w[u],w[u++]=z}}return u}function s(f,k,a,c,p,w,S){for(var _=2*f,T=_*a,P=T,u=a,g=k,L=f+k,A=a;c>A;++A,T+=_){var R=p[T+g];if(R<S)if(u===A)u+=1,P+=_;else{for(var O=0;_>O;++O){var N=p[T+O];p[T+O]=p[P],p[P++]=N}var z=w[A];w[A]=w[u],w[u++]=z}}return u}function n(f,k,a,c,p,w,S){for(var _=2*f,T=_*a,P=T,u=a,g=k,L=f+k,A=a;c>A;++A,T+=_){var R=p[T+L];if(R<=S)if(u===A)u+=1,P+=_;else{for(var O=0;_>O;++O){var N=p[T+O];p[T+O]=p[P],p[P++]=N}var z=w[A];w[A]=w[u],w[u++]=z}}return u}function l(f,k,a,c,p,w,S){for(var _=2*f,T=_*a,P=T,u=a,g=k,L=f+k,A=a;c>A;++A,T+=_){var R=p[T+L];if(R<=S)if(u===A)u+=1,P+=_;else{for(var O=0;_>O;++O){var N=p[T+O];p[T+O]=p[P],p[P++]=N}var z=w[A];w[A]=w[u],w[u++]=z}}return u}function o(f,k,a,c,p,w,S){for(var _=2*f,T=_*a,P=T,u=a,g=k,L=f+k,A=a;c>A;++A,T+=_){var R=p[T+g],O=p[T+L];if(R<=S&&S<=O)if(u===A)u+=1,P+=_;else{for(var N=0;_>N;++N){var z=p[T+N];p[T+N]=p[P],p[P++]=z}var F=w[A];w[A]=w[u],w[u++]=F}}return u}function h(f,k,a,c,p,w,S){for(var _=2*f,T=_*a,P=T,u=a,g=k,L=f+k,A=a;c>A;++A,T+=_){var R=p[T+g],O=p[T+L];if(R<S&&S<=O)if(u===A)u+=1,P+=_;else{for(var N=0;_>N;++N){var z=p[T+N];p[T+N]=p[P],p[P++]=z}var F=w[A];w[A]=w[u],w[u++]=F}}return u}function b(f,k,a,c,p,w,S,_){for(var T=2*f,P=T*a,u=P,g=a,L=k,A=f+k,R=a;c>R;++R,P+=T){var O=p[P+L],N=p[P+A];if(!(O>=S)&&!(_>=N))if(g===R)g+=1,u+=T;else{for(var z=0;T>z;++z){var F=p[P+z];p[P+z]=p[u],p[u++]=F}var I=w[R];w[R]=w[g],w[g++]=I}}return g}},309:function(d){d.exports=r;var v=32;function r(k,a){a<=4*v?e(0,a-1,k):f(0,a-1,k)}function e(k,a,c){for(var p=2*(k+1),w=k+1;w<=a;++w){for(var S=c[p++],_=c[p++],T=w,P=p-2;T-- >k;){var u=c[P-2],g=c[P-1];if(u<S||u===S&&g<_)break;c[P]=u,c[P+1]=g,P-=2}c[P]=S,c[P+1]=_}}function s(k,a,c){k*=2,a*=2;var p=c[k],w=c[k+1];c[k]=c[a],c[k+1]=c[a+1],c[a]=p,c[a+1]=w}function n(k,a,c){k*=2,a*=2,c[k]=c[a],c[k+1]=c[a+1]}function l(k,a,c,p){k*=2,a*=2,c*=2;var w=p[k],S=p[k+1];p[k]=p[a],p[k+1]=p[a+1],p[a]=p[c],p[a+1]=p[c+1],p[c]=w,p[c+1]=S}function o(k,a,c,p,w){k*=2,a*=2,w[k]=w[a],w[a]=c,w[k+1]=w[a+1],w[a+1]=p}function h(k,a,c){k*=2,a*=2;var p=c[k],w=c[a];return p<w?!1:p===w?c[k+1]>c[a+1]:!0}function b(k,a,c,p){k*=2;var w=p[k];return w<a?!0:w===a?p[k+1]<c:!1}function f(k,a,c){var p=(a-k+1)/6|0,w=k+p,S=a-p,_=k+a>>1,T=_-p,P=_+p,u=w,g=T,L=_,A=P,R=S,O=k+1,N=a-1,z=0;h(u,g,c)&&(z=u,u=g,g=z),h(A,R,c)&&(z=A,A=R,R=z),h(u,L,c)&&(z=u,u=L,L=z),h(g,L,c)&&(z=g,g=L,L=z),h(u,A,c)&&(z=u,u=A,A=z),h(L,A,c)&&(z=L,L=A,A=z),h(g,R,c)&&(z=g,g=R,R=z),h(g,L,c)&&(z=g,g=L,L=z),h(A,R,c)&&(z=A,A=R,R=z);for(var F=c[2*g],I=c[2*g+1],j=c[2*A],V=c[2*A+1],W=2*u,K=2*L,et=2*R,lt=2*w,ot=2*_,q=2*S,J=0;J<2;++J){var it=c[W+J],Z=c[K+J],tt=c[et+J];c[lt+J]=it,c[ot+J]=Z,c[q+J]=tt}n(T,k,c),n(P,a,c);for(var st=O;st<=N;++st)if(b(st,F,I,c))st!==O&&s(st,O,c),++O;else if(!b(st,j,V,c))for(;;)if(b(N,j,V,c)){b(N,F,I,c)?(l(st,O,N,c),++O,--N):(s(st,N,c),--N);break}else{if(--N<st)break;continue}o(k,O-1,F,I,c),o(a,N+1,j,V,c),O-2-k<=v?e(k,O-2,c):f(k,O-2,c),a-(N+2)<=v?e(N+2,a,c):f(N+2,a,c),N-O<=v?e(O,N,c):f(O,N,c)}},1390:function(d,v,r){d.exports={init:w,sweepBipartite:T,sweepComplete:P,scanBipartite:u,scanComplete:g};var e=r(5306),s=r(2288),n=r(309),l=1<<28,o=1024,h=e.mallocInt32(o),b=e.mallocInt32(o),f=e.mallocInt32(o),k=e.mallocInt32(o),a=e.mallocInt32(o),c=e.mallocInt32(o),p=e.mallocDouble(o*8);function w(L){var A=s.nextPow2(L);h.length<A&&(e.free(h),h=e.mallocInt32(A)),b.length<A&&(e.free(b),b=e.mallocInt32(A)),f.length<A&&(e.free(f),f=e.mallocInt32(A)),k.length<A&&(e.free(k),k=e.mallocInt32(A)),a.length<A&&(e.free(a),a=e.mallocInt32(A)),c.length<A&&(e.free(c),c=e.mallocInt32(A));var R=8*A;p.length<R&&(e.free(p),p=e.mallocDouble(R))}function S(L,A,R,O){var N=A[O],z=L[R-1];L[N]=z,A[z]=N}function _(L,A,R,O){L[R]=O,A[O]=R}function T(L,A,R,O,N,z,F,I,j,V){for(var W=0,K=2*L,et=L-1,lt=K-1,ot=R;ot<O;++ot){var q=z[ot],J=K*ot;p[W++]=N[J+et],p[W++]=-(q+1),p[W++]=N[J+lt],p[W++]=q}for(var ot=F;ot<I;++ot){var q=V[ot]+l,it=K*ot;p[W++]=j[it+et],p[W++]=-q,p[W++]=j[it+lt],p[W++]=q}var Z=W>>>1;n(p,Z);for(var tt=0,st=0,ot=0;ot<Z;++ot){var Q=p[2*ot+1]|0;if(Q>=l)Q=Q-l|0,S(f,k,st--,Q);else if(Q>=0)S(h,b,tt--,Q);else if(Q<=-l){Q=-Q-l|0;for(var G=0;G<tt;++G){var ut=A(h[G],Q);if(ut!==void 0)return ut}_(f,k,st++,Q)}else{Q=-Q-1|0;for(var G=0;G<st;++G){var ut=A(Q,f[G]);if(ut!==void 0)return ut}_(h,b,tt++,Q)}}}function P(L,A,R,O,N,z,F,I,j,V){for(var W=0,K=2*L,et=L-1,lt=K-1,ot=R;ot<O;++ot){var q=z[ot]+1<<1,J=K*ot;p[W++]=N[J+et],p[W++]=-q,p[W++]=N[J+lt],p[W++]=q}for(var ot=F;ot<I;++ot){var q=V[ot]+1<<1,it=K*ot;p[W++]=j[it+et],p[W++]=-q|1,p[W++]=j[it+lt],p[W++]=q|1}var Z=W>>>1;n(p,Z);for(var tt=0,st=0,Q=0,ot=0;ot<Z;++ot){var G=p[2*ot+1]|0,ut=G&1;if(ot<Z-1&&G>>1===p[2*ot+3]>>1&&(ut=2,ot+=1),G<0){for(var at=-(G>>1)-1,dt=0;dt<Q;++dt){var gt=A(a[dt],at);if(gt!==void 0)return gt}if(ut!==0)for(var dt=0;dt<tt;++dt){var gt=A(h[dt],at);if(gt!==void 0)return gt}if(ut!==1)for(var dt=0;dt<st;++dt){var gt=A(f[dt],at);if(gt!==void 0)return gt}ut===0?_(h,b,tt++,at):ut===1?_(f,k,st++,at):ut===2&&_(a,c,Q++,at)}else{var at=(G>>1)-1;ut===0?S(h,b,tt--,at):ut===1?S(f,k,st--,at):ut===2&&S(a,c,Q--,at)}}}function u(L,A,R,O,N,z,F,I,j,V,W,K){var et=0,lt=2*L,ot=A,q=A+L,J=1,it=1;O?it=l:J=l;for(var Z=N;Z<z;++Z){var tt=Z+J,st=lt*Z;p[et++]=F[st+ot],p[et++]=-tt,p[et++]=F[st+q],p[et++]=tt}for(var Z=j;Z<V;++Z){var tt=Z+it,Q=lt*Z;p[et++]=W[Q+ot],p[et++]=-tt}var G=et>>>1;n(p,G);for(var ut=0,Z=0;Z<G;++Z){var at=p[2*Z+1]|0;if(at<0){var tt=-at,dt=!1;if(tt>=l?(dt=!O,tt-=l):(dt=!!O,tt-=1),dt)_(h,b,ut++,tt);else{var gt=K[tt],wt=lt*tt,kt=W[wt+A+1],Ot=W[wt+A+1+L];t:for(var bt=0;bt<ut;++bt){var _t=h[bt],mt=lt*_t;if(!(Ot<F[mt+A+1]||F[mt+A+1+L]<kt)){for(var Pt=A+2;Pt<L;++Pt)if(W[wt+Pt+L]<F[mt+Pt]||F[mt+Pt+L]<W[wt+Pt])continue t;var Rt=I[_t],Ht;if(O?Ht=R(gt,Rt):Ht=R(Rt,gt),Ht!==void 0)return Ht}}}}else S(h,b,ut--,at-J)}}function g(L,A,R,O,N,z,F,I,j,V,W){for(var K=0,et=2*L,lt=A,ot=A+L,q=O;q<N;++q){var J=q+l,it=et*q;p[K++]=z[it+lt],p[K++]=-J,p[K++]=z[it+ot],p[K++]=J}for(var q=I;q<j;++q){var J=q+1,Z=et*q;p[K++]=V[Z+lt],p[K++]=-J}var tt=K>>>1;n(p,tt);for(var st=0,q=0;q<tt;++q){var Q=p[2*q+1]|0;if(Q<0){var J=-Q;if(J>=l)h[st++]=J-l;else{J-=1;var G=W[J],ut=et*J,at=V[ut+A+1],dt=V[ut+A+1+L];t:for(var gt=0;gt<st;++gt){var wt=h[gt],kt=F[wt];if(kt===G)break;var Ot=et*wt;if(!(dt<z[Ot+A+1]||z[Ot+A+1+L]<at)){for(var bt=A+2;bt<L;++bt)if(V[ut+bt+L]<z[Ot+bt]||z[Ot+bt+L]<V[ut+bt])continue t;var _t=R(kt,G);if(_t!==void 0)return _t}}}}else{for(var J=Q-l,gt=st-1;gt>=0;--gt)if(h[gt]===J){for(var bt=gt+1;bt<st;++bt)h[bt-1]=h[bt];break}--st}}}},7761:function(d,v,r){var e=r(9971),s=r(743),n=r(2161),l=r(7098);d.exports=k;function o(a){return[Math.min(a[0],a[1]),Math.max(a[0],a[1])]}function h(a,c){return a[0]-c[0]||a[1]-c[1]}function b(a){return a.map(o).sort(h)}function f(a,c,p){return c in a?a[c]:p}function k(a,c,p){Array.isArray(c)?(p=p||{},c=c||[]):(p=c||{},c=[]);var w=!!f(p,"delaunay",!0),S=!!f(p,"interior",!0),_=!!f(p,"exterior",!0),T=!!f(p,"infinity",!1);if(!S&&!_||a.length===0)return[];var P=e(a,c);if(w||S!==_||T){for(var u=s(a.length,b(c)),g=0;g<P.length;++g){var L=P[g];u.addTriangle(L[0],L[1],L[2])}return w&&n(a,u),_?S?T?l(u,0,T):u.cells():l(u,1,T):l(u,-1)}else return P}},2161:function(d,v,r){var e=r(2227)[4];r(5070),d.exports=n;function s(l,o,h,b,f,k){var a=o.opposite(b,f);if(!(a<0)){if(f<b){var c=b;b=f,f=c,c=k,k=a,a=c}o.isConstraint(b,f)||e(l[b],l[f],l[k],l[a])<0&&h.push(b,f)}}function n(l,o){for(var h=[],b=l.length,f=o.stars,k=0;k<b;++k)for(var a=f[k],c=1;c<a.length;c+=2){var p=a[c];if(!(p<k)&&!o.isConstraint(k,p)){for(var w=a[c-1],S=-1,_=1;_<a.length;_+=2)if(a[_-1]===p){S=a[_];break}S<0||e(l[k],l[p],l[w],l[S])<0&&h.push(k,p)}}for(;h.length>0;){for(var p=h.pop(),k=h.pop(),w=-1,S=-1,a=f[k],T=1;T<a.length;T+=2){var P=a[T-1],u=a[T];P===p?S=u:u===p&&(w=P)}w<0||S<0||e(l[k],l[p],l[w],l[S])>=0||(o.flip(k,p),s(l,o,h,w,k,S),s(l,o,h,k,S,w),s(l,o,h,S,p,w),s(l,o,h,p,w,S))}}},7098:function(d,v,r){var e=r(5070);d.exports=b;function s(f,k,a,c,p,w,S){this.cells=f,this.neighbor=k,this.flags=c,this.constraint=a,this.active=p,this.next=w,this.boundary=S}var n=s.prototype;function l(f,k){return f[0]-k[0]||f[1]-k[1]||f[2]-k[2]}n.locate=function(){var f=[0,0,0];return function(k,a,c){var p=k,w=a,S=c;return a<c?a<k&&(p=a,w=c,S=k):c<k&&(p=c,w=k,S=a),p<0?-1:(f[0]=p,f[1]=w,f[2]=S,e.eq(this.cells,f,l))}}();function o(f,k){for(var a=f.cells(),c=a.length,p=0;p<c;++p){var w=a[p],S=w[0],_=w[1],T=w[2];_<T?_<S&&(w[0]=_,w[1]=T,w[2]=S):T<S&&(w[0]=T,w[1]=S,w[2]=_)}a.sort(l);for(var P=new Array(c),p=0;p<P.length;++p)P[p]=0;var u=[],g=[],L=new Array(3*c),A=new Array(3*c),R=null;k&&(R=[]);for(var O=new s(a,L,A,P,u,g,R),p=0;p<c;++p)for(var w=a[p],N=0;N<3;++N){var S=w[N],_=w[(N+1)%3],z=L[3*p+N]=O.locate(_,S,f.opposite(_,S)),F=A[3*p+N]=f.isConstraint(S,_);z<0&&(F?g.push(p):(u.push(p),P[p]=1),k&&R.push([_,S,-1]))}return O}function h(f,k,a){for(var c=0,p=0;p<f.length;++p)k[p]===a&&(f[c++]=f[p]);return f.length=c,f}function b(f,k,a){var c=o(f,a);if(k===0)return a?c.cells.concat(c.boundary):c.cells;for(var p=1,w=c.active,S=c.next,_=c.flags,T=c.cells,P=c.constraint,u=c.neighbor;w.length>0||S.length>0;){for(;w.length>0;){var g=w.pop();if(_[g]!==-p){_[g]=p,T[g];for(var L=0;L<3;++L){var A=u[3*g+L];A>=0&&_[A]===0&&(P[3*g+L]?S.push(A):(w.push(A),_[A]=p))}}}var R=S;S=w,w=R,S.length=0,p=-p}var O=h(T,_,k);return a?O.concat(c.boundary):O}},9971:function(d,v,r){var e=r(5070),s=r(417)[3],n=0,l=1,o=2;d.exports=S;function h(_,T,P,u,g){this.a=_,this.b=T,this.idx=P,this.lowerIds=u,this.upperIds=g}function b(_,T,P,u){this.a=_,this.b=T,this.type=P,this.idx=u}function f(_,T){var P=_.a[0]-T.a[0]||_.a[1]-T.a[1]||_.type-T.type;return P||_.type!==n&&(P=s(_.a,_.b,T.b),P)?P:_.idx-T.idx}function k(_,T){return s(_.a,_.b,T)}function a(_,T,P,u,g){for(var L=e.lt(T,u,k),A=e.gt(T,u,k),R=L;R<A;++R){for(var O=T[R],N=O.lowerIds,z=N.length;z>1&&s(P[N[z-2]],P[N[z-1]],u)>0;)_.push([N[z-1],N[z-2],g]),z-=1;N.length=z,N.push(g);for(var F=O.upperIds,z=F.length;z>1&&s(P[F[z-2]],P[F[z-1]],u)<0;)_.push([F[z-2],F[z-1],g]),z-=1;F.length=z,F.push(g)}}function c(_,T){var P;return _.a[0]<T.a[0]?P=s(_.a,_.b,T.a):P=s(T.b,T.a,_.a),P||(T.b[0]<_.b[0]?P=s(_.a,_.b,T.b):P=s(T.b,T.a,_.b),P||_.idx-T.idx)}function p(_,T,P){var u=e.le(_,P,c),g=_[u],L=g.upperIds,A=L[L.length-1];g.upperIds=[A],_.splice(u+1,0,new h(P.a,P.b,P.idx,[A],L))}function w(_,T,P){var u=P.a;P.a=P.b,P.b=u;var g=e.eq(_,P,c),L=_[g],A=_[g-1];A.upperIds=L.upperIds,_.splice(g,1)}function S(_,T){for(var P=_.length,u=T.length,g=[],L=0;L<P;++L)g.push(new b(_[L],null,n,L));for(var L=0;L<u;++L){var A=T[L],R=_[A[0]],O=_[A[1]];R[0]<O[0]?g.push(new b(R,O,o,L),new b(O,R,l,L)):R[0]>O[0]&&g.push(new b(O,R,o,L),new b(R,O,l,L))}g.sort(f);for(var N=g[0].a[0]-(1+Math.abs(g[0].a[0]))*Math.pow(2,-52),z=[new h([N,1],[N,0],-1,[],[])],F=[],L=0,I=g.length;L<I;++L){var j=g[L],V=j.type;V===n?a(F,z,_,j.a,j.idx):V===o?p(z,_,j):w(z,_,j)}return F}},743:function(d,v,r){var e=r(5070);d.exports=o;function s(h,b){this.stars=h,this.edges=b}var n=s.prototype;function l(h,b,f){for(var k=1,a=h.length;k<a;k+=2)if(h[k-1]===b&&h[k]===f){h[k-1]=h[a-2],h[k]=h[a-1],h.length=a-2;return}}n.isConstraint=function(){var h=[0,0];function b(f,k){return f[0]-k[0]||f[1]-k[1]}return function(f,k){return h[0]=Math.min(f,k),h[1]=Math.max(f,k),e.eq(this.edges,h,b)>=0}}(),n.removeTriangle=function(h,b,f){var k=this.stars;l(k[h],b,f),l(k[b],f,h),l(k[f],h,b)},n.addTriangle=function(h,b,f){var k=this.stars;k[h].push(b,f),k[b].push(f,h),k[f].push(h,b)},n.opposite=function(h,b){for(var f=this.stars[b],k=1,a=f.length;k<a;k+=2)if(f[k]===h)return f[k-1];return-1},n.flip=function(h,b){var f=this.opposite(h,b),k=this.opposite(b,h);this.removeTriangle(h,b,f),this.removeTriangle(b,h,k),this.addTriangle(h,k,f),this.addTriangle(b,f,k)},n.edges=function(){for(var h=this.stars,b=[],f=0,k=h.length;f<k;++f)for(var a=h[f],c=0,p=a.length;c<p;c+=2)b.push([a[c],a[c+1]]);return b},n.cells=function(){for(var h=this.stars,b=[],f=0,k=h.length;f<k;++f)for(var a=h[f],c=0,p=a.length;c<p;c+=2){var w=a[c],S=a[c+1];f<Math.min(w,S)&&b.push([f,w,S])}return b};function o(h,b){for(var f=new Array(h),k=0;k<h;++k)f[k]=[];return new s(f,b)}},9887:function(d){d.exports=v;function v(r){for(var e=1,s=1;s<r.length;++s)for(var n=0;n<s;++n)if(r[s]<r[n])e=-e;else if(r[n]===r[s])return 0;return e}},9243:function(d,v,r){var e=r(3094),s=r(6606);function n(h,b){for(var f=0,k=h.length,a=0;a<k;++a)f+=h[a]*b[a];return f}function l(h){var b=h.length;if(b===0)return[];h[0].length;var f=e([h.length+1,h.length+1],1),k=e([h.length+1],1);f[b][b]=0;for(var a=0;a<b;++a){for(var c=0;c<=a;++c)f[c][a]=f[a][c]=2*n(h[a],h[c]);k[a]=n(h[a],h[a])}for(var p=s(f,k),w=0,S=p[b+1],a=0;a<S.length;++a)w+=S[a];for(var _=new Array(b),a=0;a<b;++a){for(var S=p[a],T=0,c=0;c<S.length;++c)T+=S[c];_[a]=T/w}return _}function o(h){if(h.length===0)return[];for(var b=h[0].length,f=e([b]),k=l(h),a=0;a<h.length;++a)for(var c=0;c<b;++c)f[c]+=h[a][c]*k[a];return f}o.barycenetric=l,d.exports=o},1778:function(d,v,r){d.exports=s;var e=r(9243);function s(n){for(var l=e(n),o=0,h=0;h<n.length;++h)for(var b=n[h],f=0;f<l.length;++f)o+=Math.pow(b[f]-l[f],2);return Math.sqrt(o/n.length)}},197:function(d,v,r){d.exports=R;var e=r(1731),s=r(2569),n=r(4434),l=r(5125),o=r(8846),h=r(7999),b=r(2826),f=r(8551),k=r(5528);function a(O){var N=h(O);return[f(N,-1/0),f(N,1/0)]}function c(O,N){for(var z=new Array(N.length),F=0;F<N.length;++F){var I=N[F],j=O[I[0]],V=O[I[1]];z[F]=[f(Math.min(j[0],V[0]),-1/0),f(Math.min(j[1],V[1]),-1/0),f(Math.max(j[0],V[0]),1/0),f(Math.max(j[1],V[1]),1/0)]}return z}function p(O){for(var N=new Array(O.length),z=0;z<O.length;++z){var F=O[z];N[z]=[f(F[0],-1/0),f(F[1],-1/0),f(F[0],1/0),f(F[1],1/0)]}return N}function w(O,N,z){var F=[];return s(z,function(I,j){var V=N[I],W=N[j];if(!(V[0]===W[0]||V[0]===W[1]||V[1]===W[0]||V[1]===W[1])){var K=O[V[0]],et=O[V[1]],lt=O[W[0]],ot=O[W[1]];n(K,et,lt,ot)&&F.push([I,j])}}),F}function S(O,N,z,F){var I=[];return s(z,F,function(j,V){var W=N[j];if(!(W[0]===V||W[1]===V)){var K=O[V],et=O[W[0]],lt=O[W[1]];n(et,lt,K,K)&&I.push([j,V])}}),I}function _(O,N,z,F,I){var j,V,W=O.map(function(wt){return[l(wt[0]),l(wt[1])]});for(j=0;j<z.length;++j){var K=z[j];V=K[0];var et=K[1],lt=N[V],ot=N[et],q=k(b(O[lt[0]]),b(O[lt[1]]),b(O[ot[0]]),b(O[ot[1]]));if(q){var J=O.length;O.push([h(q[0]),h(q[1])]),W.push(q),F.push([V,J],[et,J])}}for(F.sort(function(wt,kt){if(wt[0]!==kt[0])return wt[0]-kt[0];var Ot=W[wt[1]],bt=W[kt[1]];return o(Ot[0],bt[0])||o(Ot[1],bt[1])}),j=F.length-1;j>=0;--j){var it=F[j];V=it[0];var Z=N[V],tt=Z[0],st=Z[1],Q=O[tt],G=O[st];if((Q[0]-G[0]||Q[1]-G[1])<0){var ut=tt;tt=st,st=ut}Z[0]=tt;var at=Z[1]=it[1],dt;for(I&&(dt=Z[2]);j>0&&F[j-1][0]===V;){var it=F[--j],gt=it[1];I?N.push([at,gt,dt]):N.push([at,gt]),at=gt}I?N.push([at,st,dt]):N.push([at,st])}return W}function T(O,N,z){for(var F=N.length,I=new e(F),j=[],V=0;V<N.length;++V){var W=N[V],K=a(W[0]),et=a(W[1]);j.push([f(K[0],-1/0),f(et[0],-1/0),f(K[1],1/0),f(et[1],1/0)])}s(j,function(it,Z){I.link(it,Z)});for(var lt=!0,ot=new Array(F),V=0;V<F;++V){var q=I.find(V);q!==V&&(lt=!1,O[q]=[Math.min(O[V][0],O[q][0]),Math.min(O[V][1],O[q][1])])}if(lt)return null;for(var J=0,V=0;V<F;++V){var q=I.find(V);q===V?(ot[V]=J,O[J++]=O[V]):ot[V]=-1}O.length=J;for(var V=0;V<F;++V)ot[V]<0&&(ot[V]=ot[I.find(V)]);return ot}function P(O,N){return O[0]-N[0]||O[1]-N[1]}function u(O,N){var z=O[0]-N[0]||O[1]-N[1];return z||(O[2]<N[2]?-1:O[2]>N[2]?1:0)}function g(O,N,z){if(O.length!==0){if(N)for(var F=0;F<O.length;++F){var I=O[F],j=N[I[0]],V=N[I[1]];I[0]=Math.min(j,V),I[1]=Math.max(j,V)}else for(var F=0;F<O.length;++F){var I=O[F],j=I[0],V=I[1];I[0]=Math.min(j,V),I[1]=Math.max(j,V)}z?O.sort(u):O.sort(P);for(var W=1,F=1;F<O.length;++F){var K=O[F-1],et=O[F];et[0]===K[0]&&et[1]===K[1]&&(!z||et[2]===K[2])||(O[W++]=et)}O.length=W}}function L(O,N,z){var F=T(O,[],p(O));return g(N,F,z),!!F}function A(O,N,z){var F=c(O,N),I=w(O,N,F),j=p(O),V=S(O,N,F,j),W=_(O,N,I,V,z),K=T(O,W);return g(N,K,z),K?!0:I.length>0||V.length>0}function R(O,N,z){var F;if(z){F=N;for(var I=new Array(N.length),j=0;j<N.length;++j){var V=N[j];I[j]=[V[0],V[1],z[j]]}N=I}for(var W=L(O,N,!!z);A(O,N,!!z);)W=!0;if(z&&W){F.length=0,z.length=0;for(var j=0;j<N.length;++j){var V=N[j];F.push([V[0],V[1]]),z.push(V[2])}}return W}},5528:function(d,v,r){d.exports=k;var e=r(3962),s=r(9189),n=r(4354),l=r(4951),o=r(6695),h=r(7584),b=r(4469);function f(a,c){return n(e(a[0],c[1]),e(a[1],c[0]))}function k(a,c,p,w){var S=o(c,a),_=o(w,p),T=f(S,_);if(l(T)===0)return null;var P=o(a,p),u=f(_,P),g=s(u,T),L=b(S,g),A=h(a,L);return A}},5692:function(d){d.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(d,v,r){var e=r(5692),s=r(3578);d.exports=n;function n(b){var f,k,a,c,p,w,S,_,g,T,P;if(b||(b={}),_=(b.nshades||72)-1,S=b.format||"hex",w=b.colormap,w||(w="jet"),typeof w=="string"){if(w=w.toLowerCase(),!e[w])throw Error(w+" not a supported colorscale");p=e[w]}else if(Array.isArray(w))p=w.slice();else throw Error("unsupported colormap option",w);if(p.length>_+1)throw new Error(w+" map requires nshades to be at least size "+p.length);Array.isArray(b.alpha)?b.alpha.length!==2?T=[1,1]:T=b.alpha.slice():typeof b.alpha=="number"?T=[b.alpha,b.alpha]:T=[1,1],f=p.map(function(R){return Math.round(R.index*_)}),T[0]=Math.min(Math.max(T[0],0),1),T[1]=Math.min(Math.max(T[1],0),1);var u=p.map(function(R,O){var N=p[O].index,z=p[O].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=T[0]+(T[1]-T[0])*N),z}),g=[];for(P=0;P<f.length-1;++P){c=f[P+1]-f[P],k=u[P],a=u[P+1];for(var L=0;L<c;L++){var A=L/c;g.push([Math.round(s(k[0],a[0],A)),Math.round(s(k[1],a[1],A)),Math.round(s(k[2],a[2],A)),s(k[3],a[3],A)])}}return g.push(p[p.length-1].rgb.concat(T[1])),S==="hex"?g=g.map(o):S==="rgbaString"?g=g.map(h):S==="float"&&(g=g.map(l)),g}function l(b){return[b[0]/255,b[1]/255,b[2]/255,b[3]]}function o(b){for(var f,k="#",a=0;a<3;++a)f=b[a],f=f.toString(16),k+=("00"+f).substr(f.length);return k}function h(b){return"rgba("+b.join(",")+")"}},9398:function(d,v,r){d.exports=b;var e=r(417),s=r(7538),n=r(87),l=r(2019),o=r(9662);function h(f,k,a){var c=n(f[0],-k[0]),p=n(f[1],-k[1]),w=n(a[0],-k[0]),S=n(a[1],-k[1]),_=o(l(c,w),l(p,S));return _[_.length-1]>=0}function b(f,k,a,c){var p=e(k,a,c);if(p===0){var w=s(e(f,k,a)),S=s(e(f,k,c));if(w===S){if(w===0){var _=h(f,k,a),T=h(f,k,c);return _===T?0:_?1:-1}return 0}else{if(S===0)return w>0||h(f,k,c)?-1:1;if(w===0)return S>0||h(f,k,a)?1:-1}return s(S-w)}var P=e(f,k,a);if(P>0)return p>0&&e(f,k,c)>0?1:-1;if(P<0)return p>0||e(f,k,c)>0?1:-1;var u=e(f,k,c);return u>0||h(f,k,a)?1:-1}},7538:function(d){d.exports=function(v){return v<0?-1:v>0?1:0}},9209:function(d){d.exports=e;var v=Math.min;function r(s,n){return s-n}function e(s,n){var l=s.length,o=s.length-n.length;if(o)return o;switch(l){case 0:return 0;case 1:return s[0]-n[0];case 2:return s[0]+s[1]-n[0]-n[1]||v(s[0],s[1])-v(n[0],n[1]);case 3:var h=s[0]+s[1],b=n[0]+n[1];if(o=h+s[2]-(b+n[2]),o)return o;var f=v(s[0],s[1]),k=v(n[0],n[1]);return v(f,s[2])-v(k,n[2])||v(f+s[2],h)-v(k+n[2],b);case 4:var a=s[0],c=s[1],p=s[2],w=s[3],S=n[0],_=n[1],T=n[2],P=n[3];return a+c+p+w-(S+_+T+P)||v(a,c,p,w)-v(S,_,T,P,S)||v(a+c,a+p,a+w,c+p,c+w,p+w)-v(S+_,S+T,S+P,_+T,_+P,T+P)||v(a+c+p,a+c+w,a+p+w,c+p+w)-v(S+_+T,S+_+P,S+T+P,_+T+P);default:for(var u=s.slice().sort(r),g=n.slice().sort(r),L=0;L<l;++L)if(o=u[L]-g[L],o)return o;return 0}}},1284:function(d,v,r){var e=r(9209),s=r(9887);d.exports=n;function n(l,o){return e(l,o)||s(l)-s(o)}},5537:function(d,v,r){var e=r(8950),s=r(8722),n=r(3332);d.exports=l;function l(o){var h=o.length;if(h===0)return[];if(h===1)return[[0]];var b=o[0].length;return b===0?[]:b===1?e(o):b===2?s(o):n(o,b)}},8950:function(d){d.exports=v;function v(r){for(var e=0,s=0,n=1;n<r.length;++n)r[n][0]<r[e][0]&&(e=n),r[n][0]>r[s][0]&&(s=n);return e<s?[[e],[s]]:e>s?[[s],[e]]:[[e]]}},8722:function(d,v,r){d.exports=s;var e=r(3266);function s(n){var l=e(n),o=l.length;if(o<=2)return[];for(var h=new Array(o),b=l[o-1],f=0;f<o;++f){var k=l[f];h[f]=[b,k],b=k}return h}},3332:function(d,v,r){d.exports=o;var e=r(2183),s=r(2153);function n(h,b){for(var f=h.length,k=new Array(f),a=0;a<b.length;++a)k[a]=h[b[a]];for(var c=b.length,a=0;a<f;++a)b.indexOf(a)<0&&(k[c++]=h[a]);return k}function l(h,b){for(var f=h.length,k=b.length,a=0;a<f;++a)for(var c=h[a],p=0;p<c.length;++p){var w=c[p];if(w<k)c[p]=b[w];else{w=w-k;for(var S=0;S<k;++S)w>=b[S]&&(w+=1);c[p]=w}}return h}function o(h,b){try{return e(h,!0)}catch{var f=s(h);if(f.length<=b)return[];var k=n(h,f),a=e(k,!0);return l(a,f)}}},9680:function(d){function v(e,s,n,l,o,h){var b=6*o*o-6*o,f=3*o*o-4*o+1,k=-6*o*o+6*o,a=3*o*o-2*o;if(e.length){h||(h=new Array(e.length));for(var c=e.length-1;c>=0;--c)h[c]=b*e[c]+f*s[c]+k*n[c]+a*l[c];return h}return b*e+f*s+k*n[c]+a*l}function r(e,s,n,l,o,h){var b=o-1,f=o*o,k=b*b,a=(1+2*o)*k,c=o*k,p=f*(3-2*o),w=f*b;if(e.length){h||(h=new Array(e.length));for(var S=e.length-1;S>=0;--S)h[S]=a*e[S]+c*s[S]+p*n[S]+w*l[S];return h}return a*e+c*s+p*n+w*l}d.exports=r,d.exports.derivative=v},4419:function(d,v,r){var e=r(2183),s=r(1215);d.exports=h;function n(b,f){this.point=b,this.index=f}function l(b,f){for(var k=b.point,a=f.point,c=k.length,p=0;p<c;++p){var w=a[p]-k[p];if(w)return w}return 0}function o(b,f,k){if(b===1)return k?[[-1,0]]:[];var a=f.map(function(_,T){return[_[0],T]});a.sort(function(_,T){return _[0]-T[0]});for(var c=new Array(b-1),p=1;p<b;++p){var w=a[p-1],S=a[p];c[p-1]=[w[1],S[1]]}return k&&c.push([-1,c[0][1]],[c[b-1][1],-1]),c}function h(b,f){var k=b.length;if(k===0)return[];var a=b[0].length;if(a<1)return[];if(a===1)return o(k,b,f);for(var c=new Array(k),p=1,w=0;w<k;++w){for(var S=b[w],_=new Array(a+1),T=0,P=0;P<a;++P){var u=S[P];_[P]=u,T+=u*u}_[a]=T,c[w]=new n(_,w),p=Math.max(T,p)}s(c,l),k=c.length;for(var g=new Array(k+a+1),L=new Array(k+a+1),A=(a+1)*(a+1)*p,R=new Array(a+1),w=0;w<=a;++w)R[w]=0;R[a]=A,g[0]=R.slice(),L[0]=-1;for(var w=0;w<=a;++w){var _=R.slice();_[w]=1,g[w+1]=_,L[w+1]=-1}for(var w=0;w<k;++w){var O=c[w];g[w+a+1]=O.point,L[w+a+1]=O.index}var N=e(g,!1);if(f?N=N.filter(function(z){for(var F=0,I=0;I<=a;++I){var j=L[z[I]];if(j<0&&++F>=2)return!1;z[I]=j}return!0}):N=N.filter(function(z){for(var F=0;F<=a;++F){var I=L[z[F]];if(I<0)return!1;z[F]=I}return!0}),a&1)for(var w=0;w<N.length;++w){var O=N[w],_=O[0];O[0]=O[1],O[1]=_}return N}},8362:function(d){var v=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),e=new Uint32Array(r.buffer);if(r[0]=1,v=!0,e[1]===1072693248){let n=function(h,b){return e[0]=h,e[1]=b,r[0]},l=function(h){return r[0]=h,e[0]},o=function(h){return r[0]=h,e[1]};d.exports=function(h){return r[0]=h,[e[0],e[1]]},d.exports.pack=n,d.exports.lo=l,d.exports.hi=o}else if(e[0]===1072693248){let n=function(h,b){return e[1]=h,e[0]=b,r[0]},l=function(h){return r[0]=h,e[1]},o=function(h){return r[0]=h,e[0]};d.exports=function(h){return r[0]=h,[e[1],e[0]]},d.exports.pack=n,d.exports.lo=l,d.exports.hi=o}else v=!1}if(!v){let n=function(h,b){return s.writeUInt32LE(h,0,!0),s.writeUInt32LE(b,4,!0),s.readDoubleLE(0,!0)},l=function(h){return s.writeDoubleLE(h,0,!0),s.readUInt32LE(0,!0)},o=function(h){return s.writeDoubleLE(h,0,!0),s.readUInt32LE(4,!0)};var s=new Buffer(8);d.exports=function(h){return s.writeDoubleLE(h,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},d.exports.pack=n,d.exports.lo=l,d.exports.hi=o}d.exports.sign=function(n){return d.exports.hi(n)>>>31},d.exports.exponent=function(n){var l=d.exports.hi(n);return(l<<1>>>21)-1023},d.exports.fraction=function(n){var l=d.exports.lo(n),o=d.exports.hi(n),h=o&(1<<20)-1;return o&2146435072&&(h+=1048576),[l,h]},d.exports.denormalized=function(n){var l=d.exports.hi(n);return!(l&2146435072)}},3094:function(d){function v(s,n,l){var o=s[l]|0;if(o<=0)return[];var h=new Array(o),b;if(l===s.length-1)for(b=0;b<o;++b)h[b]=n;else for(b=0;b<o;++b)h[b]=v(s,n,l+1);return h}function r(s,n){var l,o;for(l=new Array(s),o=0;o<s;++o)l[o]=n;return l}function e(s,n){switch(typeof n>"u"&&(n=0),typeof s){case"number":if(s>0)return r(s|0,n);break;case"object":if(typeof s.length=="number")return v(s,n,0);break}return[]}d.exports=e},8348:function(d,v,r){d.exports=s;var e=r(1215);function s(n,l){var o=n.length;if(typeof l!="number"){l=0;for(var h=0;h<o;++h){var b=n[h];l=Math.max(l,b[0],b[1])}l=(l|0)+1}l=l|0;for(var f=new Array(l),h=0;h<l;++h)f[h]=[];for(var h=0;h<o;++h){var b=n[h];f[b[0]].push(b[1]),f[b[1]].push(b[0])}for(var k=0;k<l;++k)e(f[k],function(a,c){return a-c});return f}},5795:function(d){d.exports=v;function v(r,e,s){var n=e||0,l=s||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[l*r[12]-r[8],l*r[13]-r[9],l*r[14]-r[10],l*r[15]-r[11]]]}},8444:function(d,v,r){d.exports=b;var e=r(9680),s=r(5070);function n(f,k,a){return Math.min(k,Math.max(f,a))}function l(f,k,a){this.dimension=f.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var c=0;c<this.dimension;++c)this.bounds[0][c]=-1/0,this.bounds[1][c]=1/0;this._state=f.slice().reverse(),this._velocity=k.slice().reverse(),this._time=[a],this._scratch=[f.slice(),f.slice(),f.slice(),f.slice(),f.slice()]}var o=l.prototype;o.flush=function(f){var k=s.gt(this._time,f)-1;k<=0||(this._time.splice(0,k),this._state.splice(0,k*this.dimension),this._velocity.splice(0,k*this.dimension))},o.curve=function(f){var k=this._time,a=k.length,c=s.le(k,f),p=this._scratch[0],w=this._state,S=this._velocity,_=this.dimension,T=this.bounds;if(c<0)for(var P=_-1,u=0;u<_;++u,--P)p[u]=w[P];else if(c>=a-1)for(var P=w.length-1,g=f-k[a-1],u=0;u<_;++u,--P)p[u]=w[P]+g*S[P];else{for(var P=_*(c+1)-1,L=k[c],A=k[c+1],R=A-L||1,O=this._scratch[1],N=this._scratch[2],z=this._scratch[3],F=this._scratch[4],I=!0,u=0;u<_;++u,--P)O[u]=w[P],z[u]=S[P]*R,N[u]=w[P+_],F[u]=S[P+_]*R,I=I&&O[u]===N[u]&&z[u]===F[u]&&z[u]===0;if(I)for(var u=0;u<_;++u)p[u]=O[u];else e(O,z,N,F,(f-L)/R,p)}for(var j=T[0],V=T[1],u=0;u<_;++u)p[u]=n(j[u],V[u],p[u]);return p},o.dcurve=function(f){var k=this._time,a=k.length,c=s.le(k,f),p=this._scratch[0],w=this._state,S=this._velocity,_=this.dimension;if(c>=a-1){var T=w.length-1;f-k[a-1];for(var P=0;P<_;++P,--T)p[P]=S[T]}else{for(var T=_*(c+1)-1,u=k[c],g=k[c+1],L=g-u||1,A=this._scratch[1],R=this._scratch[2],O=this._scratch[3],N=this._scratch[4],z=!0,P=0;P<_;++P,--T)A[P]=w[T],O[P]=S[T]*L,R[P]=w[T+_],N[P]=S[T+_]*L,z=z&&A[P]===R[P]&&O[P]===N[P]&&O[P]===0;if(z)for(var P=0;P<_;++P)p[P]=0;else{e.derivative(A,O,R,N,(f-u)/L,p);for(var P=0;P<_;++P)p[P]/=L}}return p},o.lastT=function(){var f=this._time;return f[f.length-1]},o.stable=function(){for(var f=this._velocity,k=f.length,a=this.dimension-1;a>=0;--a)if(f[--k])return!1;return!0},o.jump=function(f){var k=this.lastT(),a=this.dimension;if(!(f<k||arguments.length!==a+1)){var c=this._state,p=this._velocity,w=c.length-this.dimension,S=this.bounds,_=S[0],T=S[1];this._time.push(k,f);for(var P=0;P<2;++P)for(var u=0;u<a;++u)c.push(c[w++]),p.push(0);this._time.push(f);for(var u=a;u>0;--u)c.push(n(_[u-1],T[u-1],arguments[u])),p.push(0)}},o.push=function(f){var k=this.lastT(),a=this.dimension;if(!(f<k||arguments.length!==a+1)){var c=this._state,p=this._velocity,w=c.length-this.dimension,S=f-k,_=this.bounds,T=_[0],P=_[1],u=S>1e-6?1/S:0;this._time.push(f);for(var g=a;g>0;--g){var L=n(T[g-1],P[g-1],arguments[g]);c.push(L),p.push((L-c[w++])*u)}}},o.set=function(f){var k=this.dimension;if(!(f<this.lastT()||arguments.length!==k+1)){var a=this._state,c=this._velocity,p=this.bounds,w=p[0],S=p[1];this._time.push(f);for(var _=k;_>0;--_)a.push(n(w[_-1],S[_-1],arguments[_])),c.push(0)}},o.move=function(f){var k=this.lastT(),a=this.dimension;if(!(f<=k||arguments.length!==a+1)){var c=this._state,p=this._velocity,w=c.length-this.dimension,S=this.bounds,_=S[0],T=S[1],P=f-k,u=P>1e-6?1/P:0;this._time.push(f);for(var g=a;g>0;--g){var L=arguments[g];c.push(n(_[g-1],T[g-1],c[w++]+L)),p.push(L*u)}}},o.idle=function(f){var k=this.lastT();if(!(f<k)){var a=this.dimension,c=this._state,p=this._velocity,w=c.length-a,S=this.bounds,_=S[0],T=S[1],P=f-k;this._time.push(f);for(var u=a-1;u>=0;--u)c.push(n(_[u],T[u],c[w]+P*p[w])),p.push(0),w+=1}};function h(f){for(var k=new Array(f),a=0;a<f;++a)k[a]=0;return k}function b(f,k,a){switch(arguments.length){case 0:return new l([0],[0],0);case 1:if(typeof f=="number"){var c=h(f);return new l(c,c,0)}else return new l(f,h(f.length),0);case 2:if(typeof k=="number"){var c=h(f.length);return new l(f,c,+k)}else a=0;case 3:if(f.length!==k.length)throw new Error("state and velocity lengths must match");return new l(f,k,a)}}},7080:function(d){d.exports=_;var v=0,r=1;function e(T,P,u,g,L,A){this._color=T,this.key=P,this.value=u,this.left=g,this.right=L,this._count=A}function s(T){return new e(T._color,T.key,T.value,T.left,T.right,T._count)}function n(T,P){return new e(T,P.key,P.value,P.left,P.right,P._count)}function l(T){T._count=1+(T.left?T.left._count:0)+(T.right?T.right._count:0)}function o(T,P){this._compare=T,this.root=P}var h=o.prototype;Object.defineProperty(h,"keys",{get:function(){var T=[];return this.forEach(function(P,u){T.push(P)}),T}}),Object.defineProperty(h,"values",{get:function(){var T=[];return this.forEach(function(P,u){T.push(u)}),T}}),Object.defineProperty(h,"length",{get:function(){return this.root?this.root._count:0}}),h.insert=function(T,P){for(var u=this._compare,g=this.root,L=[],A=[];g;){var R=u(T,g.key);L.push(g),A.push(R),R<=0?g=g.left:g=g.right}L.push(new e(v,T,P,null,null,1));for(var O=L.length-2;O>=0;--O){var g=L[O];A[O]<=0?L[O]=new e(g._color,g.key,g.value,L[O+1],g.right,g._count+1):L[O]=new e(g._color,g.key,g.value,g.left,L[O+1],g._count+1)}for(var O=L.length-1;O>1;--O){var N=L[O-1],g=L[O];if(N._color===r||g._color===r)break;var z=L[O-2];if(z.left===N)if(N.left===g){var F=z.right;if(F&&F._color===v)N._color=r,z.right=n(r,F),z._color=v,O-=1;else{if(z._color=v,z.left=N.right,N._color=r,N.right=z,L[O-2]=N,L[O-1]=g,l(z),l(N),O>=3){var I=L[O-3];I.left===z?I.left=N:I.right=N}break}}else{var F=z.right;if(F&&F._color===v)N._color=r,z.right=n(r,F),z._color=v,O-=1;else{if(N.right=g.left,z._color=v,z.left=g.right,g._color=r,g.left=N,g.right=z,L[O-2]=g,L[O-1]=N,l(z),l(N),l(g),O>=3){var I=L[O-3];I.left===z?I.left=g:I.right=g}break}}else if(N.right===g){var F=z.left;if(F&&F._color===v)N._color=r,z.left=n(r,F),z._color=v,O-=1;else{if(z._color=v,z.right=N.left,N._color=r,N.left=z,L[O-2]=N,L[O-1]=g,l(z),l(N),O>=3){var I=L[O-3];I.right===z?I.right=N:I.left=N}break}}else{var F=z.left;if(F&&F._color===v)N._color=r,z.left=n(r,F),z._color=v,O-=1;else{if(N.left=g.right,z._color=v,z.right=g.left,g._color=r,g.right=N,g.left=z,L[O-2]=g,L[O-1]=N,l(z),l(N),l(g),O>=3){var I=L[O-3];I.right===z?I.right=g:I.left=g}break}}}return L[0]._color=r,new o(u,L[0])};function b(T,P){if(P.left){var u=b(T,P.left);if(u)return u}var u=T(P.key,P.value);if(u)return u;if(P.right)return b(T,P.right)}function f(T,P,u,g){var L=P(T,g.key);if(L<=0){if(g.left){var A=f(T,P,u,g.left);if(A)return A}var A=u(g.key,g.value);if(A)return A}if(g.right)return f(T,P,u,g.right)}function k(T,P,u,g,L){var A=u(T,L.key),R=u(P,L.key),O;if(A<=0&&(L.left&&(O=k(T,P,u,g,L.left),O)||R>0&&(O=g(L.key,L.value),O)))return O;if(R>0&&L.right)return k(T,P,u,g,L.right)}h.forEach=function(T,P,u){if(this.root)switch(arguments.length){case 1:return b(T,this.root);case 2:return f(P,this._compare,T,this.root);case 3:return this._compare(P,u)>=0?void 0:k(P,u,this._compare,T,this.root)}},Object.defineProperty(h,"begin",{get:function(){for(var T=[],P=this.root;P;)T.push(P),P=P.left;return new a(this,T)}}),Object.defineProperty(h,"end",{get:function(){for(var T=[],P=this.root;P;)T.push(P),P=P.right;return new a(this,T)}}),h.at=function(T){if(T<0)return new a(this,[]);for(var P=this.root,u=[];;){if(u.push(P),P.left){if(T<P.left._count){P=P.left;continue}T-=P.left._count}if(!T)return new a(this,u);if(T-=1,P.right){if(T>=P.right._count)break;P=P.right}else break}return new a(this,[])},h.ge=function(T){for(var P=this._compare,u=this.root,g=[],L=0;u;){var A=P(T,u.key);g.push(u),A<=0&&(L=g.length),A<=0?u=u.left:u=u.right}return g.length=L,new a(this,g)},h.gt=function(T){for(var P=this._compare,u=this.root,g=[],L=0;u;){var A=P(T,u.key);g.push(u),A<0&&(L=g.length),A<0?u=u.left:u=u.right}return g.length=L,new a(this,g)},h.lt=function(T){for(var P=this._compare,u=this.root,g=[],L=0;u;){var A=P(T,u.key);g.push(u),A>0&&(L=g.length),A<=0?u=u.left:u=u.right}return g.length=L,new a(this,g)},h.le=function(T){for(var P=this._compare,u=this.root,g=[],L=0;u;){var A=P(T,u.key);g.push(u),A>=0&&(L=g.length),A<0?u=u.left:u=u.right}return g.length=L,new a(this,g)},h.find=function(T){for(var P=this._compare,u=this.root,g=[];u;){var L=P(T,u.key);if(g.push(u),L===0)return new a(this,g);L<=0?u=u.left:u=u.right}return new a(this,[])},h.remove=function(T){var P=this.find(T);return P?P.remove():this},h.get=function(T){for(var P=this._compare,u=this.root;u;){var g=P(T,u.key);if(g===0)return u.value;g<=0?u=u.left:u=u.right}};function a(T,P){this.tree=T,this._stack=P}var c=a.prototype;Object.defineProperty(c,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(c,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),c.clone=function(){return new a(this.tree,this._stack.slice())};function p(T,P){T.key=P.key,T.value=P.value,T.left=P.left,T.right=P.right,T._color=P._color,T._count=P._count}function w(T){for(var P,u,g,L,A=T.length-1;A>=0;--A){if(P=T[A],A===0){P._color=r;return}if(u=T[A-1],u.left===P){if(g=u.right,g.right&&g.right._color===v){if(g=u.right=s(g),L=g.right=s(g.right),u.right=g.left,g.left=u,g.right=L,g._color=u._color,P._color=r,u._color=r,L._color=r,l(u),l(g),A>1){var R=T[A-2];R.left===u?R.left=g:R.right=g}T[A-1]=g;return}else if(g.left&&g.left._color===v){if(g=u.right=s(g),L=g.left=s(g.left),u.right=L.left,g.left=L.right,L.left=u,L.right=g,L._color=u._color,u._color=r,g._color=r,P._color=r,l(u),l(g),l(L),A>1){var R=T[A-2];R.left===u?R.left=L:R.right=L}T[A-1]=L;return}if(g._color===r)if(u._color===v){u._color=r,u.right=n(v,g);return}else{u.right=n(v,g);continue}else{if(g=s(g),u.right=g.left,g.left=u,g._color=u._color,u._color=v,l(u),l(g),A>1){var R=T[A-2];R.left===u?R.left=g:R.right=g}T[A-1]=g,T[A]=u,A+1<T.length?T[A+1]=P:T.push(P),A=A+2}}else{if(g=u.left,g.left&&g.left._color===v){if(g=u.left=s(g),L=g.left=s(g.left),u.left=g.right,g.right=u,g.left=L,g._color=u._color,P._color=r,u._color=r,L._color=r,l(u),l(g),A>1){var R=T[A-2];R.right===u?R.right=g:R.left=g}T[A-1]=g;return}else if(g.right&&g.right._color===v){if(g=u.left=s(g),L=g.right=s(g.right),u.left=L.right,g.right=L.left,L.right=u,L.left=g,L._color=u._color,u._color=r,g._color=r,P._color=r,l(u),l(g),l(L),A>1){var R=T[A-2];R.right===u?R.right=L:R.left=L}T[A-1]=L;return}if(g._color===r)if(u._color===v){u._color=r,u.left=n(v,g);return}else{u.left=n(v,g);continue}else{if(g=s(g),u.left=g.right,g.right=u,g._color=u._color,u._color=v,l(u),l(g),A>1){var R=T[A-2];R.right===u?R.right=g:R.left=g}T[A-1]=g,T[A]=u,A+1<T.length?T[A+1]=P:T.push(P),A=A+2}}}}c.remove=function(){var T=this._stack;if(T.length===0)return this.tree;var P=new Array(T.length),u=T[T.length-1];P[P.length-1]=new e(u._color,u.key,u.value,u.left,u.right,u._count);for(var g=T.length-2;g>=0;--g){var u=T[g];u.left===T[g+1]?P[g]=new e(u._color,u.key,u.value,P[g+1],u.right,u._count):P[g]=new e(u._color,u.key,u.value,u.left,P[g+1],u._count)}if(u=P[P.length-1],u.left&&u.right){var L=P.length;for(u=u.left;u.right;)P.push(u),u=u.right;var A=P[L-1];P.push(new e(u._color,A.key,A.value,u.left,u.right,u._count)),P[L-1].key=u.key,P[L-1].value=u.value;for(var g=P.length-2;g>=L;--g)u=P[g],P[g]=new e(u._color,u.key,u.value,u.left,P[g+1],u._count);P[L-1].left=P[L]}if(u=P[P.length-1],u._color===v){var R=P[P.length-2];R.left===u?R.left=null:R.right===u&&(R.right=null),P.pop();for(var g=0;g<P.length;++g)P[g]._count--;return new o(this.tree._compare,P[0])}else if(u.left||u.right){u.left?p(u,u.left):u.right&&p(u,u.right),u._color=r;for(var g=0;g<P.length-1;++g)P[g]._count--;return new o(this.tree._compare,P[0])}else{if(P.length===1)return new o(this.tree._compare,null);for(var g=0;g<P.length;++g)P[g]._count--;var O=P[P.length-2];w(P),O.left===u?O.left=null:O.right=null}return new o(this.tree._compare,P[0])},Object.defineProperty(c,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(c,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(c,"index",{get:function(){var T=0,P=this._stack;if(P.length===0){var u=this.tree.root;return u?u._count:0}else P[P.length-1].left&&(T=P[P.length-1].left._count);for(var g=P.length-2;g>=0;--g)P[g+1]===P[g].right&&(++T,P[g].left&&(T+=P[g].left._count));return T},enumerable:!0}),c.next=function(){var T=this._stack;if(T.length!==0){var P=T[T.length-1];if(P.right)for(P=P.right;P;)T.push(P),P=P.left;else for(T.pop();T.length>0&&T[T.length-1].right===P;)P=T[T.length-1],T.pop()}},Object.defineProperty(c,"hasNext",{get:function(){var T=this._stack;if(T.length===0)return!1;if(T[T.length-1].right)return!0;for(var P=T.length-1;P>0;--P)if(T[P-1].left===T[P])return!0;return!1}}),c.update=function(T){var P=this._stack;if(P.length===0)throw new Error("Can't update empty node!");var u=new Array(P.length),g=P[P.length-1];u[u.length-1]=new e(g._color,g.key,T,g.left,g.right,g._count);for(var L=P.length-2;L>=0;--L)g=P[L],g.left===P[L+1]?u[L]=new e(g._color,g.key,g.value,u[L+1],g.right,g._count):u[L]=new e(g._color,g.key,g.value,g.left,u[L+1],g._count);return new o(this.tree._compare,u[0])},c.prev=function(){var T=this._stack;if(T.length!==0){var P=T[T.length-1];if(P.left)for(P=P.left;P;)T.push(P),P=P.right;else for(T.pop();T.length>0&&T[T.length-1].left===P;)P=T[T.length-1],T.pop()}},Object.defineProperty(c,"hasPrev",{get:function(){var T=this._stack;if(T.length===0)return!1;if(T[T.length-1].left)return!0;for(var P=T.length-1;P>0;--P)if(T[P-1].right===T[P])return!0;return!1}});function S(T,P){return T<P?-1:T>P?1:0}function _(T){return new o(T||S,null)}},7453:function(d,v,r){d.exports=g;var e=r(9557),s=r(1681),n=r(1011),l=r(2864),o=r(8468),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function b(L,A){return L[0]=A[0],L[1]=A[1],L[2]=A[2],L}function f(L){this.gl=L,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(L)}var k=f.prototype;k.update=function(L){L=L||{};function A(lt,ot,q){if(q in L){var J=L[q],it=this[q],Z;(lt?Array.isArray(J)&&Array.isArray(J[0]):Array.isArray(J))?this[q]=Z=[ot(J[0]),ot(J[1]),ot(J[2])]:this[q]=Z=[ot(J),ot(J),ot(J)];for(var tt=0;tt<3;++tt)if(Z[tt]!==it[tt])return!0}return!1}var R=A.bind(this,!1,Number),O=A.bind(this,!1,Boolean),N=A.bind(this,!1,String),z=A.bind(this,!0,function(lt){if(Array.isArray(lt)){if(lt.length===3)return[+lt[0],+lt[1],+lt[2],1];if(lt.length===4)return[+lt[0],+lt[1],+lt[2],+lt[3]]}return[0,0,0,1]}),F,I=!1,j=!1;if("bounds"in L)for(var V=L.bounds,W=0;W<2;++W)for(var K=0;K<3;++K)V[W][K]!==this.bounds[W][K]&&(j=!0),this.bounds[W][K]=V[W][K];if("ticks"in L){F=L.ticks,I=!0,this.autoTicks=!1;for(var W=0;W<3;++W)this.tickSpacing[W]=0}else R("tickSpacing")&&(this.autoTicks=!0,j=!0);if(this._firstInit&&("ticks"in L||"tickSpacing"in L||(this.autoTicks=!0),j=!0,I=!0,this._firstInit=!1),j&&this.autoTicks&&(F=o.create(this.bounds,this.tickSpacing),I=!0),I){for(var W=0;W<3;++W)F[W].sort(function(ot,q){return ot.x-q.x});o.equal(F,this.ticks)?I=!1:this.ticks=F}O("tickEnable"),N("tickFont")&&(I=!0),R("tickSize"),R("tickAngle"),R("tickPad"),z("tickColor");var et=N("labels");N("labelFont")&&(et=!0),O("labelEnable"),R("labelSize"),R("labelPad"),z("labelColor"),O("lineEnable"),O("lineMirror"),R("lineWidth"),z("lineColor"),O("lineTickEnable"),O("lineTickMirror"),R("lineTickLength"),R("lineTickWidth"),z("lineTickColor"),O("gridEnable"),R("gridWidth"),z("gridColor"),O("zeroEnable"),z("zeroLineColor"),R("zeroLineWidth"),O("backgroundEnable"),z("backgroundColor"),this._text?this._text&&(et||I)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=e(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&I&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function a(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var c=[new a,new a,new a];function p(L,A,R,O,N){for(var z=L.primalOffset,F=L.primalMinor,I=L.mirrorOffset,j=L.mirrorMinor,V=O[A],W=0;W<3;++W)if(A!==W){var K=z,et=I,lt=F,ot=j;V&1<<W&&(K=I,et=z,lt=j,ot=F),K[W]=R[0][W],et[W]=R[1][W],N[W]>0?(lt[W]=-1,ot[W]=0):(lt[W]=0,ot[W]=1)}}var w=[0,0,0],S={model:h,view:h,projection:h,_ortho:!1};k.isOpaque=function(){return!0},k.isTransparent=function(){return!1},k.drawTransparent=function(L){};var _=0,T=[0,0,0],P=[0,0,0],u=[0,0,0];k.draw=function(L){L=L||S;for(var A=this.gl,R=L.model||h,O=L.view||h,N=L.projection||h,z=this.bounds,F=L._ortho||!1,I=l(R,O,N,z,F),j=I.cubeEdges,V=I.axis,W=O[12],K=O[13],et=O[14],lt=O[15],ot=F?2:1,q=ot*this.pixelRatio*(N[3]*W+N[7]*K+N[11]*et+N[15]*lt)/A.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=j[J],this.lastCubeProps.axis[J]=V[J];for(var it=c,J=0;J<3;++J)p(c[J],J,this.bounds,j,V);for(var A=this.gl,Z=w,J=0;J<3;++J)this.backgroundEnable[J]?Z[J]=V[J]:Z[J]=0;this._background.draw(R,O,N,z,Z,this.backgroundColor),this._lines.bind(R,O,N,this);for(var J=0;J<3;++J){var tt=[0,0,0];V[J]>0?tt[J]=z[1][J]:tt[J]=z[0][J];for(var st=0;st<2;++st){var Q=(J+1+st)%3,G=(J+1+(st^1))%3;this.gridEnable[Q]&&this._lines.drawGrid(Q,G,this.bounds,tt,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(var st=0;st<2;++st){var Q=(J+1+st)%3,G=(J+1+(st^1))%3;this.zeroEnable[G]&&Math.min(z[0][G],z[1][G])<=0&&Math.max(z[0][G],z[1][G])>=0&&this._lines.drawZero(Q,G,this.bounds,tt,this.zeroLineColor[G],this.zeroLineWidth[G]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,it[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,it[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var ut=b(T,it[J].primalMinor),at=b(P,it[J].mirrorMinor),dt=this.lineTickLength,st=0;st<3;++st){var gt=q/R[5*st];ut[st]*=dt[st]*gt,at[st]*=dt[st]*gt}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,it[J].primalOffset,ut,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,it[J].mirrorOffset,at,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(R,O,N,this.pixelRatio);var wt,kt=.5,Ot,bt;function _t(Xt){bt=[0,0,0],bt[Xt]=1}function mt(Xt,se,Yt){var ue=(Xt+1)%3,ie=(Xt+2)%3,fe=se[ue],ce=se[ie],ye=Yt[ue],de=Yt[ie];if(fe>0&&de>0){_t(ue);return}else if(fe>0&&de<0){_t(ue);return}else if(fe<0&&de>0){_t(ue);return}else if(fe<0&&de<0){_t(ue);return}else if(ce>0&&ye>0){_t(ie);return}else if(ce>0&&ye<0){_t(ie);return}else if(ce<0&&ye>0){_t(ie);return}else if(ce<0&&ye<0){_t(ie);return}}for(var J=0;J<3;++J){for(var Pt=it[J].primalMinor,Rt=it[J].mirrorMinor,Ht=b(u,it[J].primalOffset),st=0;st<3;++st)this.lineTickEnable[J]&&(Ht[st]+=q*Pt[st]*Math.max(this.lineTickLength[st],0)/R[5*st]);var Dt=[0,0,0];if(Dt[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,Ot=1,wt=[this.tickAlign[J],kt,Ot],wt[0]==="auto"?wt[0]=_:wt[0]=parseInt(""+wt[0]),bt=[0,0,0],mt(J,Pt,Rt);for(var st=0;st<3;++st)Ht[st]+=q*Pt[st]*this.tickPad[st]/R[5*st];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Ht,this.tickColor[J],Dt,bt,wt)}if(this.labelEnable[J]){Ot=0,bt=[0,0,0],this.labels[J].length>4&&(_t(J),Ot=1),wt=[this.labelAlign[J],kt,Ot],wt[0]==="auto"?wt[0]=_:wt[0]=parseInt(""+wt[0]);for(var st=0;st<3;++st)Ht[st]+=q*Pt[st]*this.labelPad[st]/R[5*st];Ht[J]+=.5*(z[0][J]+z[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Ht,this.labelColor[J],[0,0,0],bt,wt)}}this._text.unbind()},k.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function g(L,A){var R=new f(L);return R.update(A),R}},1011:function(d,v,r){d.exports=h;var e=r(5827),s=r(2944),n=r(1943).bg;function l(b,f,k,a){this.gl=b,this.buffer=f,this.vao=k,this.shader=a}var o=l.prototype;o.draw=function(b,f,k,a,c,p){for(var w=!1,S=0;S<3;++S)w=w||c[S];if(w){var _=this.gl;_.enable(_.POLYGON_OFFSET_FILL),_.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:b,view:f,projection:k,bounds:a,enable:c,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),_.disable(_.POLYGON_OFFSET_FILL)}},o.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(b){for(var f=[],k=[],a=0,c=0;c<3;++c)for(var p=(c+1)%3,w=(c+2)%3,S=[0,0,0],_=[0,0,0],T=-1;T<=1;T+=2){k.push(a,a+2,a+1,a+1,a+2,a+3),S[c]=T,_[c]=T;for(var P=-1;P<=1;P+=2){S[p]=P;for(var u=-1;u<=1;u+=2)S[w]=u,f.push(S[0],S[1],S[2],_[0],_[1],_[2]),a+=1}var g=p;p=w,w=g}var L=e(b,new Float32Array(f)),A=e(b,new Uint16Array(k),b.ELEMENT_ARRAY_BUFFER),R=s(b,[{buffer:L,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:L,type:b.FLOAT,size:3,offset:12,stride:24}],A),O=n(b);return O.attributes.position.location=0,O.attributes.normal.location=1,new l(b,L,R,O)}},2864:function(d,v,r){d.exports=T;var e=r(2288),s=r(104),n=r(4670),l=r(417),o=new Array(16),h=new Array(8),b=new Array(8),f=new Array(3),k=[0,0,0];(function(){for(var P=0;P<8;++P)h[P]=[1,1,1,1],b[P]=[1,1,1]})();function a(P,u,g){for(var L=0;L<4;++L){P[L]=g[12+L];for(var A=0;A<3;++A)P[L]+=u[A]*g[4*A+L]}}var c=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(P){for(var u=0;u<c.length;++u)if(P=n.positive(P,c[u]),P.length<3)return 0;for(var g=P[0],L=g[0]/g[3],A=g[1]/g[3],R=0,u=1;u+1<P.length;++u){var O=P[u],N=P[u+1],z=O[0]/O[3],F=O[1]/O[3],I=N[0]/N[3],j=N[1]/N[3],V=z-L,W=F-A,K=I-L,et=j-A;R+=Math.abs(V*et-W*K)}return R}var w=[1,1,1],S=[0,0,0],_={cubeEdges:w,axis:S};function T(P,u,g,L,A){s(o,u,P),s(o,g,o);for(var R=0,O=0;O<2;++O){f[2]=L[O][2];for(var N=0;N<2;++N){f[1]=L[N][1];for(var z=0;z<2;++z)f[0]=L[z][0],a(h[R],f,o),R+=1}}for(var F=-1,O=0;O<8;++O){for(var I=h[O][3],j=0;j<3;++j)b[O][j]=h[O][j]/I;A&&(b[O][2]*=-1),I<0&&(F<0||b[O][2]<b[F][2])&&(F=O)}if(F<0){F=0;for(var V=0;V<3;++V){for(var W=(V+2)%3,K=(V+1)%3,et=-1,lt=-1,ot=0;ot<2;++ot){var q=ot<<V,J=q+(ot<<W)+(1-ot<<K),it=q+(1-ot<<W)+(ot<<K);l(b[q],b[J],b[it],k)<0||(ot?et=1:lt=1)}if(et<0||lt<0){lt>et&&(F|=1<<V);continue}for(var ot=0;ot<2;++ot){var q=ot<<V,J=q+(ot<<W)+(1-ot<<K),it=q+(1-ot<<W)+(ot<<K),Z=p([h[q],h[J],h[it],h[q+(1<<W)+(1<<K)]]);ot?et=Z:lt=Z}if(lt>et){F|=1<<V;continue}}}for(var tt=7^F,st=-1,O=0;O<8;++O)O===F||O===tt||(st<0||b[st][1]>b[O][1])&&(st=O);for(var Q=-1,O=0;O<3;++O){var G=st^1<<O;if(!(G===F||G===tt)){Q<0&&(Q=G);var K=b[G];K[0]<b[Q][0]&&(Q=G)}}for(var ut=-1,O=0;O<3;++O){var G=st^1<<O;if(!(G===F||G===tt||G===Q)){ut<0&&(ut=G);var K=b[G];K[0]>b[ut][0]&&(ut=G)}}var at=w;at[0]=at[1]=at[2]=0,at[e.log2(Q^st)]=st&Q,at[e.log2(st^ut)]=st&ut;var dt=ut^7;dt===F||dt===tt?(dt=Q^7,at[e.log2(ut^dt)]=dt&ut):at[e.log2(Q^dt)]=dt&Q;for(var gt=S,wt=F,V=0;V<3;++V)wt&1<<V?gt[V]=-1:gt[V]=1;return _}},1681:function(d,v,r){d.exports=w;var e=r(5827),s=r(2944),n=r(1943).j,l=[0,0,0],o=[0,0,0],h=[0,0,0],b=[0,0,0],f=[1,1];function k(S){return S[0]=S[1]=S[2]=0,S}function a(S,_){return S[0]=_[0],S[1]=_[1],S[2]=_[2],S}function c(S,_,T,P,u,g,L,A){this.gl=S,this.vertBuffer=_,this.vao=T,this.shader=P,this.tickCount=u,this.tickOffset=g,this.gridCount=L,this.gridOffset=A}var p=c.prototype;p.bind=function(S,_,T){this.shader.bind(),this.shader.uniforms.model=S,this.shader.uniforms.view=_,this.shader.uniforms.projection=T,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(S,_,T,P,u){var g=k(o);this.shader.uniforms.majorAxis=o,g[S]=_[1][S]-_[0][S],this.shader.uniforms.minorAxis=g;var L=a(b,T);L[S]+=_[0][S],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=u,this.shader.uniforms.color=P;var A=k(h);A[(S+2)%3]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,6);var A=k(h);A[(S+1)%3]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(S,_,T,P,u){if(this.tickCount[S]){var g=k(l);g[S]=1,this.shader.uniforms.majorAxis=g,this.shader.uniforms.offset=_,this.shader.uniforms.minorAxis=T,this.shader.uniforms.color=P,this.shader.uniforms.lineWidth=u;var L=k(h);L[S]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S])}},p.drawGrid=function(S,_,T,P,u,g){if(this.gridCount[S]){var L=k(o);L[_]=T[1][_]-T[0][_],this.shader.uniforms.minorAxis=L;var A=a(b,P);A[_]+=T[0][_],this.shader.uniforms.offset=A;var R=k(l);R[S]=1,this.shader.uniforms.majorAxis=R;var O=k(h);O[S]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=u,this.vao.draw(this.gl.TRIANGLES,this.gridCount[S],this.gridOffset[S])}},p.drawZero=function(S,_,T,P,u,g){var L=k(o);this.shader.uniforms.majorAxis=L,L[S]=T[1][S]-T[0][S],this.shader.uniforms.minorAxis=L;var A=a(b,P);A[S]+=T[0][S],this.shader.uniforms.offset=A;var R=k(h);R[_]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=u,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function w(S,_,T){var P=[],u=[0,0,0],g=[0,0,0],L=[0,0,0],A=[0,0,0];P.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var R=0;R<3;++R){for(var O=P.length/3|0,N=0;N<T[R].length;++N){var z=+T[R][N].x;P.push(z,0,1,z,1,1,z,0,-1,z,0,-1,z,1,1,z,1,-1)}var I=P.length/3|0;u[R]=O,g[R]=I-O;for(var O=P.length/3|0,F=0;F<T[R].length;++F){var z=+T[R][F].x;P.push(z,0,1,z,1,1,z,0,-1,z,0,-1,z,1,1,z,1,-1)}var I=P.length/3|0;L[R]=O,A[R]=I-O}var j=e(S,new Float32Array(P)),V=s(S,[{buffer:j,type:S.FLOAT,size:3,stride:0,offset:0}]),W=n(S);return W.attributes.position.location=0,new c(S,j,V,W,g,u,A,L)}},1943:function(d,v,r){var e=r(6832),s=r(5158),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);v.j=function(k){return s(k,n,l,null,[{name:"position",type:"vec3"}])};var o=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),h=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);v.f=function(k){return s(k,o,h,null,[{name:"position",type:"vec3"}])};var b=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),f=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);v.bg=function(k){return s(k,b,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(d,v,r){d.exports=p;var e=r(5827),s=r(2944),n=r(875),l=r(1943).f,o=window||x.global||{},h=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};var b=3;function f(w,S,_,T){this.gl=w,this.shader=S,this.buffer=_,this.vao=T,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var k=f.prototype,a=[0,0];k.bind=function(w,S,_,T){this.vao.bind(),this.shader.bind();var P=this.shader.uniforms;P.model=w,P.view=S,P.projection=_,P.pixelScale=T,a[0]=this.gl.drawingBufferWidth,a[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=a},k.unbind=function(){this.vao.unbind()},k.update=function(w,S,_,T,P){var u=[];function g(j,V,W,K,et,lt){var ot=h[W];ot||(ot=h[W]={});var q=ot[V];q||(q=ot[V]=c(V,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:et,styletags:lt}));for(var J=(K||12)/12,it=q.positions,Z=q.cells,tt=0,st=Z.length;tt<st;++tt)for(var Q=Z[tt],G=2;G>=0;--G){var ut=it[Q[G]];u.push(J*ut[0],-J*ut[1],j)}}for(var L=[0,0,0],A=[0,0,0],R=[0,0,0],O=[0,0,0],N=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){R[F]=u.length/b|0,g(.5*(w[0][F]+w[1][F]),S[F],_[F],12,N,z),O[F]=(u.length/b|0)-R[F],L[F]=u.length/b|0;for(var I=0;I<T[F].length;++I)T[F][I].text&&g(T[F][I].x,T[F][I].text,T[F][I].font||P,T[F][I].fontSize||12,N,z);A[F]=(u.length/b|0)-L[F]}this.buffer.update(u),this.tickOffset=L,this.tickCount=A,this.labelOffset=R,this.labelCount=O},k.drawTicks=function(w,S,_,T,P,u,g,L){this.tickCount[w]&&(this.shader.uniforms.axis=u,this.shader.uniforms.color=P,this.shader.uniforms.angle=_,this.shader.uniforms.scale=S,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=g,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w]))},k.drawLabel=function(w,S,_,T,P,u,g,L){this.labelCount[w]&&(this.shader.uniforms.axis=u,this.shader.uniforms.color=P,this.shader.uniforms.angle=_,this.shader.uniforms.scale=S,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=g,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.labelCount[w],this.labelOffset[w]))},k.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function c(w,S){try{return n(w,S)}catch(_){return console.warn('error vectorizing text:"'+w+'" error:',_),{cells:[],positions:[]}}}function p(w,S,_,T,P,u){var g=e(w),L=s(w,[{buffer:g,size:3}]),A=l(w);A.attributes.position.location=0;var R=new f(w,A,g,L);return R.update(S,_,T,P,u),R}},8468:function(d,v){v.create=e,v.equal=s;function r(n,l){var o=n+"",h=o.indexOf("."),b=0;h>=0&&(b=o.length-h-1);var f=Math.pow(10,b),k=Math.round(n*l*f),a=k+"";if(a.indexOf("e")>=0)return a;var c=k/f,p=k%f;k<0?(c=-Math.ceil(c)|0,p=-p|0):(c=Math.floor(c)|0,p=p|0);var w=""+c;if(k<0&&(w="-"+w),b){for(var S=""+p;S.length<b;)S="0"+S;return w+"."+S}else return w}function e(n,l){for(var o=[],h=0;h<3;++h){var b=[];.5*(n[0][h]+n[1][h]);for(var f=0;f*l[h]<=n[1][h];++f)b.push({x:f*l[h],text:r(l[h],f)});for(var f=-1;f*l[h]>=n[0][h];--f)b.push({x:f*l[h],text:r(l[h],f)});o.push(b)}return o}function s(n,l){for(var o=0;o<3;++o){if(n[o].length!==l[o].length)return!1;for(var h=0;h<n[o].length;++h){var b=n[o][h],f=l[o][h];if(b.x!==f.x||b.text!==f.text||b.font!==f.font||b.fontColor!==f.fontColor||b.fontSize!==f.fontSize||b.dx!==f.dx||b.dy!==f.dy)return!1}}return!0}},2771:function(d,v,r){d.exports=_;var e=r(5795),s=r(4670),n=r(2864),l=r(104),o=r(2142),h=r(6342),b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function k(T,P,u){this.lo=T,this.hi=P,this.pixelsPerDataUnit=u}var a=[0,0,0,1],c=[0,0,0,1];function p(T,P,u,g,L){for(var A=0;A<3;++A){for(var R=a,O=c,N=0;N<3;++N)O[N]=R[N]=u[N];O[3]=R[3]=1,O[A]+=1,h(O,O,P),O[3]<0&&(T[A]=1/0),R[A]-=1,h(R,R,P),R[3]<0&&(T[A]=1/0);var z=(R[0]/R[3]-O[0]/O[3])*g,F=(R[1]/R[3]-O[1]/O[3])*L;T[A]=.25*Math.sqrt(z*z+F*F)}return T}var w=[new k(1/0,-1/0,1/0),new k(1/0,-1/0,1/0),new k(1/0,-1/0,1/0)],S=[0,0,0];function _(T,P,u,g,F){var A=P.model||b,R=P.view||b,O=P.projection||b,N=P._ortho||!1,z=T.bounds,F=F||n(A,R,O,z,N),I=F.axis;l(f,R,A),l(f,O,f);for(var j=w,V=0;V<3;++V)j[V].lo=1/0,j[V].hi=-1/0,j[V].pixelsPerDataUnit=1/0;var W=e(o(f,f));o(f,f);for(var K=0;K<3;++K){var et=(K+1)%3,lt=(K+2)%3,ot=S;t:for(var V=0;V<2;++V){var q=[];if(I[K]<0!=!!V){ot[K]=z[V][K];for(var J=0;J<2;++J){ot[et]=z[J^V][et];for(var it=0;it<2;++it)ot[lt]=z[it^J^V][lt],q.push(ot.slice())}for(var Z=N?5:4,J=Z;J===Z;++J){if(q.length===0)continue t;q=s.positive(q,W[J])}for(var J=0;J<q.length;++J)for(var lt=q[J],tt=p(S,f,lt,u,g),it=0;it<3;++it)j[it].lo=Math.min(j[it].lo,lt[it]),j[it].hi=Math.max(j[it].hi,lt[it]),it!==K&&(j[it].pixelsPerDataUnit=Math.min(j[it].pixelsPerDataUnit,Math.abs(tt[it])))}}}return j}},5827:function(d,v,r){var e=r(5306),s=r(7498),n=r(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function o(c,p,w,S,_){this.gl=c,this.type=p,this.handle=w,this.length=S,this.usage=_}var h=o.prototype;h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)};function b(c,p,w,S,_,T){var P=_.length*_.BYTES_PER_ELEMENT;if(T<0)return c.bufferData(p,_,S),P;if(P+T>w)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return c.bufferSubData(p,T,_),w}function f(c,p){for(var w=e.malloc(c.length,p),S=c.length,_=0;_<S;++_)w[_]=c[_];return w}function k(c,p){for(var w=1,S=p.length-1;S>=0;--S){if(p[S]!==w)return!1;w*=c[S]}return!0}h.update=function(c,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof c=="object"&&typeof c.shape<"u"){var w=c.dtype;if(l.indexOf(w)<0&&(w="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var S=gl.getExtension("OES_element_index_uint");S&&w!=="uint16"?w="uint32":w="uint16"}if(w===c.dtype&&k(c.shape,c.stride))c.offset===0&&c.data.length===c.shape[0]?this.length=b(this.gl,this.type,this.length,this.usage,c.data,p):this.length=b(this.gl,this.type,this.length,this.usage,c.data.subarray(c.offset,c.shape[0]),p);else{var _=e.malloc(c.size,w),T=n(_,c.shape);s.assign(T,c),p<0?this.length=b(this.gl,this.type,this.length,this.usage,_,p):this.length=b(this.gl,this.type,this.length,this.usage,_.subarray(0,c.size),p),e.free(_)}}else if(Array.isArray(c)){var P;this.type===this.gl.ELEMENT_ARRAY_BUFFER?P=f(c,"uint16"):P=f(c,"float32"),p<0?this.length=b(this.gl,this.type,this.length,this.usage,P,p):this.length=b(this.gl,this.type,this.length,this.usage,P.subarray(0,c.length),p),e.free(P)}else if(typeof c=="object"&&typeof c.length=="number")this.length=b(this.gl,this.type,this.length,this.usage,c,p);else if(typeof c=="number"||c===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");c=c|0,c<=0&&(c=1),this.gl.bufferData(this.type,c|0,this.usage),this.length=c}else throw new Error("gl-buffer: Invalid data type")};function a(c,p,w,S){if(w=w||c.ARRAY_BUFFER,S=S||c.DYNAMIC_DRAW,w!==c.ARRAY_BUFFER&&w!==c.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(S!==c.DYNAMIC_DRAW&&S!==c.STATIC_DRAW&&S!==c.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var _=c.createBuffer(),T=new o(c,w,_,0,S);return T.update(p),T}d.exports=a},1140:function(d,v,r){var e=r(2858);d.exports=function(n,l){var o=n.positions,h=n.vectors,b={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),b;for(var f=0,k=1/0,a=-1/0,c=1/0,p=-1/0,w=1/0,S=-1/0,_=null,T=null,P=[],u=1/0,g=!1,L=0;L<o.length;L++){var A=o[L];k=Math.min(A[0],k),a=Math.max(A[0],a),c=Math.min(A[1],c),p=Math.max(A[1],p),w=Math.min(A[2],w),S=Math.max(A[2],S);var R=h[L];if(e.length(R)>f&&(f=e.length(R)),L){var O=2*e.distance(_,A)/(e.length(T)+e.length(R));O?(u=Math.min(u,O),g=!1):g=!0}g||(_=A,T=R),P.push(R)}var N=[k,c,w],z=[a,p,S];l&&(l[0]=N,l[1]=z),f===0&&(f=1);var F=1/f;isFinite(u)||(u=1),b.vectorScale=u;var I=n.coneSize||.5;n.absoluteConeSize&&(I=n.absoluteConeSize*F),b.coneScale=I;for(var L=0,j=0;L<o.length;L++)for(var A=o[L],V=A[0],W=A[1],K=A[2],et=P[L],lt=e.length(et)*F,ot=0,q=8;ot<q;ot++){b.positions.push([V,W,K,j++]),b.positions.push([V,W,K,j++]),b.positions.push([V,W,K,j++]),b.positions.push([V,W,K,j++]),b.positions.push([V,W,K,j++]),b.positions.push([V,W,K,j++]),b.vectors.push(et),b.vectors.push(et),b.vectors.push(et),b.vectors.push(et),b.vectors.push(et),b.vectors.push(et),b.vertexIntensity.push(lt,lt,lt),b.vertexIntensity.push(lt,lt,lt);var J=b.positions.length;b.cells.push([J-6,J-5,J-4],[J-3,J-2,J-1])}return b};var s=r(7234);d.exports.createMesh=r(5028),d.exports.createConeMesh=function(n,l){return d.exports.createMesh(n,l,{shaders:s,traceType:"cone"})}},5028:function(d,v,r){var e=r(5158),s=r(5827),n=r(2944),l=r(8931),o=r(104),h=r(7437),b=r(5050),f=r(9156),k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function a(P,u,g,L,A,R,O,N,z,F,I){this.gl=P,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=u,this.dirty=!0,this.triShader=g,this.pickShader=L,this.trianglePositions=A,this.triangleVectors=R,this.triangleColors=N,this.triangleUVs=z,this.triangleIds=O,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var c=a.prototype;c.isOpaque=function(){return this.opacity>=1},c.isTransparent=function(){return this.opacity<1},c.pickSlots=1,c.setPickBase=function(P){this.pickId=P};function p(P){for(var u=f({colormap:P,nshades:256,format:"rgba"}),g=new Uint8Array(1024),L=0;L<256;++L){for(var A=u[L],R=0;R<3;++R)g[4*L+R]=A[R];g[4*L+3]=A[3]*255}return b(g,[256,256,4],[4,0,1])}function w(P){for(var u=P.length,g=new Array(u),L=0;L<u;++L)g[L]=P[L][2];return g}c.update=function(P){P=P||{};var u=this.gl;this.dirty=!0,"lightPosition"in P&&(this.lightPosition=P.lightPosition),"opacity"in P&&(this.opacity=P.opacity),"ambient"in P&&(this.ambientLight=P.ambient),"diffuse"in P&&(this.diffuseLight=P.diffuse),"specular"in P&&(this.specularLight=P.specular),"roughness"in P&&(this.roughness=P.roughness),"fresnel"in P&&(this.fresnel=P.fresnel),P.tubeScale!==void 0&&(this.tubeScale=P.tubeScale),P.vectorScale!==void 0&&(this.vectorScale=P.vectorScale),P.coneScale!==void 0&&(this.coneScale=P.coneScale),P.coneOffset!==void 0&&(this.coneOffset=P.coneOffset),P.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=u.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=u.LINEAR,this.texture.setPixels(p(P.colormap)),this.texture.generateMipmap());var g=P.cells,L=P.positions,A=P.vectors;if(!(!L||!g||!A)){var R=[],O=[],N=[],z=[],F=[];this.cells=g,this.positions=L,this.vectors=A;var I=P.meshColor||[1,1,1,1],j=P.vertexIntensity,V=1/0,W=-1/0;if(j)if(P.vertexIntensityBounds)V=+P.vertexIntensityBounds[0],W=+P.vertexIntensityBounds[1];else for(var K=0;K<j.length;++K){var et=j[K];V=Math.min(V,et),W=Math.max(W,et)}else for(var K=0;K<L.length;++K){var et=L[K][2];V=Math.min(V,et),W=Math.max(W,et)}j?this.intensity=j:this.intensity=w(L),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var K=0;K<L.length;++K)for(var lt=L[K],ot=0;ot<3;++ot)isNaN(lt[ot])||!isFinite(lt[ot])||(this.bounds[0][ot]=Math.min(this.bounds[0][ot],lt[ot]),this.bounds[1][ot]=Math.max(this.bounds[1][ot],lt[ot]));var q=0;t:for(var K=0;K<g.length;++K){var J=g[K];switch(J.length){case 3:for(var ot=0;ot<3;++ot)for(var it=J[ot],lt=L[it],Z=0;Z<3;++Z)if(isNaN(lt[Z])||!isFinite(lt[Z]))continue t;for(var ot=0;ot<3;++ot){var it=J[2-ot],lt=L[it];R.push(lt[0],lt[1],lt[2],lt[3]);var tt=A[it];O.push(tt[0],tt[1],tt[2],tt[3]||0);var st=I;st.length===3?N.push(st[0],st[1],st[2],1):N.push(st[0],st[1],st[2],st[3]);var Q;j?Q=[(j[it]-V)/(W-V),0]:Q=[(lt[2]-V)/(W-V),0],z.push(Q[0],Q[1]),F.push(K)}q+=1;break}}this.triangleCount=q,this.trianglePositions.update(R),this.triangleVectors.update(O),this.triangleColors.update(N),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(F))}},c.drawTransparent=c.draw=function(P){P=P||{};for(var u=this.gl,g=P.model||k,L=P.view||k,A=P.projection||k,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)R[0][O]=Math.max(R[0][O],this.clipBounds[0][O]),R[1][O]=Math.min(R[1][O],this.clipBounds[1][O]);var N={model:g,view:L,projection:A,inverseModel:k.slice(),clipBounds:R,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=h(N.inverseModel,N.model),u.disable(u.CULL_FACE),this.texture.bind(0);var z=new Array(16);o(z,N.view,N.model),o(z,N.projection,z),h(z,z);for(var O=0;O<3;++O)N.eyePosition[O]=z[12+O]/z[15];for(var F=z[15],O=0;O<3;++O)F+=this.lightPosition[O]*z[4*O+3];for(var O=0;O<3;++O){for(var I=z[12+O],j=0;j<3;++j)I+=z[4*j+O]*this.lightPosition[j];N.lightPosition[O]=I/F}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=N,this.triangleVAO.bind(),u.drawArrays(u.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},c.drawPick=function(P){P=P||{};for(var u=this.gl,g=P.model||k,L=P.view||k,A=P.projection||k,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)R[0][O]=Math.max(R[0][O],this.clipBounds[0][O]),R[1][O]=Math.min(R[1][O],this.clipBounds[1][O]);this._model=[].slice.call(g),this._view=[].slice.call(L),this._projection=[].slice.call(A),this._resolution=[u.drawingBufferWidth,u.drawingBufferHeight];var N={model:g,view:L,projection:A,clipBounds:R,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),u.drawArrays(u.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},c.pick=function(P){if(!P||P.id!==this.pickId)return null;var u=P.value[0]+256*P.value[1]+65536*P.value[2],g=this.cells[u],L=this.positions[g[1]].slice(0,3),A={position:L,dataCoordinate:L,index:Math.floor(g[1]/48)};return this.traceType==="cone"?A.index=Math.floor(g[1]/48):this.traceType==="streamtube"&&(A.intensity=this.intensity[g[1]],A.velocity=this.vectors[g[1]].slice(0,3),A.divergence=this.vectors[g[1]][3],A.index=u),A},c.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function S(P,u){var g=e(P,u.meshShader.vertex,u.meshShader.fragment,null,u.meshShader.attributes);return g.attributes.position.location=0,g.attributes.color.location=2,g.attributes.uv.location=3,g.attributes.vector.location=4,g}function _(P,u){var g=e(P,u.pickShader.vertex,u.pickShader.fragment,null,u.pickShader.attributes);return g.attributes.position.location=0,g.attributes.id.location=1,g.attributes.vector.location=4,g}function T(P,u,g){var L=g.shaders;arguments.length===1&&(u=P,P=u.gl);var A=S(P,L),R=_(P,L),O=l(P,b(new Uint8Array([255,255,255,255]),[1,1,4]));O.generateMipmap(),O.minFilter=P.LINEAR_MIPMAP_LINEAR,O.magFilter=P.LINEAR;var N=s(P),z=s(P),F=s(P),I=s(P),j=s(P),V=n(P,[{buffer:N,type:P.FLOAT,size:4},{buffer:j,type:P.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:P.FLOAT,size:4},{buffer:I,type:P.FLOAT,size:2},{buffer:z,type:P.FLOAT,size:4}]),W=new a(P,O,A,R,N,z,j,F,I,V,g.traceType||"cone");return W.update(u),W}d.exports=T},7234:function(d,v,r){var e=r(6832),s=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);v.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},v.pickShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(d){d.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(d,v,r){var e=r(1950);d.exports=function(s){return e[s]}},3110:function(d,v,r){d.exports=a;var e=r(5827),s=r(2944),n=r(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(c,p,w,S){this.gl=c,this.shader=S,this.buffer=p,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var h=o.prototype;h.isOpaque=function(){return!this.hasAlpha},h.isTransparent=function(){return this.hasAlpha},h.drawTransparent=h.draw=function(c){var p=this.gl,w=this.shader.uniforms;this.shader.bind();var S=w.view=c.view||l,_=w.projection=c.projection||l;w.model=c.model||l,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var T=S[12],P=S[13],u=S[14],g=S[15],L=c._ortho||!1,A=L?2:1,R=A*this.pixelRatio*(_[3]*T+_[7]*P+_[11]*u+_[15]*g)/p.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)p.lineWidth(this.lineWidth[O]*this.pixelRatio),w.capSize=this.capSize[O]*R,this.lineCount[O]&&p.drawArrays(p.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};function b(c,p){for(var w=0;w<3;++w)c[0][w]=Math.min(c[0][w],p[w]),c[1][w]=Math.max(c[1][w],p[w])}var f=function(){for(var c=new Array(3),p=0;p<3;++p){for(var w=[],S=1;S<=2;++S)for(var _=-1;_<=1;_+=2){var T=(S+p)%3,P=[0,0,0];P[T]=_,w.push(P)}c[p]=w}return c}();function k(c,p,w,S){for(var _=f[S],T=0;T<_.length;++T){var P=_[T];c.push(p[0],p[1],p[2],w[0],w[1],w[2],w[3],P[0],P[1],P[2])}return _.length}h.update=function(c){c=c||{},"lineWidth"in c&&(this.lineWidth=c.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in c&&(this.capSize=c.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in c&&(this.opacity=+c.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=c.color||[[0,0,0],[0,0,0],[0,0,0]],w=c.position,S=c.error;if(Array.isArray(p[0])||(p=[p,p,p]),w&&S){var _=[],T=w.length,P=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var u=0;u<3;++u){this.lineOffset[u]=P;t:for(var g=0;g<T;++g){for(var L=w[g],A=0;A<3;++A)if(isNaN(L[A])||!isFinite(L[A]))continue t;var R=S[g],O=p[u];if(Array.isArray(O[0])&&(O=p[g]),O.length===3?O=[O[0],O[1],O[2],1]:O.length===4&&(O=[O[0],O[1],O[2],O[3]],!this.hasAlpha&&O[3]<1&&(this.hasAlpha=!0)),!(isNaN(R[0][u])||isNaN(R[1][u]))){if(R[0][u]<0){var N=L.slice();N[u]+=R[0][u],_.push(L[0],L[1],L[2],O[0],O[1],O[2],O[3],0,0,0,N[0],N[1],N[2],O[0],O[1],O[2],O[3],0,0,0),b(this.bounds,N),P+=2+k(_,N,O,u)}if(R[1][u]>0){var N=L.slice();N[u]+=R[1][u],_.push(L[0],L[1],L[2],O[0],O[1],O[2],O[3],0,0,0,N[0],N[1],N[2],O[0],O[1],O[2],O[3],0,0,0),b(this.bounds,N),P+=2+k(_,N,O,u)}}}this.lineCount[u]=P-this.lineOffset[u]}this.buffer.update(_)}},h.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function a(c){var p=c.gl,w=e(p),S=s(p,[{buffer:w,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:p.FLOAT,size:3,offset:28,stride:40}]),_=n(p);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.offset.location=2;var T=new o(p,w,S,_);return T.update(c),T}},7667:function(d,v,r){var e=r(6832),s=r(5158),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),l=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);d.exports=function(o){return s(o,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(d,v,r){var e=r(8931);d.exports=P;var s=null,n,l,o,h;function b(u){var g=u.getParameter(u.FRAMEBUFFER_BINDING),L=u.getParameter(u.RENDERBUFFER_BINDING),A=u.getParameter(u.TEXTURE_BINDING_2D);return[g,L,A]}function f(u,g){u.bindFramebuffer(u.FRAMEBUFFER,g[0]),u.bindRenderbuffer(u.RENDERBUFFER,g[1]),u.bindTexture(u.TEXTURE_2D,g[2])}function k(u,g){var L=u.getParameter(g.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(L+1);for(var A=0;A<=L;++A){for(var R=new Array(L),O=0;O<A;++O)R[O]=u.COLOR_ATTACHMENT0+O;for(var O=A;O<L;++O)R[O]=u.NONE;s[A]=R}}function a(u){switch(u){case n:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case h:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function c(u,g,L,A,R,O){if(!A)return null;var N=e(u,g,L,R,A);return N.magFilter=u.NEAREST,N.minFilter=u.NEAREST,N.mipSamples=1,N.bind(),u.framebufferTexture2D(u.FRAMEBUFFER,O,u.TEXTURE_2D,N.handle,0),N}function p(u,g,L,A,R){var O=u.createRenderbuffer();return u.bindRenderbuffer(u.RENDERBUFFER,O),u.renderbufferStorage(u.RENDERBUFFER,A,g,L),u.framebufferRenderbuffer(u.FRAMEBUFFER,R,u.RENDERBUFFER,O),O}function w(u){var g=b(u.gl),L=u.gl,A=u.handle=L.createFramebuffer(),R=u._shape[0],O=u._shape[1],N=u.color.length,z=u._ext,F=u._useStencil,I=u._useDepth,j=u._colorType;L.bindFramebuffer(L.FRAMEBUFFER,A);for(var V=0;V<N;++V)u.color[V]=c(L,R,O,j,L.RGBA,L.COLOR_ATTACHMENT0+V);N===0?(u._color_rb=p(L,R,O,L.RGBA4,L.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(s[0])):N>1&&z.drawBuffersWEBGL(s[N]);var W=L.getExtension("WEBGL_depth_texture");W?F?u.depth=c(L,R,O,W.UNSIGNED_INT_24_8_WEBGL,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):I&&(u.depth=c(L,R,O,L.UNSIGNED_SHORT,L.DEPTH_COMPONENT,L.DEPTH_ATTACHMENT)):I&&F?u._depth_rb=p(L,R,O,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):I?u._depth_rb=p(L,R,O,L.DEPTH_COMPONENT16,L.DEPTH_ATTACHMENT):F&&(u._depth_rb=p(L,R,O,L.STENCIL_INDEX,L.STENCIL_ATTACHMENT));var K=L.checkFramebufferStatus(L.FRAMEBUFFER);if(K!==L.FRAMEBUFFER_COMPLETE){u._destroyed=!0,L.bindFramebuffer(L.FRAMEBUFFER,null),L.deleteFramebuffer(u.handle),u.handle=null,u.depth&&(u.depth.dispose(),u.depth=null),u._depth_rb&&(L.deleteRenderbuffer(u._depth_rb),u._depth_rb=null);for(var V=0;V<u.color.length;++V)u.color[V].dispose(),u.color[V]=null;u._color_rb&&(L.deleteRenderbuffer(u._color_rb),u._color_rb=null),f(L,g),a(K)}f(L,g)}function S(u,g,L,A,R,O,N,z){this.gl=u,this._shape=[g|0,L|0],this._destroyed=!1,this._ext=z,this.color=new Array(R);for(var F=0;F<R;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=A,this._useDepth=O,this._useStencil=N;var I=this,j=[g|0,L|0];Object.defineProperties(j,{0:{get:function(){return I._shape[0]},set:function(V){return I.width=V}},1:{get:function(){return I._shape[1]},set:function(V){return I.height=V}}}),this._shapeVector=j,w(this)}var _=S.prototype;function T(u,g,L){if(u._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(u._shape[0]===g&&u._shape[1]===L)){var A=u.gl,R=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(g<0||g>R||L<0||L>R)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");u._shape[0]=g,u._shape[1]=L;for(var O=b(A),N=0;N<u.color.length;++N)u.color[N].shape=u._shape;u._color_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,u._color_rb),A.renderbufferStorage(A.RENDERBUFFER,A.RGBA4,u._shape[0],u._shape[1])),u.depth&&(u.depth.shape=u._shape),u._depth_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,u._depth_rb),u._useDepth&&u._useStencil?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,u._shape[0],u._shape[1]):u._useDepth?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_COMPONENT16,u._shape[0],u._shape[1]):u._useStencil&&A.renderbufferStorage(A.RENDERBUFFER,A.STENCIL_INDEX,u._shape[0],u._shape[1])),A.bindFramebuffer(A.FRAMEBUFFER,u.handle);var z=A.checkFramebufferStatus(A.FRAMEBUFFER);z!==A.FRAMEBUFFER_COMPLETE&&(u.dispose(),f(A,O),a(z)),f(A,O)}}Object.defineProperties(_,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(u){if(Array.isArray(u)||(u=[u|0,u|0]),u.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var g=u[0]|0,L=u[1]|0;return T(this,g,L),[g,L]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(u){return u=u|0,T(this,u,this._shape[1]),u},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(u){return u=u|0,T(this,this._shape[0],u),u},enumerable:!1}}),_.bind=function(){if(!this._destroyed){var u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,this.handle),u.viewport(0,0,this._shape[0],this._shape[1])}},_.dispose=function(){if(!this._destroyed){this._destroyed=!0;var u=this.gl;u.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(u.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var g=0;g<this.color.length;++g)this.color[g].dispose(),this.color[g]=null;this._color_rb&&(u.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function P(u,g,L,A){n||(n=u.FRAMEBUFFER_UNSUPPORTED,l=u.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=u.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,h=u.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var R=u.getExtension("WEBGL_draw_buffers");if(!s&&R&&k(u,R),Array.isArray(g)&&(A=L,L=g[1]|0,g=g[0]|0),typeof g!="number")throw new Error("gl-fbo: Missing shape parameter");var O=u.getParameter(u.MAX_RENDERBUFFER_SIZE);if(g<0||g>O||L<0||L>O)throw new Error("gl-fbo: Parameters are too large for FBO");A=A||{};var N=1;if("color"in A){if(N=Math.max(A.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(R){if(N>u.getParameter(R.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=u.UNSIGNED_BYTE,F=u.getExtension("OES_texture_float");if(A.float&&N>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");z=u.FLOAT}else A.preferFloat&&N>0&&F&&(z=u.FLOAT);var I=!0;"depth"in A&&(I=!!A.depth);var j=!1;return"stencil"in A&&(j=!!A.stencil),new S(u,g,L,z,N,I,j,R)}},3530:function(d,v,r){var e=r(8974).sprintf,s=r(6603),n=r(9365),l=r(8008);d.exports=o;function o(h,b,f){var k=n(b)||"of unknown name (see npm glsl-shader-name)",a="unknown type";f!==void 0&&(a=f===s.FRAGMENT_SHADER?"fragment":"vertex");for(var c=e(`Error compiling %s shader %s:
`,a,k),p=e("%s%s",c,h),w=h.split(`
`),S={},_=0;_<w.length;_++){var T=w[_];if(!(T===""||T==="\0")){var P=parseInt(T.split(":")[2]);if(isNaN(P))throw new Error(e("Could not parse error: %s",T));S[P]=T}}for(var u=l(b).split(`
`),_=0;_<u.length;_++)if(!(!S[_+3]&&!S[_+2]&&!S[_+1])){var g=u[_];if(c+=g+`
`,S[_+1]){var L=S[_+1];L=L.substr(L.split(":",3).join(":").length+1).trim(),c+=e(`^^^ %s

`,L)}}return{long:c.trim(),short:p.trim()}}},6386:function(d,v,r){d.exports=a;var e=r(5070),s=r(9560),n=r(5306),l=r(5158),o=r(5827),h=r(1292);function b(c,p,w,S,_,T,P){this.plot=c,this.shader=p,this.pickShader=w,this.positionBuffer=S,this.weightBuffer=_,this.colorBuffer=T,this.idBuffer=P,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var f=b.prototype,k=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=function(){var c=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,w=this.shader,S=this.bounds,_=this.numVertices;if(!(_<=0)){var T=p.gl,P=p.dataBox,u=S[2]-S[0],g=S[3]-S[1],L=P[2]-P[0],A=P[3]-P[1];c[0]=2*u/L,c[4]=2*g/A,c[6]=2*(S[0]-P[0])/L-1,c[7]=2*(S[1]-P[1])/A-1,w.bind();var R=w.uniforms;R.viewTransform=c,R.shape=this.shape;var O=w.attributes;this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(T.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),O.color.pointer(T.UNSIGNED_BYTE,!0),T.drawArrays(T.TRIANGLES,0,_)}}}(),f.drawPick=function(){var c=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(w){var S=this.plot,_=this.pickShader,T=this.bounds,P=this.numVertices;if(!(P<=0)){var u=S.gl,g=S.dataBox,L=T[2]-T[0],A=T[3]-T[1],R=g[2]-g[0],O=g[3]-g[1];c[0]=2*L/R,c[4]=2*A/O,c[6]=2*(T[0]-g[0])/R-1,c[7]=2*(T[1]-g[1])/O-1;for(var N=0;N<4;++N)p[N]=w>>N*8&255;this.pickOffset=w,_.bind();var z=_.uniforms;z.viewTransform=c,z.pickOffset=p,z.shape=this.shape;var F=_.attributes;return this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(u.UNSIGNED_BYTE,!1),this.idBuffer.bind(),F.pickId.pointer(u.UNSIGNED_BYTE,!1),u.drawArrays(u.TRIANGLES,0,P),w+this.shape[0]*this.shape[1]}}}(),f.pick=function(c,p,w){var S=this.pickOffset,_=this.shape[0]*this.shape[1];if(w<S||w>=S+_)return null;var T=w-S,P=this.xData,u=this.yData;return{object:this,pointId:T,dataCoord:[P[T%this.shape[0]],u[T/this.shape[0]|0]]}},f.update=function(c){c=c||{};var p=c.shape||[0,0],w=c.x||s(p[0]),S=c.y||s(p[1]),_=c.z||new Float32Array(p[0]*p[1]),T=c.zsmooth!==!1;this.xData=w,this.yData=S;var P=c.colorLevels||[0],u=c.colorValues||[0,0,0,1],g=P.length,L=this.bounds,A,R,O,N;T?(A=L[0]=w[0],R=L[1]=S[0],O=L[2]=w[w.length-1],N=L[3]=S[S.length-1]):(A=L[0]=w[0]+(w[1]-w[0])/2,R=L[1]=S[0]+(S[1]-S[0])/2,O=L[2]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2,N=L[3]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2);var z=1/(O-A),F=1/(N-R),I=p[0],j=p[1];this.shape=[I,j];var V=(T?(I-1)*(j-1):I*j)*(k.length>>>1);this.numVertices=V;for(var W=n.mallocUint8(V*4),K=n.mallocFloat32(V*2),et=n.mallocUint8(V*2),lt=n.mallocUint32(V),ot=0,q=T?I-1:I,J=T?j-1:j,it=0;it<J;++it){var Z,tt;T?(Z=F*(S[it]-R),tt=F*(S[it+1]-R)):(Z=it<j-1?F*(S[it]-(S[it+1]-S[it])/2-R):F*(S[it]-(S[it]-S[it-1])/2-R),tt=it<j-1?F*(S[it]+(S[it+1]-S[it])/2-R):F*(S[it]+(S[it]-S[it-1])/2-R));for(var st=0;st<q;++st){var Q,G;T?(Q=z*(w[st]-A),G=z*(w[st+1]-A)):(Q=st<I-1?z*(w[st]-(w[st+1]-w[st])/2-A):z*(w[st]-(w[st]-w[st-1])/2-A),G=st<I-1?z*(w[st]+(w[st+1]-w[st])/2-A):z*(w[st]+(w[st]-w[st-1])/2-A));for(var ut=0;ut<k.length;ut+=2){var at=k[ut],dt=k[ut+1],gt=T?(it+dt)*I+(st+at):it*I+st,wt=_[gt],kt=e.le(P,wt),Ot,bt,_t,mt;if(kt<0)Ot=u[0],bt=u[1],_t=u[2],mt=u[3];else if(kt===g-1)Ot=u[4*g-4],bt=u[4*g-3],_t=u[4*g-2],mt=u[4*g-1];else{var Pt=(wt-P[kt])/(P[kt+1]-P[kt]),Rt=1-Pt,Ht=4*kt,Dt=4*(kt+1);Ot=Rt*u[Ht]+Pt*u[Dt],bt=Rt*u[Ht+1]+Pt*u[Dt+1],_t=Rt*u[Ht+2]+Pt*u[Dt+2],mt=Rt*u[Ht+3]+Pt*u[Dt+3]}W[4*ot]=255*Ot,W[4*ot+1]=255*bt,W[4*ot+2]=255*_t,W[4*ot+3]=255*mt,K[2*ot]=Q*.5+G*.5,K[2*ot+1]=Z*.5+tt*.5,et[2*ot]=at,et[2*ot+1]=dt,lt[ot]=it*I+st,ot+=1}}}this.positionBuffer.update(K),this.weightBuffer.update(et),this.colorBuffer.update(W),this.idBuffer.update(lt),n.free(K),n.free(W),n.free(et),n.free(lt)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function a(c,p){var w=c.gl,S=l(w,h.vertex,h.fragment),_=l(w,h.pickVertex,h.pickFragment),T=o(w),P=o(w),u=o(w),g=o(w),L=new b(c,S,_,T,P,u,g);return L.update(p),c.addObject(L),L}},1292:function(d,v,r){var e=r(6832);d.exports={fragment:e([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(d,v,r){var e=r(6832),s=r(5158),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),o=e([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),h=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];v.createShader=function(b){return s(b,n,l,null,h)},v.createPickShader=function(b){return s(b,n,o,null,h)}},6086:function(d,v,r){d.exports=u;var e=r(5827),s=r(2944),n=r(8931),l=new Uint8Array(4),o=new Float32Array(l.buffer);function h(g,L,A,R){return l[0]=R,l[1]=A,l[2]=L,l[3]=g,o[0]}var b=r(5070),f=r(5050),k=r(248),a=k.createShader,c=k.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(g,L){for(var A=0,R=0;R<3;++R){var O=g[R]-L[R];A+=O*O}return Math.sqrt(A)}function S(g){for(var L=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],A=0;A<3;++A)L[0][A]=Math.max(g[0][A],L[0][A]),L[1][A]=Math.min(g[1][A],L[1][A]);return L}function _(g,L,A,R){this.arcLength=g,this.position=L,this.index=A,this.dataCoordinate=R}function T(g,L,A,R,O,N){this.gl=g,this.shader=L,this.pickShader=A,this.buffer=R,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var P=T.prototype;P.isTransparent=function(){return this.hasAlpha},P.isOpaque=function(){return!this.hasAlpha},P.pickSlots=1,P.setPickBase=function(g){this.pickId=g},P.drawTransparent=P.draw=function(g){if(this.vertexCount){var L=this.gl,A=this.shader,R=this.vao;A.bind(),A.uniforms={model:g.model||p,view:g.view||p,projection:g.projection||p,clipBounds:S(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(L.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},P.drawPick=function(g){if(this.vertexCount){var L=this.gl,A=this.pickShader,R=this.vao;A.bind(),A.uniforms={model:g.model||p,view:g.view||p,projection:g.projection||p,pickId:this.pickId,clipBounds:S(this.clipBounds),screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(L.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},P.update=function(g){var L,A;this.dirty=!0;var R=!!g.connectGaps;"dashScale"in g&&(this.dashScale=g.dashScale),this.hasAlpha=!1,"opacity"in g&&(this.opacity=+g.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],N=[],z=[],F=0,I=0,j=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=g.position||g.positions;if(V){var W=g.color||g.colors||[0,0,0,1],K=g.lineWidth||1,et=!1;t:for(L=1;L<V.length;++L){var lt=V[L-1],ot=V[L];for(N.push(F),z.push(lt.slice()),A=0;A<3;++A){if(isNaN(lt[A])||isNaN(ot[A])||!isFinite(lt[A])||!isFinite(ot[A])){if(!R&&O.length>0){for(var q=0;q<24;++q)O.push(O[O.length-12]);I+=2,et=!0}continue t}j[0][A]=Math.min(j[0][A],lt[A],ot[A]),j[1][A]=Math.max(j[1][A],lt[A],ot[A])}var J,it;Array.isArray(W[0])?(J=W.length>L-1?W[L-1]:W.length>0?W[W.length-1]:[0,0,0,1],it=W.length>L?W[L]:W.length>0?W[W.length-1]:[0,0,0,1]):J=it=W,J.length===3&&(J=[J[0],J[1],J[2],1]),it.length===3&&(it=[it[0],it[1],it[2],1]),!this.hasAlpha&&J[3]<1&&(this.hasAlpha=!0);var Z;Array.isArray(K)?Z=K.length>L-1?K[L-1]:K.length>0?K[K.length-1]:[0,0,0,1]:Z=K;var tt=F;if(F+=w(lt,ot),et){for(A=0;A<2;++A)O.push(lt[0],lt[1],lt[2],ot[0],ot[1],ot[2],tt,Z,J[0],J[1],J[2],J[3]);I+=2,et=!1}O.push(lt[0],lt[1],lt[2],ot[0],ot[1],ot[2],tt,Z,J[0],J[1],J[2],J[3],lt[0],lt[1],lt[2],ot[0],ot[1],ot[2],tt,-Z,J[0],J[1],J[2],J[3],ot[0],ot[1],ot[2],lt[0],lt[1],lt[2],F,-Z,it[0],it[1],it[2],it[3],ot[0],ot[1],ot[2],lt[0],lt[1],lt[2],F,Z,it[0],it[1],it[2],it[3]),I+=4}}if(this.buffer.update(O),N.push(F),z.push(V[V.length-1].slice()),this.bounds=j,this.vertexCount=I,this.points=z,this.arcLength=N,"dashes"in g){var st=g.dashes,Q=st.slice();for(Q.unshift(0),L=1;L<Q.length;++L)Q[L]=Q[L-1]+Q[L];var G=f(new Array(256*4),[256,1,4]);for(L=0;L<256;++L){for(A=0;A<4;++A)G.set(L,0,A,0);b.le(Q,Q[Q.length-1]*L/255)&1?G.set(L,0,0,0):G.set(L,0,0,255)}this.texture.setPixels(G)}},P.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},P.pick=function(g){if(!g||g.id!==this.pickId)return null;var L=h(g.value[0],g.value[1],g.value[2],0),A=b.le(this.arcLength,L);if(A<0)return null;if(A===this.arcLength.length-1)return new _(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),A);for(var R=this.points[A],O=this.points[Math.min(A+1,this.points.length-1)],N=(L-this.arcLength[A])/(this.arcLength[A+1]-this.arcLength[A]),z=1-N,F=[0,0,0],I=0;I<3;++I)F[I]=z*R[I]+N*O[I];var j=Math.min(N<.5?A:A+1,this.points.length-1);return new _(L,F,j,this.points[j])};function u(g){var L=g.gl||g.scene&&g.scene.gl,A=a(L);A.attributes.position.location=0,A.attributes.nextPosition.location=1,A.attributes.arcLength.location=2,A.attributes.lineWidth.location=3,A.attributes.color.location=4;var R=c(L);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var O=e(L),N=s(L,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),z=f(new Array(1024),[256,1,4]),F=0;F<1024;++F)z.data[F]=255;var I=n(L,z);I.wrap=L.REPEAT;var j=new T(L,A,R,O,N,I);return j.update(g),j}},7332:function(d){d.exports=v;function v(r){var e=new Float32Array(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}},9823:function(d){d.exports=v;function v(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(d){d.exports=v;function v(r){var e=r[0],s=r[1],n=r[2],l=r[3],o=r[4],h=r[5],b=r[6],f=r[7],k=r[8],a=r[9],c=r[10],p=r[11],w=r[12],S=r[13],_=r[14],T=r[15],P=e*h-s*o,u=e*b-n*o,g=e*f-l*o,L=s*b-n*h,A=s*f-l*h,R=n*f-l*b,O=k*S-a*w,N=k*_-c*w,z=k*T-p*w,F=a*_-c*S,I=a*T-p*S,j=c*T-p*_;return P*j-u*I+g*F+L*z-A*N+R*O}},5950:function(d){d.exports=v;function v(r,e){var s=e[0],n=e[1],l=e[2],o=e[3],h=s+s,b=n+n,f=l+l,k=s*h,a=n*h,c=n*b,p=l*h,w=l*b,S=l*f,_=o*h,T=o*b,P=o*f;return r[0]=1-c-S,r[1]=a+P,r[2]=p-T,r[3]=0,r[4]=a-P,r[5]=1-k-S,r[6]=w+_,r[7]=0,r[8]=p+T,r[9]=w-_,r[10]=1-k-c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2],h=e[3],b=n+n,f=l+l,k=o+o,a=n*b,c=n*f,p=n*k,w=l*f,S=l*k,_=o*k,T=h*b,P=h*f,u=h*k;return r[0]=1-(w+_),r[1]=c+u,r[2]=p-P,r[3]=0,r[4]=c-u,r[5]=1-(a+_),r[6]=S+T,r[7]=0,r[8]=p+P,r[9]=S-T,r[10]=1-(a+w),r[11]=0,r[12]=s[0],r[13]=s[1],r[14]=s[2],r[15]=1,r}},9947:function(d){d.exports=v;function v(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(d){d.exports=v;function v(r,e){var s=e[0],n=e[1],l=e[2],o=e[3],h=e[4],b=e[5],f=e[6],k=e[7],a=e[8],c=e[9],p=e[10],w=e[11],S=e[12],_=e[13],T=e[14],P=e[15],u=s*b-n*h,g=s*f-l*h,L=s*k-o*h,A=n*f-l*b,R=n*k-o*b,O=l*k-o*f,N=a*_-c*S,z=a*T-p*S,F=a*P-w*S,I=c*T-p*_,j=c*P-w*_,V=p*P-w*T,W=u*V-g*j+L*I+A*F-R*z+O*N;return W?(W=1/W,r[0]=(b*V-f*j+k*I)*W,r[1]=(l*j-n*V-o*I)*W,r[2]=(_*O-T*R+P*A)*W,r[3]=(p*R-c*O-w*A)*W,r[4]=(f*F-h*V-k*z)*W,r[5]=(s*V-l*F+o*z)*W,r[6]=(T*L-S*O-P*g)*W,r[7]=(a*O-p*L+w*g)*W,r[8]=(h*j-b*F+k*N)*W,r[9]=(n*F-s*j-o*N)*W,r[10]=(S*R-_*L+P*u)*W,r[11]=(c*L-a*R-w*u)*W,r[12]=(b*z-h*I-f*N)*W,r[13]=(s*I-n*z+l*N)*W,r[14]=(_*g-S*A-T*u)*W,r[15]=(a*A-c*g+p*u)*W,r):null}},3012:function(d,v,r){var e=r(9947);d.exports=s;function s(n,l,o,h){var b,f,k,a,c,p,w,S,_,T,P=l[0],u=l[1],g=l[2],L=h[0],A=h[1],R=h[2],O=o[0],N=o[1],z=o[2];return Math.abs(P-O)<1e-6&&Math.abs(u-N)<1e-6&&Math.abs(g-z)<1e-6?e(n):(w=P-O,S=u-N,_=g-z,T=1/Math.sqrt(w*w+S*S+_*_),w*=T,S*=T,_*=T,b=A*_-R*S,f=R*w-L*_,k=L*S-A*w,T=Math.sqrt(b*b+f*f+k*k),T?(T=1/T,b*=T,f*=T,k*=T):(b=0,f=0,k=0),a=S*k-_*f,c=_*b-w*k,p=w*f-S*b,T=Math.sqrt(a*a+c*c+p*p),T?(T=1/T,a*=T,c*=T,p*=T):(a=0,c=0,p=0),n[0]=b,n[1]=a,n[2]=w,n[3]=0,n[4]=f,n[5]=c,n[6]=S,n[7]=0,n[8]=k,n[9]=p,n[10]=_,n[11]=0,n[12]=-(b*P+f*u+k*g),n[13]=-(a*P+c*u+p*g),n[14]=-(w*P+S*u+_*g),n[15]=1,n)}},104:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2],h=e[3],b=e[4],f=e[5],k=e[6],a=e[7],c=e[8],p=e[9],w=e[10],S=e[11],_=e[12],T=e[13],P=e[14],u=e[15],g=s[0],L=s[1],A=s[2],R=s[3];return r[0]=g*n+L*b+A*c+R*_,r[1]=g*l+L*f+A*p+R*T,r[2]=g*o+L*k+A*w+R*P,r[3]=g*h+L*a+A*S+R*u,g=s[4],L=s[5],A=s[6],R=s[7],r[4]=g*n+L*b+A*c+R*_,r[5]=g*l+L*f+A*p+R*T,r[6]=g*o+L*k+A*w+R*P,r[7]=g*h+L*a+A*S+R*u,g=s[8],L=s[9],A=s[10],R=s[11],r[8]=g*n+L*b+A*c+R*_,r[9]=g*l+L*f+A*p+R*T,r[10]=g*o+L*k+A*w+R*P,r[11]=g*h+L*a+A*S+R*u,g=s[12],L=s[13],A=s[14],R=s[15],r[12]=g*n+L*b+A*c+R*_,r[13]=g*l+L*f+A*p+R*T,r[14]=g*o+L*k+A*w+R*P,r[15]=g*h+L*a+A*S+R*u,r}},5268:function(d){d.exports=v;function v(r,e,s,n,l,o,h){var b=1/(e-s),f=1/(n-l),k=1/(o-h);return r[0]=-2*b,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*k,r[11]=0,r[12]=(e+s)*b,r[13]=(l+n)*f,r[14]=(h+o)*k,r[15]=1,r}},1120:function(d){d.exports=v;function v(r,e,s,n,l){var o=1/Math.tan(e/2),h=1/(n-l);return r[0]=o/s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=o,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(l+n)*h,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*l*n*h,r[15]=0,r}},4422:function(d){d.exports=v;function v(r,e,s,n){var l=n[0],o=n[1],h=n[2],b=Math.sqrt(l*l+o*o+h*h),f,k,a,c,p,w,S,_,T,P,u,g,L,A,R,O,N,z,F,I,j,V,W,K;return Math.abs(b)<1e-6?null:(b=1/b,l*=b,o*=b,h*=b,f=Math.sin(s),k=Math.cos(s),a=1-k,c=e[0],p=e[1],w=e[2],S=e[3],_=e[4],T=e[5],P=e[6],u=e[7],g=e[8],L=e[9],A=e[10],R=e[11],O=l*l*a+k,N=o*l*a+h*f,z=h*l*a-o*f,F=l*o*a-h*f,I=o*o*a+k,j=h*o*a+l*f,V=l*h*a+o*f,W=o*h*a-l*f,K=h*h*a+k,r[0]=c*O+_*N+g*z,r[1]=p*O+T*N+L*z,r[2]=w*O+P*N+A*z,r[3]=S*O+u*N+R*z,r[4]=c*F+_*I+g*j,r[5]=p*F+T*I+L*j,r[6]=w*F+P*I+A*j,r[7]=S*F+u*I+R*j,r[8]=c*V+_*W+g*K,r[9]=p*V+T*W+L*K,r[10]=w*V+P*W+A*K,r[11]=S*V+u*W+R*K,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}},6109:function(d){d.exports=v;function v(r,e,s){var n=Math.sin(s),l=Math.cos(s),o=e[4],h=e[5],b=e[6],f=e[7],k=e[8],a=e[9],c=e[10],p=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=o*l+k*n,r[5]=h*l+a*n,r[6]=b*l+c*n,r[7]=f*l+p*n,r[8]=k*l-o*n,r[9]=a*l-h*n,r[10]=c*l-b*n,r[11]=p*l-f*n,r}},7115:function(d){d.exports=v;function v(r,e,s){var n=Math.sin(s),l=Math.cos(s),o=e[0],h=e[1],b=e[2],f=e[3],k=e[8],a=e[9],c=e[10],p=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=o*l-k*n,r[1]=h*l-a*n,r[2]=b*l-c*n,r[3]=f*l-p*n,r[8]=o*n+k*l,r[9]=h*n+a*l,r[10]=b*n+c*l,r[11]=f*n+p*l,r}},5240:function(d){d.exports=v;function v(r,e,s){var n=Math.sin(s),l=Math.cos(s),o=e[0],h=e[1],b=e[2],f=e[3],k=e[4],a=e[5],c=e[6],p=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=o*l+k*n,r[1]=h*l+a*n,r[2]=b*l+c*n,r[3]=f*l+p*n,r[4]=k*l-o*n,r[5]=a*l-h*n,r[6]=c*l-b*n,r[7]=p*l-f*n,r}},3668:function(d){d.exports=v;function v(r,e,s){var n=s[0],l=s[1],o=s[2];return r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*l,r[5]=e[5]*l,r[6]=e[6]*l,r[7]=e[7]*l,r[8]=e[8]*o,r[9]=e[9]*o,r[10]=e[10]*o,r[11]=e[11]*o,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}},998:function(d){d.exports=v;function v(r,e,s){var n=s[0],l=s[1],o=s[2],h,b,f,k,a,c,p,w,S,_,T,P;return e===r?(r[12]=e[0]*n+e[4]*l+e[8]*o+e[12],r[13]=e[1]*n+e[5]*l+e[9]*o+e[13],r[14]=e[2]*n+e[6]*l+e[10]*o+e[14],r[15]=e[3]*n+e[7]*l+e[11]*o+e[15]):(h=e[0],b=e[1],f=e[2],k=e[3],a=e[4],c=e[5],p=e[6],w=e[7],S=e[8],_=e[9],T=e[10],P=e[11],r[0]=h,r[1]=b,r[2]=f,r[3]=k,r[4]=a,r[5]=c,r[6]=p,r[7]=w,r[8]=S,r[9]=_,r[10]=T,r[11]=P,r[12]=h*n+a*l+S*o+e[12],r[13]=b*n+c*l+_*o+e[13],r[14]=f*n+p*l+T*o+e[14],r[15]=k*n+w*l+P*o+e[15]),r}},2142:function(d){d.exports=v;function v(r,e){if(r===e){var s=e[1],n=e[2],l=e[3],o=e[6],h=e[7],b=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=s,r[6]=e[9],r[7]=e[13],r[8]=n,r[9]=o,r[11]=e[14],r[12]=l,r[13]=h,r[14]=b}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}},4340:function(d,v,r){var e=r(957),s=r(7309);d.exports=b;function n(f,k){for(var a=[0,0,0,0],c=0;c<4;++c)for(var p=0;p<4;++p)a[p]+=f[4*c+p]*k[c];return a}function l(f,k,a,c,p){for(var w=n(c,n(a,n(k,[f[0],f[1],f[2],1]))),S=0;S<3;++S)w[S]/=w[3];return[.5*p[0]*(1+w[0]),.5*p[1]*(1-w[1])]}function o(f,k){if(f.length===2){for(var a=0,c=0,p=0;p<2;++p)a+=Math.pow(k[p]-f[0][p],2),c+=Math.pow(k[p]-f[1][p],2);return a=Math.sqrt(a),c=Math.sqrt(c),a+c<1e-6?[1,0]:[c/(a+c),a/(c+a)]}else if(f.length===3){var w=[0,0];return s(f[0],f[1],f[2],k,w),e(f,w)}return[]}function h(f,k){for(var a=[0,0,0],c=0;c<f.length;++c)for(var p=f[c],w=k[c],S=0;S<3;++S)a[S]+=w*p[S];return a}function b(f,k,a,c,p,w){if(f.length===1)return[0,f[0].slice()];for(var S=new Array(f.length),_=0;_<f.length;++_)S[_]=l(f[_],a,c,p,w);for(var T=0,P=1/0,_=0;_<S.length;++_){for(var u=0,g=0;g<2;++g)u+=Math.pow(S[_][g]-k[g],2);u<P&&(P=u,T=_)}for(var L=o(S,k),A=0,_=0;_<3;++_){if(L[_]<-.001||L[_]>1.0001)return null;A+=L[_]}return Math.abs(A-1)>.001?null:[T,h(f,L),L]}},2056:function(d,v,r){var e=r(6832),s=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),o=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),b=e([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),k=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),a=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),c=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=e([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);v.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},v.wireShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},v.pointShader={vertex:h,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},v.pickShader={vertex:f,fragment:k,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},v.pointPickShader={vertex:a,fragment:k,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},v.contourShader={vertex:c,fragment:p,attributes:[{name:"position",type:"vec3"}]}},8116:function(d,v,r){var e=1e-6,s=1e-6,n=r(5158),l=r(5827),o=r(2944),h=r(8931),b=r(115),f=r(104),k=r(7437),a=r(5050),c=r(9156),p=r(7212),w=r(5306),S=r(2056),_=r(4340),T=S.meshShader,P=S.wireShader,u=S.pointShader,g=S.pickShader,L=S.pointPickShader,A=S.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(q,J,it,Z,tt,st,Q,G,ut,at,dt,gt,wt,kt,Ot,bt,_t,mt,Pt,Rt,Ht,Dt,Xt,se,Yt,ue,ie){this.gl=q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=J,this.dirty=!0,this.triShader=it,this.lineShader=Z,this.pointShader=tt,this.pickShader=st,this.pointPickShader=Q,this.contourShader=G,this.trianglePositions=ut,this.triangleColors=dt,this.triangleNormals=wt,this.triangleUVs=gt,this.triangleIds=at,this.triangleVAO=kt,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ot,this.edgeColors=_t,this.edgeUVs=mt,this.edgeIds=bt,this.edgeVAO=Pt,this.edgeCount=0,this.pointPositions=Rt,this.pointColors=Dt,this.pointUVs=Xt,this.pointSizes=se,this.pointIds=Ht,this.pointVAO=Yt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ue,this.contourVAO=ie,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var N=O.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(q){this.pickId=q};function z(q,J){if(!J||!J.length)return 1;for(var it=0;it<J.length;++it){if(J.length<2)return 1;if(J[it][0]===q)return J[it][1];if(J[it][0]>q&&it>0){var Z=(J[it][0]-q)/(J[it][0]-J[it-1][0]);return J[it][1]*(1-Z)+Z*J[it-1][1]}}return 1}function F(q,J){for(var it=c({colormap:q,nshades:256,format:"rgba"}),Z=new Uint8Array(1024),tt=0;tt<256;++tt){for(var st=it[tt],Q=0;Q<3;++Q)Z[4*tt+Q]=st[Q];J?Z[4*tt+3]=255*z(tt/255,J):Z[4*tt+3]=255*st[3]}return a(Z,[256,256,4],[4,0,1])}function I(q){for(var J=q.length,it=new Array(J),Z=0;Z<J;++Z)it[Z]=q[Z][2];return it}N.highlight=function(q){if(!q||!this.contourEnable){this.contourCount=0;return}for(var J=p(this.cells,this.intensity,q.intensity),it=J.cells,Z=J.vertexIds,tt=J.vertexWeights,st=it.length,Q=w.mallocFloat32(6*st),G=0,ut=0;ut<st;++ut)for(var at=it[ut],dt=0;dt<2;++dt){var gt=at[0];at.length===2&&(gt=at[dt]);for(var wt=Z[gt][0],kt=Z[gt][1],Ot=tt[gt],bt=1-Ot,_t=this.positions[wt],mt=this.positions[kt],Pt=0;Pt<3;++Pt)Q[G++]=Ot*_t[Pt]+bt*mt[Pt]}this.contourCount=G/3|0,this.contourPositions.update(Q.subarray(0,G)),w.free(Q)},N.update=function(q){q=q||{};var J=this.gl;this.dirty=!0,"contourEnable"in q&&(this.contourEnable=q.contourEnable),"contourColor"in q&&(this.contourColor=q.contourColor),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"lightPosition"in q&&(this.lightPosition=q.lightPosition),this.hasAlpha=!1,"opacity"in q&&(this.opacity=q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in q&&(this.opacityscale=q.opacityscale,this.hasAlpha=!0),"ambient"in q&&(this.ambientLight=q.ambient),"diffuse"in q&&(this.diffuseLight=q.diffuse),"specular"in q&&(this.specularLight=q.specular),"roughness"in q&&(this.roughness=q.roughness),"fresnel"in q&&(this.fresnel=q.fresnel),q.texture?(this.texture.dispose(),this.texture=h(J,q.texture)):q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=J.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=J.LINEAR,this.texture.setPixels(F(q.colormap,this.opacityscale)),this.texture.generateMipmap());var it=q.cells,Z=q.positions;if(!(!Z||!it)){var tt=[],st=[],Q=[],G=[],ut=[],at=[],dt=[],gt=[],wt=[],kt=[],Ot=[],bt=[],_t=[],mt=[];this.cells=it,this.positions=Z;var Pt=q.vertexNormals,Rt=q.cellNormals,Ht=q.vertexNormalsEpsilon===void 0?e:q.vertexNormalsEpsilon,Dt=q.faceNormalsEpsilon===void 0?s:q.faceNormalsEpsilon;q.useFacetNormals&&!Rt&&(Rt=b.faceNormals(it,Z,Dt)),!Rt&&!Pt&&(Pt=b.vertexNormals(it,Z,Ht));var Xt=q.vertexColors,se=q.cellColors,Yt=q.meshColor||[1,1,1,1],ue=q.vertexUVs,ie=q.vertexIntensity,fe=q.cellUVs,ce=q.cellIntensity,ye=1/0,de=-1/0;if(!ue&&!fe)if(ie)if(q.vertexIntensityBounds)ye=+q.vertexIntensityBounds[0],de=+q.vertexIntensityBounds[1];else for(var Te=0;Te<ie.length;++Te){var Et=ie[Te];ye=Math.min(ye,Et),de=Math.max(de,Et)}else if(ce)if(q.cellIntensityBounds)ye=+q.cellIntensityBounds[0],de=+q.cellIntensityBounds[1];else for(var Te=0;Te<ce.length;++Te){var Et=ce[Te];ye=Math.min(ye,Et),de=Math.max(de,Et)}else for(var Te=0;Te<Z.length;++Te){var Et=Z[Te][2];ye=Math.min(ye,Et),de=Math.max(de,Et)}ie?this.intensity=ie:ce?this.intensity=ce:this.intensity=I(Z),this.pickVertex=!(ce||se);var Vt=q.pointSizes,te=q.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Te=0;Te<Z.length;++Te)for(var Jt=Z[Te],Ut=0;Ut<3;++Ut)isNaN(Jt[Ut])||!isFinite(Jt[Ut])||(this.bounds[0][Ut]=Math.min(this.bounds[0][Ut],Jt[Ut]),this.bounds[1][Ut]=Math.max(this.bounds[1][Ut],Jt[Ut]));var It=0,pt=0,xt=0;t:for(var Te=0;Te<it.length;++Te){var Ct=it[Te];switch(Ct.length){case 1:for(var At=Ct[0],Jt=Z[At],Ut=0;Ut<3;++Ut)if(isNaN(Jt[Ut])||!isFinite(Jt[Ut]))continue t;kt.push(Jt[0],Jt[1],Jt[2]);var Ft;Xt?Ft=Xt[At]:se?Ft=se[Te]:Ft=Yt,this.opacityscale&&ie?st.push(Ft[0],Ft[1],Ft[2],this.opacity*z((ie[At]-ye)/(de-ye),this.opacityscale)):Ft.length===3?Ot.push(Ft[0],Ft[1],Ft[2],this.opacity):(Ot.push(Ft[0],Ft[1],Ft[2],Ft[3]*this.opacity),Ft[3]<1&&(this.hasAlpha=!0));var Wt;ue?Wt=ue[At]:ie?Wt=[(ie[At]-ye)/(de-ye),0]:fe?Wt=fe[Te]:ce?Wt=[(ce[Te]-ye)/(de-ye),0]:Wt=[(Jt[2]-ye)/(de-ye),0],bt.push(Wt[0],Wt[1]),Vt?_t.push(Vt[At]):_t.push(te),mt.push(Te),xt+=1;break;case 2:for(var Ut=0;Ut<2;++Ut)for(var At=Ct[Ut],Jt=Z[At],Qt=0;Qt<3;++Qt)if(isNaN(Jt[Qt])||!isFinite(Jt[Qt]))continue t;for(var Ut=0;Ut<2;++Ut){var At=Ct[Ut],Jt=Z[At];at.push(Jt[0],Jt[1],Jt[2]);var Ft;Xt?Ft=Xt[At]:se?Ft=se[Te]:Ft=Yt,this.opacityscale&&ie?st.push(Ft[0],Ft[1],Ft[2],this.opacity*z((ie[At]-ye)/(de-ye),this.opacityscale)):Ft.length===3?dt.push(Ft[0],Ft[1],Ft[2],this.opacity):(dt.push(Ft[0],Ft[1],Ft[2],Ft[3]*this.opacity),Ft[3]<1&&(this.hasAlpha=!0));var Wt;ue?Wt=ue[At]:ie?Wt=[(ie[At]-ye)/(de-ye),0]:fe?Wt=fe[Te]:ce?Wt=[(ce[Te]-ye)/(de-ye),0]:Wt=[(Jt[2]-ye)/(de-ye),0],gt.push(Wt[0],Wt[1]),wt.push(Te)}pt+=1;break;case 3:for(var Ut=0;Ut<3;++Ut)for(var At=Ct[Ut],Jt=Z[At],Qt=0;Qt<3;++Qt)if(isNaN(Jt[Qt])||!isFinite(Jt[Qt]))continue t;for(var Ut=0;Ut<3;++Ut){var At=Ct[2-Ut],Jt=Z[At];tt.push(Jt[0],Jt[1],Jt[2]);var Ft;Xt?Ft=Xt[At]:se?Ft=se[Te]:Ft=Yt,Ft?this.opacityscale&&ie?st.push(Ft[0],Ft[1],Ft[2],this.opacity*z((ie[At]-ye)/(de-ye),this.opacityscale)):Ft.length===3?st.push(Ft[0],Ft[1],Ft[2],this.opacity):(st.push(Ft[0],Ft[1],Ft[2],Ft[3]*this.opacity),Ft[3]<1&&(this.hasAlpha=!0)):st.push(.5,.5,.5,1);var Wt;ue?Wt=ue[At]:ie?Wt=[(ie[At]-ye)/(de-ye),0]:fe?Wt=fe[Te]:ce?Wt=[(ce[Te]-ye)/(de-ye),0]:Wt=[(Jt[2]-ye)/(de-ye),0],G.push(Wt[0],Wt[1]);var he;Pt?he=Pt[At]:he=Rt[Te],Q.push(he[0],he[1],he[2]),ut.push(Te)}It+=1;break}}this.pointCount=xt,this.edgeCount=pt,this.triangleCount=It,this.pointPositions.update(kt),this.pointColors.update(Ot),this.pointUVs.update(bt),this.pointSizes.update(_t),this.pointIds.update(new Uint32Array(mt)),this.edgePositions.update(at),this.edgeColors.update(dt),this.edgeUVs.update(gt),this.edgeIds.update(new Uint32Array(wt)),this.trianglePositions.update(tt),this.triangleColors.update(st),this.triangleUVs.update(G),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(ut))}},N.drawTransparent=N.draw=function(q){q=q||{};for(var J=this.gl,it=q.model||R,Z=q.view||R,tt=q.projection||R,st=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)st[0][Q]=Math.max(st[0][Q],this.clipBounds[0][Q]),st[1][Q]=Math.min(st[1][Q],this.clipBounds[1][Q]);var G={model:it,view:Z,projection:tt,inverseModel:R.slice(),clipBounds:st,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};G.inverseModel=k(G.inverseModel,G.model),J.disable(J.CULL_FACE),this.texture.bind(0);var ut=new Array(16);f(ut,G.view,G.model),f(ut,G.projection,ut),k(ut,ut);for(var Q=0;Q<3;++Q)G.eyePosition[Q]=ut[12+Q]/ut[15];for(var at=ut[15],Q=0;Q<3;++Q)at+=this.lightPosition[Q]*ut[4*Q+3];for(var Q=0;Q<3;++Q){for(var dt=ut[12+Q],gt=0;gt<3;++gt)dt+=ut[4*gt+Q]*this.lightPosition[gt];G.lightPosition[Q]=dt/at}if(this.triangleCount>0){var wt=this.triShader;wt.bind(),wt.uniforms=G,this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var wt=this.lineShader;wt.bind(),wt.uniforms=G,this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var wt=this.pointShader;wt.bind(),wt.uniforms=G,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var wt=this.contourShader;wt.bind(),wt.uniforms=G,this.contourVAO.bind(),J.drawArrays(J.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(q){q=q||{};for(var J=this.gl,it=q.model||R,Z=q.view||R,tt=q.projection||R,st=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)st[0][Q]=Math.max(st[0][Q],this.clipBounds[0][Q]),st[1][Q]=Math.min(st[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(it),this._view=[].slice.call(Z),this._projection=[].slice.call(tt),this._resolution=[J.drawingBufferWidth,J.drawingBufferHeight];var G={model:it,view:Z,projection:tt,clipBounds:st,pickId:this.pickId/255},ut=this.pickShader;if(ut.bind(),ut.uniforms=G,this.triangleCount>0&&(this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ut=this.pointPickShader;ut.bind(),ut.uniforms=G,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(q){if(!q||q.id!==this.pickId)return null;for(var J=q.value[0]+256*q.value[1]+65536*q.value[2],it=this.cells[J],Z=this.positions,tt=new Array(it.length),st=0;st<it.length;++st)tt[st]=Z[it[st]];var Q=q.coord[0],G=q.coord[1];if(!this.pickVertex){var ut=this.positions[it[0]],at=this.positions[it[1]],dt=this.positions[it[2]],gt=[(ut[0]+at[0]+dt[0])/3,(ut[1]+at[1]+dt[1])/3,(ut[2]+at[2]+dt[2])/3];return{_cellCenter:!0,position:[Q,G],index:J,cell:it,cellId:J,intensity:this.intensity[J],dataCoordinate:gt}}var wt=_(tt,[Q*this.pixelRatio,this._resolution[1]-G*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!wt)return null;for(var kt=wt[2],Ot=0,st=0;st<it.length;++st)Ot+=kt[st]*this.intensity[it[st]];return{position:wt[1],index:it[wt[0]],cell:it,cellId:J,intensity:Ot,dataCoordinate:this.positions[it[wt[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function j(q){var J=n(q,T.vertex,T.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.normal.location=4,J}function V(q){var J=n(q,P.vertex,P.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J}function W(q){var J=n(q,u.vertex,u.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.pointSize.location=4,J}function K(q){var J=n(q,g.vertex,g.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J}function et(q){var J=n(q,L.vertex,L.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J.attributes.pointSize.location=4,J}function lt(q){var J=n(q,A.vertex,A.fragment);return J.attributes.position.location=0,J}function ot(q,J){arguments.length===1&&(J=q,q=J.gl);var it=q.getExtension("OES_standard_derivatives")||q.getExtension("MOZ_OES_standard_derivatives")||q.getExtension("WEBKIT_OES_standard_derivatives");if(!it)throw new Error("derivatives not supported");var Z=j(q),tt=V(q),st=W(q),Q=K(q),G=et(q),ut=lt(q),at=h(q,a(new Uint8Array([255,255,255,255]),[1,1,4]));at.generateMipmap(),at.minFilter=q.LINEAR_MIPMAP_LINEAR,at.magFilter=q.LINEAR;var dt=l(q),gt=l(q),wt=l(q),kt=l(q),Ot=l(q),bt=o(q,[{buffer:dt,type:q.FLOAT,size:3},{buffer:Ot,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:gt,type:q.FLOAT,size:4},{buffer:wt,type:q.FLOAT,size:2},{buffer:kt,type:q.FLOAT,size:3}]),_t=l(q),mt=l(q),Pt=l(q),Rt=l(q),Ht=o(q,[{buffer:_t,type:q.FLOAT,size:3},{buffer:Rt,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:mt,type:q.FLOAT,size:4},{buffer:Pt,type:q.FLOAT,size:2}]),Dt=l(q),Xt=l(q),se=l(q),Yt=l(q),ue=l(q),ie=o(q,[{buffer:Dt,type:q.FLOAT,size:3},{buffer:ue,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Xt,type:q.FLOAT,size:4},{buffer:se,type:q.FLOAT,size:2},{buffer:Yt,type:q.FLOAT,size:1}]),fe=l(q),ce=o(q,[{buffer:fe,type:q.FLOAT,size:3}]),ye=new O(q,at,Z,tt,st,Q,G,ut,dt,Ot,gt,wt,kt,bt,_t,Rt,mt,Pt,Ht,Dt,ue,Xt,se,Yt,ie,fe,ce);return ye.update(J),ye}d.exports=ot},4554:function(d,v,r){d.exports=h;var e=r(5827),s=r(5158),n=r(2709);function l(b,f,k){this.plot=b,this.vbo=f,this.shader=k}var o=l.prototype;o.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},o.drawBox=function(){var b=[0,0],f=[0,0];return function(k,a,c,p,w){var S=this.plot,_=this.shader,T=S.gl;b[0]=k,b[1]=a,f[0]=c,f[1]=p,_.uniforms.lo=b,_.uniforms.hi=f,_.uniforms.color=w,T.drawArrays(T.TRIANGLE_STRIP,0,4)}}(),o.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(b){var f=b.gl,k=e(f,[0,0,0,1,1,0,1,1]),a=s(f,n.boxVert,n.lineFrag);return new l(b,k,a)}},3016:function(d,v,r){d.exports=f;var e=r(5827),s=r(5158),n=r(5070),l=r(2709);function o(k,a,c,p){this.plot=k,this.vbo=a,this.shader=c,this.tickShader=p,this.ticks=[[],[]]}function h(k,a){return k-a}var b=o.prototype;b.draw=function(){var k=[0,0],a=[0,0],c=[0,0];return function(){for(var p=this.plot,w=this.vbo,S=this.shader,_=this.ticks,T=p.gl,P=p._tickBounds,u=p.dataBox,g=p.viewBox,L=p.gridLineWidth,A=p.gridLineColor,R=p.gridLineEnable,O=p.pixelRatio,N=0;N<2;++N){var z=P[N],F=P[N+2],I=F-z,j=.5*(u[N+2]+u[N]),V=u[N+2]-u[N];a[N]=2*I/V,k[N]=2*(z-j)/V}S.bind(),w.bind(),S.attributes.dataCoord.pointer(),S.uniforms.dataShift=k,S.uniforms.dataScale=a;for(var W=0,N=0;N<2;++N){c[0]=c[1]=0,c[N]=1,S.uniforms.dataAxis=c,S.uniforms.lineWidth=L[N]/(g[N+2]-g[N])*O,S.uniforms.color=A[N];var K=_[N].length*6;R[N]&&K&&T.drawArrays(T.TRIANGLES,W,K),W+=K}}}(),b.drawTickMarks=function(){var k=[0,0],a=[0,0],c=[1,0],p=[0,1],w=[0,0],S=[0,0];return function(){for(var _=this.plot,T=this.vbo,P=this.tickShader,u=this.ticks,g=_.gl,L=_._tickBounds,A=_.dataBox,R=_.viewBox,O=_.pixelRatio,N=_.screenBox,z=N[2]-N[0],F=N[3]-N[1],I=R[2]-R[0],j=R[3]-R[1],V=0;V<2;++V){var W=L[V],K=L[V+2],et=K-W,lt=.5*(A[V+2]+A[V]),ot=A[V+2]-A[V];a[V]=2*et/ot,k[V]=2*(W-lt)/ot}a[0]*=I/z,k[0]*=I/z,a[1]*=j/F,k[1]*=j/F,P.bind(),T.bind(),P.attributes.dataCoord.pointer();var q=P.uniforms;q.dataShift=k,q.dataScale=a;var J=_.tickMarkLength,it=_.tickMarkWidth,Z=_.tickMarkColor,tt=0,st=u[0].length*6,Q=Math.min(n.ge(u[0],(A[0]-L[0])/(L[2]-L[0]),h),u[0].length),G=Math.min(n.gt(u[0],(A[2]-L[0])/(L[2]-L[0]),h),u[0].length),ut=tt+6*Q,at=6*Math.max(0,G-Q),dt=Math.min(n.ge(u[1],(A[1]-L[1])/(L[3]-L[1]),h),u[1].length),gt=Math.min(n.gt(u[1],(A[3]-L[1])/(L[3]-L[1]),h),u[1].length),wt=st+6*dt,kt=6*Math.max(0,gt-dt);w[0]=2*(R[0]-J[1])/z-1,w[1]=(R[3]+R[1])/F-1,S[0]=J[1]*O/z,S[1]=it[1]*O/F,kt&&(q.color=Z[1],q.tickScale=S,q.dataAxis=p,q.screenOffset=w,g.drawArrays(g.TRIANGLES,wt,kt)),w[0]=(R[2]+R[0])/z-1,w[1]=2*(R[1]-J[0])/F-1,S[0]=it[0]*O/z,S[1]=J[0]*O/F,at&&(q.color=Z[0],q.tickScale=S,q.dataAxis=c,q.screenOffset=w,g.drawArrays(g.TRIANGLES,ut,at)),w[0]=2*(R[2]+J[3])/z-1,w[1]=(R[3]+R[1])/F-1,S[0]=J[3]*O/z,S[1]=it[3]*O/F,kt&&(q.color=Z[3],q.tickScale=S,q.dataAxis=p,q.screenOffset=w,g.drawArrays(g.TRIANGLES,wt,kt)),w[0]=(R[2]+R[0])/z-1,w[1]=2*(R[3]+J[2])/F-1,S[0]=it[2]*O/z,S[1]=J[2]*O/F,at&&(q.color=Z[2],q.tickScale=S,q.dataAxis=c,q.screenOffset=w,g.drawArrays(g.TRIANGLES,ut,at))}}(),b.update=function(){var k=[1,1,-1,-1,1,-1],a=[1,-1,1,1,-1,-1];return function(c){var p=c.ticks,w=c.bounds,S=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var _=0,T=[[],[]],P=0;P<2;++P)for(var u=T[P],g=p[P],L=w[P],A=w[P+2],R=0;R<g.length;++R){var O=(g[R].x-L)/(A-L);u.push(O);for(var N=0;N<6;++N)S[_++]=O,S[_++]=k[N],S[_++]=a[N]}this.ticks=T,this.vbo.update(S)}}(),b.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function f(k){var a=k.gl,c=e(a),p=s(a,l.gridVert,l.gridFrag),w=s(a,l.tickVert,l.gridFrag),S=new o(k,c,p,w);return S}},1154:function(d,v,r){d.exports=h;var e=r(5827),s=r(5158),n=r(2709);function l(b,f,k){this.plot=b,this.vbo=f,this.shader=k}var o=l.prototype;o.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},o.drawLine=function(){var b=[0,0],f=[0,0];return function(k,a,c,p,w,S){var _=this.plot,T=this.shader,P=_.gl;b[0]=k,b[1]=a,f[0]=c,f[1]=p,T.uniforms.start=b,T.uniforms.end=f,T.uniforms.width=w*_.pixelRatio,T.uniforms.color=S,P.drawArrays(P.TRIANGLE_STRIP,0,4)}}(),o.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(b){var f=b.gl,k=e(f,[-1,-1,-1,1,1,-1,1,1]),a=s(f,n.lineVert,n.lineFrag),c=new l(b,k,a);return c}},2709:function(d,v,r){var e=r(6832),s=e([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);d.exports={lineVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:e([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(d,v,r){d.exports=f;var e=r(5827),s=r(5158),n=r(6946),l=r(5070),o=r(2709);function h(k,a,c){this.plot=k,this.vbo=a,this.shader=c,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var b=h.prototype;b.drawTicks=function(){var k=[0,0],a=[0,0],c=[0,0];return function(p){var w=this.plot,S=this.shader,_=this.tickX[p],T=this.tickOffset[p],P=w.gl,u=w.viewBox,g=w.dataBox,L=w.screenBox,A=w.pixelRatio,R=w.tickEnable,O=w.tickPad,N=w.tickColor,z=w.tickAngle,F=w.labelEnable,I=w.labelPad,j=w.labelColor,V=w.labelAngle,W=this.labelOffset[p],K=this.labelCount[p],et=l.lt(_,g[p]),lt=l.le(_,g[p+2]);k[0]=k[1]=0,k[p]=1,a[p]=(u[2+p]+u[p])/(L[2+p]-L[p])-1;var ot=2/L[2+(p^1)]-L[p^1];a[p^1]=ot*u[p^1]-1,R[p]&&(a[p^1]-=ot*A*O[p],et<lt&&T[lt]>T[et]&&(S.uniforms.dataAxis=k,S.uniforms.screenOffset=a,S.uniforms.color=N[p],S.uniforms.angle=z[p],P.drawArrays(P.TRIANGLES,T[et],T[lt]-T[et]))),F[p]&&K&&(a[p^1]-=ot*A*I[p],S.uniforms.dataAxis=c,S.uniforms.screenOffset=a,S.uniforms.color=j[p],S.uniforms.angle=V[p],P.drawArrays(P.TRIANGLES,W,K)),a[p^1]=ot*u[2+(p^1)]-1,R[p+2]&&(a[p^1]+=ot*A*O[p+2],et<lt&&T[lt]>T[et]&&(S.uniforms.dataAxis=k,S.uniforms.screenOffset=a,S.uniforms.color=N[p+2],S.uniforms.angle=z[p+2],P.drawArrays(P.TRIANGLES,T[et],T[lt]-T[et]))),F[p+2]&&K&&(a[p^1]+=ot*A*I[p+2],S.uniforms.dataAxis=c,S.uniforms.screenOffset=a,S.uniforms.color=j[p+2],S.uniforms.angle=V[p+2],P.drawArrays(P.TRIANGLES,W,K))}}(),b.drawTitle=function(){var k=[0,0],a=[0,0];return function(){var c=this.plot,p=this.shader,w=c.gl,S=c.screenBox,_=c.titleCenter,T=c.titleAngle,P=c.titleColor,u=c.pixelRatio;if(this.titleCount){for(var g=0;g<2;++g)a[g]=2*(_[g]*u-S[g])/(S[2+g]-S[g])-1;p.bind(),p.uniforms.dataAxis=k,p.uniforms.screenOffset=a,p.uniforms.angle=T,p.uniforms.color=P,w.drawArrays(w.TRIANGLES,this.titleOffset,this.titleCount)}}}(),b.bind=function(){var k=[0,0],a=[0,0],c=[0,0];return function(){var p=this.plot,w=this.shader,S=p._tickBounds,_=p.dataBox,T=p.screenBox,P=p.viewBox;w.bind();for(var u=0;u<2;++u){var g=S[u],L=S[u+2],A=L-g,R=.5*(_[u+2]+_[u]),O=_[u+2]-_[u],N=P[u],z=P[u+2],F=z-N,I=T[u],j=T[u+2],V=j-I;a[u]=2*A/O*F/V,k[u]=2*(g-R)/O*F/V}c[1]=2*p.pixelRatio/(T[3]-T[1]),c[0]=c[1]*(T[3]-T[1])/(T[2]-T[0]),w.uniforms.dataScale=a,w.uniforms.dataShift=k,w.uniforms.textScale=c,this.vbo.bind(),w.attributes.textCoordinate.pointer()}}(),b.update=function(k){var a=[],c=k.ticks,p=k.bounds,w,S,_,T,P;for(P=0;P<2;++P){var u=[Math.floor(a.length/3)],g=[-1/0],L=c[P];for(w=0;w<L.length;++w){var A=L[w],R=A.x,O=A.text,N=A.font||"sans-serif";T=A.fontSize||12;for(var z=1/(p[P+2]-p[P]),F=p[P],I=O.split(`
`),j=0;j<I.length;j++)for(_=n(N,I[j]).data,S=0;S<_.length;S+=2)a.push(_[S]*T,-_[S+1]*T-j*T*1.2,(R-F)*z);u.push(Math.floor(a.length/3)),g.push(R)}this.tickOffset[P]=u,this.tickX[P]=g}for(P=0;P<2;++P){for(this.labelOffset[P]=Math.floor(a.length/3),_=n(k.labelFont[P],k.labels[P],{textAlign:"center"}).data,T=k.labelSize[P],w=0;w<_.length;w+=2)a.push(_[w]*T,-_[w+1]*T,0);this.labelCount[P]=Math.floor(a.length/3)-this.labelOffset[P]}for(this.titleOffset=Math.floor(a.length/3),_=n(k.titleFont,k.title).data,T=k.titleSize,w=0;w<_.length;w+=2)a.push(_[w]*T,-_[w+1]*T,0);this.titleCount=Math.floor(a.length/3)-this.titleOffset,this.vbo.update(a)},b.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(k){var a=k.gl,c=e(a),p=s(a,o.textVert,o.textFrag),w=new h(k,c,p);return w}},2117:function(d,v,r){d.exports=a;var e=r(2611),s=r(3016),n=r(5613),l=r(1154),o=r(4554);function h(c,p){this.gl=c,this.pickBuffer=p,this.screenBox=[0,0,c.drawingBufferWidth,c.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var b=h.prototype;b.setDirty=function(){this.dirty=this.pickDirty=!0},b.setOverlayDirty=function(){this.dirty=!0},b.nextDepthValue=function(){return this._depthCounter++/65536},b.draw=function(){return function(){var c=this.gl,p=this.screenBox,w=this.viewBox,S=this.dataBox,_=this.pixelRatio,T=this.grid,P=this.line,u=this.text,g=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,c.bindFramebuffer(c.FRAMEBUFFER,null),c.enable(c.SCISSOR_TEST),c.disable(c.DEPTH_TEST),c.depthFunc(c.LESS),c.depthMask(!1),c.enable(c.BLEND),c.blendEquation(c.FUNC_ADD,c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),this.borderColor){c.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var L=this.borderColor;c.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)}c.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),c.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var A=this.backgroundColor;c.clearColor(A[0]*A[3],A[1]*A[3],A[2]*A[3],A[3]),c.clear(c.COLOR_BUFFER_BIT),T.draw();var R=this.zeroLineEnable,O=this.zeroLineColor,N=this.zeroLineWidth;if(R[0]||R[1]){P.bind();for(var z=0;z<2;++z)if(!(!R[z]||!(S[z]<=0&&S[z+2]>=0))){var F=p[z]-S[z]*(p[z+2]-p[z])/(S[z+2]-S[z]);z===0?P.drawLine(F,p[1],F,p[3],N[z],O[z]):P.drawLine(p[0],F,p[2],F,N[z],O[z])}}for(var z=0;z<g.length;++z)g[z].draw();c.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),c.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),P.bind();var I=this.borderLineEnable,j=this.borderLineWidth,V=this.borderLineColor;I[1]&&P.drawLine(w[0],w[1]-.5*j[1]*_,w[0],w[3]+.5*j[3]*_,j[1],V[1]),I[0]&&P.drawLine(w[0]-.5*j[0]*_,w[1],w[2]+.5*j[2]*_,w[1],j[0],V[0]),I[3]&&P.drawLine(w[2],w[1]-.5*j[1]*_,w[2],w[3]+.5*j[3]*_,j[3],V[3]),I[2]&&P.drawLine(w[0]-.5*j[0]*_,w[3],w[2]+.5*j[2]*_,w[3],j[2],V[2]),u.bind();for(var z=0;z<2;++z)u.drawTicks(z);this.titleEnable&&u.drawTitle();for(var W=this.overlays,z=0;z<W.length;++z)W[z].draw();c.disable(c.SCISSOR_TEST),c.disable(c.BLEND),c.depthMask(!0)}}}(),b.drawPick=function(){return function(){if(!this.static){var c=this.pickBuffer;this.gl,this._pickTimeout=null,c.begin();for(var p=1,w=this.objects,S=0;S<w.length;++S)p=w[S].drawPick(p);c.end()}}}(),b.pick=function(){return function(c,p){if(!this.static){var w=this.pixelRatio,S=this.pickPixelRatio,_=this.viewBox,T=Math.round((c-_[0]/w)*S)|0,P=Math.round((p-_[1]/w)*S)|0,u=this.pickBuffer.query(T,P,this.pickRadius);if(!u)return null;for(var g=u.id+(u.value[0]<<8)+(u.value[1]<<16)+(u.value[2]<<24),L=this.objects,A=0;A<L.length;++A){var R=L[A].pick(T,P,g);if(R)return R}return null}}}();function f(c){for(var p=c.slice(),w=0;w<p.length;++w)p[w]=p[w].slice();return p}function k(c,p){return c.x-p.x}b.setScreenBox=function(c){var p=this.screenBox,w=this.pixelRatio;p[0]=Math.round(c[0]*w)|0,p[1]=Math.round(c[1]*w)|0,p[2]=Math.round(c[2]*w)|0,p[3]=Math.round(c[3]*w)|0,this.setDirty()},b.setDataBox=function(c){var p=this.dataBox,w=p[0]!==c[0]||p[1]!==c[1]||p[2]!==c[2]||p[3]!==c[3];w&&(p[0]=c[0],p[1]=c[1],p[2]=c[2],p[3]=c[3],this.setDirty())},b.setViewBox=function(c){var p=this.pixelRatio,w=this.viewBox;w[0]=Math.round(c[0]*p)|0,w[1]=Math.round(c[1]*p)|0,w[2]=Math.round(c[2]*p)|0,w[3]=Math.round(c[3]*p)|0;var S=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((c[2]-c[0])*S)|0,Math.round((c[3]-c[1])*S)|0],this.setDirty()},b.update=function(c){c=c||{};var p=this.gl;this.pixelRatio=c.pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(c.screenBox||[0,0,p.drawingBufferWidth/w,p.drawingBufferHeight/w]),this.screenBox,this.setViewBox(c.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var S=this.viewBox,_=(S[2]-S[0])/(S[3]-S[1]);this.setDataBox(c.dataBox||[-10,-10/_,10,10/_]),this.borderColor=c.borderColor!==!1?(c.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(c.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(c.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(c.gridLineWidth||[1,1]).slice(),this.gridLineColor=f(c.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(c.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(c.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=f(c.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(c.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(c.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=f(c.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(c.titleCenter||[.5*(S[0]+S[2])/w,(S[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in c)||!!c.titleEnable,this.titleAngle=c.titleAngle||0,this.titleColor=(c.titleColor||[0,0,0,1]).slice(),this.labelPad=(c.labelPad||[15,15,15,15]).slice(),this.labelAngle=(c.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(c.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=f(c.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(c.tickPad||[15,15,15,15]).slice(),this.tickAngle=(c.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(c.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=f(c.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(c.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(c.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=f(c.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var T=c.ticks||[[],[]],P=this._tickBounds;P[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(var u=0;u<2;++u){var g=T[u].slice(0);g.length!==0&&(g.sort(k),P[u]=Math.min(P[u],g[0].x),P[u+2]=Math.max(P[u+2],g[g.length-1].x))}this.grid.update({bounds:P,ticks:T}),this.text.update({bounds:P,ticks:T,labels:c.labels||["x","y"],labelSize:c.labelSize||[12,12],labelFont:c.labelFont||["sans-serif","sans-serif"],title:c.title||"",titleSize:c.titleSize||18,titleFont:c.titleFont||"sans-serif"}),this.static=!!c.static,this.setDirty()},b.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var c=this.objects.length-1;c>=0;--c)this.objects[c].dispose();this.objects.length=0;for(var c=this.overlays.length-1;c>=0;--c)this.overlays[c].dispose();this.overlays.length=0,this.gl=null},b.addObject=function(c){this.objects.indexOf(c)<0&&(this.objects.push(c),this.setDirty())},b.removeObject=function(c){for(var p=this.objects,w=0;w<p.length;++w)if(p[w]===c){p.splice(w,1),this.setDirty();break}},b.addOverlay=function(c){this.overlays.indexOf(c)<0&&(this.overlays.push(c),this.setOverlayDirty())},b.removeOverlay=function(c){for(var p=this.overlays,w=0;w<p.length;++w)if(p[w]===c){p.splice(w,1),this.setOverlayDirty();break}};function a(c){var p=c.gl,w=e(p,[p.drawingBufferWidth,p.drawingBufferHeight]),S=new h(p,w);return S.grid=s(S),S.text=n(S),S.line=l(S),S.box=o(S),S.update(c),S}},4296:function(d,v,r){d.exports=b;var e=r(8161),s=r(1152),n=r(6145),l=r(6475),o=r(2565),h=r(5233);function b(f,k){f=f||document.body,k=k||{};var a=[.01,1/0];"distanceLimits"in k&&(a[0]=k.distanceLimits[0],a[1]=k.distanceLimits[1]),"zoomMin"in k&&(a[0]=k.zoomMin),"zoomMax"in k&&(a[1]=k.zoomMax);var c=s({center:k.center||[0,0,0],up:k.up||[0,1,0],eye:k.eye||[0,0,10],mode:k.mode||"orbit",distanceLimits:a}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,S=f.clientWidth,_=f.clientHeight,T={keyBindingMode:"rotate",enableWheel:!0,view:c,element:f,delay:k.delay||16,rotateSpeed:k.rotateSpeed||1,zoomSpeed:k.zoomSpeed||1,translateSpeed:k.translateSpeed||1,flipX:!!k.flipX,flipY:!!k.flipY,modes:c.modes,_ortho:k._ortho||k.projection&&k.projection.type==="orthographic"||!1,tick:function(){var P=e(),u=this.delay,g=P-2*u;c.idle(P-u),c.recalcMatrix(g),c.flush(P-(100+u*2));for(var L=!0,A=c.computedMatrix,R=0;R<16;++R)L=L&&p[R]===A[R],p[R]=A[R];var O=f.clientWidth===S&&f.clientHeight===_;return S=f.clientWidth,_=f.clientHeight,L?!O:(w=Math.exp(c.computedRadius[0]),!0)},lookAt:function(P,u,g){c.lookAt(c.lastT(),P,u,g)},rotate:function(P,u,g){c.rotate(c.lastT(),P,u,g)},pan:function(P,u,g){c.pan(c.lastT(),P,u,g)},translate:function(P,u,g){c.translate(c.lastT(),P,u,g)}};return Object.defineProperties(T,{matrix:{get:function(){return c.computedMatrix},set:function(P){return c.setMatrix(c.lastT(),P),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(P){var u=c.computedUp.slice(),g=c.computedEye.slice(),L=c.computedCenter.slice();if(c.setMode(P),P==="turntable"){var A=e();c._active.lookAt(A,g,L,u),c._active.lookAt(A+500,g,L,[0,0,1]),c._active.flush(A)}return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(P){return c.lookAt(c.lastT(),null,P),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(P){return c.lookAt(c.lastT(),P),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(P){return c.lookAt(c.lastT(),null,null,P),c.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(P){return c.setDistance(c.lastT(),P),P},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(a)},set:function(P){return c.setDistanceLimits(P),P},enumerable:!0}}),f.addEventListener("contextmenu",function(P){return P.preventDefault(),!1}),T._lastX=-1,T._lastY=-1,T._lastMods={shift:!1,control:!1,alt:!1,meta:!1},T.enableMouseListeners=function(){T.mouseListener=n(f,P),f.addEventListener("touchstart",function(u){var g=o(u.changedTouches[0],f);P(0,g[0],g[1],T._lastMods),P(1,g[0],g[1],T._lastMods)},h?{passive:!0}:!1),f.addEventListener("touchmove",function(u){var g=o(u.changedTouches[0],f);P(1,g[0],g[1],T._lastMods),u.preventDefault()},h?{passive:!1}:!1),f.addEventListener("touchend",function(u){P(0,T._lastX,T._lastY,T._lastMods)},h?{passive:!0}:!1);function P(u,g,L,A){var R=T.keyBindingMode;if(R!==!1){var O=R==="rotate",N=R==="pan",z=R==="zoom",F=!!A.control,I=!!A.alt,j=!!A.shift,V=!!(u&1),W=!!(u&2),K=!!(u&4),et=1/f.clientHeight,lt=et*(g-T._lastX),ot=et*(L-T._lastY),q=T.flipX?1:-1,J=T.flipY?1:-1,it=Math.PI*T.rotateSpeed,Z=e();if(T._lastX!==-1&&T._lastY!==-1&&((O&&V&&!F&&!I&&!j||V&&!F&&!I&&j)&&c.rotate(Z,q*it*lt,-J*it*ot,0),(N&&V&&!F&&!I&&!j||W||V&&F&&!I&&!j)&&c.pan(Z,-T.translateSpeed*lt*w,T.translateSpeed*ot*w,0),z&&V&&!F&&!I&&!j||K||V&&!F&&I&&!j)){var tt=-T.zoomSpeed*ot/window.innerHeight*(Z-c.lastT())*100;c.pan(Z,0,0,w*(Math.exp(tt)-1))}return T._lastX=g,T._lastY=L,T._lastMods=A,!0}}T.wheelListener=l(f,function(u,g){if(T.keyBindingMode!==!1&&T.enableWheel){var L=T.flipX?1:-1,A=T.flipY?1:-1,R=e();if(Math.abs(u)>Math.abs(g))c.rotate(R,0,0,-u*L*Math.PI*T.rotateSpeed/window.innerWidth);else if(!T._ortho){var O=-T.zoomSpeed*A*g/window.innerHeight*(R-c.lastT())/20;c.pan(R,0,0,w*(Math.exp(O)-1))}}},!0)},T.enableMouseListeners(),T}},8245:function(d,v,r){var e=r(6832),s=r(5158),n=e([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=e([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);d.exports=function(o){return s(o,n,l,null,[{name:"position",type:"vec2"}])}},1059:function(d,v,r){var e=r(4296),s=r(7453),n=r(2771),l=r(6496),o=r(2611),h=r(4234),b=r(8126),f=r(6145),k=r(1120),a=r(5268),c=r(8245),p=r(2321)({tablet:!0,featureDetect:!0});d.exports={createScene:P,createCamera:e};function w(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function S(g,L){var A=null;try{A=g.getContext("webgl",L),A||(A=g.getContext("experimental-webgl",L))}catch{return null}return A}function _(g){var L=Math.round(Math.log(Math.abs(g))/Math.log(10));if(L<0){var A=Math.round(Math.pow(10,-L));return Math.ceil(g*A)/A}else if(L>0){var A=Math.round(Math.pow(10,L));return Math.ceil(g/A)*A}return Math.ceil(g)}function T(g){return typeof g=="boolean"?g:!0}function P(g){g=g||{},g.camera=g.camera||{};var L=g.canvas;if(!L)if(L=document.createElement("canvas"),g.container){var A=g.container;A.appendChild(L)}else document.body.appendChild(L);var R=g.gl;if(R||(g.glOptions&&(p=!!g.glOptions.preserveDrawingBuffer),R=S(L,g.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!R)throw new Error("webgl not supported");var O=g.bounds||[[-10,-10,-10],[10,10,10]],N=new w,z=h(R,R.drawingBufferWidth,R.drawingBufferHeight,{preferFloat:!p}),F=c(R),I=g.cameraObject&&g.cameraObject._ortho===!0||g.camera.projection&&g.camera.projection.type==="orthographic"||!1,j={eye:g.camera.eye||[2,0,0],center:g.camera.center||[0,0,0],up:g.camera.up||[0,1,0],zoomMin:g.camera.zoomMax||.1,zoomMax:g.camera.zoomMin||100,mode:g.camera.mode||"turntable",_ortho:I},V=g.axes||{},W=s(R,V);W.enable=!V.disable;var K=g.spikes||{},et=l(R,K),lt=[],ot=[],q=[],J=[],it=!0,Q=!0,Z=new Array(16),tt=new Array(16),st={view:null,projection:Z,model:tt,_ortho:!1},Q=!0,G=[R.drawingBufferWidth,R.drawingBufferHeight],ut=g.cameraObject||e(L,j),at={gl:R,contextLost:!1,pixelRatio:g.pixelRatio||1,canvas:L,selection:N,camera:ut,axes:W,axesPixels:null,spikes:et,bounds:O,objects:lt,shape:G,aspect:g.aspectRatio||[1,1,1],pickRadius:g.pickRadius||10,zNear:g.zNear||.01,zFar:g.zFar||1e3,fovy:g.fovy||Math.PI/4,clearColor:g.clearColor||[0,0,0,0],autoResize:T(g.autoResize),autoBounds:T(g.autoBounds),autoScale:!!g.autoScale,autoCenter:T(g.autoCenter),clipToBounds:T(g.clipToBounds),snapToData:!!g.snapToData,onselect:g.onselect||null,onrender:g.onrender||null,onclick:g.onclick||null,cameraParams:st,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Rt){this.aspect[0]=Rt.x,this.aspect[1]=Rt.y,this.aspect[2]=Rt.z,Q=!0},setBounds:function(Rt,Ht){this.bounds[0][Rt]=Ht.min,this.bounds[1][Rt]=Ht.max},setClearColor:function(Rt){this.clearColor=Rt},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},dt=[R.drawingBufferWidth/at.pixelRatio|0,R.drawingBufferHeight/at.pixelRatio|0];function gt(){if(!at._stopped&&at.autoResize){var Rt=L.parentNode,Ht=1,Dt=1;Rt&&Rt!==document.body?(Ht=Rt.clientWidth,Dt=Rt.clientHeight):(Ht=window.innerWidth,Dt=window.innerHeight);var Xt=Math.ceil(Ht*at.pixelRatio)|0,se=Math.ceil(Dt*at.pixelRatio)|0;if(Xt!==L.width||se!==L.height){L.width=Xt,L.height=se;var Yt=L.style;Yt.position=Yt.position||"absolute",Yt.left="0px",Yt.top="0px",Yt.width=Ht+"px",Yt.height=Dt+"px",it=!0}}}at.autoResize&&gt(),window.addEventListener("resize",gt);function wt(){for(var Rt=lt.length,Ht=J.length,Dt=0;Dt<Ht;++Dt)q[Dt]=0;t:for(var Dt=0;Dt<Rt;++Dt){var Xt=lt[Dt],se=Xt.pickSlots;if(!se){ot[Dt]=-1;continue}for(var Yt=0;Yt<Ht;++Yt)if(q[Yt]+se<255){ot[Dt]=Yt,Xt.setPickBase(q[Yt]+1),q[Yt]+=se;continue t}var ue=o(R,G);ot[Dt]=Ht,J.push(ue),q.push(se),Xt.setPickBase(1),Ht+=1}for(;Ht>0&&q[Ht-1]===0;)q.pop(),J.pop().dispose()}at.update=function(Rt){at._stopped||(it=!0,Q=!0)},at.add=function(Rt){at._stopped||(Rt.axes=W,lt.push(Rt),ot.push(-1),it=!0,Q=!0,wt())},at.remove=function(Rt){if(!at._stopped){var Ht=lt.indexOf(Rt);Ht<0||(lt.splice(Ht,1),ot.pop(),it=!0,Q=!0,wt())}},at.dispose=function(){if(!at._stopped&&(at._stopped=!0,window.removeEventListener("resize",gt),L.removeEventListener("webglcontextlost",kt),at.mouseListener.enabled=!1,!at.contextLost)){W.dispose(),et.dispose();for(var Rt=0;Rt<lt.length;++Rt)lt[Rt].dispose();z.dispose();for(var Rt=0;Rt<J.length;++Rt)J[Rt].dispose();F.dispose(),R=null,W=null,et=null,lt=[]}},at._mouseRotating=!1,at._prevButtons=0,at.enableMouseListeners=function(){at.mouseListener=f(L,function(Rt,Ht,Dt){if(!at._stopped){var Xt=J.length,se=lt.length,Yt=N.object;N.distance=1/0,N.mouse[0]=Ht,N.mouse[1]=Dt,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var ue=!1;if(Rt&&at._prevButtons)at._mouseRotating=!0;else{at._mouseRotating&&(Q=!0),at._mouseRotating=!1;for(var ie=0;ie<Xt;++ie){var fe=J[ie].query(Ht,dt[1]-Dt-1,at.pickRadius);if(fe){if(fe.distance>N.distance)continue;for(var ce=0;ce<se;++ce){var ye=lt[ce];if(ot[ce]===ie){var de=ye.pick(fe);de&&(N.buttons=Rt,N.screen=fe.coord,N.distance=fe.distance,N.object=ye,N.index=de.distance,N.dataPosition=de.position,N.dataCoordinate=de.dataCoordinate,N.data=de,ue=!0)}}}}}Yt&&Yt!==N.object&&(Yt.highlight&&Yt.highlight(null),it=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),it=!0),ue=ue||N.object!==Yt,ue&&at.onselect&&at.onselect(N),Rt&1&&!(at._prevButtons&1)&&at.onclick&&at.onclick(N),at._prevButtons=Rt}})};function kt(){if(at.contextLost)return!0;R.isContextLost()&&(at.contextLost=!0,at.mouseListener.enabled=!1,at.selection.object=null,at.oncontextloss&&at.oncontextloss())}L.addEventListener("webglcontextlost",kt);function Ot(){if(!kt()){R.colorMask(!0,!0,!0,!0),R.depthMask(!0),R.disable(R.BLEND),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL);for(var Rt=lt.length,Ht=J.length,Dt=0;Dt<Ht;++Dt){var Xt=J[Dt];Xt.shape=dt,Xt.begin();for(var se=0;se<Rt;++se)if(ot[se]===Dt){var Yt=lt[se];Yt.drawPick&&(Yt.pixelRatio=1,Yt.drawPick(st))}Xt.end()}}}var bt=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],_t=[bt[0].slice(),bt[1].slice()];function mt(){if(!kt()){gt();var Rt=at.camera.tick();st.view=at.camera.matrix,it=it||Rt,Q=Q||Rt,W.pixelRatio=at.pixelRatio,et.pixelRatio=at.pixelRatio;var Ht=lt.length,Dt=bt[0],Xt=bt[1];Dt[0]=Dt[1]=Dt[2]=1/0,Xt[0]=Xt[1]=Xt[2]=-1/0;for(var se=0;se<Ht;++se){var Yt=lt[se];Yt.pixelRatio=at.pixelRatio,Yt.axes=at.axes,it=it||!!Yt.dirty,Q=Q||!!Yt.dirty;var ue=Yt.bounds;if(ue)for(var ie=ue[0],fe=ue[1],ce=0;ce<3;++ce)Dt[ce]=Math.min(Dt[ce],ie[ce]),Xt[ce]=Math.max(Xt[ce],fe[ce])}var ye=at.bounds;if(at.autoBounds)for(var ce=0;ce<3;++ce){if(Xt[ce]<Dt[ce])Dt[ce]=-1,Xt[ce]=1;else{Dt[ce]===Xt[ce]&&(Dt[ce]-=1,Xt[ce]+=1);var de=.05*(Xt[ce]-Dt[ce]);Dt[ce]=Dt[ce]-de,Xt[ce]=Xt[ce]+de}ye[0][ce]=Dt[ce],ye[1][ce]=Xt[ce]}for(var Te=!1,ce=0;ce<3;++ce)Te=Te||_t[0][ce]!==ye[0][ce]||_t[1][ce]!==ye[1][ce],_t[0][ce]=ye[0][ce],_t[1][ce]=ye[1][ce];if(Q=Q||Te,it=it||Te,!!it){if(Te){for(var Et=[0,0,0],se=0;se<3;++se)Et[se]=_((ye[1][se]-ye[0][se])/10);W.autoTicks?W.update({bounds:ye,tickSpacing:Et}):W.update({bounds:ye})}var Vt=R.drawingBufferWidth,te=R.drawingBufferHeight;G[0]=Vt,G[1]=te,dt[0]=Math.max(Vt/at.pixelRatio,1)|0,dt[1]=Math.max(te/at.pixelRatio,1)|0,u(at,I);for(var se=0;se<Ht;++se){var Yt=lt[se];Yt.axesBounds=ye,at.clipToBounds&&(Yt.clipBounds=ye)}N.object&&(at.snapToData?et.position=N.dataCoordinate:et.position=N.dataPosition,et.bounds=ye),Q&&(Q=!1,Ot()),at.axesPixels=n(at.axes,st,Vt,te),at.onrender&&at.onrender(),R.bindFramebuffer(R.FRAMEBUFFER,null),R.viewport(0,0,Vt,te),at.clearRGBA(),R.depthMask(!0),R.colorMask(!0,!0,!0,!0),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.disable(R.BLEND),R.disable(R.CULL_FACE);var Jt=!1;W.enable&&(Jt=Jt||W.isTransparent(),W.draw(st)),et.axes=W,N.object&&et.draw(st),R.disable(R.CULL_FACE);for(var se=0;se<Ht;++se){var Yt=lt[se];Yt.axes=W,Yt.pixelRatio=at.pixelRatio,Yt.isOpaque&&Yt.isOpaque()&&Yt.draw(st),Yt.isTransparent&&Yt.isTransparent()&&(Jt=!0)}if(Jt){z.shape=G,z.bind(),R.clear(R.DEPTH_BUFFER_BIT),R.colorMask(!1,!1,!1,!1),R.depthMask(!0),R.depthFunc(R.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(st);for(var se=0;se<Ht;++se){var Yt=lt[se];Yt.isOpaque&&Yt.isOpaque()&&Yt.draw(st)}R.enable(R.BLEND),R.blendEquation(R.FUNC_ADD),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.colorMask(!0,!0,!0,!0),R.depthMask(!1),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(st);for(var se=0;se<Ht;++se){var Yt=lt[se];Yt.isTransparent&&Yt.isTransparent()&&Yt.drawTransparent(st)}R.bindFramebuffer(R.FRAMEBUFFER,null),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.disable(R.DEPTH_TEST),F.bind(),z.color[0].bind(0),F.uniforms.accumBuffer=0,b(R),R.disable(R.BLEND)}it=!1;for(var se=0;se<Ht;++se)lt[se].dirty=!1}}}function Pt(){at._stopped||at.contextLost||(mt(),requestAnimationFrame(Pt))}return at.enableMouseListeners(),Pt(),at.redraw=function(){at._stopped||(it=!0,mt())},at}function u(g,L){var A=g.bounds,R=g.cameraParams,O=R.projection,N=R.model,z=g.gl.drawingBufferWidth,F=g.gl.drawingBufferHeight,I=g.zNear,j=g.zFar,V=g.fovy,W=z/F;L?(a(O,-W,W,-1,1,I,j),R._ortho=!0):(k(O,V,W,I,j),R._ortho=!1);for(var K=0;K<16;++K)N[K]=0;N[15]=1;for(var et=0,K=0;K<3;++K)et=Math.max(et,A[1][K]-A[0][K]);for(var K=0;K<3;++K)g.autoScale?N[5*K]=g.aspect[K]/(A[1][K]-A[0][K]):N[5*K]=1/et,g.autoCenter&&(N[12+K]=-N[5*K]*.5*(A[0][K]+A[1][K]))}},8023:function(d,v,r){var e=r(6832);v.pointVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),v.pointFragment=e([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),v.pickVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),v.pickFragment=e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(d,v,r){var e=r(5158),s=r(5827),n=r(5306),l=r(8023);d.exports=f;function o(k,a,c,p,w){this.plot=k,this.offsetBuffer=a,this.pickBuffer=c,this.shader=p,this.pickShader=w,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var h=o.prototype;h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},h.update=function(k){var a;k=k||{};function c(u,g){return u in k?k[u]:g}this.sizeMin=c("sizeMin",.5),this.sizeMax=c("sizeMax",20),this.color=c("color",[1,0,0,1]).slice(),this.areaRatio=c("areaRatio",1),this.borderColor=c("borderColor",[0,0,0,1]).slice(),this.blend=c("blend",!1);var p=k.positions.length>>>1,w=k.positions instanceof Float32Array,S=k.idToIndex instanceof Int32Array&&k.idToIndex.length>=p,_=k.positions,T=w?_:n.mallocFloat32(_.length),P=S?k.idToIndex:n.mallocInt32(p);if(w||T.set(_),!S)for(T.set(_),a=0;a<p;a++)P[a]=a;this.points=_,this.offsetBuffer.update(T),this.pickBuffer.update(P),w||n.free(T),S||n.free(P),this.pointCount=p,this.pickOffset=0};function b(k,a){var c=0,p=k.length>>>1,w;for(w=0;w<p;w++){var S=k[w*2],_=k[w*2+1];S>=a[0]&&S<=a[2]&&_>=a[1]&&_<=a[3]&&c++}return c}h.unifiedDraw=function(){var k=[1,0,0,0,1,0,0,0,1],a=[0,0,0,0];return function(c){var p=c!==void 0,w=p?this.pickShader:this.shader,S=this.plot.gl,_=this.plot.dataBox;if(this.pointCount===0)return c;var T=_[2]-_[0],P=_[3]-_[1],u=b(this.points,_),g=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(u,.33333)));k[0]=2/T,k[4]=2/P,k[6]=-2*_[0]/T-1,k[7]=-2*_[1]/P-1,this.offsetBuffer.bind(),w.bind(),w.attributes.position.pointer(),w.uniforms.matrix=k,w.uniforms.color=this.color,w.uniforms.borderColor=this.borderColor,w.uniforms.pointCloud=g<5,w.uniforms.pointSize=g,w.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(a[0]=c&255,a[1]=c>>8&255,a[2]=c>>16&255,a[3]=c>>24&255,this.pickBuffer.bind(),w.attributes.pickId.pointer(S.UNSIGNED_BYTE),w.uniforms.pickOffset=a,this.pickOffset=c);var L=S.getParameter(S.BLEND),A=S.getParameter(S.DITHER);return L&&!this.blend&&S.disable(S.BLEND),A&&S.disable(S.DITHER),S.drawArrays(S.POINTS,0,this.pointCount),L&&!this.blend&&S.enable(S.BLEND),A&&S.enable(S.DITHER),c+this.pointCount}}(),h.draw=h.unifiedDraw,h.drawPick=h.unifiedDraw,h.pick=function(k,a,c){var p=this.pickOffset,w=this.pointCount;if(c<p||c>=p+w)return null;var S=c-p,_=this.points;return{object:this,pointId:S,dataCoord:[_[2*S],_[2*S+1]]}};function f(k,a){var c=k.gl,p=s(c),w=s(c),S=e(c,l.pointVertex,l.pointFragment),_=e(c,l.pickVertex,l.pickFragment),T=new o(k,p,w,S,_);return T.update(a),k.addObject(T),T}},6093:function(d){d.exports=v;function v(r,e,s,n){var l=e[0],o=e[1],h=e[2],b=e[3],f=s[0],k=s[1],a=s[2],c=s[3],p,w,S,_,T;return w=l*f+o*k+h*a+b*c,w<0&&(w=-w,f=-f,k=-k,a=-a,c=-c),1-w>1e-6?(p=Math.acos(w),S=Math.sin(p),_=Math.sin((1-n)*p)/S,T=Math.sin(n*p)/S):(_=1-n,T=n),r[0]=_*l+T*f,r[1]=_*o+T*k,r[2]=_*h+T*a,r[3]=_*b+T*c,r}},8240:function(d){d.exports=function(v){return!v&&v!==0?"":v.toString()}},4123:function(d,v,r){var e=r(875);d.exports=n;var s={};function n(l,o,h){var b=s[o];if(b||(b=s[o]={}),l in b)return b[l];var f={textAlign:"center",textBaseline:"middle",lineHeight:1,font:o,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};f.triangles=!0;var k=e(l,f);f.triangles=!1;var a=e(l,f),c,p;if(h&&h!==1){for(c=0;c<k.positions.length;++c)for(p=0;p<k.positions[c].length;++p)k.positions[c][p]/=h;for(c=0;c<a.positions.length;++c)for(p=0;p<a.positions[c].length;++p)a.positions[c][p]/=h}var w=[[1/0,1/0],[-1/0,-1/0]],S=a.positions.length;for(c=0;c<S;++c){var _=a.positions[c];for(p=0;p<2;++p)w[0][p]=Math.min(w[0][p],_[p]),w[1][p]=Math.max(w[1][p],_[p])}return b[l]=[k,a,w]}},9282:function(d,v,r){var e=r(5158),s=r(6832),n=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),h=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),b=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),f=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],k={vertex:n,fragment:h,attributes:f},a={vertex:l,fragment:h,attributes:f},c={vertex:o,fragment:h,attributes:f},p={vertex:n,fragment:b,attributes:f},w={vertex:l,fragment:b,attributes:f},S={vertex:o,fragment:b,attributes:f};function _(T,P){var u=e(T,P),g=u.attributes;return g.position.location=0,g.color.location=1,g.glyph.location=2,g.id.location=3,u}v.createPerspective=function(T){return _(T,k)},v.createOrtho=function(T){return _(T,a)},v.createProject=function(T){return _(T,c)},v.createPickPerspective=function(T){return _(T,p)},v.createPickOrtho=function(T){return _(T,w)},v.createPickProject=function(T){return _(T,S)}},2182:function(d,v,r){var e=r(3596),s=r(5827),n=r(2944),l=r(5306),o=r(104),h=r(9282),b=r(4123),f=r(8240),k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];d.exports=ot;function a(q,J){var it=q[0],Z=q[1],tt=q[2],st=q[3];return q[0]=J[0]*it+J[4]*Z+J[8]*tt+J[12]*st,q[1]=J[1]*it+J[5]*Z+J[9]*tt+J[13]*st,q[2]=J[2]*it+J[6]*Z+J[10]*tt+J[14]*st,q[3]=J[3]*it+J[7]*Z+J[11]*tt+J[15]*st,q}function c(q,J,it,Z){return a(Z,Z),a(Z,Z),a(Z,Z)}function p(q,J){this.index=q,this.dataCoordinate=this.position=J}function w(q){return q===!0||q>1?1:q}function S(q,J,it,Z,tt,st,Q,G,ut,at,dt,gt){this.gl=q,this.pixelRatio=1,this.shader=J,this.orthoShader=it,this.projectShader=Z,this.pointBuffer=tt,this.colorBuffer=st,this.glyphBuffer=Q,this.idBuffer=G,this.vao=ut,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=at,this.pickOrthoShader=dt,this.pickProjectShader=gt,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var _=S.prototype;_.pickSlots=1,_.setPickBase=function(q){this.pickId=q},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&!this.projectHasAlpha)return!0;return!1};var T=[0,0],P=[0,0,0],u=[0,0,0],g=[0,0,0,1],L=[0,0,0,1],A=k.slice(),R=[0,0,0],O=[[0,0,0],[0,0,0]];function N(q){return q[0]=q[1]=q[2]=0,q}function z(q,J){return q[0]=J[0],q[1]=J[1],q[2]=J[2],q[3]=1,q}function F(q,J,it,Z){return q[0]=J[0],q[1]=J[1],q[2]=J[2],q[it]=Z,q}function I(q){for(var J=O,it=0;it<2;++it)for(var Z=0;Z<3;++Z)J[it][Z]=Math.max(Math.min(q[it][Z],1e8),-1e8);return J}function j(q,J,it,Z){var tt=J.axesProject,st=J.gl,Q=q.uniforms,G=it.model||k,ut=it.view||k,at=it.projection||k,dt=J.axesBounds,gt=I(J.clipBounds),wt;J.axes&&J.axes.lastCubeProps?wt=J.axes.lastCubeProps.axis:wt=[1,1,1],T[0]=2/st.drawingBufferWidth,T[1]=2/st.drawingBufferHeight,q.bind(),Q.view=ut,Q.projection=at,Q.screenSize=T,Q.highlightId=J.highlightId,Q.highlightScale=J.highlightScale,Q.clipBounds=gt,Q.pickGroup=J.pickId/255,Q.pixelRatio=Z;for(var kt=0;kt<3;++kt)if(tt[kt]){Q.scale=J.projectScale[kt],Q.opacity=J.projectOpacity[kt];for(var Ot=A,bt=0;bt<16;++bt)Ot[bt]=0;for(var bt=0;bt<4;++bt)Ot[5*bt]=1;Ot[5*kt]=0,wt[kt]<0?Ot[12+kt]=dt[0][kt]:Ot[12+kt]=dt[1][kt],o(Ot,G,Ot),Q.model=Ot;var _t=(kt+1)%3,mt=(kt+2)%3,Pt=N(P),Rt=N(u);Pt[_t]=1,Rt[mt]=1;var Ht=c(at,ut,G,z(g,Pt)),Dt=c(at,ut,G,z(L,Rt));if(Math.abs(Ht[1])>Math.abs(Dt[1])){var Xt=Ht;Ht=Dt,Dt=Xt,Xt=Pt,Pt=Rt,Rt=Xt;var se=_t;_t=mt,mt=se}Ht[0]<0&&(Pt[_t]=-1),Dt[1]>0&&(Rt[mt]=-1);for(var Yt=0,ue=0,bt=0;bt<4;++bt)Yt+=Math.pow(G[4*_t+bt],2),ue+=Math.pow(G[4*mt+bt],2);Pt[_t]/=Math.sqrt(Yt),Rt[mt]/=Math.sqrt(ue),Q.axes[0]=Pt,Q.axes[1]=Rt,Q.fragClipBounds[0]=F(R,gt[0],kt,-1e8),Q.fragClipBounds[1]=F(R,gt[1],kt,1e8),J.vao.bind(),J.vao.draw(st.TRIANGLES,J.vertexCount),J.lineWidth>0&&(st.lineWidth(J.lineWidth*Z),J.vao.draw(st.LINES,J.lineVertexCount,J.vertexCount)),J.vao.unbind()}}var V=[-1e8,-1e8,-1e8],W=[1e8,1e8,1e8],K=[V,W];function et(q,J,it,Z,tt,st,Q){var G=it.gl;if((st===it.projectHasAlpha||Q)&&j(J,it,Z,tt),st===it.hasAlpha||Q){q.bind();var ut=q.uniforms;ut.model=Z.model||k,ut.view=Z.view||k,ut.projection=Z.projection||k,T[0]=2/G.drawingBufferWidth,T[1]=2/G.drawingBufferHeight,ut.screenSize=T,ut.highlightId=it.highlightId,ut.highlightScale=it.highlightScale,ut.fragClipBounds=K,ut.clipBounds=it.axes.bounds,ut.opacity=it.opacity,ut.pickGroup=it.pickId/255,ut.pixelRatio=tt,it.vao.bind(),it.vao.draw(G.TRIANGLES,it.vertexCount),it.lineWidth>0&&(G.lineWidth(it.lineWidth*tt),it.vao.draw(G.LINES,it.lineVertexCount,it.vertexCount)),it.vao.unbind()}}_.draw=function(q){var J=this.useOrtho?this.orthoShader:this.shader;et(J,this.projectShader,this,q,this.pixelRatio,!1,!1)},_.drawTransparent=function(q){var J=this.useOrtho?this.orthoShader:this.shader;et(J,this.projectShader,this,q,this.pixelRatio,!0,!1)},_.drawPick=function(q){var J=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;et(J,this.pickProjectShader,this,q,1,!0,!0)},_.pick=function(q){if(!q||q.id!==this.pickId)return null;var J=q.value[2]+(q.value[1]<<8)+(q.value[0]<<16);if(J>=this.pointCount||J<0)return null;var it=this.points[J],Z=this._selectResult;Z.index=J;for(var tt=0;tt<3;++tt)Z.position[tt]=Z.dataCoordinate[tt]=it[tt];return Z},_.highlight=function(q){if(!q)this.highlightId=[1,1,1,1];else{var J=q.index,it=J&255,Z=J>>8&255,tt=J>>16&255;this.highlightId=[it/255,Z/255,tt/255,0]}};function lt(q,J,it,Z){var tt;Array.isArray(q)?J<q.length?tt=q[J]:tt=void 0:tt=q,tt=f(tt);var st=!0;e(tt)&&(tt="▼",st=!1);var Q=b(tt,it,Z);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:st}}_.update=function(q){if(q=q||{},"perspective"in q&&(this.useOrtho=!q.perspective),"orthographic"in q&&(this.useOrtho=!!q.orthographic),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"project"in q)if(Array.isArray(q.project))this.axesProject=q.project;else{var J=!!q.project;this.axesProject=[J,J,J]}if("projectScale"in q)if(Array.isArray(q.projectScale))this.projectScale=q.projectScale.slice();else{var it=+q.projectScale;this.projectScale=[it,it,it]}if(this.projectHasAlpha=!1,"projectOpacity"in q){if(Array.isArray(q.projectOpacity))this.projectOpacity=q.projectOpacity.slice();else{var it=+q.projectOpacity;this.projectOpacity=[it,it,it]}for(var Z=0;Z<3;++Z)this.projectOpacity[Z]=w(this.projectOpacity[Z]),this.projectOpacity[Z]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in q&&(this.opacity=w(q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var tt=q.position,st=q.font||"normal",Q=q.alignment||[0,0],G,ut;if(Q.length===2)G=Q[0],ut=Q[1];else{G=[],ut=[];for(var Z=0;Z<Q.length;++Z)G[Z]=Q[Z][0],ut[Z]=Q[Z][1]}var at=[1/0,1/0,1/0],dt=[-1/0,-1/0,-1/0],gt=q.glyph,wt=q.color,kt=q.size,Ot=q.angle,bt=q.lineColor,_t=-1,mt=0,Pt=0,Rt=0;if(tt.length){Rt=tt.length;t:for(var Z=0;Z<Rt;++Z){for(var Ht=tt[Z],Dt=0;Dt<3;++Dt)if(isNaN(Ht[Dt])||!isFinite(Ht[Dt]))continue t;var Xt=lt(gt,Z,st,this.pixelRatio),se=Xt.mesh,Yt=Xt.lines,ue=Xt.bounds;mt+=se.cells.length*3,Pt+=Yt.edges.length*2}}var ie=mt+Pt,fe=l.mallocFloat(3*ie),ce=l.mallocFloat(4*ie),ye=l.mallocFloat(2*ie),de=l.mallocUint32(ie);if(ie>0){var Te=0,Et=mt,Vt=[0,0,0,1],te=[0,0,0,1],Jt=Array.isArray(wt)&&Array.isArray(wt[0]),Ut=Array.isArray(bt)&&Array.isArray(bt[0]);t:for(var Z=0;Z<Rt;++Z){_t+=1;for(var Ht=tt[Z],Dt=0;Dt<3;++Dt){if(isNaN(Ht[Dt])||!isFinite(Ht[Dt]))continue t;dt[Dt]=Math.max(dt[Dt],Ht[Dt]),at[Dt]=Math.min(at[Dt],Ht[Dt])}var Xt=lt(gt,Z,st,this.pixelRatio),se=Xt.mesh,Yt=Xt.lines,ue=Xt.bounds,It=Xt.visible;if(!It)Vt=[1,1,1,0];else if(Array.isArray(wt)){var pt;if(Jt?Z<wt.length?pt=wt[Z]:pt=[0,0,0,0]:pt=wt,pt.length===3){for(var Dt=0;Dt<3;++Dt)Vt[Dt]=pt[Dt];Vt[3]=1}else if(pt.length===4){for(var Dt=0;Dt<4;++Dt)Vt[Dt]=pt[Dt];!this.hasAlpha&&pt[3]<1&&(this.hasAlpha=!0)}}else Vt[0]=Vt[1]=Vt[2]=0,Vt[3]=1;if(!It)te=[1,1,1,0];else if(Array.isArray(bt)){var pt;if(Ut?Z<bt.length?pt=bt[Z]:pt=[0,0,0,0]:pt=bt,pt.length===3){for(var Dt=0;Dt<3;++Dt)te[Dt]=pt[Dt];te[Dt]=1}else if(pt.length===4){for(var Dt=0;Dt<4;++Dt)te[Dt]=pt[Dt];!this.hasAlpha&&pt[3]<1&&(this.hasAlpha=!0)}}else te[0]=te[1]=te[2]=0,te[3]=1;var xt=.5;It?Array.isArray(kt)?Z<kt.length?xt=+kt[Z]:xt=12:kt?xt=+kt:this.useOrtho&&(xt=12):xt=0;var Ct=0;Array.isArray(Ot)?Z<Ot.length?Ct=+Ot[Z]:Ct=0:Ot&&(Ct=+Ot);for(var At=Math.cos(Ct),Ft=Math.sin(Ct),Ht=tt[Z],Dt=0;Dt<3;++Dt)dt[Dt]=Math.max(dt[Dt],Ht[Dt]),at[Dt]=Math.min(at[Dt],Ht[Dt]);var Wt=G,Qt=ut,Wt=0;Array.isArray(G)?Z<G.length?Wt=G[Z]:Wt=0:G&&(Wt=G);var Qt=0;Array.isArray(ut)?Z<ut.length?Qt=ut[Z]:Qt=0:ut&&(Qt=ut),Wt*=Wt>0?1-ue[0][0]:Wt<0?1+ue[1][0]:1,Qt*=Qt>0?1-ue[0][1]:Qt<0?1+ue[1][1]:1;for(var he=[Wt,Qt],ve=se.cells||[],Je=se.positions||[],Dt=0;Dt<ve.length;++Dt)for(var Ue=ve[Dt],ke=0;ke<3;++ke){for(var Le=0;Le<3;++Le)fe[3*Te+Le]=Ht[Le];for(var Le=0;Le<4;++Le)ce[4*Te+Le]=Vt[Le];de[Te]=_t;var Ge=Je[Ue[ke]];ye[2*Te]=xt*(At*Ge[0]-Ft*Ge[1]+he[0]),ye[2*Te+1]=xt*(Ft*Ge[0]+At*Ge[1]+he[1]),Te+=1}for(var ve=Yt.edges,Je=Yt.positions,Dt=0;Dt<ve.length;++Dt)for(var Ue=ve[Dt],ke=0;ke<2;++ke){for(var Le=0;Le<3;++Le)fe[3*Et+Le]=Ht[Le];for(var Le=0;Le<4;++Le)ce[4*Et+Le]=te[Le];de[Et]=_t;var Ge=Je[Ue[ke]];ye[2*Et]=xt*(At*Ge[0]-Ft*Ge[1]+he[0]),ye[2*Et+1]=xt*(Ft*Ge[0]+At*Ge[1]+he[1]),Et+=1}}}this.bounds=[at,dt],this.points=tt,this.pointCount=tt.length,this.vertexCount=mt,this.lineVertexCount=Pt,this.pointBuffer.update(fe),this.colorBuffer.update(ce),this.glyphBuffer.update(ye),this.idBuffer.update(de),l.free(fe),l.free(ce),l.free(ye),l.free(de)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ot(q){var J=q.gl,it=h.createPerspective(J),Z=h.createOrtho(J),tt=h.createProject(J),st=h.createPickPerspective(J),Q=h.createPickOrtho(J),G=h.createPickProject(J),ut=s(J),at=s(J),dt=s(J),gt=s(J),wt=n(J,[{buffer:ut,size:3,type:J.FLOAT},{buffer:at,size:4,type:J.FLOAT},{buffer:dt,size:2,type:J.FLOAT},{buffer:gt,size:4,type:J.UNSIGNED_BYTE,normalized:!0}]),kt=new S(J,it,Z,tt,ut,at,dt,gt,wt,st,Q,G);return kt.update(q),kt}},1884:function(d,v,r){var e=r(6832);v.boxVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),v.boxFragment=e([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(d,v,r){var e=r(5158),s=r(5827),n=r(1884);d.exports=h;function l(b,f,k){this.plot=b,this.boxBuffer=f,this.boxShader=k,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var o=l.prototype;o.draw=function(){if(this.enabled){var b=this.plot,f=this.selectBox,k=this.borderWidth;this.innerFill;var a=this.innerColor;this.outerFill;var c=this.outerColor,p=this.borderColor,w=b.box,S=b.screenBox,_=b.dataBox,T=b.viewBox,P=b.pixelRatio,u=(f[0]-_[0])*(T[2]-T[0])/(_[2]-_[0])+T[0],g=(f[1]-_[1])*(T[3]-T[1])/(_[3]-_[1])+T[1],L=(f[2]-_[0])*(T[2]-T[0])/(_[2]-_[0])+T[0],A=(f[3]-_[1])*(T[3]-T[1])/(_[3]-_[1])+T[1];if(u=Math.max(u,T[0]),g=Math.max(g,T[1]),L=Math.min(L,T[2]),A=Math.min(A,T[3]),!(L<u||A<g)){w.bind();var R=S[2]-S[0],O=S[3]-S[1];if(this.outerFill&&(w.drawBox(0,0,R,g,c),w.drawBox(0,g,u,A,c),w.drawBox(0,A,R,O,c),w.drawBox(L,g,R,A,c)),this.innerFill&&w.drawBox(u,g,L,A,a),k>0){var N=k*P;w.drawBox(u-N,g-N,L+N,g+N,p),w.drawBox(u-N,A-N,L+N,A+N,p),w.drawBox(u-N,g-N,u+N,A+N,p),w.drawBox(L-N,g-N,L+N,A+N,p)}}}},o.update=function(b){b=b||{},this.innerFill=!!b.innerFill,this.outerFill=!!b.outerFill,this.innerColor=(b.innerColor||[0,0,0,.5]).slice(),this.outerColor=(b.outerColor||[0,0,0,.5]).slice(),this.borderColor=(b.borderColor||[0,0,0,1]).slice(),this.borderWidth=b.borderWidth||0,this.selectBox=(b.selectBox||this.selectBox).slice()},o.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function h(b,f){var k=b.gl,a=s(k,[0,0,0,1,1,0,1,1]),c=e(k,n.boxVertex,n.boxFragment),p=new l(b,a,c);return p.update(f),b.addOverlay(p),p}},2611:function(d,v,r){d.exports=k;var e=r(4234),s=r(5306),n=r(5050),l=r(2288).nextPow2,o=function(a,c,p){for(var w=1e8,S=-1,_=-1,T=a.shape[0],P=a.shape[1],u=0;u<T;u++)for(var g=0;g<P;g++){var L=a.get(u,g,0),A=a.get(u,g,1),R=a.get(u,g,2),O=a.get(u,g,3);if(L<255||A<255||R<255||O<255){var N=c-u,z=p-g,F=N*N+z*z;F<w&&(w=F,S=u,_=g)}}return[S,_,w]};function h(a,c,p,w,S){this.coord=[a,c],this.id=p,this.value=w,this.distance=S}function b(a,c,p){this.gl=a,this.fbo=c,this.buffer=p,this._readTimeout=null;var w=this;this._readCallback=function(){w.gl&&(c.bind(),a.readPixels(0,0,c.shape[0],c.shape[1],a.RGBA,a.UNSIGNED_BYTE,w.buffer),w._readTimeout=null)}}var f=b.prototype;Object.defineProperty(f,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(a){if(this.gl){this.fbo.shape=a;var c=this.fbo.shape[0],p=this.fbo.shape[1];if(p*c*4>this.buffer.length){s.free(this.buffer);for(var w=this.buffer=s.mallocUint8(l(p*c*4)),S=0;S<p*c*4;++S)w[S]=255}return a}}}),f.begin=function(){var a=this.gl;this.shape,a&&(this.fbo.bind(),a.clearColor(1,1,1,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT))},f.end=function(){var a=this.gl;a&&(a.bindFramebuffer(a.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},f.query=function(a,c,p){if(!this.gl)return null;var w=this.fbo.shape.slice();a=a|0,c=c|0,typeof p!="number"&&(p=1);var S=Math.min(Math.max(a-p,0),w[0])|0,_=Math.min(Math.max(a+p,0),w[0])|0,T=Math.min(Math.max(c-p,0),w[1])|0,P=Math.min(Math.max(c+p,0),w[1])|0;if(_<=S||P<=T)return null;var u=[_-S,P-T],g=n(this.buffer,[u[0],u[1],4],[4,w[0]*4,1],4*(S+w[0]*T)),L=o(g.hi(u[0],u[1],1),p,p),A=L[0],R=L[1];if(A<0||Math.pow(this.radius,2)<L[2])return null;var O=g.get(A,R,0),N=g.get(A,R,1),z=g.get(A,R,2),F=g.get(A,R,3);return new h(A+S|0,R+T|0,O,[N,z,F],Math.sqrt(L[2]))},f.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function k(a,c){var p=c[0],w=c[1],S={},_=e(a,p,w,S),T=s.mallocUint8(p*w*4);return new b(a,_,T)}},5158:function(d,v,r){var e=r(9016),s=r(4280),n=r(3984),l=r(1628),o=r(2631),h=r(9068);function b(c){this.gl=c,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=b.prototype;f.bind=function(){this.program||this._relink();var c,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(p>w)for(c=w;c<p;c++)this.gl.enableVertexAttribArray(c);else if(w>p)for(c=p;c<w;c++)this.gl.disableVertexAttribArray(c);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},f.dispose=function(){for(var c=this.gl.lastAttribCount,p=0;p<c;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function k(c,p){return c.name<p.name?-1:1}f.update=function(c,p,w,S){if(!p||arguments.length===1){var _=c;c=_.vertex,p=_.fragment,w=_.uniforms,S=_.attributes}var T=this,P=T.gl,u=T._vref;T._vref=l.shader(P,P.VERTEX_SHADER,c),u&&u.dispose(),T.vertShader=T._vref.shader;var g=this._fref;if(T._fref=l.shader(P,P.FRAGMENT_SHADER,p),g&&g.dispose(),T.fragShader=T._fref.shader,!w||!S){var L=P.createProgram();if(P.attachShader(L,T.fragShader),P.attachShader(L,T.vertShader),P.linkProgram(L),!P.getProgramParameter(L,P.LINK_STATUS)){var A=P.getProgramInfoLog(L);throw new h(A,"Error linking program:"+A)}w=w||o.uniforms(P,L),S=S||o.attributes(P,L),P.deleteProgram(L)}S=S.slice(),S.sort(k);var R=[],O=[],N=[],z;for(z=0;z<S.length;++z){var F=S[z];if(F.type.indexOf("mat")>=0){for(var I=F.type.charAt(F.type.length-1)|0,j=new Array(I),V=0;V<I;++V)j[V]=N.length,O.push(F.name+"["+V+"]"),typeof F.location=="number"?N.push(F.location+V):Array.isArray(F.location)&&F.location.length===I&&typeof F.location[V]=="number"?N.push(F.location[V]|0):N.push(-1);R.push({name:F.name,type:F.type,locations:j})}else R.push({name:F.name,type:F.type,locations:[N.length]}),O.push(F.name),typeof F.location=="number"?N.push(F.location|0):N.push(-1)}var W=0;for(z=0;z<N.length;++z)if(N[z]<0){for(;N.indexOf(W)>=0;)W+=1;N[z]=W}var K=new Array(w.length);function et(){T.program=l.program(P,T._vref,T._fref,O,N);for(var lt=0;lt<w.length;++lt)K[lt]=P.getUniformLocation(T.program,w[lt].name)}et(),T._relink=et,T.types={uniforms:n(w),attributes:n(S)},T.attributes=s(P,T,R,N),Object.defineProperty(T,"uniforms",e(P,T,w,K))};function a(c,p,w,S,_){var T=new b(c);return T.update(p,w,S,_),T}d.exports=a},9068:function(d){function v(r,e,s){this.shortMessage=e||"",this.longMessage=s||"",this.rawError=r||"",this.message="gl-shader: "+(e||r||"")+(s?`
`+s:""),this.stack=new Error().stack}v.prototype=new Error,v.prototype.name="GLError",v.prototype.constructor=v,d.exports=v},4280:function(d,v,r){d.exports=b;var e=r(9068);function s(f,k,a,c,p,w){this._gl=f,this._wrapper=k,this._index=a,this._locations=c,this._dimension=p,this._constFunc=w}var n=s.prototype;n.pointer=function(f,k,a,c){var p=this,w=p._gl,S=p._locations[p._index];w.vertexAttribPointer(S,p._dimension,f||w.FLOAT,!!k,a||0,c||0),w.enableVertexAttribArray(S)},n.set=function(f,k,a,c){return this._constFunc(this._locations[this._index],f,k,a,c)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(f){return f!==this._locations[this._index]&&(this._locations[this._index]=f|0,this._wrapper.program=null),f|0}});var l=[function(f,k,a){return a.length===void 0?f.vertexAttrib1f(k,a):f.vertexAttrib1fv(k,a)},function(f,k,a,c){return a.length===void 0?f.vertexAttrib2f(k,a,c):f.vertexAttrib2fv(k,a)},function(f,k,a,c,p){return a.length===void 0?f.vertexAttrib3f(k,a,c,p):f.vertexAttrib3fv(k,a)},function(f,k,a,c,p,w){return a.length===void 0?f.vertexAttrib4f(k,a,c,p,w):f.vertexAttrib4fv(k,a)}];function o(f,k,a,c,p,w,S){var _=l[p],T=new s(f,k,a,c,p,_);Object.defineProperty(w,S,{set:function(P){return f.disableVertexAttribArray(c[a]),_(f,c[a],P),P},get:function(){return T},enumerable:!0})}function h(f,k,a,c,p,w,S){for(var _=new Array(p),T=new Array(p),P=0;P<p;++P)o(f,k,a[P],c,p,_,P),T[P]=_[P];Object.defineProperty(_,"location",{set:function(L){if(Array.isArray(L))for(var A=0;A<p;++A)T[A].location=L[A];else for(var A=0;A<p;++A)T[A].location=L+A;return L},get:function(){for(var L=new Array(p),A=0;A<p;++A)L[A]=c[a[A]];return L},enumerable:!0}),_.pointer=function(L,A,R,O){L=L||f.FLOAT,A=!!A,R=R||p*p,O=O||0;for(var N=0;N<p;++N){var z=c[a[N]];f.vertexAttribPointer(z,p,L,A,R,O+N*p),f.enableVertexAttribArray(z)}};var u=new Array(p),g=f["vertexAttrib"+p+"fv"];Object.defineProperty(w,S,{set:function(L){for(var A=0;A<p;++A){var R=c[a[A]];if(f.disableVertexAttribArray(R),Array.isArray(L[0]))g.call(f,R,L[A]);else{for(var O=0;O<p;++O)u[O]=L[p*A+O];g.call(f,R,u)}}return L},get:function(){return _},enumerable:!0})}function b(f,k,a,c){for(var p={},w=0,S=a.length;w<S;++w){var _=a[w],T=_.name,P=_.type,u=_.locations;switch(P){case"bool":case"int":case"float":o(f,k,u[0],c,1,p,T);break;default:if(P.indexOf("vec")>=0){var g=P.charCodeAt(P.length-1)-48;if(g<2||g>4)throw new e("","Invalid data type for attribute "+T+": "+P);o(f,k,u[0],c,g,p,T)}else if(P.indexOf("mat")>=0){var g=P.charCodeAt(P.length-1)-48;if(g<2||g>4)throw new e("","Invalid data type for attribute "+T+": "+P);h(f,k,u,c,g,p,T)}else throw new e("","Unknown data type for attribute "+T+": "+P);break}}return p}},9016:function(d,v,r){var e=r(3984),s=r(9068);d.exports=o;function n(h){return function(){return h}}function l(h,b){for(var f=new Array(h),k=0;k<h;++k)f[k]=b;return f}function o(h,b,f,k){function a(P){return function(u,g,L){return u.getUniform(g.program,L[P])}}function c(P){return function(u){for(var g=p("",P),L=0;L<g.length;++L){var A=g[L],R=A[0],O=A[1];if(k[O]){var N=u;if(typeof R=="string"&&(R.indexOf(".")===0||R.indexOf("[")===0)){var z=R;if(R.indexOf(".")===0&&(z=R.slice(1)),z.indexOf("]")===z.length-1){var F=z.indexOf("["),I=z.slice(0,F),j=z.slice(F+1,z.length-1);N=I?u[I][j]:u[j]}else N=u[z]}var V=f[O].type,W;switch(V){case"bool":case"int":case"sampler2D":case"samplerCube":h.uniform1i(k[O],N);break;case"float":h.uniform1f(k[O],N);break;default:var K=V.indexOf("vec");if(0<=K&&K<=1&&V.length===4+K){if(W=V.charCodeAt(V.length-1)-48,W<2||W>4)throw new s("","Invalid data type");switch(V.charAt(0)){case"b":case"i":h["uniform"+W+"iv"](k[O],N);break;case"v":h["uniform"+W+"fv"](k[O],N);break;default:throw new s("","Unrecognized data type for vector "+name+": "+V)}}else if(V.indexOf("mat")===0&&V.length===4){if(W=V.charCodeAt(V.length-1)-48,W<2||W>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+V);h["uniformMatrix"+W+"fv"](k[O],!1,N);break}else throw new s("","Unknown uniform data type for "+name+": "+V)}}}}}function p(P,u){if(typeof u!="object")return[[P,u]];var g=[];for(var L in u){var A=u[L],R=P;parseInt(L)+""===L?R+="["+L+"]":R+="."+L,typeof A=="object"?g.push.apply(g,p(R,A)):g.push([R,A])}return g}function w(P){switch(P){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var u=P.indexOf("vec");if(0<=u&&u<=1&&P.length===4+u){var g=P.charCodeAt(P.length-1)-48;if(g<2||g>4)throw new s("","Invalid data type");return P.charAt(0)==="b"?l(g,!1):l(g,0)}else if(P.indexOf("mat")===0&&P.length===4){var g=P.charCodeAt(P.length-1)-48;if(g<2||g>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+P);return l(g*g,0)}else throw new s("","Unknown uniform data type for "+name+": "+P)}}function S(P,u,g){if(typeof g=="object"){var L=_(g);Object.defineProperty(P,u,{get:n(L),set:c(g),enumerable:!0,configurable:!1})}else k[g]?Object.defineProperty(P,u,{get:a(g),set:c(g),enumerable:!0,configurable:!1}):P[u]=w(f[g].type)}function _(P){var u;if(Array.isArray(P)){u=new Array(P.length);for(var g=0;g<P.length;++g)S(u,g,P[g])}else{u={};for(var L in P)S(u,L,P[L])}return u}var T=e(f,!0);return{get:n(_(T)),set:c(T),enumerable:!0,configurable:!0}}},3984:function(d){d.exports=v;function v(r,e){for(var s={},n=0;n<r.length;++n)for(var l=r[n].name,o=l.split("."),h=s,b=0;b<o.length;++b){var f=o[b].split("[");if(f.length>1){f[0]in h||(h[f[0]]=[]),h=h[f[0]];for(var k=1;k<f.length;++k){var a=parseInt(f[k]);k<f.length-1||b<o.length-1?(a in h||(k<f.length-1?h[a]=[]:h[a]={}),h=h[a]):e?h[a]=n:h[a]=r[n].type}}else b<o.length-1?(f[0]in h||(h[f[0]]={}),h=h[f[0]]):e?h[f[0]]=n:h[f[0]]=r[n].type}return s}},2631:function(d,v){v.uniforms=n,v.attributes=l;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},e=null;function s(o,h){if(!e){var b=Object.keys(r);e={};for(var f=0;f<b.length;++f){var k=b[f];e[o[k]]=r[k]}}return e[h]}function n(o,h){for(var b=o.getProgramParameter(h,o.ACTIVE_UNIFORMS),f=[],k=0;k<b;++k){var a=o.getActiveUniform(h,k);if(a){var c=s(o,a.type);if(a.size>1)for(var p=0;p<a.size;++p)f.push({name:a.name.replace("[0]","["+p+"]"),type:c});else f.push({name:a.name,type:c})}}return f}function l(o,h){for(var b=o.getProgramParameter(h,o.ACTIVE_ATTRIBUTES),f=[],k=0;k<b;++k){var a=o.getActiveAttrib(h,k);a&&f.push({name:a.name,type:s(o,a.type)})}return f}},1628:function(d,v,r){v.shader=p,v.program=w;var e=r(9068),s=r(3530),n=typeof WeakMap>"u"?r(4037):WeakMap,l=new n,o=0;function h(S,_,T,P,u,g,L){this.id=S,this.src=_,this.type=T,this.shader=P,this.count=g,this.programs=[],this.cache=L}h.prototype.dispose=function(){if(--this.count===0){for(var S=this.cache,_=S.gl,T=this.programs,P=0,u=T.length;P<u;++P){var g=S.programs[T[P]];g&&(delete S.programs[P],_.deleteProgram(g))}_.deleteShader(this.shader),delete S.shaders[this.type===_.FRAGMENT_SHADER|0][this.src]}};function b(S){this.gl=S,this.shaders=[{},{}],this.programs={}}var f=b.prototype;function k(S,_,T){var P=S.createShader(_);if(S.shaderSource(P,T),S.compileShader(P),!S.getShaderParameter(P,S.COMPILE_STATUS)){var u=S.getShaderInfoLog(P);try{var g=s(u,T,_)}catch(L){throw console.warn("Failed to format compiler error: "+L),new e(u,`Error compiling shader:
`+u)}throw new e(u,g.short,g.long)}return P}f.getShaderReference=function(S,_){var T=this.gl,P=this.shaders[S===T.FRAGMENT_SHADER|0],u=P[_];if(!u||!T.isShader(u.shader)){var g=k(T,S,_);u=P[_]=new h(o++,_,S,g,[],1,this)}else u.count+=1;return u};function a(S,_,T,P,u){var g=S.createProgram();S.attachShader(g,_),S.attachShader(g,T);for(var L=0;L<P.length;++L)S.bindAttribLocation(g,u[L],P[L]);if(S.linkProgram(g),!S.getProgramParameter(g,S.LINK_STATUS)){var A=S.getProgramInfoLog(g);throw new e(A,"Error linking program: "+A)}return g}f.getProgram=function(S,_,T,P){var u=[S.id,_.id,T.join(":"),P.join(":")].join("@"),g=this.programs[u];return(!g||!this.gl.isProgram(g))&&(this.programs[u]=g=a(this.gl,S.shader,_.shader,T,P),S.programs.push(u),_.programs.push(u)),g};function c(S){var _=l.get(S);return _||(_=new b(S),l.set(S,_)),_}function p(S,_,T){return c(S).getShaderReference(_,T)}function w(S,_,T,P,u){return c(S).getProgram(_,T,P,u)}},3050:function(d){d.exports=e;function v(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=v.prototype;r.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var s=this.enable,n=this.width,l=this.color,o=this.center,h=this.plot,b=h.line,f=h.dataBox,k=h.viewBox;if(b.bind(),f[0]<=o[0]&&o[0]<=f[2]&&f[1]<=o[1]&&o[1]<=f[3]){var a=k[0]+(o[0]-f[0])/(f[2]-f[0])*(k[2]-k[0]),c=k[1]+(o[1]-f[1])/(f[3]-f[1])*(k[3]-k[1]);s[0]&&b.drawLine(a,c,k[0],c,n[0],l[0]),s[1]&&b.drawLine(a,c,a,k[1],n[1],l[1]),s[2]&&b.drawLine(a,c,k[2],c,n[2],l[2]),s[3]&&b.drawLine(a,c,a,k[3],n[3],l[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function e(s,n){var l=new v(s);return l.update(n),s.addOverlay(l),l}},3540:function(d,v,r){var e=r(6832),s=r(5158),n=e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);d.exports=function(o){return s(o,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(d,v,r){var e=r(5827),s=r(2944),n=r(3540);d.exports=a;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(c,p,w,S){this.gl=c,this.buffer=p,this.vao=w,this.shader=S,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var h=o.prototype,b=[0,0,0],f=[0,0,0],k=[0,0];h.isTransparent=function(){return!1},h.drawTransparent=function(c){},h.draw=function(c){var p=this.gl,w=this.vao,S=this.shader;w.bind(),S.bind();var _=c.model||l,T=c.view||l,P=c.projection||l,u;this.axes&&(u=this.axes.lastCubeProps.axis);for(var g=b,L=f,A=0;A<3;++A)u&&u[A]<0?(g[A]=this.bounds[0][A],L[A]=this.bounds[1][A]):(g[A]=this.bounds[1][A],L[A]=this.bounds[0][A]);k[0]=p.drawingBufferWidth,k[1]=p.drawingBufferHeight,S.uniforms.model=_,S.uniforms.view=T,S.uniforms.projection=P,S.uniforms.coordinates=[this.position,g,L],S.uniforms.colors=this.colors,S.uniforms.screenShape=k;for(var A=0;A<3;++A)S.uniforms.lineWidth=this.lineWidth[A]*this.pixelRatio,this.enabled[A]&&(w.draw(p.TRIANGLES,6,6*A),this.drawSides[A]&&w.draw(p.TRIANGLES,12,18+12*A));w.unbind()},h.update=function(c){c&&("bounds"in c&&(this.bounds=c.bounds),"position"in c&&(this.position=c.position),"lineWidth"in c&&(this.lineWidth=c.lineWidth),"colors"in c&&(this.colors=c.colors),"enabled"in c&&(this.enabled=c.enabled),"drawSides"in c&&(this.drawSides=c.drawSides))},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function a(c,p){var w=[];function S(g,L,A,R,O,N){var z=[g,L,A,0,0,0,1];z[R+3]=1,z[R]=O,w.push.apply(w,z),z[6]=-1,w.push.apply(w,z),z[R]=N,w.push.apply(w,z),w.push.apply(w,z),z[6]=1,w.push.apply(w,z),z[R]=O,w.push.apply(w,z)}S(0,0,0,0,0,1),S(0,0,0,1,0,1),S(0,0,0,2,0,1),S(1,0,0,1,-1,1),S(1,0,0,2,-1,1),S(0,1,0,0,-1,1),S(0,1,0,2,-1,1),S(0,0,1,0,-1,1),S(0,0,1,1,-1,1);var _=e(c,w),T=s(c,[{type:c.FLOAT,buffer:_,size:3,offset:0,stride:28},{type:c.FLOAT,buffer:_,size:3,offset:12,stride:28},{type:c.FLOAT,buffer:_,size:1,offset:24,stride:28}]),P=n(c);P.attributes.position.location=0,P.attributes.color.location=1,P.attributes.weight.location=2;var u=new o(c,_,T,P);return u.update(p),u}},9578:function(d,v,r){var e=r(6832),s=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);v.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},v.pickShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(d,v,r){var e=r(2858),s=r(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(w,S,_,T){for(var P=w.points,u=w.velocities,g=w.divergences,L=[],A=[],R=[],O=[],N=[],z=[],F=0,I=0,j=s.create(),V=s.create(),W=8,K=0;K<P.length;K++){var et=P[K],lt=u[K],ot=g[K];S===0&&(ot=_*.05),I=e.length(lt)/T,j=s.create(),e.copy(j,lt),j[3]=ot;for(var q=0;q<W;q++)N[q]=[et[0],et[1],et[2],q];if(O.length>0)for(var q=0;q<W;q++){var J=(q+1)%W;L.push(O[q],N[q],N[J],N[J],O[J],O[q]),R.push(V,j,j,j,V,V),z.push(F,I,I,I,F,F);var it=L.length;A.push([it-6,it-5,it-4],[it-3,it-2,it-1])}var Z=O;O=N,N=Z;var tt=V;V=j,j=tt;var st=F;F=I,I=st}return{positions:L,cells:A,vectors:R,vertexIntensity:z}},o=function(w,S,_,T){for(var P=0,u=0;u<w.length;u++)for(var g=w[u].velocities,L=0;L<g.length;L++)P=Math.max(P,e.length(g[L]));for(var A=w.map(function(et){return l(et,_,T,P)}),R=[],O=[],N=[],z=[],u=0;u<A.length;u++){var F=A[u],I=R.length;R=R.concat(F.positions),N=N.concat(F.vectors),z=z.concat(F.vertexIntensity);for(var L=0;L<F.cells.length;L++){var j=F.cells[L],V=[];O.push(V);for(var W=0;W<j.length;W++)V.push(j[W]+I)}}return{positions:R,cells:O,vectors:N,vertexIntensity:z,colormap:S}},h=function(w,S){var _=w.length,T;for(T=0;T<_;T++){var P=w[T];if(P===S)return T;if(P>S)return T-1}return T},b=function(w,S,_){return w<S?S:w>_?_:w},f=function(w,S,_){var T=S.vectors,P=S.meshgrid,u=w[0],g=w[1],L=w[2],A=P[0].length,R=P[1].length,O=P[2].length,N=h(P[0],u),z=h(P[1],g),F=h(P[2],L),I=N+1,j=z+1,V=F+1;if(N=b(N,0,A-1),I=b(I,0,A-1),z=b(z,0,R-1),j=b(j,0,R-1),F=b(F,0,O-1),V=b(V,0,O-1),N<0||z<0||F<0||I>A-1||j>R-1||V>O-1)return e.create();var W=P[0][N],K=P[0][I],et=P[1][z],lt=P[1][j],ot=P[2][F],q=P[2][V],J=(u-W)/(K-W),it=(g-et)/(lt-et),Z=(L-ot)/(q-ot);isFinite(J)||(J=.5),isFinite(it)||(it=.5),isFinite(Z)||(Z=.5);var tt,st,Q,G,ut,at;switch(_.reversedX&&(N=A-1-N,I=A-1-I),_.reversedY&&(z=R-1-z,j=R-1-j),_.reversedZ&&(F=O-1-F,V=O-1-V),_.filled){case 5:ut=F,at=V,Q=z*O,G=j*O,tt=N*O*R,st=I*O*R;break;case 4:ut=F,at=V,tt=N*O,st=I*O,Q=z*O*A,G=j*O*A;break;case 3:Q=z,G=j,ut=F*R,at=V*R,tt=N*R*O,st=I*R*O;break;case 2:Q=z,G=j,tt=N*R,st=I*R,ut=F*R*A,at=V*R*A;break;case 1:tt=N,st=I,ut=F*A,at=V*A,Q=z*A*O,G=j*A*O;break;default:tt=N,st=I,Q=z*A,G=j*A,ut=F*A*R,at=V*A*R;break}var dt=T[tt+Q+ut],gt=T[tt+Q+at],wt=T[tt+G+ut],kt=T[tt+G+at],Ot=T[st+Q+ut],bt=T[st+Q+at],_t=T[st+G+ut],mt=T[st+G+at],Pt=e.create(),Rt=e.create(),Ht=e.create(),Dt=e.create();e.lerp(Pt,dt,Ot,J),e.lerp(Rt,gt,bt,J),e.lerp(Ht,wt,_t,J),e.lerp(Dt,kt,mt,J);var Xt=e.create(),se=e.create();e.lerp(Xt,Pt,Ht,it),e.lerp(se,Rt,Dt,it);var Yt=e.create();return e.lerp(Yt,Xt,se,Z),Yt},k=function(w){var S=1/0;w.sort(function(u,g){return u-g});for(var _=w.length,T=1;T<_;T++){var P=Math.abs(w[T]-w[T-1]);P<S&&(S=P)}return S},a=function(w){for(var S=[],_=[],T=[],P={},u={},g={},L=w.length,A=0;A<L;A++){var R=w[A],O=R[0],N=R[1],z=R[2];P[O]||(S.push(O),P[O]=!0),u[N]||(_.push(N),u[N]=!0),g[z]||(T.push(z),g[z]=!0)}var F=k(S),I=k(_),j=k(T),V=Math.min(F,I,j);return isFinite(V)?V:1};d.exports=function(w,S){var _=w.startingPositions,T=w.maxLength||1e3,P=w.tubeSize||1,u=w.absoluteTubeSize,g=w.gridFill||"+x+y+z",L={};g.indexOf("-x")!==-1&&(L.reversedX=!0),g.indexOf("-y")!==-1&&(L.reversedY=!0),g.indexOf("-z")!==-1&&(L.reversedZ=!0),L.filled=n.indexOf(g.replace(/-/g,"").replace(/\+/g,""));var A=w.getVelocity||function(bt){return f(bt,w,L)},R=w.getDivergence||function(bt,_t){var mt=e.create(),Pt=1e-4;e.add(mt,bt,[Pt,0,0]);var Rt=A(mt);e.subtract(Rt,Rt,_t),e.scale(Rt,Rt,1/Pt),e.add(mt,bt,[0,Pt,0]);var Ht=A(mt);e.subtract(Ht,Ht,_t),e.scale(Ht,Ht,1/Pt),e.add(mt,bt,[0,0,Pt]);var Dt=A(mt);return e.subtract(Dt,Dt,_t),e.scale(Dt,Dt,1/Pt),e.add(mt,Rt,Ht),e.add(mt,mt,Dt),mt},O=[],N=S[0][0],z=S[0][1],F=S[0][2],I=S[1][0],j=S[1][1],V=S[1][2],W=function(bt){var _t=bt[0],mt=bt[1],Pt=bt[2];return!(_t<N||_t>I||mt<z||mt>j||Pt<F||Pt>V)},K=e.distance(S[0],S[1]),et=10*K/T,lt=et*et,ot=1,q=0,J=_.length;J>1&&(ot=a(_));for(var it=0;it<J;it++){var Z=e.create();e.copy(Z,_[it]);var tt=[Z],st=[],Q=A(Z),G=Z;st.push(Q);var ut=[],at=R(Z,Q),dt=e.length(at);isFinite(dt)&&dt>q&&(q=dt),ut.push(dt),O.push({points:tt,velocities:st,divergences:ut});for(var gt=0;gt<T*100&&tt.length<T&&W(Z);){gt++;var wt=e.clone(Q),kt=e.squaredLength(wt);if(kt===0)break;if(kt>lt&&e.scale(wt,wt,et/Math.sqrt(kt)),e.add(wt,wt,Z),Q=A(wt),e.squaredDistance(G,wt)-lt>-1e-4*lt){tt.push(wt),G=wt,st.push(Q);var at=R(wt,Q),dt=e.length(at);isFinite(dt)&&dt>q&&(q=dt),ut.push(dt)}Z=wt}}var Ot=o(O,w.colormap,q,ot);return u?Ot.tubeScale=u:(q===0&&(q=1),Ot.tubeScale=P*.5*ot/q),Ot};var c=r(9578),p=r(1140).createMesh;d.exports.createTubeMesh=function(w,S){return p(w,S,{shaders:c,traceType:"streamtube"})}},9054:function(d,v,r){var e=r(5158),s=r(6832),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),o=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),h=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);v.createShader=function(b){var f=e(b,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},v.createPickShader=function(b){var f=e(b,n,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},v.createContourShader=function(b){var f=e(b,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f},v.createPickContourShader=function(b){var f=e(b,o,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f}},3754:function(d,v,r){d.exports=st;var e=r(2288),s=r(5827),n=r(2944),l=r(8931),o=r(5306),h=r(9156),b=r(7498),f=r(7382),k=r(5050),a=r(4162),c=r(104),p=r(7437),w=r(5070),S=r(9144),_=r(9054),T=_.createShader,P=_.createContourShader,u=_.createPickShader,g=_.createPickContourShader,L=4*10,A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],O=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Q=0;Q<3;++Q){var G=O[Q],ut=(Q+1)%3,at=(Q+2)%3;G[ut+0]=1,G[at+3]=1,G[Q+6]=1}})();function N(Q,G,ut,at,dt){this.position=Q,this.index=G,this.uv=ut,this.level=at,this.dataCoordinate=dt}var z=256;function F(Q,G,ut,at,dt,gt,wt,kt,Ot,bt,_t,mt,Pt,Rt,Ht){this.gl=Q,this.shape=G,this.bounds=ut,this.objectOffset=Ht,this.intensityBounds=[],this._shader=at,this._pickShader=dt,this._coordinateBuffer=gt,this._vao=wt,this._colorMap=kt,this._contourShader=Ot,this._contourPickShader=bt,this._contourBuffer=_t,this._contourVAO=mt,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Pt,this._dynamicVAO=Rt,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[k(o.mallocFloat(1024),[0,0]),k(o.mallocFloat(1024),[0,0]),k(o.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var I=F.prototype;I.genColormap=function(Q,G){var ut=!1,at=f([h({colormap:Q,nshades:z,format:"rgba"}).map(function(dt,gt){var wt=G?j(gt/255,G):dt[3];return wt<1&&(ut=!0),[dt[0],dt[1],dt[2],255*wt]})]);return b.divseq(at,255),this.hasAlphaScale=ut,at},I.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},I.isOpaque=function(){return!this.isTransparent()},I.pickSlots=1,I.setPickBase=function(Q){this.pickId=Q};function j(Q,G){if(!G||!G.length)return 1;for(var ut=0;ut<G.length;++ut){if(G.length<2)return 1;if(G[ut][0]===Q)return G[ut][1];if(G[ut][0]>Q&&ut>0){var at=(G[ut][0]-Q)/(G[ut][0]-G[ut-1][0]);return G[ut][1]*(1-at)+at*G[ut-1][1]}}return 1}var V=[0,0,0],W={showSurface:!1,showContour:!1,projections:[A.slice(),A.slice(),A.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function K(Q,G){var ut,at,dt,gt=G.axes&&G.axes.lastCubeProps.axis||V,wt=G.showSurface,kt=G.showContour;for(ut=0;ut<3;++ut)for(wt=wt||G.surfaceProject[ut],at=0;at<3;++at)kt=kt||G.contourProject[ut][at];for(ut=0;ut<3;++ut){var Ot=W.projections[ut];for(at=0;at<16;++at)Ot[at]=0;for(at=0;at<4;++at)Ot[5*at]=1;Ot[5*ut]=0,Ot[12+ut]=G.axesBounds[+(gt[ut]>0)][ut],c(Ot,Q.model,Ot);var bt=W.clipBounds[ut];for(dt=0;dt<2;++dt)for(at=0;at<3;++at)bt[dt][at]=Q.clipBounds[dt][at];bt[0][ut]=-1e8,bt[1][ut]=1e8}return W.showSurface=wt,W.showContour=kt,W}var et={model:A,view:A,projection:A,inverseModel:A.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},lt=A.slice(),ot=[1,0,0,0,1,0,0,0,1];function q(Q,G){Q=Q||{};var ut=this.gl;ut.disable(ut.CULL_FACE),this._colorMap.bind(0);var at=et;at.model=Q.model||A,at.view=Q.view||A,at.projection=Q.projection||A,at.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],at.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],at.objectOffset=this.objectOffset,at.contourColor=this.contourColor[0],at.inverseModel=p(at.inverseModel,at.model);for(var dt=0;dt<2;++dt)for(var gt=at.clipBounds[dt],wt=0;wt<3;++wt)gt[wt]=Math.min(Math.max(this.clipBounds[dt][wt],-1e8),1e8);at.kambient=this.ambientLight,at.kdiffuse=this.diffuseLight,at.kspecular=this.specularLight,at.roughness=this.roughness,at.fresnel=this.fresnel,at.opacity=this.opacity,at.height=0,at.permutation=ot,at.vertexColor=this.vertexColor;var kt=lt;for(c(kt,at.view,at.model),c(kt,at.projection,kt),p(kt,kt),dt=0;dt<3;++dt)at.eyePosition[dt]=kt[12+dt]/kt[15];var Ot=kt[15];for(dt=0;dt<3;++dt)Ot+=this.lightPosition[dt]*kt[4*dt+3];for(dt=0;dt<3;++dt){var bt=kt[12+dt];for(wt=0;wt<3;++wt)bt+=kt[4*wt+dt]*this.lightPosition[wt];at.lightPosition[dt]=bt/Ot}var _t=K(at,this);if(_t.showSurface){for(this._shader.bind(),this._shader.uniforms=at,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ut.TRIANGLES,this._vertexCount),dt=0;dt<3;++dt)!this.surfaceProject[dt]||!this.vertexCount||(this._shader.uniforms.model=_t.projections[dt],this._shader.uniforms.clipBounds=_t.clipBounds[dt],this._vao.draw(ut.TRIANGLES,this._vertexCount));this._vao.unbind()}if(_t.showContour){var mt=this._contourShader;at.kambient=1,at.kdiffuse=0,at.kspecular=0,at.opacity=1,mt.bind(),mt.uniforms=at;var Pt=this._contourVAO;for(Pt.bind(),dt=0;dt<3;++dt)for(mt.uniforms.permutation=O[dt],ut.lineWidth(this.contourWidth[dt]*this.pixelRatio),wt=0;wt<this.contourLevels[dt].length;++wt)wt===this.highlightLevel[dt]?(mt.uniforms.contourColor=this.highlightColor[dt],mt.uniforms.contourTint=this.highlightTint[dt]):(wt===0||wt-1===this.highlightLevel[dt])&&(mt.uniforms.contourColor=this.contourColor[dt],mt.uniforms.contourTint=this.contourTint[dt]),this._contourCounts[dt][wt]&&(mt.uniforms.height=this.contourLevels[dt][wt],Pt.draw(ut.LINES,this._contourCounts[dt][wt],this._contourOffsets[dt][wt]));for(dt=0;dt<3;++dt)for(mt.uniforms.model=_t.projections[dt],mt.uniforms.clipBounds=_t.clipBounds[dt],wt=0;wt<3;++wt)if(this.contourProject[dt][wt]){mt.uniforms.permutation=O[wt],ut.lineWidth(this.contourWidth[wt]*this.pixelRatio);for(var Rt=0;Rt<this.contourLevels[wt].length;++Rt)Rt===this.highlightLevel[wt]?(mt.uniforms.contourColor=this.highlightColor[wt],mt.uniforms.contourTint=this.highlightTint[wt]):(Rt===0||Rt-1===this.highlightLevel[wt])&&(mt.uniforms.contourColor=this.contourColor[wt],mt.uniforms.contourTint=this.contourTint[wt]),this._contourCounts[wt][Rt]&&(mt.uniforms.height=this.contourLevels[wt][Rt],Pt.draw(ut.LINES,this._contourCounts[wt][Rt],this._contourOffsets[wt][Rt]))}for(Pt.unbind(),Pt=this._dynamicVAO,Pt.bind(),dt=0;dt<3;++dt)if(this._dynamicCounts[dt]!==0)for(mt.uniforms.model=at.model,mt.uniforms.clipBounds=at.clipBounds,mt.uniforms.permutation=O[dt],ut.lineWidth(this.dynamicWidth[dt]*this.pixelRatio),mt.uniforms.contourColor=this.dynamicColor[dt],mt.uniforms.contourTint=this.dynamicTint[dt],mt.uniforms.height=this.dynamicLevel[dt],Pt.draw(ut.LINES,this._dynamicCounts[dt],this._dynamicOffsets[dt]),wt=0;wt<3;++wt)this.contourProject[wt][dt]&&(mt.uniforms.model=_t.projections[wt],mt.uniforms.clipBounds=_t.clipBounds[wt],Pt.draw(ut.LINES,this._dynamicCounts[dt],this._dynamicOffsets[dt]));Pt.unbind()}}I.draw=function(Q){return q.call(this,Q,!1)},I.drawTransparent=function(Q){return q.call(this,Q,!0)};var J={model:A,view:A,projection:A,inverseModel:A,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};I.drawPick=function(Q){Q=Q||{};var G=this.gl;G.disable(G.CULL_FACE);var ut=J;ut.model=Q.model||A,ut.view=Q.view||A,ut.projection=Q.projection||A,ut.shape=this._field[2].shape,ut.pickId=this.pickId/255,ut.lowerBound=this.bounds[0],ut.upperBound=this.bounds[1],ut.objectOffset=this.objectOffset,ut.permutation=ot;for(var at=0;at<2;++at)for(var dt=ut.clipBounds[at],gt=0;gt<3;++gt)dt[gt]=Math.min(Math.max(this.clipBounds[at][gt],-1e8),1e8);var wt=K(ut,this);if(wt.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ut,this._vao.bind(),this._vao.draw(G.TRIANGLES,this._vertexCount),at=0;at<3;++at)this.surfaceProject[at]&&(this._pickShader.uniforms.model=wt.projections[at],this._pickShader.uniforms.clipBounds=wt.clipBounds[at],this._vao.draw(G.TRIANGLES,this._vertexCount));this._vao.unbind()}if(wt.showContour){var kt=this._contourPickShader;kt.bind(),kt.uniforms=ut;var Ot=this._contourVAO;for(Ot.bind(),gt=0;gt<3;++gt)for(G.lineWidth(this.contourWidth[gt]*this.pixelRatio),kt.uniforms.permutation=O[gt],at=0;at<this.contourLevels[gt].length;++at)this._contourCounts[gt][at]&&(kt.uniforms.height=this.contourLevels[gt][at],Ot.draw(G.LINES,this._contourCounts[gt][at],this._contourOffsets[gt][at]));for(at=0;at<3;++at)for(kt.uniforms.model=wt.projections[at],kt.uniforms.clipBounds=wt.clipBounds[at],gt=0;gt<3;++gt)if(this.contourProject[at][gt]){kt.uniforms.permutation=O[gt],G.lineWidth(this.contourWidth[gt]*this.pixelRatio);for(var bt=0;bt<this.contourLevels[gt].length;++bt)this._contourCounts[gt][bt]&&(kt.uniforms.height=this.contourLevels[gt][bt],Ot.draw(G.LINES,this._contourCounts[gt][bt],this._contourOffsets[gt][bt]))}Ot.unbind()}},I.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var G=this._field[2].shape,ut=this._pickResult,at=G[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,dt=Math.floor(at),gt=at-dt,wt=G[1]*(Q.value[1]+(Q.value[2]&15)/16)/255,kt=Math.floor(wt),Ot=wt-kt;dt+=1,kt+=1;var bt=ut.position;bt[0]=bt[1]=bt[2]=0;for(var _t=0;_t<2;++_t)for(var mt=_t?gt:1-gt,Pt=0;Pt<2;++Pt)for(var Rt=Pt?Ot:1-Ot,Ht=dt+_t,Dt=kt+Pt,Xt=mt*Rt,se=0;se<3;++se)bt[se]+=this._field[se].get(Ht,Dt)*Xt;for(var Yt=this._pickResult.level,ue=0;ue<3;++ue)if(Yt[ue]=w.le(this.contourLevels[ue],bt[ue]),Yt[ue]<0)this.contourLevels[ue].length>0&&(Yt[ue]=0);else if(Yt[ue]<this.contourLevels[ue].length-1){var ie=this.contourLevels[ue][Yt[ue]],fe=this.contourLevels[ue][Yt[ue]+1];Math.abs(ie-bt[ue])>Math.abs(fe-bt[ue])&&(Yt[ue]+=1)}for(ut.index[0]=gt<.5?dt:dt+1,ut.index[1]=Ot<.5?kt:kt+1,ut.uv[0]=at/G[0],ut.uv[1]=wt/G[1],se=0;se<3;++se)ut.dataCoordinate[se]=this._field[se].get(ut.index[0],ut.index[1]);return ut},I.padField=function(Q,G){var ut=G.shape.slice(),at=Q.shape.slice();b.assign(Q.lo(1,1).hi(ut[0],ut[1]),G),b.assign(Q.lo(1).hi(ut[0],1),G.hi(ut[0],1)),b.assign(Q.lo(1,at[1]-1).hi(ut[0],1),G.lo(0,ut[1]-1).hi(ut[0],1)),b.assign(Q.lo(0,1).hi(1,ut[1]),G.hi(1)),b.assign(Q.lo(at[0]-1,1).hi(1,ut[1]),G.lo(ut[0]-1)),Q.set(0,0,G.get(0,0)),Q.set(0,at[1]-1,G.get(0,ut[1]-1)),Q.set(at[0]-1,0,G.get(ut[0]-1,0)),Q.set(at[0]-1,at[1]-1,G.get(ut[0]-1,ut[1]-1))};function it(Q,G){return Array.isArray(Q)?[G(Q[0]),G(Q[1]),G(Q[2])]:[G(Q),G(Q),G(Q)]}function Z(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function tt(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[Z(Q[0]),Z(Q[1]),Z(Q[2])];var G=Z(Q);return[G.slice(),G.slice(),G.slice()]}}I.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=it(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=it(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=it(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=tt(Q.contourColor)),"contourProject"in Q&&(this.contourProject=it(Q.contourProject,function(Ie){return it(Ie,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=tt(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=it(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=it(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var G=Q.field||Q.coords&&Q.coords[2]||null,ut=!1;if(G||(this._field[2].shape[0]||this._field[2].shape[2]?G=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):G=this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var at=(G.shape[0]+2)*(G.shape[1]+2);at>this._field[2].data.length&&(o.freeFloat(this._field[2].data),this._field[2].data=o.mallocFloat(e.nextPow2(at))),this._field[2]=k(this._field[2].data,[G.shape[0]+2,G.shape[1]+2]),this.padField(this._field[2],G),this.shape=G.shape.slice();for(var dt=this.shape,gt=0;gt<2;++gt)this._field[2].size>this._field[gt].data.length&&(o.freeFloat(this._field[gt].data),this._field[gt].data=o.mallocFloat(this._field[2].size)),this._field[gt]=k(this._field[gt].data,[dt[0]+2,dt[1]+2]);if(Q.coords){var wt=Q.coords;if(!Array.isArray(wt)||wt.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(gt=0;gt<2;++gt){var kt=wt[gt];for(Pt=0;Pt<2;++Pt)if(kt.shape[Pt]!==dt[Pt])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[gt],kt)}}else if(Q.ticks){var Ot=Q.ticks;if(!Array.isArray(Ot)||Ot.length!==2)throw new Error("gl-surface: invalid ticks");for(gt=0;gt<2;++gt){var bt=Ot[gt];if((Array.isArray(bt)||bt.length)&&(bt=k(bt)),bt.shape[0]!==dt[gt])throw new Error("gl-surface: invalid tick length");var _t=k(bt.data,dt);_t.stride[gt]=bt.stride[0],_t.stride[gt^1]=0,this.padField(this._field[gt],_t)}}else{for(gt=0;gt<2;++gt){var mt=[0,0];mt[gt]=1,this._field[gt]=k(this._field[gt].data,[dt[0]+2,dt[1]+2],mt,0)}this._field[0].set(0,0,0);for(var Pt=0;Pt<dt[0];++Pt)this._field[0].set(Pt+1,0,Pt);for(this._field[0].set(dt[0]+1,0,dt[0]-1),this._field[1].set(0,0,0),Pt=0;Pt<dt[1];++Pt)this._field[1].set(0,Pt+1,Pt);this._field[1].set(0,dt[1]+1,dt[1]-1)}var Rt=this._field,Ht=k(o.mallocFloat(Rt[2].size*3*2),[3,dt[0]+2,dt[1]+2,2]);for(gt=0;gt<3;++gt)S(Ht.pick(gt),Rt[gt],"mirror");var Dt=k(o.mallocFloat(Rt[2].size*3),[dt[0]+2,dt[1]+2,3]);for(gt=0;gt<dt[0]+2;++gt)for(Pt=0;Pt<dt[1]+2;++Pt){var Xt=Ht.get(0,gt,Pt,0),se=Ht.get(0,gt,Pt,1),Yt=Ht.get(1,gt,Pt,0),ue=Ht.get(1,gt,Pt,1),ie=Ht.get(2,gt,Pt,0),fe=Ht.get(2,gt,Pt,1),ce=Yt*fe-ue*ie,ye=ie*se-fe*Xt,de=Xt*ue-se*Yt,Te=Math.sqrt(ce*ce+ye*ye+de*de);Te<1e-8?(Te=Math.max(Math.abs(ce),Math.abs(ye),Math.abs(de)),Te<1e-8?(de=1,ye=ce=0,Te=1):Te=1/Te):Te=1/Math.sqrt(Te),Dt.set(gt,Pt,0,ce*Te),Dt.set(gt,Pt,1,ye*Te),Dt.set(gt,Pt,2,de*Te)}o.free(Ht.data);var Et=[1/0,1/0,1/0],Vt=[-1/0,-1/0,-1/0],te=1/0,Jt=-1/0,Ut=(dt[0]-1)*(dt[1]-1)*6,It=o.mallocFloat(e.nextPow2(10*Ut)),pt=0,xt=0;for(gt=0;gt<dt[0]-1;++gt)t:for(Pt=0;Pt<dt[1]-1;++Pt){for(var Ct=0;Ct<2;++Ct)for(var At=0;At<2;++At)for(var Ft=0;Ft<3;++Ft){var Wt=this._field[Ft].get(1+gt+Ct,1+Pt+At);if(isNaN(Wt)||!isFinite(Wt))continue t}for(Ft=0;Ft<6;++Ft){var Qt=gt+R[Ft][0],he=Pt+R[Ft][1],ve=this._field[0].get(Qt+1,he+1),Je=this._field[1].get(Qt+1,he+1);Wt=this._field[2].get(Qt+1,he+1),ce=Dt.get(Qt+1,he+1,0),ye=Dt.get(Qt+1,he+1,1),de=Dt.get(Qt+1,he+1,2),Q.intensity&&(Ue=Q.intensity.get(Qt,he));var Ue=Q.intensity?Q.intensity.get(Qt,he):Wt+this.objectOffset[2];It[pt++]=Qt,It[pt++]=he,It[pt++]=ve,It[pt++]=Je,It[pt++]=Wt,It[pt++]=0,It[pt++]=Ue,It[pt++]=ce,It[pt++]=ye,It[pt++]=de,Et[0]=Math.min(Et[0],ve+this.objectOffset[0]),Et[1]=Math.min(Et[1],Je+this.objectOffset[1]),Et[2]=Math.min(Et[2],Wt+this.objectOffset[2]),te=Math.min(te,Ue),Vt[0]=Math.max(Vt[0],ve+this.objectOffset[0]),Vt[1]=Math.max(Vt[1],Je+this.objectOffset[1]),Vt[2]=Math.max(Vt[2],Wt+this.objectOffset[2]),Jt=Math.max(Jt,Ue),xt+=1}}for(Q.intensityBounds&&(te=+Q.intensityBounds[0],Jt=+Q.intensityBounds[1]),gt=6;gt<pt;gt+=10)It[gt]=(It[gt]-te)/(Jt-te);this._vertexCount=xt,this._coordinateBuffer.update(It.subarray(0,pt)),o.freeFloat(It),o.free(Dt.data),this.bounds=[Et,Vt],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==te||this.intensityBounds[1]!==Jt)&&(ut=!0),this.intensityBounds=[te,Jt]}if("levels"in Q){var ke=Q.levels;for(Array.isArray(ke[0])?ke=ke.slice():ke=[[],[],ke],gt=0;gt<3;++gt)ke[gt]=ke[gt].slice(),ke[gt].sort(function(Ie,We){return Ie-We});for(gt=0;gt<3;++gt)for(Pt=0;Pt<ke[gt].length;++Pt)ke[gt][Pt]-=this.objectOffset[gt];t:for(gt=0;gt<3;++gt){if(ke[gt].length!==this.contourLevels[gt].length){ut=!0;break}for(Pt=0;Pt<ke[gt].length;++Pt)if(ke[gt][Pt]!==this.contourLevels[gt][Pt]){ut=!0;break t}}this.contourLevels=ke}if(ut){Rt=this._field,dt=this.shape;for(var Le=[],Ge=0;Ge<3;++Ge){var mr=this.contourLevels[Ge],xe=[],Xe=[],Ye=[0,0,0];for(gt=0;gt<mr.length;++gt){var _r=a(this._field[Ge],mr[gt]);xe.push(Le.length/5|0),xt=0;t:for(Pt=0;Pt<_r.cells.length;++Pt){var rr=_r.cells[Pt];for(Ft=0;Ft<2;++Ft){var re=_r.positions[rr[Ft]],le=re[0],me=Math.floor(le)|0,Ee=le-me,ze=re[1],Oe=Math.floor(ze)|0,Fe=ze-Oe,Re=!1;e:for(var Ke=0;Ke<3;++Ke){Ye[Ke]=0;var or=(Ge+Ke+1)%3;for(Ct=0;Ct<2;++Ct){var pr=Ct?Ee:1-Ee;for(Qt=Math.min(Math.max(me+Ct,0),dt[0])|0,At=0;At<2;++At){var hr=At?Fe:1-Fe;if(he=Math.min(Math.max(Oe+At,0),dt[1])|0,Ke<2?Wt=this._field[or].get(Qt,he):Wt=(this.intensity.get(Qt,he)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Wt)||isNaN(Wt)){Re=!0;break e}var jt=pr*hr;Ye[Ke]+=jt*Wt}}}if(!Re)Le.push(Ye[0],Ye[1],re[0],re[1],Ye[2]),xt+=1;else{if(Ft>0){for(var Gt=0;Gt<5;++Gt)Le.pop();xt-=1}continue t}}}Xe.push(xt)}this._contourOffsets[Ge]=xe,this._contourCounts[Ge]=Xe}var Ce=o.mallocFloat(Le.length);for(gt=0;gt<Le.length;++gt)Ce[gt]=Le[gt];this._contourBuffer.update(Ce),o.freeFloat(Ce)}},I.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)o.freeFloat(this._field[Q].data)},I.highlight=function(Q){var G;if(!Q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(G=0;G<3;++G)this.enableHighlight[G]?this.highlightLevel[G]=Q.level[G]:this.highlightLevel[G]=-1;var ut;for(this.snapToData?ut=Q.dataCoordinate:ut=Q.position,G=0;G<3;++G)ut[G]-=this.objectOffset[G];if(!((!this.enableDynamic[0]||ut[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ut[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ut[2]===this.dynamicLevel[2]))){for(var at=0,dt=this.shape,gt=o.mallocFloat(12*dt[0]*dt[1]),wt=0;wt<3;++wt){if(!this.enableDynamic[wt]){this.dynamicLevel[wt]=NaN,this._dynamicCounts[wt]=0;continue}this.dynamicLevel[wt]=ut[wt];var kt=(wt+1)%3,Ot=(wt+2)%3,bt=this._field[wt],_t=this._field[kt],mt=this._field[Ot],Pt=a(bt,ut[wt]),Rt=Pt.cells,Ht=Pt.positions;for(this._dynamicOffsets[wt]=at,G=0;G<Rt.length;++G)for(var Dt=Rt[G],Xt=0;Xt<2;++Xt){var se=Ht[Dt[Xt]],Yt=+se[0],ue=Yt|0,ie=Math.min(ue+1,dt[0])|0,fe=Yt-ue,ce=1-fe,ye=+se[1],de=ye|0,Te=Math.min(de+1,dt[1])|0,Et=ye-de,Vt=1-Et,te=ce*Vt,Jt=ce*Et,Ut=fe*Vt,It=fe*Et,pt=te*_t.get(ue,de)+Jt*_t.get(ue,Te)+Ut*_t.get(ie,de)+It*_t.get(ie,Te),xt=te*mt.get(ue,de)+Jt*mt.get(ue,Te)+Ut*mt.get(ie,de)+It*mt.get(ie,Te);if(isNaN(pt)||isNaN(xt)){Xt&&(at-=1);break}gt[2*at+0]=pt,gt[2*at+1]=xt,at+=1}this._dynamicCounts[wt]=at-this._dynamicOffsets[wt]}this._dynamicBuffer.update(gt.subarray(0,2*at)),o.freeFloat(gt)}};function st(Q){var G=Q.gl,ut=T(G),at=u(G),dt=P(G),gt=g(G),wt=s(G),kt=n(G,[{buffer:wt,size:4,stride:L,offset:0},{buffer:wt,size:3,stride:L,offset:16},{buffer:wt,size:3,stride:L,offset:28}]),Ot=s(G),bt=n(G,[{buffer:Ot,size:4,stride:20,offset:0},{buffer:Ot,size:1,stride:20,offset:16}]),_t=s(G),mt=n(G,[{buffer:_t,size:2,type:G.FLOAT}]),Pt=l(G,1,z,G.RGBA,G.UNSIGNED_BYTE);Pt.minFilter=G.LINEAR,Pt.magFilter=G.LINEAR;var Rt=new F(G,[0,0],[[0,0,0],[0,0,0]],ut,at,wt,kt,Pt,dt,gt,Ot,bt,_t,mt,[0,0,0]),Ht={levels:[[],[],[]]};for(var Dt in Q)Ht[Dt]=Q[Dt];return Ht.colormap=Ht.colormap||"jet",Rt.update(Ht),Rt}},8931:function(d,v,r){var e=r(5050),s=r(7498),n=r(5306);d.exports=g;var l=null,o=null,h=null;function b(L){l=[L.LINEAR,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_NEAREST],o=[L.NEAREST,L.LINEAR,L.NEAREST_MIPMAP_NEAREST,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_LINEAR],h=[L.REPEAT,L.CLAMP_TO_EDGE,L.MIRRORED_REPEAT]}function f(L){return typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&L instanceof HTMLVideoElement||typeof ImageData<"u"&&L instanceof ImageData}var k=function(L,A){s.muls(L,A,255)};function a(L,A,R){var O=L.gl,N=O.getParameter(O.MAX_TEXTURE_SIZE);if(A<0||A>N||R<0||R>N)throw new Error("gl-texture2d: Invalid texture size");return L._shape=[A,R],L.bind(),O.texImage2D(O.TEXTURE_2D,0,L.format,A,R,0,L.format,L.type,null),L._mipLevels=[0],L}function c(L,A,R,O,N,z){this.gl=L,this.handle=A,this.format=N,this.type=z,this._shape=[R,O],this._mipLevels=[0],this._magFilter=L.NEAREST,this._minFilter=L.NEAREST,this._wrapS=L.CLAMP_TO_EDGE,this._wrapT=L.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return F._wrapS},set:function(V){return F.wrapS=V}},{get:function(){return F._wrapT},set:function(V){return F.wrapT=V}}]),this._wrapVector=I;var j=[this._shape[0],this._shape[1]];Object.defineProperties(j,[{get:function(){return F._shape[0]},set:function(V){return F.width=V}},{get:function(){return F._shape[1]},set:function(V){return F.height=V}}]),this._shapeVector=j}var p=c.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(L){this.bind();var A=this.gl;if(this.type===A.FLOAT&&l.indexOf(L)>=0&&(A.getExtension("OES_texture_float_linear")||(L=A.NEAREST)),o.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,L),this._minFilter=L}},magFilter:{get:function(){return this._magFilter},set:function(L){this.bind();var A=this.gl;if(this.type===A.FLOAT&&l.indexOf(L)>=0&&(A.getExtension("OES_texture_float_linear")||(L=A.NEAREST)),o.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,L),this._magFilter=L}},mipSamples:{get:function(){return this._anisoSamples},set:function(L){var A=this._anisoSamples;if(this._anisoSamples=Math.max(L,1)|0,A!==this._anisoSamples){var R=this.gl.getExtension("EXT_texture_filter_anisotropic");R&&this.gl.texParameterf(this.gl.TEXTURE_2D,R.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(L){if(this.bind(),h.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,L),this._wrapS=L}},wrapT:{get:function(){return this._wrapT},set:function(L){if(this.bind(),h.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,L),this._wrapT=L}},wrap:{get:function(){return this._wrapVector},set:function(L){if(Array.isArray(L)||(L=[L,L]),L.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var A=0;A<2;++A)if(h.indexOf(L[A])<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);this._wrapS=L[0],this._wrapT=L[1];var R=this.gl;return this.bind(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,this._wrapS),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,this._wrapT),L}},shape:{get:function(){return this._shapeVector},set:function(L){if(!Array.isArray(L))L=[L|0,L|0];else if(L.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return a(this,L[0]|0,L[1]|0),[L[0]|0,L[1]|0]}},width:{get:function(){return this._shape[0]},set:function(L){return L=L|0,a(this,L,this._shape[1]),L}},height:{get:function(){return this._shape[1]},set:function(L){return L=L|0,a(this,this._shape[0],L),L}}}),p.bind=function(L){var A=this.gl;return L!==void 0&&A.activeTexture(A.TEXTURE0+(L|0)),A.bindTexture(A.TEXTURE_2D,this.handle),L!==void 0?L|0:A.getParameter(A.ACTIVE_TEXTURE)-A.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var L=Math.min(this._shape[0],this._shape[1]),A=0;L>0;++A,L>>>=1)this._mipLevels.indexOf(A)<0&&this._mipLevels.push(A)},p.setPixels=function(L,A,R,O){var N=this.gl;this.bind(),Array.isArray(A)?(O=R,R=A[1]|0,A=A[0]|0):(A=A||0,R=R||0),O=O||0;var z=f(L)?L:L.raw;if(z){var F=this._mipLevels.indexOf(O)<0;F?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(O)):N.texSubImage2D(N.TEXTURE_2D,O,A,R,this.format,this.type,z)}else if(L.shape&&L.stride&&L.data){if(L.shape.length<2||A+L.shape[1]>this._shape[1]>>>O||R+L.shape[0]>this._shape[0]>>>O||A<0||R<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");S(N,A,R,O,this.format,this.type,this._mipLevels,L)}else throw new Error("gl-texture2d: Unsupported data type")};function w(L,A){return L.length===3?A[2]===1&&A[1]===L[0]*L[2]&&A[0]===L[2]:A[0]===1&&A[1]===L[0]}function S(L,A,R,O,N,z,F,I){var j=I.dtype,V=I.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,K=0,et=w(V,I.stride.slice());if(j==="float32"?W=L.FLOAT:j==="float64"?(W=L.FLOAT,et=!1,j="float32"):j==="uint8"?W=L.UNSIGNED_BYTE:(W=L.UNSIGNED_BYTE,et=!1,j="uint8"),V.length===2)K=L.LUMINANCE,V=[V[0],V[1],1],I=e(I.data,V,[I.stride[0],I.stride[1],1],I.offset);else if(V.length===3){if(V[2]===1)K=L.ALPHA;else if(V[2]===2)K=L.LUMINANCE_ALPHA;else if(V[2]===3)K=L.RGB;else if(V[2]===4)K=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");V[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((K===L.LUMINANCE||K===L.ALPHA)&&(N===L.LUMINANCE||N===L.ALPHA)&&(K=N),K!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var lt=I.size,ot=F.indexOf(O)<0;if(ot&&F.push(O),W===z&&et)I.offset===0&&I.data.length===lt?ot?L.texImage2D(L.TEXTURE_2D,O,N,V[0],V[1],0,N,z,I.data):L.texSubImage2D(L.TEXTURE_2D,O,A,R,V[0],V[1],N,z,I.data):ot?L.texImage2D(L.TEXTURE_2D,O,N,V[0],V[1],0,N,z,I.data.subarray(I.offset,I.offset+lt)):L.texSubImage2D(L.TEXTURE_2D,O,A,R,V[0],V[1],N,z,I.data.subarray(I.offset,I.offset+lt));else{var q;z===L.FLOAT?q=n.mallocFloat32(lt):q=n.mallocUint8(lt);var J=e(q,V,[V[2],V[2]*V[0],1]);W===L.FLOAT&&z===L.UNSIGNED_BYTE?k(J,I):s.assign(J,I),ot?L.texImage2D(L.TEXTURE_2D,O,N,V[0],V[1],0,N,z,q.subarray(0,lt)):L.texSubImage2D(L.TEXTURE_2D,O,A,R,V[0],V[1],N,z,q.subarray(0,lt)),z===L.FLOAT?n.freeFloat32(q):n.freeUint8(q)}}function _(L){var A=L.createTexture();return L.bindTexture(L.TEXTURE_2D,A),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),A}function T(L,A,R,O,N){var z=L.getParameter(L.MAX_TEXTURE_SIZE);if(A<0||A>z||R<0||R>z)throw new Error("gl-texture2d: Invalid texture shape");if(N===L.FLOAT&&!L.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=_(L);return L.texImage2D(L.TEXTURE_2D,0,O,A,R,0,O,N,null),new c(L,F,A,R,O,N)}function P(L,A,R,O,N,z){var F=_(L);return L.texImage2D(L.TEXTURE_2D,0,N,N,z,A),new c(L,F,R,O,N,z)}function u(L,A){var R=A.dtype,O=A.shape.slice(),N=L.getParameter(L.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>N||O[1]<0||O[1]>N)throw new Error("gl-texture2d: Invalid texture size");var z=w(O,A.stride.slice()),F=0;R==="float32"?F=L.FLOAT:R==="float64"?(F=L.FLOAT,z=!1,R="float32"):R==="uint8"?F=L.UNSIGNED_BYTE:(F=L.UNSIGNED_BYTE,z=!1,R="uint8");var I=0;if(O.length===2)I=L.LUMINANCE,O=[O[0],O[1],1],A=e(A.data,O,[A.stride[0],A.stride[1],1],A.offset);else if(O.length===3)if(O[2]===1)I=L.ALPHA;else if(O[2]===2)I=L.LUMINANCE_ALPHA;else if(O[2]===3)I=L.RGB;else if(O[2]===4)I=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===L.FLOAT&&!L.getExtension("OES_texture_float")&&(F=L.UNSIGNED_BYTE,z=!1);var j,V,W=A.size;if(z)A.offset===0&&A.data.length===W?j=A.data:j=A.data.subarray(A.offset,A.offset+W);else{var K=[O[2],O[2]*O[0],1];V=n.malloc(W,R);var et=e(V,O,K,0);(R==="float32"||R==="float64")&&F===L.UNSIGNED_BYTE?k(et,A):s.assign(et,A),j=V.subarray(0,W)}var lt=_(L);return L.texImage2D(L.TEXTURE_2D,0,I,O[0],O[1],0,I,F,j),z||n.free(V),new c(L,lt,O[0],O[1],I,F)}function g(L){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||b(L),typeof arguments[1]=="number")return T(L,arguments[1],arguments[2],arguments[3]||L.RGBA,arguments[4]||L.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return T(L,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var A=arguments[1],R=f(A)?A:A.raw;if(R)return P(L,R,A.width|0,A.height|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(A.shape&&A.data&&A.stride)return u(L,A)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(d){function v(r,e,s){e?e.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var l=0;l<s.length;++l){var o=s[l];if(o.buffer){var h=o.buffer,b=o.size||4,f=o.type||r.FLOAT,k=!!o.normalized,a=o.stride||0,c=o.offset||0;h.bind(),r.enableVertexAttribArray(l),r.vertexAttribPointer(l,b,f,k,a,c)}else{if(typeof o=="number")r.vertexAttrib1f(l,o);else if(o.length===1)r.vertexAttrib1f(l,o[0]);else if(o.length===2)r.vertexAttrib2f(l,o[0],o[1]);else if(o.length===3)r.vertexAttrib3f(l,o[0],o[1],o[2]);else if(o.length===4)r.vertexAttrib4f(l,o[0],o[1],o[2],o[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(l)}}for(;l<n;++l)r.disableVertexAttribArray(l)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var l=0;l<n;++l)r.disableVertexAttribArray(l)}}d.exports=v},7220:function(d,v,r){var e=r(3056);function s(l){this.gl=l,this._elements=null,this._attributes=null,this._elementsType=l.UNSIGNED_SHORT}s.prototype.bind=function(){e(this.gl,this._elements,this._attributes)},s.prototype.update=function(l,o,h){this._elements=o,this._attributes=l,this._elementsType=h||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(l,o,h){h=h||0;var b=this.gl;this._elements?b.drawElements(l,o,this._elementsType,h):b.drawArrays(l,h,o)};function n(l){return new s(l)}d.exports=n},3778:function(d,v,r){var e=r(3056);function s(o,h,b,f,k,a){this.location=o,this.dimension=h,this.a=b,this.b=f,this.c=k,this.d=a}s.prototype.bind=function(o){switch(this.dimension){case 1:o.vertexAttrib1f(this.location,this.a);break;case 2:o.vertexAttrib2f(this.location,this.a,this.b);break;case 3:o.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:o.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(o,h,b){this.gl=o,this._ext=h,this.handle=b,this._attribs=[],this._useElements=!1,this._elementsType=o.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var o=0;o<this._attribs.length;++o)this._attribs[o].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(o,h,b){if(this.bind(),e(this.gl,h,o),this.unbind(),this._attribs.length=0,o)for(var f=0;f<o.length;++f){var k=o[f];typeof k=="number"?this._attribs.push(new s(f,1,k)):Array.isArray(k)&&this._attribs.push(new s(f,k.length,k[0],k[1],k[2],k[3]))}this._useElements=!!h,this._elementsType=b||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(o,h,b){b=b||0;var f=this.gl;this._useElements?f.drawElements(o,h,this._elementsType,b):f.drawArrays(o,b,h)};function l(o,h){return new n(o,h,h.createVertexArrayOES())}d.exports=l},2944:function(d,v,r){var e=r(3778),s=r(7220);function n(o){this.bindVertexArrayOES=o.bindVertexArray.bind(o),this.createVertexArrayOES=o.createVertexArray.bind(o),this.deleteVertexArrayOES=o.deleteVertexArray.bind(o)}function l(o,h,b,f){var k=o.createVertexArray?new n(o):o.getExtension("OES_vertex_array_object"),a;return k?a=e(o,k):a=s(o),a.update(h,b,f),a}d.exports=l},2598:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]+s[0],r[1]=e[1]+s[1],r[2]=e[2]+s[2],r}},5879:function(d,v,r){d.exports=l;var e=r(5415),s=r(899),n=r(9305);function l(o,h){var b=e(o[0],o[1],o[2]),f=e(h[0],h[1],h[2]);s(b,b),s(f,f);var k=n(b,f);return k>1?0:Math.acos(k)}},8827:function(d){d.exports=v;function v(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r[2]=Math.ceil(e[2]),r}},7622:function(d){d.exports=v;function v(r){var e=new Float32Array(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}},8782:function(d){d.exports=v;function v(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}},8501:function(d){d.exports=v;function v(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2],h=s[0],b=s[1],f=s[2];return r[0]=l*f-o*b,r[1]=o*h-n*f,r[2]=n*b-l*h,r}},5981:function(d,v,r){d.exports=r(8288)},8288:function(d){d.exports=v;function v(r,e){var s=e[0]-r[0],n=e[1]-r[1],l=e[2]-r[2];return Math.sqrt(s*s+n*n+l*l)}},8629:function(d,v,r){d.exports=r(7979)},7979:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]/s[0],r[1]=e[1]/s[1],r[2]=e[2]/s[2],r}},9305:function(d){d.exports=v;function v(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}},154:function(d){d.exports=1e-6},4932:function(d,v,r){d.exports=s;var e=r(154);function s(n,l){var o=n[0],h=n[1],b=n[2],f=l[0],k=l[1],a=l[2];return Math.abs(o-f)<=e*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(h-k)<=e*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(b-a)<=e*Math.max(1,Math.abs(b),Math.abs(a))}},5777:function(d){d.exports=v;function v(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]}},3306:function(d){d.exports=v;function v(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r[2]=Math.floor(e[2]),r}},7447:function(d,v,r){d.exports=s;var e=r(8501)();function s(n,l,o,h,b,f){var k,a;for(l||(l=3),o||(o=0),h?a=Math.min(h*l+o,n.length):a=n.length,k=o;k<a;k+=l)e[0]=n[k],e[1]=n[k+1],e[2]=n[k+2],b(e,e,f),n[k]=e[0],n[k+1]=e[1],n[k+2]=e[2];return n}},5415:function(d){d.exports=v;function v(r,e,s){var n=new Float32Array(3);return n[0]=r,n[1]=e,n[2]=s,n}},2858:function(d,v,r){d.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(d){d.exports=v;function v(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r}},1468:function(d,v,r){d.exports=r(4693)},4693:function(d){d.exports=v;function v(r){var e=r[0],s=r[1],n=r[2];return Math.sqrt(e*e+s*s+n*n)}},1868:function(d){d.exports=v;function v(r,e,s,n){var l=e[0],o=e[1],h=e[2];return r[0]=l+n*(s[0]-l),r[1]=o+n*(s[1]-o),r[2]=h+n*(s[2]-h),r}},1716:function(d){d.exports=v;function v(r,e,s){return r[0]=Math.max(e[0],s[0]),r[1]=Math.max(e[1],s[1]),r[2]=Math.max(e[2],s[2]),r}},3605:function(d){d.exports=v;function v(r,e,s){return r[0]=Math.min(e[0],s[0]),r[1]=Math.min(e[1],s[1]),r[2]=Math.min(e[2],s[2]),r}},5733:function(d,v,r){d.exports=r(105)},105:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]*s[0],r[1]=e[1]*s[1],r[2]=e[2]*s[2],r}},435:function(d){d.exports=v;function v(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r}},899:function(d){d.exports=v;function v(r,e){var s=e[0],n=e[1],l=e[2],o=s*s+n*n+l*l;return o>0&&(o=1/Math.sqrt(o),r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o),r}},6660:function(d){d.exports=v;function v(r,e){e=e||1;var s=Math.random()*2*Math.PI,n=Math.random()*2-1,l=Math.sqrt(1-n*n)*e;return r[0]=Math.cos(s)*l,r[1]=Math.sin(s)*l,r[2]=n*e,r}},392:function(d){d.exports=v;function v(r,e,s,n){var l=s[1],o=s[2],h=e[1]-l,b=e[2]-o,f=Math.sin(n),k=Math.cos(n);return r[0]=e[0],r[1]=l+h*k-b*f,r[2]=o+h*f+b*k,r}},3222:function(d){d.exports=v;function v(r,e,s,n){var l=s[0],o=s[2],h=e[0]-l,b=e[2]-o,f=Math.sin(n),k=Math.cos(n);return r[0]=l+b*f+h*k,r[1]=e[1],r[2]=o+b*k-h*f,r}},3388:function(d){d.exports=v;function v(r,e,s,n){var l=s[0],o=s[1],h=e[0]-l,b=e[1]-o,f=Math.sin(n),k=Math.cos(n);return r[0]=l+h*k-b*f,r[1]=o+h*f+b*k,r[2]=e[2],r}},1624:function(d){d.exports=v;function v(r,e){return r[0]=Math.round(e[0]),r[1]=Math.round(e[1]),r[2]=Math.round(e[2]),r}},5685:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]*s,r[1]=e[1]*s,r[2]=e[2]*s,r}},6722:function(d){d.exports=v;function v(r,e,s,n){return r[0]=e[0]+s[0]*n,r[1]=e[1]+s[1]*n,r[2]=e[2]+s[2]*n,r}},831:function(d){d.exports=v;function v(r,e,s,n){return r[0]=e,r[1]=s,r[2]=n,r}},5294:function(d,v,r){d.exports=r(6403)},3303:function(d,v,r){d.exports=r(4337)},6403:function(d){d.exports=v;function v(r,e){var s=e[0]-r[0],n=e[1]-r[1],l=e[2]-r[2];return s*s+n*n+l*l}},4337:function(d){d.exports=v;function v(r){var e=r[0],s=r[1],n=r[2];return e*e+s*s+n*n}},8921:function(d,v,r){d.exports=r(911)},911:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]-s[0],r[1]=e[1]-s[1],r[2]=e[2]-s[2],r}},9908:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2];return r[0]=n*s[0]+l*s[3]+o*s[6],r[1]=n*s[1]+l*s[4]+o*s[7],r[2]=n*s[2]+l*s[5]+o*s[8],r}},3255:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2],h=s[3]*n+s[7]*l+s[11]*o+s[15];return h=h||1,r[0]=(s[0]*n+s[4]*l+s[8]*o+s[12])/h,r[1]=(s[1]*n+s[5]*l+s[9]*o+s[13])/h,r[2]=(s[2]*n+s[6]*l+s[10]*o+s[14])/h,r}},6568:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2],h=s[0],b=s[1],f=s[2],k=s[3],a=k*n+b*o-f*l,c=k*l+f*n-h*o,p=k*o+h*l-b*n,w=-h*n-b*l-f*o;return r[0]=a*k+w*-h+c*-f-p*-b,r[1]=c*k+w*-b+p*-h-a*-f,r[2]=p*k+w*-f+a*-b-c*-h,r}},3433:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]+s[0],r[1]=e[1]+s[1],r[2]=e[2]+s[2],r[3]=e[3]+s[3],r}},1413:function(d){d.exports=v;function v(r){var e=new Float32Array(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}},3470:function(d){d.exports=v;function v(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}},5313:function(d){d.exports=v;function v(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(d){d.exports=v;function v(r,e){var s=e[0]-r[0],n=e[1]-r[1],l=e[2]-r[2],o=e[3]-r[3];return Math.sqrt(s*s+n*n+l*l+o*o)}},205:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]/s[0],r[1]=e[1]/s[1],r[2]=e[2]/s[2],r[3]=e[3]/s[3],r}},4242:function(d){d.exports=v;function v(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]}},5680:function(d){d.exports=v;function v(r,e,s,n){var l=new Float32Array(4);return l[0]=r,l[1]=e,l[2]=s,l[3]=n,l}},4020:function(d,v,r){d.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(d){d.exports=v;function v(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r[3]=1/e[3],r}},8177:function(d){d.exports=v;function v(r){var e=r[0],s=r[1],n=r[2],l=r[3];return Math.sqrt(e*e+s*s+n*n+l*l)}},8746:function(d){d.exports=v;function v(r,e,s,n){var l=e[0],o=e[1],h=e[2],b=e[3];return r[0]=l+n*(s[0]-l),r[1]=o+n*(s[1]-o),r[2]=h+n*(s[2]-h),r[3]=b+n*(s[3]-b),r}},3030:function(d){d.exports=v;function v(r,e,s){return r[0]=Math.max(e[0],s[0]),r[1]=Math.max(e[1],s[1]),r[2]=Math.max(e[2],s[2]),r[3]=Math.max(e[3],s[3]),r}},2170:function(d){d.exports=v;function v(r,e,s){return r[0]=Math.min(e[0],s[0]),r[1]=Math.min(e[1],s[1]),r[2]=Math.min(e[2],s[2]),r[3]=Math.min(e[3],s[3]),r}},746:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]*s[0],r[1]=e[1]*s[1],r[2]=e[2]*s[2],r[3]=e[3]*s[3],r}},6459:function(d){d.exports=v;function v(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r}},381:function(d){d.exports=v;function v(r,e){var s=e[0],n=e[1],l=e[2],o=e[3],h=s*s+n*n+l*l+o*o;return h>0&&(h=1/Math.sqrt(h),r[0]=s*h,r[1]=n*h,r[2]=l*h,r[3]=o*h),r}},3770:function(d,v,r){var e=r(381),s=r(5510);d.exports=n;function n(l,o){return o=o||1,l[0]=Math.random(),l[1]=Math.random(),l[2]=Math.random(),l[3]=Math.random(),e(l,l),s(l,l,o),l}},5510:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]*s,r[1]=e[1]*s,r[2]=e[2]*s,r[3]=e[3]*s,r}},4224:function(d){d.exports=v;function v(r,e,s,n){return r[0]=e[0]+s[0]*n,r[1]=e[1]+s[1]*n,r[2]=e[2]+s[2]*n,r[3]=e[3]+s[3]*n,r}},6453:function(d){d.exports=v;function v(r,e,s,n,l){return r[0]=e,r[1]=s,r[2]=n,r[3]=l,r}},1542:function(d){d.exports=v;function v(r,e){var s=e[0]-r[0],n=e[1]-r[1],l=e[2]-r[2],o=e[3]-r[3];return s*s+n*n+l*l+o*o}},9037:function(d){d.exports=v;function v(r){var e=r[0],s=r[1],n=r[2],l=r[3];return e*e+s*s+n*n+l*l}},2705:function(d){d.exports=v;function v(r,e,s){return r[0]=e[0]-s[0],r[1]=e[1]-s[1],r[2]=e[2]-s[2],r[3]=e[3]-s[3],r}},6342:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2],h=e[3];return r[0]=s[0]*n+s[4]*l+s[8]*o+s[12]*h,r[1]=s[1]*n+s[5]*l+s[9]*o+s[13]*h,r[2]=s[2]*n+s[6]*l+s[10]*o+s[14]*h,r[3]=s[3]*n+s[7]*l+s[11]*o+s[15]*h,r}},5022:function(d){d.exports=v;function v(r,e,s){var n=e[0],l=e[1],o=e[2],h=s[0],b=s[1],f=s[2],k=s[3],a=k*n+b*o-f*l,c=k*l+f*n-h*o,p=k*o+h*l-b*n,w=-h*n-b*l-f*o;return r[0]=a*k+w*-h+c*-f-p*-b,r[1]=c*k+w*-b+p*-h-a*-f,r[2]=p*k+w*-f+a*-b-c*-h,r[3]=e[3],r}},9365:function(d,v,r){var e=r(8096),s=r(7896);d.exports=n;function n(l){for(var o=Array.isArray(l)?l:e(l),h=0;h<o.length;h++){var b=o[h];if(b.type==="preprocessor"){var f=b.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(f&&f[2]){var k=f[1],a=f[2];return(k?s(a):a).trim()}}}}},3193:function(d,v,r){d.exports=A;var e=r(399),s=r(9746),n=r(9525),l=r(9458),o=r(3585),h=999,b=9999,f=0,k=1,a=2,c=3,p=4,w=5,S=6,_=7,T=8,P=9,u=10,g=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function A(R){var O=0,N=0,z=h,F,I,j=[],V=[],W=1,K=0,et=0,lt=!1,ot=!1,q="",J;R=R||{};var it=n,Z=e;R.version==="300 es"&&(it=o,Z=l);for(var tt={},st={},O=0;O<it.length;O++)tt[it[O]]=!0;for(var O=0;O<Z.length;O++)st[Z[O]]=!0;return function(Ht){return V=[],Ht!==null?G(Ht):ut()};function Q(Ht){Ht.length&&V.push({type:L[z],data:Ht,position:et,line:W,column:K})}function G(Ht){O=0,Ht.toString&&(Ht=Ht.toString()),q+=Ht.replace(/\r\n/g,`
`),J=q.length;for(var Dt;F=q[O],O<J;){switch(Dt=O,z){case f:O=kt();break;case k:O=wt();break;case a:O=gt();break;case c:O=Ot();break;case p:O=mt();break;case g:O=_t();break;case w:O=Pt();break;case b:O=Rt();break;case P:O=dt();break;case h:O=at();break}if(Dt!==O)switch(q[Dt]){case`
`:K=0,++W;break;default:++K;break}}return N+=O,q=q.slice(O),V}function ut(Ht){return j.length&&Q(j.join("")),z=u,Q("(eof)"),V}function at(){return j=j.length?[]:j,I==="/"&&F==="*"?(et=N+O-1,z=f,I=F,O+1):I==="/"&&F==="/"?(et=N+O-1,z=k,I=F,O+1):F==="#"?(z=a,et=N+O,O):/\s/.test(F)?(z=P,et=N+O,O):(lt=/\d/.test(F),ot=/[^\w_]/.test(F),et=N+O,z=lt?p:ot?c:b,O)}function dt(){return/[^\s]/g.test(F)?(Q(j.join("")),z=h,O):(j.push(F),I=F,O+1)}function gt(){return(F==="\r"||F===`
`)&&I!=="\\"?(Q(j.join("")),z=h,O):(j.push(F),I=F,O+1)}function wt(){return gt()}function kt(){return F==="/"&&I==="*"?(j.push(F),Q(j.join("")),z=h,O+1):(j.push(F),I=F,O+1)}function Ot(){if(I==="."&&/\d/.test(F))return z=w,O;if(I==="/"&&F==="*")return z=f,O;if(I==="/"&&F==="/")return z=k,O;if(F==="."&&j.length){for(;bt(j););return z=w,O}if(F===";"||F===")"||F==="("){if(j.length)for(;bt(j););return Q(F),z=h,O+1}var Ht=j.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||Ht){for(;bt(j););return z=h,O}return j.push(F),I=F,O+1}function bt(Ht){var Dt=0,Xt,se;do{if(Xt=s.indexOf(Ht.slice(0,Ht.length+Dt).join("")),se=s[Xt],Xt===-1){if(Dt--+Ht.length>0)continue;se=Ht.slice(0,1).join("")}return Q(se),et+=se.length,j=j.slice(se.length),j.length}while(!0)}function _t(){return/[^a-fA-F0-9]/.test(F)?(Q(j.join("")),z=h,O):(j.push(F),I=F,O+1)}function mt(){return F==="."||/[eE]/.test(F)?(j.push(F),z=w,I=F,O+1):F==="x"&&j.length===1&&j[0]==="0"?(z=g,j.push(F),I=F,O+1):/[^\d]/.test(F)?(Q(j.join("")),z=h,O):(j.push(F),I=F,O+1)}function Pt(){return F==="f"&&(j.push(F),I=F,O+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(I)?(j.push(F),I=F,O+1):/[^\d]/.test(F)?(Q(j.join("")),z=h,O):(j.push(F),I=F,O+1)}function Rt(){if(/[^\d\w_]/.test(F)){var Ht=j.join("");return st[Ht]?z=T:tt[Ht]?z=_:z=S,Q(j.join("")),z=h,O}return j.push(F),I=F,O+1}}},3585:function(d,v,r){var e=r(9525);e=e.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),d.exports=e.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(d){d.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(d,v,r){var e=r(399);d.exports=e.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(d){d.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(d){d.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(d,v,r){var e=r(3193);d.exports=s;function s(n,l){var o=e(l),h=[];return h=h.concat(o(n)),h=h.concat(o(null)),h}},6832:function(d){d.exports=function(v){typeof v=="string"&&(v=[v]);for(var r=[].slice.call(arguments,1),e=[],s=0;s<v.length-1;s++)e.push(v[s],r[s]||"");return e.push(v[s]),e.join("")}},5233:function(d,v,r){var e=r(4846);function s(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{n=!1}return n}d.exports=e&&s()},2183:function(d,v,r){d.exports=c;var e=r(417),s=r(8211).H;function n(p,w,S){this.vertices=p,this.adjacent=w,this.boundary=S,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var w=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=w};function l(p,w,S){this.vertices=p,this.cell=w,this.index=S}function o(p,w){return s(p.vertices,w.vertices)}function h(p){return function(){var w=this.tuple;return p.apply(this,w)}}function b(p){var w=e[p+1];return w||(w=e),h(w)}var f=[];function k(p,w,S){this.dimension=p,this.vertices=w,this.simplices=S,this.interior=S.filter(function(P){return!P.boundary}),this.tuple=new Array(p+1);for(var _=0;_<=p;++_)this.tuple[_]=this.vertices[_];var T=f[p];T||(T=f[p]=b(p)),this.orient=T}var a=k.prototype;a.handleBoundaryDegeneracy=function(p,w){var S=this.dimension,_=this.vertices.length-1,T=this.tuple,P=this.vertices,u=[p];for(p.lastVisited=-_;u.length>0;){p=u.pop();for(var g=p.adjacent,L=0;L<=S;++L){var A=g[L];if(!(!A.boundary||A.lastVisited<=-_)){for(var R=A.vertices,O=0;O<=S;++O){var N=R[O];N<0?T[O]=w:T[O]=P[N]}var z=this.orient();if(z>0)return A;A.lastVisited=-_,z===0&&u.push(A)}}}return null},a.walk=function(p,w){var S=this.vertices.length-1,_=this.dimension,T=this.vertices,P=this.tuple,u=w?this.interior.length*Math.random()|0:this.interior.length-1,g=this.interior[u];t:for(;!g.boundary;){for(var L=g.vertices,A=g.adjacent,R=0;R<=_;++R)P[R]=T[L[R]];g.lastVisited=S;for(var R=0;R<=_;++R){var O=A[R];if(!(O.lastVisited>=S)){var N=P[R];P[R]=p;var z=this.orient();if(P[R]=N,z<0){g=O;continue t}else O.boundary?O.lastVisited=-S:O.lastVisited=S}}return}return g},a.addPeaks=function(p,w){var S=this.vertices.length-1,_=this.dimension,T=this.vertices,P=this.tuple,u=this.interior,g=this.simplices,L=[w];w.lastVisited=S,w.vertices[w.vertices.indexOf(-1)]=S,w.boundary=!1,u.push(w);for(var A=[];L.length>0;){var w=L.pop(),R=w.vertices,O=w.adjacent,N=R.indexOf(S);if(!(N<0)){for(var z=0;z<=_;++z)if(z!==N){var F=O[z];if(!(!F.boundary||F.lastVisited>=S)){var I=F.vertices;if(F.lastVisited!==-S){for(var j=0,V=0;V<=_;++V)I[V]<0?(j=V,P[V]=p):P[V]=T[I[V]];var W=this.orient();if(W>0){I[j]=S,F.boundary=!1,u.push(F),L.push(F),F.lastVisited=S;continue}else F.lastVisited=-S}var K=F.adjacent,et=R.slice(),lt=O.slice(),ot=new n(et,lt,!0);g.push(ot);var q=K.indexOf(w);if(!(q<0)){K[q]=ot,lt[N]=F,et[z]=-1,lt[z]=w,O[z]=ot,ot.flip();for(var V=0;V<=_;++V){var J=et[V];if(!(J<0||J===S)){for(var it=new Array(_-1),Z=0,tt=0;tt<=_;++tt){var st=et[tt];st<0||tt===V||(it[Z++]=st)}A.push(new l(it,ot,V))}}}}}}}A.sort(o);for(var z=0;z+1<A.length;z+=2){var Q=A[z],G=A[z+1],ut=Q.index,at=G.index;ut<0||at<0||(Q.cell.adjacent[Q.index]=G.cell,G.cell.adjacent[G.index]=Q.cell)}},a.insert=function(p,w){var S=this.vertices;S.push(p);var _=this.walk(p,w);if(_){for(var T=this.dimension,P=this.tuple,u=0;u<=T;++u){var g=_.vertices[u];g<0?P[u]=p:P[u]=S[g]}var L=this.orient(P);L<0||L===0&&(_=this.handleBoundaryDegeneracy(_,p),!_)||this.addPeaks(p,_)}},a.boundary=function(){for(var p=this.dimension,w=[],S=this.simplices,_=S.length,T=0;T<_;++T){var P=S[T];if(P.boundary){for(var u=new Array(p),g=P.vertices,L=0,A=0,R=0;R<=p;++R)g[R]>=0?u[L++]=g[R]:A=R&1;if(A===(p&1)){var O=u[0];u[0]=u[1],u[1]=O}w.push(u)}}return w};function c(p,w){var S=p.length;if(S===0)throw new Error("Must have at least d+1 points");var _=p[0].length;if(S<=_)throw new Error("Must input at least d+1 points");var T=p.slice(0,_+1),P=e.apply(void 0,T);if(P===0)throw new Error("Input not in general position");for(var u=new Array(_+1),g=0;g<=_;++g)u[g]=g;P<0&&(u[0]=1,u[1]=0);for(var L=new n(u,new Array(_+1),!1),A=L.adjacent,R=new Array(_+2),g=0;g<=_;++g){for(var O=u.slice(),N=0;N<=_;++N)N===g&&(O[N]=-1);var z=O[0];O[0]=O[1],O[1]=z;var F=new n(O,new Array(_+1),!0);A[g]=F,R[g]=F}R[_+1]=L;for(var g=0;g<=_;++g)for(var O=A[g].vertices,I=A[g].adjacent,N=0;N<=_;++N){var j=O[N];if(j<0){I[N]=L;continue}for(var V=0;V<=_;++V)A[V].vertices.indexOf(j)<0&&(I[N]=A[V])}for(var W=new k(_,T,R),K=!!w,g=_+1;g<S;++g)W.insert(p[g],K);return W.boundary()}},9014:function(d,v,r){var e=r(5070),s=0,n=1,l=2;d.exports=L;function o(A,R,O,N,z){this.mid=A,this.left=R,this.right=O,this.leftPoints=N,this.rightPoints=z,this.count=(R?R.count:0)+(O?O.count:0)+N.length}var h=o.prototype;function b(A,R){A.mid=R.mid,A.left=R.left,A.right=R.right,A.leftPoints=R.leftPoints,A.rightPoints=R.rightPoints,A.count=R.count}function f(A,R){var O=P(R);A.mid=O.mid,A.left=O.left,A.right=O.right,A.leftPoints=O.leftPoints,A.rightPoints=O.rightPoints,A.count=O.count}function k(A,R){var O=A.intervals([]);O.push(R),f(A,O)}function a(A,R){var O=A.intervals([]),N=O.indexOf(R);return N<0?s:(O.splice(N,1),f(A,O),n)}h.intervals=function(A){return A.push.apply(A,this.leftPoints),this.left&&this.left.intervals(A),this.right&&this.right.intervals(A),A},h.insert=function(A){var R=this.count-this.leftPoints.length;if(this.count+=1,A[1]<this.mid)this.left?4*(this.left.count+1)>3*(R+1)?k(this,A):this.left.insert(A):this.left=P([A]);else if(A[0]>this.mid)this.right?4*(this.right.count+1)>3*(R+1)?k(this,A):this.right.insert(A):this.right=P([A]);else{var O=e.ge(this.leftPoints,A,_),N=e.ge(this.rightPoints,A,T);this.leftPoints.splice(O,0,A),this.rightPoints.splice(N,0,A)}},h.remove=function(A){var R=this.count-this.leftPoints;if(A[1]<this.mid){if(!this.left)return s;var O=this.right?this.right.count:0;if(4*O>3*(R-1))return a(this,A);var N=this.left.remove(A);return N===l?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(A[0]>this.mid){if(!this.right)return s;var z=this.left?this.left.count:0;if(4*z>3*(R-1))return a(this,A);var N=this.right.remove(A);return N===l?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===A?l:s;if(this.leftPoints.length===1&&this.leftPoints[0]===A){if(this.left&&this.right){for(var F=this,I=this.left;I.right;)F=I,I=I.right;if(F===this)I.right=this.right;else{var j=this.left,N=this.right;F.count-=I.count,F.right=I.left,I.left=j,I.right=N}b(this,I),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?b(this,this.left):b(this,this.right);return n}for(var j=e.ge(this.leftPoints,A,_);j<this.leftPoints.length&&this.leftPoints[j][0]===A[0];++j)if(this.leftPoints[j]===A){this.count-=1,this.leftPoints.splice(j,1);for(var N=e.ge(this.rightPoints,A,T);N<this.rightPoints.length&&this.rightPoints[N][1]===A[1];++N)if(this.rightPoints[N]===A)return this.rightPoints.splice(N,1),n}return s}};function c(A,R,O){for(var N=0;N<A.length&&A[N][0]<=R;++N){var z=O(A[N]);if(z)return z}}function p(A,R,O){for(var N=A.length-1;N>=0&&A[N][1]>=R;--N){var z=O(A[N]);if(z)return z}}function w(A,R){for(var O=0;O<A.length;++O){var N=R(A[O]);if(N)return N}}h.queryPoint=function(A,R){if(A<this.mid){if(this.left){var O=this.left.queryPoint(A,R);if(O)return O}return c(this.leftPoints,A,R)}else if(A>this.mid){if(this.right){var O=this.right.queryPoint(A,R);if(O)return O}return p(this.rightPoints,A,R)}else return w(this.leftPoints,R)},h.queryInterval=function(A,R,O){if(A<this.mid&&this.left){var N=this.left.queryInterval(A,R,O);if(N)return N}if(R>this.mid&&this.right){var N=this.right.queryInterval(A,R,O);if(N)return N}return R<this.mid?c(this.leftPoints,R,O):A>this.mid?p(this.rightPoints,A,O):w(this.leftPoints,O)};function S(A,R){return A-R}function _(A,R){var O=A[0]-R[0];return O||A[1]-R[1]}function T(A,R){var O=A[1]-R[1];return O||A[0]-R[0]}function P(A){if(A.length===0)return null;for(var R=[],O=0;O<A.length;++O)R.push(A[O][0],A[O][1]);R.sort(S);for(var N=R[R.length>>1],z=[],F=[],I=[],O=0;O<A.length;++O){var j=A[O];j[1]<N?z.push(j):N<j[0]?F.push(j):I.push(j)}var V=I,W=I.slice();return V.sort(_),W.sort(T),new o(N,P(z),P(F),V,W)}function u(A){this.root=A}var g=u.prototype;g.insert=function(A){this.root?this.root.insert(A):this.root=new o(A[0],null,null,[A],[A])},g.remove=function(A){if(this.root){var R=this.root.remove(A);return R===l&&(this.root=null),R!==s}return!1},g.queryPoint=function(A,R){if(this.root)return this.root.queryPoint(A,R)},g.queryInterval=function(A,R,O){if(A<=R&&this.root)return this.root.queryInterval(A,R,O)},Object.defineProperty(g,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(g,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function L(A){return!A||A.length===0?new u(null):new u(P(A))}},9560:function(d){function v(r){for(var e=new Array(r),s=0;s<r;++s)e[s]=s;return e}d.exports=v},4846:function(d){d.exports=!0},4780:function(d){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/d.exports=function(e){return e!=null&&(v(e)||r(e)||!!e._isBuffer)};function v(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function r(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&v(e.slice(0,0))}},3596:function(d){d.exports=function(v){for(var r=v.length,e,s=0;s<r;s++)if(e=v.charCodeAt(s),(e<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},3578:function(d){function v(r,e,s){return r*(1-s)+e*s}d.exports=v},7191:function(d,v,r){var e=r(4690),s=r(9823),n=r(7332),l=r(7787),o=r(7437),h=r(2142),b={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},f=s(),k=s(),a=[0,0,0,0],c=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];d.exports=function(T,P,u,g,L,A){if(P||(P=[0,0,0]),u||(u=[0,0,0]),g||(g=[0,0,0]),L||(L=[0,0,0,1]),A||(A=[0,0,0,1]),!e(f,T)||(n(k,f),k[3]=0,k[7]=0,k[11]=0,k[15]=1,Math.abs(l(k)<1e-8)))return!1;var R=f[3],O=f[7],N=f[11],z=f[12],F=f[13],I=f[14],j=f[15];if(R!==0||O!==0||N!==0){a[0]=R,a[1]=O,a[2]=N,a[3]=j;var V=o(k,k);if(!V)return!1;h(k,k),w(L,a,k)}else L[0]=L[1]=L[2]=0,L[3]=1;if(P[0]=z,P[1]=F,P[2]=I,S(c,f),u[0]=b.length(c[0]),b.normalize(c[0],c[0]),g[0]=b.dot(c[0],c[1]),_(c[1],c[1],c[0],1,-g[0]),u[1]=b.length(c[1]),b.normalize(c[1],c[1]),g[0]/=u[1],g[1]=b.dot(c[0],c[2]),_(c[2],c[2],c[0],1,-g[1]),g[2]=b.dot(c[1],c[2]),_(c[2],c[2],c[1],1,-g[2]),u[2]=b.length(c[2]),b.normalize(c[2],c[2]),g[1]/=u[2],g[2]/=u[2],b.cross(p,c[1],c[2]),b.dot(c[0],p)<0)for(var W=0;W<3;W++)u[W]*=-1,c[W][0]*=-1,c[W][1]*=-1,c[W][2]*=-1;return A[0]=.5*Math.sqrt(Math.max(1+c[0][0]-c[1][1]-c[2][2],0)),A[1]=.5*Math.sqrt(Math.max(1-c[0][0]+c[1][1]-c[2][2],0)),A[2]=.5*Math.sqrt(Math.max(1-c[0][0]-c[1][1]+c[2][2],0)),A[3]=.5*Math.sqrt(Math.max(1+c[0][0]+c[1][1]+c[2][2],0)),c[2][1]>c[1][2]&&(A[0]=-A[0]),c[0][2]>c[2][0]&&(A[1]=-A[1]),c[1][0]>c[0][1]&&(A[2]=-A[2]),!0};function w(T,P,u){var g=P[0],L=P[1],A=P[2],R=P[3];return T[0]=u[0]*g+u[4]*L+u[8]*A+u[12]*R,T[1]=u[1]*g+u[5]*L+u[9]*A+u[13]*R,T[2]=u[2]*g+u[6]*L+u[10]*A+u[14]*R,T[3]=u[3]*g+u[7]*L+u[11]*A+u[15]*R,T}function S(T,P){T[0][0]=P[0],T[0][1]=P[1],T[0][2]=P[2],T[1][0]=P[4],T[1][1]=P[5],T[1][2]=P[6],T[2][0]=P[8],T[2][1]=P[9],T[2][2]=P[10]}function _(T,P,u,g,L){T[0]=P[0]*g+u[0]*L,T[1]=P[1]*g+u[1]*L,T[2]=P[2]*g+u[2]*L}},4690:function(d){d.exports=function(v,r){var e=r[15];if(e===0)return!1;for(var s=1/e,n=0;n<16;n++)v[n]=r[n]*s;return!0}},7649:function(d,v,r){var e=r(1868),s=r(1102),n=r(7191),l=r(7787),o=r(1116),h=a(),b=a(),f=a();d.exports=k;function k(w,S,_,T){if(l(S)===0||l(_)===0)return!1;var P=n(S,h.translate,h.scale,h.skew,h.perspective,h.quaternion),u=n(_,b.translate,b.scale,b.skew,b.perspective,b.quaternion);return!P||!u?!1:(e(f.translate,h.translate,b.translate,T),e(f.skew,h.skew,b.skew,T),e(f.scale,h.scale,b.scale,T),e(f.perspective,h.perspective,b.perspective,T),o(f.quaternion,h.quaternion,b.quaternion,T),s(w,f.translate,f.scale,f.skew,f.perspective,f.quaternion),!0)}function a(){return{translate:c(),scale:c(1),skew:c(),perspective:p(),quaternion:p()}}function c(w){return[w||0,w||0,w||0]}function p(){return[0,0,0,1]}},1102:function(d,v,r){var e={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};e.create();var s=e.create();d.exports=function(n,l,o,h,b,f){return e.identity(n),e.fromRotationTranslation(n,f,l),n[3]=b[0],n[7]=b[1],n[11]=b[2],n[15]=b[3],e.identity(s),h[2]!==0&&(s[9]=h[2],e.multiply(n,n,s)),h[1]!==0&&(s[9]=0,s[8]=h[1],e.multiply(n,n,s)),h[0]!==0&&(s[8]=0,s[4]=h[0],e.multiply(n,n,s)),e.scale(n,n,o),n}},9298:function(d,v,r){var e=r(5070),s=r(7649),n=r(7437),l=r(6109),o=r(7115),h=r(5240),b=r(3012),f=r(998);r(3668);var k=r(899),a=[0,0,0];d.exports=S;function c(_){this._components=_.slice(),this._time=[0],this.prevMatrix=_.slice(),this.nextMatrix=_.slice(),this.computedMatrix=_.slice(),this.computedInverse=_.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=c.prototype;p.recalcMatrix=function(_){var T=this._time,P=e.le(T,_),u=this.computedMatrix;if(!(P<0)){var g=this._components;if(P===T.length-1)for(var L=16*P,A=0;A<16;++A)u[A]=g[L++];else{for(var R=T[P+1]-T[P],L=16*P,O=this.prevMatrix,N=!0,A=0;A<16;++A)O[A]=g[L++];for(var z=this.nextMatrix,A=0;A<16;++A)z[A]=g[L++],N=N&&O[A]===z[A];if(R<1e-6||N)for(var A=0;A<16;++A)u[A]=O[A];else s(u,O,z,(_-T[P])/R)}var F=this.computedUp;F[0]=u[1],F[1]=u[5],F[2]=u[9],k(F,F);var I=this.computedInverse;n(I,u);var j=this.computedEye,V=I[15];j[0]=I[12]/V,j[1]=I[13]/V,j[2]=I[14]/V;for(var W=this.computedCenter,K=Math.exp(this.computedRadius[0]),A=0;A<3;++A)W[A]=j[A]-u[2+4*A]*K}},p.idle=function(_){if(!(_<this.lastT())){for(var T=this._components,P=T.length-16,u=0;u<16;++u)T.push(T[P++]);this._time.push(_)}},p.flush=function(_){var T=e.gt(this._time,_)-2;T<0||(this._time.splice(0,T),this._components.splice(0,16*T))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(_,T,P,u){this.recalcMatrix(_),T=T||this.computedEye,P=P||a,u=u||this.computedUp,this.setMatrix(_,b(this.computedMatrix,T,P,u));for(var g=0,L=0;L<3;++L)g+=Math.pow(P[L]-T[L],2);g=Math.log(Math.sqrt(g)),this.computedRadius[0]=g},p.rotate=function(_,T,P,u){this.recalcMatrix(_);var g=this.computedInverse;T&&o(g,g,T),P&&l(g,g,P),u&&h(g,g,u),this.setMatrix(_,n(this.computedMatrix,g))};var w=[0,0,0];p.pan=function(_,T,P,u){w[0]=-(T||0),w[1]=-(P||0),w[2]=-(u||0),this.recalcMatrix(_);var g=this.computedInverse;f(g,g,w),this.setMatrix(_,n(g,g))},p.translate=function(_,T,P,u){w[0]=T||0,w[1]=P||0,w[2]=u||0,this.recalcMatrix(_);var g=this.computedMatrix;f(g,g,w),this.setMatrix(_,g)},p.setMatrix=function(_,T){if(!(_<this.lastT())){this._time.push(_);for(var P=0;P<16;++P)this._components.push(T[P])}},p.setDistance=function(_,T){this.computedRadius[0]=T},p.setDistanceLimits=function(_,T){var P=this._limits;P[0]=_,P[1]=T},p.getDistanceLimits=function(_){var T=this._limits;return _?(_[0]=T[0],_[1]=T[1],_):T};function S(_){_=_||{};var T=_.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new c(T)}},3266:function(d,v,r){d.exports=s;var e=r(417)[3];function s(n){var l=n.length;if(l<3){for(var o=new Array(l),h=0;h<l;++h)o[h]=h;return l===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:o}for(var b=new Array(l),h=0;h<l;++h)b[h]=h;b.sort(function(T,P){var u=n[T][0]-n[P][0];return u||n[T][1]-n[P][1]});for(var f=[b[0],b[1]],k=[b[0],b[1]],h=2;h<l;++h){for(var a=b[h],c=n[a],p=f.length;p>1&&e(n[f[p-2]],n[f[p-1]],c)<=0;)p-=1,f.pop();for(f.push(a),p=k.length;p>1&&e(n[k[p-2]],n[k[p-1]],c)>=0;)p-=1,k.pop();k.push(a)}for(var o=new Array(k.length+f.length-2),w=0,h=0,S=f.length;h<S;++h)o[w++]=f[h];for(var _=k.length-2;_>0;--_)o[w++]=k[_];return o}},6145:function(d,v,r){d.exports=s;var e=r(4110);function s(n,l){l||(l=n,n=window);var o=0,h=0,b=0,f={shift:!1,alt:!1,control:!1,meta:!1},k=!1;function a(A){var R=!1;return"altKey"in A&&(R=R||A.altKey!==f.alt,f.alt=!!A.altKey),"shiftKey"in A&&(R=R||A.shiftKey!==f.shift,f.shift=!!A.shiftKey),"ctrlKey"in A&&(R=R||A.ctrlKey!==f.control,f.control=!!A.ctrlKey),"metaKey"in A&&(R=R||A.metaKey!==f.meta,f.meta=!!A.metaKey),R}function c(A,R){var O=e.x(R),N=e.y(R);"buttons"in R&&(A=R.buttons|0),(A!==o||O!==h||N!==b||a(R))&&(o=A|0,h=O||0,b=N||0,l&&l(o,h,b,f))}function p(A){c(0,A)}function w(){(o||h||b||f.shift||f.alt||f.meta||f.control)&&(h=b=0,o=0,f.shift=f.alt=f.control=f.meta=!1,l&&l(0,0,0,f))}function S(A){a(A)&&l&&l(o,h,b,f)}function _(A){e.buttons(A)===0?c(0,A):c(o,A)}function T(A){c(o|e.buttons(A),A)}function P(A){c(o&~e.buttons(A),A)}function u(){k||(k=!0,n.addEventListener("mousemove",_),n.addEventListener("mousedown",T),n.addEventListener("mouseup",P),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",w),n.addEventListener("keyup",S),n.addEventListener("keydown",S),n.addEventListener("keypress",S),n!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",S),window.addEventListener("keydown",S),window.addEventListener("keypress",S)))}function g(){k&&(k=!1,n.removeEventListener("mousemove",_),n.removeEventListener("mousedown",T),n.removeEventListener("mouseup",P),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",w),n.removeEventListener("keyup",S),n.removeEventListener("keydown",S),n.removeEventListener("keypress",S),n!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",S),window.removeEventListener("keydown",S),window.removeEventListener("keypress",S)))}u();var L={element:n};return Object.defineProperties(L,{enabled:{get:function(){return k},set:function(A){A?u():g()},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return h},enumerable:!0},y:{get:function(){return b},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),L}},2565:function(d){var v={left:0,top:0};d.exports=r;function r(s,n,l){n=n||s.currentTarget||s.srcElement,Array.isArray(l)||(l=[0,0]);var o=s.clientX||0,h=s.clientY||0,b=e(n);return l[0]=o-b.left,l[1]=h-b.top,l}function e(s){return s===window||s===document||s===document.body?v:s.getBoundingClientRect()}},4110:function(d,v){function r(l){if(typeof l=="object"){if("buttons"in l)return l.buttons;if("which"in l){var o=l.which;if(o===2)return 4;if(o===3)return 2;if(o>0)return 1<<o-1}else if("button"in l){var o=l.button;if(o===1)return 4;if(o===2)return 2;if(o>=0)return 1<<o}}return 0}v.buttons=r;function e(l){return l.target||l.srcElement||window}v.element=e;function s(l){if(typeof l=="object"){if("offsetX"in l)return l.offsetX;var o=e(l),h=o.getBoundingClientRect();return l.clientX-h.left}return 0}v.x=s;function n(l){if(typeof l=="object"){if("offsetY"in l)return l.offsetY;var o=e(l),h=o.getBoundingClientRect();return l.clientY-h.top}return 0}v.y=n},6475:function(d,v,r){var e=r(14);d.exports=s;function s(n,l,o){typeof n=="function"&&(o=!!l,l=n,n=window);var h=e("ex",n),b=function(f){o&&f.preventDefault();var k=f.deltaX||0,a=f.deltaY||0,c=f.deltaZ||0,p=f.deltaMode,w=1;switch(p){case 1:w=h;break;case 2:w=window.innerHeight;break}if(k*=w,a*=w,c*=w,k||a||c)return l(k,a,c,f)};return n.addEventListener("wheel",b),b}},9284:function(d,v,r){var e=r(5306);d.exports=l;var s={"false,0,1":function(o,h,b,f,k){return function(a,c,p,w){var S=a.shape[0]|0,_=a.shape[1]|0,T=a.data,P=a.offset|0,u=a.stride[0]|0,g=a.stride[1]|0,L=P,A,R=-u|0,O=0,N=-g|0,z=0,F=-u-g|0,I=0,j=u|0,V=g-u*S|0,W=0,K=0,et=0,lt=2*S|0,ot=f(lt),q=f(lt),J=0,it=0,Z=-1,tt=-1,st=0,Q=-S|0,G=S|0,ut=0,at=-S-1|0,dt=S-1|0,gt=0,wt=0,kt=0;for(W=0;W<S;++W)ot[J++]=b(T[L],c,p,w),L+=j;if(L+=V,_>0){if(K=1,ot[J++]=b(T[L],c,p,w),L+=j,S>0)for(W=1,A=T[L],it=ot[J]=b(A,c,p,w),st=ot[J+Z],ut=ot[J+Q],gt=ot[J+at],(it!==st||it!==ut||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,st,ut,gt,c,p,w),wt=q[J]=et++),J+=1,L+=j,W=2;W<S;++W)A=T[L],it=ot[J]=b(A,c,p,w),st=ot[J+Z],ut=ot[J+Q],gt=ot[J+at],(it!==st||it!==ut||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,st,ut,gt,c,p,w),wt=q[J]=et++,gt!==st&&h(q[J+Z],wt,I,O,gt,st,c,p,w)),J+=1,L+=j;for(L+=V,J=0,kt=Z,Z=tt,tt=kt,kt=Q,Q=G,G=kt,kt=at,at=dt,dt=kt,K=2;K<_;++K){if(ot[J++]=b(T[L],c,p,w),L+=j,S>0)for(W=1,A=T[L],it=ot[J]=b(A,c,p,w),st=ot[J+Z],ut=ot[J+Q],gt=ot[J+at],(it!==st||it!==ut||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,st,ut,gt,c,p,w),wt=q[J]=et++,gt!==ut&&h(q[J+Q],wt,z,I,ut,gt,c,p,w)),J+=1,L+=j,W=2;W<S;++W)A=T[L],it=ot[J]=b(A,c,p,w),st=ot[J+Z],ut=ot[J+Q],gt=ot[J+at],(it!==st||it!==ut||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,st,ut,gt,c,p,w),wt=q[J]=et++,gt!==ut&&h(q[J+Q],wt,z,I,ut,gt,c,p,w),gt!==st&&h(q[J+Z],wt,I,O,gt,st,c,p,w)),J+=1,L+=j;K&1&&(J=0),kt=Z,Z=tt,tt=kt,kt=Q,Q=G,G=kt,kt=at,at=dt,dt=kt,L+=V}}k(q),k(ot)}},"false,1,0":function(o,h,b,f,k){return function(a,c,p,w){var S=a.shape[0]|0,_=a.shape[1]|0,T=a.data,P=a.offset|0,u=a.stride[0]|0,g=a.stride[1]|0,L=P,A,R=-u|0,O=0,N=-g|0,z=0,F=-u-g|0,I=0,j=g|0,V=u-g*_|0,W=0,K=0,et=0,lt=2*_|0,ot=f(lt),q=f(lt),J=0,it=0,Z=-1,tt=-1,st=0,Q=-_|0,G=_|0,ut=0,at=-_-1|0,dt=_-1|0,gt=0,wt=0,kt=0;for(K=0;K<_;++K)ot[J++]=b(T[L],c,p,w),L+=j;if(L+=V,S>0){if(W=1,ot[J++]=b(T[L],c,p,w),L+=j,_>0)for(K=1,A=T[L],it=ot[J]=b(A,c,p,w),ut=ot[J+Q],st=ot[J+Z],gt=ot[J+at],(it!==ut||it!==st||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,ut,st,gt,c,p,w),wt=q[J]=et++),J+=1,L+=j,K=2;K<_;++K)A=T[L],it=ot[J]=b(A,c,p,w),ut=ot[J+Q],st=ot[J+Z],gt=ot[J+at],(it!==ut||it!==st||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,ut,st,gt,c,p,w),wt=q[J]=et++,gt!==st&&h(q[J+Z],wt,z,I,st,gt,c,p,w)),J+=1,L+=j;for(L+=V,J=0,kt=Q,Q=G,G=kt,kt=Z,Z=tt,tt=kt,kt=at,at=dt,dt=kt,W=2;W<S;++W){if(ot[J++]=b(T[L],c,p,w),L+=j,_>0)for(K=1,A=T[L],it=ot[J]=b(A,c,p,w),ut=ot[J+Q],st=ot[J+Z],gt=ot[J+at],(it!==ut||it!==st||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,ut,st,gt,c,p,w),wt=q[J]=et++,gt!==ut&&h(q[J+Q],wt,I,O,gt,ut,c,p,w)),J+=1,L+=j,K=2;K<_;++K)A=T[L],it=ot[J]=b(A,c,p,w),ut=ot[J+Q],st=ot[J+Z],gt=ot[J+at],(it!==ut||it!==st||it!==gt)&&(O=T[L+R],z=T[L+N],I=T[L+F],o(W,K,A,O,z,I,it,ut,st,gt,c,p,w),wt=q[J]=et++,gt!==st&&h(q[J+Z],wt,z,I,st,gt,c,p,w),gt!==ut&&h(q[J+Q],wt,I,O,gt,ut,c,p,w)),J+=1,L+=j;W&1&&(J=0),kt=Q,Q=G,G=kt,kt=Z,Z=tt,tt=kt,kt=at,at=dt,dt=kt,L+=V}}k(q),k(ot)}}};function n(o,h,b,f,k,a){var c=[a,k].join(","),p=s[c];return p(o,h,b,e.mallocUint32,e.freeUint32)}function l(o){function h(w){throw new Error("ndarray-extract-contour: "+w)}typeof o!="object"&&h("Must specify arguments");var b=o.order;Array.isArray(b)||h("Must specify order");var f=o.arrayArguments||1;f<1&&h("Must have at least one array argument");var k=o.scalarArguments||0;k<0&&h("Scalar arg count must be > 0"),typeof o.vertex!="function"&&h("Must specify vertex creation function"),typeof o.cell!="function"&&h("Must specify cell creation function"),typeof o.phase!="function"&&h("Must specify phase function");for(var a=o.getters||[],c=new Array(f),p=0;p<f;++p)a.indexOf(p)>=0?c[p]=!0:c[p]=!1;return n(o.vertex,o.cell,o.phase,k,b,c)}},9144:function(d,v,r){var e=r(3094),s={zero:function(S,_,T,P){var u=S[0],g=T[0];P|=0;var L=0,A=g;for(L=0;L<u;++L)_[P]=0,P+=A},fdTemplate1:function(S,_,T,P,u,g,L){var A=S[0],R=T[0],O=g[0],N=-1*R,z=R;P|=0,L|=0;var F=0,I=R,j=O;for(F=0;F<A;++F)u[L]=.5*(_[P+N]-_[P+z]),P+=I,L+=j},fdTemplate2:function(S,_,T,P,u,g,L,A,R,O){var N=S[0],z=S[1],F=T[0],I=T[1],j=g[0],V=g[1],W=R[0],K=R[1],et=-1*F,lt=F,ot=-1*I,q=I;P|=0,L|=0,O|=0;var J=0,it=0,Z=I,tt=F-z*I,st=V,Q=j-z*V,G=K,ut=W-z*K;for(it=0;it<N;++it){for(J=0;J<z;++J)u[L]=.5*(_[P+et]-_[P+lt]),A[O]=.5*(_[P+ot]-_[P+q]),P+=Z,L+=st,O+=G;P+=tt,L+=Q,O+=ut}}},n={cdiff:function(S){var _={};return function(T,P,u){var g=T.dtype,L=T.order,A=P.dtype,R=P.order,O=u.dtype,N=u.order,z=[g,L.join(),A,R.join(),O,N.join()].join(),F=_[z];return F||(_[z]=F=S([g,L,A,R,O,N])),F(T.shape.slice(0),T.data,T.stride,T.offset|0,P.data,P.stride,P.offset|0,u.data,u.stride,u.offset|0)}},zero:function(S){var _={};return function(T){var P=T.dtype,u=T.order,g=[P,u.join()].join(),L=_[g];return L||(_[g]=L=S([P,u])),L(T.shape.slice(0),T.data,T.stride,T.offset|0)}},fdTemplate1:function(S){var _={};return function(T,P){var u=T.dtype,g=T.order,L=P.dtype,A=P.order,R=[u,g.join(),L,A.join()].join(),O=_[R];return O||(_[R]=O=S([u,g,L,A])),O(T.shape.slice(0),T.data,T.stride,T.offset|0,P.data,P.stride,P.offset|0)}},fdTemplate2:function(S){var _={};return function(T,P,u){var g=T.dtype,L=T.order,A=P.dtype,R=P.order,O=u.dtype,N=u.order,z=[g,L.join(),A,R.join(),O,N.join()].join(),F=_[z];return F||(_[z]=F=S([g,L,A,R,O,N])),F(T.shape.slice(0),T.data,T.stride,T.offset|0,P.data,P.stride,P.offset|0,u.data,u.stride,u.offset|0)}}};function l(S){var _=n[S.funcName];return _(o.bind(void 0,S))}function o(S){return s[S.funcName]}function h(S){return l({funcName:S.funcName})}var b={},f={},k=h({funcName:"cdiff"}),a=h({funcName:"zero"});function c(S){return S in b?b[S]:b[S]=h({funcName:"fdTemplate"+S})}function p(S,_,T,P){return function(u,g){var L=g.shape.slice();return L[0]>2&&L[1]>2&&P(g.pick(-1,-1).lo(1,1).hi(L[0]-2,L[1]-2),u.pick(-1,-1,0).lo(1,1).hi(L[0]-2,L[1]-2),u.pick(-1,-1,1).lo(1,1).hi(L[0]-2,L[1]-2)),L[1]>2&&(T(g.pick(0,-1).lo(1).hi(L[1]-2),u.pick(0,-1,1).lo(1).hi(L[1]-2)),_(u.pick(0,-1,0).lo(1).hi(L[1]-2))),L[1]>2&&(T(g.pick(L[0]-1,-1).lo(1).hi(L[1]-2),u.pick(L[0]-1,-1,1).lo(1).hi(L[1]-2)),_(u.pick(L[0]-1,-1,0).lo(1).hi(L[1]-2))),L[0]>2&&(T(g.pick(-1,0).lo(1).hi(L[0]-2),u.pick(-1,0,0).lo(1).hi(L[0]-2)),_(u.pick(-1,0,1).lo(1).hi(L[0]-2))),L[0]>2&&(T(g.pick(-1,L[1]-1).lo(1).hi(L[0]-2),u.pick(-1,L[1]-1,0).lo(1).hi(L[0]-2)),_(u.pick(-1,L[1]-1,1).lo(1).hi(L[0]-2))),u.set(0,0,0,0),u.set(0,0,1,0),u.set(L[0]-1,0,0,0),u.set(L[0]-1,0,1,0),u.set(0,L[1]-1,0,0),u.set(0,L[1]-1,1,0),u.set(L[0]-1,L[1]-1,0,0),u.set(L[0]-1,L[1]-1,1,0),u}}function w(S){var _=S.join(),L=f[_];if(L)return L;for(var T=S.length,P=[k,a],u=1;u<=T;++u)P.push(c(u));var g=p,L=g.apply(void 0,P);return f[_]=L,L}d.exports=function(S,_,T){if(Array.isArray(T)||(typeof T=="string"?T=e(_.dimension,T):T=e(_.dimension,"clamp")),_.size===0)return S;if(_.dimension===0)return S.set(0),S;var P=w(T);return P(S,_)}},3581:function(d){function v(l,o){var h=Math.floor(o),b=o-h,f=0<=h&&h<l.shape[0],k=0<=h+1&&h+1<l.shape[0],a=f?+l.get(h):0,c=k?+l.get(h+1):0;return(1-b)*a+b*c}function r(l,o,h){var b=Math.floor(o),f=o-b,k=0<=b&&b<l.shape[0],a=0<=b+1&&b+1<l.shape[0],c=Math.floor(h),p=h-c,w=0<=c&&c<l.shape[1],S=0<=c+1&&c+1<l.shape[1],_=k&&w?l.get(b,c):0,T=k&&S?l.get(b,c+1):0,P=a&&w?l.get(b+1,c):0,u=a&&S?l.get(b+1,c+1):0;return(1-p)*((1-f)*_+f*P)+p*((1-f)*T+f*u)}function e(l,o,h,b){var f=Math.floor(o),k=o-f,a=0<=f&&f<l.shape[0],c=0<=f+1&&f+1<l.shape[0],p=Math.floor(h),w=h-p,S=0<=p&&p<l.shape[1],_=0<=p+1&&p+1<l.shape[1],T=Math.floor(b),P=b-T,u=0<=T&&T<l.shape[2],g=0<=T+1&&T+1<l.shape[2],L=a&&S&&u?l.get(f,p,T):0,A=a&&_&&u?l.get(f,p+1,T):0,R=c&&S&&u?l.get(f+1,p,T):0,O=c&&_&&u?l.get(f+1,p+1,T):0,N=a&&S&&g?l.get(f,p,T+1):0,z=a&&_&&g?l.get(f,p+1,T+1):0,F=c&&S&&g?l.get(f+1,p,T+1):0,I=c&&_&&g?l.get(f+1,p+1,T+1):0;return(1-P)*((1-w)*((1-k)*L+k*R)+w*((1-k)*A+k*O))+P*((1-w)*((1-k)*N+k*F)+w*((1-k)*z+k*I))}function s(l){var o=l.shape.length|0,h=new Array(o),b=new Array(o),f=new Array(o),k=new Array(o),a,c;for(a=0;a<o;++a)c=+arguments[a+1],h[a]=Math.floor(c),b[a]=c-h[a],f[a]=0<=h[a]&&h[a]<l.shape[a],k[a]=0<=h[a]+1&&h[a]+1<l.shape[a];var p=0,w,S,_;t:for(a=0;a<1<<o;++a){for(S=1,_=l.offset,w=0;w<o;++w)if(a&1<<w){if(!k[w])continue t;S*=b[w],_+=l.stride[w]*(h[w]+1)}else{if(!f[w])continue t;S*=1-b[w],_+=l.stride[w]*h[w]}p+=S*l.data[_]}return p}function n(l,o,h,b){switch(l.shape.length){case 0:return 0;case 1:return v(l,o);case 2:return r(l,o,h);case 3:return e(l,o,h,b);default:return s.apply(void 0,arguments)}}d.exports=n,d.exports.d1=v,d.exports.d2=r,d.exports.d3=e},7498:function(d,v){var r={"float64,2,1,0":function(){return function(b,f,k,a,c){var p=b[0],w=b[1],S=b[2],_=k[0],T=k[1],P=k[2];a|=0;var u=0,g=0,L=0,A=P,R=T-S*P,O=_-w*T;for(L=0;L<p;++L){for(g=0;g<w;++g){for(u=0;u<S;++u)f[a]/=c,a+=A;a+=R}a+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(b,f,k,a,c,p,w,S){var _=b[0],T=b[1],P=b[2],u=k[0],g=k[1],L=k[2],A=p[0],R=p[1],O=p[2];a|=0,w|=0;for(var N=a,z=w,F=b[0]|0;F>0;){F<64?(_=F,F=0):(_=64,F-=64);for(var I=b[1]|0;I>0;){I<64?(T=I,I=0):(T=64,I-=64),a=N+F*u+I*g,w=z+F*A+I*R;var j=0,V=0,W=0,K=L,et=u-P*L,lt=g-_*u,ot=O,q=A-P*O,J=R-_*A;for(W=0;W<T;++W){for(V=0;V<_;++V){for(j=0;j<P;++j)f[a]=c[w]*S,a+=K,w+=ot;a+=et,w+=q}a+=lt,w+=J}}}}},"float32,1,0,float32,1,0":function(){return function(b,f,k,a,c,p,w){var S=b[0],_=b[1],T=k[0],P=k[1],u=p[0],g=p[1];a|=0,w|=0;var L=0,A=0,R=P,O=T-_*P,N=g,z=u-_*g;for(A=0;A<S;++A){for(L=0;L<_;++L)f[a]=c[w],a+=R,w+=N;a+=O,w+=z}}},"float32,1,0,float32,0,1":function(){return function(b,f,k,a,c,p,w){var S=b[0],_=b[1],T=k[0],P=k[1],u=p[0],g=p[1];a|=0,w|=0;for(var L=a,A=w,R=b[1]|0;R>0;){R<64?(_=R,R=0):(_=64,R-=64);for(var O=b[0]|0;O>0;){O<64?(S=O,O=0):(S=64,O-=64),a=L+R*P+O*T,w=A+R*g+O*u;var N=0,z=0,F=P,I=T-_*P,j=g,V=u-_*g;for(z=0;z<S;++z){for(N=0;N<_;++N)f[a]=c[w],a+=F,w+=j;a+=I,w+=V}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(b,f,k,a,c,p,w){var S=b[0],_=b[1],T=b[2],P=k[0],u=k[1],g=k[2],L=p[0],A=p[1],R=p[2];a|=0,w|=0;for(var O=a,N=w,z=b[2]|0;z>0;){z<64?(T=z,z=0):(T=64,z-=64);for(var F=b[0]|0;F>0;){F<64?(S=F,F=0):(S=64,F-=64);for(var I=b[1]|0;I>0;){I<64?(_=I,I=0):(_=64,I-=64),a=O+z*g+F*P+I*u,w=N+z*R+F*L+I*A;var j=0,V=0,W=0,K=g,et=P-T*g,lt=u-S*P,ot=R,q=L-T*R,J=A-S*L;for(W=0;W<_;++W){for(V=0;V<S;++V){for(j=0;j<T;++j)f[a]=c[w],a+=K,w+=ot;a+=et,w+=q}a+=lt,w+=J}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(b,f,k,a,c,p,w){var S=b[0],_=b[1],T=b[2],P=k[0],u=k[1],g=k[2],L=p[0],A=p[1],R=p[2];a|=0,w|=0;var O=0,N=0,z=0,F=g,I=P-T*g,j=u-S*P,V=R,W=L-T*R,K=A-S*L;for(z=0;z<_;++z){for(N=0;N<S;++N){for(O=0;O<T;++O)f[a]=c[w],a+=F,w+=V;a+=I,w+=W}a+=j,w+=K}}}};function e(b,f){var k=f.join(","),a=r[k];return a()}var s=e,n={mul:function(b){var f={};return function(k,a,c){var p=k.dtype,w=k.order,S=a.dtype,_=a.order,T=c.dtype,P=c.order,u=[p,w.join(),S,_.join(),T,P.join()].join(),g=f[u];return g||(f[u]=g=b([p,w,S,_,T,P])),g(k.shape.slice(0),k.data,k.stride,k.offset|0,a.data,a.stride,a.offset|0,c.data,c.stride,c.offset|0)}},muls:function(b){var f={};return function(k,a,c){var p=k.dtype,w=k.order,S=a.dtype,_=a.order,T=[p,w.join(),S,_.join()].join(),P=f[T];return P||(f[T]=P=b([p,w,S,_])),P(k.shape.slice(0),k.data,k.stride,k.offset|0,a.data,a.stride,a.offset|0,c)}},mulseq:function(b){var f={};return function(k,a){var c=k.dtype,p=k.order,w=[c,p.join()].join(),S=f[w];return S||(f[w]=S=b([c,p])),S(k.shape.slice(0),k.data,k.stride,k.offset|0,a)}},div:function(b){var f={};return function(k,a,c){var p=k.dtype,w=k.order,S=a.dtype,_=a.order,T=c.dtype,P=c.order,u=[p,w.join(),S,_.join(),T,P.join()].join(),g=f[u];return g||(f[u]=g=b([p,w,S,_,T,P])),g(k.shape.slice(0),k.data,k.stride,k.offset|0,a.data,a.stride,a.offset|0,c.data,c.stride,c.offset|0)}},divs:function(b){var f={};return function(k,a,c){var p=k.dtype,w=k.order,S=a.dtype,_=a.order,T=[p,w.join(),S,_.join()].join(),P=f[T];return P||(f[T]=P=b([p,w,S,_])),P(k.shape.slice(0),k.data,k.stride,k.offset|0,a.data,a.stride,a.offset|0,c)}},divseq:function(b){var f={};return function(k,a){var c=k.dtype,p=k.order,w=[c,p.join()].join(),S=f[w];return S||(f[w]=S=b([c,p])),S(k.shape.slice(0),k.data,k.stride,k.offset|0,a)}},assign:function(b){var f={};return function(k,a){var c=k.dtype,p=k.order,w=a.dtype,S=a.order,_=[c,p.join(),w,S.join()].join(),T=f[_];return T||(f[_]=T=b([c,p,w,S])),T(k.shape.slice(0),k.data,k.stride,k.offset|0,a.data,a.stride,a.offset|0)}}};function l(b){var f=n[b.funcName];return f(s.bind(void 0,b))}function o(b){return l({funcName:b.funcName})}var h={mul:"*",div:"/"};(function(){for(var b in h)v[b]=o({funcName:b}),v[b+"s"]=o({funcName:b+"s"}),v[b+"seq"]=o({funcName:b+"seq"})})(),v.assign=o({funcName:"assign"})},7382:function(d,v,r){var e=r(5050),s=r(9262);d.exports=function(n,l){for(var o=[],h=n,b=1;Array.isArray(h);)o.push(h.length),b*=h.length,h=h[0];return o.length===0?e():(l||(l=e(new Float64Array(b),o)),s(l,n),l)}},9262:function(d){function v(){return function(o,h,b,f,k){var a=o[0],c=o[1],p=o[2],w=b[0],S=b[1],_=b[2],T=[0,0,0];f|=0;var P=0,u=0,g=0,L=_,A=S-p*_,R=w-c*S;for(g=0;g<a;++g){for(u=0;u<c;++u){for(P=0;P<p;++P){{var O=k,N;for(N=0;N<T.length-1;++N)O=O[T[N]];h[f]=O[T[T.length-1]]}f+=L,++T[2]}f+=A,T[2]-=p,++T[1]}f+=R,T[1]-=c,++T[0]}}}function r(){return v()}var e=r;function s(o){var h={};return function(b,f){var k=b.dtype,a=b.order,c=[k,a.join()].join(),p=h[c];return p||(h[c]=p=o([k,a])),p(b.shape.slice(0),b.data,b.stride,b.offset|0,f)}}function n(o){return s(e.bind(void 0,o))}function l(o){return n({funcName:o.funcName})}d.exports=l({funcName:"convert"})},8139:function(d,v,r){var e=r(5306);function s(k){switch(k){case"uint32":return[e.mallocUint32,e.freeUint32];default:return null}}var n={"uint32,1,0":function(k,a){return function(c,p,w,S,_,T,P,u,g,L,A){var R,O,N,z=c*_+S,F,I=k(u),j,V,W,K;for(R=c+1;R<=p;++R){for(O=R,z+=_,N=z,j=0,V=z,F=0;F<u;++F)I[j++]=w[V],V+=g;t:for(;O-- >c;){j=0,V=N-_;e:for(F=0;F<u;++F){if(W=w[V],K=I[j],W<K)break t;if(W>K)break e;V+=L,j+=A}for(j=N,V=N-_,F=0;F<u;++F)w[j]=w[V],j+=g,V+=g;N-=_}for(j=N,V=0,F=0;F<u;++F)w[j]=I[V++],j+=g}a(I)}}};function l(k,a){var c=s(a),p=[a,k].join(","),w=n[p];return c?w(c[0],c[1]):w()}var o={"uint32,1,0":function(k,a,c){return function p(w,S,_,T,P,u,g,L,A,R,O){var N=(S-w+1)/6|0,z=w+N,F=S-N,I=w+S>>1,j=I-N,V=I+N,W=z,K=j,et=I,lt=V,ot=F,q=w+1,J=S-1,it=!0,Z,tt,st,Q,G,ut,at,dt,gt,wt=0,kt=0,Ot=0,bt,_t,mt,Pt,Rt,Ht,Dt,Xt,se,Yt,ue,ie,fe,ce,ye,de,Te=L,Et=a(Te),Vt=a(Te);_t=P*W,mt=P*K,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=W,W=K,K=tt;break t}if(Ot<0)break t;de+=R}_t=P*lt,mt=P*ot,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=lt,lt=ot,ot=tt;break t}if(Ot<0)break t;de+=R}_t=P*W,mt=P*et,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=W,W=et,et=tt;break t}if(Ot<0)break t;de+=R}_t=P*K,mt=P*et,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=K,K=et,et=tt;break t}if(Ot<0)break t;de+=R}_t=P*W,mt=P*lt,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=W,W=lt,lt=tt;break t}if(Ot<0)break t;de+=R}_t=P*et,mt=P*lt,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=et,et=lt,lt=tt;break t}if(Ot<0)break t;de+=R}_t=P*K,mt=P*ot,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=K,K=ot,ot=tt;break t}if(Ot<0)break t;de+=R}_t=P*K,mt=P*et,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=K,K=et,et=tt;break t}if(Ot<0)break t;de+=R}_t=P*lt,mt=P*ot,de=T;t:for(bt=0;bt<L;++bt){if(at=_t+de,dt=mt+de,Ot=_[at]-_[dt],Ot>0){tt=lt,lt=ot,ot=tt;break t}if(Ot<0)break t;de+=R}for(_t=P*W,mt=P*K,Pt=P*et,Rt=P*lt,Ht=P*ot,Dt=P*z,Xt=P*I,se=P*F,ye=0,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,gt=Pt+de,Yt=Rt+de,ue=Ht+de,ie=Dt+de,fe=Xt+de,ce=se+de,Et[ye]=_[dt],Vt[ye]=_[Yt],it=it&&Et[ye]===Vt[ye],st=_[at],Q=_[gt],G=_[ue],_[ie]=st,_[fe]=Q,_[ce]=G,++ye,de+=A;for(_t=P*j,mt=P*w,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,_[at]=_[dt],de+=A;for(_t=P*V,mt=P*S,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,_[at]=_[dt],de+=A;if(it)for(ut=q;ut<=J;++ut){at=T+ut*P,ye=0;t:for(bt=0;bt<L;++bt){if(Ot=_[at]-Et[ye],Ot!==0)break t;ye+=O,at+=R}if(Ot!==0)if(Ot<0){if(ut!==q)for(_t=P*ut,mt=P*q,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,Z=_[at],_[at]=_[dt],_[dt]=Z,de+=A;++q}else for(;;){at=T+J*P,ye=0;t:for(bt=0;bt<L;++bt){if(Ot=_[at]-Et[ye],Ot!==0)break t;ye+=O,at+=R}if(Ot>0)J--;else if(Ot<0){for(_t=P*ut,mt=P*q,Pt=P*J,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,gt=Pt+de,Z=_[at],_[at]=_[dt],_[dt]=_[gt],_[gt]=Z,de+=A;++q,--J;break}else{for(_t=P*ut,mt=P*J,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,Z=_[at],_[at]=_[dt],_[dt]=Z,de+=A;--J;break}}}else for(ut=q;ut<=J;++ut){at=T+ut*P,ye=0;t:for(bt=0;bt<L;++bt){if(wt=_[at]-Et[ye],wt!==0)break t;ye+=O,at+=R}if(wt<0){if(ut!==q)for(_t=P*ut,mt=P*q,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,Z=_[at],_[at]=_[dt],_[dt]=Z,de+=A;++q}else{at=T+ut*P,ye=0;t:for(bt=0;bt<L;++bt){if(kt=_[at]-Vt[ye],kt!==0)break t;ye+=O,at+=R}if(kt>0)for(;;){at=T+J*P,ye=0;t:for(bt=0;bt<L;++bt){if(Ot=_[at]-Vt[ye],Ot!==0)break t;ye+=O,at+=R}if(Ot>0){if(--J<ut)break;continue}else{at=T+J*P,ye=0;t:for(bt=0;bt<L;++bt){if(Ot=_[at]-Et[ye],Ot!==0)break t;ye+=O,at+=R}if(Ot<0){for(_t=P*ut,mt=P*q,Pt=P*J,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,gt=Pt+de,Z=_[at],_[at]=_[dt],_[dt]=_[gt],_[gt]=Z,de+=A;++q,--J}else{for(_t=P*ut,mt=P*J,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,Z=_[at],_[at]=_[dt],_[dt]=Z,de+=A;--J}break}}}}for(_t=P*w,mt=P*(q-1),ye=0,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,_[at]=_[dt],_[dt]=Et[ye],++ye,de+=A;for(_t=P*S,mt=P*(J+1),ye=0,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,_[at]=_[dt],_[dt]=Vt[ye],++ye,de+=A;if(q-2-w<=32?k(w,q-2,_,T,P,u,g,L,A,R,O):p(w,q-2,_,T,P,u,g,L,A,R,O),S-(J+2)<=32?k(J+2,S,_,T,P,u,g,L,A,R,O):p(J+2,S,_,T,P,u,g,L,A,R,O),it){c(Et),c(Vt);return}if(q<z&&J>F){t:for(;;){for(at=T+q*P,ye=0,de=T,bt=0;bt<L;++bt){if(_[at]!==Et[ye])break t;++ye,at+=A}++q}t:for(;;){for(at=T+J*P,ye=0,de=T,bt=0;bt<L;++bt){if(_[at]!==Vt[ye])break t;++ye,at+=A}--J}for(ut=q;ut<=J;++ut){at=T+ut*P,ye=0;t:for(bt=0;bt<L;++bt){if(wt=_[at]-Et[ye],wt!==0)break t;ye+=O,at+=R}if(wt===0){if(ut!==q)for(_t=P*ut,mt=P*q,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,Z=_[at],_[at]=_[dt],_[dt]=Z,de+=A;++q}else{at=T+ut*P,ye=0;t:for(bt=0;bt<L;++bt){if(kt=_[at]-Vt[ye],kt!==0)break t;ye+=O,at+=R}if(kt===0)for(;;){at=T+J*P,ye=0;t:for(bt=0;bt<L;++bt){if(Ot=_[at]-Vt[ye],Ot!==0)break t;ye+=O,at+=R}if(Ot===0){if(--J<ut)break;continue}else{at=T+J*P,ye=0;t:for(bt=0;bt<L;++bt){if(Ot=_[at]-Et[ye],Ot!==0)break t;ye+=O,at+=R}if(Ot<0){for(_t=P*ut,mt=P*q,Pt=P*J,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,gt=Pt+de,Z=_[at],_[at]=_[dt],_[dt]=_[gt],_[gt]=Z,de+=A;++q,--J}else{for(_t=P*ut,mt=P*J,de=T,bt=0;bt<L;++bt)at=_t+de,dt=mt+de,Z=_[at],_[at]=_[dt],_[dt]=Z,de+=A;--J}break}}}}}c(Et),c(Vt),J-q<=32?k(q,J,_,T,P,u,g,L,A,R,O):p(q,J,_,T,P,u,g,L,A,R,O)}}};function h(k,a,c){var p=s(a),w=[a,k].join(","),S=o[w];return k.length>1&&p?S(c,p[0],p[1]):S(c)}var b={"uint32,1,0":function(k,a){return function(c){var p=c.data,w=c.offset|0,S=c.shape,_=c.stride,T=_[0]|0,P=S[0]|0,u=_[1]|0,g=S[1]|0,L=u,A=u,R=1;P<=32?k(0,P-1,p,w,T,u,P,g,L,A,R):a(0,P-1,p,w,T,u,P,g,L,A,R)}}};function f(k,a){var c=[a,k].join(","),p=b[c],w=l(k,a),S=h(k,a,w);return p(w,S)}d.exports=f},8729:function(d,v,r){var e=r(8139),s={};function n(l){var o=l.order,h=l.dtype,b=[o,h],f=b.join(":"),k=s[f];return k||(s[f]=k=e(o,h)),k(l),l}d.exports=n},5050:function(d,v,r){var e=r(4780),s=typeof Float64Array<"u";function n(a,c){return a[0]-c[0]}function l(){var a=this.stride,c=new Array(a.length),p;for(p=0;p<c.length;++p)c[p]=[Math.abs(a[p]),p];c.sort(n);var w=new Array(c.length);for(p=0;p<w.length;++p)w[p]=c[p][1];return w}var o={T:function(a){function c(w){this.data=w}var p=c.prototype;return p.dtype=a,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new c(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(w){return new c(w)}},0:function(a,c){function p(S,_){this.data=S,this.offset=_}var w=p.prototype;return w.dtype=a,w.index=function(){return this.offset},w.dimension=0,w.size=1,w.shape=w.stride=w.order=[],w.lo=w.hi=w.transpose=w.step=function(){return new p(this.data,this.offset)},w.pick=function(){return c(this.data)},w.valueOf=w.get=function(){return a==="generic"?this.data.get(this.offset):this.data[this.offset]},w.set=function(S){return a==="generic"?this.data.set(this.offset,S):this.data[this.offset]=S},function(S,_,T,P){return new p(S,P)}},1:function(a,c,p){function w(_,T,P,u){this.data=_,this.shape=[T],this.stride=[P],this.offset=u|0}var S=w.prototype;return S.dtype=a,S.dimension=1,Object.defineProperty(S,"size",{get:function(){return this.shape[0]}}),S.order=[0],S.set=function(_,T){return a==="generic"?this.data.set(this.offset+this.stride[0]*_,T):this.data[this.offset+this.stride[0]*_]=T},S.get=function(_){return a==="generic"?this.data.get(this.offset+this.stride[0]*_):this.data[this.offset+this.stride[0]*_]},S.index=function(_){return this.offset+this.stride[0]*_},S.hi=function(_){return new w(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,this.stride[0],this.offset)},S.lo=function(_){var T=this.offset,P=0,u=this.shape[0],g=this.stride[0];return typeof _=="number"&&_>=0&&(P=_|0,T+=g*P,u-=P),new w(this.data,u,g,T)},S.step=function(_){var T=this.shape[0],P=this.stride[0],u=this.offset,g=0,L=Math.ceil;return typeof _=="number"&&(g=_|0,g<0?(u+=P*(T-1),T=L(-T/g)):T=L(T/g),P*=g),new w(this.data,T,P,u)},S.transpose=function(_){_=_===void 0?0:_|0;var T=this.shape,P=this.stride;return new w(this.data,T[_],P[_],this.offset)},S.pick=function(_){var T=[],P=[],u=this.offset;typeof _=="number"&&_>=0?u=u+this.stride[0]*_|0:(T.push(this.shape[0]),P.push(this.stride[0]));var g=c[T.length+1];return g(this.data,T,P,u)},function(_,T,P,u){return new w(_,T[0],P[0],u)}},2:function(a,c,p){function w(_,T,P,u,g,L){this.data=_,this.shape=[T,P],this.stride=[u,g],this.offset=L|0}var S=w.prototype;return S.dtype=a,S.dimension=2,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(S,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),S.set=function(_,T,P){return a==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*T,P):this.data[this.offset+this.stride[0]*_+this.stride[1]*T]=P},S.get=function(_,T){return a==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*T):this.data[this.offset+this.stride[0]*_+this.stride[1]*T]},S.index=function(_,T){return this.offset+this.stride[0]*_+this.stride[1]*T},S.hi=function(_,T){return new w(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof T!="number"||T<0?this.shape[1]:T|0,this.stride[0],this.stride[1],this.offset)},S.lo=function(_,T){var P=this.offset,u=0,g=this.shape[0],L=this.shape[1],A=this.stride[0],R=this.stride[1];return typeof _=="number"&&_>=0&&(u=_|0,P+=A*u,g-=u),typeof T=="number"&&T>=0&&(u=T|0,P+=R*u,L-=u),new w(this.data,g,L,A,R,P)},S.step=function(_,T){var P=this.shape[0],u=this.shape[1],g=this.stride[0],L=this.stride[1],A=this.offset,R=0,O=Math.ceil;return typeof _=="number"&&(R=_|0,R<0?(A+=g*(P-1),P=O(-P/R)):P=O(P/R),g*=R),typeof T=="number"&&(R=T|0,R<0?(A+=L*(u-1),u=O(-u/R)):u=O(u/R),L*=R),new w(this.data,P,u,g,L,A)},S.transpose=function(_,T){_=_===void 0?0:_|0,T=T===void 0?1:T|0;var P=this.shape,u=this.stride;return new w(this.data,P[_],P[T],u[_],u[T],this.offset)},S.pick=function(_,T){var P=[],u=[],g=this.offset;typeof _=="number"&&_>=0?g=g+this.stride[0]*_|0:(P.push(this.shape[0]),u.push(this.stride[0])),typeof T=="number"&&T>=0?g=g+this.stride[1]*T|0:(P.push(this.shape[1]),u.push(this.stride[1]));var L=c[P.length+1];return L(this.data,P,u,g)},function(_,T,P,u){return new w(_,T[0],T[1],P[0],P[1],u)}},3:function(a,c,p){function w(_,T,P,u,g,L,A,R){this.data=_,this.shape=[T,P,u],this.stride=[g,L,A],this.offset=R|0}var S=w.prototype;return S.dtype=a,S.dimension=3,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(S,"order",{get:function(){var _=Math.abs(this.stride[0]),T=Math.abs(this.stride[1]),P=Math.abs(this.stride[2]);return _>T?T>P?[2,1,0]:_>P?[1,2,0]:[1,0,2]:_>P?[2,0,1]:P>T?[0,1,2]:[0,2,1]}}),S.set=function(_,T,P,u){return a==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P,u):this.data[this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P]=u},S.get=function(_,T,P){return a==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P):this.data[this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P]},S.index=function(_,T,P){return this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P},S.hi=function(_,T,P){return new w(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof P!="number"||P<0?this.shape[2]:P|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},S.lo=function(_,T,P){var u=this.offset,g=0,L=this.shape[0],A=this.shape[1],R=this.shape[2],O=this.stride[0],N=this.stride[1],z=this.stride[2];return typeof _=="number"&&_>=0&&(g=_|0,u+=O*g,L-=g),typeof T=="number"&&T>=0&&(g=T|0,u+=N*g,A-=g),typeof P=="number"&&P>=0&&(g=P|0,u+=z*g,R-=g),new w(this.data,L,A,R,O,N,z,u)},S.step=function(_,T,P){var u=this.shape[0],g=this.shape[1],L=this.shape[2],A=this.stride[0],R=this.stride[1],O=this.stride[2],N=this.offset,z=0,F=Math.ceil;return typeof _=="number"&&(z=_|0,z<0?(N+=A*(u-1),u=F(-u/z)):u=F(u/z),A*=z),typeof T=="number"&&(z=T|0,z<0?(N+=R*(g-1),g=F(-g/z)):g=F(g/z),R*=z),typeof P=="number"&&(z=P|0,z<0?(N+=O*(L-1),L=F(-L/z)):L=F(L/z),O*=z),new w(this.data,u,g,L,A,R,O,N)},S.transpose=function(_,T,P){_=_===void 0?0:_|0,T=T===void 0?1:T|0,P=P===void 0?2:P|0;var u=this.shape,g=this.stride;return new w(this.data,u[_],u[T],u[P],g[_],g[T],g[P],this.offset)},S.pick=function(_,T,P){var u=[],g=[],L=this.offset;typeof _=="number"&&_>=0?L=L+this.stride[0]*_|0:(u.push(this.shape[0]),g.push(this.stride[0])),typeof T=="number"&&T>=0?L=L+this.stride[1]*T|0:(u.push(this.shape[1]),g.push(this.stride[1])),typeof P=="number"&&P>=0?L=L+this.stride[2]*P|0:(u.push(this.shape[2]),g.push(this.stride[2]));var A=c[u.length+1];return A(this.data,u,g,L)},function(_,T,P,u){return new w(_,T[0],T[1],T[2],P[0],P[1],P[2],u)}},4:function(a,c,p){function w(_,T,P,u,g,L,A,R,O,N){this.data=_,this.shape=[T,P,u,g],this.stride=[L,A,R,O],this.offset=N|0}var S=w.prototype;return S.dtype=a,S.dimension=4,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(S,"order",{get:p}),S.set=function(_,T,P,u,g){return a==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u,g):this.data[this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u]=g},S.get=function(_,T,P,u){return a==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u):this.data[this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u]},S.index=function(_,T,P,u){return this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u},S.hi=function(_,T,P,u){return new w(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof P!="number"||P<0?this.shape[2]:P|0,typeof u!="number"||u<0?this.shape[3]:u|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},S.lo=function(_,T,P,u){var g=this.offset,L=0,A=this.shape[0],R=this.shape[1],O=this.shape[2],N=this.shape[3],z=this.stride[0],F=this.stride[1],I=this.stride[2],j=this.stride[3];return typeof _=="number"&&_>=0&&(L=_|0,g+=z*L,A-=L),typeof T=="number"&&T>=0&&(L=T|0,g+=F*L,R-=L),typeof P=="number"&&P>=0&&(L=P|0,g+=I*L,O-=L),typeof u=="number"&&u>=0&&(L=u|0,g+=j*L,N-=L),new w(this.data,A,R,O,N,z,F,I,j,g)},S.step=function(_,T,P,u){var g=this.shape[0],L=this.shape[1],A=this.shape[2],R=this.shape[3],O=this.stride[0],N=this.stride[1],z=this.stride[2],F=this.stride[3],I=this.offset,j=0,V=Math.ceil;return typeof _=="number"&&(j=_|0,j<0?(I+=O*(g-1),g=V(-g/j)):g=V(g/j),O*=j),typeof T=="number"&&(j=T|0,j<0?(I+=N*(L-1),L=V(-L/j)):L=V(L/j),N*=j),typeof P=="number"&&(j=P|0,j<0?(I+=z*(A-1),A=V(-A/j)):A=V(A/j),z*=j),typeof u=="number"&&(j=u|0,j<0?(I+=F*(R-1),R=V(-R/j)):R=V(R/j),F*=j),new w(this.data,g,L,A,R,O,N,z,F,I)},S.transpose=function(_,T,P,u){_=_===void 0?0:_|0,T=T===void 0?1:T|0,P=P===void 0?2:P|0,u=u===void 0?3:u|0;var g=this.shape,L=this.stride;return new w(this.data,g[_],g[T],g[P],g[u],L[_],L[T],L[P],L[u],this.offset)},S.pick=function(_,T,P,u){var g=[],L=[],A=this.offset;typeof _=="number"&&_>=0?A=A+this.stride[0]*_|0:(g.push(this.shape[0]),L.push(this.stride[0])),typeof T=="number"&&T>=0?A=A+this.stride[1]*T|0:(g.push(this.shape[1]),L.push(this.stride[1])),typeof P=="number"&&P>=0?A=A+this.stride[2]*P|0:(g.push(this.shape[2]),L.push(this.stride[2])),typeof u=="number"&&u>=0?A=A+this.stride[3]*u|0:(g.push(this.shape[3]),L.push(this.stride[3]));var R=c[g.length+1];return R(this.data,g,L,A)},function(_,T,P,u){return new w(_,T[0],T[1],T[2],T[3],P[0],P[1],P[2],P[3],u)}},5:function(a,c,p){function w(_,T,P,u,g,L,A,R,O,N,z,F){this.data=_,this.shape=[T,P,u,g,L],this.stride=[A,R,O,N,z],this.offset=F|0}var S=w.prototype;return S.dtype=a,S.dimension=5,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(S,"order",{get:p}),S.set=function(_,T,P,u,g,L){return a==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u+this.stride[4]*g,L):this.data[this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u+this.stride[4]*g]=L},S.get=function(_,T,P,u,g){return a==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u+this.stride[4]*g):this.data[this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u+this.stride[4]*g]},S.index=function(_,T,P,u,g){return this.offset+this.stride[0]*_+this.stride[1]*T+this.stride[2]*P+this.stride[3]*u+this.stride[4]*g},S.hi=function(_,T,P,u,g){return new w(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof P!="number"||P<0?this.shape[2]:P|0,typeof u!="number"||u<0?this.shape[3]:u|0,typeof g!="number"||g<0?this.shape[4]:g|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},S.lo=function(_,T,P,u,g){var L=this.offset,A=0,R=this.shape[0],O=this.shape[1],N=this.shape[2],z=this.shape[3],F=this.shape[4],I=this.stride[0],j=this.stride[1],V=this.stride[2],W=this.stride[3],K=this.stride[4];return typeof _=="number"&&_>=0&&(A=_|0,L+=I*A,R-=A),typeof T=="number"&&T>=0&&(A=T|0,L+=j*A,O-=A),typeof P=="number"&&P>=0&&(A=P|0,L+=V*A,N-=A),typeof u=="number"&&u>=0&&(A=u|0,L+=W*A,z-=A),typeof g=="number"&&g>=0&&(A=g|0,L+=K*A,F-=A),new w(this.data,R,O,N,z,F,I,j,V,W,K,L)},S.step=function(_,T,P,u,g){var L=this.shape[0],A=this.shape[1],R=this.shape[2],O=this.shape[3],N=this.shape[4],z=this.stride[0],F=this.stride[1],I=this.stride[2],j=this.stride[3],V=this.stride[4],W=this.offset,K=0,et=Math.ceil;return typeof _=="number"&&(K=_|0,K<0?(W+=z*(L-1),L=et(-L/K)):L=et(L/K),z*=K),typeof T=="number"&&(K=T|0,K<0?(W+=F*(A-1),A=et(-A/K)):A=et(A/K),F*=K),typeof P=="number"&&(K=P|0,K<0?(W+=I*(R-1),R=et(-R/K)):R=et(R/K),I*=K),typeof u=="number"&&(K=u|0,K<0?(W+=j*(O-1),O=et(-O/K)):O=et(O/K),j*=K),typeof g=="number"&&(K=g|0,K<0?(W+=V*(N-1),N=et(-N/K)):N=et(N/K),V*=K),new w(this.data,L,A,R,O,N,z,F,I,j,V,W)},S.transpose=function(_,T,P,u,g){_=_===void 0?0:_|0,T=T===void 0?1:T|0,P=P===void 0?2:P|0,u=u===void 0?3:u|0,g=g===void 0?4:g|0;var L=this.shape,A=this.stride;return new w(this.data,L[_],L[T],L[P],L[u],L[g],A[_],A[T],A[P],A[u],A[g],this.offset)},S.pick=function(_,T,P,u,g){var L=[],A=[],R=this.offset;typeof _=="number"&&_>=0?R=R+this.stride[0]*_|0:(L.push(this.shape[0]),A.push(this.stride[0])),typeof T=="number"&&T>=0?R=R+this.stride[1]*T|0:(L.push(this.shape[1]),A.push(this.stride[1])),typeof P=="number"&&P>=0?R=R+this.stride[2]*P|0:(L.push(this.shape[2]),A.push(this.stride[2])),typeof u=="number"&&u>=0?R=R+this.stride[3]*u|0:(L.push(this.shape[3]),A.push(this.stride[3])),typeof g=="number"&&g>=0?R=R+this.stride[4]*g|0:(L.push(this.shape[4]),A.push(this.stride[4]));var O=c[L.length+1];return O(this.data,L,A,R)},function(_,T,P,u){return new w(_,T[0],T[1],T[2],T[3],T[4],P[0],P[1],P[2],P[3],P[4],u)}}};function h(a,c){var p=c===-1?"T":String(c),w=o[p];return c===-1?w(a):c===0?w(a,f[a][0]):w(a,f[a],l)}function b(a){if(e(a))return"buffer";if(s)switch(Object.prototype.toString.call(a)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(a)?"array":"generic"}var f={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function k(a,c,p,w){if(a===void 0){var g=f.array[0];return g([])}else typeof a=="number"&&(a=[a]);c===void 0&&(c=[a.length]);var S=c.length;if(p===void 0){p=new Array(S);for(var _=S-1,T=1;_>=0;--_)p[_]=T,T*=c[_]}if(w===void 0){w=0;for(var _=0;_<S;++_)p[_]<0&&(w-=(c[_]-1)*p[_])}for(var P=b(a),u=f[P];u.length<=S+1;)u.push(h(P,u.length-1));var g=u[S+1];return g(a,c,p,w)}d.exports=k},8551:function(d,v,r){var e=r(8362),s=Math.pow(2,-1074),n=-1>>>0;d.exports=l;function l(o,h){if(isNaN(o)||isNaN(h))return NaN;if(o===h)return o;if(o===0)return h<0?-s:s;var b=e.hi(o),f=e.lo(o);return h>o==o>0?f===n?(b+=1,f=0):f+=1:f===0?(f=n,b-=1):f-=1,e.pack(f,b)}},115:function(d,v){var r=1e-6,e=1e-6;v.vertexNormals=function(s,n,l){for(var o=n.length,h=new Array(o),b=l===void 0?r:l,f=0;f<o;++f)h[f]=[0,0,0];for(var f=0;f<s.length;++f)for(var k=s[f],a=0,c=k[k.length-1],p=k[0],w=0;w<k.length;++w){a=c,c=p,p=k[(w+1)%k.length];for(var S=n[a],_=n[c],T=n[p],P=new Array(3),u=0,g=new Array(3),L=0,A=0;A<3;++A)P[A]=S[A]-_[A],u+=P[A]*P[A],g[A]=T[A]-_[A],L+=g[A]*g[A];if(u*L>b)for(var R=h[c],O=1/Math.sqrt(u*L),A=0;A<3;++A){var N=(A+1)%3,z=(A+2)%3;R[A]+=O*(g[N]*P[z]-g[z]*P[N])}}for(var f=0;f<o;++f){for(var R=h[f],F=0,A=0;A<3;++A)F+=R[A]*R[A];if(F>b)for(var O=1/Math.sqrt(F),A=0;A<3;++A)R[A]*=O;else for(var A=0;A<3;++A)R[A]=0}return h},v.faceNormals=function(s,n,l){for(var o=s.length,h=new Array(o),b=l===void 0?e:l,f=0;f<o;++f){for(var k=s[f],a=new Array(3),c=0;c<3;++c)a[c]=n[k[c]];for(var p=new Array(3),w=new Array(3),c=0;c<3;++c)p[c]=a[1][c]-a[0][c],w[c]=a[2][c]-a[0][c];for(var S=new Array(3),_=0,c=0;c<3;++c){var T=(c+1)%3,P=(c+2)%3;S[c]=p[T]*w[P]-p[P]*w[T],_+=S[c]*S[c]}_>b?_=1/Math.sqrt(_):_=0;for(var c=0;c<3;++c)S[c]*=_;h[f]=S}return h}},567:function(d){d.exports=v;function v(r,e,s,n,l,o,h,b,f,k){var a=e+o+k;if(c>0){var c=Math.sqrt(a+1);r[0]=.5*(h-f)/c,r[1]=.5*(b-n)/c,r[2]=.5*(s-o)/c,r[3]=.5*c}else{var p=Math.max(e,o,k),c=Math.sqrt(2*p-a+1);e>=p?(r[0]=.5*c,r[1]=.5*(l+s)/c,r[2]=.5*(b+n)/c,r[3]=.5*(h-f)/c):o>=p?(r[0]=.5*(s+l)/c,r[1]=.5*c,r[2]=.5*(f+h)/c,r[3]=.5*(b-n)/c):(r[0]=.5*(n+b)/c,r[1]=.5*(h+f)/c,r[2]=.5*c,r[3]=.5*(s-l)/c)}return r}},7774:function(d,v,r){d.exports=c;var e=r(8444),s=r(3012),n=r(5950),l=r(7437),o=r(567);function h(p,w,S){return Math.sqrt(Math.pow(p,2)+Math.pow(w,2)+Math.pow(S,2))}function b(p,w,S,_){return Math.sqrt(Math.pow(p,2)+Math.pow(w,2)+Math.pow(S,2)+Math.pow(_,2))}function f(p,w){var S=w[0],_=w[1],T=w[2],P=w[3],u=b(S,_,T,P);u>1e-6?(p[0]=S/u,p[1]=_/u,p[2]=T/u,p[3]=P/u):(p[0]=p[1]=p[2]=0,p[3]=1)}function k(p,w,S){this.radius=e([S]),this.center=e(w),this.rotation=e(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var a=k.prototype;a.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},a.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var w=this.computedRotation;f(w,w);var S=this.computedMatrix;n(S,w);var _=this.computedCenter,T=this.computedEye,P=this.computedUp,u=Math.exp(this.computedRadius[0]);T[0]=_[0]+u*S[2],T[1]=_[1]+u*S[6],T[2]=_[2]+u*S[10],P[0]=S[1],P[1]=S[5],P[2]=S[9];for(var g=0;g<3;++g){for(var L=0,A=0;A<3;++A)L+=S[g+4*A]*T[A];S[12+g]=-L}},a.getMatrix=function(p,w){this.recalcMatrix(p);var S=this.computedMatrix;if(w){for(var _=0;_<16;++_)w[_]=S[_];return w}return S},a.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},a.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},a.pan=function(p,w,S,_){w=w||0,S=S||0,_=_||0,this.recalcMatrix(p);var T=this.computedMatrix,P=T[1],u=T[5],g=T[9],L=h(P,u,g);P/=L,u/=L,g/=L;var A=T[0],R=T[4],O=T[8],N=A*P+R*u+O*g;A-=P*N,R-=u*N,O-=g*N;var z=h(A,R,O);A/=z,R/=z,O/=z,T[2],T[6],T[10];var F=A*w+P*S,I=R*w+u*S,j=O*w+g*S;this.center.move(p,F,I,j);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+_),this.radius.set(p,Math.log(V))},a.rotate=function(p,w,S,_){this.recalcMatrix(p),w=w||0,S=S||0;var T=this.computedMatrix,P=T[0],u=T[4],g=T[8],L=T[1],A=T[5],R=T[9],O=T[2],N=T[6],z=T[10],F=w*P+S*L,I=w*u+S*A,j=w*g+S*R,V=-(N*j-z*I),W=-(z*F-O*j),K=-(O*I-N*F),et=Math.sqrt(Math.max(0,1-Math.pow(V,2)-Math.pow(W,2)-Math.pow(K,2))),lt=b(V,W,K,et);lt>1e-6?(V/=lt,W/=lt,K/=lt,et/=lt):(V=W=K=0,et=1);var ot=this.computedRotation,q=ot[0],J=ot[1],it=ot[2],Z=ot[3],tt=q*et+Z*V+J*K-it*W,st=J*et+Z*W+it*V-q*K,Q=it*et+Z*K+q*W-J*V,G=Z*et-q*V-J*W-it*K;if(_){V=O,W=N,K=z;var ut=Math.sin(_)/h(V,W,K);V*=ut,W*=ut,K*=ut,et=Math.cos(w),tt=tt*et+G*V+st*K-Q*W,st=st*et+G*W+Q*V-tt*K,Q=Q*et+G*K+tt*W-st*V,G=G*et-tt*V-st*W-Q*K}var at=b(tt,st,Q,G);at>1e-6?(tt/=at,st/=at,Q/=at,G/=at):(tt=st=Q=0,G=1),this.rotation.set(p,tt,st,Q,G)},a.lookAt=function(p,w,S,_){this.recalcMatrix(p),S=S||this.computedCenter,w=w||this.computedEye,_=_||this.computedUp;var T=this.computedMatrix;s(T,w,S,_);var P=this.computedRotation;o(P,T[0],T[1],T[2],T[4],T[5],T[6],T[8],T[9],T[10]),f(P,P),this.rotation.set(p,P[0],P[1],P[2],P[3]);for(var u=0,g=0;g<3;++g)u+=Math.pow(S[g]-w[g],2);this.radius.set(p,.5*Math.log(Math.max(u,1e-6))),this.center.set(p,S[0],S[1],S[2])},a.translate=function(p,w,S,_){this.center.move(p,w||0,S||0,_||0)},a.setMatrix=function(p,w){var S=this.computedRotation;o(S,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),f(S,S),this.rotation.set(p,S[0],S[1],S[2],S[3]);var _=this.computedMatrix;l(_,w);var T=_[15];if(Math.abs(T)>1e-6){var P=_[12]/T,u=_[13]/T,g=_[14]/T;this.recalcMatrix(p);var L=Math.exp(this.computedRadius[0]);this.center.set(p,P-_[2]*L,u-_[6]*L,g-_[10]*L),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},a.setDistance=function(p,w){w>0&&this.radius.set(p,Math.log(w))},a.setDistanceLimits=function(p,w){p>0?p=Math.log(p):p=-1/0,w>0?w=Math.log(w):w=1/0,w=Math.max(w,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=w},a.getDistanceLimits=function(p){var w=this.radius.bounds;return p?(p[0]=Math.exp(w[0][0]),p[1]=Math.exp(w[1][0]),p):[Math.exp(w[0][0]),Math.exp(w[1][0])]},a.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},a.fromJSON=function(p){var w=this.lastT(),S=p.center;S&&this.center.set(w,S[0],S[1],S[2]);var _=p.rotation;_&&this.rotation.set(w,_[0],_[1],_[2],_[3]);var T=p.distance;T&&T>0&&this.radius.set(w,Math.log(T)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function c(p){p=p||{};var w=p.center||[0,0,0],S=p.rotation||[0,0,0,1],_=p.radius||1;w=[].slice.call(w,0,3),S=[].slice.call(S,0,4),f(S,S);var T=new k(S,w,Math.log(_));return T.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&T.lookAt(0,p.eye,p.center,p.up),T}},4930:function(d,v,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var e=r(6184);d.exports=function(s,n,l){return l=typeof l<"u"?l+"":" ",e(l,n)+s}},4405:function(d){d.exports=function(v,r){r||(r=[0,""]),v=String(v);var e=parseFloat(v,10);return r[0]=e,r[1]=v.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(d,v,r){d.exports=s;var e=r(9398);function s(n,l){for(var o=l.length|0,h=n.length,b=[new Array(o),new Array(o)],f=0;f<o;++f)b[0][f]=[],b[1][f]=[];for(var f=0;f<h;++f){var k=n[f];b[0][k[0]].push(k),b[1][k[1]].push(k)}for(var a=[],f=0;f<o;++f)b[0][f].length+b[1][f].length===0&&a.push([f]);function c(u,g){var L=b[g][u[g]];L.splice(L.indexOf(u),1)}function p(u,g,L){for(var A,R,O,N=0;N<2;++N)if(b[N][g].length>0){A=b[N][g][0],O=N;break}R=A[O^1];for(var z=0;z<2;++z)for(var F=b[z][g],I=0;I<F.length;++I){var j=F[I],V=j[z^1],W=e(l[u],l[g],l[R],l[V]);W>0&&(A=j,R=V,O=z)}return L||A&&c(A,O),R}function w(u,g){var L=b[g][u][0],A=[u];c(L,g);for(var R=L[g^1];;){for(;R!==u;)A.push(R),R=p(A[A.length-2],R,!1);if(b[0][u].length+b[1][u].length===0)break;var O=A[A.length-1],N=u,z=A[1],F=p(O,N,!0);if(e(l[O],l[N],l[z],l[F])<0)break;A.push(u),R=p(O,N)}return A}function S(u,g){return g[1]===g[g.length-1]}for(var f=0;f<o;++f)for(var _=0;_<2;++_){for(var T=[];b[_][f].length>0;){b[0][f].length;var P=w(f,_);S(T,P)?T.push.apply(T,P):(T.length>0&&a.push(T),T=P)}T.length>0&&a.push(T)}return a}},3959:function(d,v,r){d.exports=s;var e=r(8348);function s(n,l){for(var o=e(n,l.length),h=new Array(l.length),b=new Array(l.length),f=[],k=0;k<l.length;++k){var a=o[k].length;b[k]=a,h[k]=!0,a<=1&&f.push(k)}for(;f.length>0;){var c=f.pop();h[c]=!1;for(var p=o[c],k=0;k<p.length;++k){var w=p[k];--b[w]===0&&f.push(w)}}for(var S=new Array(l.length),_=[],k=0;k<l.length;++k)if(h[k]){var c=_.length;S[k]=c,_.push(l[k])}else S[k]=-1;for(var T=[],k=0;k<n.length;++k){var P=n[k];h[P[0]]&&h[P[1]]&&T.push([S[P[0]],S[P[1]]])}return[T,_]}},8040:function(d,v,r){d.exports=a;var e=r(8348),s=r(4166),n=r(211),l=r(9660),o=r(9662),h=r(1215),b=r(3959);function f(c,p){for(var w=new Array(c),S=0;S<c;++S)w[S]=p;return w}function k(c){for(var p=new Array(c),w=0;w<c;++w)p[w]=[];return p}function a(c,p){var w=b(c,p);c=w[0],p=w[1];var S=p.length;c.length;for(var _=e(c,p.length),T=0;T<S;++T)if(_[T].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var P=s(c,p);function u(Ot){for(var bt=Ot.length,_t=[0],mt=0;mt<bt;++mt){var Pt=p[Ot[mt]],Rt=p[Ot[(mt+1)%bt]],Ht=l(-Pt[0],Pt[1]),Dt=l(-Pt[0],Rt[1]),Xt=l(Rt[0],Pt[1]),se=l(Rt[0],Rt[1]);_t=o(_t,o(o(Ht,Dt),o(Xt,se)))}return _t[_t.length-1]>0}P=P.filter(u);for(var g=P.length,L=new Array(g),A=new Array(g),T=0;T<g;++T){L[T]=T;var R=new Array(g),O=P[T].map(function(bt){return p[bt]}),N=n([O]),z=0;t:for(var F=0;F<g;++F)if(R[F]=0,T!==F){for(var I=P[F],j=I.length,V=0;V<j;++V){var W=N(p[I[V]]);if(W!==0){W<0&&(R[F]=1,z+=1);continue t}}R[F]=1,z+=1}A[T]=[z,T,R]}A.sort(function(Ot,bt){return bt[0]-Ot[0]});for(var T=0;T<g;++T)for(var R=A[T],K=R[1],et=R[2],F=0;F<g;++F)et[F]&&(L[F]=K);for(var lt=k(g),T=0;T<g;++T)lt[T].push(L[T]),lt[L[T]].push(T);for(var ot={},q=f(S,!1),T=0;T<g;++T)for(var I=P[T],j=I.length,F=0;F<j;++F){var J=I[F],it=I[(F+1)%j],Z=Math.min(J,it)+":"+Math.max(J,it);if(Z in ot){var tt=ot[Z];lt[tt].push(T),lt[T].push(tt),q[J]=q[it]=!0}else ot[Z]=T}function st(Ot){for(var bt=Ot.length,_t=0;_t<bt;++_t)if(!q[Ot[_t]])return!1;return!0}for(var Q=[],G=f(g,-1),T=0;T<g;++T)L[T]===T&&!st(P[T])?(Q.push(T),G[T]=0):G[T]=-1;for(var w=[];Q.length>0;){var ut=Q.pop(),at=lt[ut];h(at,function(bt,_t){return bt-_t});var dt=at.length,gt=G[ut],wt;if(gt===0){var I=P[ut];wt=[I]}for(var T=0;T<dt;++T){var kt=at[T];if(!(G[kt]>=0)&&(G[kt]=gt^1,Q.push(kt),gt===0)){var I=P[kt];st(I)||(I.reverse(),wt.push(I))}}gt===0&&w.push(wt)}return w}},211:function(d,v,r){d.exports=p;var e=r(417)[3],s=r(4385),n=r(9014),l=r(5070);function o(){return!0}function h(w){return function(S,_){var T=w[S];return T?!!T.queryPoint(_,o):!1}}function b(w){for(var S={},_=0;_<w.length;++_){var T=w[_],P=T[0][0],u=T[0][1],g=T[1][1],L=[Math.min(u,g),Math.max(u,g)];P in S?S[P].push(L):S[P]=[L]}for(var A={},R=Object.keys(S),_=0;_<R.length;++_){var O=S[R[_]];A[R[_]]=n(O)}return h(A)}function f(w,S){return function(_){var T=l.le(S,_[0]);if(T<0)return 1;var P=w[T];if(!P)if(T>0&&S[T]===_[0])P=w[T-1];else return 1;for(var u=1;P;){var g=P.key,L=e(_,g[0],g[1]);if(g[0][0]<g[1][0])if(L<0)P=P.left;else if(L>0)u=-1,P=P.right;else return 0;else if(L>0)P=P.left;else if(L<0)u=1,P=P.right;else return 0}return u}}function k(w){return 1}function a(w){return function(S){return w(S[0],S[1])?0:1}}function c(w,S){return function(_){return w(_[0],_[1])?0:S(_)}}function p(w){for(var S=w.length,_=[],T=[],P=0;P<S;++P)for(var u=w[P],g=u.length,L=g-1,A=0;A<g;L=A++){var R=u[L],O=u[A];R[0]===O[0]?T.push([R,O]):_.push([R,O])}if(_.length===0)return T.length===0?k:a(b(T));var N=s(_),z=f(N.slabs,N.coordinates);return T.length===0?z:c(b(T),z)}},7309:function(d){var v=new Float64Array(4),r=new Float64Array(4),e=new Float64Array(4);function s(n,l,o,h,b){v.length<h.length&&(v=new Float64Array(h.length),r=new Float64Array(h.length),e=new Float64Array(h.length));for(var f=0;f<h.length;++f)v[f]=n[f]-h[f],r[f]=l[f]-n[f],e[f]=o[f]-n[f];for(var k=0,a=0,c=0,p=0,w=0,S=0,f=0;f<h.length;++f){var _=r[f],T=e[f],P=v[f];k+=_*_,a+=_*T,c+=T*T,p+=P*_,w+=P*T,S+=P*P}var u=Math.abs(k*c-a*a),g=a*w-c*p,L=a*p-k*w,A;if(g+L<=u)if(g<0)L<0&&p<0?(L=0,-p>=k?(g=1,A=k+2*p+S):(g=-p/k,A=p*g+S)):(g=0,w>=0?(L=0,A=S):-w>=c?(L=1,A=c+2*w+S):(L=-w/c,A=w*L+S));else if(L<0)L=0,p>=0?(g=0,A=S):-p>=k?(g=1,A=k+2*p+S):(g=-p/k,A=p*g+S);else{var R=1/u;g*=R,L*=R,A=g*(k*g+a*L+2*p)+L*(a*g+c*L+2*w)+S}else{var O,N,z,F;g<0?(O=a+p,N=c+w,N>O?(z=N-O,F=k-2*a+c,z>=F?(g=1,L=0,A=k+2*p+S):(g=z/F,L=1-g,A=g*(k*g+a*L+2*p)+L*(a*g+c*L+2*w)+S)):(g=0,N<=0?(L=1,A=c+2*w+S):w>=0?(L=0,A=S):(L=-w/c,A=w*L+S))):L<0?(O=a+w,N=k+p,N>O?(z=N-O,F=k-2*a+c,z>=F?(L=1,g=0,A=c+2*w+S):(L=z/F,g=1-L,A=g*(k*g+a*L+2*p)+L*(a*g+c*L+2*w)+S)):(L=0,N<=0?(g=1,A=k+2*p+S):p>=0?(g=0,A=S):(g=-p/k,A=p*g+S))):(z=c+w-a-p,z<=0?(g=0,L=1,A=c+2*w+S):(F=k-2*a+c,z>=F?(g=1,L=0,A=k+2*p+S):(g=z/F,L=1-g,A=g*(k*g+a*L+2*p)+L*(a*g+c*L+2*w)+S)))}for(var I=1-g-L,f=0;f<h.length;++f)b[f]=I*n[f]+g*l[f]+L*o[f];return A<0?0:A}d.exports=s},1116:function(d,v,r){d.exports=r(6093)},7584:function(d,v,r){var e=r(1539);d.exports=s;function s(n,l){for(var o=n.length,h=new Array(o),b=0;b<o;++b)h[b]=e(n[b],l[b]);return h}},2826:function(d,v,r){d.exports=s;var e=r(5125);function s(n){for(var l=new Array(n.length),o=0;o<n.length;++o)l[o]=e(n[o]);return l}},4469:function(d,v,r){var e=r(5125),s=r(3962);d.exports=n;function n(l,o){for(var h=e(o),b=l.length,f=new Array(b),k=0;k<b;++k)f[k]=s(l[k],h);return f}},6695:function(d,v,r){var e=r(4354);d.exports=s;function s(n,l){for(var o=n.length,h=new Array(o),b=0;b<o;++b)h[b]=e(n[b],l[b]);return h}},7037:function(d,v,r){var e=r(9209),s=r(1284),n=r(9887);d.exports=l;function l(o){o.sort(s);for(var h=o.length,b=0,f=0;f<h;++f){var k=o[f],a=n(k);if(a!==0){if(b>0){var c=o[b-1];if(e(k,c)===0&&n(c)!==a){b-=1;continue}}o[b++]=k}}return o.length=b,o}},6184:function(d){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var v="",r;d.exports=e;function e(s,n){if(typeof s!="string")throw new TypeError("expected a string");if(n===1)return s;if(n===2)return s+s;var l=s.length*n;if(r!==s||typeof r>"u")r=s,v="";else if(v.length>=l)return v.substr(0,l);for(;l>v.length&&n>1;)n&1&&(v+=s),n>>=1,s+=s;return v+=s,v=v.substr(0,l),v}},8161:function(d,v,r){d.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(d){d.exports=v;function v(r){for(var e=r.length,s=r[r.length-1],n=e,l=e-2;l>=0;--l){var o=s,h=r[l];s=o+h;var b=s-o,f=h-b;f&&(r[--n]=s,s=f)}for(var k=0,l=n;l<e;++l){var o=r[l],h=s;s=o+h;var b=s-o,f=h-b;f&&(r[k++]=f)}return r[k++]=s,r.length=k,r}},8167:function(d,v,r){var e=r(9660),s=r(9662),n=r(8289),l=r(402),o=6;function h(S,_,T,P){return function(u){return P(S(T(u[0][0],u[1][1]),T(-u[0][1],u[1][0])))}}function b(S,_,T,P){return function(u){return P(S(_(S(T(u[1][1],u[2][2]),T(-u[1][2],u[2][1])),u[0][0]),S(_(S(T(u[1][0],u[2][2]),T(-u[1][2],u[2][0])),-u[0][1]),_(S(T(u[1][0],u[2][1]),T(-u[1][1],u[2][0])),u[0][2]))))}}function f(S,_,T,P){return function(u){return P(S(S(_(S(_(S(T(u[2][2],u[3][3]),T(-u[2][3],u[3][2])),u[1][1]),S(_(S(T(u[2][1],u[3][3]),T(-u[2][3],u[3][1])),-u[1][2]),_(S(T(u[2][1],u[3][2]),T(-u[2][2],u[3][1])),u[1][3]))),u[0][0]),_(S(_(S(T(u[2][2],u[3][3]),T(-u[2][3],u[3][2])),u[1][0]),S(_(S(T(u[2][0],u[3][3]),T(-u[2][3],u[3][0])),-u[1][2]),_(S(T(u[2][0],u[3][2]),T(-u[2][2],u[3][0])),u[1][3]))),-u[0][1])),S(_(S(_(S(T(u[2][1],u[3][3]),T(-u[2][3],u[3][1])),u[1][0]),S(_(S(T(u[2][0],u[3][3]),T(-u[2][3],u[3][0])),-u[1][1]),_(S(T(u[2][0],u[3][1]),T(-u[2][1],u[3][0])),u[1][3]))),u[0][2]),_(S(_(S(T(u[2][1],u[3][2]),T(-u[2][2],u[3][1])),u[1][0]),S(_(S(T(u[2][0],u[3][2]),T(-u[2][2],u[3][0])),-u[1][1]),_(S(T(u[2][0],u[3][1]),T(-u[2][1],u[3][0])),u[1][2]))),-u[0][3]))))}}function k(S,_,T,P){return function(u){return P(S(S(_(S(S(_(S(_(S(T(u[3][3],u[4][4]),T(-u[3][4],u[4][3])),u[2][2]),S(_(S(T(u[3][2],u[4][4]),T(-u[3][4],u[4][2])),-u[2][3]),_(S(T(u[3][2],u[4][3]),T(-u[3][3],u[4][2])),u[2][4]))),u[1][1]),_(S(_(S(T(u[3][3],u[4][4]),T(-u[3][4],u[4][3])),u[2][1]),S(_(S(T(u[3][1],u[4][4]),T(-u[3][4],u[4][1])),-u[2][3]),_(S(T(u[3][1],u[4][3]),T(-u[3][3],u[4][1])),u[2][4]))),-u[1][2])),S(_(S(_(S(T(u[3][2],u[4][4]),T(-u[3][4],u[4][2])),u[2][1]),S(_(S(T(u[3][1],u[4][4]),T(-u[3][4],u[4][1])),-u[2][2]),_(S(T(u[3][1],u[4][2]),T(-u[3][2],u[4][1])),u[2][4]))),u[1][3]),_(S(_(S(T(u[3][2],u[4][3]),T(-u[3][3],u[4][2])),u[2][1]),S(_(S(T(u[3][1],u[4][3]),T(-u[3][3],u[4][1])),-u[2][2]),_(S(T(u[3][1],u[4][2]),T(-u[3][2],u[4][1])),u[2][3]))),-u[1][4]))),u[0][0]),_(S(S(_(S(_(S(T(u[3][3],u[4][4]),T(-u[3][4],u[4][3])),u[2][2]),S(_(S(T(u[3][2],u[4][4]),T(-u[3][4],u[4][2])),-u[2][3]),_(S(T(u[3][2],u[4][3]),T(-u[3][3],u[4][2])),u[2][4]))),u[1][0]),_(S(_(S(T(u[3][3],u[4][4]),T(-u[3][4],u[4][3])),u[2][0]),S(_(S(T(u[3][0],u[4][4]),T(-u[3][4],u[4][0])),-u[2][3]),_(S(T(u[3][0],u[4][3]),T(-u[3][3],u[4][0])),u[2][4]))),-u[1][2])),S(_(S(_(S(T(u[3][2],u[4][4]),T(-u[3][4],u[4][2])),u[2][0]),S(_(S(T(u[3][0],u[4][4]),T(-u[3][4],u[4][0])),-u[2][2]),_(S(T(u[3][0],u[4][2]),T(-u[3][2],u[4][0])),u[2][4]))),u[1][3]),_(S(_(S(T(u[3][2],u[4][3]),T(-u[3][3],u[4][2])),u[2][0]),S(_(S(T(u[3][0],u[4][3]),T(-u[3][3],u[4][0])),-u[2][2]),_(S(T(u[3][0],u[4][2]),T(-u[3][2],u[4][0])),u[2][3]))),-u[1][4]))),-u[0][1])),S(_(S(S(_(S(_(S(T(u[3][3],u[4][4]),T(-u[3][4],u[4][3])),u[2][1]),S(_(S(T(u[3][1],u[4][4]),T(-u[3][4],u[4][1])),-u[2][3]),_(S(T(u[3][1],u[4][3]),T(-u[3][3],u[4][1])),u[2][4]))),u[1][0]),_(S(_(S(T(u[3][3],u[4][4]),T(-u[3][4],u[4][3])),u[2][0]),S(_(S(T(u[3][0],u[4][4]),T(-u[3][4],u[4][0])),-u[2][3]),_(S(T(u[3][0],u[4][3]),T(-u[3][3],u[4][0])),u[2][4]))),-u[1][1])),S(_(S(_(S(T(u[3][1],u[4][4]),T(-u[3][4],u[4][1])),u[2][0]),S(_(S(T(u[3][0],u[4][4]),T(-u[3][4],u[4][0])),-u[2][1]),_(S(T(u[3][0],u[4][1]),T(-u[3][1],u[4][0])),u[2][4]))),u[1][3]),_(S(_(S(T(u[3][1],u[4][3]),T(-u[3][3],u[4][1])),u[2][0]),S(_(S(T(u[3][0],u[4][3]),T(-u[3][3],u[4][0])),-u[2][1]),_(S(T(u[3][0],u[4][1]),T(-u[3][1],u[4][0])),u[2][3]))),-u[1][4]))),u[0][2]),S(_(S(S(_(S(_(S(T(u[3][2],u[4][4]),T(-u[3][4],u[4][2])),u[2][1]),S(_(S(T(u[3][1],u[4][4]),T(-u[3][4],u[4][1])),-u[2][2]),_(S(T(u[3][1],u[4][2]),T(-u[3][2],u[4][1])),u[2][4]))),u[1][0]),_(S(_(S(T(u[3][2],u[4][4]),T(-u[3][4],u[4][2])),u[2][0]),S(_(S(T(u[3][0],u[4][4]),T(-u[3][4],u[4][0])),-u[2][2]),_(S(T(u[3][0],u[4][2]),T(-u[3][2],u[4][0])),u[2][4]))),-u[1][1])),S(_(S(_(S(T(u[3][1],u[4][4]),T(-u[3][4],u[4][1])),u[2][0]),S(_(S(T(u[3][0],u[4][4]),T(-u[3][4],u[4][0])),-u[2][1]),_(S(T(u[3][0],u[4][1]),T(-u[3][1],u[4][0])),u[2][4]))),u[1][2]),_(S(_(S(T(u[3][1],u[4][2]),T(-u[3][2],u[4][1])),u[2][0]),S(_(S(T(u[3][0],u[4][2]),T(-u[3][2],u[4][0])),-u[2][1]),_(S(T(u[3][0],u[4][1]),T(-u[3][1],u[4][0])),u[2][2]))),-u[1][4]))),-u[0][3]),_(S(S(_(S(_(S(T(u[3][2],u[4][3]),T(-u[3][3],u[4][2])),u[2][1]),S(_(S(T(u[3][1],u[4][3]),T(-u[3][3],u[4][1])),-u[2][2]),_(S(T(u[3][1],u[4][2]),T(-u[3][2],u[4][1])),u[2][3]))),u[1][0]),_(S(_(S(T(u[3][2],u[4][3]),T(-u[3][3],u[4][2])),u[2][0]),S(_(S(T(u[3][0],u[4][3]),T(-u[3][3],u[4][0])),-u[2][2]),_(S(T(u[3][0],u[4][2]),T(-u[3][2],u[4][0])),u[2][3]))),-u[1][1])),S(_(S(_(S(T(u[3][1],u[4][3]),T(-u[3][3],u[4][1])),u[2][0]),S(_(S(T(u[3][0],u[4][3]),T(-u[3][3],u[4][0])),-u[2][1]),_(S(T(u[3][0],u[4][1]),T(-u[3][1],u[4][0])),u[2][3]))),u[1][2]),_(S(_(S(T(u[3][1],u[4][2]),T(-u[3][2],u[4][1])),u[2][0]),S(_(S(T(u[3][0],u[4][2]),T(-u[3][2],u[4][0])),-u[2][1]),_(S(T(u[3][0],u[4][1]),T(-u[3][1],u[4][0])),u[2][2]))),-u[1][3]))),u[0][4])))))}}function a(S){var _=S===2?h:S===3?b:S===4?f:S===5?k:void 0;return _(s,n,e,l)}var c=[function(){return[0]},function(S){return[S[0][0]]}];function p(S,_,T,P,u,g,L,A){return function(R){switch(R.length){case 0:return S(R);case 1:return _(R);case 2:return T(R);case 3:return P(R);case 4:return u(R);case 5:return g(R)}var O=L[R.length];return O||(O=L[R.length]=A(R.length)),O(R)}}function w(){for(;c.length<o;)c.push(a(c.length));d.exports=p.apply(void 0,c.concat([c,a]));for(var S=0;S<c.length;++S)d.exports[S]=c[S]}w()},9130:function(d,v,r){var e=r(9660),s=r(9662);d.exports=n;function n(l,o){for(var h=e(l[0],o[0]),b=1;b<l.length;++b)h=s(h,e(l[b],o[b]));return h}},2227:function(d,v,r){var e=r(9660),s=r(9662),n=r(4078),l=r(8289),o=6;function h(u){var g=u===3?a:u===4?c:u===5?p:w;return g(s,n,e,l)}function b(){return 0}function f(){return 0}function k(){return 0}function a(u,g,L,A){function R(O,N,z){var F=L(O[0],O[0]),I=A(F,N[0]),j=A(F,z[0]),V=L(N[0],N[0]),W=A(V,O[0]),K=A(V,z[0]),et=L(z[0],z[0]),lt=A(et,O[0]),ot=A(et,N[0]),q=u(g(ot,K),g(W,I)),J=g(lt,j),it=g(q,J);return it[it.length-1]}return R}function c(u,g,L,A){function R(O,N,z,F){var I=u(L(O[0],O[0]),L(O[1],O[1])),j=A(I,N[0]),V=A(I,z[0]),W=A(I,F[0]),K=u(L(N[0],N[0]),L(N[1],N[1])),et=A(K,O[0]),lt=A(K,z[0]),ot=A(K,F[0]),q=u(L(z[0],z[0]),L(z[1],z[1])),J=A(q,O[0]),it=A(q,N[0]),Z=A(q,F[0]),tt=u(L(F[0],F[0]),L(F[1],F[1])),st=A(tt,O[0]),Q=A(tt,N[0]),G=A(tt,z[0]),ut=u(u(A(g(G,Z),N[1]),u(A(g(Q,ot),-z[1]),A(g(it,lt),F[1]))),u(A(g(Q,ot),O[1]),u(A(g(st,W),-N[1]),A(g(et,j),F[1])))),at=u(u(A(g(G,Z),O[1]),u(A(g(st,W),-z[1]),A(g(J,V),F[1]))),u(A(g(it,lt),O[1]),u(A(g(J,V),-N[1]),A(g(et,j),z[1])))),dt=g(ut,at);return dt[dt.length-1]}return R}function p(u,g,L,A){function R(O,N,z,F,I){var j=u(L(O[0],O[0]),u(L(O[1],O[1]),L(O[2],O[2]))),V=A(j,N[0]),W=A(j,z[0]),K=A(j,F[0]),et=A(j,I[0]),lt=u(L(N[0],N[0]),u(L(N[1],N[1]),L(N[2],N[2]))),ot=A(lt,O[0]),q=A(lt,z[0]),J=A(lt,F[0]),it=A(lt,I[0]),Z=u(L(z[0],z[0]),u(L(z[1],z[1]),L(z[2],z[2]))),tt=A(Z,O[0]),st=A(Z,N[0]),Q=A(Z,F[0]),G=A(Z,I[0]),ut=u(L(F[0],F[0]),u(L(F[1],F[1]),L(F[2],F[2]))),at=A(ut,O[0]),dt=A(ut,N[0]),gt=A(ut,z[0]),wt=A(ut,I[0]),kt=u(L(I[0],I[0]),u(L(I[1],I[1]),L(I[2],I[2]))),Ot=A(kt,O[0]),bt=A(kt,N[0]),_t=A(kt,z[0]),mt=A(kt,F[0]),Pt=u(u(u(A(u(A(g(mt,wt),z[1]),u(A(g(_t,G),-F[1]),A(g(gt,Q),I[1]))),N[2]),u(A(u(A(g(mt,wt),N[1]),u(A(g(bt,it),-F[1]),A(g(dt,J),I[1]))),-z[2]),A(u(A(g(_t,G),N[1]),u(A(g(bt,it),-z[1]),A(g(st,q),I[1]))),F[2]))),u(A(u(A(g(gt,Q),N[1]),u(A(g(dt,J),-z[1]),A(g(st,q),F[1]))),-I[2]),u(A(u(A(g(mt,wt),N[1]),u(A(g(bt,it),-F[1]),A(g(dt,J),I[1]))),O[2]),A(u(A(g(mt,wt),O[1]),u(A(g(Ot,et),-F[1]),A(g(at,K),I[1]))),-N[2])))),u(u(A(u(A(g(bt,it),O[1]),u(A(g(Ot,et),-N[1]),A(g(ot,V),I[1]))),F[2]),u(A(u(A(g(dt,J),O[1]),u(A(g(at,K),-N[1]),A(g(ot,V),F[1]))),-I[2]),A(u(A(g(gt,Q),N[1]),u(A(g(dt,J),-z[1]),A(g(st,q),F[1]))),O[2]))),u(A(u(A(g(gt,Q),O[1]),u(A(g(at,K),-z[1]),A(g(tt,W),F[1]))),-N[2]),u(A(u(A(g(dt,J),O[1]),u(A(g(at,K),-N[1]),A(g(ot,V),F[1]))),z[2]),A(u(A(g(st,q),O[1]),u(A(g(tt,W),-N[1]),A(g(ot,V),z[1]))),-F[2]))))),Rt=u(u(u(A(u(A(g(mt,wt),z[1]),u(A(g(_t,G),-F[1]),A(g(gt,Q),I[1]))),O[2]),A(u(A(g(mt,wt),O[1]),u(A(g(Ot,et),-F[1]),A(g(at,K),I[1]))),-z[2])),u(A(u(A(g(_t,G),O[1]),u(A(g(Ot,et),-z[1]),A(g(tt,W),I[1]))),F[2]),A(u(A(g(gt,Q),O[1]),u(A(g(at,K),-z[1]),A(g(tt,W),F[1]))),-I[2]))),u(u(A(u(A(g(_t,G),N[1]),u(A(g(bt,it),-z[1]),A(g(st,q),I[1]))),O[2]),A(u(A(g(_t,G),O[1]),u(A(g(Ot,et),-z[1]),A(g(tt,W),I[1]))),-N[2])),u(A(u(A(g(bt,it),O[1]),u(A(g(Ot,et),-N[1]),A(g(ot,V),I[1]))),z[2]),A(u(A(g(st,q),O[1]),u(A(g(tt,W),-N[1]),A(g(ot,V),z[1]))),-I[2])))),Ht=g(Pt,Rt);return Ht[Ht.length-1]}return R}function w(u,g,L,A){function R(O,N,z,F,I,j){var V=u(u(L(O[0],O[0]),L(O[1],O[1])),u(L(O[2],O[2]),L(O[3],O[3]))),W=A(V,N[0]),K=A(V,z[0]),et=A(V,F[0]),lt=A(V,I[0]),ot=A(V,j[0]),q=u(u(L(N[0],N[0]),L(N[1],N[1])),u(L(N[2],N[2]),L(N[3],N[3]))),J=A(q,O[0]),it=A(q,z[0]),Z=A(q,F[0]),tt=A(q,I[0]),st=A(q,j[0]),Q=u(u(L(z[0],z[0]),L(z[1],z[1])),u(L(z[2],z[2]),L(z[3],z[3]))),G=A(Q,O[0]),ut=A(Q,N[0]),at=A(Q,F[0]),dt=A(Q,I[0]),gt=A(Q,j[0]),wt=u(u(L(F[0],F[0]),L(F[1],F[1])),u(L(F[2],F[2]),L(F[3],F[3]))),kt=A(wt,O[0]),Ot=A(wt,N[0]),bt=A(wt,z[0]),_t=A(wt,I[0]),mt=A(wt,j[0]),Pt=u(u(L(I[0],I[0]),L(I[1],I[1])),u(L(I[2],I[2]),L(I[3],I[3]))),Rt=A(Pt,O[0]),Ht=A(Pt,N[0]),Dt=A(Pt,z[0]),Xt=A(Pt,F[0]),se=A(Pt,j[0]),Yt=u(u(L(j[0],j[0]),L(j[1],j[1])),u(L(j[2],j[2]),L(j[3],j[3]))),ue=A(Yt,O[0]),ie=A(Yt,N[0]),fe=A(Yt,z[0]),ce=A(Yt,F[0]),ye=A(Yt,I[0]),de=u(u(u(A(u(u(A(u(A(g(ye,se),F[1]),u(A(g(ce,mt),-I[1]),A(g(Xt,_t),j[1]))),z[2]),A(u(A(g(ye,se),z[1]),u(A(g(fe,gt),-I[1]),A(g(Dt,dt),j[1]))),-F[2])),u(A(u(A(g(ce,mt),z[1]),u(A(g(fe,gt),-F[1]),A(g(bt,at),j[1]))),I[2]),A(u(A(g(Xt,_t),z[1]),u(A(g(Dt,dt),-F[1]),A(g(bt,at),I[1]))),-j[2]))),N[3]),u(A(u(u(A(u(A(g(ye,se),F[1]),u(A(g(ce,mt),-I[1]),A(g(Xt,_t),j[1]))),N[2]),A(u(A(g(ye,se),N[1]),u(A(g(ie,st),-I[1]),A(g(Ht,tt),j[1]))),-F[2])),u(A(u(A(g(ce,mt),N[1]),u(A(g(ie,st),-F[1]),A(g(Ot,Z),j[1]))),I[2]),A(u(A(g(Xt,_t),N[1]),u(A(g(Ht,tt),-F[1]),A(g(Ot,Z),I[1]))),-j[2]))),-z[3]),A(u(u(A(u(A(g(ye,se),z[1]),u(A(g(fe,gt),-I[1]),A(g(Dt,dt),j[1]))),N[2]),A(u(A(g(ye,se),N[1]),u(A(g(ie,st),-I[1]),A(g(Ht,tt),j[1]))),-z[2])),u(A(u(A(g(fe,gt),N[1]),u(A(g(ie,st),-z[1]),A(g(ut,it),j[1]))),I[2]),A(u(A(g(Dt,dt),N[1]),u(A(g(Ht,tt),-z[1]),A(g(ut,it),I[1]))),-j[2]))),F[3]))),u(u(A(u(u(A(u(A(g(ce,mt),z[1]),u(A(g(fe,gt),-F[1]),A(g(bt,at),j[1]))),N[2]),A(u(A(g(ce,mt),N[1]),u(A(g(ie,st),-F[1]),A(g(Ot,Z),j[1]))),-z[2])),u(A(u(A(g(fe,gt),N[1]),u(A(g(ie,st),-z[1]),A(g(ut,it),j[1]))),F[2]),A(u(A(g(bt,at),N[1]),u(A(g(Ot,Z),-z[1]),A(g(ut,it),F[1]))),-j[2]))),-I[3]),A(u(u(A(u(A(g(Xt,_t),z[1]),u(A(g(Dt,dt),-F[1]),A(g(bt,at),I[1]))),N[2]),A(u(A(g(Xt,_t),N[1]),u(A(g(Ht,tt),-F[1]),A(g(Ot,Z),I[1]))),-z[2])),u(A(u(A(g(Dt,dt),N[1]),u(A(g(Ht,tt),-z[1]),A(g(ut,it),I[1]))),F[2]),A(u(A(g(bt,at),N[1]),u(A(g(Ot,Z),-z[1]),A(g(ut,it),F[1]))),-I[2]))),j[3])),u(A(u(u(A(u(A(g(ye,se),F[1]),u(A(g(ce,mt),-I[1]),A(g(Xt,_t),j[1]))),N[2]),A(u(A(g(ye,se),N[1]),u(A(g(ie,st),-I[1]),A(g(Ht,tt),j[1]))),-F[2])),u(A(u(A(g(ce,mt),N[1]),u(A(g(ie,st),-F[1]),A(g(Ot,Z),j[1]))),I[2]),A(u(A(g(Xt,_t),N[1]),u(A(g(Ht,tt),-F[1]),A(g(Ot,Z),I[1]))),-j[2]))),O[3]),A(u(u(A(u(A(g(ye,se),F[1]),u(A(g(ce,mt),-I[1]),A(g(Xt,_t),j[1]))),O[2]),A(u(A(g(ye,se),O[1]),u(A(g(ue,ot),-I[1]),A(g(Rt,lt),j[1]))),-F[2])),u(A(u(A(g(ce,mt),O[1]),u(A(g(ue,ot),-F[1]),A(g(kt,et),j[1]))),I[2]),A(u(A(g(Xt,_t),O[1]),u(A(g(Rt,lt),-F[1]),A(g(kt,et),I[1]))),-j[2]))),-N[3])))),u(u(u(A(u(u(A(u(A(g(ye,se),N[1]),u(A(g(ie,st),-I[1]),A(g(Ht,tt),j[1]))),O[2]),A(u(A(g(ye,se),O[1]),u(A(g(ue,ot),-I[1]),A(g(Rt,lt),j[1]))),-N[2])),u(A(u(A(g(ie,st),O[1]),u(A(g(ue,ot),-N[1]),A(g(J,W),j[1]))),I[2]),A(u(A(g(Ht,tt),O[1]),u(A(g(Rt,lt),-N[1]),A(g(J,W),I[1]))),-j[2]))),F[3]),A(u(u(A(u(A(g(ce,mt),N[1]),u(A(g(ie,st),-F[1]),A(g(Ot,Z),j[1]))),O[2]),A(u(A(g(ce,mt),O[1]),u(A(g(ue,ot),-F[1]),A(g(kt,et),j[1]))),-N[2])),u(A(u(A(g(ie,st),O[1]),u(A(g(ue,ot),-N[1]),A(g(J,W),j[1]))),F[2]),A(u(A(g(Ot,Z),O[1]),u(A(g(kt,et),-N[1]),A(g(J,W),F[1]))),-j[2]))),-I[3])),u(A(u(u(A(u(A(g(Xt,_t),N[1]),u(A(g(Ht,tt),-F[1]),A(g(Ot,Z),I[1]))),O[2]),A(u(A(g(Xt,_t),O[1]),u(A(g(Rt,lt),-F[1]),A(g(kt,et),I[1]))),-N[2])),u(A(u(A(g(Ht,tt),O[1]),u(A(g(Rt,lt),-N[1]),A(g(J,W),I[1]))),F[2]),A(u(A(g(Ot,Z),O[1]),u(A(g(kt,et),-N[1]),A(g(J,W),F[1]))),-I[2]))),j[3]),A(u(u(A(u(A(g(ce,mt),z[1]),u(A(g(fe,gt),-F[1]),A(g(bt,at),j[1]))),N[2]),A(u(A(g(ce,mt),N[1]),u(A(g(ie,st),-F[1]),A(g(Ot,Z),j[1]))),-z[2])),u(A(u(A(g(fe,gt),N[1]),u(A(g(ie,st),-z[1]),A(g(ut,it),j[1]))),F[2]),A(u(A(g(bt,at),N[1]),u(A(g(Ot,Z),-z[1]),A(g(ut,it),F[1]))),-j[2]))),O[3]))),u(u(A(u(u(A(u(A(g(ce,mt),z[1]),u(A(g(fe,gt),-F[1]),A(g(bt,at),j[1]))),O[2]),A(u(A(g(ce,mt),O[1]),u(A(g(ue,ot),-F[1]),A(g(kt,et),j[1]))),-z[2])),u(A(u(A(g(fe,gt),O[1]),u(A(g(ue,ot),-z[1]),A(g(G,K),j[1]))),F[2]),A(u(A(g(bt,at),O[1]),u(A(g(kt,et),-z[1]),A(g(G,K),F[1]))),-j[2]))),-N[3]),A(u(u(A(u(A(g(ce,mt),N[1]),u(A(g(ie,st),-F[1]),A(g(Ot,Z),j[1]))),O[2]),A(u(A(g(ce,mt),O[1]),u(A(g(ue,ot),-F[1]),A(g(kt,et),j[1]))),-N[2])),u(A(u(A(g(ie,st),O[1]),u(A(g(ue,ot),-N[1]),A(g(J,W),j[1]))),F[2]),A(u(A(g(Ot,Z),O[1]),u(A(g(kt,et),-N[1]),A(g(J,W),F[1]))),-j[2]))),z[3])),u(A(u(u(A(u(A(g(fe,gt),N[1]),u(A(g(ie,st),-z[1]),A(g(ut,it),j[1]))),O[2]),A(u(A(g(fe,gt),O[1]),u(A(g(ue,ot),-z[1]),A(g(G,K),j[1]))),-N[2])),u(A(u(A(g(ie,st),O[1]),u(A(g(ue,ot),-N[1]),A(g(J,W),j[1]))),z[2]),A(u(A(g(ut,it),O[1]),u(A(g(G,K),-N[1]),A(g(J,W),z[1]))),-j[2]))),-F[3]),A(u(u(A(u(A(g(bt,at),N[1]),u(A(g(Ot,Z),-z[1]),A(g(ut,it),F[1]))),O[2]),A(u(A(g(bt,at),O[1]),u(A(g(kt,et),-z[1]),A(g(G,K),F[1]))),-N[2])),u(A(u(A(g(Ot,Z),O[1]),u(A(g(kt,et),-N[1]),A(g(J,W),F[1]))),z[2]),A(u(A(g(ut,it),O[1]),u(A(g(G,K),-N[1]),A(g(J,W),z[1]))),-F[2]))),j[3]))))),Te=u(u(u(A(u(u(A(u(A(g(ye,se),F[1]),u(A(g(ce,mt),-I[1]),A(g(Xt,_t),j[1]))),z[2]),A(u(A(g(ye,se),z[1]),u(A(g(fe,gt),-I[1]),A(g(Dt,dt),j[1]))),-F[2])),u(A(u(A(g(ce,mt),z[1]),u(A(g(fe,gt),-F[1]),A(g(bt,at),j[1]))),I[2]),A(u(A(g(Xt,_t),z[1]),u(A(g(Dt,dt),-F[1]),A(g(bt,at),I[1]))),-j[2]))),O[3]),u(A(u(u(A(u(A(g(ye,se),F[1]),u(A(g(ce,mt),-I[1]),A(g(Xt,_t),j[1]))),O[2]),A(u(A(g(ye,se),O[1]),u(A(g(ue,ot),-I[1]),A(g(Rt,lt),j[1]))),-F[2])),u(A(u(A(g(ce,mt),O[1]),u(A(g(ue,ot),-F[1]),A(g(kt,et),j[1]))),I[2]),A(u(A(g(Xt,_t),O[1]),u(A(g(Rt,lt),-F[1]),A(g(kt,et),I[1]))),-j[2]))),-z[3]),A(u(u(A(u(A(g(ye,se),z[1]),u(A(g(fe,gt),-I[1]),A(g(Dt,dt),j[1]))),O[2]),A(u(A(g(ye,se),O[1]),u(A(g(ue,ot),-I[1]),A(g(Rt,lt),j[1]))),-z[2])),u(A(u(A(g(fe,gt),O[1]),u(A(g(ue,ot),-z[1]),A(g(G,K),j[1]))),I[2]),A(u(A(g(Dt,dt),O[1]),u(A(g(Rt,lt),-z[1]),A(g(G,K),I[1]))),-j[2]))),F[3]))),u(u(A(u(u(A(u(A(g(ce,mt),z[1]),u(A(g(fe,gt),-F[1]),A(g(bt,at),j[1]))),O[2]),A(u(A(g(ce,mt),O[1]),u(A(g(ue,ot),-F[1]),A(g(kt,et),j[1]))),-z[2])),u(A(u(A(g(fe,gt),O[1]),u(A(g(ue,ot),-z[1]),A(g(G,K),j[1]))),F[2]),A(u(A(g(bt,at),O[1]),u(A(g(kt,et),-z[1]),A(g(G,K),F[1]))),-j[2]))),-I[3]),A(u(u(A(u(A(g(Xt,_t),z[1]),u(A(g(Dt,dt),-F[1]),A(g(bt,at),I[1]))),O[2]),A(u(A(g(Xt,_t),O[1]),u(A(g(Rt,lt),-F[1]),A(g(kt,et),I[1]))),-z[2])),u(A(u(A(g(Dt,dt),O[1]),u(A(g(Rt,lt),-z[1]),A(g(G,K),I[1]))),F[2]),A(u(A(g(bt,at),O[1]),u(A(g(kt,et),-z[1]),A(g(G,K),F[1]))),-I[2]))),j[3])),u(A(u(u(A(u(A(g(ye,se),z[1]),u(A(g(fe,gt),-I[1]),A(g(Dt,dt),j[1]))),N[2]),A(u(A(g(ye,se),N[1]),u(A(g(ie,st),-I[1]),A(g(Ht,tt),j[1]))),-z[2])),u(A(u(A(g(fe,gt),N[1]),u(A(g(ie,st),-z[1]),A(g(ut,it),j[1]))),I[2]),A(u(A(g(Dt,dt),N[1]),u(A(g(Ht,tt),-z[1]),A(g(ut,it),I[1]))),-j[2]))),O[3]),A(u(u(A(u(A(g(ye,se),z[1]),u(A(g(fe,gt),-I[1]),A(g(Dt,dt),j[1]))),O[2]),A(u(A(g(ye,se),O[1]),u(A(g(ue,ot),-I[1]),A(g(Rt,lt),j[1]))),-z[2])),u(A(u(A(g(fe,gt),O[1]),u(A(g(ue,ot),-z[1]),A(g(G,K),j[1]))),I[2]),A(u(A(g(Dt,dt),O[1]),u(A(g(Rt,lt),-z[1]),A(g(G,K),I[1]))),-j[2]))),-N[3])))),u(u(u(A(u(u(A(u(A(g(ye,se),N[1]),u(A(g(ie,st),-I[1]),A(g(Ht,tt),j[1]))),O[2]),A(u(A(g(ye,se),O[1]),u(A(g(ue,ot),-I[1]),A(g(Rt,lt),j[1]))),-N[2])),u(A(u(A(g(ie,st),O[1]),u(A(g(ue,ot),-N[1]),A(g(J,W),j[1]))),I[2]),A(u(A(g(Ht,tt),O[1]),u(A(g(Rt,lt),-N[1]),A(g(J,W),I[1]))),-j[2]))),z[3]),A(u(u(A(u(A(g(fe,gt),N[1]),u(A(g(ie,st),-z[1]),A(g(ut,it),j[1]))),O[2]),A(u(A(g(fe,gt),O[1]),u(A(g(ue,ot),-z[1]),A(g(G,K),j[1]))),-N[2])),u(A(u(A(g(ie,st),O[1]),u(A(g(ue,ot),-N[1]),A(g(J,W),j[1]))),z[2]),A(u(A(g(ut,it),O[1]),u(A(g(G,K),-N[1]),A(g(J,W),z[1]))),-j[2]))),-I[3])),u(A(u(u(A(u(A(g(Dt,dt),N[1]),u(A(g(Ht,tt),-z[1]),A(g(ut,it),I[1]))),O[2]),A(u(A(g(Dt,dt),O[1]),u(A(g(Rt,lt),-z[1]),A(g(G,K),I[1]))),-N[2])),u(A(u(A(g(Ht,tt),O[1]),u(A(g(Rt,lt),-N[1]),A(g(J,W),I[1]))),z[2]),A(u(A(g(ut,it),O[1]),u(A(g(G,K),-N[1]),A(g(J,W),z[1]))),-I[2]))),j[3]),A(u(u(A(u(A(g(Xt,_t),z[1]),u(A(g(Dt,dt),-F[1]),A(g(bt,at),I[1]))),N[2]),A(u(A(g(Xt,_t),N[1]),u(A(g(Ht,tt),-F[1]),A(g(Ot,Z),I[1]))),-z[2])),u(A(u(A(g(Dt,dt),N[1]),u(A(g(Ht,tt),-z[1]),A(g(ut,it),I[1]))),F[2]),A(u(A(g(bt,at),N[1]),u(A(g(Ot,Z),-z[1]),A(g(ut,it),F[1]))),-I[2]))),O[3]))),u(u(A(u(u(A(u(A(g(Xt,_t),z[1]),u(A(g(Dt,dt),-F[1]),A(g(bt,at),I[1]))),O[2]),A(u(A(g(Xt,_t),O[1]),u(A(g(Rt,lt),-F[1]),A(g(kt,et),I[1]))),-z[2])),u(A(u(A(g(Dt,dt),O[1]),u(A(g(Rt,lt),-z[1]),A(g(G,K),I[1]))),F[2]),A(u(A(g(bt,at),O[1]),u(A(g(kt,et),-z[1]),A(g(G,K),F[1]))),-I[2]))),-N[3]),A(u(u(A(u(A(g(Xt,_t),N[1]),u(A(g(Ht,tt),-F[1]),A(g(Ot,Z),I[1]))),O[2]),A(u(A(g(Xt,_t),O[1]),u(A(g(Rt,lt),-F[1]),A(g(kt,et),I[1]))),-N[2])),u(A(u(A(g(Ht,tt),O[1]),u(A(g(Rt,lt),-N[1]),A(g(J,W),I[1]))),F[2]),A(u(A(g(Ot,Z),O[1]),u(A(g(kt,et),-N[1]),A(g(J,W),F[1]))),-I[2]))),z[3])),u(A(u(u(A(u(A(g(Dt,dt),N[1]),u(A(g(Ht,tt),-z[1]),A(g(ut,it),I[1]))),O[2]),A(u(A(g(Dt,dt),O[1]),u(A(g(Rt,lt),-z[1]),A(g(G,K),I[1]))),-N[2])),u(A(u(A(g(Ht,tt),O[1]),u(A(g(Rt,lt),-N[1]),A(g(J,W),I[1]))),z[2]),A(u(A(g(ut,it),O[1]),u(A(g(G,K),-N[1]),A(g(J,W),z[1]))),-I[2]))),-F[3]),A(u(u(A(u(A(g(bt,at),N[1]),u(A(g(Ot,Z),-z[1]),A(g(ut,it),F[1]))),O[2]),A(u(A(g(bt,at),O[1]),u(A(g(kt,et),-z[1]),A(g(G,K),F[1]))),-N[2])),u(A(u(A(g(Ot,Z),O[1]),u(A(g(kt,et),-N[1]),A(g(J,W),F[1]))),z[2]),A(u(A(g(ut,it),O[1]),u(A(g(G,K),-N[1]),A(g(J,W),z[1]))),-F[2]))),I[3]))))),Et=g(de,Te);return Et[Et.length-1]}return R}var S=[b,f,k];function _(u){var g=S[u.length];return g||(g=S[u.length]=h(u.length)),g.apply(void 0,u)}function T(u,g,L,A,R,O,N,z){function F(I,j,V,W,K,et){switch(arguments.length){case 0:case 1:return 0;case 2:return A(I,j);case 3:return R(I,j,V);case 4:return O(I,j,V,W);case 5:return N(I,j,V,W,K);case 6:return z(I,j,V,W,K,et)}for(var lt=new Array(arguments.length),ot=0;ot<arguments.length;++ot)lt[ot]=arguments[ot];return u(lt)}return F}function P(){for(;S.length<=o;)S.push(h(S.length));d.exports=T.apply(void 0,[_].concat(S));for(var u=0;u<=o;++u)d.exports[u]=S[u]}P()},6606:function(d,v,r){var e=r(8167),s=6;function n(S){var _=S===2?h:S===3?b:S===4?f:S===5?k:a;return S<6?_(e[S]):_(e)}function l(){return[[0]]}function o(S,_){return[[_[0]],[S[0][0]]]}function h(S){return function(_,T){return[S([[+T[0],+_[0][1]],[+T[1],+_[1][1]]]),S([[+_[0][0],+T[0]],[+_[1][0],+T[1]]]),S(_)]}}function b(S){return function(_,T){return[S([[+T[0],+_[0][1],+_[0][2]],[+T[1],+_[1][1],+_[1][2]],[+T[2],+_[2][1],+_[2][2]]]),S([[+_[0][0],+T[0],+_[0][2]],[+_[1][0],+T[1],+_[1][2]],[+_[2][0],+T[2],+_[2][2]]]),S([[+_[0][0],+_[0][1],+T[0]],[+_[1][0],+_[1][1],+T[1]],[+_[2][0],+_[2][1],+T[2]]]),S(_)]}}function f(S){return function(_,T){return[S([[+T[0],+_[0][1],+_[0][2],+_[0][3]],[+T[1],+_[1][1],+_[1][2],+_[1][3]],[+T[2],+_[2][1],+_[2][2],+_[2][3]],[+T[3],+_[3][1],+_[3][2],+_[3][3]]]),S([[+_[0][0],+T[0],+_[0][2],+_[0][3]],[+_[1][0],+T[1],+_[1][2],+_[1][3]],[+_[2][0],+T[2],+_[2][2],+_[2][3]],[+_[3][0],+T[3],+_[3][2],+_[3][3]]]),S([[+_[0][0],+_[0][1],+T[0],+_[0][3]],[+_[1][0],+_[1][1],+T[1],+_[1][3]],[+_[2][0],+_[2][1],+T[2],+_[2][3]],[+_[3][0],+_[3][1],+T[3],+_[3][3]]]),S([[+_[0][0],+_[0][1],+_[0][2],+T[0]],[+_[1][0],+_[1][1],+_[1][2],+T[1]],[+_[2][0],+_[2][1],+_[2][2],+T[2]],[+_[3][0],+_[3][1],+_[3][2],+T[3]]]),S(_)]}}function k(S){return function(_,T){return[S([[+T[0],+_[0][1],+_[0][2],+_[0][3],+_[0][4]],[+T[1],+_[1][1],+_[1][2],+_[1][3],+_[1][4]],[+T[2],+_[2][1],+_[2][2],+_[2][3],+_[2][4]],[+T[3],+_[3][1],+_[3][2],+_[3][3],+_[3][4]],[+T[4],+_[4][1],+_[4][2],+_[4][3],+_[4][4]]]),S([[+_[0][0],+T[0],+_[0][2],+_[0][3],+_[0][4]],[+_[1][0],+T[1],+_[1][2],+_[1][3],+_[1][4]],[+_[2][0],+T[2],+_[2][2],+_[2][3],+_[2][4]],[+_[3][0],+T[3],+_[3][2],+_[3][3],+_[3][4]],[+_[4][0],+T[4],+_[4][2],+_[4][3],+_[4][4]]]),S([[+_[0][0],+_[0][1],+T[0],+_[0][3],+_[0][4]],[+_[1][0],+_[1][1],+T[1],+_[1][3],+_[1][4]],[+_[2][0],+_[2][1],+T[2],+_[2][3],+_[2][4]],[+_[3][0],+_[3][1],+T[3],+_[3][3],+_[3][4]],[+_[4][0],+_[4][1],+T[4],+_[4][3],+_[4][4]]]),S([[+_[0][0],+_[0][1],+_[0][2],+T[0],+_[0][4]],[+_[1][0],+_[1][1],+_[1][2],+T[1],+_[1][4]],[+_[2][0],+_[2][1],+_[2][2],+T[2],+_[2][4]],[+_[3][0],+_[3][1],+_[3][2],+T[3],+_[3][4]],[+_[4][0],+_[4][1],+_[4][2],+T[4],+_[4][4]]]),S([[+_[0][0],+_[0][1],+_[0][2],+_[0][3],+T[0]],[+_[1][0],+_[1][1],+_[1][2],+_[1][3],+T[1]],[+_[2][0],+_[2][1],+_[2][2],+_[2][3],+T[2]],[+_[3][0],+_[3][1],+_[3][2],+_[3][3],+T[3]],[+_[4][0],+_[4][1],+_[4][2],+_[4][3],+T[4]]]),S(_)]}}function a(S){return function(_,T){return[S([[+T[0],+_[0][1],+_[0][2],+_[0][3],+_[0][4],+_[0][5]],[+T[1],+_[1][1],+_[1][2],+_[1][3],+_[1][4],+_[1][5]],[+T[2],+_[2][1],+_[2][2],+_[2][3],+_[2][4],+_[2][5]],[+T[3],+_[3][1],+_[3][2],+_[3][3],+_[3][4],+_[3][5]],[+T[4],+_[4][1],+_[4][2],+_[4][3],+_[4][4],+_[4][5]],[+T[5],+_[5][1],+_[5][2],+_[5][3],+_[5][4],+_[5][5]]]),S([[+_[0][0],+T[0],+_[0][2],+_[0][3],+_[0][4],+_[0][5]],[+_[1][0],+T[1],+_[1][2],+_[1][3],+_[1][4],+_[1][5]],[+_[2][0],+T[2],+_[2][2],+_[2][3],+_[2][4],+_[2][5]],[+_[3][0],+T[3],+_[3][2],+_[3][3],+_[3][4],+_[3][5]],[+_[4][0],+T[4],+_[4][2],+_[4][3],+_[4][4],+_[4][5]],[+_[5][0],+T[5],+_[5][2],+_[5][3],+_[5][4],+_[5][5]]]),S([[+_[0][0],+_[0][1],+T[0],+_[0][3],+_[0][4],+_[0][5]],[+_[1][0],+_[1][1],+T[1],+_[1][3],+_[1][4],+_[1][5]],[+_[2][0],+_[2][1],+T[2],+_[2][3],+_[2][4],+_[2][5]],[+_[3][0],+_[3][1],+T[3],+_[3][3],+_[3][4],+_[3][5]],[+_[4][0],+_[4][1],+T[4],+_[4][3],+_[4][4],+_[4][5]],[+_[5][0],+_[5][1],+T[5],+_[5][3],+_[5][4],+_[5][5]]]),S([[+_[0][0],+_[0][1],+_[0][2],+T[0],+_[0][4],+_[0][5]],[+_[1][0],+_[1][1],+_[1][2],+T[1],+_[1][4],+_[1][5]],[+_[2][0],+_[2][1],+_[2][2],+T[2],+_[2][4],+_[2][5]],[+_[3][0],+_[3][1],+_[3][2],+T[3],+_[3][4],+_[3][5]],[+_[4][0],+_[4][1],+_[4][2],+T[4],+_[4][4],+_[4][5]],[+_[5][0],+_[5][1],+_[5][2],+T[5],+_[5][4],+_[5][5]]]),S([[+_[0][0],+_[0][1],+_[0][2],+_[0][3],+T[0],+_[0][5]],[+_[1][0],+_[1][1],+_[1][2],+_[1][3],+T[1],+_[1][5]],[+_[2][0],+_[2][1],+_[2][2],+_[2][3],+T[2],+_[2][5]],[+_[3][0],+_[3][1],+_[3][2],+_[3][3],+T[3],+_[3][5]],[+_[4][0],+_[4][1],+_[4][2],+_[4][3],+T[4],+_[4][5]],[+_[5][0],+_[5][1],+_[5][2],+_[5][3],+T[5],+_[5][5]]]),S([[+_[0][0],+_[0][1],+_[0][2],+_[0][3],+_[0][4],+T[0]],[+_[1][0],+_[1][1],+_[1][2],+_[1][3],+_[1][4],+T[1]],[+_[2][0],+_[2][1],+_[2][2],+_[2][3],+_[2][4],+T[2]],[+_[3][0],+_[3][1],+_[3][2],+_[3][3],+_[3][4],+T[3]],[+_[4][0],+_[4][1],+_[4][2],+_[4][3],+_[4][4],+T[4]],[+_[5][0],+_[5][1],+_[5][2],+_[5][3],+_[5][4],+T[5]]]),S(_)]}}var c=[l,o];function p(S,_,T,P,u,g,L,A){return function(R,O){switch(R.length){case 0:return S(R,O);case 1:return _(R,O);case 2:return T(R,O);case 3:return P(R,O);case 4:return u(R,O);case 5:return g(R,O)}var N=L[R.length];return N||(N=L[R.length]=A(R.length)),N(R,O)}}function w(){for(;c.length<s;)c.push(n(c.length));d.exports=p.apply(void 0,c.concat([c,n]));for(var S=0;S<s;++S)d.exports[S]=c[S]}w()},417:function(d,v,r){var e=r(9660),s=r(9662),n=r(8289),l=r(4078),o=5,h=11102230246251565e-32,b=(3+16*h)*h,f=(7+56*h)*h;function k(g,L,A,R){return function(O,N,z){var F=g(g(L(N[1],z[0]),L(-z[1],N[0])),g(L(O[1],N[0]),L(-N[1],O[0]))),I=g(L(O[1],z[0]),L(-z[1],O[0])),j=R(F,I);return j[j.length-1]}}function a(g,L,A,R){return function(O,N,z,F){var I=g(g(A(g(L(z[1],F[0]),L(-F[1],z[0])),N[2]),g(A(g(L(N[1],F[0]),L(-F[1],N[0])),-z[2]),A(g(L(N[1],z[0]),L(-z[1],N[0])),F[2]))),g(A(g(L(N[1],F[0]),L(-F[1],N[0])),O[2]),g(A(g(L(O[1],F[0]),L(-F[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),F[2])))),j=g(g(A(g(L(z[1],F[0]),L(-F[1],z[0])),O[2]),g(A(g(L(O[1],F[0]),L(-F[1],O[0])),-z[2]),A(g(L(O[1],z[0]),L(-z[1],O[0])),F[2]))),g(A(g(L(N[1],z[0]),L(-z[1],N[0])),O[2]),g(A(g(L(O[1],z[0]),L(-z[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),z[2])))),V=R(I,j);return V[V.length-1]}}function c(g,L,A,R){return function(O,N,z,F,I){var j=g(g(g(A(g(A(g(L(F[1],I[0]),L(-I[1],F[0])),z[2]),g(A(g(L(z[1],I[0]),L(-I[1],z[0])),-F[2]),A(g(L(z[1],F[0]),L(-F[1],z[0])),I[2]))),N[3]),g(A(g(A(g(L(F[1],I[0]),L(-I[1],F[0])),N[2]),g(A(g(L(N[1],I[0]),L(-I[1],N[0])),-F[2]),A(g(L(N[1],F[0]),L(-F[1],N[0])),I[2]))),-z[3]),A(g(A(g(L(z[1],I[0]),L(-I[1],z[0])),N[2]),g(A(g(L(N[1],I[0]),L(-I[1],N[0])),-z[2]),A(g(L(N[1],z[0]),L(-z[1],N[0])),I[2]))),F[3]))),g(A(g(A(g(L(z[1],F[0]),L(-F[1],z[0])),N[2]),g(A(g(L(N[1],F[0]),L(-F[1],N[0])),-z[2]),A(g(L(N[1],z[0]),L(-z[1],N[0])),F[2]))),-I[3]),g(A(g(A(g(L(F[1],I[0]),L(-I[1],F[0])),N[2]),g(A(g(L(N[1],I[0]),L(-I[1],N[0])),-F[2]),A(g(L(N[1],F[0]),L(-F[1],N[0])),I[2]))),O[3]),A(g(A(g(L(F[1],I[0]),L(-I[1],F[0])),O[2]),g(A(g(L(O[1],I[0]),L(-I[1],O[0])),-F[2]),A(g(L(O[1],F[0]),L(-F[1],O[0])),I[2]))),-N[3])))),g(g(A(g(A(g(L(N[1],I[0]),L(-I[1],N[0])),O[2]),g(A(g(L(O[1],I[0]),L(-I[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),I[2]))),F[3]),g(A(g(A(g(L(N[1],F[0]),L(-F[1],N[0])),O[2]),g(A(g(L(O[1],F[0]),L(-F[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),F[2]))),-I[3]),A(g(A(g(L(z[1],F[0]),L(-F[1],z[0])),N[2]),g(A(g(L(N[1],F[0]),L(-F[1],N[0])),-z[2]),A(g(L(N[1],z[0]),L(-z[1],N[0])),F[2]))),O[3]))),g(A(g(A(g(L(z[1],F[0]),L(-F[1],z[0])),O[2]),g(A(g(L(O[1],F[0]),L(-F[1],O[0])),-z[2]),A(g(L(O[1],z[0]),L(-z[1],O[0])),F[2]))),-N[3]),g(A(g(A(g(L(N[1],F[0]),L(-F[1],N[0])),O[2]),g(A(g(L(O[1],F[0]),L(-F[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),F[2]))),z[3]),A(g(A(g(L(N[1],z[0]),L(-z[1],N[0])),O[2]),g(A(g(L(O[1],z[0]),L(-z[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),z[2]))),-F[3]))))),V=g(g(g(A(g(A(g(L(F[1],I[0]),L(-I[1],F[0])),z[2]),g(A(g(L(z[1],I[0]),L(-I[1],z[0])),-F[2]),A(g(L(z[1],F[0]),L(-F[1],z[0])),I[2]))),O[3]),A(g(A(g(L(F[1],I[0]),L(-I[1],F[0])),O[2]),g(A(g(L(O[1],I[0]),L(-I[1],O[0])),-F[2]),A(g(L(O[1],F[0]),L(-F[1],O[0])),I[2]))),-z[3])),g(A(g(A(g(L(z[1],I[0]),L(-I[1],z[0])),O[2]),g(A(g(L(O[1],I[0]),L(-I[1],O[0])),-z[2]),A(g(L(O[1],z[0]),L(-z[1],O[0])),I[2]))),F[3]),A(g(A(g(L(z[1],F[0]),L(-F[1],z[0])),O[2]),g(A(g(L(O[1],F[0]),L(-F[1],O[0])),-z[2]),A(g(L(O[1],z[0]),L(-z[1],O[0])),F[2]))),-I[3]))),g(g(A(g(A(g(L(z[1],I[0]),L(-I[1],z[0])),N[2]),g(A(g(L(N[1],I[0]),L(-I[1],N[0])),-z[2]),A(g(L(N[1],z[0]),L(-z[1],N[0])),I[2]))),O[3]),A(g(A(g(L(z[1],I[0]),L(-I[1],z[0])),O[2]),g(A(g(L(O[1],I[0]),L(-I[1],O[0])),-z[2]),A(g(L(O[1],z[0]),L(-z[1],O[0])),I[2]))),-N[3])),g(A(g(A(g(L(N[1],I[0]),L(-I[1],N[0])),O[2]),g(A(g(L(O[1],I[0]),L(-I[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),I[2]))),z[3]),A(g(A(g(L(N[1],z[0]),L(-z[1],N[0])),O[2]),g(A(g(L(O[1],z[0]),L(-z[1],O[0])),-N[2]),A(g(L(O[1],N[0]),L(-N[1],O[0])),z[2]))),-I[3])))),W=R(j,V);return W[W.length-1]}}function p(g){var L=g===3?k:g===4?a:c;return L(s,e,n,l)}var w=p(3),S=p(4),_=[function(){return 0},function(){return 0},function(g,L){return L[0]-g[0]},function(g,L,A){var R=(g[1]-A[1])*(L[0]-A[0]),O=(g[0]-A[0])*(L[1]-A[1]),N=R-O,z;if(R>0){if(O<=0)return N;z=R+O}else if(R<0){if(O>=0)return N;z=-(R+O)}else return N;var F=b*z;return N>=F||N<=-F?N:w(g,L,A)},function(g,L,A,R){var O=g[0]-R[0],N=L[0]-R[0],z=A[0]-R[0],F=g[1]-R[1],I=L[1]-R[1],j=A[1]-R[1],V=g[2]-R[2],W=L[2]-R[2],K=A[2]-R[2],et=N*j,lt=z*I,ot=z*F,q=O*j,J=O*I,it=N*F,Z=V*(et-lt)+W*(ot-q)+K*(J-it),tt=(Math.abs(et)+Math.abs(lt))*Math.abs(V)+(Math.abs(ot)+Math.abs(q))*Math.abs(W)+(Math.abs(J)+Math.abs(it))*Math.abs(K),st=f*tt;return Z>st||-Z>st?Z:S(g,L,A,R)}];function T(g){var L=_[g.length];return L||(L=_[g.length]=p(g.length)),L.apply(void 0,g)}function P(g,L,A,R,O,N,z){return function(F,I,j,V,W){switch(arguments.length){case 0:case 1:return 0;case 2:return R(F,I);case 3:return O(F,I,j);case 4:return N(F,I,j,V);case 5:return z(F,I,j,V,W)}for(var K=new Array(arguments.length),et=0;et<arguments.length;++et)K[et]=arguments[et];return g(K)}}function u(){for(;_.length<=o;)_.push(p(_.length));d.exports=P.apply(void 0,[T].concat(_));for(var g=0;g<=o;++g)d.exports[g]=_[g]}u()},2019:function(d,v,r){var e=r(9662),s=r(8289);d.exports=n;function n(l,o){if(l.length===1)return s(o,l[0]);if(o.length===1)return s(l,o[0]);if(l.length===0||o.length===0)return[0];var h=[0];if(l.length<o.length)for(var b=0;b<l.length;++b)h=e(h,s(o,l[b]));else for(var b=0;b<o.length;++b)h=e(h,s(l,o[b]));return h}},8289:function(d,v,r){var e=r(9660),s=r(87);d.exports=n;function n(l,o){var h=l.length;if(h===1){var b=e(l[0],o);return b[0]?b:[b[1]]}var f=new Array(2*h),k=[.1,.1],a=[.1,.1],c=0;e(l[0],o,k),k[0]&&(f[c++]=k[0]);for(var p=1;p<h;++p){e(l[p],o,a);var w=k[1];s(w,a[0],k),k[0]&&(f[c++]=k[0]);var S=a[1],_=k[1],T=S+_,P=T-S,u=_-P;k[1]=T,u&&(f[c++]=u)}return k[1]&&(f[c++]=k[1]),c===0&&(f[c++]=0),f.length=c,f}},4434:function(d,v,r){d.exports=n;var e=r(417)[3];function s(l,o,h,b){for(var f=0;f<2;++f){var k=l[f],a=o[f],c=Math.min(k,a),p=Math.max(k,a),w=h[f],S=b[f],_=Math.min(w,S),T=Math.max(w,S);if(T<c||p<_)return!1}return!0}function n(l,o,h,b){var f=e(l,h,b),k=e(o,h,b);if(f>0&&k>0||f<0&&k<0)return!1;var a=e(h,l,o),c=e(b,l,o);return a>0&&c>0||a<0&&c<0?!1:f===0&&k===0&&a===0&&c===0?s(l,o,h,b):!0}},4078:function(d){d.exports=r;function v(e,s){var n=e+s,l=n-e,o=n-l,h=s-l,b=e-o,f=b+h;return f?[f,n]:[n]}function r(e,s){var n=e.length|0,l=s.length|0;if(n===1&&l===1)return v(e[0],-s[0]);var o=n+l,h=new Array(o),b=0,f=0,k=0,a=Math.abs,c=e[f],p=a(c),w=-s[k],S=a(w),_,T;p<S?(T=c,f+=1,f<n&&(c=e[f],p=a(c))):(T=w,k+=1,k<l&&(w=-s[k],S=a(w))),f<n&&p<S||k>=l?(_=c,f+=1,f<n&&(c=e[f],p=a(c))):(_=w,k+=1,k<l&&(w=-s[k],S=a(w)));for(var P=_+T,u=P-_,g=T-u,L=g,A=P,R,O,N,z,F;f<n&&k<l;)p<S?(_=c,f+=1,f<n&&(c=e[f],p=a(c))):(_=w,k+=1,k<l&&(w=-s[k],S=a(w))),T=L,P=_+T,u=P-_,g=T-u,g&&(h[b++]=g),R=A+P,O=R-A,N=R-O,z=P-O,F=A-N,L=F+z,A=R;for(;f<n;)_=c,T=L,P=_+T,u=P-_,g=T-u,g&&(h[b++]=g),R=A+P,O=R-A,N=R-O,z=P-O,F=A-N,L=F+z,A=R,f+=1,f<n&&(c=e[f]);for(;k<l;)_=w,T=L,P=_+T,u=P-_,g=T-u,g&&(h[b++]=g),R=A+P,O=R-A,N=R-O,z=P-O,F=A-N,L=F+z,A=R,k+=1,k<l&&(w=-s[k]);return L&&(h[b++]=L),A&&(h[b++]=A),b||(h[b++]=0),h.length=b,h}},9662:function(d){d.exports=r;function v(e,s){var n=e+s,l=n-e,o=n-l,h=s-l,b=e-o,f=b+h;return f?[f,n]:[n]}function r(e,s){var n=e.length|0,l=s.length|0;if(n===1&&l===1)return v(e[0],s[0]);var o=n+l,h=new Array(o),b=0,f=0,k=0,a=Math.abs,c=e[f],p=a(c),w=s[k],S=a(w),_,T;p<S?(T=c,f+=1,f<n&&(c=e[f],p=a(c))):(T=w,k+=1,k<l&&(w=s[k],S=a(w))),f<n&&p<S||k>=l?(_=c,f+=1,f<n&&(c=e[f],p=a(c))):(_=w,k+=1,k<l&&(w=s[k],S=a(w)));for(var P=_+T,u=P-_,g=T-u,L=g,A=P,R,O,N,z,F;f<n&&k<l;)p<S?(_=c,f+=1,f<n&&(c=e[f],p=a(c))):(_=w,k+=1,k<l&&(w=s[k],S=a(w))),T=L,P=_+T,u=P-_,g=T-u,g&&(h[b++]=g),R=A+P,O=R-A,N=R-O,z=P-O,F=A-N,L=F+z,A=R;for(;f<n;)_=c,T=L,P=_+T,u=P-_,g=T-u,g&&(h[b++]=g),R=A+P,O=R-A,N=R-O,z=P-O,F=A-N,L=F+z,A=R,f+=1,f<n&&(c=e[f]);for(;k<l;)_=w,T=L,P=_+T,u=P-_,g=T-u,g&&(h[b++]=g),R=A+P,O=R-A,N=R-O,z=P-O,F=A-N,L=F+z,A=R,k+=1,k<l&&(w=s[k]);return L&&(h[b++]=L),A&&(h[b++]=A),b||(h[b++]=0),h.length=b,h}},8691:function(d,v,r){d.exports=n;var e=r(2692),s=r(7037);function n(l){return s(e(l))}},7212:function(d,v,r){d.exports=c;var e=r(5050),s=r(5306),n=r(8729),l=r(1168);function o(p){for(var w=p.length,S=0,_=0;_<w;++_)S=Math.max(S,p[_].length)|0;return S-1}function h(p,w){for(var S=p.length,_=s.mallocUint8(S),T=0;T<S;++T)_[T]=p[T]<w|0;return _}function b(p,w){for(var S=p.length,_=w*(w+1)/2*S|0,T=s.mallocUint32(_*2),P=0,u=0;u<S;++u)for(var g=p[u],w=g.length,L=0;L<w;++L)for(var A=0;A<L;++A){var R=g[A],O=g[L];T[P++]=Math.min(R,O)|0,T[P++]=Math.max(R,O)|0}var N=P/2|0;n(e(T,[N,2]));for(var z=2,u=2;u<P;u+=2)T[u-2]===T[u]&&T[u-1]===T[u+1]||(T[z++]=T[u],T[z++]=T[u+1]);return e(T,[z/2|0,2])}function f(p,w,S,_){for(var T=p.data,P=p.shape[0],u=s.mallocDouble(P),g=0,L=0;L<P;++L){var A=T[2*L],R=T[2*L+1];if(S[A]!==S[R]){var O=w[A],N=w[R];T[2*g]=A,T[2*g+1]=R,u[g++]=(N-_)/(N-O)}}return p.shape[0]=g,e(u,[g])}function k(p,w){var S=s.mallocInt32(w*2),_=p.shape[0],T=p.data;S[0]=0;for(var P=0,u=0;u<_;++u){var g=T[2*u];if(g!==P){for(S[2*P+1]=u;++P<g;)S[2*P]=u,S[2*P+1]=u;S[2*P]=u}}for(S[2*P+1]=_;++P<w;)S[2*P]=S[2*P+1]=_;return S}function a(p){for(var w=p.shape[0]|0,S=p.data,_=new Array(w),T=0;T<w;++T)_[T]=[S[2*T],S[2*T+1]];return _}function c(p,w,S,_){S=S||0,typeof _>"u"&&(_=o(p));var T=p.length;if(T===0||_<1)return{cells:[],vertexIds:[],vertexWeights:[]};var P=h(w,+S),u=b(p,_),g=f(u,w,P,+S),L=k(u,w.length|0),A=l(_)(p,u.data,L,P),R=a(u),O=[].slice.call(g.data,0,g.shape[0]);return s.free(P),s.free(u.data),s.free(g.data),s.free(L),{cells:A,vertexIds:R,vertexWeights:O}}},1168:function(d){d.exports=r;var v=[function(){function e(s,n,l,o){for(var h=s.length,b=[],f=0;f<h;++f){var k=s[f];k.length}return b}return e},function(){function e(n,l,o,h){for(var b=Math.min(o,h)|0,f=Math.max(o,h)|0,k=n[2*b],a=n[2*b+1];k<a;){var c=k+a>>1,p=l[2*c+1];if(p===f)return c;f<p?a=c:k=c+1}return k}function s(n,l,o,h){for(var b=n.length,f=[],k=0;k<b;++k){var a=n[k],c=a.length;if(c===2){var p=(h[a[0]]<<0)+(h[a[1]]<<1);if(p===0||p===3)continue;switch(p){case 0:break;case 1:f.push([e(o,l,a[0],a[1])]);break;case 2:f.push([e(o,l,a[1],a[0])]);break}}}return f}return s},function(){function e(n,l,o,h){for(var b=Math.min(o,h)|0,f=Math.max(o,h)|0,k=n[2*b],a=n[2*b+1];k<a;){var c=k+a>>1,p=l[2*c+1];if(p===f)return c;f<p?a=c:k=c+1}return k}function s(n,l,o,h){for(var b=n.length,f=[],k=0;k<b;++k){var a=n[k],c=a.length;if(c===3){var p=(h[a[0]]<<0)+(h[a[1]]<<1)+(h[a[2]]<<2);if(p===0||p===7)continue;switch(p){case 0:break;case 1:f.push([e(o,l,a[0],a[2]),e(o,l,a[0],a[1])]);break;case 2:f.push([e(o,l,a[1],a[0]),e(o,l,a[1],a[2])]);break;case 3:f.push([e(o,l,a[0],a[2]),e(o,l,a[1],a[2])]);break;case 4:f.push([e(o,l,a[2],a[1]),e(o,l,a[2],a[0])]);break;case 5:f.push([e(o,l,a[2],a[1]),e(o,l,a[0],a[1])]);break;case 6:f.push([e(o,l,a[1],a[0]),e(o,l,a[2],a[0])]);break}}else if(c===2){var p=(h[a[0]]<<0)+(h[a[1]]<<1);if(p===0||p===3)continue;switch(p){case 0:break;case 1:f.push([e(o,l,a[0],a[1])]);break;case 2:f.push([e(o,l,a[1],a[0])]);break}}}return f}return s},function(){function e(n,l,o,h){for(var b=Math.min(o,h)|0,f=Math.max(o,h)|0,k=n[2*b],a=n[2*b+1];k<a;){var c=k+a>>1,p=l[2*c+1];if(p===f)return c;f<p?a=c:k=c+1}return k}function s(n,l,o,h){for(var b=n.length,f=[],k=0;k<b;++k){var a=n[k],c=a.length;if(c===4){var p=(h[a[0]]<<0)+(h[a[1]]<<1)+(h[a[2]]<<2)+(h[a[3]]<<3);if(p===0||p===15)continue;switch(p){case 0:break;case 1:f.push([e(o,l,a[0],a[1]),e(o,l,a[0],a[2]),e(o,l,a[0],a[3])]);break;case 2:f.push([e(o,l,a[1],a[2]),e(o,l,a[1],a[0]),e(o,l,a[1],a[3])]);break;case 3:f.push([e(o,l,a[1],a[2]),e(o,l,a[0],a[2]),e(o,l,a[0],a[3])],[e(o,l,a[1],a[3]),e(o,l,a[1],a[2]),e(o,l,a[0],a[3])]);break;case 4:f.push([e(o,l,a[2],a[0]),e(o,l,a[2],a[1]),e(o,l,a[2],a[3])]);break;case 5:f.push([e(o,l,a[0],a[1]),e(o,l,a[2],a[1]),e(o,l,a[0],a[3])],[e(o,l,a[2],a[1]),e(o,l,a[2],a[3]),e(o,l,a[0],a[3])]);break;case 6:f.push([e(o,l,a[2],a[0]),e(o,l,a[1],a[0]),e(o,l,a[1],a[3])],[e(o,l,a[2],a[3]),e(o,l,a[2],a[0]),e(o,l,a[1],a[3])]);break;case 7:f.push([e(o,l,a[0],a[3]),e(o,l,a[1],a[3]),e(o,l,a[2],a[3])]);break;case 8:f.push([e(o,l,a[3],a[1]),e(o,l,a[3],a[0]),e(o,l,a[3],a[2])]);break;case 9:f.push([e(o,l,a[3],a[1]),e(o,l,a[0],a[1]),e(o,l,a[0],a[2])],[e(o,l,a[3],a[2]),e(o,l,a[3],a[1]),e(o,l,a[0],a[2])]);break;case 10:f.push([e(o,l,a[1],a[0]),e(o,l,a[3],a[0]),e(o,l,a[1],a[2])],[e(o,l,a[3],a[0]),e(o,l,a[3],a[2]),e(o,l,a[1],a[2])]);break;case 11:f.push([e(o,l,a[1],a[2]),e(o,l,a[0],a[2]),e(o,l,a[3],a[2])]);break;case 12:f.push([e(o,l,a[3],a[0]),e(o,l,a[2],a[0]),e(o,l,a[2],a[1])],[e(o,l,a[3],a[1]),e(o,l,a[3],a[0]),e(o,l,a[2],a[1])]);break;case 13:f.push([e(o,l,a[0],a[1]),e(o,l,a[2],a[1]),e(o,l,a[3],a[1])]);break;case 14:f.push([e(o,l,a[2],a[0]),e(o,l,a[1],a[0]),e(o,l,a[3],a[0])]);break}}else if(c===3){var p=(h[a[0]]<<0)+(h[a[1]]<<1)+(h[a[2]]<<2);if(p===0||p===7)continue;switch(p){case 0:break;case 1:f.push([e(o,l,a[0],a[2]),e(o,l,a[0],a[1])]);break;case 2:f.push([e(o,l,a[1],a[0]),e(o,l,a[1],a[2])]);break;case 3:f.push([e(o,l,a[0],a[2]),e(o,l,a[1],a[2])]);break;case 4:f.push([e(o,l,a[2],a[1]),e(o,l,a[2],a[0])]);break;case 5:f.push([e(o,l,a[2],a[1]),e(o,l,a[0],a[1])]);break;case 6:f.push([e(o,l,a[1],a[0]),e(o,l,a[2],a[0])]);break}}else if(c===2){var p=(h[a[0]]<<0)+(h[a[1]]<<1);if(p===0||p===3)continue;switch(p){case 0:break;case 1:f.push([e(o,l,a[0],a[1])]);break;case 2:f.push([e(o,l,a[1],a[0])]);break}}}return f}return s}];function r(e){return v[e]()}},8211:function(d,v,r){r(2288),r(1731);function e(s,n){var l=s.length,o=s.length-n.length,h=Math.min;if(o)return o;switch(l){case 0:return 0;case 1:return s[0]-n[0];case 2:var c=s[0]+s[1]-n[0]-n[1];return c||h(s[0],s[1])-h(n[0],n[1]);case 3:var b=s[0]+s[1],f=n[0]+n[1];if(c=b+s[2]-(f+n[2]),c)return c;var k=h(s[0],s[1]),a=h(n[0],n[1]),c=h(k,s[2])-h(a,n[2]);return c||h(k+s[2],b)-h(a+n[2],f);default:var p=s.slice(0);p.sort();var w=n.slice(0);w.sort();for(var S=0;S<l;++S)if(o=p[S]-w[S],o)return o;return 0}}v.H=e},9392:function(d,v){"use restrict";var r=32;v.INT_BITS=r,v.INT_MAX=2147483647,v.INT_MIN=-1<<r-1,v.sign=function(n){return(n>0)-(n<0)},v.abs=function(n){var l=n>>r-1;return(n^l)-l},v.min=function(n,l){return l^(n^l)&-(n<l)},v.max=function(n,l){return n^(n^l)&-(n<l)},v.isPow2=function(n){return!(n&n-1)&&!!n},v.log2=function(n){var l,o;return l=(n>65535)<<4,n>>>=l,o=(n>255)<<3,n>>>=o,l|=o,o=(n>15)<<2,n>>>=o,l|=o,o=(n>3)<<1,n>>>=o,l|=o,l|n>>1},v.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},v.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function e(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}v.countTrailingZeros=e,v.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},v.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},v.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var l=0;l<256;++l){var o=l,h=l,b=7;for(o>>>=1;o;o>>>=1)h<<=1,h|=o&1,--b;n[l]=h<<b&255}})(s),v.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},v.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},v.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},v.interleave3=function(n,l,o){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,n|o<<2},v.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},v.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>e(n)+1}},6656:function(d,v,r){"use restrict";var e=r(9392),s=r(9521);function n(g){for(var L=0,A=Math.max,R=0,O=g.length;R<O;++R)L=A(L,g[R].length);return L-1}v.dimension=n;function l(g){for(var L=-1,A=Math.max,R=0,O=g.length;R<O;++R)for(var N=g[R],z=0,F=N.length;z<F;++z)L=A(L,N[z]);return L+1}v.countVertices=l;function o(g){for(var L=new Array(g.length),A=0,R=g.length;A<R;++A)L[A]=g[A].slice(0);return L}v.cloneCells=o;function h(g,L){var A=g.length,R=g.length-L.length,O=Math.min;if(R)return R;switch(A){case 0:return 0;case 1:return g[0]-L[0];case 2:var j=g[0]+g[1]-L[0]-L[1];return j||O(g[0],g[1])-O(L[0],L[1]);case 3:var N=g[0]+g[1],z=L[0]+L[1];if(j=N+g[2]-(z+L[2]),j)return j;var F=O(g[0],g[1]),I=O(L[0],L[1]),j=O(F,g[2])-O(I,L[2]);return j||O(F+g[2],N)-O(I+L[2],z);default:var V=g.slice(0);V.sort();var W=L.slice(0);W.sort();for(var K=0;K<A;++K)if(R=V[K]-W[K],R)return R;return 0}}v.compareCells=h;function b(g,L){return h(g[0],L[0])}function f(g,L){if(L){for(var A=g.length,R=new Array(A),O=0;O<A;++O)R[O]=[g[O],L[O]];R.sort(b);for(var O=0;O<A;++O)g[O]=R[O][0],L[O]=R[O][1];return g}else return g.sort(h),g}v.normalize=f;function k(g){if(g.length===0)return[];for(var L=1,A=g.length,R=1;R<A;++R){var O=g[R];if(h(O,g[R-1])){if(R===L){L++;continue}g[L++]=O}}return g.length=L,g}v.unique=k;function a(g,L){for(var A=0,R=g.length-1,O=-1;A<=R;){var N=A+R>>1,z=h(g[N],L);z<=0?(z===0&&(O=N),A=N+1):z>0&&(R=N-1)}return O}v.findCell=a;function c(g,L){for(var A=new Array(g.length),R=0,O=A.length;R<O;++R)A[R]=[];for(var N=[],R=0,z=L.length;R<z;++R)for(var F=L[R],I=F.length,j=1,V=1<<I;j<V;++j){N.length=e.popCount(j);for(var W=0,K=0;K<I;++K)j&1<<K&&(N[W++]=F[K]);var et=a(g,N);if(!(et<0))for(;A[et++].push(R),!(et>=g.length||h(g[et],N)!==0););}return A}v.incidence=c;function p(g,L){if(!L)return c(k(S(g,0)),g);for(var A=new Array(L),R=0;R<L;++R)A[R]=[];for(var R=0,O=g.length;R<O;++R)for(var N=g[R],z=0,F=N.length;z<F;++z)A[N[z]].push(R);return A}v.dual=p;function w(g){for(var L=[],A=0,R=g.length;A<R;++A)for(var O=g[A],N=O.length|0,z=1,F=1<<N;z<F;++z){for(var I=[],j=0;j<N;++j)z>>>j&1&&I.push(O[j]);L.push(I)}return f(L)}v.explode=w;function S(g,L){if(L<0)return[];for(var A=[],R=(1<<L+1)-1,O=0;O<g.length;++O)for(var N=g[O],z=R;z<1<<N.length;z=e.nextCombination(z)){for(var F=new Array(L+1),I=0,j=0;j<N.length;++j)z&1<<j&&(F[I++]=N[j]);A.push(F)}return f(A)}v.skeleton=S;function _(g){for(var L=[],A=0,R=g.length;A<R;++A)for(var O=g[A],N=0,z=O.length;N<z;++N){for(var F=new Array(O.length-1),I=0,j=0;I<z;++I)I!==N&&(F[j++]=O[I]);L.push(F)}return f(L)}v.boundary=_;function T(g,L){for(var A=new s(L),R=0;R<g.length;++R)for(var O=g[R],N=0;N<O.length;++N)for(var z=N+1;z<O.length;++z)A.link(O[N],O[z]);for(var F=[],I=A.ranks,R=0;R<I.length;++R)I[R]=-1;for(var R=0;R<g.length;++R){var j=A.find(g[R][0]);I[j]<0?(I[j]=F.length,F.push([g[R].slice(0)])):F[I[j]].push(g[R].slice(0))}return F}function P(g){for(var L=k(f(S(g,0))),A=new s(L.length),R=0;R<g.length;++R)for(var O=g[R],N=0;N<O.length;++N)for(var z=a(L,[O[N]]),F=N+1;F<O.length;++F)A.link(z,a(L,[O[F]]));for(var I=[],j=A.ranks,R=0;R<j.length;++R)j[R]=-1;for(var R=0;R<g.length;++R){var V=A.find(a(L,[g[R][0]]));j[V]<0?(j[V]=I.length,I.push([g[R].slice(0)])):I[j[V]].push(g[R].slice(0))}return I}function u(g,L){return L?T(g,L):P(g)}v.connectedComponents=u},9521:function(d){"use restrict";d.exports=v;function v(r){this.roots=new Array(r),this.ranks=new Array(r);for(var e=0;e<r;++e)this.roots[e]=e,this.ranks[e]=0}v.prototype.length=function(){return this.roots.length},v.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},v.prototype.find=function(r){for(var e=this.roots;e[r]!==r;){var s=e[r];e[r]=e[s],r=s}return r},v.prototype.link=function(r,e){var s=this.find(r),n=this.find(e);if(s!==n){var l=this.ranks,o=this.roots,h=l[s],b=l[n];h<b?o[s]=n:b<h?o[n]=s:(o[n]=s,++l[s])}}},8243:function(d,v,r){d.exports=l;var e=r(417),s=r(6656);function n(o,h,b){var f=Math.abs(e(o,h,b)),k=Math.sqrt(Math.pow(h[0]-b[0],2)+Math.pow(h[1]-b[1],2));return f/k}function l(o,h,b){for(var f=h.length,k=o.length,a=new Array(f),c=new Array(f),p=new Array(f),w=new Array(f),S=0;S<f;++S)a[S]=c[S]=-1,p[S]=1/0,w[S]=!1;for(var S=0;S<k;++S){var _=o[S];if(_.length!==2)throw new Error("Input must be a graph");var T=_[1],P=_[0];c[P]!==-1?c[P]=-2:c[P]=T,a[T]!==-1?a[T]=-2:a[T]=P}function u(q){if(w[q])return 1/0;var J=a[q],it=c[q];return J<0||it<0?1/0:n(h[q],h[J],h[it])}function g(q,J){var it=I[q],Z=I[J];I[q]=Z,I[J]=it,j[it]=J,j[Z]=q}function L(q){return p[I[q]]}function A(q){return q&1?q-1>>1:(q>>1)-1}function R(q){for(var J=L(q);;){var it=J,Z=2*q+1,tt=2*(q+1),st=q;if(Z<W){var Q=L(Z);Q<it&&(st=Z,it=Q)}if(tt<W){var G=L(tt);G<it&&(st=tt)}if(st===q)return q;g(q,st),q=st}}function O(q){for(var J=L(q);q>0;){var it=A(q);if(it>=0){var Z=L(it);if(J<Z){g(q,it),q=it;continue}}return q}}function N(){if(W>0){var q=I[0];return g(0,W-1),W-=1,R(0),q}return-1}function z(q,J){var it=I[q];return p[it]===J?q:(p[it]=-1/0,O(q),N(),p[it]=J,W+=1,O(W-1))}function F(q){if(!w[q]){w[q]=!0;var J=a[q],it=c[q];a[it]>=0&&(a[it]=J),c[J]>=0&&(c[J]=it),j[J]>=0&&z(j[J],u(J)),j[it]>=0&&z(j[it],u(it))}}for(var I=[],j=new Array(f),S=0;S<f;++S){var V=p[S]=u(S);V<1/0?(j[S]=I.length,I.push(S)):j[S]=-1}for(var W=I.length,S=W>>1;S>=0;--S)R(S);for(;;){var K=N();if(K<0||p[K]>b)break;F(K)}for(var et=[],S=0;S<f;++S)w[S]||(j[S]=et.length,et.push(h[S].slice()));et.length;function lt(q,J){if(q[J]<0)return J;var it=J,Z=J;do{var tt=q[Z];if(!w[Z]||tt<0||tt===Z||(Z=tt,tt=q[Z],!w[Z]||tt<0||tt===Z))break;Z=tt,it=q[it]}while(it!==Z);for(var st=J;st!==Z;st=q[st])q[st]=Z;return Z}var ot=[];return o.forEach(function(q){var J=lt(a,q[0]),it=lt(c,q[1]);if(J>=0&&it>=0&&J!==it){var Z=j[J],tt=j[it];Z!==tt&&ot.push([Z,tt])}}),s.unique(s.normalize(ot)),{positions:et,edges:ot}}},6638:function(d,v,r){d.exports=n;var e=r(417);function s(l,o){var h,b;if(o[0][0]<o[1][0])h=o[0],b=o[1];else if(o[0][0]>o[1][0])h=o[1],b=o[0];else{var f=Math.min(l[0][1],l[1][1]),k=Math.max(l[0][1],l[1][1]),a=Math.min(o[0][1],o[1][1]),c=Math.max(o[0][1],o[1][1]);return k<a?k-a:f>c?f-c:k-c}var p,w;l[0][1]<l[1][1]?(p=l[0],w=l[1]):(p=l[1],w=l[0]);var S=e(b,h,p);return S||(S=e(b,h,w),S)?S:w-b}function n(l,o){var h,b;if(o[0][0]<o[1][0])h=o[0],b=o[1];else if(o[0][0]>o[1][0])h=o[1],b=o[0];else return s(o,l);var f,k;if(l[0][0]<l[1][0])f=l[0],k=l[1];else if(l[0][0]>l[1][0])f=l[1],k=l[0];else return-s(l,o);var a=e(h,b,k),c=e(h,b,f);if(a<0){if(c<=0)return a}else if(a>0){if(c>=0)return a}else if(c)return c;if(a=e(k,f,b),c=e(k,f,h),a<0){if(c<=0)return a}else if(a>0){if(c>=0)return a}else if(c)return c;return b[0]-k[0]}},4385:function(d,v,r){d.exports=c;var e=r(5070),s=r(7080),n=r(417),l=r(6638);function o(p,w,S){this.slabs=p,this.coordinates=w,this.horizontal=S}var h=o.prototype;function b(p,w){return p.y-w}function f(p,w){for(var S=null;p;){var _=p.key,T,P;_[0][0]<_[1][0]?(T=_[0],P=_[1]):(T=_[1],P=_[0]);var u=n(T,P,w);if(u<0)p=p.left;else if(u>0)if(w[0]!==_[1][0])S=p,p=p.right;else{var g=f(p.right,w);if(g)return g;p=p.left}else{if(w[0]!==_[1][0])return p;var g=f(p.right,w);if(g)return g;p=p.left}}return S}h.castUp=function(p){var w=e.le(this.coordinates,p[0]);if(w<0)return-1;this.slabs[w];var S=f(this.slabs[w],p),_=-1;if(S&&(_=S.value),this.coordinates[w]===p[0]){var T=null;if(S&&(T=S.key),w>0){var P=f(this.slabs[w-1],p);P&&(T?l(P.key,T)>0&&(T=P.key,_=P.value):(_=P.value,T=P.key))}var u=this.horizontal[w];if(u.length>0){var g=e.ge(u,p[1],b);if(g<u.length){var L=u[g];if(p[1]===L.y){if(L.closed)return L.index;for(;g<u.length-1&&u[g+1].y===p[1];)if(g=g+1,L=u[g],L.closed)return L.index;if(L.y===p[1]&&!L.start){if(g=g+1,g>=u.length)return _;L=u[g]}}if(L.start)if(T){var A=n(T[0],T[1],[p[0],L.y]);T[0][0]>T[1][0]&&(A=-A),A>0&&(_=L.index)}else _=L.index;else L.y!==p[1]&&(_=L.index)}}}return _};function k(p,w,S,_){this.y=p,this.index=w,this.start=S,this.closed=_}function a(p,w,S,_){this.x=p,this.segment=w,this.create=S,this.index=_}function c(p){for(var w=p.length,S=2*w,_=new Array(S),T=0;T<w;++T){var P=p[T],u=P[0][0]<P[1][0];_[2*T]=new a(P[0][0],P,u,T),_[2*T+1]=new a(P[1][0],P,!u,T)}_.sort(function(F,I){var j=F.x-I.x;return j||(j=F.create-I.create,j)?j:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(I.segment[0][1],I.segment[1][1])});for(var g=s(l),L=[],A=[],R=[],T=0;T<S;){for(var O=_[T].x,N=[];T<S;){var z=_[T];if(z.x!==O)break;T+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(N.push(new k(z.segment[0][1],z.index,!0,!0)),N.push(new k(z.segment[1][1],z.index,!1,!1))):(N.push(new k(z.segment[1][1],z.index,!0,!1)),N.push(new k(z.segment[0][1],z.index,!1,!0)))):z.create?g=g.insert(z.segment,z.index):g=g.remove(z.segment)}L.push(g.root),A.push(O),R.push(N)}return new o(L,A,R)}},4670:function(d,v,r){var e=r(9130),s=r(9662);d.exports=o,d.exports.positive=h,d.exports.negative=b;function n(f,k){var a=s(e(f,k),[k[k.length-1]]);return a[a.length-1]}function l(f,k,a,c){var p=c-k,w=-k/p;w<0?w=0:w>1&&(w=1);for(var S=1-w,_=f.length,T=new Array(_),P=0;P<_;++P)T[P]=w*f[P]+S*a[P];return T}function o(f,k){for(var a=[],c=[],p=n(f[f.length-1],k),w=f[f.length-1],S=f[0],_=0;_<f.length;++_,w=S){S=f[_];var T=n(S,k);if(p<0&&T>0||p>0&&T<0){var P=l(w,T,S,p);a.push(P),c.push(P.slice())}T<0?c.push(S.slice()):T>0?a.push(S.slice()):(a.push(S.slice()),c.push(S.slice())),p=T}return{positive:a,negative:c}}function h(f,k){for(var a=[],c=n(f[f.length-1],k),p=f[f.length-1],w=f[0],S=0;S<f.length;++S,p=w){w=f[S];var _=n(w,k);(c<0&&_>0||c>0&&_<0)&&a.push(l(p,_,w,c)),_>=0&&a.push(w.slice()),c=_}return a}function b(f,k){for(var a=[],c=n(f[f.length-1],k),p=f[f.length-1],w=f[0],S=0;S<f.length;++S,p=w){w=f[S];var _=n(w,k);(c<0&&_>0||c>0&&_<0)&&a.push(l(p,_,w,c)),_<=0&&a.push(w.slice()),c=_}return a}},8974:function(d,v,r){var e;(function(){var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(f){return o(b(f),arguments)}function l(f,k){return n.apply(null,[f].concat(k||[]))}function o(f,k){var a=1,c=f.length,p,w="",S,_,T,P,u,g,L,A;for(S=0;S<c;S++)if(typeof f[S]=="string")w+=f[S];else if(typeof f[S]=="object"){if(T=f[S],T.keys)for(p=k[a],_=0;_<T.keys.length;_++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',T.keys[_],T.keys[_-1]));p=p[T.keys[_]]}else T.param_no?p=k[T.param_no]:p=k[a++];if(s.not_type.test(T.type)&&s.not_primitive.test(T.type)&&p instanceof Function&&(p=p()),s.numeric_arg.test(T.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(s.number.test(T.type)&&(L=p>=0),T.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,T.width?parseInt(T.width):0);break;case"e":p=T.precision?parseFloat(p).toExponential(T.precision):parseFloat(p).toExponential();break;case"f":p=T.precision?parseFloat(p).toFixed(T.precision):parseFloat(p);break;case"g":p=T.precision?String(Number(p.toPrecision(T.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=T.precision?p.substring(0,T.precision):p;break;case"t":p=String(!!p),p=T.precision?p.substring(0,T.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=T.precision?p.substring(0,T.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=T.precision?p.substring(0,T.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}s.json.test(T.type)?w+=p:(s.number.test(T.type)&&(!L||T.sign)?(A=L?"+":"-",p=p.toString().replace(s.sign,"")):A="",u=T.pad_char?T.pad_char==="0"?"0":T.pad_char.charAt(1):" ",g=T.width-(A+p).length,P=T.width&&g>0?u.repeat(g):"",w+=T.align?A+p+P:u==="0"?A+P+p:P+A+p)}return w}var h=Object.create(null);function b(f){if(h[f])return h[f];for(var k=f,a,c=[],p=0;k;){if((a=s.text.exec(k))!==null)c.push(a[0]);else if((a=s.modulo.exec(k))!==null)c.push("%");else if((a=s.placeholder.exec(k))!==null){if(a[2]){p|=1;var w=[],S=a[2],_=[];if((_=s.key.exec(S))!==null)for(w.push(_[1]);(S=S.substring(_[0].length))!=="";)if((_=s.key_access.exec(S))!==null)w.push(_[1]);else if((_=s.index_access.exec(S))!==null)w.push(_[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");a[2]=w}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:a[0],param_no:a[1],keys:a[2],sign:a[3],pad_char:a[4],align:a[5],width:a[6],precision:a[7],type:a[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");k=k.substring(a[0].length)}return h[f]=c}v.sprintf=n,v.vsprintf=l,typeof window<"u"&&(window.sprintf=n,window.vsprintf=l,e=(function(){return{sprintf:n,vsprintf:l}}).call(v,r,v,d),e!==void 0&&(d.exports=e))})()},4162:function(d,v,r){d.exports=b;var e=r(9284),s=r(9584),n={"2d":function(f,k,a){var c=f({order:k,scalarArguments:3,getters:a==="generic"?[0]:void 0,phase:function(p,w,S,_){return p>_|0},vertex:function(p,w,S,_,T,P,u,g,L,A,R,O,N){var z=(u<<0)+(g<<1)+(L<<2)+(A<<3)|0;if(!(z===0||z===15))switch(z){case 0:R.push([p-.5,w-.5]);break;case 1:R.push([p-.25-.25*(_+S-2*N)/(S-_),w-.25-.25*(T+S-2*N)/(S-T)]);break;case 2:R.push([p-.75-.25*(-_-S+2*N)/(_-S),w-.25-.25*(P+_-2*N)/(_-P)]);break;case 3:R.push([p-.5,w-.5-.5*(T+S+P+_-4*N)/(S-T+_-P)]);break;case 4:R.push([p-.25-.25*(P+T-2*N)/(T-P),w-.75-.25*(-T-S+2*N)/(T-S)]);break;case 5:R.push([p-.5-.5*(_+S+P+T-4*N)/(S-_+T-P),w-.5]);break;case 6:R.push([p-.5-.25*(-_-S+P+T)/(_-S+T-P),w-.5-.25*(-T-S+P+_)/(T-S+_-P)]);break;case 7:R.push([p-.75-.25*(P+T-2*N)/(T-P),w-.75-.25*(P+_-2*N)/(_-P)]);break;case 8:R.push([p-.75-.25*(-P-T+2*N)/(P-T),w-.75-.25*(-P-_+2*N)/(P-_)]);break;case 9:R.push([p-.5-.25*(_+S+-P-T)/(S-_+P-T),w-.5-.25*(T+S+-P-_)/(S-T+P-_)]);break;case 10:R.push([p-.5-.5*(-_-S+-P-T+4*N)/(_-S+P-T),w-.5]);break;case 11:R.push([p-.25-.25*(-P-T+2*N)/(P-T),w-.75-.25*(T+S-2*N)/(S-T)]);break;case 12:R.push([p-.5,w-.5-.5*(-T-S+-P-_+4*N)/(T-S+P-_)]);break;case 13:R.push([p-.75-.25*(_+S-2*N)/(S-_),w-.25-.25*(-P-_+2*N)/(P-_)]);break;case 14:R.push([p-.25-.25*(-_-S+2*N)/(_-S),w-.25-.25*(-T-S+2*N)/(T-S)]);break;case 15:R.push([p-.5,w-.5]);break}},cell:function(p,w,S,_,T,P,u,g,L){T?g.push([p,w]):g.push([w,p])}});return function(p,w){var S=[],_=[];return c(p,S,_,w),{positions:S,cells:_}}}};function l(f,k){var a=f.length+"d",c=n[a];if(c)return c(e,f,k)}function o(f,k){for(var a=s(f,k),c=a.length,p=new Array(c),w=new Array(c),S=0;S<c;++S)p[S]=[a[S]],w[S]=[S];return{positions:p,cells:w}}var h={};function b(f,p){if(f.dimension<=0)return{positions:[],cells:[]};if(f.dimension===1)return o(f,p);var a=f.order.join()+"-"+f.dtype,c=h[a],p=+p||0;return c||(c=h[a]=l(f.order,f.dtype)),c(f,p)}},6946:function(d,v,r){d.exports=o;var e=r(875),s=window||x.global||{},n=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function l(h){for(var b=h.cells,f=h.positions,k=new Float32Array(b.length*6),a=0,c=0,p=0;p<b.length;++p)for(var w=b[p],S=0;S<3;++S){var _=f[w[S]];k[a++]=_[0],k[a++]=_[1]+1.4,c=Math.max(_[0],c)}return{data:k,shape:c}}function o(h,b,k){var k=k||{},a=n[h];a||(a=n[h]={" ":{data:new Float32Array(0),shape:.2}});var c=a[b];if(!c)if(b.length<=1||!/\d/.test(b))c=a[b]=l(e(b,{triangles:!0,font:h,textAlign:k.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var p=b.split(/(\d|\s)/),w=new Array(p.length),S=0,_=0,T=0;T<p.length;++T)w[T]=o(h,p[T]),S+=w[T].data.length,_+=w[T].shape,T>0&&(_+=.02);for(var P=new Float32Array(S),u=0,g=-.5*_,T=0;T<w.length;++T){for(var L=w[T].data,A=0;A<L.length;A+=2)P[u++]=L[A]+g,P[u++]=L[A+1];g+=w[T].shape+.02}c=a[b]={data:P,shape:_}}return c}},14:function(d,v,r){var e=r(4405);d.exports=o;var s=96;function n(h,b){var f=e(getComputedStyle(h).getPropertyValue(b));return f[0]*o(f[1],h)}function l(h,b){var f=document.createElement("div");f.style["font-size"]="128"+h,b.appendChild(f);var k=n(f,"font-size")/128;return b.removeChild(f),k}function o(h,b){switch(b=b||document.body,h=(h||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),h){case"%":return b.clientHeight/100;case"ch":case"ex":return l(h,b);case"em":return n(b,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},3440:function(d,v,r){d.exports=w;var e=r(8444),s=r(7437),n=r(4422),l=r(903),o=r(899),h=r(9305);function b(S,_,T){return Math.sqrt(Math.pow(S,2)+Math.pow(_,2)+Math.pow(T,2))}function f(S){return Math.min(1,Math.max(-1,S))}function k(S){var _=Math.abs(S[0]),T=Math.abs(S[1]),P=Math.abs(S[2]),u=[0,0,0];_>Math.max(T,P)?u[2]=1:T>Math.max(_,P)?u[0]=1:u[1]=1;for(var g=0,L=0,A=0;A<3;++A)g+=S[A]*S[A],L+=u[A]*S[A];for(var A=0;A<3;++A)u[A]-=L/g*S[A];return o(u,u),u}function a(S,_,T,P,u,g,L,A){this.center=e(T),this.up=e(P),this.right=e(u),this.radius=e([g]),this.angle=e([L,A]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(S,_),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var R=0;R<16;++R)this.computedMatrix[R]=.5;this.recalcMatrix(0)}var c=a.prototype;c.setDistanceLimits=function(S,_){S>0?S=Math.log(S):S=-1/0,_>0?_=Math.log(_):_=1/0,_=Math.max(_,S),this.radius.bounds[0][0]=S,this.radius.bounds[1][0]=_},c.getDistanceLimits=function(S){var _=this.radius.bounds[0];return S?(S[0]=Math.exp(_[0][0]),S[1]=Math.exp(_[1][0]),S):[Math.exp(_[0][0]),Math.exp(_[1][0])]},c.recalcMatrix=function(S){this.center.curve(S),this.up.curve(S),this.right.curve(S),this.radius.curve(S),this.angle.curve(S);for(var _=this.computedUp,T=this.computedRight,P=0,u=0,g=0;g<3;++g)u+=_[g]*T[g],P+=_[g]*_[g];for(var L=Math.sqrt(P),A=0,g=0;g<3;++g)T[g]-=_[g]*u/P,A+=T[g]*T[g],_[g]/=L;for(var R=Math.sqrt(A),g=0;g<3;++g)T[g]/=R;var O=this.computedToward;l(O,_,T),o(O,O);for(var N=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],F=this.computedAngle[1],I=Math.cos(z),j=Math.sin(z),V=Math.cos(F),W=Math.sin(F),K=this.computedCenter,et=I*V,lt=j*V,ot=W,q=-I*W,J=-j*W,it=V,Z=this.computedEye,tt=this.computedMatrix,g=0;g<3;++g){var st=et*T[g]+lt*O[g]+ot*_[g];tt[4*g+1]=q*T[g]+J*O[g]+it*_[g],tt[4*g+2]=st,tt[4*g+3]=0}var Q=tt[1],G=tt[5],ut=tt[9],at=tt[2],dt=tt[6],gt=tt[10],wt=G*gt-ut*dt,kt=ut*at-Q*gt,Ot=Q*dt-G*at,bt=b(wt,kt,Ot);wt/=bt,kt/=bt,Ot/=bt,tt[0]=wt,tt[4]=kt,tt[8]=Ot;for(var g=0;g<3;++g)Z[g]=K[g]+tt[2+4*g]*N;for(var g=0;g<3;++g){for(var A=0,_t=0;_t<3;++_t)A+=tt[g+4*_t]*Z[_t];tt[12+g]=-A}tt[15]=1},c.getMatrix=function(S,_){this.recalcMatrix(S);var T=this.computedMatrix;if(_){for(var P=0;P<16;++P)_[P]=T[P];return _}return T};var p=[0,0,0];c.rotate=function(S,_,T,P){if(this.angle.move(S,_,T),P){this.recalcMatrix(S);var u=this.computedMatrix;p[0]=u[2],p[1]=u[6],p[2]=u[10];for(var g=this.computedUp,L=this.computedRight,A=this.computedToward,R=0;R<3;++R)u[4*R]=g[R],u[4*R+1]=L[R],u[4*R+2]=A[R];n(u,u,P,p);for(var R=0;R<3;++R)g[R]=u[4*R],L[R]=u[4*R+1];this.up.set(S,g[0],g[1],g[2]),this.right.set(S,L[0],L[1],L[2])}},c.pan=function(S,_,T,P){_=_||0,T=T||0,P=P||0,this.recalcMatrix(S);var u=this.computedMatrix;Math.exp(this.computedRadius[0]);var g=u[1],L=u[5],A=u[9],R=b(g,L,A);g/=R,L/=R,A/=R;var O=u[0],N=u[4],z=u[8],F=O*g+N*L+z*A;O-=g*F,N-=L*F,z-=A*F;var I=b(O,N,z);O/=I,N/=I,z/=I;var j=O*_+g*T,V=N*_+L*T,W=z*_+A*T;this.center.move(S,j,V,W);var K=Math.exp(this.computedRadius[0]);K=Math.max(1e-4,K+P),this.radius.set(S,Math.log(K))},c.translate=function(S,_,T,P){this.center.move(S,_||0,T||0,P||0)},c.setMatrix=function(S,_,T,P){var u=1;typeof T=="number"&&(u=T|0),(u<0||u>3)&&(u=1);var g=(u+2)%3;_||(this.recalcMatrix(S),_=this.computedMatrix);var L=_[u],A=_[u+4],R=_[u+8];if(P){var O=Math.abs(L),N=Math.abs(A),z=Math.abs(R),F=Math.max(O,N,z);O===F?(L=L<0?-1:1,A=R=0):z===F?(R=R<0?-1:1,L=A=0):(A=A<0?-1:1,L=R=0)}else{var I=b(L,A,R);L/=I,A/=I,R/=I}var j=_[g],V=_[g+4],W=_[g+8],K=j*L+V*A+W*R;j-=L*K,V-=A*K,W-=R*K;var et=b(j,V,W);j/=et,V/=et,W/=et;var lt=A*W-R*V,ot=R*j-L*W,q=L*V-A*j,J=b(lt,ot,q);lt/=J,ot/=J,q/=J,this.center.jump(S,Ht,Dt,Xt),this.radius.idle(S),this.up.jump(S,L,A,R),this.right.jump(S,j,V,W);var it,Z;if(u===2){var tt=_[1],st=_[5],Q=_[9],G=tt*j+st*V+Q*W,ut=tt*lt+st*ot+Q*q;wt<0?it=-Math.PI/2:it=Math.PI/2,Z=Math.atan2(ut,G)}else{var at=_[2],dt=_[6],gt=_[10],wt=at*L+dt*A+gt*R,kt=at*j+dt*V+gt*W,Ot=at*lt+dt*ot+gt*q;it=Math.asin(f(wt)),Z=Math.atan2(Ot,kt)}this.angle.jump(S,Z,it),this.recalcMatrix(S);var bt=_[2],_t=_[6],mt=_[10],Pt=this.computedMatrix;s(Pt,_);var Rt=Pt[15],Ht=Pt[12]/Rt,Dt=Pt[13]/Rt,Xt=Pt[14]/Rt,se=Math.exp(this.computedRadius[0]);this.center.jump(S,Ht-bt*se,Dt-_t*se,Xt-mt*se)},c.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},c.idle=function(S){this.center.idle(S),this.up.idle(S),this.right.idle(S),this.radius.idle(S),this.angle.idle(S)},c.flush=function(S){this.center.flush(S),this.up.flush(S),this.right.flush(S),this.radius.flush(S),this.angle.flush(S)},c.setDistance=function(S,_){_>0&&this.radius.set(S,Math.log(_))},c.lookAt=function(S,_,T,P){this.recalcMatrix(S),_=_||this.computedEye,T=T||this.computedCenter,P=P||this.computedUp;var u=P[0],g=P[1],L=P[2],A=b(u,g,L);if(!(A<1e-6)){u/=A,g/=A,L/=A;var R=_[0]-T[0],O=_[1]-T[1],N=_[2]-T[2],z=b(R,O,N);if(!(z<1e-6)){R/=z,O/=z,N/=z;var F=this.computedRight,I=F[0],j=F[1],V=F[2],W=u*I+g*j+L*V;I-=W*u,j-=W*g,V-=W*L;var K=b(I,j,V);if(!(K<.01&&(I=g*N-L*O,j=L*R-u*N,V=u*O-g*R,K=b(I,j,V),K<1e-6))){I/=K,j/=K,V/=K,this.up.set(S,u,g,L),this.right.set(S,I,j,V),this.center.set(S,T[0],T[1],T[2]),this.radius.set(S,Math.log(z));var et=g*V-L*j,lt=L*I-u*V,ot=u*j-g*I,q=b(et,lt,ot);et/=q,lt/=q,ot/=q;var J=u*R+g*O+L*N,it=I*R+j*O+V*N,Z=et*R+lt*O+ot*N,tt=Math.asin(f(J)),st=Math.atan2(Z,it),Q=this.angle._state,G=Q[Q.length-1],ut=Q[Q.length-2];G=G%(2*Math.PI);var at=Math.abs(G+2*Math.PI-st),dt=Math.abs(G-st),gt=Math.abs(G-2*Math.PI-st);at<dt&&(G+=2*Math.PI),gt<dt&&(G-=2*Math.PI),this.angle.jump(this.angle.lastT(),G,ut),this.angle.set(S,st,tt)}}}};function w(S){S=S||{};var _=S.center||[0,0,0],T=S.up||[0,1,0],P=S.right||k(T),u=S.radius||1,g=S.theta||0,L=S.phi||0;if(_=[].slice.call(_,0,3),T=[].slice.call(T,0,3),o(T,T),P=[].slice.call(P,0,3),o(P,P),"eye"in S){var A=S.eye,R=[A[0]-_[0],A[1]-_[1],A[2]-_[2]];l(P,R,T),b(P[0],P[1],P[2])<1e-6?P=k(T):o(P,P),u=b(R[0],R[1],R[2]);var O=h(T,R)/u,N=h(P,R)/u;L=Math.acos(O),g=Math.acos(N)}return u=Math.log(u),new a(S.zoomMin,S.zoomMax,_,T,P,u,g,L)}},9660:function(d){d.exports=r;var v=+(Math.pow(2,27)+1);function r(e,s,n){var l=e*s,o=v*e,h=o-e,b=o-h,f=e-b,k=v*s,a=k-s,c=k-a,p=s-c,w=l-b*c,S=w-f*c,_=S-b*p,T=f*p-_;return n?(n[0]=T,n[1]=l,n):[T,l]}},87:function(d){d.exports=v;function v(r,e,s){var n=r+e,l=n-r,o=n-l,h=e-l,b=r-o;return s?(s[0]=b+h,s[1]=n,s):[b+h,n]}},5306:function(d,v,r){var e=r(2288),s=r(3094),n=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var l=typeof Uint8ClampedArray<"u",o=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",b=r.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=s([32,0])),b.BIGUINT64||(b.BIGUINT64=s([32,0])),b.BIGINT64||(b.BIGINT64=s([32,0])),b.BUFFER||(b.BUFFER=s([32,0]));var f=b.DATA,k=b.BUFFER;v.free=function(F){if(n.isBuffer(F))k[e.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var I=F.length||F.byteLength,j=e.log2(I)|0;f[j].push(F)}};function a(F){if(F){var I=F.length||F.byteLength,j=e.log2(I);f[j].push(F)}}function c(F){a(F.buffer)}v.freeUint8=v.freeUint16=v.freeUint32=v.freeBigUint64=v.freeInt8=v.freeInt16=v.freeInt32=v.freeBigInt64=v.freeFloat32=v.freeFloat=v.freeFloat64=v.freeDouble=v.freeUint8Clamped=v.freeDataView=c,v.freeArrayBuffer=a,v.freeBuffer=function(F){k[e.log2(F.length)].push(F)},v.malloc=function(F,I){if(I===void 0||I==="arraybuffer")return p(F);switch(I){case"uint8":return w(F);case"uint16":return S(F);case"uint32":return _(F);case"int8":return T(F);case"int16":return P(F);case"int32":return u(F);case"float":case"float32":return g(F);case"double":case"float64":return L(F);case"uint8_clamped":return A(F);case"bigint64":return O(F);case"biguint64":return R(F);case"buffer":return z(F);case"data":case"dataview":return N(F);default:return null}return null};function p(I){var I=e.nextPow2(I),j=e.log2(I),V=f[j];return V.length>0?V.pop():new ArrayBuffer(I)}v.mallocArrayBuffer=p;function w(F){return new Uint8Array(p(F),0,F)}v.mallocUint8=w;function S(F){return new Uint16Array(p(2*F),0,F)}v.mallocUint16=S;function _(F){return new Uint32Array(p(4*F),0,F)}v.mallocUint32=_;function T(F){return new Int8Array(p(F),0,F)}v.mallocInt8=T;function P(F){return new Int16Array(p(2*F),0,F)}v.mallocInt16=P;function u(F){return new Int32Array(p(4*F),0,F)}v.mallocInt32=u;function g(F){return new Float32Array(p(4*F),0,F)}v.mallocFloat32=v.mallocFloat=g;function L(F){return new Float64Array(p(8*F),0,F)}v.mallocFloat64=v.mallocDouble=L;function A(F){return l?new Uint8ClampedArray(p(F),0,F):w(F)}v.mallocUint8Clamped=A;function R(F){return o?new BigUint64Array(p(8*F),0,F):null}v.mallocBigUint64=R;function O(F){return h?new BigInt64Array(p(8*F),0,F):null}v.mallocBigInt64=O;function N(F){return new DataView(p(F),0,F)}v.mallocDataView=N;function z(F){F=e.nextPow2(F);var I=e.log2(F),j=k[I];return j.length>0?j.pop():new n(F)}v.mallocBuffer=z,v.clearCache=function(){for(var F=0;F<32;++F)b.UINT8[F].length=0,b.UINT16[F].length=0,b.UINT32[F].length=0,b.INT8[F].length=0,b.INT16[F].length=0,b.INT32[F].length=0,b.FLOAT[F].length=0,b.DOUBLE[F].length=0,b.BIGUINT64[F].length=0,b.BIGINT64[F].length=0,b.UINT8C[F].length=0,f[F].length=0,k[F].length=0}},1731:function(d){"use restrict";d.exports=v;function v(e){this.roots=new Array(e),this.ranks=new Array(e);for(var s=0;s<e;++s)this.roots[s]=s,this.ranks[s]=0}var r=v.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.find=function(e){for(var s=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[s]!==e;){var l=n[s];n[s]=e,s=l}return e},r.link=function(e,s){var n=this.find(e),l=this.find(s);if(n!==l){var o=this.ranks,h=this.roots,b=o[n],f=o[l];b<f?h[n]=l:f<b?h[l]=n:(h[l]=n,++o[n])}}},1215:function(d){function v(s,n){for(var l=1,o=s.length,h=s[0],b=s[0],f=1;f<o;++f)if(b=h,h=s[f],n(h,b)){if(f===l){l++;continue}s[l++]=h}return s.length=l,s}function r(s){for(var n=1,l=s.length,o=s[0],h=s[0],b=1;b<l;++b,h=o)if(h=o,o=s[b],o!==h){if(b===n){n++;continue}s[n++]=o}return s.length=n,s}function e(s,n,l){return s.length===0?s:n?(l||s.sort(n),v(s,n)):(l||s.sort(),r(s))}d.exports=e},875:function(d,v,r){d.exports=l;var e=r(712),s=null,n=null;typeof document<"u"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,n=s.getContext("2d"));function l(o,h){return(typeof h!="object"||h===null)&&(h={}),e(o,h.canvas||s,h.context||n,h)}},712:function(d,v,r){d.exports=O,d.exports.processPixels=R;var e=r(4162),s=r(5050),n=r(8243),l=r(197),o=r(7761),h=r(8040),b="b",f="b|",k="i",a="i|",c="sup",p="+",w="+1",S="sub",_="-",T="-1";function P(N,z,F,I){for(var j="<"+N+">",V="</"+N+">",W=j.length,K=V.length,et=z[0]===p||z[0]===_,lt=0,ot=-K;lt>-1&&(lt=F.indexOf(j,lt),!(lt===-1||(ot=F.indexOf(V,lt+W),ot===-1)||ot<=lt));){for(var q=lt;q<ot+K;++q)if(q<lt+W||q>=ot)I[q]=null,F=F.substr(0,q)+" "+F.substr(q+1);else if(I[q]!==null){var J=I[q].indexOf(z[0]);J===-1?I[q]+=z:et&&(I[q]=I[q].substr(0,J+1)+(1+parseInt(I[q][J+1]))+I[q].substr(J+2))}var it=lt+W,Z=F.substr(it,ot-it),tt=Z.indexOf(j);tt!==-1?lt=tt:lt=ot+K}return I}function u(N,z,F){for(var I=z.textAlign||"start",j=z.textBaseline||"alphabetic",V=[1073741824,1073741824],W=[0,0],K=N.length,et=0;et<K;++et)for(var lt=N[et],ot=0;ot<2;++ot)V[ot]=Math.min(V[ot],lt[ot])|0,W[ot]=Math.max(W[ot],lt[ot])|0;var q=0;switch(I){case"center":q=-.5*(V[0]+W[0]);break;case"right":case"end":q=-W[0];break;case"left":case"start":q=-V[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+I+"'")}var J=0;switch(j){case"hanging":case"top":J=-V[1];break;case"middle":J=-.5*(V[1]+W[1]);break;case"alphabetic":case"ideographic":J=-3*F;break;case"bottom":J=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+j+"'")}var it=1/F;return"lineHeight"in z?it*=+z.lineHeight:"width"in z?it=z.width/(W[0]-V[0]):"height"in z&&(it=z.height/(W[1]-V[1])),N.map(function(Z){return[it*(Z[0]+q),it*(Z[1]+J)]})}function g(N,z,F,I,j,V){F=F.replace(/\n/g,""),V.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var W="",K=[];for(G=0;G<F.length;++G)K[G]=W;V.bolds===!0&&(K=P(b,f,F,K)),V.italics===!0&&(K=P(k,a,F,K)),V.superscripts===!0&&(K=P(c,w,F,K)),V.subscripts===!0&&(K=P(S,T,F,K));var et=[],lt="";for(G=0;G<F.length;++G)K[G]!==null&&(lt+=F[G],et.push(K[G]));var ot=lt.split(`
`),q=ot.length,J=Math.round(j*I),it=I,Z=I*2,tt=0,st=q*J+Z;N.height<st&&(N.height=st),z.fillStyle="#000",z.fillRect(0,0,N.width,N.height),z.fillStyle="#fff";var Q,G,ut,at,dt,gt=0,wt="";function kt(){if(wt!==""){var Xt=z.measureText(wt).width;z.fillText(wt,it+ut,Z+at),ut+=Xt}}function Ot(){return""+Math.round(dt)+"px "}function bt(Xt,se){var Yt=""+z.font;if(V.subscripts===!0){var ue=Xt.indexOf(_),ie=se.indexOf(_),fe=ue>-1?parseInt(Xt[1+ue]):0,ce=ie>-1?parseInt(se[1+ie]):0;fe!==ce&&(Yt=Yt.replace(Ot(),"?px "),dt*=Math.pow(.75,ce-fe),Yt=Yt.replace("?px ",Ot())),at+=.25*J*(ce-fe)}if(V.superscripts===!0){var ye=Xt.indexOf(p),de=se.indexOf(p),Te=ye>-1?parseInt(Xt[1+ye]):0,Et=de>-1?parseInt(se[1+de]):0;Te!==Et&&(Yt=Yt.replace(Ot(),"?px "),dt*=Math.pow(.75,Et-Te),Yt=Yt.replace("?px ",Ot())),at-=.25*J*(Et-Te)}if(V.bolds===!0){var Vt=Xt.indexOf(f)>-1,te=se.indexOf(f)>-1;!Vt&&te&&(Jt?Yt=Yt.replace("italic ","italic bold "):Yt="bold "+Yt),Vt&&!te&&(Yt=Yt.replace("bold ",""))}if(V.italics===!0){var Jt=Xt.indexOf(a)>-1,Ut=se.indexOf(a)>-1;!Jt&&Ut&&(Yt="italic "+Yt),Jt&&!Ut&&(Yt=Yt.replace("italic ",""))}z.font=Yt}for(Q=0;Q<q;++Q){var _t=ot[Q]+`
`;for(ut=0,at=Q*J,dt=I,wt="",G=0;G<_t.length;++G){var mt=G+gt<et.length?et[G+gt]:et[et.length-1];W===mt?wt+=_t[G]:(kt(),wt=_t[G],mt!==void 0&&(bt(W,mt),W=mt))}kt(),gt+=_t.length;var Pt=Math.round(ut+2*it)|0;tt<Pt&&(tt=Pt)}var Rt=tt,Ht=Z+J*q,Dt=s(z.getImageData(0,0,Rt,Ht).data,[Ht,Rt,4]);return Dt.pick(-1,-1,0).transpose(1,0)}function L(N,z){var F=e(N,128);return z?n(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function A(N,z,F,I){var j=L(N,I),V=u(j.positions,z,F),W=j.edges,K=z.orientation==="ccw";if(l(V,W),z.polygons||z.polygon||z.polyline){for(var et=h(W,V),lt=new Array(et.length),ot=0;ot<et.length;++ot){for(var q=et[ot],J=new Array(q.length),it=0;it<q.length;++it){for(var Z=q[it],tt=new Array(Z.length),st=0;st<Z.length;++st)tt[st]=V[Z[st]].slice();K&&tt.reverse(),J[it]=tt}lt[ot]=J}return lt}else return z.triangles||z.triangulate||z.triangle?{cells:o(V,W,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:W,positions:V}}function R(N,z,F){try{return A(N,z,F,!0)}catch{}try{return A(N,z,F,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function O(N,z,F,I){var j=64,V=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};I&&(I.size&&I.size>0&&(j=I.size),I.lineSpacing&&I.lineSpacing>0&&(V=I.lineSpacing),I.styletags&&I.styletags.breaklines&&(W.breaklines=!!I.styletags.breaklines),I.styletags&&I.styletags.bolds&&(W.bolds=!!I.styletags.bolds),I.styletags&&I.styletags.italics&&(W.italics=!!I.styletags.italics),I.styletags&&I.styletags.subscripts&&(W.subscripts=!!I.styletags.subscripts),I.styletags&&I.styletags.superscripts&&(W.superscripts=!!I.styletags.superscripts)),F.font=[I.fontStyle,I.fontVariant,I.fontWeight,j+"px",I.font].filter(function(et){return et}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var K=g(z,F,N,j,V,W);return R(K,I,j)}},5346:function(d){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function v(g){g.permitHostObjects___&&g.permitHostObjects___(v)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=v);var r=!1;if(typeof WeakMap=="function"){var e=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var s=new e,n=Object.freeze({});if(s.set(n,1),s.get(n)!==1)r=!0;else{d.exports=WeakMap;return}}}var l=Object.getOwnPropertyNames,o=Object.defineProperty,h=Object.isExtensible,b="weakmap:",f=b+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var k=new ArrayBuffer(25),a=new Uint8Array(k);crypto.getRandomValues(a),f=b+"rand:"+Array.prototype.map.call(a,function(g){return(g%36).toString(36)}).join("")+"___"}function c(g){return!(g.substr(0,b.length)==b&&g.substr(g.length-3)==="___")}if(o(Object,"getOwnPropertyNames",{value:function(g){return l(g).filter(c)}}),"getPropertyNames"in Object){var p=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(g){return p(g).filter(c)}})}function w(g){if(g!==Object(g))throw new TypeError("Not an object: "+g);var L=g[f];if(L&&L.key===g)return L;if(h(g)){L={key:g};try{return o(g,f,{value:L,writable:!1,enumerable:!1,configurable:!1}),L}catch{return}}}(function(){var g=Object.freeze;o(Object,"freeze",{value:function(R){return w(R),g(R)}});var L=Object.seal;o(Object,"seal",{value:function(R){return w(R),L(R)}});var A=Object.preventExtensions;o(Object,"preventExtensions",{value:function(R){return w(R),A(R)}})})();function S(g){return g.prototype=null,Object.freeze(g)}var _=!1;function T(){!_&&typeof console<"u"&&(_=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var P=0,u=function(){this instanceof u||T();var g=[],L=[],A=P++;function R(F,I){var j,V=w(F);return V?A in V?V[A]:I:(j=g.indexOf(F),j>=0?L[j]:I)}function O(F){var I=w(F);return I?A in I:g.indexOf(F)>=0}function N(F,I){var j,V=w(F);return V?V[A]=I:(j=g.indexOf(F),j>=0?L[j]=I:(j=g.length,L[j]=I,g[j]=F)),this}function z(F){var I=w(F),j,V;return I?A in I&&delete I[A]:(j=g.indexOf(F),j<0?!1:(V=g.length-1,g[j]=void 0,L[j]=L[V],g[j]=g[V],g.length=V,L.length=V,!0))}return Object.create(u.prototype,{get___:{value:S(R)},has___:{value:S(O)},set___:{value:S(N)},delete___:{value:S(z)}})};u.prototype=Object.create(Object.prototype,{get:{value:function(g,L){return this.get___(g,L)},writable:!0,configurable:!0},has:{value:function(g){return this.has___(g)},writable:!0,configurable:!0},set:{value:function(g,L){return this.set___(g,L)},writable:!0,configurable:!0},delete:{value:function(g){return this.delete___(g)},writable:!0,configurable:!0}}),typeof e=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function g(){this instanceof u||T();var L=new e,A=void 0,R=!1;function O(I,j){return A?L.has(I)?L.get(I):A.get___(I,j):L.get(I,j)}function N(I){return L.has(I)||(A?A.has___(I):!1)}var z;r?z=function(I,j){return L.set(I,j),L.has(I)||(A||(A=new u),A.set(I,j)),this}:z=function(I,j){if(R)try{L.set(I,j)}catch{A||(A=new u),A.set___(I,j)}else L.set(I,j);return this};function F(I){var j=!!L.delete(I);return A&&A.delete___(I)||j}return Object.create(u.prototype,{get___:{value:S(O)},has___:{value:S(N)},set___:{value:S(z)},delete___:{value:S(F)},permitHostObjects___:{value:S(function(I){if(I===v)R=!0;else throw new Error("bogus call to permitHostObjects___")})}})}g.prototype=u.prototype,d.exports=g,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),d.exports=u)})()},9222:function(d,v,r){var e=r(7178);d.exports=s;function s(){var n={};return function(l){if((typeof l!="object"||l===null)&&typeof l!="function")throw new Error("Weakmap-shim: Key must be object");var o=l.valueOf(n);return o&&o.identity===n?o:e(l,n)}}},7178:function(d){d.exports=v;function v(r,e){var s={identity:e},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(l){return l!==e?n.apply(this,arguments):s},writable:!0}),s}},4037:function(d,v,r){var e=r(9222);d.exports=s;function s(){var n=e();return{get:function(l,o){var h=n(l);return h.hasOwnProperty("value")?h.value:o},set:function(l,o){return n(l).value=o,this},has:function(l){return"value"in n(l)},delete:function(l){return delete n(l).value}}}},6183:function(d){function v(){return function(o,h,b,f,k,a){var c=o[0],p=b[0],w=[0],S=p;f|=0;var _=0,T=p;for(_=0;_<c;++_){{var P=h[f]-a,u=h[f+S]-a;P>=0!=u>=0&&k.push(w[0]+.5+.5*(P+u)/(P-u))}f+=T,++w[0]}}}function r(){return v()}var e=r;function s(o){var h={};return function(b,f,k){var a=b.dtype,c=b.order,p=[a,c.join()].join(),w=h[p];return w||(h[p]=w=o([a,c])),w(b.shape.slice(0),b.data,b.stride,b.offset|0,f,k)}}function n(o){return s(e.bind(void 0,o))}function l(o){return n({funcName:o.funcName})}d.exports=l({funcName:"zeroCrossings"})},9584:function(d,v,r){d.exports=s;var e=r(6183);function s(n,l){var o=[];return l=+l||0,e(n.hi(n.shape[0]-1),o,l),o}},6601:function(){}},i={};function M(d){var v=i[d];if(v!==void 0)return v.exports;var r=i[d]={id:d,loaded:!1,exports:{}};return E[d].call(r.exports,r,r.exports,M),r.loaded=!0,r.exports}(function(){M.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){M.nmd=function(d){return d.paths=[],d.children||(d.children=[]),d}}();var m=M(7386);return m}()})},33576:function(X,B,t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function x(Et,Vt){if(!(Et instanceof Vt))throw new TypeError("Cannot call a class as a function")}function E(Et,Vt){for(var te=0;te<Vt.length;te++){var Jt=Vt[te];Jt.enumerable=Jt.enumerable||!1,Jt.configurable=!0,"value"in Jt&&(Jt.writable=!0),Object.defineProperty(Et,M(Jt.key),Jt)}}function i(Et,Vt,te){return Vt&&E(Et.prototype,Vt),te&&E(Et,te),Object.defineProperty(Et,"prototype",{writable:!1}),Et}function M(Et){var Vt=m(Et,"string");return l(Vt)==="symbol"?Vt:String(Vt)}function m(Et,Vt){if(l(Et)!=="object"||Et===null)return Et;var te=Et[Symbol.toPrimitive];if(te!==void 0){var Jt=te.call(Et,Vt||"default");if(l(Jt)!=="object")return Jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Vt==="string"?String:Number)(Et)}function d(Et,Vt,te){function Jt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Vt=r(Vt),v(Et,Jt()?Reflect.construct(Vt,te||[],r(Et).constructor):Vt.apply(Et,te))}function v(Et,Vt){if(Vt&&(l(Vt)==="object"||typeof Vt=="function"))return Vt;if(Vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(Et)}function r(Et){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)},r(Et)}function e(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}function s(Et,Vt){if(typeof Vt!="function"&&Vt!==null)throw new TypeError("Super expression must either be null or a function");Et.prototype=Object.create(Vt&&Vt.prototype,{constructor:{value:Et,writable:!0,configurable:!0}}),Object.defineProperty(Et,"prototype",{writable:!1}),Vt&&n(Et,Vt)}function n(Et,Vt){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,Jt){return te.__proto__=Jt,te},n(Et,Vt)}function l(Et){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Vt){return typeof Vt}:function(Vt){return Vt&&typeof Symbol=="function"&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt},l(Et)}var o=t(59968),h=t(35984),b=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=c,B.SlowBuffer=R,B.INSPECT_MAX_BYTES=50;var f=2147483647;B.kMaxLength=f,c.TYPED_ARRAY_SUPPORT=k(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function k(){try{var Et=new Uint8Array(1),Vt={foo:function(){return 42}};return Object.setPrototypeOf(Vt,Uint8Array.prototype),Object.setPrototypeOf(Et,Vt),Et.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a(Et){if(Et>f)throw new RangeError('The value "'+Et+'" is invalid for option "size"');var Vt=new Uint8Array(Et);return Object.setPrototypeOf(Vt,c.prototype),Vt}function c(Et,Vt,te){if(typeof Et=="number"){if(typeof Vt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(Et)}return p(Et,Vt,te)}c.poolSize=8192;function p(Et,Vt,te){if(typeof Et=="string")return T(Et,Vt);if(ArrayBuffer.isView(Et))return u(Et);if(Et==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(Et));if(fe(Et,ArrayBuffer)||Et&&fe(Et.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(Et,SharedArrayBuffer)||Et&&fe(Et.buffer,SharedArrayBuffer)))return g(Et,Vt,te);if(typeof Et=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Jt=Et.valueOf&&Et.valueOf();if(Jt!=null&&Jt!==Et)return c.from(Jt,Vt,te);var Ut=L(Et);if(Ut)return Ut;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Et[Symbol.toPrimitive]=="function")return c.from(Et[Symbol.toPrimitive]("string"),Vt,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(Et))}c.from=function(Et,Vt,te){return p(Et,Vt,te)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function w(Et){if(typeof Et!="number")throw new TypeError('"size" argument must be of type number');if(Et<0)throw new RangeError('The value "'+Et+'" is invalid for option "size"')}function S(Et,Vt,te){return w(Et),Et<=0?a(Et):Vt!==void 0?typeof te=="string"?a(Et).fill(Vt,te):a(Et).fill(Vt):a(Et)}c.alloc=function(Et,Vt,te){return S(Et,Vt,te)};function _(Et){return w(Et),a(Et<0?0:A(Et)|0)}c.allocUnsafe=function(Et){return _(Et)},c.allocUnsafeSlow=function(Et){return _(Et)};function T(Et,Vt){if((typeof Vt!="string"||Vt==="")&&(Vt="utf8"),!c.isEncoding(Vt))throw new TypeError("Unknown encoding: "+Vt);var te=O(Et,Vt)|0,Jt=a(te),Ut=Jt.write(Et,Vt);return Ut!==te&&(Jt=Jt.slice(0,Ut)),Jt}function P(Et){for(var Vt=Et.length<0?0:A(Et.length)|0,te=a(Vt),Jt=0;Jt<Vt;Jt+=1)te[Jt]=Et[Jt]&255;return te}function u(Et){if(fe(Et,Uint8Array)){var Vt=new Uint8Array(Et);return g(Vt.buffer,Vt.byteOffset,Vt.byteLength)}return P(Et)}function g(Et,Vt,te){if(Vt<0||Et.byteLength<Vt)throw new RangeError('"offset" is outside of buffer bounds');if(Et.byteLength<Vt+(te||0))throw new RangeError('"length" is outside of buffer bounds');var Jt;return Vt===void 0&&te===void 0?Jt=new Uint8Array(Et):te===void 0?Jt=new Uint8Array(Et,Vt):Jt=new Uint8Array(Et,Vt,te),Object.setPrototypeOf(Jt,c.prototype),Jt}function L(Et){if(c.isBuffer(Et)){var Vt=A(Et.length)|0,te=a(Vt);return te.length===0||Et.copy(te,0,0,Vt),te}if(Et.length!==void 0)return typeof Et.length!="number"||ce(Et.length)?a(0):P(Et);if(Et.type==="Buffer"&&Array.isArray(Et.data))return P(Et.data)}function A(Et){if(Et>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return Et|0}function R(Et){return+Et!=Et&&(Et=0),c.alloc(+Et)}c.isBuffer=function(Et){return Et!=null&&Et._isBuffer===!0&&Et!==c.prototype},c.compare=function(Et,Vt){if(fe(Et,Uint8Array)&&(Et=c.from(Et,Et.offset,Et.byteLength)),fe(Vt,Uint8Array)&&(Vt=c.from(Vt,Vt.offset,Vt.byteLength)),!c.isBuffer(Et)||!c.isBuffer(Vt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Et===Vt)return 0;for(var te=Et.length,Jt=Vt.length,Ut=0,It=Math.min(te,Jt);Ut<It;++Ut)if(Et[Ut]!==Vt[Ut]){te=Et[Ut],Jt=Vt[Ut];break}return te<Jt?-1:Jt<te?1:0},c.isEncoding=function(Et){switch(String(Et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(Et,Vt){if(!Array.isArray(Et))throw new TypeError('"list" argument must be an Array of Buffers');if(Et.length===0)return c.alloc(0);var te;if(Vt===void 0)for(Vt=0,te=0;te<Et.length;++te)Vt+=Et[te].length;var Jt=c.allocUnsafe(Vt),Ut=0;for(te=0;te<Et.length;++te){var It=Et[te];if(fe(It,Uint8Array))Ut+It.length>Jt.length?(c.isBuffer(It)||(It=c.from(It)),It.copy(Jt,Ut)):Uint8Array.prototype.set.call(Jt,It,Ut);else if(c.isBuffer(It))It.copy(Jt,Ut);else throw new TypeError('"list" argument must be an Array of Buffers');Ut+=It.length}return Jt};function O(Et,Vt){if(c.isBuffer(Et))return Et.length;if(ArrayBuffer.isView(Et)||fe(Et,ArrayBuffer))return Et.byteLength;if(typeof Et!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(Et));var te=Et.length,Jt=arguments.length>2&&arguments[2]===!0;if(!Jt&&te===0)return 0;for(var Ut=!1;;)switch(Vt){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return Xt(Et).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return ue(Et).length;default:if(Ut)return Jt?-1:Xt(Et).length;Vt=(""+Vt).toLowerCase(),Ut=!0}}c.byteLength=O;function N(Et,Vt,te){var Jt=!1;if((Vt===void 0||Vt<0)&&(Vt=0),Vt>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,Vt>>>=0,te<=Vt))return"";for(Et||(Et="utf8");;)switch(Et){case"hex":return tt(this,Vt,te);case"utf8":case"utf-8":return ot(this,Vt,te);case"ascii":return it(this,Vt,te);case"latin1":case"binary":return Z(this,Vt,te);case"base64":return lt(this,Vt,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,Vt,te);default:if(Jt)throw new TypeError("Unknown encoding: "+Et);Et=(Et+"").toLowerCase(),Jt=!0}}c.prototype._isBuffer=!0;function z(Et,Vt,te){var Jt=Et[Vt];Et[Vt]=Et[te],Et[te]=Jt}c.prototype.swap16=function(){var Et=this.length;if(Et%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Vt=0;Vt<Et;Vt+=2)z(this,Vt,Vt+1);return this},c.prototype.swap32=function(){var Et=this.length;if(Et%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Vt=0;Vt<Et;Vt+=4)z(this,Vt,Vt+3),z(this,Vt+1,Vt+2);return this},c.prototype.swap64=function(){var Et=this.length;if(Et%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Vt=0;Vt<Et;Vt+=8)z(this,Vt,Vt+7),z(this,Vt+1,Vt+6),z(this,Vt+2,Vt+5),z(this,Vt+3,Vt+4);return this},c.prototype.toString=function(){var Et=this.length;return Et===0?"":arguments.length===0?ot(this,0,Et):N.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(Et){if(!c.isBuffer(Et))throw new TypeError("Argument must be a Buffer");return this===Et?!0:c.compare(this,Et)===0},c.prototype.inspect=function(){var Et="",Vt=B.INSPECT_MAX_BYTES;return Et=this.toString("hex",0,Vt).replace(/(.{2})/g,"$1 ").trim(),this.length>Vt&&(Et+=" ... "),"<Buffer "+Et+">"},b&&(c.prototype[b]=c.prototype.inspect),c.prototype.compare=function(Et,Vt,te,Jt,Ut){if(fe(Et,Uint8Array)&&(Et=c.from(Et,Et.offset,Et.byteLength)),!c.isBuffer(Et))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(Et));if(Vt===void 0&&(Vt=0),te===void 0&&(te=Et?Et.length:0),Jt===void 0&&(Jt=0),Ut===void 0&&(Ut=this.length),Vt<0||te>Et.length||Jt<0||Ut>this.length)throw new RangeError("out of range index");if(Jt>=Ut&&Vt>=te)return 0;if(Jt>=Ut)return-1;if(Vt>=te)return 1;if(Vt>>>=0,te>>>=0,Jt>>>=0,Ut>>>=0,this===Et)return 0;for(var It=Ut-Jt,pt=te-Vt,xt=Math.min(It,pt),Ct=this.slice(Jt,Ut),At=Et.slice(Vt,te),Ft=0;Ft<xt;++Ft)if(Ct[Ft]!==At[Ft]){It=Ct[Ft],pt=At[Ft];break}return It<pt?-1:pt<It?1:0};function F(Et,Vt,te,Jt,Ut){if(Et.length===0)return-1;if(typeof te=="string"?(Jt=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,ce(te)&&(te=Ut?0:Et.length-1),te<0&&(te=Et.length+te),te>=Et.length){if(Ut)return-1;te=Et.length-1}else if(te<0)if(Ut)te=0;else return-1;if(typeof Vt=="string"&&(Vt=c.from(Vt,Jt)),c.isBuffer(Vt))return Vt.length===0?-1:I(Et,Vt,te,Jt,Ut);if(typeof Vt=="number")return Vt=Vt&255,typeof Uint8Array.prototype.indexOf=="function"?Ut?Uint8Array.prototype.indexOf.call(Et,Vt,te):Uint8Array.prototype.lastIndexOf.call(Et,Vt,te):I(Et,[Vt],te,Jt,Ut);throw new TypeError("val must be string, number or Buffer")}function I(Et,Vt,te,Jt,Ut){var It=1,pt=Et.length,xt=Vt.length;if(Jt!==void 0&&(Jt=String(Jt).toLowerCase(),Jt==="ucs2"||Jt==="ucs-2"||Jt==="utf16le"||Jt==="utf-16le")){if(Et.length<2||Vt.length<2)return-1;It=2,pt/=2,xt/=2,te/=2}function Ct(he,ve){return It===1?he[ve]:he.readUInt16BE(ve*It)}var At;if(Ut){var Ft=-1;for(At=te;At<pt;At++)if(Ct(Et,At)===Ct(Vt,Ft===-1?0:At-Ft)){if(Ft===-1&&(Ft=At),At-Ft+1===xt)return Ft*It}else Ft!==-1&&(At-=At-Ft),Ft=-1}else for(te+xt>pt&&(te=pt-xt),At=te;At>=0;At--){for(var Wt=!0,Qt=0;Qt<xt;Qt++)if(Ct(Et,At+Qt)!==Ct(Vt,Qt)){Wt=!1;break}if(Wt)return At}return-1}c.prototype.includes=function(Et,Vt,te){return this.indexOf(Et,Vt,te)!==-1},c.prototype.indexOf=function(Et,Vt,te){return F(this,Et,Vt,te,!0)},c.prototype.lastIndexOf=function(Et,Vt,te){return F(this,Et,Vt,te,!1)};function j(Et,Vt,te,Jt){te=Number(te)||0;var Ut=Et.length-te;Jt?(Jt=Number(Jt),Jt>Ut&&(Jt=Ut)):Jt=Ut;var It=Vt.length;Jt>It/2&&(Jt=It/2);var pt;for(pt=0;pt<Jt;++pt){var xt=parseInt(Vt.substr(pt*2,2),16);if(ce(xt))return pt;Et[te+pt]=xt}return pt}function V(Et,Vt,te,Jt){return ie(Xt(Vt,Et.length-te),Et,te,Jt)}function W(Et,Vt,te,Jt){return ie(se(Vt),Et,te,Jt)}function K(Et,Vt,te,Jt){return ie(ue(Vt),Et,te,Jt)}function et(Et,Vt,te,Jt){return ie(Yt(Vt,Et.length-te),Et,te,Jt)}c.prototype.write=function(Et,Vt,te,Jt){if(Vt===void 0)Jt="utf8",te=this.length,Vt=0;else if(te===void 0&&typeof Vt=="string")Jt=Vt,te=this.length,Vt=0;else if(isFinite(Vt))Vt=Vt>>>0,isFinite(te)?(te=te>>>0,Jt===void 0&&(Jt="utf8")):(Jt=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ut=this.length-Vt;if((te===void 0||te>Ut)&&(te=Ut),Et.length>0&&(te<0||Vt<0)||Vt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Jt||(Jt="utf8");for(var It=!1;;)switch(Jt){case"hex":return j(this,Et,Vt,te);case"utf8":case"utf-8":return V(this,Et,Vt,te);case"ascii":case"latin1":case"binary":return W(this,Et,Vt,te);case"base64":return K(this,Et,Vt,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,Et,Vt,te);default:if(It)throw new TypeError("Unknown encoding: "+Jt);Jt=(""+Jt).toLowerCase(),It=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function lt(Et,Vt,te){return Vt===0&&te===Et.length?o.fromByteArray(Et):o.fromByteArray(Et.slice(Vt,te))}function ot(Et,Vt,te){te=Math.min(Et.length,te);for(var Jt=[],Ut=Vt;Ut<te;){var It=Et[Ut],pt=null,xt=It>239?4:It>223?3:It>191?2:1;if(Ut+xt<=te){var Ct=void 0,At=void 0,Ft=void 0,Wt=void 0;switch(xt){case 1:It<128&&(pt=It);break;case 2:Ct=Et[Ut+1],(Ct&192)===128&&(Wt=(It&31)<<6|Ct&63,Wt>127&&(pt=Wt));break;case 3:Ct=Et[Ut+1],At=Et[Ut+2],(Ct&192)===128&&(At&192)===128&&(Wt=(It&15)<<12|(Ct&63)<<6|At&63,Wt>2047&&(Wt<55296||Wt>57343)&&(pt=Wt));break;case 4:Ct=Et[Ut+1],At=Et[Ut+2],Ft=Et[Ut+3],(Ct&192)===128&&(At&192)===128&&(Ft&192)===128&&(Wt=(It&15)<<18|(Ct&63)<<12|(At&63)<<6|Ft&63,Wt>65535&&Wt<1114112&&(pt=Wt))}}pt===null?(pt=65533,xt=1):pt>65535&&(pt-=65536,Jt.push(pt>>>10&1023|55296),pt=56320|pt&1023),Jt.push(pt),Ut+=xt}return J(Jt)}var q=4096;function J(Et){var Vt=Et.length;if(Vt<=q)return String.fromCharCode.apply(String,Et);for(var te="",Jt=0;Jt<Vt;)te+=String.fromCharCode.apply(String,Et.slice(Jt,Jt+=q));return te}function it(Et,Vt,te){var Jt="";te=Math.min(Et.length,te);for(var Ut=Vt;Ut<te;++Ut)Jt+=String.fromCharCode(Et[Ut]&127);return Jt}function Z(Et,Vt,te){var Jt="";te=Math.min(Et.length,te);for(var Ut=Vt;Ut<te;++Ut)Jt+=String.fromCharCode(Et[Ut]);return Jt}function tt(Et,Vt,te){var Jt=Et.length;(!Vt||Vt<0)&&(Vt=0),(!te||te<0||te>Jt)&&(te=Jt);for(var Ut="",It=Vt;It<te;++It)Ut+=ye[Et[It]];return Ut}function st(Et,Vt,te){for(var Jt=Et.slice(Vt,te),Ut="",It=0;It<Jt.length-1;It+=2)Ut+=String.fromCharCode(Jt[It]+Jt[It+1]*256);return Ut}c.prototype.slice=function(Et,Vt){var te=this.length;Et=~~Et,Vt=Vt===void 0?te:~~Vt,Et<0?(Et+=te,Et<0&&(Et=0)):Et>te&&(Et=te),Vt<0?(Vt+=te,Vt<0&&(Vt=0)):Vt>te&&(Vt=te),Vt<Et&&(Vt=Et);var Jt=this.subarray(Et,Vt);return Object.setPrototypeOf(Jt,c.prototype),Jt};function Q(Et,Vt,te){if(Et%1!==0||Et<0)throw new RangeError("offset is not uint");if(Et+Vt>te)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(Et,Vt,te){Et=Et>>>0,Vt=Vt>>>0,te||Q(Et,Vt,this.length);for(var Jt=this[Et],Ut=1,It=0;++It<Vt&&(Ut*=256);)Jt+=this[Et+It]*Ut;return Jt},c.prototype.readUintBE=c.prototype.readUIntBE=function(Et,Vt,te){Et=Et>>>0,Vt=Vt>>>0,te||Q(Et,Vt,this.length);for(var Jt=this[Et+--Vt],Ut=1;Vt>0&&(Ut*=256);)Jt+=this[Et+--Vt]*Ut;return Jt},c.prototype.readUint8=c.prototype.readUInt8=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,1,this.length),this[Et]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,2,this.length),this[Et]|this[Et+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,2,this.length),this[Et]<<8|this[Et+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,4,this.length),(this[Et]|this[Et+1]<<8|this[Et+2]<<16)+this[Et+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,4,this.length),this[Et]*16777216+(this[Et+1]<<16|this[Et+2]<<8|this[Et+3])},c.prototype.readBigUInt64LE=de(function(Et){Et=Et>>>0,Pt(Et,"offset");var Vt=this[Et],te=this[Et+7];(Vt===void 0||te===void 0)&&Rt(Et,this.length-8);var Jt=Vt+this[++Et]*Math.pow(2,8)+this[++Et]*Math.pow(2,16)+this[++Et]*Math.pow(2,24),Ut=this[++Et]+this[++Et]*Math.pow(2,8)+this[++Et]*Math.pow(2,16)+te*Math.pow(2,24);return BigInt(Jt)+(BigInt(Ut)<<BigInt(32))}),c.prototype.readBigUInt64BE=de(function(Et){Et=Et>>>0,Pt(Et,"offset");var Vt=this[Et],te=this[Et+7];(Vt===void 0||te===void 0)&&Rt(Et,this.length-8);var Jt=Vt*Math.pow(2,24)+this[++Et]*Math.pow(2,16)+this[++Et]*Math.pow(2,8)+this[++Et],Ut=this[++Et]*Math.pow(2,24)+this[++Et]*Math.pow(2,16)+this[++Et]*Math.pow(2,8)+te;return(BigInt(Jt)<<BigInt(32))+BigInt(Ut)}),c.prototype.readIntLE=function(Et,Vt,te){Et=Et>>>0,Vt=Vt>>>0,te||Q(Et,Vt,this.length);for(var Jt=this[Et],Ut=1,It=0;++It<Vt&&(Ut*=256);)Jt+=this[Et+It]*Ut;return Ut*=128,Jt>=Ut&&(Jt-=Math.pow(2,8*Vt)),Jt},c.prototype.readIntBE=function(Et,Vt,te){Et=Et>>>0,Vt=Vt>>>0,te||Q(Et,Vt,this.length);for(var Jt=Vt,Ut=1,It=this[Et+--Jt];Jt>0&&(Ut*=256);)It+=this[Et+--Jt]*Ut;return Ut*=128,It>=Ut&&(It-=Math.pow(2,8*Vt)),It},c.prototype.readInt8=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,1,this.length),this[Et]&128?(255-this[Et]+1)*-1:this[Et]},c.prototype.readInt16LE=function(Et,Vt){Et=Et>>>0,Vt||Q(Et,2,this.length);var te=this[Et]|this[Et+1]<<8;return te&32768?te|4294901760:te},c.prototype.readInt16BE=function(Et,Vt){Et=Et>>>0,Vt||Q(Et,2,this.length);var te=this[Et+1]|this[Et]<<8;return te&32768?te|4294901760:te},c.prototype.readInt32LE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,4,this.length),this[Et]|this[Et+1]<<8|this[Et+2]<<16|this[Et+3]<<24},c.prototype.readInt32BE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,4,this.length),this[Et]<<24|this[Et+1]<<16|this[Et+2]<<8|this[Et+3]},c.prototype.readBigInt64LE=de(function(Et){Et=Et>>>0,Pt(Et,"offset");var Vt=this[Et],te=this[Et+7];(Vt===void 0||te===void 0)&&Rt(Et,this.length-8);var Jt=this[Et+4]+this[Et+5]*Math.pow(2,8)+this[Et+6]*Math.pow(2,16)+(te<<24);return(BigInt(Jt)<<BigInt(32))+BigInt(Vt+this[++Et]*Math.pow(2,8)+this[++Et]*Math.pow(2,16)+this[++Et]*Math.pow(2,24))}),c.prototype.readBigInt64BE=de(function(Et){Et=Et>>>0,Pt(Et,"offset");var Vt=this[Et],te=this[Et+7];(Vt===void 0||te===void 0)&&Rt(Et,this.length-8);var Jt=(Vt<<24)+this[++Et]*Math.pow(2,16)+this[++Et]*Math.pow(2,8)+this[++Et];return(BigInt(Jt)<<BigInt(32))+BigInt(this[++Et]*Math.pow(2,24)+this[++Et]*Math.pow(2,16)+this[++Et]*Math.pow(2,8)+te)}),c.prototype.readFloatLE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,4,this.length),h.read(this,Et,!0,23,4)},c.prototype.readFloatBE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,4,this.length),h.read(this,Et,!1,23,4)},c.prototype.readDoubleLE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,8,this.length),h.read(this,Et,!0,52,8)},c.prototype.readDoubleBE=function(Et,Vt){return Et=Et>>>0,Vt||Q(Et,8,this.length),h.read(this,Et,!1,52,8)};function G(Et,Vt,te,Jt,Ut,It){if(!c.isBuffer(Et))throw new TypeError('"buffer" argument must be a Buffer instance');if(Vt>Ut||Vt<It)throw new RangeError('"value" argument is out of bounds');if(te+Jt>Et.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(Et,Vt,te,Jt){if(Et=+Et,Vt=Vt>>>0,te=te>>>0,!Jt){var Ut=Math.pow(2,8*te)-1;G(this,Et,Vt,te,Ut,0)}var It=1,pt=0;for(this[Vt]=Et&255;++pt<te&&(It*=256);)this[Vt+pt]=Et/It&255;return Vt+te},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(Et,Vt,te,Jt){if(Et=+Et,Vt=Vt>>>0,te=te>>>0,!Jt){var Ut=Math.pow(2,8*te)-1;G(this,Et,Vt,te,Ut,0)}var It=te-1,pt=1;for(this[Vt+It]=Et&255;--It>=0&&(pt*=256);)this[Vt+It]=Et/pt&255;return Vt+te},c.prototype.writeUint8=c.prototype.writeUInt8=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,1,255,0),this[Vt]=Et&255,Vt+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,2,65535,0),this[Vt]=Et&255,this[Vt+1]=Et>>>8,Vt+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,2,65535,0),this[Vt]=Et>>>8,this[Vt+1]=Et&255,Vt+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,4,4294967295,0),this[Vt+3]=Et>>>24,this[Vt+2]=Et>>>16,this[Vt+1]=Et>>>8,this[Vt]=Et&255,Vt+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,4,4294967295,0),this[Vt]=Et>>>24,this[Vt+1]=Et>>>16,this[Vt+2]=Et>>>8,this[Vt+3]=Et&255,Vt+4};function ut(Et,Vt,te,Jt,Ut){mt(Vt,Jt,Ut,Et,te,7);var It=Number(Vt&BigInt(4294967295));Et[te++]=It,It=It>>8,Et[te++]=It,It=It>>8,Et[te++]=It,It=It>>8,Et[te++]=It;var pt=Number(Vt>>BigInt(32)&BigInt(4294967295));return Et[te++]=pt,pt=pt>>8,Et[te++]=pt,pt=pt>>8,Et[te++]=pt,pt=pt>>8,Et[te++]=pt,te}function at(Et,Vt,te,Jt,Ut){mt(Vt,Jt,Ut,Et,te,7);var It=Number(Vt&BigInt(4294967295));Et[te+7]=It,It=It>>8,Et[te+6]=It,It=It>>8,Et[te+5]=It,It=It>>8,Et[te+4]=It;var pt=Number(Vt>>BigInt(32)&BigInt(4294967295));return Et[te+3]=pt,pt=pt>>8,Et[te+2]=pt,pt=pt>>8,Et[te+1]=pt,pt=pt>>8,Et[te]=pt,te+8}c.prototype.writeBigUInt64LE=de(function(Et){var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ut(this,Et,Vt,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=de(function(Et){var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return at(this,Et,Vt,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(Et,Vt,te,Jt){if(Et=+Et,Vt=Vt>>>0,!Jt){var Ut=Math.pow(2,8*te-1);G(this,Et,Vt,te,Ut-1,-Ut)}var It=0,pt=1,xt=0;for(this[Vt]=Et&255;++It<te&&(pt*=256);)Et<0&&xt===0&&this[Vt+It-1]!==0&&(xt=1),this[Vt+It]=(Et/pt>>0)-xt&255;return Vt+te},c.prototype.writeIntBE=function(Et,Vt,te,Jt){if(Et=+Et,Vt=Vt>>>0,!Jt){var Ut=Math.pow(2,8*te-1);G(this,Et,Vt,te,Ut-1,-Ut)}var It=te-1,pt=1,xt=0;for(this[Vt+It]=Et&255;--It>=0&&(pt*=256);)Et<0&&xt===0&&this[Vt+It+1]!==0&&(xt=1),this[Vt+It]=(Et/pt>>0)-xt&255;return Vt+te},c.prototype.writeInt8=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,1,127,-128),Et<0&&(Et=255+Et+1),this[Vt]=Et&255,Vt+1},c.prototype.writeInt16LE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,2,32767,-32768),this[Vt]=Et&255,this[Vt+1]=Et>>>8,Vt+2},c.prototype.writeInt16BE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,2,32767,-32768),this[Vt]=Et>>>8,this[Vt+1]=Et&255,Vt+2},c.prototype.writeInt32LE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,4,2147483647,-2147483648),this[Vt]=Et&255,this[Vt+1]=Et>>>8,this[Vt+2]=Et>>>16,this[Vt+3]=Et>>>24,Vt+4},c.prototype.writeInt32BE=function(Et,Vt,te){return Et=+Et,Vt=Vt>>>0,te||G(this,Et,Vt,4,2147483647,-2147483648),Et<0&&(Et=4294967295+Et+1),this[Vt]=Et>>>24,this[Vt+1]=Et>>>16,this[Vt+2]=Et>>>8,this[Vt+3]=Et&255,Vt+4},c.prototype.writeBigInt64LE=de(function(Et){var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ut(this,Et,Vt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=de(function(Et){var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return at(this,Et,Vt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dt(Et,Vt,te,Jt,Ut,It){if(te+Jt>Et.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function gt(Et,Vt,te,Jt,Ut){return Vt=+Vt,te=te>>>0,Ut||dt(Et,Vt,te,4),h.write(Et,Vt,te,Jt,23,4),te+4}c.prototype.writeFloatLE=function(Et,Vt,te){return gt(this,Et,Vt,!0,te)},c.prototype.writeFloatBE=function(Et,Vt,te){return gt(this,Et,Vt,!1,te)};function wt(Et,Vt,te,Jt,Ut){return Vt=+Vt,te=te>>>0,Ut||dt(Et,Vt,te,8),h.write(Et,Vt,te,Jt,52,8),te+8}c.prototype.writeDoubleLE=function(Et,Vt,te){return wt(this,Et,Vt,!0,te)},c.prototype.writeDoubleBE=function(Et,Vt,te){return wt(this,Et,Vt,!1,te)},c.prototype.copy=function(Et,Vt,te,Jt){if(!c.isBuffer(Et))throw new TypeError("argument should be a Buffer");if(te||(te=0),!Jt&&Jt!==0&&(Jt=this.length),Vt>=Et.length&&(Vt=Et.length),Vt||(Vt=0),Jt>0&&Jt<te&&(Jt=te),Jt===te||Et.length===0||this.length===0)return 0;if(Vt<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(Jt<0)throw new RangeError("sourceEnd out of bounds");Jt>this.length&&(Jt=this.length),Et.length-Vt<Jt-te&&(Jt=Et.length-Vt+te);var Ut=Jt-te;return this===Et&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Vt,te,Jt):Uint8Array.prototype.set.call(Et,this.subarray(te,Jt),Vt),Ut},c.prototype.fill=function(Et,Vt,te,Jt){if(typeof Et=="string"){if(typeof Vt=="string"?(Jt=Vt,Vt=0,te=this.length):typeof te=="string"&&(Jt=te,te=this.length),Jt!==void 0&&typeof Jt!="string")throw new TypeError("encoding must be a string");if(typeof Jt=="string"&&!c.isEncoding(Jt))throw new TypeError("Unknown encoding: "+Jt);if(Et.length===1){var Ut=Et.charCodeAt(0);(Jt==="utf8"&&Ut<128||Jt==="latin1")&&(Et=Ut)}}else typeof Et=="number"?Et=Et&255:typeof Et=="boolean"&&(Et=Number(Et));if(Vt<0||this.length<Vt||this.length<te)throw new RangeError("Out of range index");if(te<=Vt)return this;Vt=Vt>>>0,te=te===void 0?this.length:te>>>0,Et||(Et=0);var It;if(typeof Et=="number")for(It=Vt;It<te;++It)this[It]=Et;else{var pt=c.isBuffer(Et)?Et:c.from(Et,Jt),xt=pt.length;if(xt===0)throw new TypeError('The value "'+Et+'" is invalid for argument "value"');for(It=0;It<te-Vt;++It)this[It+Vt]=pt[It%xt]}return this};var kt={};function Ot(Et,Vt,te){kt[Et]=function(Jt){s(Ut,Jt);function Ut(){var It;return x(this,Ut),It=d(this,Ut),Object.defineProperty(e(It),"message",{value:Vt.apply(e(It),arguments),writable:!0,configurable:!0}),It.name="".concat(It.name," [").concat(Et,"]"),It.stack,delete It.name,It}return i(Ut,[{key:"code",get:function(){return Et},set:function(It){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:It,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Et,"]: ").concat(this.message)}}]),Ut}(te)}Ot("ERR_BUFFER_OUT_OF_BOUNDS",function(Et){return Et?"".concat(Et," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ot("ERR_INVALID_ARG_TYPE",function(Et,Vt){return'The "'.concat(Et,'" argument must be of type number. Received type ').concat(l(Vt))},TypeError),Ot("ERR_OUT_OF_RANGE",function(Et,Vt,te){var Jt='The value of "'.concat(Et,'" is out of range.'),Ut=te;return Number.isInteger(te)&&Math.abs(te)>Math.pow(2,32)?Ut=bt(String(te)):typeof te=="bigint"&&(Ut=String(te),(te>Math.pow(BigInt(2),BigInt(32))||te<-Math.pow(BigInt(2),BigInt(32)))&&(Ut=bt(Ut)),Ut+="n"),Jt+=" It must be ".concat(Vt,". Received ").concat(Ut),Jt},RangeError);function bt(Et){for(var Vt="",te=Et.length,Jt=Et[0]==="-"?1:0;te>=Jt+4;te-=3)Vt="_".concat(Et.slice(te-3,te)).concat(Vt);return"".concat(Et.slice(0,te)).concat(Vt)}function _t(Et,Vt,te){Pt(Vt,"offset"),(Et[Vt]===void 0||Et[Vt+te]===void 0)&&Rt(Vt,Et.length-(te+1))}function mt(Et,Vt,te,Jt,Ut,It){if(Et>te||Et<Vt){var pt=typeof Vt=="bigint"?"n":"",xt;throw It>3?Vt===0||Vt===BigInt(0)?xt=">= 0".concat(pt," and < 2").concat(pt," ** ").concat((It+1)*8).concat(pt):xt=">= -(2".concat(pt," ** ").concat((It+1)*8-1).concat(pt,") and < 2 ** ")+"".concat((It+1)*8-1).concat(pt):xt=">= ".concat(Vt).concat(pt," and <= ").concat(te).concat(pt),new kt.ERR_OUT_OF_RANGE("value",xt,Et)}_t(Jt,Ut,It)}function Pt(Et,Vt){if(typeof Et!="number")throw new kt.ERR_INVALID_ARG_TYPE(Vt,"number",Et)}function Rt(Et,Vt,te){throw Math.floor(Et)!==Et?(Pt(Et,te),new kt.ERR_OUT_OF_RANGE(te||"offset","an integer",Et)):Vt<0?new kt.ERR_BUFFER_OUT_OF_BOUNDS:new kt.ERR_OUT_OF_RANGE(te||"offset",">= ".concat(te?1:0," and <= ").concat(Vt),Et)}var Ht=/[^+/0-9A-Za-z-_]/g;function Dt(Et){if(Et=Et.split("=")[0],Et=Et.trim().replace(Ht,""),Et.length<2)return"";for(;Et.length%4!==0;)Et=Et+"=";return Et}function Xt(Et,Vt){Vt=Vt||1/0;for(var te,Jt=Et.length,Ut=null,It=[],pt=0;pt<Jt;++pt){if(te=Et.charCodeAt(pt),te>55295&&te<57344){if(!Ut){if(te>56319){(Vt-=3)>-1&&It.push(239,191,189);continue}else if(pt+1===Jt){(Vt-=3)>-1&&It.push(239,191,189);continue}Ut=te;continue}if(te<56320){(Vt-=3)>-1&&It.push(239,191,189),Ut=te;continue}te=(Ut-55296<<10|te-56320)+65536}else Ut&&(Vt-=3)>-1&&It.push(239,191,189);if(Ut=null,te<128){if((Vt-=1)<0)break;It.push(te)}else if(te<2048){if((Vt-=2)<0)break;It.push(te>>6|192,te&63|128)}else if(te<65536){if((Vt-=3)<0)break;It.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((Vt-=4)<0)break;It.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return It}function se(Et){for(var Vt=[],te=0;te<Et.length;++te)Vt.push(Et.charCodeAt(te)&255);return Vt}function Yt(Et,Vt){for(var te,Jt,Ut,It=[],pt=0;pt<Et.length&&!((Vt-=2)<0);++pt)te=Et.charCodeAt(pt),Jt=te>>8,Ut=te%256,It.push(Ut),It.push(Jt);return It}function ue(Et){return o.toByteArray(Dt(Et))}function ie(Et,Vt,te,Jt){var Ut;for(Ut=0;Ut<Jt&&!(Ut+te>=Vt.length||Ut>=Et.length);++Ut)Vt[Ut+te]=Et[Ut];return Ut}function fe(Et,Vt){return Et instanceof Vt||Et!=null&&Et.constructor!=null&&Et.constructor.name!=null&&Et.constructor.name===Vt.name}function ce(Et){return Et!==Et}var ye=function(){for(var Et="0123456789abcdef",Vt=new Array(256),te=0;te<16;++te)for(var Jt=te*16,Ut=0;Ut<16;++Ut)Vt[Jt+Ut]=Et[te]+Et[Ut];return Vt}();function de(Et){return typeof BigInt>"u"?Te:Et}function Te(){throw new Error("BigInt not supported")}},25928:function(X){X.exports=E,X.exports.isMobile=E,X.exports.default=E;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,x=/android|ipad|playbook|silk/i;function E(i){i||(i={});var M=i.ua;if(!M&&typeof navigator<"u"&&(M=navigator.userAgent),M&&M.headers&&typeof M.headers["user-agent"]=="string"&&(M=M.headers["user-agent"]),typeof M!="string")return!1;var m=B.test(M)&&!t.test(M)||!!i.tablet&&x.test(M);return!m&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&M.indexOf("Macintosh")!==-1&&M.indexOf("Safari")!==-1&&(m=!0),m}},48932:function(X,B,t){t.r(B),t.d(B,{sankeyCenter:function(){return s},sankeyCircular:function(){return L},sankeyJustify:function(){return e},sankeyLeft:function(){return v},sankeyRight:function(){return r}});var x=t(84706),E=t(34712),i=t(10132),M=t(6688),m=t.n(M);function d(kt){return kt.target.depth}function v(kt){return kt.depth}function r(kt,Ot){return Ot-1-kt.height}function e(kt,Ot){return kt.sourceLinks.length?kt.depth:Ot-1}function s(kt){return kt.targetLinks.length?kt.depth:kt.sourceLinks.length?(0,x.SY)(kt.sourceLinks,d)-1:0}function n(kt){return function(){return kt}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt};function o(kt,Ot){return b(kt.source,Ot.source)||kt.index-Ot.index}function h(kt,Ot){return b(kt.target,Ot.target)||kt.index-Ot.index}function b(kt,Ot){return kt.partOfCycle===Ot.partOfCycle?kt.y0-Ot.y0:kt.circularLinkType==="top"||Ot.circularLinkType==="bottom"?-1:1}function f(kt){return kt.value}function k(kt){return(kt.y0+kt.y1)/2}function a(kt){return k(kt.source)}function c(kt){return k(kt.target)}function p(kt){return kt.index}function w(kt){return kt.nodes}function S(kt){return kt.links}function _(kt,Ot){var bt=kt.get(Ot);if(!bt)throw new Error("missing: "+Ot);return bt}function T(kt,Ot){return Ot(kt)}var P=25,u=10,g=.3;function L(){var kt=0,Ot=0,bt=1,_t=1,mt=24,Pt,Rt=p,Ht=e,Dt=w,Xt=S,se=32,Yt=2,ue,ie=null;function fe(){var Jt={nodes:Dt.apply(null,arguments),links:Xt.apply(null,arguments)};ce(Jt),A(Jt,Rt,ie),ye(Jt),Et(Jt),R(Jt,Rt),Vt(Jt,se,Rt),te(Jt);for(var Ut=4,It=0;It<Ut;It++)G(Jt,_t,Rt),ut(Jt,_t,Rt),tt(Jt,Ot,_t,Rt),G(Jt,_t,Rt),ut(Jt,_t,Rt);return wt(Jt,Ot,_t),j(Jt,Yt,_t,Rt),Jt}fe.nodeId=function(Jt){return arguments.length?(Rt=typeof Jt=="function"?Jt:n(Jt),fe):Rt},fe.nodeAlign=function(Jt){return arguments.length?(Ht=typeof Jt=="function"?Jt:n(Jt),fe):Ht},fe.nodeWidth=function(Jt){return arguments.length?(mt=+Jt,fe):mt},fe.nodePadding=function(Jt){return arguments.length?(Pt=+Jt,fe):Pt},fe.nodes=function(Jt){return arguments.length?(Dt=typeof Jt=="function"?Jt:n(Jt),fe):Dt},fe.links=function(Jt){return arguments.length?(Xt=typeof Jt=="function"?Jt:n(Jt),fe):Xt},fe.size=function(Jt){return arguments.length?(kt=Ot=0,bt=+Jt[0],_t=+Jt[1],fe):[bt-kt,_t-Ot]},fe.extent=function(Jt){return arguments.length?(kt=+Jt[0][0],bt=+Jt[1][0],Ot=+Jt[0][1],_t=+Jt[1][1],fe):[[kt,Ot],[bt,_t]]},fe.iterations=function(Jt){return arguments.length?(se=+Jt,fe):se},fe.circularLinkGap=function(Jt){return arguments.length?(Yt=+Jt,fe):Yt},fe.nodePaddingRatio=function(Jt){return arguments.length?(ue=+Jt,fe):ue},fe.sortNodes=function(Jt){return arguments.length?(ie=Jt,fe):ie},fe.update=function(Jt){return R(Jt,Rt),te(Jt),Jt.links.forEach(function(Ut){Ut.circular&&(Ut.circularLinkType=Ut.y0+Ut.y1<_t?"top":"bottom",Ut.source.circularLinkType=Ut.circularLinkType,Ut.target.circularLinkType=Ut.circularLinkType)}),G(Jt,_t,Rt,!1),ut(Jt,_t,Rt),j(Jt,Yt,_t,Rt),Jt};function ce(Jt){Jt.nodes.forEach(function(It,pt){It.index=pt,It.sourceLinks=[],It.targetLinks=[]});var Ut=(0,E.kH)(Jt.nodes,Rt);return Jt.links.forEach(function(It,pt){It.index=pt;var xt=It.source,Ct=It.target;(typeof xt>"u"?"undefined":l(xt))!=="object"&&(xt=It.source=_(Ut,xt)),(typeof Ct>"u"?"undefined":l(Ct))!=="object"&&(Ct=It.target=_(Ut,Ct)),xt.sourceLinks.push(It),Ct.targetLinks.push(It)}),Jt}function ye(Jt){Jt.nodes.forEach(function(Ut){Ut.partOfCycle=!1,Ut.value=Math.max((0,x.oh)(Ut.sourceLinks,f),(0,x.oh)(Ut.targetLinks,f)),Ut.sourceLinks.forEach(function(It){It.circular&&(Ut.partOfCycle=!0,Ut.circularLinkType=It.circularLinkType)}),Ut.targetLinks.forEach(function(It){It.circular&&(Ut.partOfCycle=!0,Ut.circularLinkType=It.circularLinkType)})})}function de(Jt){var Ut=0,It=0,pt=0,xt=0,Ct=(0,x.kv)(Jt.nodes,function(At){return At.column});return Jt.links.forEach(function(At){At.circular&&(At.circularLinkType=="top"?Ut=Ut+At.width:It=It+At.width,At.target.column==0&&(xt=xt+At.width),At.source.column==Ct&&(pt=pt+At.width))}),Ut=Ut>0?Ut+P+u:Ut,It=It>0?It+P+u:It,pt=pt>0?pt+P+u:pt,xt=xt>0?xt+P+u:xt,{top:Ut,bottom:It,left:xt,right:pt}}function Te(Jt,Ut){var It=(0,x.kv)(Jt.nodes,function(Qt){return Qt.column}),pt=bt-kt,xt=_t-Ot,Ct=pt+Ut.right+Ut.left,At=xt+Ut.top+Ut.bottom,Ft=pt/Ct,Wt=xt/At;return kt=kt*Ft+Ut.left,bt=Ut.right==0?bt:bt*Ft,Ot=Ot*Wt+Ut.top,_t=_t*Wt,Jt.nodes.forEach(function(Qt){Qt.x0=kt+Qt.column*((bt-kt-mt)/It),Qt.x1=Qt.x0+mt}),Wt}function Et(Jt){var Ut,It,pt;for(Ut=Jt.nodes,It=[],pt=0;Ut.length;++pt,Ut=It,It=[])Ut.forEach(function(xt){xt.depth=pt,xt.sourceLinks.forEach(function(Ct){It.indexOf(Ct.target)<0&&!Ct.circular&&It.push(Ct.target)})});for(Ut=Jt.nodes,It=[],pt=0;Ut.length;++pt,Ut=It,It=[])Ut.forEach(function(xt){xt.height=pt,xt.targetLinks.forEach(function(Ct){It.indexOf(Ct.source)<0&&!Ct.circular&&It.push(Ct.source)})});Jt.nodes.forEach(function(xt){xt.column=Math.floor(Ht.call(null,xt,pt))})}function Vt(Jt,Ut,It){var pt=(0,E.UJ)().key(function(Qt){return Qt.column}).sortKeys(x.XE).entries(Jt.nodes).map(function(Qt){return Qt.values});At(It),Wt();for(var xt=1,Ct=Ut;Ct>0;--Ct)Ft(xt*=.99,It),Wt();function At(Qt){if(ue){var he=1/0;pt.forEach(function(ke){var Le=_t*ue/(ke.length+1);he=Le<he?Le:he}),Pt=he}var ve=(0,x.SY)(pt,function(ke){return(_t-Ot-(ke.length-1)*Pt)/(0,x.oh)(ke,f)});ve=ve*g,Jt.links.forEach(function(ke){ke.width=ke.value*ve});var Je=de(Jt),Ue=Te(Jt,Je);ve=ve*Ue,Jt.links.forEach(function(ke){ke.width=ke.value*ve}),pt.forEach(function(ke){var Le=ke.length;ke.forEach(function(Ge,mr){Ge.depth==pt.length-1&&Le==1||Ge.depth==0&&Le==1?(Ge.y0=_t/2-Ge.value*ve,Ge.y1=Ge.y0+Ge.value*ve):Ge.partOfCycle?z(Ge,Qt)==0?(Ge.y0=_t/2+mr,Ge.y1=Ge.y0+Ge.value*ve):Ge.circularLinkType=="top"?(Ge.y0=Ot+mr,Ge.y1=Ge.y0+Ge.value*ve):(Ge.y0=_t-Ge.value*ve-mr,Ge.y1=Ge.y0+Ge.value*ve):Je.top==0||Je.bottom==0?(Ge.y0=(_t-Ot)/Le*mr,Ge.y1=Ge.y0+Ge.value*ve):(Ge.y0=(_t-Ot)/2-Le/2+mr,Ge.y1=Ge.y0+Ge.value*ve)})})}function Ft(Qt,he){var ve=pt.length;pt.forEach(function(Je){var Ue=Je.length,ke=Je[0].depth;Je.forEach(function(Le){var Ge;if((Le.sourceLinks.length||Le.targetLinks.length)&&!(Le.partOfCycle&&z(Le,he)>0))if(ke==0&&Ue==1)Ge=Le.y1-Le.y0,Le.y0=_t/2-Ge/2,Le.y1=_t/2+Ge/2;else if(ke==ve-1&&Ue==1)Ge=Le.y1-Le.y0,Le.y0=_t/2-Ge/2,Le.y1=_t/2+Ge/2;else{var mr=0,xe=(0,x.mo)(Le.sourceLinks,c),Xe=(0,x.mo)(Le.targetLinks,a);xe&&Xe?mr=(xe+Xe)/2:mr=xe||Xe;var Ye=(mr-k(Le))*Qt;Le.y0+=Ye,Le.y1+=Ye}})})}function Wt(){pt.forEach(function(Qt){var he,ve,Je=Ot,Ue=Qt.length,ke;for(Qt.sort(b),ke=0;ke<Ue;++ke)he=Qt[ke],ve=Je-he.y0,ve>0&&(he.y0+=ve,he.y1+=ve),Je=he.y1+Pt;if(ve=Je-Pt-_t,ve>0)for(Je=he.y0-=ve,he.y1-=ve,ke=Ue-2;ke>=0;--ke)he=Qt[ke],ve=he.y1+Pt-Je,ve>0&&(he.y0-=ve,he.y1-=ve),Je=he.y0})}}function te(Jt){Jt.nodes.forEach(function(Ut){Ut.sourceLinks.sort(h),Ut.targetLinks.sort(o)}),Jt.nodes.forEach(function(Ut){var It=Ut.y0,pt=It,xt=Ut.y1,Ct=xt;Ut.sourceLinks.forEach(function(At){At.circular?(At.y0=xt-At.width/2,xt=xt-At.width):(At.y0=It+At.width/2,It+=At.width)}),Ut.targetLinks.forEach(function(At){At.circular?(At.y1=Ct-At.width/2,Ct=Ct-At.width):(At.y1=pt+At.width/2,pt+=At.width)})})}return fe}function A(kt,Ot,bt){var _t=0;if(bt===null){for(var mt=[],Pt=0;Pt<kt.links.length;Pt++){var Rt=kt.links[Pt],Ht=Rt.source.index,Dt=Rt.target.index;mt[Ht]||(mt[Ht]=[]),mt[Dt]||(mt[Dt]=[]),mt[Ht].indexOf(Dt)===-1&&mt[Ht].push(Dt)}var Xt=m()(mt);Xt.sort(function(ie,fe){return ie.length-fe.length});var se={};for(Pt=0;Pt<Xt.length;Pt++){var Yt=Xt[Pt],ue=Yt.slice(-2);se[ue[0]]||(se[ue[0]]={}),se[ue[0]][ue[1]]=!0}kt.links.forEach(function(ie){var fe=ie.target.index,ce=ie.source.index;fe===ce||se[ce]&&se[ce][fe]?(ie.circular=!0,ie.circularLinkID=_t,_t=_t+1):ie.circular=!1})}else kt.links.forEach(function(ie){ie.source[bt]<ie.target[bt]?ie.circular=!1:(ie.circular=!0,ie.circularLinkID=_t,_t=_t+1)})}function R(kt,Ot){var bt=0,_t=0;kt.links.forEach(function(mt){mt.circular&&(mt.source.circularLinkType||mt.target.circularLinkType?mt.circularLinkType=mt.source.circularLinkType?mt.source.circularLinkType:mt.target.circularLinkType:mt.circularLinkType=bt<_t?"top":"bottom",mt.circularLinkType=="top"?bt=bt+1:_t=_t+1,kt.nodes.forEach(function(Pt){(T(Pt,Ot)==T(mt.source,Ot)||T(Pt,Ot)==T(mt.target,Ot))&&(Pt.circularLinkType=mt.circularLinkType)}))}),kt.links.forEach(function(mt){mt.circular&&(mt.source.circularLinkType==mt.target.circularLinkType&&(mt.circularLinkType=mt.source.circularLinkType),gt(mt,Ot)&&(mt.circularLinkType=mt.source.circularLinkType))})}function O(kt){var Ot=Math.abs(kt.y1-kt.y0),bt=Math.abs(kt.target.x0-kt.source.x1);return Math.atan(bt/Ot)}function N(kt,Ot){return kt.source.column<Ot.target.column?!1:!(kt.target.column>Ot.source.column)}function z(kt,Ot){var bt=0;kt.sourceLinks.forEach(function(mt){bt=mt.circular&&!gt(mt,Ot)?bt+1:bt});var _t=0;return kt.targetLinks.forEach(function(mt){_t=mt.circular&&!gt(mt,Ot)?_t+1:_t}),bt+_t}function F(kt){var Ot=kt.source.sourceLinks,bt=0;Ot.forEach(function(Pt){bt=Pt.circular?bt+1:bt});var _t=kt.target.targetLinks,mt=0;return _t.forEach(function(Pt){mt=Pt.circular?mt+1:mt}),!(bt>1||mt>1)}function I(kt,Ot,bt){return kt.sort(W),kt.forEach(function(_t,mt){var Pt=0;if(gt(_t,bt)&&F(_t))_t.circularPathData.verticalBuffer=Pt+_t.width/2;else{var Rt=0;for(Rt;Rt<mt;Rt++)if(N(kt[mt],kt[Rt])){var Ht=kt[Rt].circularPathData.verticalBuffer+kt[Rt].width/2+Ot;Pt=Ht>Pt?Ht:Pt}_t.circularPathData.verticalBuffer=Pt+_t.width/2}}),kt}function j(kt,Ot,bt,_t){var mt=5,Pt=(0,x.SY)(kt.links,function(Dt){return Dt.source.y0});kt.links.forEach(function(Dt){Dt.circular&&(Dt.circularPathData={})});var Rt=kt.links.filter(function(Dt){return Dt.circularLinkType=="top"});I(Rt,Ot,_t);var Ht=kt.links.filter(function(Dt){return Dt.circularLinkType=="bottom"});I(Ht,Ot,_t),kt.links.forEach(function(Dt){if(Dt.circular){if(Dt.circularPathData.arcRadius=Dt.width+u,Dt.circularPathData.leftNodeBuffer=mt,Dt.circularPathData.rightNodeBuffer=mt,Dt.circularPathData.sourceWidth=Dt.source.x1-Dt.source.x0,Dt.circularPathData.sourceX=Dt.source.x0+Dt.circularPathData.sourceWidth,Dt.circularPathData.targetX=Dt.target.x0,Dt.circularPathData.sourceY=Dt.y0,Dt.circularPathData.targetY=Dt.y1,gt(Dt,_t)&&F(Dt))Dt.circularPathData.leftSmallArcRadius=u+Dt.width/2,Dt.circularPathData.leftLargeArcRadius=u+Dt.width/2,Dt.circularPathData.rightSmallArcRadius=u+Dt.width/2,Dt.circularPathData.rightLargeArcRadius=u+Dt.width/2,Dt.circularLinkType=="bottom"?(Dt.circularPathData.verticalFullExtent=Dt.source.y1+P+Dt.circularPathData.verticalBuffer,Dt.circularPathData.verticalLeftInnerExtent=Dt.circularPathData.verticalFullExtent-Dt.circularPathData.leftLargeArcRadius,Dt.circularPathData.verticalRightInnerExtent=Dt.circularPathData.verticalFullExtent-Dt.circularPathData.rightLargeArcRadius):(Dt.circularPathData.verticalFullExtent=Dt.source.y0-P-Dt.circularPathData.verticalBuffer,Dt.circularPathData.verticalLeftInnerExtent=Dt.circularPathData.verticalFullExtent+Dt.circularPathData.leftLargeArcRadius,Dt.circularPathData.verticalRightInnerExtent=Dt.circularPathData.verticalFullExtent+Dt.circularPathData.rightLargeArcRadius);else{var Xt=Dt.source.column,se=Dt.circularLinkType,Yt=kt.links.filter(function(fe){return fe.source.column==Xt&&fe.circularLinkType==se});Dt.circularLinkType=="bottom"?Yt.sort(et):Yt.sort(K);var ue=0;Yt.forEach(function(fe,ce){fe.circularLinkID==Dt.circularLinkID&&(Dt.circularPathData.leftSmallArcRadius=u+Dt.width/2+ue,Dt.circularPathData.leftLargeArcRadius=u+Dt.width/2+ce*Ot+ue),ue=ue+fe.width}),Xt=Dt.target.column,Yt=kt.links.filter(function(fe){return fe.target.column==Xt&&fe.circularLinkType==se}),Dt.circularLinkType=="bottom"?Yt.sort(ot):Yt.sort(lt),ue=0,Yt.forEach(function(fe,ce){fe.circularLinkID==Dt.circularLinkID&&(Dt.circularPathData.rightSmallArcRadius=u+Dt.width/2+ue,Dt.circularPathData.rightLargeArcRadius=u+Dt.width/2+ce*Ot+ue),ue=ue+fe.width}),Dt.circularLinkType=="bottom"?(Dt.circularPathData.verticalFullExtent=Math.max(bt,Dt.source.y1,Dt.target.y1)+P+Dt.circularPathData.verticalBuffer,Dt.circularPathData.verticalLeftInnerExtent=Dt.circularPathData.verticalFullExtent-Dt.circularPathData.leftLargeArcRadius,Dt.circularPathData.verticalRightInnerExtent=Dt.circularPathData.verticalFullExtent-Dt.circularPathData.rightLargeArcRadius):(Dt.circularPathData.verticalFullExtent=Pt-P-Dt.circularPathData.verticalBuffer,Dt.circularPathData.verticalLeftInnerExtent=Dt.circularPathData.verticalFullExtent+Dt.circularPathData.leftLargeArcRadius,Dt.circularPathData.verticalRightInnerExtent=Dt.circularPathData.verticalFullExtent+Dt.circularPathData.rightLargeArcRadius)}Dt.circularPathData.leftInnerExtent=Dt.circularPathData.sourceX+Dt.circularPathData.leftNodeBuffer,Dt.circularPathData.rightInnerExtent=Dt.circularPathData.targetX-Dt.circularPathData.rightNodeBuffer,Dt.circularPathData.leftFullExtent=Dt.circularPathData.sourceX+Dt.circularPathData.leftLargeArcRadius+Dt.circularPathData.leftNodeBuffer,Dt.circularPathData.rightFullExtent=Dt.circularPathData.targetX-Dt.circularPathData.rightLargeArcRadius-Dt.circularPathData.rightNodeBuffer}if(Dt.circular)Dt.path=V(Dt);else{var ie=(0,i.ak)().source(function(fe){var ce=fe.source.x0+(fe.source.x1-fe.source.x0),ye=fe.y0;return[ce,ye]}).target(function(fe){var ce=fe.target.x0,ye=fe.y1;return[ce,ye]});Dt.path=ie(Dt)}})}function V(kt){var Ot="";return kt.circularLinkType=="top"?Ot="M"+kt.circularPathData.sourceX+" "+kt.circularPathData.sourceY+" L"+kt.circularPathData.leftInnerExtent+" "+kt.circularPathData.sourceY+" A"+kt.circularPathData.leftLargeArcRadius+" "+kt.circularPathData.leftSmallArcRadius+" 0 0 0 "+kt.circularPathData.leftFullExtent+" "+(kt.circularPathData.sourceY-kt.circularPathData.leftSmallArcRadius)+" L"+kt.circularPathData.leftFullExtent+" "+kt.circularPathData.verticalLeftInnerExtent+" A"+kt.circularPathData.leftLargeArcRadius+" "+kt.circularPathData.leftLargeArcRadius+" 0 0 0 "+kt.circularPathData.leftInnerExtent+" "+kt.circularPathData.verticalFullExtent+" L"+kt.circularPathData.rightInnerExtent+" "+kt.circularPathData.verticalFullExtent+" A"+kt.circularPathData.rightLargeArcRadius+" "+kt.circularPathData.rightLargeArcRadius+" 0 0 0 "+kt.circularPathData.rightFullExtent+" "+kt.circularPathData.verticalRightInnerExtent+" L"+kt.circularPathData.rightFullExtent+" "+(kt.circularPathData.targetY-kt.circularPathData.rightSmallArcRadius)+" A"+kt.circularPathData.rightLargeArcRadius+" "+kt.circularPathData.rightSmallArcRadius+" 0 0 0 "+kt.circularPathData.rightInnerExtent+" "+kt.circularPathData.targetY+" L"+kt.circularPathData.targetX+" "+kt.circularPathData.targetY:Ot="M"+kt.circularPathData.sourceX+" "+kt.circularPathData.sourceY+" L"+kt.circularPathData.leftInnerExtent+" "+kt.circularPathData.sourceY+" A"+kt.circularPathData.leftLargeArcRadius+" "+kt.circularPathData.leftSmallArcRadius+" 0 0 1 "+kt.circularPathData.leftFullExtent+" "+(kt.circularPathData.sourceY+kt.circularPathData.leftSmallArcRadius)+" L"+kt.circularPathData.leftFullExtent+" "+kt.circularPathData.verticalLeftInnerExtent+" A"+kt.circularPathData.leftLargeArcRadius+" "+kt.circularPathData.leftLargeArcRadius+" 0 0 1 "+kt.circularPathData.leftInnerExtent+" "+kt.circularPathData.verticalFullExtent+" L"+kt.circularPathData.rightInnerExtent+" "+kt.circularPathData.verticalFullExtent+" A"+kt.circularPathData.rightLargeArcRadius+" "+kt.circularPathData.rightLargeArcRadius+" 0 0 1 "+kt.circularPathData.rightFullExtent+" "+kt.circularPathData.verticalRightInnerExtent+" L"+kt.circularPathData.rightFullExtent+" "+(kt.circularPathData.targetY+kt.circularPathData.rightSmallArcRadius)+" A"+kt.circularPathData.rightLargeArcRadius+" "+kt.circularPathData.rightSmallArcRadius+" 0 0 1 "+kt.circularPathData.rightInnerExtent+" "+kt.circularPathData.targetY+" L"+kt.circularPathData.targetX+" "+kt.circularPathData.targetY,Ot}function W(kt,Ot){return q(kt)==q(Ot)?kt.circularLinkType=="bottom"?et(kt,Ot):K(kt,Ot):q(Ot)-q(kt)}function K(kt,Ot){return kt.y0-Ot.y0}function et(kt,Ot){return Ot.y0-kt.y0}function lt(kt,Ot){return kt.y1-Ot.y1}function ot(kt,Ot){return Ot.y1-kt.y1}function q(kt){return kt.target.column-kt.source.column}function J(kt){return kt.target.x0-kt.source.x1}function it(kt,Ot){var bt=O(kt),_t=J(Ot)/Math.tan(bt),mt=dt(kt)=="up"?kt.y1+_t:kt.y1-_t;return mt}function Z(kt,Ot){var bt=O(kt),_t=J(Ot)/Math.tan(bt),mt=dt(kt)=="up"?kt.y1-_t:kt.y1+_t;return mt}function tt(kt,Ot,bt,_t){kt.links.forEach(function(mt){if(!mt.circular&&mt.target.column-mt.source.column>1){var Pt=mt.source.column+1,Rt=mt.target.column-1,Ht=1,Dt=Rt-Pt+1;for(Ht=1;Pt<=Rt;Pt++,Ht++)kt.nodes.forEach(function(Xt){if(Xt.column==Pt){var se=Ht/(Dt+1),Yt=Math.pow(1-se,3),ue=3*se*Math.pow(1-se,2),ie=3*Math.pow(se,2)*(1-se),fe=Math.pow(se,3),ce=Yt*mt.y0+ue*mt.y0+ie*mt.y1+fe*mt.y1,ye=ce-mt.width/2,de=ce+mt.width/2,Te;ye>Xt.y0&&ye<Xt.y1?(Te=Xt.y1-ye+10,Te=Xt.circularLinkType=="bottom"?Te:-Te,Xt=Q(Xt,Te,Ot,bt),kt.nodes.forEach(function(Et){T(Et,_t)==T(Xt,_t)||Et.column!=Xt.column||st(Xt,Et)&&Q(Et,Te,Ot,bt)})):de>Xt.y0&&de<Xt.y1?(Te=de-Xt.y0+10,Xt=Q(Xt,Te,Ot,bt),kt.nodes.forEach(function(Et){T(Et,_t)==T(Xt,_t)||Et.column!=Xt.column||Et.y0<Xt.y1&&Et.y1>Xt.y1&&Q(Et,Te,Ot,bt)})):ye<Xt.y0&&de>Xt.y1&&(Te=de-Xt.y0+10,Xt=Q(Xt,Te,Ot,bt),kt.nodes.forEach(function(Et){T(Et,_t)==T(Xt,_t)||Et.column!=Xt.column||Et.y0<Xt.y1&&Et.y1>Xt.y1&&Q(Et,Te,Ot,bt)}))}})}})}function st(kt,Ot){return kt.y0>Ot.y0&&kt.y0<Ot.y1||kt.y1>Ot.y0&&kt.y1<Ot.y1?!0:kt.y0<Ot.y0&&kt.y1>Ot.y1}function Q(kt,Ot,bt,_t){return kt.y0+Ot>=bt&&kt.y1+Ot<=_t&&(kt.y0=kt.y0+Ot,kt.y1=kt.y1+Ot,kt.targetLinks.forEach(function(mt){mt.y1=mt.y1+Ot}),kt.sourceLinks.forEach(function(mt){mt.y0=mt.y0+Ot})),kt}function G(kt,Ot,bt,_t){kt.nodes.forEach(function(mt){_t&&mt.y+(mt.y1-mt.y0)>Ot&&(mt.y=mt.y-(mt.y+(mt.y1-mt.y0)-Ot));var Pt=kt.links.filter(function(Dt){return T(Dt.source,bt)==T(mt,bt)}),Rt=Pt.length;Rt>1&&Pt.sort(function(Dt,Xt){if(!Dt.circular&&!Xt.circular){if(Dt.target.column==Xt.target.column)return Dt.y1-Xt.y1;if(at(Dt,Xt)){if(Dt.target.column>Xt.target.column){var se=Z(Xt,Dt);return Dt.y1-se}if(Xt.target.column>Dt.target.column){var Yt=Z(Dt,Xt);return Yt-Xt.y1}}else return Dt.y1-Xt.y1}if(Dt.circular&&!Xt.circular)return Dt.circularLinkType=="top"?-1:1;if(Xt.circular&&!Dt.circular)return Xt.circularLinkType=="top"?1:-1;if(Dt.circular&&Xt.circular)return Dt.circularLinkType===Xt.circularLinkType&&Dt.circularLinkType=="top"?Dt.target.column===Xt.target.column?Dt.target.y1-Xt.target.y1:Xt.target.column-Dt.target.column:Dt.circularLinkType===Xt.circularLinkType&&Dt.circularLinkType=="bottom"?Dt.target.column===Xt.target.column?Xt.target.y1-Dt.target.y1:Dt.target.column-Xt.target.column:Dt.circularLinkType=="top"?-1:1});var Ht=mt.y0;Pt.forEach(function(Dt){Dt.y0=Ht+Dt.width/2,Ht=Ht+Dt.width}),Pt.forEach(function(Dt,Xt){if(Dt.circularLinkType=="bottom"){var se=Xt+1,Yt=0;for(se;se<Rt;se++)Yt=Yt+Pt[se].width;Dt.y0=mt.y1-Yt-Dt.width/2}})})}function ut(kt,Ot,bt){kt.nodes.forEach(function(_t){var mt=kt.links.filter(function(Ht){return T(Ht.target,bt)==T(_t,bt)}),Pt=mt.length;Pt>1&&mt.sort(function(Ht,Dt){if(!Ht.circular&&!Dt.circular){if(Ht.source.column==Dt.source.column)return Ht.y0-Dt.y0;if(at(Ht,Dt)){if(Dt.source.column<Ht.source.column){var Xt=it(Dt,Ht);return Ht.y0-Xt}if(Ht.source.column<Dt.source.column){var se=it(Ht,Dt);return se-Dt.y0}}else return Ht.y0-Dt.y0}if(Ht.circular&&!Dt.circular)return Ht.circularLinkType=="top"?-1:1;if(Dt.circular&&!Ht.circular)return Dt.circularLinkType=="top"?1:-1;if(Ht.circular&&Dt.circular)return Ht.circularLinkType===Dt.circularLinkType&&Ht.circularLinkType=="top"?Ht.source.column===Dt.source.column?Ht.source.y1-Dt.source.y1:Ht.source.column-Dt.source.column:Ht.circularLinkType===Dt.circularLinkType&&Ht.circularLinkType=="bottom"?Ht.source.column===Dt.source.column?Ht.source.y1-Dt.source.y1:Dt.source.column-Ht.source.column:Ht.circularLinkType=="top"?-1:1});var Rt=_t.y0;mt.forEach(function(Ht){Ht.y1=Rt+Ht.width/2,Rt=Rt+Ht.width}),mt.forEach(function(Ht,Dt){if(Ht.circularLinkType=="bottom"){var Xt=Dt+1,se=0;for(Xt;Xt<Pt;Xt++)se=se+mt[Xt].width;Ht.y1=_t.y1-se-Ht.width/2}})})}function at(kt,Ot){return dt(kt)==dt(Ot)}function dt(kt){return kt.y0-kt.y1>0?"up":"down"}function gt(kt,Ot){return T(kt.source,Ot)==T(kt.target,Ot)}function wt(kt,Ot,bt){var _t=kt.nodes,mt=kt.links,Pt=!1,Rt=!1;if(mt.forEach(function(ue){ue.circularLinkType=="top"?Pt=!0:ue.circularLinkType=="bottom"&&(Rt=!0)}),Pt==!1||Rt==!1){var Ht=(0,x.SY)(_t,function(ue){return ue.y0}),Dt=(0,x.kv)(_t,function(ue){return ue.y1}),Xt=Dt-Ht,se=bt-Ot,Yt=se/Xt;_t.forEach(function(ue){var ie=(ue.y1-ue.y0)*Yt;ue.y0=(ue.y0-Ht)*Yt,ue.y1=ue.y0+ie}),mt.forEach(function(ue){ue.y0=(ue.y0-Ht)*Yt,ue.y1=(ue.y1-Ht)*Yt,ue.width=ue.width*Yt})}}},26800:function(X,B,t){t.r(B),t.d(B,{sankey:function(){return p},sankeyCenter:function(){return v},sankeyJustify:function(){return d},sankeyLeft:function(){return M},sankeyLinkHorizontal:function(){return T},sankeyRight:function(){return m}});var x=t(84706),E=t(34712);function i(P){return P.target.depth}function M(P){return P.depth}function m(P,u){return u-1-P.height}function d(P,u){return P.sourceLinks.length?P.depth:u-1}function v(P){return P.targetLinks.length?P.depth:P.sourceLinks.length?(0,x.SY)(P.sourceLinks,i)-1:0}function r(P){return function(){return P}}function e(P,u){return n(P.source,u.source)||P.index-u.index}function s(P,u){return n(P.target,u.target)||P.index-u.index}function n(P,u){return P.y0-u.y0}function l(P){return P.value}function o(P){return(P.y0+P.y1)/2}function h(P){return o(P.source)*P.value}function b(P){return o(P.target)*P.value}function f(P){return P.index}function k(P){return P.nodes}function a(P){return P.links}function c(P,u){var g=P.get(u);if(!g)throw new Error("missing: "+u);return g}function p(){var P=0,u=0,g=1,L=1,A=24,R=8,O=f,N=d,z=k,F=a,I=32,j=2/3;function V(){var q={nodes:z.apply(null,arguments),links:F.apply(null,arguments)};return W(q),K(q),et(q),lt(q),ot(q),q}V.update=function(q){return ot(q),q},V.nodeId=function(q){return arguments.length?(O=typeof q=="function"?q:r(q),V):O},V.nodeAlign=function(q){return arguments.length?(N=typeof q=="function"?q:r(q),V):N},V.nodeWidth=function(q){return arguments.length?(A=+q,V):A},V.nodePadding=function(q){return arguments.length?(R=+q,V):R},V.nodes=function(q){return arguments.length?(z=typeof q=="function"?q:r(q),V):z},V.links=function(q){return arguments.length?(F=typeof q=="function"?q:r(q),V):F},V.size=function(q){return arguments.length?(P=u=0,g=+q[0],L=+q[1],V):[g-P,L-u]},V.extent=function(q){return arguments.length?(P=+q[0][0],g=+q[1][0],u=+q[0][1],L=+q[1][1],V):[[P,u],[g,L]]},V.iterations=function(q){return arguments.length?(I=+q,V):I};function W(q){q.nodes.forEach(function(it,Z){it.index=Z,it.sourceLinks=[],it.targetLinks=[]});var J=(0,E.kH)(q.nodes,O);q.links.forEach(function(it,Z){it.index=Z;var tt=it.source,st=it.target;typeof tt!="object"&&(tt=it.source=c(J,tt)),typeof st!="object"&&(st=it.target=c(J,st)),tt.sourceLinks.push(it),st.targetLinks.push(it)})}function K(q){q.nodes.forEach(function(J){J.value=Math.max((0,x.oh)(J.sourceLinks,l),(0,x.oh)(J.targetLinks,l))})}function et(q){var J,it,Z;for(J=q.nodes,it=[],Z=0;J.length;++Z,J=it,it=[])J.forEach(function(st){st.depth=Z,st.sourceLinks.forEach(function(Q){it.indexOf(Q.target)<0&&it.push(Q.target)})});for(J=q.nodes,it=[],Z=0;J.length;++Z,J=it,it=[])J.forEach(function(st){st.height=Z,st.targetLinks.forEach(function(Q){it.indexOf(Q.source)<0&&it.push(Q.source)})});var tt=(g-P-A)/(Z-1);q.nodes.forEach(function(st){st.x1=(st.x0=P+Math.max(0,Math.min(Z-1,Math.floor(N.call(null,st,Z))))*tt)+A})}function lt(q){var J=(0,E.UJ)().key(function(ut){return ut.x0}).sortKeys(x.XE).entries(q.nodes).map(function(ut){return ut.values});tt(),G();for(var it=1,Z=I;Z>0;--Z)Q(it*=.99),G(),st(it),G();function tt(){var ut=(0,x.kv)(J,function(gt){return gt.length}),at=j*(L-u)/(ut-1);R>at&&(R=at);var dt=(0,x.SY)(J,function(gt){return(L-u-(gt.length-1)*R)/(0,x.oh)(gt,l)});J.forEach(function(gt){gt.forEach(function(wt,kt){wt.y1=(wt.y0=kt)+wt.value*dt})}),q.links.forEach(function(gt){gt.width=gt.value*dt})}function st(ut){J.forEach(function(at){at.forEach(function(dt){if(dt.targetLinks.length){var gt=((0,x.oh)(dt.targetLinks,h)/(0,x.oh)(dt.targetLinks,l)-o(dt))*ut;dt.y0+=gt,dt.y1+=gt}})})}function Q(ut){J.slice().reverse().forEach(function(at){at.forEach(function(dt){if(dt.sourceLinks.length){var gt=((0,x.oh)(dt.sourceLinks,b)/(0,x.oh)(dt.sourceLinks,l)-o(dt))*ut;dt.y0+=gt,dt.y1+=gt}})})}function G(){J.forEach(function(ut){var at,dt,gt=u,wt=ut.length,kt;for(ut.sort(n),kt=0;kt<wt;++kt)at=ut[kt],dt=gt-at.y0,dt>0&&(at.y0+=dt,at.y1+=dt),gt=at.y1+R;if(dt=gt-R-L,dt>0)for(gt=at.y0-=dt,at.y1-=dt,kt=wt-2;kt>=0;--kt)at=ut[kt],dt=at.y1+R-gt,dt>0&&(at.y0-=dt,at.y1-=dt),gt=at.y0})}}function ot(q){q.nodes.forEach(function(J){J.sourceLinks.sort(s),J.targetLinks.sort(e)}),q.nodes.forEach(function(J){var it=J.y0,Z=it;J.sourceLinks.forEach(function(tt){tt.y0=it+tt.width/2,it+=tt.width}),J.targetLinks.forEach(function(tt){tt.y1=Z+tt.width/2,Z+=tt.width})})}return V}var w=t(10132);function S(P){return[P.source.x1,P.y0]}function _(P){return[P.target.x0,P.y1]}function T(){return(0,w.ak)().source(S).target(_)}},33428:function(X,B,t){var x,E;(function(){var i={version:"3.8.0"},M=[].slice,m=function(ft){return M.call(ft)},d=self.document;function v(ft){return ft&&(ft.ownerDocument||ft.document||ft).documentElement}function r(ft){return ft&&(ft.ownerDocument&&ft.ownerDocument.defaultView||ft.document&&ft||ft.defaultView)}if(d)try{m(d.documentElement.childNodes)[0].nodeType}catch{m=function(ft){for(var Tt=ft.length,zt=new Array(Tt);Tt--;)zt[Tt]=ft[Tt];return zt}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var e=this.Element.prototype,s=e.setAttribute,n=e.setAttributeNS,l=this.CSSStyleDeclaration.prototype,o=l.setProperty;e.setAttribute=function(ft,Tt){s.call(this,ft,Tt+"")},e.setAttributeNS=function(ft,Tt,zt){n.call(this,ft,Tt,zt+"")},l.setProperty=function(ft,Tt,zt){o.call(this,ft,Tt+"",zt)}}i.ascending=h;function h(ft,Tt){return ft<Tt?-1:ft>Tt?1:ft>=Tt?0:NaN}i.descending=function(ft,Tt){return Tt<ft?-1:Tt>ft?1:Tt>=ft?0:NaN},i.min=function(ft,Tt){var zt=-1,Kt=ft.length,$t,oe;if(arguments.length===1){for(;++zt<Kt;)if((oe=ft[zt])!=null&&oe>=oe){$t=oe;break}for(;++zt<Kt;)(oe=ft[zt])!=null&&$t>oe&&($t=oe)}else{for(;++zt<Kt;)if((oe=Tt.call(ft,ft[zt],zt))!=null&&oe>=oe){$t=oe;break}for(;++zt<Kt;)(oe=Tt.call(ft,ft[zt],zt))!=null&&$t>oe&&($t=oe)}return $t},i.max=function(ft,Tt){var zt=-1,Kt=ft.length,$t,oe;if(arguments.length===1){for(;++zt<Kt;)if((oe=ft[zt])!=null&&oe>=oe){$t=oe;break}for(;++zt<Kt;)(oe=ft[zt])!=null&&oe>$t&&($t=oe)}else{for(;++zt<Kt;)if((oe=Tt.call(ft,ft[zt],zt))!=null&&oe>=oe){$t=oe;break}for(;++zt<Kt;)(oe=Tt.call(ft,ft[zt],zt))!=null&&oe>$t&&($t=oe)}return $t},i.extent=function(ft,Tt){var zt=-1,Kt=ft.length,$t,oe,Me;if(arguments.length===1){for(;++zt<Kt;)if((oe=ft[zt])!=null&&oe>=oe){$t=Me=oe;break}for(;++zt<Kt;)(oe=ft[zt])!=null&&($t>oe&&($t=oe),Me<oe&&(Me=oe))}else{for(;++zt<Kt;)if((oe=Tt.call(ft,ft[zt],zt))!=null&&oe>=oe){$t=Me=oe;break}for(;++zt<Kt;)(oe=Tt.call(ft,ft[zt],zt))!=null&&($t>oe&&($t=oe),Me<oe&&(Me=oe))}return[$t,Me]};function b(ft){return ft===null?NaN:+ft}function f(ft){return!isNaN(ft)}i.sum=function(ft,Tt){var zt=0,Kt=ft.length,$t,oe=-1;if(arguments.length===1)for(;++oe<Kt;)f($t=+ft[oe])&&(zt+=$t);else for(;++oe<Kt;)f($t=+Tt.call(ft,ft[oe],oe))&&(zt+=$t);return zt},i.mean=function(ft,Tt){var zt=0,Kt=ft.length,$t,oe=-1,Me=Kt;if(arguments.length===1)for(;++oe<Kt;)f($t=b(ft[oe]))?zt+=$t:--Me;else for(;++oe<Kt;)f($t=b(Tt.call(ft,ft[oe],oe)))?zt+=$t:--Me;if(Me)return zt/Me},i.quantile=function(ft,Tt){var zt=(ft.length-1)*Tt+1,Kt=Math.floor(zt),$t=+ft[Kt-1],oe=zt-Kt;return oe?$t+oe*(ft[Kt]-$t):$t},i.median=function(ft,Tt){var zt=[],Kt=ft.length,$t,oe=-1;if(arguments.length===1)for(;++oe<Kt;)f($t=b(ft[oe]))&&zt.push($t);else for(;++oe<Kt;)f($t=b(Tt.call(ft,ft[oe],oe)))&&zt.push($t);if(zt.length)return i.quantile(zt.sort(h),.5)},i.variance=function(ft,Tt){var zt=ft.length,Kt=0,$t,oe,Me=0,we=-1,He=0;if(arguments.length===1)for(;++we<zt;)f($t=b(ft[we]))&&(oe=$t-Kt,Kt+=oe/++He,Me+=oe*($t-Kt));else for(;++we<zt;)f($t=b(Tt.call(ft,ft[we],we)))&&(oe=$t-Kt,Kt+=oe/++He,Me+=oe*($t-Kt));if(He>1)return Me/(He-1)},i.deviation=function(){var ft=i.variance.apply(this,arguments);return ft&&Math.sqrt(ft)};function k(ft){return{left:function(Tt,zt,Kt,$t){for(arguments.length<3&&(Kt=0),arguments.length<4&&($t=Tt.length);Kt<$t;){var oe=Kt+$t>>>1;ft(Tt[oe],zt)<0?Kt=oe+1:$t=oe}return Kt},right:function(Tt,zt,Kt,$t){for(arguments.length<3&&(Kt=0),arguments.length<4&&($t=Tt.length);Kt<$t;){var oe=Kt+$t>>>1;ft(Tt[oe],zt)>0?$t=oe:Kt=oe+1}return Kt}}}var a=k(h);i.bisectLeft=a.left,i.bisect=i.bisectRight=a.right,i.bisector=function(ft){return k(ft.length===1?function(Tt,zt){return h(ft(Tt),zt)}:ft)},i.shuffle=function(ft,Tt,zt){(Kt=arguments.length)<3&&(zt=ft.length,Kt<2&&(Tt=0));for(var Kt=zt-Tt,$t,oe;Kt;)oe=Math.random()*Kt--|0,$t=ft[Kt+Tt],ft[Kt+Tt]=ft[oe+Tt],ft[oe+Tt]=$t;return ft},i.permute=function(ft,Tt){for(var zt=Tt.length,Kt=new Array(zt);zt--;)Kt[zt]=ft[Tt[zt]];return Kt},i.pairs=function(ft){for(var Tt=0,zt=ft.length-1,Kt=ft[0],$t=new Array(zt<0?0:zt);Tt<zt;)$t[Tt]=[Kt,Kt=ft[++Tt]];return $t},i.transpose=function(ft){if(!(oe=ft.length))return[];for(var Tt=-1,zt=i.min(ft,c),Kt=new Array(zt);++Tt<zt;)for(var $t=-1,oe,Me=Kt[Tt]=new Array(oe);++$t<oe;)Me[$t]=ft[$t][Tt];return Kt};function c(ft){return ft.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(ft){var Tt=[];for(var zt in ft)Tt.push(zt);return Tt},i.values=function(ft){var Tt=[];for(var zt in ft)Tt.push(ft[zt]);return Tt},i.entries=function(ft){var Tt=[];for(var zt in ft)Tt.push({key:zt,value:ft[zt]});return Tt},i.merge=function(ft){for(var Tt=ft.length,zt,Kt=-1,$t=0,oe,Me;++Kt<Tt;)$t+=ft[Kt].length;for(oe=new Array($t);--Tt>=0;)for(Me=ft[Tt],zt=Me.length;--zt>=0;)oe[--$t]=Me[zt];return oe};var p=Math.abs;i.range=function(ft,Tt,zt){if(arguments.length<3&&(zt=1,arguments.length<2&&(Tt=ft,ft=0)),(Tt-ft)/zt===1/0)throw new Error("infinite range");var Kt=[],$t=w(p(zt)),oe=-1,Me;if(ft*=$t,Tt*=$t,zt*=$t,zt<0)for(;(Me=ft+zt*++oe)>Tt;)Kt.push(Me/$t);else for(;(Me=ft+zt*++oe)<Tt;)Kt.push(Me/$t);return Kt};function w(ft){for(var Tt=1;ft*Tt%1;)Tt*=10;return Tt}function S(ft,Tt){for(var zt in Tt)Object.defineProperty(ft.prototype,zt,{value:Tt[zt],enumerable:!1})}i.map=function(ft,Tt){var zt=new _;if(ft instanceof _)ft.forEach(function(we,He){zt.set(we,He)});else if(Array.isArray(ft)){var Kt=-1,$t=ft.length,oe;if(arguments.length===1)for(;++Kt<$t;)zt.set(Kt,ft[Kt]);else for(;++Kt<$t;)zt.set(Tt.call(ft,oe=ft[Kt],Kt),oe)}else for(var Me in ft)zt.set(Me,ft[Me]);return zt};function _(){this._=Object.create(null)}var T="__proto__",P="\0";S(_,{has:L,get:function(ft){return this._[u(ft)]},set:function(ft,Tt){return this._[u(ft)]=Tt},remove:A,keys:R,values:function(){var ft=[];for(var Tt in this._)ft.push(this._[Tt]);return ft},entries:function(){var ft=[];for(var Tt in this._)ft.push({key:g(Tt),value:this._[Tt]});return ft},size:O,empty:N,forEach:function(ft){for(var Tt in this._)ft.call(this,g(Tt),this._[Tt])}});function u(ft){return(ft+="")===T||ft[0]===P?P+ft:ft}function g(ft){return(ft+="")[0]===P?ft.slice(1):ft}function L(ft){return u(ft)in this._}function A(ft){return(ft=u(ft))in this._&&delete this._[ft]}function R(){var ft=[];for(var Tt in this._)ft.push(g(Tt));return ft}function O(){var ft=0;for(var Tt in this._)++ft;return ft}function N(){for(var ft in this._)return!1;return!0}i.nest=function(){var ft={},Tt=[],zt=[],Kt,$t;function oe(we,He,Ve){if(Ve>=Tt.length)return $t?$t.call(ft,He):Kt?He.sort(Kt):He;for(var tr=-1,Ar=He.length,Lr=Tt[Ve++],Yr,on,Pr,jr=new _,Zr;++tr<Ar;)(Zr=jr.get(Yr=Lr(on=He[tr])))?Zr.push(on):jr.set(Yr,[on]);return we?(on=we(),Pr=function(cn,hn){on.set(cn,oe(we,hn,Ve))}):(on={},Pr=function(cn,hn){on[cn]=oe(we,hn,Ve)}),jr.forEach(Pr),on}function Me(we,He){if(He>=Tt.length)return we;var Ve=[],tr=zt[He++];return we.forEach(function(Ar,Lr){Ve.push({key:Ar,values:Me(Lr,He)})}),tr?Ve.sort(function(Ar,Lr){return tr(Ar.key,Lr.key)}):Ve}return ft.map=function(we,He){return oe(He,we,0)},ft.entries=function(we){return Me(oe(i.map,we,0),0)},ft.key=function(we){return Tt.push(we),ft},ft.sortKeys=function(we){return zt[Tt.length-1]=we,ft},ft.sortValues=function(we){return Kt=we,ft},ft.rollup=function(we){return $t=we,ft},ft},i.set=function(ft){var Tt=new z;if(ft)for(var zt=0,Kt=ft.length;zt<Kt;++zt)Tt.add(ft[zt]);return Tt};function z(){this._=Object.create(null)}S(z,{has:L,add:function(ft){return this._[u(ft+="")]=!0,ft},remove:A,values:R,size:O,empty:N,forEach:function(ft){for(var Tt in this._)ft.call(this,g(Tt))}}),i.behavior={};function F(ft){return ft}i.rebind=function(ft,Tt){for(var zt=1,Kt=arguments.length,$t;++zt<Kt;)ft[$t=arguments[zt]]=I(ft,Tt,Tt[$t]);return ft};function I(ft,Tt,zt){return function(){var Kt=zt.apply(Tt,arguments);return Kt===Tt?ft:Kt}}function j(ft,Tt){if(Tt in ft)return Tt;Tt=Tt.charAt(0).toUpperCase()+Tt.slice(1);for(var zt=0,Kt=V.length;zt<Kt;++zt){var $t=V[zt]+Tt;if($t in ft)return $t}}var V=["webkit","ms","moz","Moz","o","O"];function W(){}i.dispatch=function(){for(var ft=new K,Tt=-1,zt=arguments.length;++Tt<zt;)ft[arguments[Tt]]=et(ft);return ft};function K(){}K.prototype.on=function(ft,Tt){var zt=ft.indexOf("."),Kt="";if(zt>=0&&(Kt=ft.slice(zt+1),ft=ft.slice(0,zt)),ft)return arguments.length<2?this[ft].on(Kt):this[ft].on(Kt,Tt);if(arguments.length===2){if(Tt==null)for(ft in this)this.hasOwnProperty(ft)&&this[ft].on(Kt,null);return this}};function et(ft){var Tt=[],zt=new _;function Kt(){for(var $t=Tt,oe=-1,Me=$t.length,we;++oe<Me;)(we=$t[oe].on)&&we.apply(this,arguments);return ft}return Kt.on=function($t,oe){var Me=zt.get($t),we;return arguments.length<2?Me&&Me.on:(Me&&(Me.on=null,Tt=Tt.slice(0,we=Tt.indexOf(Me)).concat(Tt.slice(we+1)),zt.remove($t)),oe&&Tt.push(zt.set($t,{on:oe})),ft)},Kt}i.event=null;function lt(){i.event.preventDefault()}function ot(){for(var ft=i.event,Tt;Tt=ft.sourceEvent;)ft=Tt;return ft}function q(ft){for(var Tt=new K,zt=0,Kt=arguments.length;++zt<Kt;)Tt[arguments[zt]]=et(Tt);return Tt.of=function($t,oe){return function(Me){try{var we=Me.sourceEvent=i.event;Me.target=ft,i.event=Me,Tt[Me.type].apply($t,oe)}finally{i.event=we}}},Tt}i.requote=function(ft){return ft.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,it={}.__proto__?function(ft,Tt){ft.__proto__=Tt}:function(ft,Tt){for(var zt in Tt)ft[zt]=Tt[zt]};function Z(ft){return it(ft,G),ft}var tt=function(ft,Tt){return Tt.querySelector(ft)},st=function(ft,Tt){return Tt.querySelectorAll(ft)},Q=function(ft,Tt){var zt=ft.matches||ft[j(ft,"matchesSelector")];return Q=function(Kt,$t){return zt.call(Kt,$t)},Q(ft,Tt)};typeof Sizzle=="function"&&(tt=function(ft,Tt){return Sizzle(ft,Tt)[0]||null},st=Sizzle,Q=Sizzle.matchesSelector),i.selection=function(){return i.select(d.documentElement)};var G=i.selection.prototype=[];G.select=function(ft){var Tt=[],zt,Kt,$t,oe;ft=ut(ft);for(var Me=-1,we=this.length;++Me<we;){Tt.push(zt=[]),zt.parentNode=($t=this[Me]).parentNode;for(var He=-1,Ve=$t.length;++He<Ve;)(oe=$t[He])?(zt.push(Kt=ft.call(oe,oe.__data__,He,Me)),Kt&&"__data__"in oe&&(Kt.__data__=oe.__data__)):zt.push(null)}return Z(Tt)};function ut(ft){return typeof ft=="function"?ft:function(){return tt(ft,this)}}G.selectAll=function(ft){var Tt=[],zt,Kt;ft=at(ft);for(var $t=-1,oe=this.length;++$t<oe;)for(var Me=this[$t],we=-1,He=Me.length;++we<He;)(Kt=Me[we])&&(Tt.push(zt=m(ft.call(Kt,Kt.__data__,we,$t))),zt.parentNode=Kt);return Z(Tt)};function at(ft){return typeof ft=="function"?ft:function(){return st(ft,this)}}var dt="http://www.w3.org/1999/xhtml",gt={svg:"http://www.w3.org/2000/svg",xhtml:dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:gt,qualify:function(ft){var Tt=ft.indexOf(":"),zt=ft;return Tt>=0&&(zt=ft.slice(0,Tt))!=="xmlns"&&(ft=ft.slice(Tt+1)),gt.hasOwnProperty(zt)?{space:gt[zt],local:ft}:ft}},G.attr=function(ft,Tt){if(arguments.length<2){if(typeof ft=="string"){var zt=this.node();return ft=i.ns.qualify(ft),ft.local?zt.getAttributeNS(ft.space,ft.local):zt.getAttribute(ft)}for(Tt in ft)this.each(wt(Tt,ft[Tt]));return this}return this.each(wt(ft,Tt))};function wt(ft,Tt){ft=i.ns.qualify(ft);function zt(){this.removeAttribute(ft)}function Kt(){this.removeAttributeNS(ft.space,ft.local)}function $t(){this.setAttribute(ft,Tt)}function oe(){this.setAttributeNS(ft.space,ft.local,Tt)}function Me(){var He=Tt.apply(this,arguments);He==null?this.removeAttribute(ft):this.setAttribute(ft,He)}function we(){var He=Tt.apply(this,arguments);He==null?this.removeAttributeNS(ft.space,ft.local):this.setAttributeNS(ft.space,ft.local,He)}return Tt==null?ft.local?Kt:zt:typeof Tt=="function"?ft.local?we:Me:ft.local?oe:$t}function kt(ft){return ft.trim().replace(/\s+/g," ")}G.classed=function(ft,Tt){if(arguments.length<2){if(typeof ft=="string"){var zt=this.node(),Kt=(ft=bt(ft)).length,$t=-1;if(Tt=zt.classList){for(;++$t<Kt;)if(!Tt.contains(ft[$t]))return!1}else for(Tt=zt.getAttribute("class");++$t<Kt;)if(!Ot(ft[$t]).test(Tt))return!1;return!0}for(Tt in ft)this.each(_t(Tt,ft[Tt]));return this}return this.each(_t(ft,Tt))};function Ot(ft){return new RegExp("(?:^|\\s+)"+i.requote(ft)+"(?:\\s+|$)","g")}function bt(ft){return(ft+"").trim().split(/^|\s+/)}function _t(ft,Tt){ft=bt(ft).map(mt);var zt=ft.length;function Kt(){for(var oe=-1;++oe<zt;)ft[oe](this,Tt)}function $t(){for(var oe=-1,Me=Tt.apply(this,arguments);++oe<zt;)ft[oe](this,Me)}return typeof Tt=="function"?$t:Kt}function mt(ft){var Tt=Ot(ft);return function(zt,Kt){if($t=zt.classList)return Kt?$t.add(ft):$t.remove(ft);var $t=zt.getAttribute("class")||"";Kt?(Tt.lastIndex=0,Tt.test($t)||zt.setAttribute("class",kt($t+" "+ft))):zt.setAttribute("class",kt($t.replace(Tt," ")))}}G.style=function(ft,Tt,zt){var Kt=arguments.length;if(Kt<3){if(typeof ft!="string"){Kt<2&&(Tt="");for(zt in ft)this.each(Pt(zt,ft[zt],Tt));return this}if(Kt<2){var $t=this.node();return r($t).getComputedStyle($t,null).getPropertyValue(ft)}zt=""}return this.each(Pt(ft,Tt,zt))};function Pt(ft,Tt,zt){function Kt(){this.style.removeProperty(ft)}function $t(){this.style.setProperty(ft,Tt,zt)}function oe(){var Me=Tt.apply(this,arguments);Me==null?this.style.removeProperty(ft):this.style.setProperty(ft,Me,zt)}return Tt==null?Kt:typeof Tt=="function"?oe:$t}G.property=function(ft,Tt){if(arguments.length<2){if(typeof ft=="string")return this.node()[ft];for(Tt in ft)this.each(Rt(Tt,ft[Tt]));return this}return this.each(Rt(ft,Tt))};function Rt(ft,Tt){function zt(){delete this[ft]}function Kt(){this[ft]=Tt}function $t(){var oe=Tt.apply(this,arguments);oe==null?delete this[ft]:this[ft]=oe}return Tt==null?zt:typeof Tt=="function"?$t:Kt}G.text=function(ft){return arguments.length?this.each(typeof ft=="function"?function(){var Tt=ft.apply(this,arguments);this.textContent=Tt??""}:ft==null?function(){this.textContent=""}:function(){this.textContent=ft}):this.node().textContent},G.html=function(ft){return arguments.length?this.each(typeof ft=="function"?function(){var Tt=ft.apply(this,arguments);this.innerHTML=Tt??""}:ft==null?function(){this.innerHTML=""}:function(){this.innerHTML=ft}):this.node().innerHTML},G.append=function(ft){return ft=Ht(ft),this.select(function(){return this.appendChild(ft.apply(this,arguments))})};function Ht(ft){function Tt(){var Kt=this.ownerDocument,$t=this.namespaceURI;return $t===dt&&Kt.documentElement.namespaceURI===dt?Kt.createElement(ft):Kt.createElementNS($t,ft)}function zt(){return this.ownerDocument.createElementNS(ft.space,ft.local)}return typeof ft=="function"?ft:(ft=i.ns.qualify(ft)).local?zt:Tt}G.insert=function(ft,Tt){return ft=Ht(ft),Tt=ut(Tt),this.select(function(){return this.insertBefore(ft.apply(this,arguments),Tt.apply(this,arguments)||null)})},G.remove=function(){return this.each(Dt)};function Dt(){var ft=this.parentNode;ft&&ft.removeChild(this)}G.data=function(ft,Tt){var zt=-1,Kt=this.length,$t,oe;if(!arguments.length){for(ft=new Array(Kt=($t=this[0]).length);++zt<Kt;)(oe=$t[zt])&&(ft[zt]=oe.__data__);return ft}function Me(tr,Ar){var Lr,Yr=tr.length,on=Ar.length,Pr=Math.min(Yr,on),jr=new Array(on),Zr=new Array(on),cn=new Array(Yr),hn,$r;if(Tt){var jn=new _,Qn=new Array(Yr),ui;for(Lr=-1;++Lr<Yr;)(hn=tr[Lr])&&(jn.has(ui=Tt.call(hn,hn.__data__,Lr))?cn[Lr]=hn:jn.set(ui,hn),Qn[Lr]=ui);for(Lr=-1;++Lr<on;)(hn=jn.get(ui=Tt.call(Ar,$r=Ar[Lr],Lr)))?hn!==!0&&(jr[Lr]=hn,hn.__data__=$r):Zr[Lr]=Xt($r),jn.set(ui,!0);for(Lr=-1;++Lr<Yr;)Lr in Qn&&jn.get(Qn[Lr])!==!0&&(cn[Lr]=tr[Lr])}else{for(Lr=-1;++Lr<Pr;)hn=tr[Lr],$r=Ar[Lr],hn?(hn.__data__=$r,jr[Lr]=hn):Zr[Lr]=Xt($r);for(;Lr<on;++Lr)Zr[Lr]=Xt(Ar[Lr]);for(;Lr<Yr;++Lr)cn[Lr]=tr[Lr]}Zr.update=jr,Zr.parentNode=jr.parentNode=cn.parentNode=tr.parentNode,we.push(Zr),He.push(jr),Ve.push(cn)}var we=ie([]),He=Z([]),Ve=Z([]);if(typeof ft=="function")for(;++zt<Kt;)Me($t=this[zt],ft.call($t,$t.parentNode.__data__,zt));else for(;++zt<Kt;)Me($t=this[zt],ft);return He.enter=function(){return we},He.exit=function(){return Ve},He};function Xt(ft){return{__data__:ft}}G.datum=function(ft){return arguments.length?this.property("__data__",ft):this.property("__data__")},G.filter=function(ft){var Tt=[],zt,Kt,$t;typeof ft!="function"&&(ft=se(ft));for(var oe=0,Me=this.length;oe<Me;oe++){Tt.push(zt=[]),zt.parentNode=(Kt=this[oe]).parentNode;for(var we=0,He=Kt.length;we<He;we++)($t=Kt[we])&&ft.call($t,$t.__data__,we,oe)&&zt.push($t)}return Z(Tt)};function se(ft){return function(){return Q(this,ft)}}G.order=function(){for(var ft=-1,Tt=this.length;++ft<Tt;)for(var zt=this[ft],Kt=zt.length-1,$t=zt[Kt],oe;--Kt>=0;)(oe=zt[Kt])&&($t&&$t!==oe.nextSibling&&$t.parentNode.insertBefore(oe,$t),$t=oe);return this},G.sort=function(ft){ft=Yt.apply(this,arguments);for(var Tt=-1,zt=this.length;++Tt<zt;)this[Tt].sort(ft);return this.order()};function Yt(ft){return arguments.length||(ft=h),function(Tt,zt){return Tt&&zt?ft(Tt.__data__,zt.__data__):!Tt-!zt}}G.each=function(ft){return ue(this,function(Tt,zt,Kt){ft.call(Tt,Tt.__data__,zt,Kt)})};function ue(ft,Tt){for(var zt=0,Kt=ft.length;zt<Kt;zt++)for(var $t=ft[zt],oe=0,Me=$t.length,we;oe<Me;oe++)(we=$t[oe])&&Tt(we,oe,zt);return ft}G.call=function(ft){var Tt=m(arguments);return ft.apply(Tt[0]=this,Tt),this},G.empty=function(){return!this.node()},G.node=function(){for(var ft=0,Tt=this.length;ft<Tt;ft++)for(var zt=this[ft],Kt=0,$t=zt.length;Kt<$t;Kt++){var oe=zt[Kt];if(oe)return oe}return null},G.size=function(){var ft=0;return ue(this,function(){++ft}),ft};function ie(ft){return it(ft,fe),ft}var fe=[];i.selection.enter=ie,i.selection.enter.prototype=fe,fe.append=G.append,fe.empty=G.empty,fe.node=G.node,fe.call=G.call,fe.size=G.size,fe.select=function(ft){for(var Tt=[],zt,Kt,$t,oe,Me,we=-1,He=this.length;++we<He;){$t=(oe=this[we]).update,Tt.push(zt=[]),zt.parentNode=oe.parentNode;for(var Ve=-1,tr=oe.length;++Ve<tr;)(Me=oe[Ve])?(zt.push($t[Ve]=Kt=ft.call(oe.parentNode,Me.__data__,Ve,we)),Kt.__data__=Me.__data__):zt.push(null)}return Z(Tt)},fe.insert=function(ft,Tt){return arguments.length<2&&(Tt=ce(this)),G.insert.call(this,ft,Tt)};function ce(ft){var Tt,zt;return function(Kt,$t,oe){var Me=ft[oe].update,we=Me.length,He;for(oe!=zt&&(zt=oe,Tt=0),$t>=Tt&&(Tt=$t+1);!(He=Me[Tt])&&++Tt<we;);return He}}i.select=function(ft){var Tt;return typeof ft=="string"?(Tt=[tt(ft,d)],Tt.parentNode=d.documentElement):(Tt=[ft],Tt.parentNode=v(ft)),Z([Tt])},i.selectAll=function(ft){var Tt;return typeof ft=="string"?(Tt=m(st(ft,d)),Tt.parentNode=d.documentElement):(Tt=m(ft),Tt.parentNode=null),Z([Tt])},G.on=function(ft,Tt,zt){var Kt=arguments.length;if(Kt<3){if(typeof ft!="string"){Kt<2&&(Tt=!1);for(zt in ft)this.each(ye(zt,ft[zt],Tt));return this}if(Kt<2)return(Kt=this.node()["__on"+ft])&&Kt._;zt=!1}return this.each(ye(ft,Tt,zt))};function ye(ft,Tt,zt){var Kt="__on"+ft,$t=ft.indexOf("."),oe=Te;$t>0&&(ft=ft.slice(0,$t));var Me=de.get(ft);Me&&(ft=Me,oe=Et);function we(){var tr=this[Kt];tr&&(this.removeEventListener(ft,tr,tr.$),delete this[Kt])}function He(){var tr=oe(Tt,m(arguments));we.call(this),this.addEventListener(ft,this[Kt]=tr,tr.$=zt),tr._=Tt}function Ve(){var tr=new RegExp("^__on([^.]+)"+i.requote(ft)+"$"),Ar;for(var Lr in this)if(Ar=Lr.match(tr)){var Yr=this[Lr];this.removeEventListener(Ar[1],Yr,Yr.$),delete this[Lr]}}return $t?Tt?He:we:Tt?W:Ve}var de=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});d&&de.forEach(function(ft){"on"+ft in d&&de.remove(ft)});function Te(ft,Tt){return function(zt){var Kt=i.event;i.event=zt,Tt[0]=this.__data__;try{ft.apply(this,Tt)}finally{i.event=Kt}}}function Et(ft,Tt){var zt=Te(ft,Tt);return function(Kt){var $t=this,oe=Kt.relatedTarget;(!oe||oe!==$t&&!(oe.compareDocumentPosition($t)&8))&&zt.call($t,Kt)}}var Vt,te=0;function Jt(ft){var Tt=".dragsuppress-"+ ++te,zt="click"+Tt,Kt=i.select(r(ft)).on("touchmove"+Tt,lt).on("dragstart"+Tt,lt).on("selectstart"+Tt,lt);if(Vt==null&&(Vt="onselectstart"in ft?!1:j(ft.style,"userSelect")),Vt){var $t=v(ft).style,oe=$t[Vt];$t[Vt]="none"}return function(Me){if(Kt.on(Tt,null),Vt&&($t[Vt]=oe),Me){var we=function(){Kt.on(zt,null)};Kt.on(zt,function(){lt(),we()},!0),setTimeout(we,0)}}}i.mouse=function(ft){return It(ft,ot())};var Ut=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function It(ft,Tt){Tt.changedTouches&&(Tt=Tt.changedTouches[0]);var zt=ft.ownerSVGElement||ft;if(zt.createSVGPoint){var Kt=zt.createSVGPoint();if(Ut<0){var $t=r(ft);if($t.scrollX||$t.scrollY){zt=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var oe=zt[0][0].getScreenCTM();Ut=!(oe.f||oe.e),zt.remove()}}return Ut?(Kt.x=Tt.pageX,Kt.y=Tt.pageY):(Kt.x=Tt.clientX,Kt.y=Tt.clientY),Kt=Kt.matrixTransform(ft.getScreenCTM().inverse()),[Kt.x,Kt.y]}var Me=ft.getBoundingClientRect();return[Tt.clientX-Me.left-ft.clientLeft,Tt.clientY-Me.top-ft.clientTop]}i.touch=function(ft,Tt,zt){if(arguments.length<3&&(zt=Tt,Tt=ot().changedTouches),Tt){for(var Kt=0,$t=Tt.length,oe;Kt<$t;++Kt)if((oe=Tt[Kt]).identifier===zt)return It(ft,oe)}},i.behavior.drag=function(){var ft=q($t,"drag","dragstart","dragend"),Tt=null,zt=oe(W,i.mouse,r,"mousemove","mouseup"),Kt=oe(pt,i.touch,F,"touchmove","touchend");function $t(){this.on("mousedown.drag",zt).on("touchstart.drag",Kt)}function oe(Me,we,He,Ve,tr){return function(){var Ar=this,Lr=i.event.target.correspondingElement||i.event.target,Yr=Ar.parentNode,on=ft.of(Ar,arguments),Pr=0,jr=Me(),Zr=".drag"+(jr==null?"":"-"+jr),cn,hn=i.select(He(Lr)).on(Ve+Zr,Qn).on(tr+Zr,ui),$r=Jt(Lr),jn=we(Yr,jr);Tt?(cn=Tt.apply(Ar,arguments),cn=[cn.x-jn[0],cn.y-jn[1]]):cn=[0,0],on({type:"dragstart"});function Qn(){var Jn=we(Yr,jr),ii,ci;Jn&&(ii=Jn[0]-jn[0],ci=Jn[1]-jn[1],Pr|=ii|ci,jn=Jn,on({type:"drag",x:Jn[0]+cn[0],y:Jn[1]+cn[1],dx:ii,dy:ci}))}function ui(){we(Yr,jr)&&(hn.on(Ve+Zr,null).on(tr+Zr,null),$r(Pr),on({type:"dragend"}))}}}return $t.origin=function(Me){return arguments.length?(Tt=Me,$t):Tt},i.rebind($t,ft,"on")};function pt(){return i.event.changedTouches[0].identifier}i.touches=function(ft,Tt){return arguments.length<2&&(Tt=ot().touches),Tt?m(Tt).map(function(zt){var Kt=It(ft,zt);return Kt.identifier=zt.identifier,Kt}):[]};var xt=1e-6,Ct=xt*xt,At=Math.PI,Ft=2*At,Wt=Ft-xt,Qt=At/2,he=At/180,ve=180/At;function Je(ft,Tt,zt){return(Tt[0]-ft[0])*(zt[1]-ft[1])-(Tt[1]-ft[1])*(zt[0]-ft[0])}function Ue(ft){return ft>1?Qt:ft<-1?-Qt:Math.asin(ft)}function ke(ft){return((ft=Math.exp(ft))-1/ft)/2}function Le(ft){return((ft=Math.exp(ft))+1/ft)/2}function Ge(ft){return((ft=Math.exp(2*ft))-1)/(ft+1)}var mr=Math.SQRT2,xe=2,Xe=4;i.interpolateZoom=function(ft,Tt){var zt=ft[0],Kt=ft[1],$t=ft[2],oe=Tt[0],Me=Tt[1],we=Tt[2],He=oe-zt,Ve=Me-Kt,tr=He*He+Ve*Ve,Ar,Lr;if(tr<Ct)Lr=Math.log(we/$t)/mr,Ar=function(cn){return[zt+cn*He,Kt+cn*Ve,$t*Math.exp(mr*cn*Lr)]};else{var Yr=Math.sqrt(tr),on=(we*we-$t*$t+Xe*tr)/(2*$t*xe*Yr),Pr=(we*we-$t*$t-Xe*tr)/(2*we*xe*Yr),jr=Math.log(Math.sqrt(on*on+1)-on),Zr=Math.log(Math.sqrt(Pr*Pr+1)-Pr);Lr=(Zr-jr)/mr,Ar=function(cn){var hn=cn*Lr,$r=Le(jr),jn=$t/(xe*Yr)*($r*Ge(mr*hn+jr)-ke(jr));return[zt+jn*He,Kt+jn*Ve,$t*$r/Le(mr*hn+jr)]}}return Ar.duration=Lr*1e3,Ar},i.behavior.zoom=function(){var ft={x:0,y:0,k:1},Tt,zt,Kt,$t=[960,500],oe=Ye,Me=250,we=0,He="mousedown.zoom",Ve="mousemove.zoom",tr="mouseup.zoom",Ar,Lr="touchstart.zoom",Yr,on=q(hn,"zoomstart","zoom","zoomend"),Pr,jr,Zr,cn;rr||(rr="onwheel"in d?(_r=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(_r=function(){return i.event.wheelDelta},"mousewheel"):(_r=function(){return-i.event.detail},"MozMousePixelScroll"));function hn(Yn){Yn.on(He,ji).on(rr+".zoom",Na).on("dblclick.zoom",aa).on(Lr,ra)}hn.event=function(Yn){Yn.each(function(){var Ui=on.of(this,arguments),wi=ft;Cr?i.select(this).transition().each("start.zoom",function(){ft=this.__chart__||{x:0,y:0,k:1},ci(Ui)}).tween("zoom:zoom",function(){var Gi=$t[0],xa=$t[1],na=zt?zt[0]:Gi/2,to=zt?zt[1]:xa/2,eo=i.interpolateZoom([(na-ft.x)/ft.k,(to-ft.y)/ft.k,Gi/ft.k],[(na-wi.x)/wi.k,(to-wi.y)/wi.k,Gi/wi.k]);return function(oo){var ba=eo(oo),xo=Gi/ba[2];this.__chart__=ft={x:na-ba[0]*xo,y:to-ba[1]*xo,k:xo},Vi(Ui)}}).each("interrupt.zoom",function(){ki(Ui)}).each("end.zoom",function(){ki(Ui)}):(this.__chart__=ft,ci(Ui),Vi(Ui),ki(Ui))})},hn.translate=function(Yn){return arguments.length?(ft={x:+Yn[0],y:+Yn[1],k:ft.k},ii(),hn):[ft.x,ft.y]},hn.scale=function(Yn){return arguments.length?(ft={x:ft.x,y:ft.y,k:null},Qn(+Yn),ii(),hn):ft.k},hn.scaleExtent=function(Yn){return arguments.length?(oe=Yn==null?Ye:[+Yn[0],+Yn[1]],hn):oe},hn.center=function(Yn){return arguments.length?(Kt=Yn&&[+Yn[0],+Yn[1]],hn):Kt},hn.size=function(Yn){return arguments.length?($t=Yn&&[+Yn[0],+Yn[1]],hn):$t},hn.duration=function(Yn){return arguments.length?(Me=+Yn,hn):Me},hn.x=function(Yn){return arguments.length?(jr=Yn,Pr=Yn.copy(),ft={x:0,y:0,k:1},hn):jr},hn.y=function(Yn){return arguments.length?(cn=Yn,Zr=Yn.copy(),ft={x:0,y:0,k:1},hn):cn};function $r(Yn){return[(Yn[0]-ft.x)/ft.k,(Yn[1]-ft.y)/ft.k]}function jn(Yn){return[Yn[0]*ft.k+ft.x,Yn[1]*ft.k+ft.y]}function Qn(Yn){ft.k=Math.max(oe[0],Math.min(oe[1],Yn))}function ui(Yn,Ui){Ui=jn(Ui),ft.x+=Yn[0]-Ui[0],ft.y+=Yn[1]-Ui[1]}function Jn(Yn,Ui,wi,Gi){Yn.__chart__={x:ft.x,y:ft.y,k:ft.k},Qn(Math.pow(2,Gi)),ui(zt=Ui,wi),Yn=i.select(Yn),Me>0&&(Yn=Yn.transition().duration(Me)),Yn.call(hn.event)}function ii(){jr&&jr.domain(Pr.range().map(function(Yn){return(Yn-ft.x)/ft.k}).map(Pr.invert)),cn&&cn.domain(Zr.range().map(function(Yn){return(Yn-ft.y)/ft.k}).map(Zr.invert))}function ci(Yn){we++||Yn({type:"zoomstart"})}function Vi(Yn){ii(),Yn({type:"zoom",scale:ft.k,translate:[ft.x,ft.y]})}function ki(Yn){--we||(Yn({type:"zoomend"}),zt=null)}function ji(){var Yn=this,Ui=on.of(Yn,arguments),wi=0,Gi=i.select(r(Yn)).on(Ve,to).on(tr,eo),xa=$r(i.mouse(Yn)),na=Jt(Yn);Ne.call(Yn),ci(Ui);function to(){wi=1,ui(i.mouse(Yn),xa),Vi(Ui)}function eo(){Gi.on(Ve,null).on(tr,null),na(wi),ki(Ui)}}function ra(){var Yn=this,Ui=on.of(Yn,arguments),wi={},Gi=0,xa,na=".zoom-"+i.event.changedTouches[0].identifier,to="touchmove"+na,eo="touchend"+na,oo=[],ba=i.select(Yn),xo=Jt(Yn);Mi(),ci(Ui),ba.on(He,null).on(Lr,Mi);function si(){var so=i.touches(Yn);return xa=ft.k,so.forEach(function(sa){sa.identifier in wi&&(wi[sa.identifier]=$r(sa))}),so}function Mi(){var so=i.event.target;i.select(so).on(to,Io).on(eo,jo),oo.push(so);for(var sa=i.event.changedTouches,Ga=0,ja=sa.length;Ga<ja;++Ga)wi[sa[Ga].identifier]=null;var bs=si(),Fs=Date.now();if(bs.length===1){if(Fs-Yr<500){var Sa=bs[0];Jn(Yn,Sa,wi[Sa.identifier],Math.floor(Math.log(ft.k)/Math.LN2)+1),lt()}Yr=Fs}else if(bs.length>1){var Sa=bs[0],tu=bs[1],Zi=Sa[0]-tu[0],Ea=Sa[1]-tu[1];Gi=Zi*Zi+Ea*Ea}}function Io(){var so=i.touches(Yn),sa,Ga,ja,bs;Ne.call(Yn);for(var Fs=0,Sa=so.length;Fs<Sa;++Fs,bs=null)if(ja=so[Fs],bs=wi[ja.identifier]){if(Ga)break;sa=ja,Ga=bs}if(bs){var tu=(tu=ja[0]-sa[0])*tu+(tu=ja[1]-sa[1])*tu,Zi=Gi&&Math.sqrt(tu/Gi);sa=[(sa[0]+ja[0])/2,(sa[1]+ja[1])/2],Ga=[(Ga[0]+bs[0])/2,(Ga[1]+bs[1])/2],Qn(Zi*xa)}Yr=null,ui(sa,Ga),Vi(Ui)}function jo(){if(i.event.touches.length){for(var so=i.event.changedTouches,sa=0,Ga=so.length;sa<Ga;++sa)delete wi[so[sa].identifier];for(var ja in wi)return void si()}i.selectAll(oo).on(na,null),ba.on(He,ji).on(Lr,ra),xo(),ki(Ui)}}function Na(){var Yn=on.of(this,arguments);Ar?clearTimeout(Ar):(Ne.call(this),Tt=$r(zt=Kt||i.mouse(this)),ci(Yn)),Ar=setTimeout(function(){Ar=null,ki(Yn)},50),lt(),Qn(Math.pow(2,_r()*.002)*ft.k),ui(zt,Tt),Vi(Yn)}function aa(){var Yn=i.mouse(this),Ui=Math.log(ft.k)/Math.LN2;Jn(this,Yn,$r(Yn),i.event.shiftKey?Math.ceil(Ui)-1:Math.floor(Ui)+1)}return i.rebind(hn,on,"on")};var Ye=[0,1/0],_r,rr;i.color=re;function re(){}re.prototype.toString=function(){return this.rgb()+""},i.hsl=le;function le(ft,Tt,zt){return this instanceof le?(this.h=+ft,this.s=+Tt,void(this.l=+zt)):arguments.length<2?ft instanceof le?new le(ft.h,ft.s,ft.l):dr(""+ft,fr,le):new le(ft,Tt,zt)}var me=le.prototype=new re;me.brighter=function(ft){return ft=Math.pow(.7,arguments.length?ft:1),new le(this.h,this.s,this.l/ft)},me.darker=function(ft){return ft=Math.pow(.7,arguments.length?ft:1),new le(this.h,this.s,ft*this.l)},me.rgb=function(){return Ee(this.h,this.s,this.l)};function Ee(ft,Tt,zt){var Kt,$t;ft=isNaN(ft)?0:(ft%=360)<0?ft+360:ft,Tt=isNaN(Tt)||Tt<0?0:Tt>1?1:Tt,zt=zt<0?0:zt>1?1:zt,$t=zt<=.5?zt*(1+Tt):zt+Tt-zt*Tt,Kt=2*zt-$t;function oe(we){return we>360?we-=360:we<0&&(we+=360),we<60?Kt+($t-Kt)*we/60:we<180?$t:we<240?Kt+($t-Kt)*(240-we)/60:Kt}function Me(we){return Math.round(oe(we)*255)}return new ir(Me(ft+120),Me(ft),Me(ft-120))}i.hcl=ze;function ze(ft,Tt,zt){return this instanceof ze?(this.h=+ft,this.c=+Tt,void(this.l=+zt)):arguments.length<2?ft instanceof ze?new ze(ft.h,ft.c,ft.l):ft instanceof Re?Ce(ft.l,ft.a,ft.b):Ce((ft=zr((ft=i.rgb(ft)).r,ft.g,ft.b)).l,ft.a,ft.b):new ze(ft,Tt,zt)}var Oe=ze.prototype=new re;Oe.brighter=function(ft){return new ze(this.h,this.c,Math.min(100,this.l+Ke*(arguments.length?ft:1)))},Oe.darker=function(ft){return new ze(this.h,this.c,Math.max(0,this.l-Ke*(arguments.length?ft:1)))},Oe.rgb=function(){return Fe(this.h,this.c,this.l).rgb()};function Fe(ft,Tt,zt){return isNaN(ft)&&(ft=0),isNaN(Tt)&&(Tt=0),new Re(zt,Math.cos(ft*=he)*Tt,Math.sin(ft)*Tt)}i.lab=Re;function Re(ft,Tt,zt){return this instanceof Re?(this.l=+ft,this.a=+Tt,void(this.b=+zt)):arguments.length<2?ft instanceof Re?new Re(ft.l,ft.a,ft.b):ft instanceof ze?Fe(ft.h,ft.c,ft.l):zr((ft=ir(ft)).r,ft.g,ft.b):new Re(ft,Tt,zt)}var Ke=18,or=.95047,pr=1,hr=1.08883,jt=Re.prototype=new re;jt.brighter=function(ft){return new Re(Math.min(100,this.l+Ke*(arguments.length?ft:1)),this.a,this.b)},jt.darker=function(ft){return new Re(Math.max(0,this.l-Ke*(arguments.length?ft:1)),this.a,this.b)},jt.rgb=function(){return Gt(this.l,this.a,this.b)};function Gt(ft,Tt,zt){var Kt=(ft+16)/116,$t=Kt+Tt/500,oe=Kt-zt/200;return $t=Ie($t)*or,Kt=Ie(Kt)*pr,oe=Ie(oe)*hr,new ir($e(3.2404542*$t-1.5371385*Kt-.4985314*oe),$e(-.969266*$t+1.8760108*Kt+.041556*oe),$e(.0556434*$t-.2040259*Kt+1.0572252*oe))}function Ce(ft,Tt,zt){return ft>0?new ze(Math.atan2(zt,Tt)*ve,Math.sqrt(Tt*Tt+zt*zt),ft):new ze(NaN,NaN,ft)}function Ie(ft){return ft>.206893034?ft*ft*ft:(ft-.13793103448275862)/7.787037}function We(ft){return ft>.008856?Math.pow(ft,.3333333333333333):7.787037*ft+.13793103448275862}function $e(ft){return Math.round(255*(ft<=.00304?12.92*ft:1.055*Math.pow(ft,.4166666666666667)-.055))}i.rgb=ir;function ir(ft,Tt,zt){return this instanceof ir?(this.r=~~ft,this.g=~~Tt,void(this.b=~~zt)):arguments.length<2?ft instanceof ir?new ir(ft.r,ft.g,ft.b):dr(""+ft,ir,Ee):new ir(ft,Tt,zt)}function er(ft){return new ir(ft>>16,ft>>8&255,ft&255)}function De(ft){return er(ft)+""}var lr=ir.prototype=new re;lr.brighter=function(ft){ft=Math.pow(.7,arguments.length?ft:1);var Tt=this.r,zt=this.g,Kt=this.b,$t=30;return!Tt&&!zt&&!Kt?new ir($t,$t,$t):(Tt&&Tt<$t&&(Tt=$t),zt&&zt<$t&&(zt=$t),Kt&&Kt<$t&&(Kt=$t),new ir(Math.min(255,Tt/ft),Math.min(255,zt/ft),Math.min(255,Kt/ft)))},lr.darker=function(ft){return ft=Math.pow(.7,arguments.length?ft:1),new ir(ft*this.r,ft*this.g,ft*this.b)},lr.hsl=function(){return fr(this.r,this.g,this.b)},lr.toString=function(){return"#"+vr(this.r)+vr(this.g)+vr(this.b)};function vr(ft){return ft<16?"0"+Math.max(0,ft).toString(16):Math.min(255,ft).toString(16)}function dr(ft,Tt,zt){var Kt=0,$t=0,oe=0,Me,we,He;if(Me=/([a-z]+)\((.*)\)/.exec(ft=ft.toLowerCase()),Me)switch(we=Me[2].split(","),Me[1]){case"hsl":return zt(parseFloat(we[0]),parseFloat(we[1])/100,parseFloat(we[2])/100);case"rgb":return Tt(Ir(we[0]),Ir(we[1]),Ir(we[2]))}return(He=sn.get(ft))?Tt(He.r,He.g,He.b):(ft!=null&&ft.charAt(0)==="#"&&!isNaN(He=parseInt(ft.slice(1),16))&&(ft.length===4?(Kt=(He&3840)>>4,Kt=Kt>>4|Kt,$t=He&240,$t=$t>>4|$t,oe=He&15,oe=oe<<4|oe):ft.length===7&&(Kt=(He&16711680)>>16,$t=(He&65280)>>8,oe=He&255)),Tt(Kt,$t,oe))}function fr(ft,Tt,zt){var Kt=Math.min(ft/=255,Tt/=255,zt/=255),$t=Math.max(ft,Tt,zt),oe=$t-Kt,Me,we,He=($t+Kt)/2;return oe?(we=He<.5?oe/($t+Kt):oe/(2-$t-Kt),ft==$t?Me=(Tt-zt)/oe+(Tt<zt?6:0):Tt==$t?Me=(zt-ft)/oe+2:Me=(ft-Tt)/oe+4,Me*=60):(Me=NaN,we=He>0&&He<1?0:Me),new le(Me,we,He)}function zr(ft,Tt,zt){ft=Or(ft),Tt=Or(Tt),zt=Or(zt);var Kt=We((.4124564*ft+.3575761*Tt+.1804375*zt)/or),$t=We((.2126729*ft+.7151522*Tt+.072175*zt)/pr),oe=We((.0193339*ft+.119192*Tt+.9503041*zt)/hr);return Re(116*$t-16,500*(Kt-$t),200*($t-oe))}function Or(ft){return(ft/=255)<=.04045?ft/12.92:Math.pow((ft+.055)/1.055,2.4)}function Ir(ft){var Tt=parseFloat(ft);return ft.charAt(ft.length-1)==="%"?Math.round(Tt*2.55):Tt}var sn=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});sn.forEach(function(ft,Tt){sn.set(ft,er(Tt))});function nn(ft){return typeof ft=="function"?ft:function(){return ft}}i.functor=nn,i.xhr=kn(F);function kn(ft){return function(Tt,zt,Kt){return arguments.length===2&&typeof zt=="function"&&(Kt=zt,zt=null),Mn(Tt,zt,ft,Kt)}}function Mn(ft,Tt,zt,Kt){var $t={},oe=i.dispatch("beforesend","progress","load","error"),Me={},we=new XMLHttpRequest,He=null;self.XDomainRequest&&!("withCredentials"in we)&&/^(http(s)?:)?\/\//.test(ft)&&(we=new XDomainRequest),"onload"in we?we.onload=we.onerror=Ve:we.onreadystatechange=function(){we.readyState>3&&Ve()};function Ve(){var tr=we.status,Ar;if(!tr&&Er(we)||tr>=200&&tr<300||tr===304){try{Ar=zt.call($t,we)}catch(Lr){oe.error.call($t,Lr);return}oe.load.call($t,Ar)}else oe.error.call($t,we)}return we.onprogress=function(tr){var Ar=i.event;i.event=tr;try{oe.progress.call($t,we)}finally{i.event=Ar}},$t.header=function(tr,Ar){return tr=(tr+"").toLowerCase(),arguments.length<2?Me[tr]:(Ar==null?delete Me[tr]:Me[tr]=Ar+"",$t)},$t.mimeType=function(tr){return arguments.length?(Tt=tr==null?null:tr+"",$t):Tt},$t.responseType=function(tr){return arguments.length?(He=tr,$t):He},$t.response=function(tr){return zt=tr,$t},["get","post"].forEach(function(tr){$t[tr]=function(){return $t.send.apply($t,[tr].concat(m(arguments)))}}),$t.send=function(tr,Ar,Lr){if(arguments.length===2&&typeof Ar=="function"&&(Lr=Ar,Ar=null),we.open(tr,ft,!0),Tt!=null&&!("accept"in Me)&&(Me.accept=Tt+",*/*"),we.setRequestHeader)for(var Yr in Me)we.setRequestHeader(Yr,Me[Yr]);return Tt!=null&&we.overrideMimeType&&we.overrideMimeType(Tt),He!=null&&(we.responseType=He),Lr!=null&&$t.on("error",Lr).on("load",function(on){Lr(null,on)}),oe.beforesend.call($t,we),we.send(Ar??null),$t},$t.abort=function(){return we.abort(),$t},i.rebind($t,oe,"on"),Kt==null?$t:$t.get(kr(Kt))}function kr(ft){return ft.length===1?function(Tt,zt){ft(Tt==null?zt:null)}:ft}function Er(ft){var Tt=ft.responseType;return Tt&&Tt!=="text"?ft.response:ft.responseText}i.dsv=function(ft,Tt){var zt=new RegExp('["'+ft+`
]`),Kt=ft.charCodeAt(0);function $t(Ve,tr,Ar){arguments.length<3&&(Ar=tr,tr=null);var Lr=Mn(Ve,Tt,tr==null?oe:Me(tr),Ar);return Lr.row=function(Yr){return arguments.length?Lr.response((tr=Yr)==null?oe:Me(Yr)):tr},Lr}function oe(Ve){return $t.parse(Ve.responseText)}function Me(Ve){return function(tr){return $t.parse(tr.responseText,Ve)}}$t.parse=function(Ve,tr){var Ar;return $t.parseRows(Ve,function(Lr,Yr){if(Ar)return Ar(Lr,Yr-1);var on=function(Pr){for(var jr={},Zr=Lr.length,cn=0;cn<Zr;++cn)jr[Lr[cn]]=Pr[cn];return jr};Ar=tr?function(Pr,jr){return tr(on(Pr),jr)}:on})},$t.parseRows=function(Ve,tr){var Ar={},Lr={},Yr=[],on=Ve.length,Pr=0,jr=0,Zr,cn;function hn(){if(Pr>=on)return Lr;if(cn)return cn=!1,Ar;var jn=Pr;if(Ve.charCodeAt(jn)===34){for(var Qn=jn;Qn++<on;)if(Ve.charCodeAt(Qn)===34){if(Ve.charCodeAt(Qn+1)!==34)break;++Qn}Pr=Qn+2;var ui=Ve.charCodeAt(Qn+1);return ui===13?(cn=!0,Ve.charCodeAt(Qn+2)===10&&++Pr):ui===10&&(cn=!0),Ve.slice(jn+1,Qn).replace(/""/g,'"')}for(;Pr<on;){var ui=Ve.charCodeAt(Pr++),Jn=1;if(ui===10)cn=!0;else if(ui===13)cn=!0,Ve.charCodeAt(Pr)===10&&(++Pr,++Jn);else if(ui!==Kt)continue;return Ve.slice(jn,Pr-Jn)}return Ve.slice(jn)}for(;(Zr=hn())!==Lr;){for(var $r=[];Zr!==Ar&&Zr!==Lr;)$r.push(Zr),Zr=hn();tr&&($r=tr($r,jr++))==null||Yr.push($r)}return Yr},$t.format=function(Ve){if(Array.isArray(Ve[0]))return $t.formatRows(Ve);var tr=new z,Ar=[];return Ve.forEach(function(Lr){for(var Yr in Lr)tr.has(Yr)||Ar.push(tr.add(Yr))}),[Ar.map(He).join(ft)].concat(Ve.map(function(Lr){return Ar.map(function(Yr){return He(Lr[Yr])}).join(ft)})).join(`
`)},$t.formatRows=function(Ve){return Ve.map(we).join(`
`)};function we(Ve){return Ve.map(He).join(ft)}function He(Ve){return zt.test(Ve)?'"'+Ve.replace(/\"/g,'""')+'"':Ve}return $t},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Vr,qr,rn,gn,ln=this[j(this,"requestAnimationFrame")]||function(ft){setTimeout(ft,17)};i.timer=function(){zn.apply(this,arguments)};function zn(ft,Tt,zt){var Kt=arguments.length;Kt<2&&(Tt=0),Kt<3&&(zt=Date.now());var $t=zt+Tt,oe={c:ft,t:$t,n:null};return qr?qr.n=oe:Vr=oe,qr=oe,rn||(gn=clearTimeout(gn),rn=1,ln(Rn)),oe}function Rn(){var ft=ai(),Tt=fi()-ft;Tt>24?(isFinite(Tt)&&(clearTimeout(gn),gn=setTimeout(Rn,Tt)),rn=0):(rn=1,ln(Rn))}i.timer.flush=function(){ai(),fi()};function ai(){for(var ft=Date.now(),Tt=Vr;Tt;)ft>=Tt.t&&Tt.c(ft-Tt.t)&&(Tt.c=null),Tt=Tt.n;return ft}function fi(){for(var ft,Tt=Vr,zt=1/0;Tt;)Tt.c?(Tt.t<zt&&(zt=Tt.t),Tt=(ft=Tt).n):Tt=ft?ft.n=Tt.n:Vr=Tt.n;return qr=ft,zt}i.round=function(ft,Tt){return Tt?Math.round(ft*(Tt=Math.pow(10,Tt)))/Tt:Math.round(ft)},i.geom={};function mi(ft){return ft[0]}function li(ft){return ft[1]}i.geom.hull=function(ft){var Tt=mi,zt=li;if(arguments.length)return Kt(ft);function Kt($t){if($t.length<3)return[];var oe=nn(Tt),Me=nn(zt),we,He=$t.length,Ve=[],tr=[];for(we=0;we<He;we++)Ve.push([+oe.call(this,$t[we],we),+Me.call(this,$t[we],we),we]);for(Ve.sort(yr),we=0;we<He;we++)tr.push([Ve[we][0],-Ve[we][1]]);var Ar=ri(Ve),Lr=ri(tr),Yr=Lr[0]===Ar[0],on=Lr[Lr.length-1]===Ar[Ar.length-1],Pr=[];for(we=Ar.length-1;we>=0;--we)Pr.push($t[Ve[Ar[we]][2]]);for(we=+Yr;we<Lr.length-on;++we)Pr.push($t[Ve[Lr[we]][2]]);return Pr}return Kt.x=function($t){return arguments.length?(Tt=$t,Kt):Tt},Kt.y=function($t){return arguments.length?(zt=$t,Kt):zt},Kt};function ri(ft){for(var Tt=ft.length,zt=[0,1],Kt=2,$t=2;$t<Tt;$t++){for(;Kt>1&&Je(ft[zt[Kt-2]],ft[zt[Kt-1]],ft[$t])<=0;)--Kt;zt[Kt++]=$t}return zt.slice(0,Kt)}function yr(ft,Tt){return ft[0]-Tt[0]||ft[1]-Tt[1]}i.geom.polygon=function(ft){return it(ft,en),ft};var en=i.geom.polygon.prototype=[];en.area=function(){for(var ft=-1,Tt=this.length,zt,Kt=this[Tt-1],$t=0;++ft<Tt;)zt=Kt,Kt=this[ft],$t+=zt[1]*Kt[0]-zt[0]*Kt[1];return $t*.5},en.centroid=function(ft){var Tt=-1,zt=this.length,Kt=0,$t=0,oe,Me=this[zt-1],we;for(arguments.length||(ft=-1/(6*this.area()));++Tt<zt;)oe=Me,Me=this[Tt],we=oe[0]*Me[1]-Me[0]*oe[1],Kt+=(oe[0]+Me[0])*we,$t+=(oe[1]+Me[1])*we;return[Kt*ft,$t*ft]},en.clip=function(ft){for(var Tt,zt=Vn(ft),Kt=-1,$t=this.length-Vn(this),oe,Me,we=this[$t-1],He,Ve,tr;++Kt<$t;){for(Tt=ft.slice(),ft.length=0,He=this[Kt],Ve=Tt[(Me=Tt.length-zt)-1],oe=-1;++oe<Me;)tr=Tt[oe],Jr(tr,we,He)?(Jr(Ve,we,He)||ft.push(vn(Ve,tr,we,He)),ft.push(tr)):Jr(Ve,we,He)&&ft.push(vn(Ve,tr,we,He)),Ve=tr;zt&&ft.push(ft[0]),we=He}return ft};function Jr(ft,Tt,zt){return(zt[0]-Tt[0])*(ft[1]-Tt[1])<(zt[1]-Tt[1])*(ft[0]-Tt[0])}function vn(ft,Tt,zt,Kt){var $t=ft[0],oe=zt[0],Me=Tt[0]-$t,we=Kt[0]-oe,He=ft[1],Ve=zt[1],tr=Tt[1]-He,Ar=Kt[1]-Ve,Lr=(we*(He-Ve)-Ar*($t-oe))/(Ar*Me-we*tr);return[$t+Lr*Me,He+Lr*tr]}function Vn(ft){var Tt=ft[0],zt=ft[ft.length-1];return!(Tt[0]-zt[0]||Tt[1]-zt[1])}var bn,In,Bn,Kn=[],pi,Ni,Tr=[];function Rr(){Fo(this),this.edge=this.site=this.circle=null}function br(ft){var Tt=Kn.pop()||new Rr;return Tt.site=ft,Tt}function Br(ft){An(ft),Bn.remove(ft),Kn.push(ft),Fo(ft)}function _n(ft){var Tt=ft.circle,zt=Tt.x,Kt=Tt.cy,$t={x:zt,y:Kt},oe=ft.P,Me=ft.N,we=[ft];Br(ft);for(var He=oe;He.circle&&p(zt-He.circle.x)<xt&&p(Kt-He.circle.cy)<xt;)oe=He.P,we.unshift(He),Br(He),He=oe;we.unshift(He),An(He);for(var Ve=Me;Ve.circle&&p(zt-Ve.circle.x)<xt&&p(Kt-Ve.circle.cy)<xt;)Me=Ve.N,we.push(Ve),Br(Ve),Ve=Me;we.push(Ve),An(Ve);var tr=we.length,Ar;for(Ar=1;Ar<tr;++Ar)Ve=we[Ar],He=we[Ar-1],Ci(Ve.edge,He.site,Ve.site,$t);He=we[0],Ve=we[tr-1],Ve.edge=oi(He.site,Ve.site,null,$t),Tn(He),Tn(Ve)}function Pn(ft){for(var Tt=ft.x,zt=ft.y,Kt,$t,oe,Me,we=Bn._;we;)if(oe=pn(we,zt)-Tt,oe>xt)we=we.L;else if(Me=Tt-fn(we,zt),Me>xt){if(!we.R){Kt=we;break}we=we.R}else{oe>-xt?(Kt=we.P,$t=we):Me>-xt?(Kt=we,$t=we.N):Kt=$t=we;break}var He=br(ft);if(Bn.insert(Kt,He),!(!Kt&&!$t)){if(Kt===$t){An(Kt),$t=br(Kt.site),Bn.insert(He,$t),He.edge=$t.edge=oi(Kt.site,He.site),Tn(Kt),Tn($t);return}if(!$t){He.edge=oi(Kt.site,He.site);return}An(Kt),An($t);var Ve=Kt.site,tr=Ve.x,Ar=Ve.y,Lr=ft.x-tr,Yr=ft.y-Ar,on=$t.site,Pr=on.x-tr,jr=on.y-Ar,Zr=2*(Lr*jr-Yr*Pr),cn=Lr*Lr+Yr*Yr,hn=Pr*Pr+jr*jr,$r={x:(jr*cn-Yr*hn)/Zr+tr,y:(Lr*hn-Pr*cn)/Zr+Ar};Ci($t.edge,Ve,on,$r),He.edge=oi(Ve,ft,null,$r),$t.edge=oi(ft,on,null,$r),Tn(Kt),Tn($t)}}function pn(ft,Tt){var zt=ft.site,Kt=zt.x,$t=zt.y,oe=$t-Tt;if(!oe)return Kt;var Me=ft.P;if(!Me)return-1/0;zt=Me.site;var we=zt.x,He=zt.y,Ve=He-Tt;if(!Ve)return we;var tr=we-Kt,Ar=1/oe-1/Ve,Lr=tr/Ve;return Ar?(-Lr+Math.sqrt(Lr*Lr-2*Ar*(tr*tr/(-2*Ve)-He+Ve/2+$t-oe/2)))/Ar+Kt:(Kt+we)/2}function fn(ft,Tt){var zt=ft.N;if(zt)return pn(zt,Tt);var Kt=ft.site;return Kt.y===Tt?Kt.x:1/0}function Mr(ft){this.site=ft,this.edges=[]}Mr.prototype.prepare=function(){for(var ft=this.edges,Tt=ft.length,zt;Tt--;)zt=ft[Tt].edge,(!zt.b||!zt.a)&&ft.splice(Tt,1);return ft.sort(Nr),ft.length};function Gr(ft){for(var Tt=ft[0][0],zt=ft[1][0],Kt=ft[0][1],$t=ft[1][1],oe,Me,we,He,Ve=In,tr=Ve.length,Ar,Lr,Yr,on,Pr,jr;tr--;)if(Ar=Ve[tr],!(!Ar||!Ar.prepare()))for(Yr=Ar.edges,on=Yr.length,Lr=0;Lr<on;)jr=Yr[Lr].end(),we=jr.x,He=jr.y,Pr=Yr[++Lr%on].start(),oe=Pr.x,Me=Pr.y,(p(we-oe)>xt||p(He-Me)>xt)&&(Yr.splice(Lr,0,new pa(hi(Ar.site,jr,p(we-Tt)<xt&&$t-He>xt?{x:Tt,y:p(oe-Tt)<xt?Me:$t}:p(He-$t)<xt&&zt-we>xt?{x:p(Me-$t)<xt?oe:zt,y:$t}:p(we-zt)<xt&&He-Kt>xt?{x:zt,y:p(oe-zt)<xt?Me:Kt}:p(He-Kt)<xt&&we-Tt>xt?{x:p(Me-Kt)<xt?oe:Tt,y:Kt}:null),Ar.site,null)),++on)}function Nr(ft,Tt){return Tt.angle-ft.angle}function Kr(){Fo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tn(ft){var Tt=ft.P,zt=ft.N;if(!(!Tt||!zt)){var Kt=Tt.site,$t=ft.site,oe=zt.site;if(Kt!==oe){var Me=$t.x,we=$t.y,He=Kt.x-Me,Ve=Kt.y-we,tr=oe.x-Me,Ar=oe.y-we,Lr=2*(He*Ar-Ve*tr);if(!(Lr>=-Ct)){var Yr=He*He+Ve*Ve,on=tr*tr+Ar*Ar,Pr=(Ar*Yr-Ve*on)/Lr,jr=(He*on-tr*Yr)/Lr,Ar=jr+we,Zr=Tr.pop()||new Kr;Zr.arc=ft,Zr.site=$t,Zr.x=Pr+Me,Zr.y=Ar+Math.sqrt(Pr*Pr+jr*jr),Zr.cy=Ar,ft.circle=Zr;for(var cn=null,hn=Ni._;hn;)if(Zr.y<hn.y||Zr.y===hn.y&&Zr.x<=hn.x)if(hn.L)hn=hn.L;else{cn=hn.P;break}else if(hn.R)hn=hn.R;else{cn=hn;break}Ni.insert(cn,Zr),cn||(pi=Zr)}}}}function An(ft){var Tt=ft.circle;Tt&&(Tt.P||(pi=Tt.N),Ni.remove(Tt),Tr.push(Tt),Fo(Tt),ft.circle=null)}function En(ft,Tt,zt,Kt){return function($t){var oe=$t.a,Me=$t.b,we=oe.x,He=oe.y,Ve=Me.x,tr=Me.y,Ar=0,Lr=1,Yr=Ve-we,on=tr-He,Pr;if(Pr=ft-we,!(!Yr&&Pr>0)){if(Pr/=Yr,Yr<0){if(Pr<Ar)return;Pr<Lr&&(Lr=Pr)}else if(Yr>0){if(Pr>Lr)return;Pr>Ar&&(Ar=Pr)}if(Pr=zt-we,!(!Yr&&Pr<0)){if(Pr/=Yr,Yr<0){if(Pr>Lr)return;Pr>Ar&&(Ar=Pr)}else if(Yr>0){if(Pr<Ar)return;Pr<Lr&&(Lr=Pr)}if(Pr=Tt-He,!(!on&&Pr>0)){if(Pr/=on,on<0){if(Pr<Ar)return;Pr<Lr&&(Lr=Pr)}else if(on>0){if(Pr>Lr)return;Pr>Ar&&(Ar=Pr)}if(Pr=Kt-He,!(!on&&Pr<0)){if(Pr/=on,on<0){if(Pr>Lr)return;Pr>Ar&&(Ar=Pr)}else if(on>0){if(Pr<Ar)return;Pr<Lr&&(Lr=Pr)}return Ar>0&&($t.a={x:we+Ar*Yr,y:He+Ar*on}),Lr<1&&($t.b={x:we+Lr*Yr,y:He+Lr*on}),$t}}}}}}function Nn(ft){for(var Tt=bn,zt=En(ft[0][0],ft[0][1],ft[1][0],ft[1][1]),Kt=Tt.length,$t;Kt--;)$t=Tt[Kt],(!Dn($t,ft)||!zt($t)||p($t.a.x-$t.b.x)<xt&&p($t.a.y-$t.b.y)<xt)&&($t.a=$t.b=null,Tt.splice(Kt,1))}function Dn(ft,Tt){var zt=ft.b;if(zt)return!0;var Kt=ft.a,$t=Tt[0][0],oe=Tt[1][0],Me=Tt[0][1],we=Tt[1][1],He=ft.l,Ve=ft.r,tr=He.x,Ar=He.y,Lr=Ve.x,Yr=Ve.y,on=(tr+Lr)/2,Pr=(Ar+Yr)/2,jr,Zr;if(Yr===Ar){if(on<$t||on>=oe)return;if(tr>Lr){if(!Kt)Kt={x:on,y:Me};else if(Kt.y>=we)return;zt={x:on,y:we}}else{if(!Kt)Kt={x:on,y:we};else if(Kt.y<Me)return;zt={x:on,y:Me}}}else if(jr=(tr-Lr)/(Yr-Ar),Zr=Pr-jr*on,jr<-1||jr>1)if(tr>Lr){if(!Kt)Kt={x:(Me-Zr)/jr,y:Me};else if(Kt.y>=we)return;zt={x:(we-Zr)/jr,y:we}}else{if(!Kt)Kt={x:(we-Zr)/jr,y:we};else if(Kt.y<Me)return;zt={x:(Me-Zr)/jr,y:Me}}else if(Ar<Yr){if(!Kt)Kt={x:$t,y:jr*$t+Zr};else if(Kt.x>=oe)return;zt={x:oe,y:jr*oe+Zr}}else{if(!Kt)Kt={x:oe,y:jr*oe+Zr};else if(Kt.x<$t)return;zt={x:$t,y:jr*$t+Zr}}return ft.a=Kt,ft.b=zt,!0}function di(ft,Tt){this.l=ft,this.r=Tt,this.a=this.b=null}function oi(ft,Tt,zt,Kt){var $t=new di(ft,Tt);return bn.push($t),zt&&Ci($t,ft,Tt,zt),Kt&&Ci($t,Tt,ft,Kt),In[ft.i].edges.push(new pa($t,ft,Tt)),In[Tt.i].edges.push(new pa($t,Tt,ft)),$t}function hi(ft,Tt,zt){var Kt=new di(ft,null);return Kt.a=Tt,Kt.b=zt,bn.push(Kt),Kt}function Ci(ft,Tt,zt,Kt){!ft.a&&!ft.b?(ft.a=Kt,ft.l=Tt,ft.r=zt):ft.l===zt?ft.b=Kt:ft.a=Kt}function pa(ft,Tt,zt){var Kt=ft.a,$t=ft.b;this.edge=ft,this.site=Tt,this.angle=zt?Math.atan2(zt.y-Tt.y,zt.x-Tt.x):ft.l===Tt?Math.atan2($t.x-Kt.x,Kt.y-$t.y):Math.atan2(Kt.x-$t.x,$t.y-Kt.y)}pa.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ea(){this._=null}function Fo(ft){ft.U=ft.C=ft.L=ft.R=ft.P=ft.N=null}ea.prototype={insert:function(ft,Tt){var zt,Kt,$t;if(ft){if(Tt.P=ft,Tt.N=ft.N,ft.N&&(ft.N.P=Tt),ft.N=Tt,ft.R){for(ft=ft.R;ft.L;)ft=ft.L;ft.L=Tt}else ft.R=Tt;zt=ft}else this._?(ft=Rl(this._),Tt.P=null,Tt.N=ft,ft.P=ft.L=Tt,zt=ft):(Tt.P=Tt.N=null,this._=Tt,zt=null);for(Tt.L=Tt.R=null,Tt.U=zt,Tt.C=!0,ft=Tt;zt&&zt.C;)Kt=zt.U,zt===Kt.L?($t=Kt.R,$t&&$t.C?(zt.C=$t.C=!1,Kt.C=!0,ft=Kt):(ft===zt.R&&(Eo(this,zt),ft=zt,zt=ft.U),zt.C=!1,Kt.C=!0,no(this,Kt))):($t=Kt.L,$t&&$t.C?(zt.C=$t.C=!1,Kt.C=!0,ft=Kt):(ft===zt.L&&(no(this,zt),ft=zt,zt=ft.U),zt.C=!1,Kt.C=!0,Eo(this,Kt))),zt=ft.U;this._.C=!1},remove:function(ft){ft.N&&(ft.N.P=ft.P),ft.P&&(ft.P.N=ft.N),ft.N=ft.P=null;var Tt=ft.U,zt,Kt=ft.L,$t=ft.R,oe,Me;if(Kt?$t?oe=Rl($t):oe=Kt:oe=$t,Tt?Tt.L===ft?Tt.L=oe:Tt.R=oe:this._=oe,Kt&&$t?(Me=oe.C,oe.C=ft.C,oe.L=Kt,Kt.U=oe,oe!==$t?(Tt=oe.U,oe.U=ft.U,ft=oe.R,Tt.L=ft,oe.R=$t,$t.U=oe):(oe.U=Tt,Tt=oe,ft=oe.R)):(Me=ft.C,ft=oe),ft&&(ft.U=Tt),!Me){if(ft&&ft.C){ft.C=!1;return}do{if(ft===this._)break;if(ft===Tt.L){if(zt=Tt.R,zt.C&&(zt.C=!1,Tt.C=!0,Eo(this,Tt),zt=Tt.R),zt.L&&zt.L.C||zt.R&&zt.R.C){(!zt.R||!zt.R.C)&&(zt.L.C=!1,zt.C=!0,no(this,zt),zt=Tt.R),zt.C=Tt.C,Tt.C=zt.R.C=!1,Eo(this,Tt),ft=this._;break}}else if(zt=Tt.L,zt.C&&(zt.C=!1,Tt.C=!0,no(this,Tt),zt=Tt.L),zt.L&&zt.L.C||zt.R&&zt.R.C){(!zt.L||!zt.L.C)&&(zt.R.C=!1,zt.C=!0,Eo(this,zt),zt=Tt.L),zt.C=Tt.C,Tt.C=zt.L.C=!1,no(this,Tt),ft=this._;break}zt.C=!0,ft=Tt,Tt=Tt.U}while(!ft.C);ft&&(ft.C=!1)}}};function Eo(ft,Tt){var zt=Tt,Kt=Tt.R,$t=zt.U;$t?$t.L===zt?$t.L=Kt:$t.R=Kt:ft._=Kt,Kt.U=$t,zt.U=Kt,zt.R=Kt.L,zt.R&&(zt.R.U=zt),Kt.L=zt}function no(ft,Tt){var zt=Tt,Kt=Tt.L,$t=zt.U;$t?$t.L===zt?$t.L=Kt:$t.R=Kt:ft._=Kt,Kt.U=$t,zt.U=Kt,zt.L=Kt.R,zt.L&&(zt.L.U=zt),Kt.R=zt}function Rl(ft){for(;ft.L;)ft=ft.L;return ft}function _c(ft,Tt){var zt=ft.sort(sf).pop(),Kt,$t,oe;for(bn=[],In=new Array(ft.length),Bn=new ea,Ni=new ea;;)if(oe=pi,zt&&(!oe||zt.y<oe.y||zt.y===oe.y&&zt.x<oe.x))(zt.x!==Kt||zt.y!==$t)&&(In[zt.i]=new Mr(zt),Pn(zt),Kt=zt.x,$t=zt.y),zt=ft.pop();else if(oe)_n(oe.arc);else break;Tt&&(Nn(Tt),Gr(Tt));var Me={cells:In,edges:bn};return Bn=Ni=bn=In=null,Me}function sf(ft,Tt){return Tt.y-ft.y||Tt.x-ft.x}i.geom.voronoi=function(ft){var Tt=mi,zt=li,Kt=Tt,$t=zt,oe=$i;if(ft)return Me(ft);function Me(He){var Ve=new Array(He.length),tr=oe[0][0],Ar=oe[0][1],Lr=oe[1][0],Yr=oe[1][1];return _c(we(He),oe).cells.forEach(function(on,Pr){var jr=on.edges,Zr=on.site,cn=Ve[Pr]=jr.length?jr.map(function(hn){var $r=hn.start();return[$r.x,$r.y]}):Zr.x>=tr&&Zr.x<=Lr&&Zr.y>=Ar&&Zr.y<=Yr?[[tr,Yr],[Lr,Yr],[Lr,Ar],[tr,Ar]]:[];cn.point=He[Pr]}),Ve}function we(He){return He.map(function(Ve,tr){return{x:Math.round(Kt(Ve,tr)/xt)*xt,y:Math.round($t(Ve,tr)/xt)*xt,i:tr}})}return Me.links=function(He){return _c(we(He)).edges.filter(function(Ve){return Ve.l&&Ve.r}).map(function(Ve){return{source:He[Ve.l.i],target:He[Ve.r.i]}})},Me.triangles=function(He){var Ve=[];return _c(we(He)).cells.forEach(function(tr,Ar){for(var Lr=tr.site,Yr=tr.edges.sort(Nr),on=-1,Pr=Yr.length,jr,Zr=Yr[Pr-1].edge,cn=Zr.l===Lr?Zr.r:Zr.l;++on<Pr;)jr=cn,Zr=Yr[on].edge,cn=Zr.l===Lr?Zr.r:Zr.l,Ar<jr.i&&Ar<cn.i&&hu(Lr,jr,cn)<0&&Ve.push([He[Ar],He[jr.i],He[cn.i]])}),Ve},Me.x=function(He){return arguments.length?(Kt=nn(Tt=He),Me):Tt},Me.y=function(He){return arguments.length?($t=nn(zt=He),Me):zt},Me.clipExtent=function(He){return arguments.length?(oe=He??$i,Me):oe===$i?null:oe},Me.size=function(He){return arguments.length?Me.clipExtent(He&&[[0,0],He]):oe===$i?null:oe&&oe[1]},Me};var $i=[[-1e6,-1e6],[1e6,1e6]];function hu(ft,Tt,zt){return(ft.x-zt.x)*(Tt.y-ft.y)-(ft.x-Tt.x)*(zt.y-ft.y)}i.geom.delaunay=function(ft){return i.geom.voronoi().triangles(ft)},i.geom.quadtree=function(ft,Tt,zt,Kt,$t){var oe=mi,Me=li,we;if(we=arguments.length)return oe=wc,Me=Ja,we===3&&($t=zt,Kt=Tt,zt=Tt=0),He(ft);function He(Ve){var tr,Ar=nn(oe),Lr=nn(Me),Yr,on,Pr,jr,Zr,cn,hn,$r;if(Tt!=null)Zr=Tt,cn=zt,hn=Kt,$r=$t;else if(hn=$r=-(Zr=cn=1/0),Yr=[],on=[],jr=Ve.length,we)for(Pr=0;Pr<jr;++Pr)tr=Ve[Pr],tr.x<Zr&&(Zr=tr.x),tr.y<cn&&(cn=tr.y),tr.x>hn&&(hn=tr.x),tr.y>$r&&($r=tr.y),Yr.push(tr.x),on.push(tr.y);else for(Pr=0;Pr<jr;++Pr){var jn=+Ar(tr=Ve[Pr],Pr),Qn=+Lr(tr,Pr);jn<Zr&&(Zr=jn),Qn<cn&&(cn=Qn),jn>hn&&(hn=jn),Qn>$r&&($r=Qn),Yr.push(jn),on.push(Qn)}var ui=hn-Zr,Jn=$r-cn;ui>Jn?$r=cn+ui:hn=Zr+Jn;function ii(ki,ji,ra,Na,aa,Yn,Ui,wi){if(!(isNaN(ra)||isNaN(Na)))if(ki.leaf){var Gi=ki.x,xa=ki.y;if(Gi!=null)if(p(Gi-ra)+p(xa-Na)<.01)ci(ki,ji,ra,Na,aa,Yn,Ui,wi);else{var na=ki.point;ki.x=ki.y=ki.point=null,ci(ki,na,Gi,xa,aa,Yn,Ui,wi),ci(ki,ji,ra,Na,aa,Yn,Ui,wi)}else ki.x=ra,ki.y=Na,ki.point=ji}else ci(ki,ji,ra,Na,aa,Yn,Ui,wi)}function ci(ki,ji,ra,Na,aa,Yn,Ui,wi){var Gi=(aa+Ui)*.5,xa=(Yn+wi)*.5,na=ra>=Gi,to=Na>=xa,eo=to<<1|na;ki.leaf=!1,ki=ki.nodes[eo]||(ki.nodes[eo]=wo()),na?aa=Gi:Ui=Gi,to?Yn=xa:wi=xa,ii(ki,ji,ra,Na,aa,Yn,Ui,wi)}var Vi=wo();if(Vi.add=function(ki){ii(Vi,ki,+Ar(ki,++Pr),+Lr(ki,Pr),Zr,cn,hn,$r)},Vi.visit=function(ki){Dl(ki,Vi,Zr,cn,hn,$r)},Vi.find=function(ki){return qu(Vi,ki[0],ki[1],Zr,cn,hn,$r)},Pr=-1,Tt==null){for(;++Pr<jr;)ii(Vi,Ve[Pr],Yr[Pr],on[Pr],Zr,cn,hn,$r);--Pr}else Ve.forEach(Vi.add);return Yr=on=Ve=tr=null,Vi}return He.x=function(Ve){return arguments.length?(oe=Ve,He):oe},He.y=function(Ve){return arguments.length?(Me=Ve,He):Me},He.extent=function(Ve){return arguments.length?(Ve==null?Tt=zt=Kt=$t=null:(Tt=+Ve[0][0],zt=+Ve[0][1],Kt=+Ve[1][0],$t=+Ve[1][1]),He):Tt==null?null:[[Tt,zt],[Kt,$t]]},He.size=function(Ve){return arguments.length?(Ve==null?Tt=zt=Kt=$t=null:(Tt=zt=0,Kt=+Ve[0],$t=+Ve[1]),He):Tt==null?null:[Kt-Tt,$t-zt]},He};function wc(ft){return ft.x}function Ja(ft){return ft.y}function wo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Dl(ft,Tt,zt,Kt,$t,oe){if(!ft(Tt,zt,Kt,$t,oe)){var Me=(zt+$t)*.5,we=(Kt+oe)*.5,He=Tt.nodes;He[0]&&Dl(ft,He[0],zt,Kt,Me,we),He[1]&&Dl(ft,He[1],Me,Kt,$t,we),He[2]&&Dl(ft,He[2],zt,we,Me,oe),He[3]&&Dl(ft,He[3],Me,we,$t,oe)}}function qu(ft,Tt,zt,Kt,$t,oe,Me){var we=1/0,He;return function Ve(tr,Ar,Lr,Yr,on){if(!(Ar>oe||Lr>Me||Yr<Kt||on<$t)){if(Pr=tr.point){var Pr,jr=Tt-tr.x,Zr=zt-tr.y,cn=jr*jr+Zr*Zr;if(cn<we){var hn=Math.sqrt(we=cn);Kt=Tt-hn,$t=zt-hn,oe=Tt+hn,Me=zt+hn,He=Pr}}for(var $r=tr.nodes,jn=(Ar+Yr)*.5,Qn=(Lr+on)*.5,ui=Tt>=jn,Jn=zt>=Qn,ii=Jn<<1|ui,ci=ii+4;ii<ci;++ii)if(tr=$r[ii&3])switch(ii&3){case 0:Ve(tr,Ar,Lr,jn,Qn);break;case 1:Ve(tr,jn,Lr,Yr,Qn);break;case 2:Ve(tr,Ar,Qn,jn,on);break;case 3:Ve(tr,jn,Qn,Yr,on);break}}}(ft,Kt,$t,oe,Me),He}i.interpolateRgb=za;function za(ft,Tt){ft=i.rgb(ft),Tt=i.rgb(Tt);var zt=ft.r,Kt=ft.g,$t=ft.b,oe=Tt.r-zt,Me=Tt.g-Kt,we=Tt.b-$t;return function(He){return"#"+vr(Math.round(zt+oe*He))+vr(Math.round(Kt+Me*He))+vr(Math.round($t+we*He))}}i.interpolateObject=Fl;function Fl(ft,Tt){var zt={},Kt={},$t;for($t in ft)$t in Tt?zt[$t]=ao(ft[$t],Tt[$t]):Kt[$t]=ft[$t];for($t in Tt)$t in ft||(Kt[$t]=Tt[$t]);return function(oe){for($t in zt)Kt[$t]=zt[$t](oe);return Kt}}i.interpolateNumber=Ba;function Ba(ft,Tt){return ft=+ft,Tt=+Tt,function(zt){return ft*(1-zt)+Tt*zt}}i.interpolateString=qa;function qa(ft,Tt){var zt=Bl.lastIndex=io.lastIndex=0,Kt,$t,oe,Me=-1,we=[],He=[];for(ft=ft+"",Tt=Tt+"";(Kt=Bl.exec(ft))&&($t=io.exec(Tt));)(oe=$t.index)>zt&&(oe=Tt.slice(zt,oe),we[Me]?we[Me]+=oe:we[++Me]=oe),(Kt=Kt[0])===($t=$t[0])?we[Me]?we[Me]+=$t:we[++Me]=$t:(we[++Me]=null,He.push({i:Me,x:Ba(Kt,$t)})),zt=io.lastIndex;return zt<Tt.length&&(oe=Tt.slice(zt),we[Me]?we[Me]+=oe:we[++Me]=oe),we.length<2?He[0]?(Tt=He[0].x,function(Ve){return Tt(Ve)+""}):function(){return Tt}:(Tt=He.length,function(Ve){for(var tr=0,Ar;tr<Tt;++tr)we[(Ar=He[tr]).i]=Ar.x(Ve);return we.join("")})}var Bl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,io=new RegExp(Bl.source,"g");i.interpolate=ao;function ao(ft,Tt){for(var zt=i.interpolators.length,Kt;--zt>=0&&!(Kt=i.interpolators[zt](ft,Tt)););return Kt}i.interpolators=[function(ft,Tt){var zt=typeof Tt;return(zt==="string"?sn.has(Tt.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Tt)?za:qa:Tt instanceof re?za:Array.isArray(Tt)?Bo:zt==="object"&&isNaN(Tt)?Fl:Ba)(ft,Tt)}],i.interpolateArray=Bo;function Bo(ft,Tt){var zt=[],Kt=[],$t=ft.length,oe=Tt.length,Me=Math.min(ft.length,Tt.length),we;for(we=0;we<Me;++we)zt.push(ao(ft[we],Tt[we]));for(;we<$t;++we)Kt[we]=ft[we];for(;we<oe;++we)Kt[we]=Tt[we];return function(He){for(we=0;we<Me;++we)Kt[we]=zt[we](He);return Kt}}var lf=function(){return F},Lo=i.map({linear:lf,poly:uf,quad:function(){return Ys},cubic:function(){return ys},sin:function(){return yh},exp:function(){return Wu},circle:function(){return mh},elastic:xh,back:bh,bounce:function(){return Mc}}),gh=i.map({in:F,out:Qa,"in-out":kc,"out-in":function(ft){return kc(Qa(ft))}});i.ease=function(ft){var Tt=ft.indexOf("-"),zt=Tt>=0?ft.slice(0,Tt):ft,Kt=Tt>=0?ft.slice(Tt+1):"in";return zt=Lo.get(zt)||lf,Kt=gh.get(Kt)||F,gs(Kt(zt.apply(null,M.call(arguments,1))))};function gs(ft){return function(Tt){return Tt<=0?0:Tt>=1?1:ft(Tt)}}function Qa(ft){return function(Tt){return 1-ft(1-Tt)}}function kc(ft){return function(Tt){return .5*(Tt<.5?ft(2*Tt):2-ft(2-2*Tt))}}function Ys(ft){return ft*ft}function ys(ft){return ft*ft*ft}function Tc(ft){if(ft<=0)return 0;if(ft>=1)return 1;var Tt=ft*ft,zt=Tt*ft;return 4*(ft<.5?zt:3*(ft-Tt)+zt-.75)}function uf(ft){return function(Tt){return Math.pow(Tt,ft)}}function yh(ft){return 1-Math.cos(ft*Qt)}function Wu(ft){return Math.pow(2,10*(ft-1))}function mh(ft){return 1-Math.sqrt(1-ft*ft)}function xh(ft,Tt){var zt;return arguments.length<2&&(Tt=.45),arguments.length?zt=Tt/Ft*Math.asin(1/ft):(ft=1,zt=Tt/4),function(Kt){return 1+ft*Math.pow(2,-10*Kt)*Math.sin((Kt-zt)*Ft/Tt)}}function bh(ft){return ft||(ft=1.70158),function(Tt){return Tt*Tt*((ft+1)*Tt-ft)}}function Mc(ft){return ft<.36363636363636365?7.5625*ft*ft:ft<.7272727272727273?7.5625*(ft-=.5454545454545454)*ft+.75:ft<.9090909090909091?7.5625*(ft-=.8181818181818182)*ft+.9375:7.5625*(ft-=.9545454545454546)*ft+.984375}i.interpolateHcl=_h;function _h(ft,Tt){ft=i.hcl(ft),Tt=i.hcl(Tt);var zt=ft.h,Kt=ft.c,$t=ft.l,oe=Tt.h-zt,Me=Tt.c-Kt,we=Tt.l-$t;return isNaN(Me)&&(Me=0,Kt=isNaN(Kt)?Tt.c:Kt),isNaN(oe)?(oe=0,zt=isNaN(zt)?Tt.h:zt):oe>180?oe-=360:oe<-180&&(oe+=360),function(He){return Fe(zt+oe*He,Kt+Me*He,$t+we*He)+""}}i.interpolateHsl=wh;function wh(ft,Tt){ft=i.hsl(ft),Tt=i.hsl(Tt);var zt=ft.h,Kt=ft.s,$t=ft.l,oe=Tt.h-zt,Me=Tt.s-Kt,we=Tt.l-$t;return isNaN(Me)&&(Me=0,Kt=isNaN(Kt)?Tt.s:Kt),isNaN(oe)?(oe=0,zt=isNaN(zt)?Tt.h:zt):oe>180?oe-=360:oe<-180&&(oe+=360),function(He){return Ee(zt+oe*He,Kt+Me*He,$t+we*He)+""}}i.interpolateLab=cf;function cf(ft,Tt){ft=i.lab(ft),Tt=i.lab(Tt);var zt=ft.l,Kt=ft.a,$t=ft.b,oe=Tt.l-zt,Me=Tt.a-Kt,we=Tt.b-$t;return function(He){return Gt(zt+oe*He,Kt+Me*He,$t+we*He)+""}}i.interpolateRound=ff;function ff(ft,Tt){return Tt-=ft,function(zt){return Math.round(ft+Tt*zt)}}i.transform=function(ft){var Tt=d.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(zt){if(zt!=null){Tt.setAttribute("transform",zt);var Kt=Tt.transform.baseVal.consolidate()}return new dl(Kt?Kt.matrix:hf)})(ft)};function dl(ft){var Tt=[ft.a,ft.b],zt=[ft.c,ft.d],Kt=pu(Tt),$t=Nl(Tt,zt),oe=pu(du(zt,Tt,-$t))||0;Tt[0]*zt[1]<zt[0]*Tt[1]&&(Tt[0]*=-1,Tt[1]*=-1,Kt*=-1,$t*=-1),this.rotate=(Kt?Math.atan2(Tt[1],Tt[0]):Math.atan2(-zt[0],zt[1]))*ve,this.translate=[ft.e,ft.f],this.scale=[Kt,oe],this.skew=oe?Math.atan2($t,oe)*ve:0}dl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Nl(ft,Tt){return ft[0]*Tt[0]+ft[1]*Tt[1]}function pu(ft){var Tt=Math.sqrt(Nl(ft,ft));return Tt&&(ft[0]/=Tt,ft[1]/=Tt),Tt}function du(ft,Tt,zt){return ft[0]+=zt*Tt[0],ft[1]+=zt*Tt[1],ft}var hf={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Zu;function Ps(ft){return ft.length?ft.pop()+",":""}function kh(ft,Tt,zt,Kt){if(ft[0]!==Tt[0]||ft[1]!==Tt[1]){var $t=zt.push("translate(",null,",",null,")");Kt.push({i:$t-4,x:Ba(ft[0],Tt[0])},{i:$t-2,x:Ba(ft[1],Tt[1])})}else(Tt[0]||Tt[1])&&zt.push("translate("+Tt+")")}function Gu(ft,Tt,zt,Kt){ft!==Tt?(ft-Tt>180?Tt+=360:Tt-ft>180&&(ft+=360),Kt.push({i:zt.push(Ps(zt)+"rotate(",null,")")-2,x:Ba(ft,Tt)})):Tt&&zt.push(Ps(zt)+"rotate("+Tt+")")}function pf(ft,Tt,zt,Kt){ft!==Tt?Kt.push({i:zt.push(Ps(zt)+"skewX(",null,")")-2,x:Ba(ft,Tt)}):Tt&&zt.push(Ps(zt)+"skewX("+Tt+")")}function df(ft,Tt,zt,Kt){if(ft[0]!==Tt[0]||ft[1]!==Tt[1]){var $t=zt.push(Ps(zt)+"scale(",null,",",null,")");Kt.push({i:$t-4,x:Ba(ft[0],Tt[0])},{i:$t-2,x:Ba(ft[1],Tt[1])})}else(Tt[0]!==1||Tt[1]!==1)&&zt.push(Ps(zt)+"scale("+Tt+")")}function Zu(ft,Tt){var zt=[],Kt=[];return ft=i.transform(ft),Tt=i.transform(Tt),kh(ft.translate,Tt.translate,zt,Kt),Gu(ft.rotate,Tt.rotate,zt,Kt),pf(ft.skew,Tt.skew,zt,Kt),df(ft.scale,Tt.scale,zt,Kt),ft=Tt=null,function($t){for(var oe=-1,Me=Kt.length,we;++oe<Me;)zt[(we=Kt[oe]).i]=we.x($t);return zt.join("")}}function ts(ft,Tt){return Tt=(Tt-=ft=+ft)||1/Tt,function(zt){return(zt-ft)/Tt}}function jl(ft,Tt){return Tt=(Tt-=ft=+ft)||1/Tt,function(zt){return Math.max(0,Math.min(1,(zt-ft)/Tt))}}i.layout={},i.layout.bundle=function(){return function(ft){for(var Tt=[],zt=-1,Kt=ft.length;++zt<Kt;)Tt.push(vl(ft[zt]));return Tt}};function vl(ft){for(var Tt=ft.source,zt=ft.target,Kt=Ks(Tt,zt),$t=[Tt];Tt!==Kt;)Tt=Tt.parent,$t.push(Tt);for(var oe=$t.length;zt!==Kt;)$t.splice(oe,0,zt),zt=zt.parent;return $t}function vu(ft){for(var Tt=[],zt=ft.parent;zt!=null;)Tt.push(ft),ft=zt,zt=zt.parent;return Tt.push(ft),Tt}function Ks(ft,Tt){if(ft===Tt)return ft;for(var zt=vu(ft),Kt=vu(Tt),$t=zt.pop(),oe=Kt.pop(),Me=null;$t===oe;)Me=$t,$t=zt.pop(),oe=Kt.pop();return Me}i.layout.chord=function(){var ft={},Tt,zt,Kt,$t,oe=0,Me,we,He;function Ve(){var Ar={},Lr=[],Yr=i.range($t),on=[],Pr,jr,Zr,cn,hn;for(Tt=[],zt=[],Pr=0,cn=-1;++cn<$t;){for(jr=0,hn=-1;++hn<$t;)jr+=Kt[cn][hn];Lr.push(jr),on.push(i.range($t)),Pr+=jr}for(Me&&Yr.sort(function(Vi,ki){return Me(Lr[Vi],Lr[ki])}),we&&on.forEach(function(Vi,ki){Vi.sort(function(ji,ra){return we(Kt[ki][ji],Kt[ki][ra])})}),Pr=(Ft-oe*$t)/Pr,jr=0,cn=-1;++cn<$t;){for(Zr=jr,hn=-1;++hn<$t;){var $r=Yr[cn],jn=on[$r][hn],Qn=Kt[$r][jn],ui=jr,Jn=jr+=Qn*Pr;Ar[$r+"-"+jn]={index:$r,subindex:jn,startAngle:ui,endAngle:Jn,value:Qn}}zt[$r]={index:$r,startAngle:Zr,endAngle:jr,value:Lr[$r]},jr+=oe}for(cn=-1;++cn<$t;)for(hn=cn-1;++hn<$t;){var ii=Ar[cn+"-"+hn],ci=Ar[hn+"-"+cn];(ii.value||ci.value)&&Tt.push(ii.value<ci.value?{source:ci,target:ii}:{source:ii,target:ci})}He&&tr()}function tr(){Tt.sort(function(Ar,Lr){return He((Ar.source.value+Ar.target.value)/2,(Lr.source.value+Lr.target.value)/2)})}return ft.matrix=function(Ar){return arguments.length?($t=(Kt=Ar)&&Kt.length,Tt=zt=null,ft):Kt},ft.padding=function(Ar){return arguments.length?(oe=Ar,Tt=zt=null,ft):oe},ft.sortGroups=function(Ar){return arguments.length?(Me=Ar,Tt=zt=null,ft):Me},ft.sortSubgroups=function(Ar){return arguments.length?(we=Ar,Tt=null,ft):we},ft.sortChords=function(Ar){return arguments.length?(He=Ar,Tt&&tr(),ft):He},ft.chords=function(){return Tt||Ve(),Tt},ft.groups=function(){return zt||Ve(),zt},ft},i.layout.force=function(){var ft={},Tt=i.dispatch("start","tick","end"),zt,Kt=[1,1],$t,oe,Me=.9,we=Sc,He=Th,Ve=-30,tr=Yu,Ar=.1,Lr=.64,Yr=[],on=[],Pr,jr,Zr;function cn($r){return function(jn,Qn,ui,Jn){if(jn.point!==$r){var ii=jn.cx-$r.x,ci=jn.cy-$r.y,Vi=Jn-Qn,ki=ii*ii+ci*ci;if(Vi*Vi/Lr<ki){if(ki<tr){var ji=jn.charge/ki;$r.px-=ii*ji,$r.py-=ci*ji}return!0}if(jn.point&&ki&&ki<tr){var ji=jn.pointCharge/ki;$r.px-=ii*ji,$r.py-=ci*ji}}return!jn.charge}}ft.tick=function(){if((oe*=.99)<.005)return zt=null,Tt.end({type:"end",alpha:oe=0}),!0;var $r=Yr.length,jn=on.length,Qn,ui,Jn,ii,ci,Vi,ki,ji,ra;for(ui=0;ui<jn;++ui)Jn=on[ui],ii=Jn.source,ci=Jn.target,ji=ci.x-ii.x,ra=ci.y-ii.y,(Vi=ji*ji+ra*ra)&&(Vi=oe*jr[ui]*((Vi=Math.sqrt(Vi))-Pr[ui])/Vi,ji*=Vi,ra*=Vi,ci.x-=ji*(ki=ii.weight+ci.weight?ii.weight/(ii.weight+ci.weight):.5),ci.y-=ra*ki,ii.x+=ji*(ki=1-ki),ii.y+=ra*ki);if((ki=oe*Ar)&&(ji=Kt[0]/2,ra=Kt[1]/2,ui=-1,ki))for(;++ui<$r;)Jn=Yr[ui],Jn.x+=(ji-Jn.x)*ki,Jn.y+=(ra-Jn.y)*ki;if(Ve)for(Pa(Qn=i.geom.quadtree(Yr),oe,Zr),ui=-1;++ui<$r;)(Jn=Yr[ui]).fixed||Qn.visit(cn(Jn));for(ui=-1;++ui<$r;)Jn=Yr[ui],Jn.fixed?(Jn.x=Jn.px,Jn.y=Jn.py):(Jn.x-=(Jn.px-(Jn.px=Jn.x))*Me,Jn.y-=(Jn.py-(Jn.py=Jn.y))*Me);Tt.tick({type:"tick",alpha:oe})},ft.nodes=function($r){return arguments.length?(Yr=$r,ft):Yr},ft.links=function($r){return arguments.length?(on=$r,ft):on},ft.size=function($r){return arguments.length?(Kt=$r,ft):Kt},ft.linkDistance=function($r){return arguments.length?(we=typeof $r=="function"?$r:+$r,ft):we},ft.distance=ft.linkDistance,ft.linkStrength=function($r){return arguments.length?(He=typeof $r=="function"?$r:+$r,ft):He},ft.friction=function($r){return arguments.length?(Me=+$r,ft):Me},ft.charge=function($r){return arguments.length?(Ve=typeof $r=="function"?$r:+$r,ft):Ve},ft.chargeDistance=function($r){return arguments.length?(tr=$r*$r,ft):Math.sqrt(tr)},ft.gravity=function($r){return arguments.length?(Ar=+$r,ft):Ar},ft.theta=function($r){return arguments.length?(Lr=$r*$r,ft):Math.sqrt(Lr)},ft.alpha=function($r){return arguments.length?($r=+$r,oe?$r>0?oe=$r:(zt.c=null,zt.t=NaN,zt=null,Tt.end({type:"end",alpha:oe=0})):$r>0&&(Tt.start({type:"start",alpha:oe=$r}),zt=zn(ft.tick)),ft):oe},ft.start=function(){var $r,jn=Yr.length,Qn=on.length,ui=Kt[0],Jn=Kt[1],ii,ci;for($r=0;$r<jn;++$r)(ci=Yr[$r]).index=$r,ci.weight=0;for($r=0;$r<Qn;++$r)ci=on[$r],typeof ci.source=="number"&&(ci.source=Yr[ci.source]),typeof ci.target=="number"&&(ci.target=Yr[ci.target]),++ci.source.weight,++ci.target.weight;for($r=0;$r<jn;++$r)ci=Yr[$r],isNaN(ci.x)&&(ci.x=Vi("x",ui)),isNaN(ci.y)&&(ci.y=Vi("y",Jn)),isNaN(ci.px)&&(ci.px=ci.x),isNaN(ci.py)&&(ci.py=ci.y);if(Pr=[],typeof we=="function")for($r=0;$r<Qn;++$r)Pr[$r]=+we.call(this,on[$r],$r);else for($r=0;$r<Qn;++$r)Pr[$r]=we;if(jr=[],typeof He=="function")for($r=0;$r<Qn;++$r)jr[$r]=+He.call(this,on[$r],$r);else for($r=0;$r<Qn;++$r)jr[$r]=He;if(Zr=[],typeof Ve=="function")for($r=0;$r<jn;++$r)Zr[$r]=+Ve.call(this,Yr[$r],$r);else for($r=0;$r<jn;++$r)Zr[$r]=Ve;function Vi(ki,ji){if(!ii){for(ii=new Array(jn),aa=0;aa<jn;++aa)ii[aa]=[];for(aa=0;aa<Qn;++aa){var ra=on[aa];ii[ra.source.index].push(ra.target),ii[ra.target.index].push(ra.source)}}for(var Na=ii[$r],aa=-1,Yn=Na.length,Ui;++aa<Yn;)if(!isNaN(Ui=Na[aa][ki]))return Ui;return Math.random()*ji}return ft.resume()},ft.resume=function(){return ft.alpha(.1)},ft.stop=function(){return ft.alpha(0)},ft.drag=function(){if($t||($t=i.behavior.drag().origin(F).on("dragstart.force",ms).on("drag.force",hn).on("dragend.force",Ac)),!arguments.length)return $t;this.on("mouseover.force",Hl).on("mouseout.force",es).call($t)};function hn($r){$r.px=i.event.x,$r.py=i.event.y,ft.resume()}return i.rebind(ft,Tt,"on")};function ms(ft){ft.fixed|=2}function Ac(ft){ft.fixed&=-7}function Hl(ft){ft.fixed|=4,ft.px=ft.x,ft.py=ft.y}function es(ft){ft.fixed&=-5}function Pa(ft,Tt,zt){var Kt=0,$t=0;if(ft.charge=0,!ft.leaf)for(var oe=ft.nodes,Me=oe.length,we=-1,He;++we<Me;)He=oe[we],He!=null&&(Pa(He,Tt,zt),ft.charge+=He.charge,Kt+=He.charge*He.cx,$t+=He.charge*He.cy);if(ft.point){ft.leaf||(ft.point.x+=Math.random()-.5,ft.point.y+=Math.random()-.5);var Ve=Tt*zt[ft.point.index];ft.charge+=ft.pointCharge=Ve,Kt+=Ve*ft.point.x,$t+=Ve*ft.point.y}ft.cx=Kt/ft.charge,ft.cy=$t/ft.charge}var Sc=20,Th=1,Yu=1/0;i.layout.hierarchy=function(){var ft=Ju,Tt=Ku,zt=Ul;function Kt($t){var oe=[$t],Me=[],we;for($t.depth=0;(we=oe.pop())!=null;)if(Me.push(we),(Ve=Tt.call(Kt,we,we.depth))&&(He=Ve.length)){for(var He,Ve,tr;--He>=0;)oe.push(tr=Ve[He]),tr.parent=we,tr.depth=we.depth+1;zt&&(we.value=0),we.children=Ve}else zt&&(we.value=+zt.call(Kt,we,we.depth)||0),delete we.children;return Po($t,function(Ar){var Lr,Yr;ft&&(Lr=Ar.children)&&Lr.sort(ft),zt&&(Yr=Ar.parent)&&(Yr.value+=Ar.value)}),Me}return Kt.sort=function($t){return arguments.length?(ft=$t,Kt):ft},Kt.children=function($t){return arguments.length?(Tt=$t,Kt):Tt},Kt.value=function($t){return arguments.length?(zt=$t,Kt):zt},Kt.revalue=function($t){return zt&&(Xl($t,function(oe){oe.children&&(oe.value=0)}),Po($t,function(oe){var Me;oe.children||(oe.value=+zt.call(Kt,oe,oe.depth)||0),(Me=oe.parent)&&(Me.value+=oe.value)})),$t},Kt};function Vl(ft,Tt){return i.rebind(ft,Tt,"sort","children","value"),ft.nodes=ft,ft.links=Mh,ft}function Xl(ft,Tt){for(var zt=[ft];(ft=zt.pop())!=null;)if(Tt(ft),($t=ft.children)&&(Kt=$t.length))for(var Kt,$t;--Kt>=0;)zt.push($t[Kt])}function Po(ft,Tt){for(var zt=[ft],Kt=[];(ft=zt.pop())!=null;)if(Kt.push(ft),(Me=ft.children)&&(oe=Me.length))for(var $t=-1,oe,Me;++$t<oe;)zt.push(Me[$t]);for(;(ft=Kt.pop())!=null;)Tt(ft)}function Ku(ft){return ft.children}function Ul(ft){return ft.value}function Ju(ft,Tt){return Tt.value-ft.value}function Mh(ft){return i.merge(ft.map(function(Tt){return(Tt.children||[]).map(function(zt){return{source:Tt,target:zt}})}))}i.layout.partition=function(){var ft=i.layout.hierarchy(),Tt=[1,1];function zt(oe,Me,we,He){var Ve=oe.children;if(oe.x=Me,oe.y=oe.depth*He,oe.dx=we,oe.dy=He,Ve&&(Ar=Ve.length)){var tr=-1,Ar,Lr,Yr;for(we=oe.value?we/oe.value:0;++tr<Ar;)zt(Lr=Ve[tr],Me,Yr=Lr.value*we,He),Me+=Yr}}function Kt(oe){var Me=oe.children,we=0;if(Me&&(Ve=Me.length))for(var He=-1,Ve;++He<Ve;)we=Math.max(we,Kt(Me[He]));return 1+we}function $t(oe,Me){var we=ft.call(this,oe,Me);return zt(we[0],0,Tt[0],Tt[1]/Kt(we[0])),we}return $t.size=function(oe){return arguments.length?(Tt=oe,$t):Tt},Vl($t,ft)},i.layout.pie=function(){var ft=Number,Tt=vf,zt=0,Kt=Ft,$t=0;function oe(Me){var we=Me.length,He=Me.map(function(cn,hn){return+ft.call(oe,cn,hn)}),Ve=+(typeof zt=="function"?zt.apply(this,arguments):zt),tr=(typeof Kt=="function"?Kt.apply(this,arguments):Kt)-Ve,Ar=Math.min(Math.abs(tr)/we,+(typeof $t=="function"?$t.apply(this,arguments):$t)),Lr=Ar*(tr<0?-1:1),Yr=i.sum(He),on=Yr?(tr-we*Lr)/Yr:0,Pr=i.range(we),jr=[],Zr;return Tt!=null&&Pr.sort(Tt===vf?function(cn,hn){return He[hn]-He[cn]}:function(cn,hn){return Tt(Me[cn],Me[hn])}),Pr.forEach(function(cn){jr[cn]={data:Me[cn],value:Zr=He[cn],startAngle:Ve,endAngle:Ve+=Zr*on+Lr,padAngle:Ar}}),jr}return oe.value=function(Me){return arguments.length?(ft=Me,oe):ft},oe.sort=function(Me){return arguments.length?(Tt=Me,oe):Tt},oe.startAngle=function(Me){return arguments.length?(zt=Me,oe):zt},oe.endAngle=function(Me){return arguments.length?(Kt=Me,oe):Kt},oe.padAngle=function(Me){return arguments.length?($t=Me,oe):$t},oe};var vf={};i.layout.stack=function(){var ft=F,Tt=gu,zt=$u,Kt=Pc,$t=Ec,oe=Lc;function Me(we,He){if(!(on=we.length))return we;var Ve=we.map(function(cn,hn){return ft.call(Me,cn,hn)}),tr=Ve.map(function(cn){return cn.map(function(hn,$r){return[$t.call(Me,hn,$r),oe.call(Me,hn,$r)]})}),Ar=Tt.call(Me,tr,He);Ve=i.permute(Ve,Ar),tr=i.permute(tr,Ar);var Lr=zt.call(Me,tr,He),Yr=Ve[0].length,on,Pr,jr,Zr;for(jr=0;jr<Yr;++jr)for(Kt.call(Me,Ve[0][jr],Zr=Lr[jr],tr[0][jr][1]),Pr=1;Pr<on;++Pr)Kt.call(Me,Ve[Pr][jr],Zr+=tr[Pr-1][jr][1],tr[Pr][jr][1]);return we}return Me.values=function(we){return arguments.length?(ft=we,Me):ft},Me.order=function(we){return arguments.length?(Tt=typeof we=="function"?we:ql.get(we)||gu,Me):Tt},Me.offset=function(we){return arguments.length?(zt=typeof we=="function"?we:Qu.get(we)||$u,Me):zt},Me.x=function(we){return arguments.length?($t=we,Me):$t},Me.y=function(we){return arguments.length?(oe=we,Me):oe},Me.out=function(we){return arguments.length?(Kt=we,Me):Kt},Me};function Ec(ft){return ft.x}function Lc(ft){return ft.y}function Pc(ft,Tt,zt){ft.y0=Tt,ft.y=zt}var ql=i.map({"inside-out":function(ft){var Tt=ft.length,zt,Kt,$t=ft.map(da),oe=ft.map(gf),Me=i.range(Tt).sort(function(Ar,Lr){return $t[Ar]-$t[Lr]}),we=0,He=0,Ve=[],tr=[];for(zt=0;zt<Tt;++zt)Kt=Me[zt],we<He?(we+=oe[Kt],Ve.push(Kt)):(He+=oe[Kt],tr.push(Kt));return tr.reverse().concat(Ve)},reverse:function(ft){return i.range(ft.length).reverse()},default:gu}),Qu=i.map({silhouette:function(ft){var Tt=ft.length,zt=ft[0].length,Kt=[],$t=0,oe,Me,we,He=[];for(Me=0;Me<zt;++Me){for(oe=0,we=0;oe<Tt;oe++)we+=ft[oe][Me][1];we>$t&&($t=we),Kt.push(we)}for(Me=0;Me<zt;++Me)He[Me]=($t-Kt[Me])/2;return He},wiggle:function(ft){var Tt=ft.length,zt=ft[0],Kt=zt.length,$t,oe,Me,we,He,Ve,tr,Ar,Lr,Yr=[];for(Yr[0]=Ar=Lr=0,oe=1;oe<Kt;++oe){for($t=0,we=0;$t<Tt;++$t)we+=ft[$t][oe][1];for($t=0,He=0,tr=zt[oe][0]-zt[oe-1][0];$t<Tt;++$t){for(Me=0,Ve=(ft[$t][oe][1]-ft[$t][oe-1][1])/(2*tr);Me<$t;++Me)Ve+=(ft[Me][oe][1]-ft[Me][oe-1][1])/tr;He+=Ve*ft[$t][oe][1]}Yr[oe]=Ar-=we?He/we*tr:0,Ar<Lr&&(Lr=Ar)}for(oe=0;oe<Kt;++oe)Yr[oe]-=Lr;return Yr},expand:function(ft){var Tt=ft.length,zt=ft[0].length,Kt=1/Tt,$t,oe,Me,we=[];for(oe=0;oe<zt;++oe){for($t=0,Me=0;$t<Tt;$t++)Me+=ft[$t][oe][1];if(Me)for($t=0;$t<Tt;$t++)ft[$t][oe][1]/=Me;else for($t=0;$t<Tt;$t++)ft[$t][oe][1]=Kt}for(oe=0;oe<zt;++oe)we[oe]=0;return we},zero:$u});function gu(ft){return i.range(ft.length)}function $u(ft){for(var Tt=-1,zt=ft[0].length,Kt=[];++Tt<zt;)Kt[Tt]=0;return Kt}function da(ft){for(var Tt=1,zt=0,Kt=ft[0][1],$t,oe=ft.length;Tt<oe;++Tt)($t=ft[Tt][1])>Kt&&(zt=Tt,Kt=$t);return zt}function gf(ft){return ft.reduce(rs,0)}function rs(ft,Tt){return ft+Tt[1]}i.layout.histogram=function(){var ft=!0,Tt=Number,zt=yl,Kt=yf;function $t(oe,Me){for(var we=[],He=oe.map(Tt,this),Ve=zt.call(this,He,Me),tr=Kt.call(this,Ve,He,Me),Ar,Me=-1,Lr=He.length,Yr=tr.length-1,on=ft?1:1/Lr,Pr;++Me<Yr;)Ar=we[Me]=[],Ar.dx=tr[Me+1]-(Ar.x=tr[Me]),Ar.y=0;if(Yr>0)for(Me=-1;++Me<Lr;)Pr=He[Me],Pr>=Ve[0]&&Pr<=Ve[1]&&(Ar=we[i.bisect(tr,Pr,1,Yr)-1],Ar.y+=on,Ar.push(oe[Me]));return we}return $t.value=function(oe){return arguments.length?(Tt=oe,$t):Tt},$t.range=function(oe){return arguments.length?(zt=nn(oe),$t):zt},$t.bins=function(oe){return arguments.length?(Kt=typeof oe=="number"?function(Me){return Cc(Me,oe)}:nn(oe),$t):Kt},$t.frequency=function(oe){return arguments.length?(ft=!!oe,$t):ft},$t};function yf(ft,Tt){return Cc(ft,Math.ceil(Math.log(Tt.length)/Math.LN2+1))}function Cc(ft,Tt){for(var zt=-1,Kt=+ft[0],$t=(ft[1]-Kt)/Tt,oe=[];++zt<=Tt;)oe[zt]=$t*zt+Kt;return oe}function yl(ft){return[i.min(ft),i.max(ft)]}i.layout.pack=function(){var ft=i.layout.hierarchy().sort(Js),Tt=0,zt=[1,1],Kt;function $t(oe,Me){var we=ft.call(this,oe,Me),He=we[0],Ve=zt[0],tr=zt[1],Ar=Kt==null?Math.sqrt:typeof Kt=="function"?Kt:function(){return Kt};if(He.x=He.y=0,Po(He,function(Yr){Yr.r=+Ar(Yr.value)}),Po(He,ns),Tt){var Lr=Tt*(Kt?1:Math.max(2*He.r/Ve,2*He.r/tr))/2;Po(He,function(Yr){Yr.r+=Lr}),Po(He,ns),Po(He,function(Yr){Yr.r-=Lr})}return Qs(He,Ve/2,tr/2,Kt?1:1/Math.max(2*He.r/Ve,2*He.r/tr)),we}return $t.size=function(oe){return arguments.length?(zt=oe,$t):zt},$t.radius=function(oe){return arguments.length?(Kt=oe==null||typeof oe=="function"?oe:+oe,$t):Kt},$t.padding=function(oe){return arguments.length?(Tt=+oe,$t):Tt},Vl($t,ft)};function Js(ft,Tt){return ft.value-Tt.value}function tc(ft,Tt){var zt=ft._pack_next;ft._pack_next=Tt,Tt._pack_prev=ft,Tt._pack_next=zt,zt._pack_prev=Tt}function Ra(ft,Tt){ft._pack_next=Tt,Tt._pack_prev=ft}function yu(ft,Tt){var zt=Tt.x-ft.x,Kt=Tt.y-ft.y,$t=ft.r+Tt.r;return .999*$t*$t>zt*zt+Kt*Kt}function ns(ft){if(!(Tt=ft.children)||!(Lr=Tt.length))return;var Tt,zt=1/0,Kt=-1/0,$t=1/0,oe=-1/0,Me,we,He,Ve,tr,Ar,Lr;function Yr($r){zt=Math.min($r.x-$r.r,zt),Kt=Math.max($r.x+$r.r,Kt),$t=Math.min($r.y-$r.r,$t),oe=Math.max($r.y+$r.r,oe)}if(Tt.forEach(Cs),Me=Tt[0],Me.x=-Me.r,Me.y=0,Yr(Me),Lr>1&&(we=Tt[1],we.x=we.r,we.y=0,Yr(we),Lr>2))for(He=Tt[2],is(Me,we,He),Yr(He),tc(Me,He),Me._pack_prev=He,tc(He,we),we=Me._pack_next,Ve=3;Ve<Lr;Ve++){is(Me,we,He=Tt[Ve]);var on=0,Pr=1,jr=1;for(tr=we._pack_next;tr!==we;tr=tr._pack_next,Pr++)if(yu(tr,He)){on=1;break}if(on==1)for(Ar=Me._pack_prev;Ar!==tr._pack_prev&&!yu(Ar,He);Ar=Ar._pack_prev,jr++);on?(Pr<jr||Pr==jr&&we.r<Me.r?Ra(Me,we=tr):Ra(Me=Ar,we),Ve--):(tc(Me,He),we=He,Yr(He))}var Zr=(zt+Kt)/2,cn=($t+oe)/2,hn=0;for(Ve=0;Ve<Lr;Ve++)He=Tt[Ve],He.x-=Zr,He.y-=cn,hn=Math.max(hn,He.r+Math.sqrt(He.x*He.x+He.y*He.y));ft.r=hn,Tt.forEach(ml)}function Cs(ft){ft._pack_next=ft._pack_prev=ft}function ml(ft){delete ft._pack_next,delete ft._pack_prev}function Qs(ft,Tt,zt,Kt){var $t=ft.children;if(ft.x=Tt+=Kt*ft.x,ft.y=zt+=Kt*ft.y,ft.r*=Kt,$t)for(var oe=-1,Me=$t.length;++oe<Me;)Qs($t[oe],Tt,zt,Kt)}function is(ft,Tt,zt){var Kt=ft.r+zt.r,$t=Tt.x-ft.x,oe=Tt.y-ft.y;if(Kt&&($t||oe)){var Me=Tt.r+zt.r,we=$t*$t+oe*oe;Me*=Me,Kt*=Kt;var He=.5+(Kt-Me)/(2*we),Ve=Math.sqrt(Math.max(0,2*Me*(Kt+we)-(Kt-=we)*Kt-Me*Me))/(2*we);zt.x=ft.x+He*$t+Ve*oe,zt.y=ft.y+He*oe-Ve*$t}else zt.x=ft.x+Kt,zt.y=ft.y}i.layout.tree=function(){var ft=i.layout.hierarchy().sort(null).value(null),Tt=Is,zt=[1,1],Kt=null;function $t(tr,Ar){var Lr=ft.call(this,tr,Ar),Yr=Lr[0],on=oe(Yr);if(Po(on,Me),on.parent.m=-on.z,Xl(on,we),Kt)Xl(Yr,Ve);else{var Pr=Yr,jr=Yr,Zr=Yr;Xl(Yr,function(jn){jn.x<Pr.x&&(Pr=jn),jn.x>jr.x&&(jr=jn),jn.depth>Zr.depth&&(Zr=jn)});var cn=Tt(Pr,jr)/2-Pr.x,hn=zt[0]/(jr.x+Tt(jr,Pr)/2+cn),$r=zt[1]/(Zr.depth||1);Xl(Yr,function(jn){jn.x=(jn.x+cn)*hn,jn.y=jn.depth*$r})}return Lr}function oe(tr){for(var Ar={A:null,children:[tr]},Lr=[Ar],Yr;(Yr=Lr.pop())!=null;)for(var on=Yr.children,Pr,jr=0,Zr=on.length;jr<Zr;++jr)Lr.push((on[jr]=Pr={_:on[jr],parent:Yr,children:(Pr=on[jr].children)&&Pr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:jr}).a=Pr);return Ar.children[0]}function Me(tr){var Ar=tr.children,Lr=tr.parent.children,Yr=tr.i?Lr[tr.i-1]:null;if(Ar.length){Ah(tr);var on=(Ar[0].z+Ar[Ar.length-1].z)/2;Yr?(tr.z=Yr.z+Tt(tr._,Yr._),tr.m=tr.z-on):tr.z=on}else Yr&&(tr.z=Yr.z+Tt(tr._,Yr._));tr.parent.A=He(tr,Yr,tr.parent.A||Lr[0])}function we(tr){tr._.x=tr.z+tr.parent.m,tr.m+=tr.parent.m}function He(tr,Ar,Lr){if(Ar){for(var Yr=tr,on=tr,Pr=Ar,jr=Yr.parent.children[0],Zr=Yr.m,cn=on.m,hn=Pr.m,$r=jr.m,jn;Pr=Uo(Pr),Yr=as(Yr),Pr&&Yr;)jr=as(jr),on=Uo(on),on.a=tr,jn=Pr.z+hn-Yr.z-Zr+Tt(Pr._,Yr._),jn>0&&(mu(Sh(Pr,tr,Lr),tr,jn),Zr+=jn,cn+=jn),hn+=Pr.m,Zr+=Yr.m,$r+=jr.m,cn+=on.m;Pr&&!Uo(on)&&(on.t=Pr,on.m+=hn-cn),Yr&&!as(jr)&&(jr.t=Yr,jr.m+=Zr-$r,Lr=tr)}return Lr}function Ve(tr){tr.x*=zt[0],tr.y=tr.depth*zt[1]}return $t.separation=function(tr){return arguments.length?(Tt=tr,$t):Tt},$t.size=function(tr){return arguments.length?(Kt=(zt=tr)==null?Ve:null,$t):Kt?null:zt},$t.nodeSize=function(tr){return arguments.length?(Kt=(zt=tr)==null?null:Ve,$t):Kt?zt:null},Vl($t,ft)};function Is(ft,Tt){return ft.parent==Tt.parent?1:2}function as(ft){var Tt=ft.children;return Tt.length?Tt[0]:ft.t}function Uo(ft){var Tt=ft.children,zt;return(zt=Tt.length)?Tt[zt-1]:ft.t}function mu(ft,Tt,zt){var Kt=zt/(Tt.i-ft.i);Tt.c-=Kt,Tt.s+=zt,ft.c+=Kt,Tt.z+=zt,Tt.m+=zt}function Ah(ft){for(var Tt=0,zt=0,Kt=ft.children,$t=Kt.length,oe;--$t>=0;)oe=Kt[$t],oe.z+=Tt,oe.m+=Tt,Tt+=oe.s+(zt+=oe.c)}function Sh(ft,Tt,zt){return ft.a.parent===Tt.parent?ft.a:zt}i.layout.cluster=function(){var ft=i.layout.hierarchy().sort(null).value(null),Tt=Is,zt=[1,1],Kt=!1;function $t(oe,Me){var we=ft.call(this,oe,Me),He=we[0],Ve,tr=0;Po(He,function(Pr){var jr=Pr.children;jr&&jr.length?(Pr.x=Lh(jr),Pr.y=Eh(jr)):(Pr.x=Ve?tr+=Tt(Pr,Ve):0,Pr.y=0,Ve=Pr)});var Ar=Ic(He),Lr=mf(He),Yr=Ar.x-Tt(Ar,Lr)/2,on=Lr.x+Tt(Lr,Ar)/2;return Po(He,Kt?function(Pr){Pr.x=(Pr.x-He.x)*zt[0],Pr.y=(He.y-Pr.y)*zt[1]}:function(Pr){Pr.x=(Pr.x-Yr)/(on-Yr)*zt[0],Pr.y=(1-(He.y?Pr.y/He.y:1))*zt[1]}),we}return $t.separation=function(oe){return arguments.length?(Tt=oe,$t):Tt},$t.size=function(oe){return arguments.length?(Kt=(zt=oe)==null,$t):Kt?null:zt},$t.nodeSize=function(oe){return arguments.length?(Kt=(zt=oe)!=null,$t):Kt?zt:null},Vl($t,ft)};function Eh(ft){return 1+i.max(ft,function(Tt){return Tt.y})}function Lh(ft){return ft.reduce(function(Tt,zt){return Tt+zt.x},0)/ft.length}function Ic(ft){var Tt=ft.children;return Tt&&Tt.length?Ic(Tt[0]):ft}function mf(ft){var Tt=ft.children,zt;return Tt&&(zt=Tt.length)?mf(Tt[zt-1]):ft}i.layout.treemap=function(){var ft=i.layout.hierarchy(),Tt=Math.round,zt=[1,1],Kt=null,$t=Wl,oe=!1,Me,we="squarify",He=.5*(1+Math.sqrt(5));function Ve(Pr,jr){for(var Zr=-1,cn=Pr.length,hn,$r;++Zr<cn;)$r=(hn=Pr[Zr]).value*(jr<0?0:jr),hn.area=isNaN($r)||$r<=0?0:$r}function tr(Pr){var jr=Pr.children;if(jr&&jr.length){var Zr=$t(Pr),cn=[],hn=jr.slice(),$r,jn=1/0,Qn,ui=we==="slice"?Zr.dx:we==="dice"?Zr.dy:we==="slice-dice"?Pr.depth&1?Zr.dy:Zr.dx:Math.min(Zr.dx,Zr.dy),Jn;for(Ve(hn,Zr.dx*Zr.dy/Pr.value),cn.area=0;(Jn=hn.length)>0;)cn.push($r=hn[Jn-1]),cn.area+=$r.area,we!=="squarify"||(Qn=Lr(cn,ui))<=jn?(hn.pop(),jn=Qn):(cn.area-=cn.pop().area,Yr(cn,ui,Zr,!1),ui=Math.min(Zr.dx,Zr.dy),cn.length=cn.area=0,jn=1/0);cn.length&&(Yr(cn,ui,Zr,!0),cn.length=cn.area=0),jr.forEach(tr)}}function Ar(Pr){var jr=Pr.children;if(jr&&jr.length){var Zr=$t(Pr),cn=jr.slice(),hn,$r=[];for(Ve(cn,Zr.dx*Zr.dy/Pr.value),$r.area=0;hn=cn.pop();)$r.push(hn),$r.area+=hn.area,hn.z!=null&&(Yr($r,hn.z?Zr.dx:Zr.dy,Zr,!cn.length),$r.length=$r.area=0);jr.forEach(Ar)}}function Lr(Pr,jr){for(var Zr=Pr.area,cn,hn=0,$r=1/0,jn=-1,Qn=Pr.length;++jn<Qn;)(cn=Pr[jn].area)&&(cn<$r&&($r=cn),cn>hn&&(hn=cn));return Zr*=Zr,jr*=jr,Zr?Math.max(jr*hn*He/Zr,Zr/(jr*$r*He)):1/0}function Yr(Pr,jr,Zr,cn){var hn=-1,$r=Pr.length,jn=Zr.x,Qn=Zr.y,ui=jr?Tt(Pr.area/jr):0,Jn;if(jr==Zr.dx){for((cn||ui>Zr.dy)&&(ui=Zr.dy);++hn<$r;)Jn=Pr[hn],Jn.x=jn,Jn.y=Qn,Jn.dy=ui,jn+=Jn.dx=Math.min(Zr.x+Zr.dx-jn,ui?Tt(Jn.area/ui):0);Jn.z=!0,Jn.dx+=Zr.x+Zr.dx-jn,Zr.y+=ui,Zr.dy-=ui}else{for((cn||ui>Zr.dx)&&(ui=Zr.dx);++hn<$r;)Jn=Pr[hn],Jn.x=jn,Jn.y=Qn,Jn.dx=ui,Qn+=Jn.dy=Math.min(Zr.y+Zr.dy-Qn,ui?Tt(Jn.area/ui):0);Jn.z=!1,Jn.dy+=Zr.y+Zr.dy-Qn,Zr.x+=ui,Zr.dx-=ui}}function on(Pr){var jr=Me||ft(Pr),Zr=jr[0];return Zr.x=Zr.y=0,Zr.value?(Zr.dx=zt[0],Zr.dy=zt[1]):Zr.dx=Zr.dy=0,Me&&ft.revalue(Zr),Ve([Zr],Zr.dx*Zr.dy/Zr.value),(Me?Ar:tr)(Zr),oe&&(Me=jr),jr}return on.size=function(Pr){return arguments.length?(zt=Pr,on):zt},on.padding=function(Pr){if(!arguments.length)return Kt;function jr(hn){var $r=Pr.call(on,hn,hn.depth);return $r==null?Wl(hn):$a(hn,typeof $r=="number"?[$r,$r,$r,$r]:$r)}function Zr(hn){return $a(hn,Pr)}var cn;return $t=(Kt=Pr)==null?Wl:(cn=typeof Pr)=="function"?jr:(cn==="number"&&(Pr=[Pr,Pr,Pr,Pr]),Zr),on},on.round=function(Pr){return arguments.length?(Tt=Pr?Math.round:Number,on):Tt!=Number},on.sticky=function(Pr){return arguments.length?(oe=Pr,Me=null,on):oe},on.ratio=function(Pr){return arguments.length?(He=Pr,on):He},on.mode=function(Pr){return arguments.length?(we=Pr+"",on):we},Vl(on,ft)};function Wl(ft){return{x:ft.x,y:ft.y,dx:ft.dx,dy:ft.dy}}function $a(ft,Tt){var zt=ft.x+Tt[3],Kt=ft.y+Tt[0],$t=ft.dx-Tt[1]-Tt[3],oe=ft.dy-Tt[0]-Tt[2];return $t<0&&(zt+=$t/2,$t=0),oe<0&&(Kt+=oe/2,oe=0),{x:zt,y:Kt,dx:$t,dy:oe}}i.random={normal:function(ft,Tt){var zt=arguments.length;return zt<2&&(Tt=1),zt<1&&(ft=0),function(){var Kt,$t,oe;do Kt=Math.random()*2-1,$t=Math.random()*2-1,oe=Kt*Kt+$t*$t;while(!oe||oe>1);return ft+Tt*Kt*Math.sqrt(-2*Math.log(oe)/oe)}},logNormal:function(){var ft=i.random.normal.apply(i,arguments);return function(){return Math.exp(ft())}},bates:function(ft){var Tt=i.random.irwinHall(ft);return function(){return Tt()/ft}},irwinHall:function(ft){return function(){for(var Tt=0,zt=0;zt<ft;zt++)Tt+=Math.random();return Tt}}},i.scale={};function No(ft){var Tt=ft[0],zt=ft[ft.length-1];return Tt<zt?[Tt,zt]:[zt,Tt]}function Gl(ft){return ft.rangeExtent?ft.rangeExtent():No(ft.range())}function xf(ft,Tt,zt,Kt){var $t=zt(ft[0],ft[1]),oe=Kt(Tt[0],Tt[1]);return function(Me){return oe($t(Me))}}function xu(ft,Tt){var zt=0,Kt=ft.length-1,$t=ft[zt],oe=ft[Kt],Me;return oe<$t&&(Me=zt,zt=Kt,Kt=Me,Me=$t,$t=oe,oe=Me),ft[zt]=Tt.floor($t),ft[Kt]=Tt.ceil(oe),ft}function Os(ft){return ft?{floor:function(Tt){return Math.floor(Tt/ft)*ft},ceil:function(Tt){return Math.ceil(Tt/ft)*ft}}:Ph}var Ph={floor:F,ceil:F};function bf(ft,Tt,zt,Kt){var $t=[],oe=[],Me=0,we=Math.min(ft.length,Tt.length)-1;for(ft[we]<ft[0]&&(ft=ft.slice().reverse(),Tt=Tt.slice().reverse());++Me<=we;)$t.push(zt(ft[Me-1],ft[Me])),oe.push(Kt(Tt[Me-1],Tt[Me]));return function(He){var Ve=i.bisect(ft,He,1,we)-1;return oe[Ve]($t[Ve](He))}}i.scale.linear=function(){return _f([0,1],[0,1],ao,!1)};function _f(ft,Tt,zt,Kt){var $t,oe;function Me(){var He=Math.min(ft.length,Tt.length)>2?bf:xf,Ve=Kt?jl:ts;return $t=He(ft,Tt,Ve,zt),oe=He(Tt,ft,Ve,ao),we}function we(He){return $t(He)}return we.invert=function(He){return oe(He)},we.domain=function(He){return arguments.length?(ft=He.map(Number),Me()):ft},we.range=function(He){return arguments.length?(Tt=He,Me()):Tt},we.rangeRound=function(He){return we.range(He).interpolate(ff)},we.clamp=function(He){return arguments.length?(Kt=He,Me()):Kt},we.interpolate=function(He){return arguments.length?(zt=He,Me()):zt},we.ticks=function(He){return os(ft,He)},we.tickFormat=function(He,Ve){return d3_scale_linearTickFormat(ft,He,Ve)},we.nice=function(He){return wf(ft,He),Me()},we.copy=function(){return _f(ft,Tt,zt,Kt)},Me()}function Oc(ft,Tt){return i.rebind(ft,Tt,"range","rangeRound","interpolate","clamp")}function wf(ft,Tt){return xu(ft,Os(ko(ft,Tt)[2])),xu(ft,Os(ko(ft,Tt)[2])),ft}function ko(ft,Tt){Tt==null&&(Tt=10);var zt=No(ft),Kt=zt[1]-zt[0],$t=Math.pow(10,Math.floor(Math.log(Kt/Tt)/Math.LN10)),oe=Tt/Kt*$t;return oe<=.15?$t*=10:oe<=.35?$t*=5:oe<=.75&&($t*=2),zt[0]=Math.ceil(zt[0]/$t)*$t,zt[1]=Math.floor(zt[1]/$t)*$t+$t*.5,zt[2]=$t,zt}function os(ft,Tt){return i.range.apply(i,ko(ft,Tt))}i.scale.log=function(){return $s(i.scale.linear().domain([0,1]),10,!0,[1,10])};function $s(ft,Tt,zt,Kt){function $t(we){return(zt?Math.log(we<0?0:we):-Math.log(we>0?0:-we))/Math.log(Tt)}function oe(we){return zt?Math.pow(Tt,we):-Math.pow(Tt,-we)}function Me(we){return ft($t(we))}return Me.invert=function(we){return oe(ft.invert(we))},Me.domain=function(we){return arguments.length?(zt=we[0]>=0,ft.domain((Kt=we.map(Number)).map($t)),Me):Kt},Me.base=function(we){return arguments.length?(Tt=+we,ft.domain(Kt.map($t)),Me):Tt},Me.nice=function(){var we=xu(Kt.map($t),zt?Math:Zl);return ft.domain(we),Kt=we.map(oe),Me},Me.ticks=function(){var we=No(Kt),He=[],Ve=we[0],tr=we[1],Ar=Math.floor($t(Ve)),Lr=Math.ceil($t(tr)),Yr=Tt%1?2:Tt;if(isFinite(Lr-Ar)){if(zt){for(;Ar<Lr;Ar++)for(var on=1;on<Yr;on++)He.push(oe(Ar)*on);He.push(oe(Ar))}else for(He.push(oe(Ar));Ar++<Lr;)for(var on=Yr-1;on>0;on--)He.push(oe(Ar)*on);for(Ar=0;He[Ar]<Ve;Ar++);for(Lr=He.length;He[Lr-1]>tr;Lr--);He=He.slice(Ar,Lr)}return He},Me.copy=function(){return $s(ft.copy(),Tt,zt,Kt)},Oc(Me,ft)}var Zl={floor:function(ft){return-Math.ceil(-ft)},ceil:function(ft){return-Math.floor(-ft)}};i.scale.pow=function(){return ec(i.scale.linear(),1,[0,1])};function ec(ft,Tt,zt){var Kt=xl(Tt),$t=xl(1/Tt);function oe(Me){return ft(Kt(Me))}return oe.invert=function(Me){return $t(ft.invert(Me))},oe.domain=function(Me){return arguments.length?(ft.domain((zt=Me.map(Number)).map(Kt)),oe):zt},oe.ticks=function(Me){return os(zt,Me)},oe.tickFormat=function(Me,we){return d3_scale_linearTickFormat(zt,Me,we)},oe.nice=function(Me){return oe.domain(wf(zt,Me))},oe.exponent=function(Me){return arguments.length?(Kt=xl(Tt=Me),$t=xl(1/Tt),ft.domain(zt.map(Kt)),oe):Tt},oe.copy=function(){return ec(ft.copy(),Tt,zt)},Oc(oe,ft)}function xl(ft){return function(Tt){return Tt<0?-Math.pow(-Tt,ft):Math.pow(Tt,ft)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return bl([],{t:"range",a:[[]]})};function bl(ft,Tt){var zt,Kt,$t;function oe(we){return Kt[((zt.get(we)||(Tt.t==="range"?zt.set(we,ft.push(we)):NaN))-1)%Kt.length]}function Me(we,He){return i.range(ft.length).map(function(Ve){return we+He*Ve})}return oe.domain=function(we){if(!arguments.length)return ft;ft=[],zt=new _;for(var He=-1,Ve=we.length,tr;++He<Ve;)zt.has(tr=we[He])||zt.set(tr,ft.push(tr));return oe[Tt.t].apply(oe,Tt.a)},oe.range=function(we){return arguments.length?(Kt=we,$t=0,Tt={t:"range",a:arguments},oe):Kt},oe.rangePoints=function(we,He){arguments.length<2&&(He=0);var Ve=we[0],tr=we[1],Ar=ft.length<2?(Ve=(Ve+tr)/2,0):(tr-Ve)/(ft.length-1+He);return Kt=Me(Ve+Ar*He/2,Ar),$t=0,Tt={t:"rangePoints",a:arguments},oe},oe.rangeRoundPoints=function(we,He){arguments.length<2&&(He=0);var Ve=we[0],tr=we[1],Ar=ft.length<2?(Ve=tr=Math.round((Ve+tr)/2),0):(tr-Ve)/(ft.length-1+He)|0;return Kt=Me(Ve+Math.round(Ar*He/2+(tr-Ve-(ft.length-1+He)*Ar)/2),Ar),$t=0,Tt={t:"rangeRoundPoints",a:arguments},oe},oe.rangeBands=function(we,He,Ve){arguments.length<2&&(He=0),arguments.length<3&&(Ve=He);var tr=we[1]<we[0],Ar=we[tr-0],Lr=we[1-tr],Yr=(Lr-Ar)/(ft.length-He+2*Ve);return Kt=Me(Ar+Yr*Ve,Yr),tr&&Kt.reverse(),$t=Yr*(1-He),Tt={t:"rangeBands",a:arguments},oe},oe.rangeRoundBands=function(we,He,Ve){arguments.length<2&&(He=0),arguments.length<3&&(Ve=He);var tr=we[1]<we[0],Ar=we[tr-0],Lr=we[1-tr],Yr=Math.floor((Lr-Ar)/(ft.length-He+2*Ve));return Kt=Me(Ar+Math.round((Lr-Ar-(ft.length-He)*Yr)/2),Yr),tr&&Kt.reverse(),$t=Math.round(Yr*(1-He)),Tt={t:"rangeRoundBands",a:arguments},oe},oe.rangeBand=function(){return $t},oe.rangeExtent=function(){return No(Tt.a[0])},oe.copy=function(){return bl(ft,Tt)},oe.domain(ft)}i.scale.category10=function(){return i.scale.ordinal().range(kf)},i.scale.category20=function(){return i.scale.ordinal().range(zs)},i.scale.category20b=function(){return i.scale.ordinal().range(Yl)},i.scale.category20c=function(){return i.scale.ordinal().range(tl)};var kf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(De),zs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(De),Yl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(De),tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(De);i.scale.quantile=function(){return Rs([],[])};function Rs(ft,Tt){var zt;function Kt(){var oe=0,Me=Tt.length;for(zt=[];++oe<Me;)zt[oe-1]=i.quantile(ft,oe/Me);return $t}function $t(oe){if(!isNaN(oe=+oe))return Tt[i.bisect(zt,oe)]}return $t.domain=function(oe){return arguments.length?(ft=oe.map(b).filter(f).sort(h),Kt()):ft},$t.range=function(oe){return arguments.length?(Tt=oe,Kt()):Tt},$t.quantiles=function(){return zt},$t.invertExtent=function(oe){return oe=Tt.indexOf(oe),oe<0?[NaN,NaN]:[oe>0?zt[oe-1]:ft[0],oe<zt.length?zt[oe]:ft[ft.length-1]]},$t.copy=function(){return Rs(ft,Tt)},Kt()}i.scale.quantize=function(){return bu(0,1,[0,1])};function bu(ft,Tt,zt){var Kt,$t;function oe(we){return zt[Math.max(0,Math.min($t,Math.floor(Kt*(we-ft))))]}function Me(){return Kt=zt.length/(Tt-ft),$t=zt.length-1,oe}return oe.domain=function(we){return arguments.length?(ft=+we[0],Tt=+we[we.length-1],Me()):[ft,Tt]},oe.range=function(we){return arguments.length?(zt=we,Me()):zt},oe.invertExtent=function(we){return we=zt.indexOf(we),we=we<0?NaN:we/Kt+ft,[we,we+1/Kt]},oe.copy=function(){return bu(ft,Tt,zt)},Me()}i.scale.threshold=function(){return Kl([.5],[0,1])};function Kl(ft,Tt){function zt(Kt){if(Kt<=Kt)return Tt[i.bisect(ft,Kt)]}return zt.domain=function(Kt){return arguments.length?(ft=Kt,zt):ft},zt.range=function(Kt){return arguments.length?(Tt=Kt,zt):Tt},zt.invertExtent=function(Kt){return Kt=Tt.indexOf(Kt),[ft[Kt-1],ft[Kt]]},zt.copy=function(){return Kl(ft,Tt)},zt}i.scale.identity=function(){return ua([0,1])};function ua(ft){function Tt(zt){return+zt}return Tt.invert=Tt,Tt.domain=Tt.range=function(zt){return arguments.length?(ft=zt.map(Tt),Tt):ft},Tt.ticks=function(zt){return os(ft,zt)},Tt.tickFormat=function(zt,Kt){return d3_scale_linearTickFormat(ft,zt,Kt)},Tt.copy=function(){return ua(ft)},Tt}i.svg={};function Jl(){return 0}i.svg.arc=function(){var ft=Tf,Tt=Ql,zt=Jl,Kt=rc,$t=_u,oe=nc,Me=zc;function we(){var Ve=Math.max(0,+ft.apply(this,arguments)),tr=Math.max(0,+Tt.apply(this,arguments)),Ar=$t.apply(this,arguments)-Qt,Lr=oe.apply(this,arguments)-Qt,Yr=Math.abs(Lr-Ar),on=Ar>Lr?0:1;if(tr<Ve&&(Pr=tr,tr=Ve,Ve=Pr),Yr>=Wt)return He(tr,on)+(Ve?He(Ve,1-on):"")+"Z";var Pr,jr,Zr,cn,hn=0,$r=0,jn,Qn,ui,Jn,ii,ci,Vi,ki,ji=[];if((cn=(+Me.apply(this,arguments)||0)/2)&&(Zr=Kt===rc?Math.sqrt(Ve*Ve+tr*tr):+Kt.apply(this,arguments),on||($r*=-1),tr&&($r=Ue(Zr/tr*Math.sin(cn))),Ve&&(hn=Ue(Zr/Ve*Math.sin(cn)))),tr){jn=tr*Math.cos(Ar+$r),Qn=tr*Math.sin(Ar+$r),ui=tr*Math.cos(Lr-$r),Jn=tr*Math.sin(Lr-$r);var ra=Math.abs(Lr-Ar-2*$r)<=At?0:1;if($r&&wu(jn,Qn,ui,Jn)===on^ra){var Na=(Ar+Lr)/2;jn=tr*Math.cos(Na),Qn=tr*Math.sin(Na),ui=Jn=null}}else jn=Qn=0;if(Ve){ii=Ve*Math.cos(Lr-hn),ci=Ve*Math.sin(Lr-hn),Vi=Ve*Math.cos(Ar+hn),ki=Ve*Math.sin(Ar+hn);var aa=Math.abs(Ar-Lr+2*hn)<=At?0:1;if(hn&&wu(ii,ci,Vi,ki)===1-on^aa){var Yn=(Ar+Lr)/2;ii=Ve*Math.cos(Yn),ci=Ve*Math.sin(Yn),Vi=ki=null}}else ii=ci=0;if(Yr>xt&&(Pr=Math.min(Math.abs(tr-Ve)/2,+zt.apply(this,arguments)))>.001){jr=Ve<tr^on?0:1;var Ui=Pr,wi=Pr;if(Yr<At){var Gi=Vi==null?[ii,ci]:ui==null?[jn,Qn]:vn([jn,Qn],[Vi,ki],[ui,Jn],[ii,ci]),xa=jn-Gi[0],na=Qn-Gi[1],to=ui-Gi[0],eo=Jn-Gi[1],oo=1/Math.sin(Math.acos((xa*to+na*eo)/(Math.sqrt(xa*xa+na*na)*Math.sqrt(to*to+eo*eo)))/2),ba=Math.sqrt(Gi[0]*Gi[0]+Gi[1]*Gi[1]);wi=Math.min(Pr,(Ve-ba)/(oo-1)),Ui=Math.min(Pr,(tr-ba)/(oo+1))}if(ui!=null){var xo=ku(Vi==null?[ii,ci]:[Vi,ki],[jn,Qn],tr,Ui,on),si=ku([ui,Jn],[ii,ci],tr,Ui,on);Pr===Ui?ji.push("M",xo[0],"A",Ui,",",Ui," 0 0,",jr," ",xo[1],"A",tr,",",tr," 0 ",1-on^wu(xo[1][0],xo[1][1],si[1][0],si[1][1]),",",on," ",si[1],"A",Ui,",",Ui," 0 0,",jr," ",si[0]):ji.push("M",xo[0],"A",Ui,",",Ui," 0 1,",jr," ",si[0])}else ji.push("M",jn,",",Qn);if(Vi!=null){var Mi=ku([jn,Qn],[Vi,ki],Ve,-wi,on),Io=ku([ii,ci],ui==null?[jn,Qn]:[ui,Jn],Ve,-wi,on);Pr===wi?ji.push("L",Io[0],"A",wi,",",wi," 0 0,",jr," ",Io[1],"A",Ve,",",Ve," 0 ",on^wu(Io[1][0],Io[1][1],Mi[1][0],Mi[1][1]),",",1-on," ",Mi[1],"A",wi,",",wi," 0 0,",jr," ",Mi[0]):ji.push("L",Io[0],"A",wi,",",wi," 0 0,",jr," ",Mi[0])}else ji.push("L",ii,",",ci)}else ji.push("M",jn,",",Qn),ui!=null&&ji.push("A",tr,",",tr," 0 ",ra,",",on," ",ui,",",Jn),ji.push("L",ii,",",ci),Vi!=null&&ji.push("A",Ve,",",Ve," 0 ",aa,",",1-on," ",Vi,",",ki);return ji.push("Z"),ji.join("")}function He(Ve,tr){return"M0,"+Ve+"A"+Ve+","+Ve+" 0 1,"+tr+" 0,"+-Ve+"A"+Ve+","+Ve+" 0 1,"+tr+" 0,"+Ve}return we.innerRadius=function(Ve){return arguments.length?(ft=nn(Ve),we):ft},we.outerRadius=function(Ve){return arguments.length?(Tt=nn(Ve),we):Tt},we.cornerRadius=function(Ve){return arguments.length?(zt=nn(Ve),we):zt},we.padRadius=function(Ve){return arguments.length?(Kt=Ve==rc?rc:nn(Ve),we):Kt},we.startAngle=function(Ve){return arguments.length?($t=nn(Ve),we):$t},we.endAngle=function(Ve){return arguments.length?(oe=nn(Ve),we):oe},we.padAngle=function(Ve){return arguments.length?(Me=nn(Ve),we):Me},we.centroid=function(){var Ve=(+ft.apply(this,arguments)+ +Tt.apply(this,arguments))/2,tr=(+$t.apply(this,arguments)+ +oe.apply(this,arguments))/2-Qt;return[Math.cos(tr)*Ve,Math.sin(tr)*Ve]},we};var rc="auto";function Tf(ft){return ft.innerRadius}function Ql(ft){return ft.outerRadius}function _u(ft){return ft.startAngle}function nc(ft){return ft.endAngle}function zc(ft){return ft&&ft.padAngle}function wu(ft,Tt,zt,Kt){return(ft-zt)*Tt-(Tt-Kt)*ft>0?0:1}function ku(ft,Tt,zt,Kt,$t){var oe=ft[0]-Tt[0],Me=ft[1]-Tt[1],we=($t?Kt:-Kt)/Math.sqrt(oe*oe+Me*Me),He=we*Me,Ve=-we*oe,tr=ft[0]+He,Ar=ft[1]+Ve,Lr=Tt[0]+He,Yr=Tt[1]+Ve,on=(tr+Lr)/2,Pr=(Ar+Yr)/2,jr=Lr-tr,Zr=Yr-Ar,cn=jr*jr+Zr*Zr,hn=zt-Kt,$r=tr*Yr-Lr*Ar,jn=(Zr<0?-1:1)*Math.sqrt(Math.max(0,hn*hn*cn-$r*$r)),Qn=($r*Zr-jr*jn)/cn,ui=(-$r*jr-Zr*jn)/cn,Jn=($r*Zr+jr*jn)/cn,ii=(-$r*jr+Zr*jn)/cn,ci=Qn-on,Vi=ui-Pr,ki=Jn-on,ji=ii-Pr;return ci*ci+Vi*Vi>ki*ki+ji*ji&&(Qn=Jn,ui=ii),[[Qn-He,ui-Ve],[Qn*zt/hn,ui*zt/hn]]}function el(){return!0}function Tu(ft){var Tt=mi,zt=li,Kt=el,$t=Wa,oe=$t.key,Me=.7;function we(He){var Ve=[],tr=[],Ar=-1,Lr=He.length,Yr,on=nn(Tt),Pr=nn(zt);function jr(){Ve.push("M",$t(ft(tr),Me))}for(;++Ar<Lr;)Kt.call(this,Yr=He[Ar],Ar)?tr.push([+on.call(this,Yr,Ar),+Pr.call(this,Yr,Ar)]):tr.length&&(jr(),tr=[]);return tr.length&&jr(),Ve.length?Ve.join(""):null}return we.x=function(He){return arguments.length?(Tt=He,we):Tt},we.y=function(He){return arguments.length?(zt=He,we):zt},we.defined=function(He){return arguments.length?(Kt=He,we):Kt},we.interpolate=function(He){return arguments.length?(typeof He=="function"?oe=$t=He:oe=($t=rl.get(He)||Wa).key,we):oe},we.tension=function(He){return arguments.length?(Me=He,we):Me},we}i.svg.line=function(){return Tu(F)};var rl=i.map({linear:Wa,"linear-closed":xs,step:Rc,"step-before":_l,"step-after":ic,basis:$l,"basis-open":Af,"basis-closed":nl,bundle:Ih,cardinal:Mf,"cardinal-open":Mu,"cardinal-closed":Ch,monotone:oc});rl.forEach(function(ft,Tt){Tt.key=ft,Tt.closed=/-closed$/.test(ft)});function Wa(ft){return ft.length>1?ft.join("L"):ft+"Z"}function xs(ft){return ft.join("L")+"Z"}function Rc(ft){for(var Tt=0,zt=ft.length,Kt=ft[0],$t=[Kt[0],",",Kt[1]];++Tt<zt;)$t.push("H",(Kt[0]+(Kt=ft[Tt])[0])/2,"V",Kt[1]);return zt>1&&$t.push("H",Kt[0]),$t.join("")}function _l(ft){for(var Tt=0,zt=ft.length,Kt=ft[0],$t=[Kt[0],",",Kt[1]];++Tt<zt;)$t.push("V",(Kt=ft[Tt])[1],"H",Kt[0]);return $t.join("")}function ic(ft){for(var Tt=0,zt=ft.length,Kt=ft[0],$t=[Kt[0],",",Kt[1]];++Tt<zt;)$t.push("H",(Kt=ft[Tt])[0],"V",Kt[1]);return $t.join("")}function Mu(ft,Tt){return ft.length<4?Wa(ft):ft[1]+mo(ft.slice(1,-1),Au(ft,Tt))}function Ch(ft,Tt){return ft.length<3?xs(ft):ft[0]+mo((ft.push(ft[0]),ft),Au([ft[ft.length-2]].concat(ft,[ft[1]]),Tt))}function Mf(ft,Tt){return ft.length<3?Wa(ft):ft[0]+mo(ft,Au(ft,Tt))}function mo(ft,Tt){if(Tt.length<1||ft.length!=Tt.length&&ft.length!=Tt.length+2)return Wa(ft);var zt=ft.length!=Tt.length,Kt="",$t=ft[0],oe=ft[1],Me=Tt[0],we=Me,He=1;if(zt&&(Kt+="Q"+(oe[0]-Me[0]*2/3)+","+(oe[1]-Me[1]*2/3)+","+oe[0]+","+oe[1],$t=ft[1],He=2),Tt.length>1){we=Tt[1],oe=ft[He],He++,Kt+="C"+($t[0]+Me[0])+","+($t[1]+Me[1])+","+(oe[0]-we[0])+","+(oe[1]-we[1])+","+oe[0]+","+oe[1];for(var Ve=2;Ve<Tt.length;Ve++,He++)oe=ft[He],we=Tt[Ve],Kt+="S"+(oe[0]-we[0])+","+(oe[1]-we[1])+","+oe[0]+","+oe[1]}if(zt){var tr=ft[He];Kt+="Q"+(oe[0]+we[0]*2/3)+","+(oe[1]+we[1]*2/3)+","+tr[0]+","+tr[1]}return Kt}function Au(ft,Tt){for(var zt=[],Kt=(1-Tt)/2,$t,oe=ft[0],Me=ft[1],we=1,He=ft.length;++we<He;)$t=oe,oe=Me,Me=ft[we],zt.push([Kt*(Me[0]-$t[0]),Kt*(Me[1]-$t[1])]);return zt}function $l(ft){if(ft.length<3)return Wa(ft);var Tt=1,zt=ft.length,Kt=ft[0],$t=Kt[0],oe=Kt[1],Me=[$t,$t,$t,(Kt=ft[1])[0]],we=[oe,oe,oe,Kt[1]],He=[$t,",",oe,"L",Co(Ds,Me),",",Co(Ds,we)];for(ft.push(ft[zt-1]);++Tt<=zt;)Kt=ft[Tt],Me.shift(),Me.push(Kt[0]),we.shift(),we.push(Kt[1]),il(He,Me,we);return ft.pop(),He.push("L",Kt),He.join("")}function Af(ft){if(ft.length<4)return Wa(ft);for(var Tt=[],zt=-1,Kt=ft.length,$t,oe=[0],Me=[0];++zt<3;)$t=ft[zt],oe.push($t[0]),Me.push($t[1]);for(Tt.push(Co(Ds,oe)+","+Co(Ds,Me)),--zt;++zt<Kt;)$t=ft[zt],oe.shift(),oe.push($t[0]),Me.shift(),Me.push($t[1]),il(Tt,oe,Me);return Tt.join("")}function nl(ft){for(var Tt,zt=-1,Kt=ft.length,$t=Kt+4,oe,Me=[],we=[];++zt<4;)oe=ft[zt%Kt],Me.push(oe[0]),we.push(oe[1]);for(Tt=[Co(Ds,Me),",",Co(Ds,we)],--zt;++zt<$t;)oe=ft[zt%Kt],Me.shift(),Me.push(oe[0]),we.shift(),we.push(oe[1]),il(Tt,Me,we);return Tt.join("")}function Ih(ft,Tt){var zt=ft.length-1;if(zt)for(var Kt=ft[0][0],$t=ft[0][1],oe=ft[zt][0]-Kt,Me=ft[zt][1]-$t,we=-1,He,Ve;++we<=zt;)He=ft[we],Ve=we/zt,He[0]=Tt*He[0]+(1-Tt)*(Kt+Ve*oe),He[1]=Tt*He[1]+(1-Tt)*($t+Ve*Me);return $l(ft)}function Co(ft,Tt){return ft[0]*Tt[0]+ft[1]*Tt[1]+ft[2]*Tt[2]+ft[3]*Tt[3]}var Su=[0,2/3,1/3,0],ac=[0,1/3,2/3,0],Ds=[0,1/6,2/3,1/6];function il(ft,Tt,zt){ft.push("C",Co(Su,Tt),",",Co(Su,zt),",",Co(ac,Tt),",",Co(ac,zt),",",Co(Ds,Tt),",",Co(Ds,zt))}function Dc(ft,Tt){return(Tt[1]-ft[1])/(Tt[0]-ft[0])}function Eu(ft){for(var Tt=0,zt=ft.length-1,Kt=[],$t=ft[0],oe=ft[1],Me=Kt[0]=Dc($t,oe);++Tt<zt;)Kt[Tt]=(Me+(Me=Dc($t=oe,oe=ft[Tt+1])))/2;return Kt[Tt]=Me,Kt}function Lu(ft){for(var Tt=[],zt,Kt,$t,oe,Me=Eu(ft),we=-1,He=ft.length-1;++we<He;)zt=Dc(ft[we],ft[we+1]),p(zt)<xt?Me[we]=Me[we+1]=0:(Kt=Me[we]/zt,$t=Me[we+1]/zt,oe=Kt*Kt+$t*$t,oe>9&&(oe=zt*3/Math.sqrt(oe),Me[we]=oe*Kt,Me[we+1]=oe*$t));for(we=-1;++we<=He;)oe=(ft[Math.min(He,we+1)][0]-ft[Math.max(0,we-1)][0])/(6*(1+Me[we]*Me[we])),Tt.push([oe||0,Me[we]*oe||0]);return Tt}function oc(ft){return ft.length<3?Wa(ft):ft[0]+mo(ft,Lu(ft))}i.svg.line.radial=function(){var ft=Tu(Sf);return ft.radius=ft.x,delete ft.x,ft.angle=ft.y,delete ft.y,ft};function Sf(ft){for(var Tt,zt=-1,Kt=ft.length,$t,oe;++zt<Kt;)Tt=ft[zt],$t=Tt[0],oe=Tt[1]-Qt,Tt[0]=$t*Math.cos(oe),Tt[1]=$t*Math.sin(oe);return ft}function Pu(ft){var Tt=mi,zt=mi,Kt=0,$t=li,oe=el,Me=Wa,we=Me.key,He=Me,Ve="L",tr=.7;function Ar(Lr){var Yr=[],on=[],Pr=[],jr=-1,Zr=Lr.length,cn,hn=nn(Tt),$r=nn(Kt),jn=Tt===zt?function(){return ui}:nn(zt),Qn=Kt===$t?function(){return Jn}:nn($t),ui,Jn;function ii(){Yr.push("M",Me(ft(Pr),tr),Ve,He(ft(on.reverse()),tr),"Z")}for(;++jr<Zr;)oe.call(this,cn=Lr[jr],jr)?(on.push([ui=+hn.call(this,cn,jr),Jn=+$r.call(this,cn,jr)]),Pr.push([+jn.call(this,cn,jr),+Qn.call(this,cn,jr)])):on.length&&(ii(),on=[],Pr=[]);return on.length&&ii(),Yr.length?Yr.join(""):null}return Ar.x=function(Lr){return arguments.length?(Tt=zt=Lr,Ar):zt},Ar.x0=function(Lr){return arguments.length?(Tt=Lr,Ar):Tt},Ar.x1=function(Lr){return arguments.length?(zt=Lr,Ar):zt},Ar.y=function(Lr){return arguments.length?(Kt=$t=Lr,Ar):$t},Ar.y0=function(Lr){return arguments.length?(Kt=Lr,Ar):Kt},Ar.y1=function(Lr){return arguments.length?($t=Lr,Ar):$t},Ar.defined=function(Lr){return arguments.length?(oe=Lr,Ar):oe},Ar.interpolate=function(Lr){return arguments.length?(typeof Lr=="function"?we=Me=Lr:we=(Me=rl.get(Lr)||Wa).key,He=Me.reverse||Me,Ve=Me.closed?"M":"L",Ar):we},Ar.tension=function(Lr){return arguments.length?(tr=Lr,Ar):tr},Ar}_l.reverse=ic,ic.reverse=_l,i.svg.area=function(){return Pu(F)},i.svg.area.radial=function(){var ft=Pu(Sf);return ft.radius=ft.x,delete ft.x,ft.innerRadius=ft.x0,delete ft.x0,ft.outerRadius=ft.x1,delete ft.x1,ft.angle=ft.y,delete ft.y,ft.startAngle=ft.y0,delete ft.y0,ft.endAngle=ft.y1,delete ft.y1,ft};function Fc(ft){return ft.source}function wl(ft){return ft.target}i.svg.chord=function(){var ft=Fc,Tt=wl,zt=Bc,Kt=_u,$t=nc;function oe(tr,Ar){var Lr=Me(this,ft,tr,Ar),Yr=Me(this,Tt,tr,Ar);return"M"+Lr.p0+He(Lr.r,Lr.p1,Lr.a1-Lr.a0)+(we(Lr,Yr)?Ve(Lr.r,Lr.p1,Lr.r,Lr.p0):Ve(Lr.r,Lr.p1,Yr.r,Yr.p0)+He(Yr.r,Yr.p1,Yr.a1-Yr.a0)+Ve(Yr.r,Yr.p1,Lr.r,Lr.p0))+"Z"}function Me(tr,Ar,Lr,Yr){var on=Ar.call(tr,Lr,Yr),Pr=zt.call(tr,on,Yr),jr=Kt.call(tr,on,Yr)-Qt,Zr=$t.call(tr,on,Yr)-Qt;return{r:Pr,a0:jr,a1:Zr,p0:[Pr*Math.cos(jr),Pr*Math.sin(jr)],p1:[Pr*Math.cos(Zr),Pr*Math.sin(Zr)]}}function we(tr,Ar){return tr.a0==Ar.a0&&tr.a1==Ar.a1}function He(tr,Ar,Lr){return"A"+tr+","+tr+" 0 "+ +(Lr>At)+",1 "+Ar}function Ve(tr,Ar,Lr,Yr){return"Q 0,0 "+Yr}return oe.radius=function(tr){return arguments.length?(zt=nn(tr),oe):zt},oe.source=function(tr){return arguments.length?(ft=nn(tr),oe):ft},oe.target=function(tr){return arguments.length?(Tt=nn(tr),oe):Tt},oe.startAngle=function(tr){return arguments.length?(Kt=nn(tr),oe):Kt},oe.endAngle=function(tr){return arguments.length?($t=nn(tr),oe):$t},oe};function Bc(ft){return ft.radius}i.svg.diagonal=function(){var ft=Fc,Tt=wl,zt=Cu;function Kt($t,oe){var Me=ft.call(this,$t,oe),we=Tt.call(this,$t,oe),He=(Me.y+we.y)/2,Ve=[Me,{x:Me.x,y:He},{x:we.x,y:He},we];return Ve=Ve.map(zt),"M"+Ve[0]+"C"+Ve[1]+" "+Ve[2]+" "+Ve[3]}return Kt.source=function($t){return arguments.length?(ft=nn($t),Kt):ft},Kt.target=function($t){return arguments.length?(Tt=nn($t),Kt):Tt},Kt.projection=function($t){return arguments.length?(zt=$t,Kt):zt},Kt};function Cu(ft){return[ft.x,ft.y]}i.svg.diagonal.radial=function(){var ft=i.svg.diagonal(),Tt=Cu,zt=ft.projection;return ft.projection=function(Kt){return arguments.length?zt(Ef(Tt=Kt)):Tt},ft};function Ef(ft){return function(){var Tt=ft.apply(this,arguments),zt=Tt[0],Kt=Tt[1]-Qt;return[zt*Math.cos(Kt),zt*Math.sin(Kt)]}}i.svg.symbol=function(){var ft=ee,Tt=Zt;function zt(Kt,$t){return(_e.get(ft.call(this,Kt,$t))||pe)(Tt.call(this,Kt,$t))}return zt.type=function(Kt){return arguments.length?(ft=nn(Kt),zt):ft},zt.size=function(Kt){return arguments.length?(Tt=nn(Kt),zt):Tt},zt};function Zt(){return 64}function ee(){return"circle"}function pe(ft){var Tt=Math.sqrt(ft/At);return"M0,"+Tt+"A"+Tt+","+Tt+" 0 1,1 0,"+-Tt+"A"+Tt+","+Tt+" 0 1,1 0,"+Tt+"Z"}var _e=i.map({circle:pe,cross:function(ft){var Tt=Math.sqrt(ft/5)/2;return"M"+-3*Tt+","+-Tt+"H"+-Tt+"V"+-3*Tt+"H"+Tt+"V"+-Tt+"H"+3*Tt+"V"+Tt+"H"+Tt+"V"+3*Tt+"H"+-Tt+"V"+Tt+"H"+-3*Tt+"Z"},diamond:function(ft){var Tt=Math.sqrt(ft/(2*Se)),zt=Tt*Se;return"M0,"+-Tt+"L"+zt+",0 0,"+Tt+" "+-zt+",0Z"},square:function(ft){var Tt=Math.sqrt(ft)/2;return"M"+-Tt+","+-Tt+"L"+Tt+","+-Tt+" "+Tt+","+Tt+" "+-Tt+","+Tt+"Z"},"triangle-down":function(ft){var Tt=Math.sqrt(ft/Pe),zt=Tt*Pe/2;return"M0,"+zt+"L"+Tt+","+-zt+" "+-Tt+","+-zt+"Z"},"triangle-up":function(ft){var Tt=Math.sqrt(ft/Pe),zt=Tt*Pe/2;return"M0,"+-zt+"L"+Tt+","+zt+" "+-Tt+","+zt+"Z"}});i.svg.symbolTypes=_e.keys();var Pe=Math.sqrt(3),Se=Math.tan(30*he);G.transition=function(ft){for(var Tt=Cr||++wr,zt=Ln(ft),Kt=[],$t,oe,Me=Fr||{time:Date.now(),ease:Tc,delay:0,duration:250},we=-1,He=this.length;++we<He;){Kt.push($t=[]);for(var Ve=this[we],tr=-1,Ar=Ve.length;++tr<Ar;)(oe=Ve[tr])&&Cn(oe,tr,zt,Tt,Me),$t.push(oe)}return gr(Kt,zt,Tt)},G.interrupt=function(ft){return this.each(ft==null?Ne:ur(Ln(ft)))};var Ne=ur(Ln());function ur(ft){return function(){var Tt,zt,Kt;(Tt=this[ft])&&(Kt=Tt[zt=Tt.active])&&(Kt.timer.c=null,Kt.timer.t=NaN,--Tt.count?delete Tt[zt]:delete this[ft],Tt.active+=.5,Kt.event&&Kt.event.interrupt.call(this,this.__data__,Kt.index))}}function gr(ft,Tt,zt){return it(ft,nr),ft.namespace=Tt,ft.id=zt,ft}var nr=[],wr=0,Cr,Fr;nr.call=G.call,nr.empty=G.empty,nr.node=G.node,nr.size=G.size,i.transition=function(ft,Tt){return ft&&ft.transition?Cr?ft.transition(Tt):ft:i.selection().transition(ft)},i.transition.prototype=nr,nr.select=function(ft){var Tt=this.id,zt=this.namespace,Kt=[],$t,oe,Me;ft=ut(ft);for(var we=-1,He=this.length;++we<He;){Kt.push($t=[]);for(var Ve=this[we],tr=-1,Ar=Ve.length;++tr<Ar;)(Me=Ve[tr])&&(oe=ft.call(Me,Me.__data__,tr,we))?("__data__"in Me&&(oe.__data__=Me.__data__),Cn(oe,tr,zt,Tt,Me[zt][Tt]),$t.push(oe)):$t.push(null)}return gr(Kt,zt,Tt)},nr.selectAll=function(ft){var Tt=this.id,zt=this.namespace,Kt=[],$t,oe,Me,we,He;ft=at(ft);for(var Ve=-1,tr=this.length;++Ve<tr;)for(var Ar=this[Ve],Lr=-1,Yr=Ar.length;++Lr<Yr;)if(Me=Ar[Lr]){He=Me[zt][Tt],oe=ft.call(Me,Me.__data__,Lr,Ve),Kt.push($t=[]);for(var on=-1,Pr=oe.length;++on<Pr;)(we=oe[on])&&Cn(we,on,zt,Tt,He),$t.push(we)}return gr(Kt,zt,Tt)},nr.filter=function(ft){var Tt=[],zt,Kt,$t;typeof ft!="function"&&(ft=se(ft));for(var oe=0,Me=this.length;oe<Me;oe++){Tt.push(zt=[]);for(var Kt=this[oe],we=0,He=Kt.length;we<He;we++)($t=Kt[we])&&ft.call($t,$t.__data__,we,oe)&&zt.push($t)}return gr(Tt,this.namespace,this.id)},nr.tween=function(ft,Tt){var zt=this.id,Kt=this.namespace;return arguments.length<2?this.node()[Kt][zt].tween.get(ft):ue(this,Tt==null?function($t){$t[Kt][zt].tween.remove(ft)}:function($t){$t[Kt][zt].tween.set(ft,Tt)})};function tn(ft,Tt,zt,Kt){var $t=ft.id,oe=ft.namespace;return ue(ft,typeof zt=="function"?function(Me,we,He){Me[oe][$t].tween.set(Tt,Kt(zt.call(Me,Me.__data__,we,He)))}:(zt=Kt(zt),function(Me){Me[oe][$t].tween.set(Tt,zt)}))}nr.attr=function(ft,Tt){if(arguments.length<2){for(Tt in ft)this.attr(Tt,ft[Tt]);return this}var zt=ft=="transform"?Zu:ao,Kt=i.ns.qualify(ft);function $t(){this.removeAttribute(Kt)}function oe(){this.removeAttributeNS(Kt.space,Kt.local)}function Me(He){return He==null?$t:(He+="",function(){var Ve=this.getAttribute(Kt),tr;return Ve!==He&&(tr=zt(Ve,He),function(Ar){this.setAttribute(Kt,tr(Ar))})})}function we(He){return He==null?oe:(He+="",function(){var Ve=this.getAttributeNS(Kt.space,Kt.local),tr;return Ve!==He&&(tr=zt(Ve,He),function(Ar){this.setAttributeNS(Kt.space,Kt.local,tr(Ar))})})}return tn(this,"attr."+ft,Tt,Kt.local?we:Me)},nr.attrTween=function(ft,Tt){var zt=i.ns.qualify(ft);function Kt(oe,Me){var we=Tt.call(this,oe,Me,this.getAttribute(zt));return we&&function(He){this.setAttribute(zt,we(He))}}function $t(oe,Me){var we=Tt.call(this,oe,Me,this.getAttributeNS(zt.space,zt.local));return we&&function(He){this.setAttributeNS(zt.space,zt.local,we(He))}}return this.tween("attr."+ft,zt.local?$t:Kt)},nr.style=function(ft,Tt,zt){var Kt=arguments.length;if(Kt<3){if(typeof ft!="string"){Kt<2&&(Tt="");for(zt in ft)this.style(zt,ft[zt],Tt);return this}zt=""}function $t(){this.style.removeProperty(ft)}function oe(Me){return Me==null?$t:(Me+="",function(){var we=r(this).getComputedStyle(this,null).getPropertyValue(ft),He;return we!==Me&&(He=ao(we,Me),function(Ve){this.style.setProperty(ft,He(Ve),zt)})})}return tn(this,"style."+ft,Tt,oe)},nr.styleTween=function(ft,Tt,zt){arguments.length<3&&(zt="");function Kt($t,oe){var Me=Tt.call(this,$t,oe,r(this).getComputedStyle(this,null).getPropertyValue(ft));return Me&&function(we){this.style.setProperty(ft,Me(we),zt)}}return this.tween("style."+ft,Kt)},nr.text=function(ft){return tn(this,"text",ft,xn)};function xn(ft){return ft==null&&(ft=""),function(){this.textContent=ft}}nr.remove=function(){var ft=this.namespace;return this.each("end.transition",function(){var Tt;this[ft].count<2&&(Tt=this.parentNode)&&Tt.removeChild(this)})},nr.ease=function(ft){var Tt=this.id,zt=this.namespace;return arguments.length<1?this.node()[zt][Tt].ease:(typeof ft!="function"&&(ft=i.ease.apply(i,arguments)),ue(this,function(Kt){Kt[zt][Tt].ease=ft}))},nr.delay=function(ft){var Tt=this.id,zt=this.namespace;return arguments.length<1?this.node()[zt][Tt].delay:ue(this,typeof ft=="function"?function(Kt,$t,oe){Kt[zt][Tt].delay=+ft.call(Kt,Kt.__data__,$t,oe)}:(ft=+ft,function(Kt){Kt[zt][Tt].delay=ft}))},nr.duration=function(ft){var Tt=this.id,zt=this.namespace;return arguments.length<1?this.node()[zt][Tt].duration:ue(this,typeof ft=="function"?function(Kt,$t,oe){Kt[zt][Tt].duration=Math.max(1,ft.call(Kt,Kt.__data__,$t,oe))}:(ft=Math.max(1,ft),function(Kt){Kt[zt][Tt].duration=ft}))},nr.each=function(ft,Tt){var zt=this.id,Kt=this.namespace;if(arguments.length<2){var $t=Fr,oe=Cr;try{Cr=zt,ue(this,function(Me,we,He){Fr=Me[Kt][zt],ft.call(Me,Me.__data__,we,He)})}finally{Fr=$t,Cr=oe}}else ue(this,function(Me){var we=Me[Kt][zt];(we.event||(we.event=i.dispatch("start","end","interrupt"))).on(ft,Tt)});return this},nr.transition=function(){for(var ft=this.id,Tt=++wr,zt=this.namespace,Kt=[],$t,oe,Me,we,He=0,Ve=this.length;He<Ve;He++){Kt.push($t=[]);for(var oe=this[He],tr=0,Ar=oe.length;tr<Ar;tr++)(Me=oe[tr])&&(we=Me[zt][ft],Cn(Me,tr,zt,Tt,{time:we.time,ease:we.ease,delay:we.delay+we.duration,duration:we.duration})),$t.push(Me)}return gr(Kt,zt,Tt)};function Ln(ft){return ft==null?"__transition__":"__transition_"+ft+"__"}function Cn(ft,Tt,zt,Kt,$t){var oe=ft[zt]||(ft[zt]={active:0,count:0}),Me=oe[Kt],we,He,Ve,tr,Ar;function Lr(Pr){var jr=Me.delay;if(He.t=jr+we,jr<=Pr)return Yr(Pr-jr);He.c=Yr}function Yr(Pr){var jr=oe.active,Zr=oe[jr];Zr&&(Zr.timer.c=null,Zr.timer.t=NaN,--oe.count,delete oe[jr],Zr.event&&Zr.event.interrupt.call(ft,ft.__data__,Zr.index));for(var cn in oe)if(+cn<Kt){var hn=oe[cn];hn.timer.c=null,hn.timer.t=NaN,--oe.count,delete oe[cn]}He.c=on,zn(function(){return He.c&&on(Pr||1)&&(He.c=null,He.t=NaN),1},0,we),oe.active=Kt,Me.event&&Me.event.start.call(ft,ft.__data__,Tt),Ar=[],Me.tween.forEach(function($r,jn){(jn=jn.call(ft,ft.__data__,Tt))&&Ar.push(jn)}),tr=Me.ease,Ve=Me.duration}function on(Pr){for(var jr=Pr/Ve,Zr=tr(jr),cn=Ar.length;cn>0;)Ar[--cn].call(ft,Zr);if(jr>=1)return Me.event&&Me.event.end.call(ft,ft.__data__,Tt),--oe.count?delete oe[Kt]:delete ft[zt],1}Me||(we=$t.time,He=zn(Lr,0,we),Me=oe[Kt]={tween:new _,time:we,timer:He,delay:$t.delay,duration:$t.duration,ease:$t.ease,index:Tt},$t=null,++oe.count)}i.svg.axis=function(){var ft=i.scale.linear(),Tt=Gn,zt=6,Kt=6,$t=3,oe=[10],Me=null,we;function He(Ve){Ve.each(function(){var tr=i.select(this),Ar=this.__chart__||ft,Lr=this.__chart__=ft.copy(),Yr=Me??(Lr.ticks?Lr.ticks.apply(Lr,oe):Lr.domain()),on=we??(Lr.tickFormat?Lr.tickFormat.apply(Lr,oe):F),Pr=tr.selectAll(".tick").data(Yr,Lr),jr=Pr.enter().insert("g",".domain").attr("class","tick").style("opacity",xt),Zr=i.transition(Pr.exit()).style("opacity",xt).remove(),cn=i.transition(Pr.order()).style("opacity",1),hn=Math.max(zt,0)+$t,$r,jn=Gl(Lr),Qn=tr.selectAll(".domain").data([0]),ui=(Qn.enter().append("path").attr("class","domain"),i.transition(Qn));jr.append("line"),jr.append("text");var Jn=jr.select("line"),ii=cn.select("line"),ci=Pr.select("text").text(on),Vi=jr.select("text"),ki=cn.select("text"),ji=Tt==="top"||Tt==="left"?-1:1,ra,Na,aa,Yn;if(Tt==="bottom"||Tt==="top"?($r=Oi,ra="x",aa="y",Na="x2",Yn="y2",ci.attr("dy",ji<0?"0em":".71em").style("text-anchor","middle"),ui.attr("d","M"+jn[0]+","+ji*Kt+"V0H"+jn[1]+"V"+ji*Kt)):($r=Di,ra="y",aa="x",Na="y2",Yn="x2",ci.attr("dy",".32em").style("text-anchor",ji<0?"end":"start"),ui.attr("d","M"+ji*Kt+","+jn[0]+"H0V"+jn[1]+"H"+ji*Kt)),Jn.attr(Yn,ji*zt),Vi.attr(aa,ji*hn),ii.attr(Na,0).attr(Yn,ji*zt),ki.attr(ra,0).attr(aa,ji*hn),Lr.rangeBand){var Ui=Lr,wi=Ui.rangeBand()/2;Ar=Lr=function(Gi){return Ui(Gi)+wi}}else Ar.rangeBand?Ar=Lr:Zr.call($r,Lr,Ar);jr.call($r,Ar,Lr),cn.call($r,Lr,Lr)})}return He.scale=function(Ve){return arguments.length?(ft=Ve,He):ft},He.orient=function(Ve){return arguments.length?(Tt=Ve in Ii?Ve+"":Gn,He):Tt},He.ticks=function(){return arguments.length?(oe=m(arguments),He):oe},He.tickValues=function(Ve){return arguments.length?(Me=Ve,He):Me},He.tickFormat=function(Ve){return arguments.length?(we=Ve,He):we},He.tickSize=function(Ve){var tr=arguments.length;return tr?(zt=+Ve,Kt=+arguments[tr-1],He):zt},He.innerTickSize=function(Ve){return arguments.length?(zt=+Ve,He):zt},He.outerTickSize=function(Ve){return arguments.length?(Kt=+Ve,He):Kt},He.tickPadding=function(Ve){return arguments.length?($t=+Ve,He):$t},He.tickSubdivide=function(){return arguments.length&&He},He};var Gn="bottom",Ii={top:1,right:1,bottom:1,left:1};function Oi(ft,Tt,zt){ft.attr("transform",function(Kt){var $t=Tt(Kt);return"translate("+(isFinite($t)?$t:zt(Kt))+",0)"})}function Di(ft,Tt,zt){ft.attr("transform",function(Kt){var $t=Tt(Kt);return"translate(0,"+(isFinite($t)?$t:zt(Kt))+")"})}i.svg.brush=function(){var ft=q(tr,"brushstart","brush","brushend"),Tt=null,zt=null,Kt=[0,0],$t=[0,0],oe,Me,we=!0,He=!0,Ve=Wi[0];function tr(Pr){Pr.each(function(){var jr=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",on).on("touchstart.brush",on),Zr=jr.selectAll(".background").data([0]);Zr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),jr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var cn=jr.selectAll(".resize").data(Ve,F);cn.exit().remove(),cn.enter().append("g").attr("class",function(Qn){return"resize "+Qn}).style("cursor",function(Qn){return Hi[Qn]}).append("rect").attr("x",function(Qn){return/[ew]$/.test(Qn)?-3:null}).attr("y",function(Qn){return/^[ns]/.test(Qn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),cn.style("display",tr.empty()?"none":null);var hn=i.transition(jr),$r=i.transition(Zr),jn;Tt&&(jn=Gl(Tt),$r.attr("x",jn[0]).attr("width",jn[1]-jn[0]),Lr(hn)),zt&&(jn=Gl(zt),$r.attr("y",jn[0]).attr("height",jn[1]-jn[0]),Yr(hn)),Ar(hn)})}tr.event=function(Pr){Pr.each(function(){var jr=ft.of(this,arguments),Zr={x:Kt,y:$t,i:oe,j:Me},cn=this.__chart__||Zr;this.__chart__=Zr,Cr?i.select(this).transition().each("start.brush",function(){oe=cn.i,Me=cn.j,Kt=cn.x,$t=cn.y,jr({type:"brushstart"})}).tween("brush:brush",function(){var hn=Bo(Kt,Zr.x),$r=Bo($t,Zr.y);return oe=Me=null,function(jn){Kt=Zr.x=hn(jn),$t=Zr.y=$r(jn),jr({type:"brush",mode:"resize"})}}).each("end.brush",function(){oe=Zr.i,Me=Zr.j,jr({type:"brush",mode:"resize"}),jr({type:"brushend"})}):(jr({type:"brushstart"}),jr({type:"brush",mode:"resize"}),jr({type:"brushend"}))})};function Ar(Pr){Pr.selectAll(".resize").attr("transform",function(jr){return"translate("+Kt[+/e$/.test(jr)]+","+$t[+/^s/.test(jr)]+")"})}function Lr(Pr){Pr.select(".extent").attr("x",Kt[0]),Pr.selectAll(".extent,.n>rect,.s>rect").attr("width",Kt[1]-Kt[0])}function Yr(Pr){Pr.select(".extent").attr("y",$t[0]),Pr.selectAll(".extent,.e>rect,.w>rect").attr("height",$t[1]-$t[0])}function on(){var Pr=this,jr=i.select(i.event.target),Zr=ft.of(Pr,arguments),cn=i.select(Pr),hn=jr.datum(),$r=!/^(n|s)$/.test(hn)&&Tt,jn=!/^(e|w)$/.test(hn)&&zt,Qn=jr.classed("extent"),ui=Jt(Pr),Jn,ii=i.mouse(Pr),ci,Vi=i.select(r(Pr)).on("keydown.brush",ra).on("keyup.brush",Na);if(i.event.changedTouches?Vi.on("touchmove.brush",aa).on("touchend.brush",Ui):Vi.on("mousemove.brush",aa).on("mouseup.brush",Ui),cn.interrupt().selectAll("*").interrupt(),Qn)ii[0]=Kt[0]-ii[0],ii[1]=$t[0]-ii[1];else if(hn){var ki=+/w$/.test(hn),ji=+/^n/.test(hn);ci=[Kt[1-ki]-ii[0],$t[1-ji]-ii[1]],ii[0]=Kt[ki],ii[1]=$t[ji]}else i.event.altKey&&(Jn=ii.slice());cn.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",jr.style("cursor")),Zr({type:"brushstart"}),aa();function ra(){i.event.keyCode==32&&(Qn||(Jn=null,ii[0]-=Kt[1],ii[1]-=$t[1],Qn=2),lt())}function Na(){i.event.keyCode==32&&Qn==2&&(ii[0]+=Kt[1],ii[1]+=$t[1],Qn=0,lt())}function aa(){var wi=i.mouse(Pr),Gi=!1;ci&&(wi[0]+=ci[0],wi[1]+=ci[1]),Qn||(i.event.altKey?(Jn||(Jn=[(Kt[0]+Kt[1])/2,($t[0]+$t[1])/2]),ii[0]=Kt[+(wi[0]<Jn[0])],ii[1]=$t[+(wi[1]<Jn[1])]):Jn=null),$r&&Yn(wi,Tt,0)&&(Lr(cn),Gi=!0),jn&&Yn(wi,zt,1)&&(Yr(cn),Gi=!0),Gi&&(Ar(cn),Zr({type:"brush",mode:Qn?"move":"resize"}))}function Yn(wi,Gi,xa){var na=Gl(Gi),to=na[0],eo=na[1],oo=ii[xa],ba=xa?$t:Kt,xo=ba[1]-ba[0],si,Mi;if(Qn&&(to-=oo,eo-=xo+oo),si=(xa?He:we)?Math.max(to,Math.min(eo,wi[xa])):wi[xa],Qn?Mi=(si+=oo)+xo:(Jn&&(oo=Math.max(to,Math.min(eo,2*Jn[xa]-si))),oo<si?(Mi=si,si=oo):Mi=oo),ba[0]!=si||ba[1]!=Mi)return xa?Me=null:oe=null,ba[0]=si,ba[1]=Mi,!0}function Ui(){aa(),cn.style("pointer-events","all").selectAll(".resize").style("display",tr.empty()?"none":null),i.select("body").style("cursor",null),Vi.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ui(),Zr({type:"brushend"})}}return tr.x=function(Pr){return arguments.length?(Tt=Pr,Ve=Wi[!Tt<<1|!zt],tr):Tt},tr.y=function(Pr){return arguments.length?(zt=Pr,Ve=Wi[!Tt<<1|!zt],tr):zt},tr.clamp=function(Pr){return arguments.length?(Tt&&zt?(we=!!Pr[0],He=!!Pr[1]):Tt?we=!!Pr:zt&&(He=!!Pr),tr):Tt&&zt?[we,He]:Tt?we:zt?He:null},tr.extent=function(Pr){var jr,Zr,cn,hn,$r;return arguments.length?(Tt&&(jr=Pr[0],Zr=Pr[1],zt&&(jr=jr[0],Zr=Zr[0]),oe=[jr,Zr],Tt.invert&&(jr=Tt(jr),Zr=Tt(Zr)),Zr<jr&&($r=jr,jr=Zr,Zr=$r),(jr!=Kt[0]||Zr!=Kt[1])&&(Kt=[jr,Zr])),zt&&(cn=Pr[0],hn=Pr[1],Tt&&(cn=cn[1],hn=hn[1]),Me=[cn,hn],zt.invert&&(cn=zt(cn),hn=zt(hn)),hn<cn&&($r=cn,cn=hn,hn=$r),(cn!=$t[0]||hn!=$t[1])&&($t=[cn,hn])),tr):(Tt&&(oe?(jr=oe[0],Zr=oe[1]):(jr=Kt[0],Zr=Kt[1],Tt.invert&&(jr=Tt.invert(jr),Zr=Tt.invert(Zr)),Zr<jr&&($r=jr,jr=Zr,Zr=$r))),zt&&(Me?(cn=Me[0],hn=Me[1]):(cn=$t[0],hn=$t[1],zt.invert&&(cn=zt.invert(cn),hn=zt.invert(hn)),hn<cn&&($r=cn,cn=hn,hn=$r))),Tt&&zt?[[jr,cn],[Zr,hn]]:Tt?[jr,Zr]:zt&&[cn,hn])},tr.clear=function(){return tr.empty()||(Kt=[0,0],$t=[0,0],oe=Me=null),tr},tr.empty=function(){return!!Tt&&Kt[0]==Kt[1]||!!zt&&$t[0]==$t[1]},i.rebind(tr,ft,"on")};var Hi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=kn(function(ft){return ft.responseText}),i.json=function(ft,Tt){return Mn(ft,"application/json",ca,Tt)};function ca(ft){return JSON.parse(ft.responseText)}i.html=function(ft,Tt){return Mn(ft,"text/html",Da,Tt)};function Da(ft){var Tt=d.createRange();return Tt.selectNode(d.body),Tt.createContextualFragment(ft.responseText)}i.xml=kn(function(ft){return ft.responseXML}),x=i,E=typeof x=="function"?x.call(B,t,B,X):x,E!==void 0&&(X.exports=E)}).apply(self)},3480:function(X){(function(B,t){X.exports=t()})(this,function(){var B,t,x;function E(i,M){if(!B)B=M;else if(!t)t=M;else{var m="var sharedChunk = {}; ("+B+")(sharedChunk); ("+t+")(sharedChunk);",d={};B(d),x=M(d),typeof window<"u"&&(x.workerUrl=window.URL.createObjectURL(new Blob([m],{type:"text/javascript"})))}}return E(["exports"],function(i){function M(y,D){return D={exports:{}},y(D,D.exports),D.exports}var m="1.13.4",d=v;function v(y,D,U,ct){this.cx=3*y,this.bx=3*(U-y)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ct-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=y,this.p1y=ct,this.p2x=U,this.p2y=ct}v.prototype.sampleCurveX=function(y){return((this.ax*y+this.bx)*y+this.cx)*y},v.prototype.sampleCurveY=function(y){return((this.ay*y+this.by)*y+this.cy)*y},v.prototype.sampleCurveDerivativeX=function(y){return(3*this.ax*y+2*this.bx)*y+this.cx},v.prototype.solveCurveX=function(y,D){typeof D>"u"&&(D=1e-6);var U,ct,yt,Mt,Bt;for(yt=y,Bt=0;Bt<8;Bt++){if(Mt=this.sampleCurveX(yt)-y,Math.abs(Mt)<D)return yt;var ne=this.sampleCurveDerivativeX(yt);if(Math.abs(ne)<1e-6)break;yt=yt-Mt/ne}if(U=0,ct=1,yt=y,yt<U)return U;if(yt>ct)return ct;for(;U<ct;){if(Mt=this.sampleCurveX(yt),Math.abs(Mt-y)<D)return yt;y>Mt?U=yt:ct=yt,yt=(ct-U)*.5+U}return yt},v.prototype.solve=function(y,D){return this.sampleCurveY(this.solveCurveX(y,D))};var r=e;function e(y,D){this.x=y,this.y=D}e.prototype={clone:function(){return new e(this.x,this.y)},add:function(y){return this.clone()._add(y)},sub:function(y){return this.clone()._sub(y)},multByPoint:function(y){return this.clone()._multByPoint(y)},divByPoint:function(y){return this.clone()._divByPoint(y)},mult:function(y){return this.clone()._mult(y)},div:function(y){return this.clone()._div(y)},rotate:function(y){return this.clone()._rotate(y)},rotateAround:function(y,D){return this.clone()._rotateAround(y,D)},matMult:function(y){return this.clone()._matMult(y)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(y){return this.x===y.x&&this.y===y.y},dist:function(y){return Math.sqrt(this.distSqr(y))},distSqr:function(y){var D=y.x-this.x,U=y.y-this.y;return D*D+U*U},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(y){return Math.atan2(this.y-y.y,this.x-y.x)},angleWith:function(y){return this.angleWithSep(y.x,y.y)},angleWithSep:function(y,D){return Math.atan2(this.x*D-this.y*y,this.x*y+this.y*D)},_matMult:function(y){var D=y[0]*this.x+y[1]*this.y,U=y[2]*this.x+y[3]*this.y;return this.x=D,this.y=U,this},_add:function(y){return this.x+=y.x,this.y+=y.y,this},_sub:function(y){return this.x-=y.x,this.y-=y.y,this},_mult:function(y){return this.x*=y,this.y*=y,this},_div:function(y){return this.x/=y,this.y/=y,this},_multByPoint:function(y){return this.x*=y.x,this.y*=y.y,this},_divByPoint:function(y){return this.x/=y.x,this.y/=y.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var y=this.y;return this.y=this.x,this.x=-y,this},_rotate:function(y){var D=Math.cos(y),U=Math.sin(y),ct=D*this.x-U*this.y,yt=U*this.x+D*this.y;return this.x=ct,this.y=yt,this},_rotateAround:function(y,D){var U=Math.cos(y),ct=Math.sin(y),yt=D.x+U*(this.x-D.x)-ct*(this.y-D.y),Mt=D.y+ct*(this.x-D.x)+U*(this.y-D.y);return this.x=yt,this.y=Mt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(y){return y instanceof e?y:Array.isArray(y)?new e(y[0],y[1]):y};var s=typeof self<"u"?self:{};function n(y,D){if(Array.isArray(y)){if(!Array.isArray(D)||y.length!==D.length)return!1;for(var U=0;U<y.length;U++)if(!n(y[U],D[U]))return!1;return!0}if(typeof y=="object"&&y!==null&&D!==null){if(typeof D!="object")return!1;var ct=Object.keys(y);if(ct.length!==Object.keys(D).length)return!1;for(var yt in y)if(!n(y[yt],D[yt]))return!1;return!0}return y===D}var l=Math.pow(2,53)-1;function o(y){if(y<=0)return 0;if(y>=1)return 1;var D=y*y,U=D*y;return 4*(y<.5?U:3*(y-D)+U-.75)}function h(y,D,U,ct){var yt=new d(y,D,U,ct);return function(Mt){return yt.solve(Mt)}}var b=h(.25,.1,.25,1);function f(y,D,U){return Math.min(U,Math.max(D,y))}function k(y,D,U){var ct=U-D,yt=((y-D)%ct+ct)%ct+D;return yt===D?U:yt}function a(y,D,U){if(!y.length)return U(null,[]);var ct=y.length,yt=new Array(y.length),Mt=null;y.forEach(function(Bt,ne){D(Bt,function(ge,Ae){ge&&(Mt=ge),yt[ne]=Ae,--ct===0&&U(Mt,yt)})})}function c(y){var D=[];for(var U in y)D.push(y[U]);return D}function p(y,D){var U=[];for(var ct in y)ct in D||U.push(ct);return U}function w(y){for(var D=[],U=arguments.length-1;U-- >0;)D[U]=arguments[U+1];for(var ct=0,yt=D;ct<yt.length;ct+=1){var Mt=yt[ct];for(var Bt in Mt)y[Bt]=Mt[Bt]}return y}function S(y,D){for(var U={},ct=0;ct<D.length;ct++){var yt=D[ct];yt in y&&(U[yt]=y[yt])}return U}var _=1;function T(){return _++}function P(){function y(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,y)}return y()}function u(y){return y<=1?1:Math.pow(2,Math.ceil(Math.log(y)/Math.LN2))}function g(y){return y?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(y):!1}function L(y,D){y.forEach(function(U){D[U]&&(D[U]=D[U].bind(D))})}function A(y,D){return y.indexOf(D,y.length-D.length)!==-1}function R(y,D,U){var ct={};for(var yt in y)ct[yt]=D.call(U||this,y[yt],yt,y);return ct}function O(y,D,U){var ct={};for(var yt in y)D.call(U||this,y[yt],yt,y)&&(ct[yt]=y[yt]);return ct}function N(y){return Array.isArray(y)?y.map(N):typeof y=="object"&&y?R(y,N):y}function z(y,D){for(var U=0;U<y.length;U++)if(D.indexOf(y[U])>=0)return!0;return!1}var F={};function I(y){F[y]||(typeof console<"u"&&console.warn(y),F[y]=!0)}function j(y,D,U){return(U.y-y.y)*(D.x-y.x)>(D.y-y.y)*(U.x-y.x)}function V(y){for(var D=0,U=0,ct=y.length,yt=ct-1,Mt=void 0,Bt=void 0;U<ct;yt=U++)Mt=y[U],Bt=y[yt],D+=(Bt.x-Mt.x)*(Mt.y+Bt.y);return D}function W(y){var D=y[0],U=y[1],ct=y[2];return U+=90,U*=Math.PI/180,ct*=Math.PI/180,{x:D*Math.cos(U)*Math.sin(ct),y:D*Math.sin(U)*Math.sin(ct),z:D*Math.cos(ct)}}function K(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function et(y){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,U={};if(y.replace(D,function(yt,Mt,Bt,ne){var ge=Bt||ne;return U[Mt]=ge?ge.toLowerCase():!0,""}),U["max-age"]){var ct=parseInt(U["max-age"],10);isNaN(ct)?delete U["max-age"]:U["max-age"]=ct}return U}var lt=null;function ot(y){if(lt==null){var D=y.navigator?y.navigator.userAgent:null;lt=!!y.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return lt}function q(y){try{var D=s[y];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function J(y){return s.btoa(encodeURIComponent(y).replace(/%([0-9A-F]{2})/g,function(D,U){return String.fromCharCode(+("0x"+U))}))}function it(y){return decodeURIComponent(s.atob(y).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Z=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now.bind(Date),tt=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||s.msRequestAnimationFrame,st=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame||s.msCancelAnimationFrame,Q,G,ut={now:Z,frame:function(y){var D=tt(y);return{cancel:function(){return st(D)}}},getImageData:function(y,D){D===void 0&&(D=0);var U=s.document.createElement("canvas"),ct=U.getContext("2d");if(!ct)throw new Error("failed to create canvas 2d context");return U.width=y.width,U.height=y.height,ct.drawImage(y,0,0,y.width,y.height),ct.getImageData(-D,-D,y.width+2*D,y.height+2*D)},resolveURL:function(y){return Q||(Q=s.document.createElement("a")),Q.href=y,Q.href},hardwareConcurrency:s.navigator&&s.navigator.hardwareConcurrency||4,get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return s.matchMedia?(G==null&&(G=s.matchMedia("(prefers-reduced-motion: reduce)")),G.matches):!1}},at={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},dt={supported:!1,testSupport:bt},gt,wt=!1,kt,Ot=!1;s.document&&(kt=s.document.createElement("img"),kt.onload=function(){gt&&_t(gt),gt=null,Ot=!0},kt.onerror=function(){wt=!0,gt=null},kt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function bt(y){wt||!kt||(Ot?_t(y):gt=y)}function _t(y){var D=y.createTexture();y.bindTexture(y.TEXTURE_2D,D);try{if(y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,kt),y.isContextLost())return;dt.supported=!0}catch{}y.deleteTexture(D),wt=!0}var mt="01";function Pt(){for(var y="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",U="",ct=0;ct<10;ct++)U+=D[Math.floor(Math.random()*62)];var yt=12*60*60*1e3,Mt=[y,mt,U].join(""),Bt=Date.now()+yt;return{token:Mt,tokenExpiresAt:Bt}}var Rt=function(y,D){this._transformRequestFn=y,this._customAccessToken=D,this._createSkuToken()};Rt.prototype._createSkuToken=function(){var y=Pt();this._skuToken=y.token,this._skuTokenExpiresAt=y.tokenExpiresAt},Rt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Rt.prototype.transformRequest=function(y,D){return this._transformRequestFn?this._transformRequestFn(y,D)||{url:y}:{url:y}},Rt.prototype.normalizeStyleURL=function(y,D){if(!Ht(y))return y;var U=ie(y);return U.path="/styles/v1"+U.path,this._makeAPIURL(U,this._customAccessToken||D)},Rt.prototype.normalizeGlyphsURL=function(y,D){if(!Ht(y))return y;var U=ie(y);return U.path="/fonts/v1"+U.path,this._makeAPIURL(U,this._customAccessToken||D)},Rt.prototype.normalizeSourceURL=function(y,D){if(!Ht(y))return y;var U=ie(y);return U.path="/v4/"+U.authority+".json",U.params.push("secure"),this._makeAPIURL(U,this._customAccessToken||D)},Rt.prototype.normalizeSpriteURL=function(y,D,U,ct){var yt=ie(y);return Ht(y)?(yt.path="/styles/v1"+yt.path+"/sprite"+D+U,this._makeAPIURL(yt,this._customAccessToken||ct)):(yt.path+=""+D+U,fe(yt))},Rt.prototype.normalizeTileURL=function(y,D){if(this._isSkuTokenExpired()&&this._createSkuToken(),y&&!Ht(y))return y;var U=ie(y),ct=/(\.(png|jpg)\d*)(?=$)/,yt=/^.+\/v4\//,Mt=ut.devicePixelRatio>=2||D===512?"@2x":"",Bt=dt.supported?".webp":"$1";U.path=U.path.replace(ct,""+Mt+Bt),U.path=U.path.replace(yt,"/"),U.path="/v4"+U.path;var ne=this._customAccessToken||Yt(U.params)||at.ACCESS_TOKEN;return at.REQUIRE_ACCESS_TOKEN&&ne&&this._skuToken&&U.params.push("sku="+this._skuToken),this._makeAPIURL(U,ne)},Rt.prototype.canonicalizeTileURL=function(y,D){var U="/v4/",ct=/\.[\w]+$/,yt=ie(y);if(!yt.path.match(/(^\/v4\/)/)||!yt.path.match(ct))return y;var Mt="mapbox://tiles/";Mt+=yt.path.replace(U,"");var Bt=yt.params;return D&&(Bt=Bt.filter(function(ne){return!ne.match(/^access_token=/)})),Bt.length&&(Mt+="?"+Bt.join("&")),Mt},Rt.prototype.canonicalizeTileset=function(y,D){for(var U=D?Ht(D):!1,ct=[],yt=0,Mt=y.tiles||[];yt<Mt.length;yt+=1){var Bt=Mt[yt];Xt(Bt)?ct.push(this.canonicalizeTileURL(Bt,U)):ct.push(Bt)}return ct},Rt.prototype._makeAPIURL=function(y,D){var U="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ct=ie(at.API_URL);if(y.protocol=ct.protocol,y.authority=ct.authority,y.protocol==="http"){var yt=y.params.indexOf("secure");yt>=0&&y.params.splice(yt,1)}if(ct.path!=="/"&&(y.path=""+ct.path+y.path),!at.REQUIRE_ACCESS_TOKEN)return fe(y);if(D=D||at.ACCESS_TOKEN,!D)throw new Error("An API access token is required to use Mapbox GL. "+U);if(D[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+U);return y.params=y.params.filter(function(Mt){return Mt.indexOf("access_token")===-1}),y.params.push("access_token="+D),fe(y)};function Ht(y){return y.indexOf("mapbox:")===0}var Dt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Xt(y){return Dt.test(y)}function se(y){return y.indexOf("sku=")>0&&Xt(y)}function Yt(y){for(var D=0,U=y;D<U.length;D+=1){var ct=U[D],yt=ct.match(/^access_token=(.*)$/);if(yt)return yt[1]}return null}var ue=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ie(y){var D=y.match(ue);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function fe(y){var D=y.params.length?"?"+y.params.join("&"):"";return y.protocol+"://"+y.authority+y.path+D}var ce="mapbox.eventData";function ye(y){if(!y)return null;var D=y.split(".");if(!D||D.length!==3)return null;try{var U=JSON.parse(it(D[1]));return U}catch{return null}}var de=function(y){this.type=y,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};de.prototype.getStorageKey=function(y){var D=ye(at.ACCESS_TOKEN),U="";return D&&D.u?U=J(D.u):U=at.ACCESS_TOKEN||"",y?ce+"."+y+":"+U:ce+":"+U},de.prototype.fetchEventData=function(){var y=q("localStorage"),D=this.getStorageKey(),U=this.getStorageKey("uuid");if(y)try{var ct=s.localStorage.getItem(D);ct&&(this.eventData=JSON.parse(ct));var yt=s.localStorage.getItem(U);yt&&(this.anonId=yt)}catch{I("Unable to read from LocalStorage")}},de.prototype.saveEventData=function(){var y=q("localStorage"),D=this.getStorageKey(),U=this.getStorageKey("uuid");if(y)try{s.localStorage.setItem(U,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(D,JSON.stringify(this.eventData))}catch{I("Unable to write to LocalStorage")}},de.prototype.processRequests=function(y){},de.prototype.postEvent=function(y,D,U,ct){var yt=this;if(at.EVENTS_URL){var Mt=ie(at.EVENTS_URL);Mt.params.push("access_token="+(ct||at.ACCESS_TOKEN||""));var Bt={event:this.type,created:new Date(y).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:m,skuId:mt,userId:this.anonId},ne=D?w(Bt,D):Bt,ge={url:fe(Mt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ne])};this.pendingRequest=Re(ge,function(Ae){yt.pendingRequest=null,U(Ae),yt.saveEventData(),yt.processRequests(ct)})}},de.prototype.queueRequest=function(y,D){this.queue.push(y),this.processRequests(D)};var Te=function(y){function D(){y.call(this,"map.load"),this.success={},this.skuToken=""}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(U,ct,yt,Mt){this.skuToken=yt,(at.EVENTS_URL&&Mt||at.ACCESS_TOKEN&&Array.isArray(U)&&U.some(function(Bt){return Ht(Bt)||Xt(Bt)}))&&this.queueRequest({id:ct,timestamp:Date.now()},Mt)},D.prototype.processRequests=function(U){var ct=this;if(!(this.pendingRequest||this.queue.length===0)){var yt=this.queue.shift(),Mt=yt.id,Bt=yt.timestamp;Mt&&this.success[Mt]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=P()),this.postEvent(Bt,{skuToken:this.skuToken},function(ne){ne||Mt&&(ct.success[Mt]=!0)},U))}},D}(de),Et=function(y){function D(U){y.call(this,"appUserTurnstile"),this._customAccessToken=U}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(U,ct){at.EVENTS_URL&&at.ACCESS_TOKEN&&Array.isArray(U)&&U.some(function(yt){return Ht(yt)||Xt(yt)})&&this.queueRequest(Date.now(),ct)},D.prototype.processRequests=function(U){var ct=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var yt=ye(at.ACCESS_TOKEN),Mt=yt?yt.u:at.ACCESS_TOKEN,Bt=Mt!==this.eventData.tokenU;g(this.anonId)||(this.anonId=P(),Bt=!0);var ne=this.queue.shift();if(this.eventData.lastSuccess){var ge=new Date(this.eventData.lastSuccess),Ae=new Date(ne),je=(ne-this.eventData.lastSuccess)/(24*60*60*1e3);Bt=Bt||je>=1||je<-1||ge.getDate()!==Ae.getDate()}else Bt=!0;if(!Bt)return this.processRequests();this.postEvent(ne,{"enabled.telemetry":!1},function(qe){qe||(ct.eventData.lastSuccess=ne,ct.eventData.tokenU=Mt)},U)}},D}(de),Vt=new Et,te=Vt.postTurnstileEvent.bind(Vt),Jt=new Te,Ut=Jt.postMapLoadEvent.bind(Jt),It="mapbox-tiles",pt=500,xt=50,Ct=1e3*60*7,At;function Ft(){s.caches&&!At&&(At=s.caches.open(It))}var Wt;function Qt(y,D){if(Wt===void 0)try{new Response(new ReadableStream),Wt=!0}catch{Wt=!1}Wt?D(y.body):y.blob().then(D)}function he(y,D,U){if(Ft(),!!At){var ct={status:D.status,statusText:D.statusText,headers:new s.Headers};D.headers.forEach(function(Bt,ne){return ct.headers.set(ne,Bt)});var yt=et(D.headers.get("Cache-Control")||"");if(!yt["no-store"]){yt["max-age"]&&ct.headers.set("Expires",new Date(U+yt["max-age"]*1e3).toUTCString());var Mt=new Date(ct.headers.get("Expires")).getTime()-U;Mt<Ct||Qt(D,function(Bt){var ne=new s.Response(Bt,ct);Ft(),At&&At.then(function(ge){return ge.put(ve(y.url),ne)}).catch(function(ge){return I(ge.message)})})}}}function ve(y){var D=y.indexOf("?");return D<0?y:y.slice(0,D)}function Je(y,D){if(Ft(),!At)return D(null);var U=ve(y.url);At.then(function(ct){ct.match(U).then(function(yt){var Mt=Ue(yt);ct.delete(U),Mt&&ct.put(U,yt.clone()),D(null,yt,Mt)}).catch(D)}).catch(D)}function Ue(y){if(!y)return!1;var D=new Date(y.headers.get("Expires")||0),U=et(y.headers.get("Cache-Control")||"");return D>Date.now()&&!U["no-cache"]}var ke=1/0;function Le(y){ke++,ke>xt&&(y.getActor().send("enforceCacheSizeLimit",pt),ke=0)}function Ge(y){Ft(),At&&At.then(function(D){D.keys().then(function(U){for(var ct=0;ct<U.length-y;ct++)D.delete(U[ct])})})}function mr(y){var D=s.caches.delete(It);y&&D.catch(y).then(function(){return y()})}function xe(y,D){pt=y,xt=D}var Xe;function Ye(){return Xe==null&&(Xe=s.OffscreenCanvas&&new s.OffscreenCanvas(1,1).getContext("2d")&&typeof s.createImageBitmap=="function"),Xe}var _r={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(_r);var rr=function(y){function D(U,ct,yt){ct===401&&Xt(yt)&&(U+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),y.call(this,U),this.status=ct,this.url=yt,this.name=this.constructor.name,this.message=U}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),re=K()?function(){return self.worker&&self.worker.referrer}:function(){return(s.location.protocol==="blob:"?s.parent:s).location.href},le=function(y){return/^file:/.test(y)||/^file:/.test(re())&&!/^\w+:/.test(y)};function me(y,D){var U=new s.AbortController,ct=new s.Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,referrer:re(),signal:U.signal}),yt=!1,Mt=!1,Bt=se(ct.url);y.type==="json"&&ct.headers.set("Accept","application/json");var ne=function(Ae,je,qe){if(!Mt){if(Ae&&Ae.message!=="SecurityError"&&I(Ae),je&&qe)return ge(je);var Qe=Date.now();s.fetch(ct).then(function(sr){if(sr.ok){var Sr=Bt?sr.clone():null;return ge(sr,Sr,Qe)}else return D(new rr(sr.statusText,sr.status,y.url))}).catch(function(sr){sr.code!==20&&D(new Error(sr.message))})}},ge=function(Ae,je,qe){(y.type==="arrayBuffer"?Ae.arrayBuffer():y.type==="json"?Ae.json():Ae.text()).then(function(Qe){Mt||(je&&qe&&he(ct,je,qe),yt=!0,D(null,Qe,Ae.headers.get("Cache-Control"),Ae.headers.get("Expires")))}).catch(function(Qe){Mt||D(new Error(Qe.message))})};return Bt?Je(ct,ne):ne(null,null),{cancel:function(){Mt=!0,yt||U.abort()}}}function Ee(y,D){var U=new s.XMLHttpRequest;U.open(y.method||"GET",y.url,!0),y.type==="arrayBuffer"&&(U.responseType="arraybuffer");for(var ct in y.headers)U.setRequestHeader(ct,y.headers[ct]);return y.type==="json"&&(U.responseType="text",U.setRequestHeader("Accept","application/json")),U.withCredentials=y.credentials==="include",U.onerror=function(){D(new Error(U.statusText))},U.onload=function(){if((U.status>=200&&U.status<300||U.status===0)&&U.response!==null){var yt=U.response;if(y.type==="json")try{yt=JSON.parse(U.response)}catch(Mt){return D(Mt)}D(null,yt,U.getResponseHeader("Cache-Control"),U.getResponseHeader("Expires"))}else D(new rr(U.statusText,U.status,y.url))},U.send(y.body),{cancel:function(){return U.abort()}}}var ze=function(y,D){if(!le(y.url)){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return me(y,D);if(K()&&self.worker&&self.worker.actor){var U=!0;return self.worker.actor.send("getResource",y,D,void 0,U)}}return Ee(y,D)},Oe=function(y,D){return ze(w(y,{type:"json"}),D)},Fe=function(y,D){return ze(w(y,{type:"arrayBuffer"}),D)},Re=function(y,D){return ze(w(y,{method:"POST"}),D)};function Ke(y){var D=s.document.createElement("a");return D.href=y,D.protocol===s.document.location.protocol&&D.host===s.document.location.host}var or="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function pr(y,D,U,ct){var yt=new s.Image,Mt=s.URL;yt.onload=function(){D(null,yt),Mt.revokeObjectURL(yt.src),yt.onload=null,s.requestAnimationFrame(function(){yt.src=or})},yt.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Bt=new s.Blob([new Uint8Array(y)],{type:"image/png"});yt.cacheControl=U,yt.expires=ct,yt.src=y.byteLength?Mt.createObjectURL(Bt):or}function hr(y,D){var U=new s.Blob([new Uint8Array(y)],{type:"image/png"});s.createImageBitmap(U).then(function(ct){D(null,ct)}).catch(function(ct){D(new Error("Could not load image because of "+ct.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var jt,Gt,Ce=function(){jt=[],Gt=0};Ce();var Ie=function(y,D){if(dt.supported&&(y.headers||(y.headers={}),y.headers.accept="image/webp,*/*"),Gt>=at.MAX_PARALLEL_IMAGE_REQUESTS){var U={requestParameters:y,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return jt.push(U),U}Gt++;var ct=!1,yt=function(){if(!ct)for(ct=!0,Gt--;jt.length&&Gt<at.MAX_PARALLEL_IMAGE_REQUESTS;){var Bt=jt.shift(),ne=Bt.requestParameters,ge=Bt.callback,Ae=Bt.cancelled;Ae||(Bt.cancel=Ie(ne,ge).cancel)}},Mt=Fe(y,function(Bt,ne,ge,Ae){yt(),Bt?D(Bt):ne&&(Ye()?hr(ne,D):pr(ne,D,ge,Ae))});return{cancel:function(){Mt.cancel(),yt()}}},We=function(y,D){var U=s.document.createElement("video");U.muted=!0,U.onloadstart=function(){D(null,U)};for(var ct=0;ct<y.length;ct++){var yt=s.document.createElement("source");Ke(y[ct])||(U.crossOrigin="Anonymous"),yt.src=y[ct],U.appendChild(yt)}return{cancel:function(){}}};function $e(y,D,U){var ct=U[y]&&U[y].indexOf(D)!==-1;ct||(U[y]=U[y]||[],U[y].push(D))}function ir(y,D,U){if(U&&U[y]){var ct=U[y].indexOf(D);ct!==-1&&U[y].splice(ct,1)}}var er=function(y,D){D===void 0&&(D={}),w(this,D),this.type=y},De=function(y){function D(U,ct){ct===void 0&&(ct={}),y.call(this,"error",w({error:U},ct))}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D}(er),lr=function(){};lr.prototype.on=function(y,D){return this._listeners=this._listeners||{},$e(y,D,this._listeners),this},lr.prototype.off=function(y,D){return ir(y,D,this._listeners),ir(y,D,this._oneTimeListeners),this},lr.prototype.once=function(y,D){return this._oneTimeListeners=this._oneTimeListeners||{},$e(y,D,this._oneTimeListeners),this},lr.prototype.fire=function(y,D){typeof y=="string"&&(y=new er(y,D||{}));var U=y.type;if(this.listens(U)){y.target=this;for(var ct=this._listeners&&this._listeners[U]?this._listeners[U].slice():[],yt=0,Mt=ct;yt<Mt.length;yt+=1){var Bt=Mt[yt];Bt.call(this,y)}for(var ne=this._oneTimeListeners&&this._oneTimeListeners[U]?this._oneTimeListeners[U].slice():[],ge=0,Ae=ne;ge<Ae.length;ge+=1){var je=Ae[ge];ir(U,je,this._oneTimeListeners),je.call(this,y)}var qe=this._eventedParent;qe&&(w(y,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),qe.fire(y))}else y instanceof De&&console.error(y.error);return this},lr.prototype.listens=function(y){return this._listeners&&this._listeners[y]&&this._listeners[y].length>0||this._oneTimeListeners&&this._oneTimeListeners[y]&&this._oneTimeListeners[y].length>0||this._eventedParent&&this._eventedParent.listens(y)},lr.prototype.setEventedParent=function(y,D){return this._eventedParent=y,this._eventedParentData=D,this};var vr=8,dr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},fr={"*":{type:"source"}},zr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Or={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Ir={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},sn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},nn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},kn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Mn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},kr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Er=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Vr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},qr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},rn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ln={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ai={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},fi={type:"array",value:"*"},mi={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},li={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ri={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},yr={type:"array",value:"*",minimum:1},en={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Jr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],vn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Vn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},bn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},In={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Bn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Kn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},pi={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ni={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Tr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Rr={"*":{type:"string"}},br={$version:vr,$root:dr,sources:fr,source:zr,source_vector:Or,source_raster:Ir,source_raster_dem:sn,source_geojson:nn,source_video:kn,source_image:Mn,layer:kr,layout:Er,layout_background:Vr,layout_fill:qr,layout_circle:rn,layout_heatmap:gn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:ln,layout_symbol:zn,layout_raster:Rn,layout_hillshade:ai,filter:fi,filter_operator:mi,geometry_type:li,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ri,expression:yr,light:en,paint:Jr,paint_fill:vn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Vn,paint_circle:bn,paint_heatmap:In,paint_symbol:Bn,paint_raster:Kn,paint_hillshade:pi,paint_background:Ni,transition:Tr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Rr},Br=function(y,D,U,ct){this.message=(y?y+": ":"")+U,ct&&(this.identifier=ct),D!=null&&D.__line__&&(this.line=D.__line__)};function _n(y){var D=y.key,U=y.value;return U?[new Br(D,U,"constants have been deprecated as of v8")]:[]}function Pn(y){for(var D=[],U=arguments.length-1;U-- >0;)D[U]=arguments[U+1];for(var ct=0,yt=D;ct<yt.length;ct+=1){var Mt=yt[ct];for(var Bt in Mt)y[Bt]=Mt[Bt]}return y}function pn(y){return y instanceof Number||y instanceof String||y instanceof Boolean?y.valueOf():y}function fn(y){if(Array.isArray(y))return y.map(fn);if(y instanceof Object&&!(y instanceof Number||y instanceof String||y instanceof Boolean)){var D={};for(var U in y)D[U]=fn(y[U]);return D}return pn(y)}var Mr=function(y){function D(U,ct){y.call(this,ct),this.message=ct,this.key=U}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D}(Error),Gr=function(y,D){D===void 0&&(D=[]),this.parent=y,this.bindings={};for(var U=0,ct=D;U<ct.length;U+=1){var yt=ct[U],Mt=yt[0],Bt=yt[1];this.bindings[Mt]=Bt}};Gr.prototype.concat=function(y){return new Gr(this,y)},Gr.prototype.get=function(y){if(this.bindings[y])return this.bindings[y];if(this.parent)return this.parent.get(y);throw new Error(y+" not found in scope.")},Gr.prototype.has=function(y){return this.bindings[y]?!0:this.parent?this.parent.has(y):!1};var Nr={kind:"null"},Kr={kind:"number"},Tn={kind:"string"},An={kind:"boolean"},En={kind:"color"},Nn={kind:"object"},Dn={kind:"value"},di={kind:"error"},oi={kind:"collator"},hi={kind:"formatted"},Ci={kind:"resolvedImage"};function pa(y,D){return{kind:"array",itemType:y,N:D}}function ea(y){if(y.kind==="array"){var D=ea(y.itemType);return typeof y.N=="number"?"array<"+D+", "+y.N+">":y.itemType.kind==="value"?"array":"array<"+D+">"}else return y.kind}var Fo=[Nr,Kr,Tn,An,En,hi,Nn,pa(Dn),Ci];function Eo(y,D){if(D.kind==="error")return null;if(y.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Eo(y.itemType,D.itemType))&&(typeof y.N!="number"||y.N===D.N))return null}else{if(y.kind===D.kind)return null;if(y.kind==="value")for(var U=0,ct=Fo;U<ct.length;U+=1){var yt=ct[U];if(!Eo(yt,D))return null}}return"Expected "+ea(y)+" but found "+ea(D)+" instead."}function no(y,D){return D.some(function(U){return U.kind===y.kind})}function Rl(y,D){return D.some(function(U){return U==="null"?y===null:U==="array"?Array.isArray(y):U==="object"?y&&!Array.isArray(y)&&typeof y=="object":U===typeof y})}var _c=M(function(y,D){var U={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ct(Ae){return Ae=Math.round(Ae),Ae<0?0:Ae>255?255:Ae}function yt(Ae){return Ae<0?0:Ae>1?1:Ae}function Mt(Ae){return Ae[Ae.length-1]==="%"?ct(parseFloat(Ae)/100*255):ct(parseInt(Ae))}function Bt(Ae){return Ae[Ae.length-1]==="%"?yt(parseFloat(Ae)/100):yt(parseFloat(Ae))}function ne(Ae,je,qe){return qe<0?qe+=1:qe>1&&(qe-=1),qe*6<1?Ae+(je-Ae)*qe*6:qe*2<1?je:qe*3<2?Ae+(je-Ae)*(2/3-qe)*6:Ae}function ge(Ae){var je=Ae.replace(/ /g,"").toLowerCase();if(je in U)return U[je].slice();if(je[0]==="#"){if(je.length===4){var qe=parseInt(je.substr(1),16);return qe>=0&&qe<=4095?[(qe&3840)>>4|(qe&3840)>>8,qe&240|(qe&240)>>4,qe&15|(qe&15)<<4,1]:null}else if(je.length===7){var qe=parseInt(je.substr(1),16);return qe>=0&&qe<=16777215?[(qe&16711680)>>16,(qe&65280)>>8,qe&255,1]:null}return null}var Qe=je.indexOf("("),sr=je.indexOf(")");if(Qe!==-1&&sr+1===je.length){var Sr=je.substr(0,Qe),Hr=je.substr(Qe+1,sr-(Qe+1)).split(","),dn=1;switch(Sr){case"rgba":if(Hr.length!==4)return null;dn=Bt(Hr.pop());case"rgb":return Hr.length!==3?null:[Mt(Hr[0]),Mt(Hr[1]),Mt(Hr[2]),dn];case"hsla":if(Hr.length!==4)return null;dn=Bt(Hr.pop());case"hsl":if(Hr.length!==3)return null;var un=(parseFloat(Hr[0])%360+360)%360/360,wn=Bt(Hr[1]),Sn=Bt(Hr[2]),mn=Sn<=.5?Sn*(wn+1):Sn+wn-Sn*wn,Fn=Sn*2-mn;return[ct(ne(Fn,mn,un+1/3)*255),ct(ne(Fn,mn,un)*255),ct(ne(Fn,mn,un-1/3)*255),dn];default:return null}}return null}try{D.parseCSSColor=ge}catch{}}),sf=_c.parseCSSColor,$i=function(y,D,U,ct){ct===void 0&&(ct=1),this.r=y,this.g=D,this.b=U,this.a=ct};$i.parse=function(y){if(y){if(y instanceof $i)return y;if(typeof y=="string"){var D=sf(y);if(D)return new $i(D[0]/255*D[3],D[1]/255*D[3],D[2]/255*D[3],D[3])}}},$i.prototype.toString=function(){var y=this.toArray(),D=y[0],U=y[1],ct=y[2],yt=y[3];return"rgba("+Math.round(D)+","+Math.round(U)+","+Math.round(ct)+","+yt+")"},$i.prototype.toArray=function(){var y=this,D=y.r,U=y.g,ct=y.b,yt=y.a;return yt===0?[0,0,0,0]:[D*255/yt,U*255/yt,ct*255/yt,yt]},$i.black=new $i(0,0,0,1),$i.white=new $i(1,1,1,1),$i.transparent=new $i(0,0,0,0),$i.red=new $i(1,0,0,1);var hu=function(y,D,U){y?this.sensitivity=D?"variant":"case":this.sensitivity=D?"accent":"base",this.locale=U,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};hu.prototype.compare=function(y,D){return this.collator.compare(y,D)},hu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var wc=function(y,D,U,ct,yt){this.text=y,this.image=D,this.scale=U,this.fontStack=ct,this.textColor=yt},Ja=function(y){this.sections=y};Ja.fromString=function(y){return new Ja([new wc(y,null,null,null,null)])},Ja.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(y){return y.text.length!==0||y.image&&y.image.name.length!==0})},Ja.factory=function(y){return y instanceof Ja?y:Ja.fromString(y)},Ja.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(y){return y.text}).join("")},Ja.prototype.serialize=function(){for(var y=["format"],D=0,U=this.sections;D<U.length;D+=1){var ct=U[D];if(ct.image){y.push(["image",ct.image.name]);continue}y.push(ct.text);var yt={};ct.fontStack&&(yt["text-font"]=["literal",ct.fontStack.split(",")]),ct.scale&&(yt["font-scale"]=ct.scale),ct.textColor&&(yt["text-color"]=["rgba"].concat(ct.textColor.toArray())),y.push(yt)}return y};var wo=function(y){this.name=y.name,this.available=y.available};wo.prototype.toString=function(){return this.name},wo.fromString=function(y){return y?new wo({name:y,available:!1}):null},wo.prototype.serialize=function(){return["image",this.name]};function Dl(y,D,U,ct){if(!(typeof y=="number"&&y>=0&&y<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof U=="number"&&U>=0&&U<=255)){var yt=typeof ct=="number"?[y,D,U,ct]:[y,D,U];return"Invalid rgba value ["+yt.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ct>"u"||typeof ct=="number"&&ct>=0&&ct<=1?null:"Invalid rgba value ["+[y,D,U,ct].join(", ")+"]: 'a' must be between 0 and 1."}function qu(y){if(y===null||typeof y=="string"||typeof y=="boolean"||typeof y=="number"||y instanceof $i||y instanceof hu||y instanceof Ja||y instanceof wo)return!0;if(Array.isArray(y)){for(var D=0,U=y;D<U.length;D+=1){var ct=U[D];if(!qu(ct))return!1}return!0}else if(typeof y=="object"){for(var yt in y)if(!qu(y[yt]))return!1;return!0}else return!1}function za(y){if(y===null)return Nr;if(typeof y=="string")return Tn;if(typeof y=="boolean")return An;if(typeof y=="number")return Kr;if(y instanceof $i)return En;if(y instanceof hu)return oi;if(y instanceof Ja)return hi;if(y instanceof wo)return Ci;if(Array.isArray(y)){for(var D=y.length,U,ct=0,yt=y;ct<yt.length;ct+=1){var Mt=yt[ct],Bt=za(Mt);if(!U)U=Bt;else{if(U===Bt)continue;U=Dn;break}}return pa(U||Dn,D)}else return Nn}function Fl(y){var D=typeof y;return y===null?"":D==="string"||D==="number"||D==="boolean"?String(y):y instanceof $i||y instanceof Ja||y instanceof wo?y.toString():JSON.stringify(y)}var Ba=function(y,D){this.type=y,this.value=D};Ba.parse=function(y,D){if(y.length!==2)return D.error("'literal' expression requires exactly one argument, but found "+(y.length-1)+" instead.");if(!qu(y[1]))return D.error("invalid value");var U=y[1],ct=za(U),yt=D.expectedType;return ct.kind==="array"&&ct.N===0&&yt&&yt.kind==="array"&&(typeof yt.N!="number"||yt.N===0)&&(ct=yt),new Ba(ct,U)},Ba.prototype.evaluate=function(){return this.value},Ba.prototype.eachChild=function(){},Ba.prototype.outputDefined=function(){return!0},Ba.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof $i?["rgba"].concat(this.value.toArray()):this.value instanceof Ja?this.value.serialize():this.value};var qa=function(y){this.name="ExpressionEvaluationError",this.message=y};qa.prototype.toJSON=function(){return this.message};var Bl={string:Tn,number:Kr,boolean:An,object:Nn},io=function(y,D){this.type=y,this.args=D};io.parse=function(y,D){if(y.length<2)return D.error("Expected at least one argument.");var U=1,ct,yt=y[0];if(yt==="array"){var Mt;if(y.length>2){var Bt=y[1];if(typeof Bt!="string"||!(Bt in Bl)||Bt==="object")return D.error('The item type argument of "array" must be one of string, number, boolean',1);Mt=Bl[Bt],U++}else Mt=Dn;var ne;if(y.length>3){if(y[2]!==null&&(typeof y[2]!="number"||y[2]<0||y[2]!==Math.floor(y[2])))return D.error('The length argument to "array" must be a positive integer literal',2);ne=y[2],U++}ct=pa(Mt,ne)}else ct=Bl[yt];for(var ge=[];U<y.length;U++){var Ae=D.parse(y[U],U,Dn);if(!Ae)return null;ge.push(Ae)}return new io(ct,ge)},io.prototype.evaluate=function(y){for(var D=0;D<this.args.length;D++){var U=this.args[D].evaluate(y),ct=Eo(this.type,za(U));if(ct){if(D===this.args.length-1)throw new qa("Expected value to be of type "+ea(this.type)+", but found "+ea(za(U))+" instead.")}else return U}return null},io.prototype.eachChild=function(y){this.args.forEach(y)},io.prototype.outputDefined=function(){return this.args.every(function(y){return y.outputDefined()})},io.prototype.serialize=function(){var y=this.type,D=[y.kind];if(y.kind==="array"){var U=y.itemType;if(U.kind==="string"||U.kind==="number"||U.kind==="boolean"){D.push(U.kind);var ct=y.N;(typeof ct=="number"||this.args.length>1)&&D.push(ct)}}return D.concat(this.args.map(function(yt){return yt.serialize()}))};var ao=function(y){this.type=hi,this.sections=y};ao.parse=function(y,D){if(y.length<2)return D.error("Expected at least one argument.");var U=y[1];if(!Array.isArray(U)&&typeof U=="object")return D.error("First argument must be an image or text section.");for(var ct=[],yt=!1,Mt=1;Mt<=y.length-1;++Mt){var Bt=y[Mt];if(yt&&typeof Bt=="object"&&!Array.isArray(Bt)){yt=!1;var ne=null;if(Bt["font-scale"]&&(ne=D.parse(Bt["font-scale"],1,Kr),!ne))return null;var ge=null;if(Bt["text-font"]&&(ge=D.parse(Bt["text-font"],1,pa(Tn)),!ge))return null;var Ae=null;if(Bt["text-color"]&&(Ae=D.parse(Bt["text-color"],1,En),!Ae))return null;var je=ct[ct.length-1];je.scale=ne,je.font=ge,je.textColor=Ae}else{var qe=D.parse(y[Mt],1,Dn);if(!qe)return null;var Qe=qe.type.kind;if(Qe!=="string"&&Qe!=="value"&&Qe!=="null"&&Qe!=="resolvedImage")return D.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");yt=!0,ct.push({content:qe,scale:null,font:null,textColor:null})}}return new ao(ct)},ao.prototype.evaluate=function(y){var D=function(U){var ct=U.content.evaluate(y);return za(ct)===Ci?new wc("",ct,null,null,null):new wc(Fl(ct),null,U.scale?U.scale.evaluate(y):null,U.font?U.font.evaluate(y).join(","):null,U.textColor?U.textColor.evaluate(y):null)};return new Ja(this.sections.map(D))},ao.prototype.eachChild=function(y){for(var D=0,U=this.sections;D<U.length;D+=1){var ct=U[D];y(ct.content),ct.scale&&y(ct.scale),ct.font&&y(ct.font),ct.textColor&&y(ct.textColor)}},ao.prototype.outputDefined=function(){return!1},ao.prototype.serialize=function(){for(var y=["format"],D=0,U=this.sections;D<U.length;D+=1){var ct=U[D];y.push(ct.content.serialize());var yt={};ct.scale&&(yt["font-scale"]=ct.scale.serialize()),ct.font&&(yt["text-font"]=ct.font.serialize()),ct.textColor&&(yt["text-color"]=ct.textColor.serialize()),y.push(yt)}return y};var Bo=function(y){this.type=Ci,this.input=y};Bo.parse=function(y,D){if(y.length!==2)return D.error("Expected two arguments.");var U=D.parse(y[1],1,Tn);return U?new Bo(U):D.error("No image name provided.")},Bo.prototype.evaluate=function(y){var D=this.input.evaluate(y),U=wo.fromString(D);return U&&y.availableImages&&(U.available=y.availableImages.indexOf(D)>-1),U},Bo.prototype.eachChild=function(y){y(this.input)},Bo.prototype.outputDefined=function(){return!1},Bo.prototype.serialize=function(){return["image",this.input.serialize()]};var lf={"to-boolean":An,"to-color":En,"to-number":Kr,"to-string":Tn},Lo=function(y,D){this.type=y,this.args=D};Lo.parse=function(y,D){if(y.length<2)return D.error("Expected at least one argument.");var U=y[0];if((U==="to-boolean"||U==="to-string")&&y.length!==2)return D.error("Expected one argument.");for(var ct=lf[U],yt=[],Mt=1;Mt<y.length;Mt++){var Bt=D.parse(y[Mt],Mt,Dn);if(!Bt)return null;yt.push(Bt)}return new Lo(ct,yt)},Lo.prototype.evaluate=function(y){if(this.type.kind==="boolean")return!!this.args[0].evaluate(y);if(this.type.kind==="color"){for(var D,U,ct=0,yt=this.args;ct<yt.length;ct+=1){var Mt=yt[ct];if(D=Mt.evaluate(y),U=null,D instanceof $i)return D;if(typeof D=="string"){var Bt=y.parseColor(D);if(Bt)return Bt}else if(Array.isArray(D)&&(D.length<3||D.length>4?U="Invalid rbga value "+JSON.stringify(D)+": expected an array containing either three or four numeric values.":U=Dl(D[0],D[1],D[2],D[3]),!U))return new $i(D[0]/255,D[1]/255,D[2]/255,D[3])}throw new qa(U||"Could not parse color from value '"+(typeof D=="string"?D:String(JSON.stringify(D)))+"'")}else if(this.type.kind==="number"){for(var ne=null,ge=0,Ae=this.args;ge<Ae.length;ge+=1){var je=Ae[ge];if(ne=je.evaluate(y),ne===null)return 0;var qe=Number(ne);if(!isNaN(qe))return qe}throw new qa("Could not convert "+JSON.stringify(ne)+" to number.")}else return this.type.kind==="formatted"?Ja.fromString(Fl(this.args[0].evaluate(y))):this.type.kind==="resolvedImage"?wo.fromString(Fl(this.args[0].evaluate(y))):Fl(this.args[0].evaluate(y))},Lo.prototype.eachChild=function(y){this.args.forEach(y)},Lo.prototype.outputDefined=function(){return this.args.every(function(y){return y.outputDefined()})},Lo.prototype.serialize=function(){if(this.type.kind==="formatted")return new ao([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Bo(this.args[0]).serialize();var y=["to-"+this.type.kind];return this.eachChild(function(D){y.push(D.serialize())}),y};var gh=["Unknown","Point","LineString","Polygon"],gs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?gh[this.feature.type]:this.feature.type:null},gs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gs.prototype.canonicalID=function(){return this.canonical},gs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gs.prototype.parseColor=function(y){var D=this._parseColorCache[y];return D||(D=this._parseColorCache[y]=$i.parse(y)),D};var Qa=function(y,D,U,ct){this.name=y,this.type=D,this._evaluate=U,this.args=ct};Qa.prototype.evaluate=function(y){return this._evaluate(y,this.args)},Qa.prototype.eachChild=function(y){this.args.forEach(y)},Qa.prototype.outputDefined=function(){return!1},Qa.prototype.serialize=function(){return[this.name].concat(this.args.map(function(y){return y.serialize()}))},Qa.parse=function(y,D){var U,ct=y[0],yt=Qa.definitions[ct];if(!yt)return D.error('Unknown expression "'+ct+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Mt=Array.isArray(yt)?yt[0]:yt.type,Bt=Array.isArray(yt)?[[yt[1],yt[2]]]:yt.overloads,ne=Bt.filter(function(Pi){var Fi=Pi[0];return!Array.isArray(Fi)||Fi.length===y.length-1}),ge=null,Ae=0,je=ne;Ae<je.length;Ae+=1){var qe=je[Ae],Qe=qe[0],sr=qe[1];ge=new ms(D.registry,D.path,null,D.scope);for(var Sr=[],Hr=!1,dn=1;dn<y.length;dn++){var un=y[dn],wn=Array.isArray(Qe)?Qe[dn-1]:Qe.type,Sn=ge.parse(un,1+Sr.length,wn);if(!Sn){Hr=!0;break}Sr.push(Sn)}if(!Hr){if(Array.isArray(Qe)&&Qe.length!==Sr.length){ge.error("Expected "+Qe.length+" arguments, but found "+Sr.length+" instead.");continue}for(var mn=0;mn<Sr.length;mn++){var Fn=Array.isArray(Qe)?Qe[mn]:Qe.type,Zn=Sr[mn];ge.concat(mn+1).checkSubtype(Fn,Zn.type)}if(ge.errors.length===0)return new Qa(ct,Mt,sr,Sr)}}if(ne.length===1)(U=D.errors).push.apply(U,ge.errors);else{for(var ti=ne.length?ne:Bt,ei=ti.map(function(Pi){var Fi=Pi[0];return kc(Fi)}).join(" | "),bi=[],_i=1;_i<y.length;_i++){var Ai=D.parse(y[_i],1+bi.length);if(!Ai)return null;bi.push(ea(Ai.type))}D.error("Expected arguments of type "+ei+", but found ("+bi.join(", ")+") instead.")}return null},Qa.register=function(y,D){Qa.definitions=D;for(var U in D)y[U]=Qa};function kc(y){return Array.isArray(y)?"("+y.map(ea).join(", ")+")":"("+ea(y.type)+"...)"}var Ys=function(y,D,U){this.type=oi,this.locale=U,this.caseSensitive=y,this.diacriticSensitive=D};Ys.parse=function(y,D){if(y.length!==2)return D.error("Expected one argument.");var U=y[1];if(typeof U!="object"||Array.isArray(U))return D.error("Collator options argument must be an object.");var ct=D.parse(U["case-sensitive"]===void 0?!1:U["case-sensitive"],1,An);if(!ct)return null;var yt=D.parse(U["diacritic-sensitive"]===void 0?!1:U["diacritic-sensitive"],1,An);if(!yt)return null;var Mt=null;return U.locale&&(Mt=D.parse(U.locale,1,Tn),!Mt)?null:new Ys(ct,yt,Mt)},Ys.prototype.evaluate=function(y){return new hu(this.caseSensitive.evaluate(y),this.diacriticSensitive.evaluate(y),this.locale?this.locale.evaluate(y):null)},Ys.prototype.eachChild=function(y){y(this.caseSensitive),y(this.diacriticSensitive),this.locale&&y(this.locale)},Ys.prototype.outputDefined=function(){return!1},Ys.prototype.serialize=function(){var y={};return y["case-sensitive"]=this.caseSensitive.serialize(),y["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(y.locale=this.locale.serialize()),["collator",y]};var ys=8192;function Tc(y,D){y[0]=Math.min(y[0],D[0]),y[1]=Math.min(y[1],D[1]),y[2]=Math.max(y[2],D[0]),y[3]=Math.max(y[3],D[1])}function uf(y){return(180+y)/360}function yh(y){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+y*Math.PI/360)))/360}function Wu(y,D){return!(y[0]<=D[0]||y[2]>=D[2]||y[1]<=D[1]||y[3]>=D[3])}function mh(y,D){var U=uf(y[0]),ct=yh(y[1]),yt=Math.pow(2,D.z);return[Math.round(U*yt*ys),Math.round(ct*yt*ys)]}function xh(y,D,U){var ct=y[0]-D[0],yt=y[1]-D[1],Mt=y[0]-U[0],Bt=y[1]-U[1];return ct*Bt-Mt*yt===0&&ct*Mt<=0&&yt*Bt<=0}function bh(y,D,U){return D[1]>y[1]!=U[1]>y[1]&&y[0]<(U[0]-D[0])*(y[1]-D[1])/(U[1]-D[1])+D[0]}function Mc(y,D){for(var U=!1,ct=0,yt=D.length;ct<yt;ct++)for(var Mt=D[ct],Bt=0,ne=Mt.length;Bt<ne-1;Bt++){if(xh(y,Mt[Bt],Mt[Bt+1]))return!1;bh(y,Mt[Bt],Mt[Bt+1])&&(U=!U)}return U}function _h(y,D){for(var U=0;U<D.length;U++)if(Mc(y,D[U]))return!0;return!1}function wh(y,D){return y[0]*D[1]-y[1]*D[0]}function cf(y,D,U,ct){var yt=y[0]-U[0],Mt=y[1]-U[1],Bt=D[0]-U[0],ne=D[1]-U[1],ge=ct[0]-U[0],Ae=ct[1]-U[1],je=yt*Ae-ge*Mt,qe=Bt*Ae-ge*ne;return je>0&&qe<0||je<0&&qe>0}function ff(y,D,U,ct){var yt=[D[0]-y[0],D[1]-y[1]],Mt=[ct[0]-U[0],ct[1]-U[1]];return wh(Mt,yt)===0?!1:!!(cf(y,D,U,ct)&&cf(U,ct,y,D))}function dl(y,D,U){for(var ct=0,yt=U;ct<yt.length;ct+=1)for(var Mt=yt[ct],Bt=0;Bt<Mt.length-1;++Bt)if(ff(y,D,Mt[Bt],Mt[Bt+1]))return!0;return!1}function Nl(y,D){for(var U=0;U<y.length;++U)if(!Mc(y[U],D))return!1;for(var ct=0;ct<y.length-1;++ct)if(dl(y[ct],y[ct+1],D))return!1;return!0}function pu(y,D){for(var U=0;U<D.length;U++)if(Nl(y,D[U]))return!0;return!1}function du(y,D,U){for(var ct=[],yt=0;yt<y.length;yt++){for(var Mt=[],Bt=0;Bt<y[yt].length;Bt++){var ne=mh(y[yt][Bt],U);Tc(D,ne),Mt.push(ne)}ct.push(Mt)}return ct}function hf(y,D,U){for(var ct=[],yt=0;yt<y.length;yt++){var Mt=du(y[yt],D,U);ct.push(Mt)}return ct}function Ps(y,D,U,ct){if(y[0]<U[0]||y[0]>U[2]){var yt=ct*.5,Mt=y[0]-U[0]>yt?-ct:U[0]-y[0]>yt?ct:0;Mt===0&&(Mt=y[0]-U[2]>yt?-ct:U[2]-y[0]>yt?ct:0),y[0]+=Mt}Tc(D,y)}function kh(y){y[0]=y[1]=1/0,y[2]=y[3]=-1/0}function Gu(y,D,U,ct){for(var yt=Math.pow(2,ct.z)*ys,Mt=[ct.x*ys,ct.y*ys],Bt=[],ne=0,ge=y;ne<ge.length;ne+=1)for(var Ae=ge[ne],je=0,qe=Ae;je<qe.length;je+=1){var Qe=qe[je],sr=[Qe.x+Mt[0],Qe.y+Mt[1]];Ps(sr,D,U,yt),Bt.push(sr)}return Bt}function pf(y,D,U,ct){for(var yt=Math.pow(2,ct.z)*ys,Mt=[ct.x*ys,ct.y*ys],Bt=[],ne=0,ge=y;ne<ge.length;ne+=1){for(var Ae=ge[ne],je=[],qe=0,Qe=Ae;qe<Qe.length;qe+=1){var sr=Qe[qe],Sr=[sr.x+Mt[0],sr.y+Mt[1]];Tc(D,Sr),je.push(Sr)}Bt.push(je)}if(D[2]-D[0]<=yt/2){kh(D);for(var Hr=0,dn=Bt;Hr<dn.length;Hr+=1)for(var un=dn[Hr],wn=0,Sn=un;wn<Sn.length;wn+=1){var mn=Sn[wn];Ps(mn,D,U,yt)}}return Bt}function df(y,D){var U=[1/0,1/0,-1/0,-1/0],ct=[1/0,1/0,-1/0,-1/0],yt=y.canonicalID();if(D.type==="Polygon"){var Mt=du(D.coordinates,ct,yt),Bt=Gu(y.geometry(),U,ct,yt);if(!Wu(U,ct))return!1;for(var ne=0,ge=Bt;ne<ge.length;ne+=1){var Ae=ge[ne];if(!Mc(Ae,Mt))return!1}}if(D.type==="MultiPolygon"){var je=hf(D.coordinates,ct,yt),qe=Gu(y.geometry(),U,ct,yt);if(!Wu(U,ct))return!1;for(var Qe=0,sr=qe;Qe<sr.length;Qe+=1){var Sr=sr[Qe];if(!_h(Sr,je))return!1}}return!0}function Zu(y,D){var U=[1/0,1/0,-1/0,-1/0],ct=[1/0,1/0,-1/0,-1/0],yt=y.canonicalID();if(D.type==="Polygon"){var Mt=du(D.coordinates,ct,yt),Bt=pf(y.geometry(),U,ct,yt);if(!Wu(U,ct))return!1;for(var ne=0,ge=Bt;ne<ge.length;ne+=1){var Ae=ge[ne];if(!Nl(Ae,Mt))return!1}}if(D.type==="MultiPolygon"){var je=hf(D.coordinates,ct,yt),qe=pf(y.geometry(),U,ct,yt);if(!Wu(U,ct))return!1;for(var Qe=0,sr=qe;Qe<sr.length;Qe+=1){var Sr=sr[Qe];if(!pu(Sr,je))return!1}}return!0}var ts=function(y,D){this.type=An,this.geojson=y,this.geometries=D};ts.parse=function(y,D){if(y.length!==2)return D.error("'within' expression requires exactly one argument, but found "+(y.length-1)+" instead.");if(qu(y[1])){var U=y[1];if(U.type==="FeatureCollection")for(var ct=0;ct<U.features.length;++ct){var yt=U.features[ct].geometry.type;if(yt==="Polygon"||yt==="MultiPolygon")return new ts(U,U.features[ct].geometry)}else if(U.type==="Feature"){var Mt=U.geometry.type;if(Mt==="Polygon"||Mt==="MultiPolygon")return new ts(U,U.geometry)}else if(U.type==="Polygon"||U.type==="MultiPolygon")return new ts(U,U)}return D.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ts.prototype.evaluate=function(y){if(y.geometry()!=null&&y.canonicalID()!=null){if(y.geometryType()==="Point")return df(y,this.geometries);if(y.geometryType()==="LineString")return Zu(y,this.geometries)}return!1},ts.prototype.eachChild=function(){},ts.prototype.outputDefined=function(){return!0},ts.prototype.serialize=function(){return["within",this.geojson]};function jl(y){if(y instanceof Qa&&(y.name==="get"&&y.args.length===1||y.name==="feature-state"||y.name==="has"&&y.args.length===1||y.name==="properties"||y.name==="geometry-type"||y.name==="id"||/^filter-/.test(y.name))||y instanceof ts)return!1;var D=!0;return y.eachChild(function(U){D&&!jl(U)&&(D=!1)}),D}function vl(y){if(y instanceof Qa&&y.name==="feature-state")return!1;var D=!0;return y.eachChild(function(U){D&&!vl(U)&&(D=!1)}),D}function vu(y,D){if(y instanceof Qa&&D.indexOf(y.name)>=0)return!1;var U=!0;return y.eachChild(function(ct){U&&!vu(ct,D)&&(U=!1)}),U}var Ks=function(y,D){this.type=D.type,this.name=y,this.boundExpression=D};Ks.parse=function(y,D){if(y.length!==2||typeof y[1]!="string")return D.error("'var' expression requires exactly one string literal argument.");var U=y[1];return D.scope.has(U)?new Ks(U,D.scope.get(U)):D.error('Unknown variable "'+U+'". Make sure "'+U+'" has been bound in an enclosing "let" expression before using it.',1)},Ks.prototype.evaluate=function(y){return this.boundExpression.evaluate(y)},Ks.prototype.eachChild=function(){},Ks.prototype.outputDefined=function(){return!1},Ks.prototype.serialize=function(){return["var",this.name]};var ms=function(y,D,U,ct,yt){D===void 0&&(D=[]),ct===void 0&&(ct=new Gr),yt===void 0&&(yt=[]),this.registry=y,this.path=D,this.key=D.map(function(Mt){return"["+Mt+"]"}).join(""),this.scope=ct,this.errors=yt,this.expectedType=U};ms.prototype.parse=function(y,D,U,ct,yt){return yt===void 0&&(yt={}),D?this.concat(D,U,ct)._parse(y,yt):this._parse(y,yt)},ms.prototype._parse=function(y,D){(y===null||typeof y=="string"||typeof y=="boolean"||typeof y=="number")&&(y=["literal",y]);function U(Ae,je,qe){return qe==="assert"?new io(je,[Ae]):qe==="coerce"?new Lo(je,[Ae]):Ae}if(Array.isArray(y)){if(y.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ct=y[0];if(typeof ct!="string")return this.error("Expression name must be a string, but found "+typeof ct+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var yt=this.registry[ct];if(yt){var Mt=yt.parse(y,this);if(!Mt)return null;if(this.expectedType){var Bt=this.expectedType,ne=Mt.type;if((Bt.kind==="string"||Bt.kind==="number"||Bt.kind==="boolean"||Bt.kind==="object"||Bt.kind==="array")&&ne.kind==="value")Mt=U(Mt,Bt,D.typeAnnotation||"assert");else if((Bt.kind==="color"||Bt.kind==="formatted"||Bt.kind==="resolvedImage")&&(ne.kind==="value"||ne.kind==="string"))Mt=U(Mt,Bt,D.typeAnnotation||"coerce");else if(this.checkSubtype(Bt,ne))return null}if(!(Mt instanceof Ba)&&Mt.type.kind!=="resolvedImage"&&Ac(Mt)){var ge=new gs;try{Mt=new Ba(Mt.type,Mt.evaluate(ge))}catch(Ae){return this.error(Ae.message),null}}return Mt}return this.error('Unknown expression "'+ct+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof y>"u"?this.error("'undefined' value invalid. Use null instead."):typeof y=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof y+" instead.")},ms.prototype.concat=function(y,D,U){var ct=typeof y=="number"?this.path.concat(y):this.path,yt=U?this.scope.concat(U):this.scope;return new ms(this.registry,ct,D||null,yt,this.errors)},ms.prototype.error=function(y){for(var D=[],U=arguments.length-1;U-- >0;)D[U]=arguments[U+1];var ct=""+this.key+D.map(function(yt){return"["+yt+"]"}).join("");this.errors.push(new Mr(ct,y))},ms.prototype.checkSubtype=function(y,D){var U=Eo(y,D);return U&&this.error(U),U};function Ac(y){if(y instanceof Ks)return Ac(y.boundExpression);if(y instanceof Qa&&y.name==="error"||y instanceof Ys||y instanceof ts)return!1;var D=y instanceof Lo||y instanceof io,U=!0;return y.eachChild(function(ct){D?U=U&&Ac(ct):U=U&&ct instanceof Ba}),U?jl(y)&&vu(y,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Hl(y,D){for(var U=y.length-1,ct=0,yt=U,Mt=0,Bt,ne;ct<=yt;)if(Mt=Math.floor((ct+yt)/2),Bt=y[Mt],ne=y[Mt+1],Bt<=D){if(Mt===U||D<ne)return Mt;ct=Mt+1}else if(Bt>D)yt=Mt-1;else throw new qa("Input is not a number.");return 0}var es=function(y,D,U){this.type=y,this.input=D,this.labels=[],this.outputs=[];for(var ct=0,yt=U;ct<yt.length;ct+=1){var Mt=yt[ct],Bt=Mt[0],ne=Mt[1];this.labels.push(Bt),this.outputs.push(ne)}};es.parse=function(y,D){if(y.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(y.length-1)+".");if((y.length-1)%2!==0)return D.error("Expected an even number of arguments.");var U=D.parse(y[1],1,Kr);if(!U)return null;var ct=[],yt=null;D.expectedType&&D.expectedType.kind!=="value"&&(yt=D.expectedType);for(var Mt=1;Mt<y.length;Mt+=2){var Bt=Mt===1?-1/0:y[Mt],ne=y[Mt+1],ge=Mt,Ae=Mt+1;if(typeof Bt!="number")return D.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ge);if(ct.length&&ct[ct.length-1][0]>=Bt)return D.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ge);var je=D.parse(ne,Ae,yt);if(!je)return null;yt=yt||je.type,ct.push([Bt,je])}return new es(yt,U,ct)},es.prototype.evaluate=function(y){var D=this.labels,U=this.outputs;if(D.length===1)return U[0].evaluate(y);var ct=this.input.evaluate(y);if(ct<=D[0])return U[0].evaluate(y);var yt=D.length;if(ct>=D[yt-1])return U[yt-1].evaluate(y);var Mt=Hl(D,ct);return U[Mt].evaluate(y)},es.prototype.eachChild=function(y){y(this.input);for(var D=0,U=this.outputs;D<U.length;D+=1){var ct=U[D];y(ct)}},es.prototype.outputDefined=function(){return this.outputs.every(function(y){return y.outputDefined()})},es.prototype.serialize=function(){for(var y=["step",this.input.serialize()],D=0;D<this.labels.length;D++)D>0&&y.push(this.labels[D]),y.push(this.outputs[D].serialize());return y};function Pa(y,D,U){return y*(1-U)+D*U}function Sc(y,D,U){return new $i(Pa(y.r,D.r,U),Pa(y.g,D.g,U),Pa(y.b,D.b,U),Pa(y.a,D.a,U))}function Th(y,D,U){return y.map(function(ct,yt){return Pa(ct,D[yt],U)})}var Yu=Object.freeze({__proto__:null,number:Pa,color:Sc,array:Th}),Vl=.95047,Xl=1,Po=1.08883,Ku=4/29,Ul=6/29,Ju=3*Ul*Ul,Mh=Ul*Ul*Ul,vf=Math.PI/180,Ec=180/Math.PI;function Lc(y){return y>Mh?Math.pow(y,.3333333333333333):y/Ju+Ku}function Pc(y){return y>Ul?y*y*y:Ju*(y-Ku)}function ql(y){return 255*(y<=.0031308?12.92*y:1.055*Math.pow(y,.4166666666666667)-.055)}function Qu(y){return y/=255,y<=.04045?y/12.92:Math.pow((y+.055)/1.055,2.4)}function gu(y){var D=Qu(y.r),U=Qu(y.g),ct=Qu(y.b),yt=Lc((.4124564*D+.3575761*U+.1804375*ct)/Vl),Mt=Lc((.2126729*D+.7151522*U+.072175*ct)/Xl),Bt=Lc((.0193339*D+.119192*U+.9503041*ct)/Po);return{l:116*Mt-16,a:500*(yt-Mt),b:200*(Mt-Bt),alpha:y.a}}function $u(y){var D=(y.l+16)/116,U=isNaN(y.a)?D:D+y.a/500,ct=isNaN(y.b)?D:D-y.b/200;return D=Xl*Pc(D),U=Vl*Pc(U),ct=Po*Pc(ct),new $i(ql(3.2404542*U-1.5371385*D-.4985314*ct),ql(-.969266*U+1.8760108*D+.041556*ct),ql(.0556434*U-.2040259*D+1.0572252*ct),y.alpha)}function da(y,D,U){return{l:Pa(y.l,D.l,U),a:Pa(y.a,D.a,U),b:Pa(y.b,D.b,U),alpha:Pa(y.alpha,D.alpha,U)}}function gf(y){var D=gu(y),U=D.l,ct=D.a,yt=D.b,Mt=Math.atan2(yt,ct)*Ec;return{h:Mt<0?Mt+360:Mt,c:Math.sqrt(ct*ct+yt*yt),l:U,alpha:y.a}}function rs(y){var D=y.h*vf,U=y.c,ct=y.l;return $u({l:ct,a:Math.cos(D)*U,b:Math.sin(D)*U,alpha:y.alpha})}function yf(y,D,U){var ct=D-y;return y+U*(ct>180||ct<-180?ct-360*Math.round(ct/360):ct)}function Cc(y,D,U){return{h:yf(y.h,D.h,U),c:Pa(y.c,D.c,U),l:Pa(y.l,D.l,U),alpha:Pa(y.alpha,D.alpha,U)}}var yl={forward:gu,reverse:$u,interpolate:da},Js={forward:gf,reverse:rs,interpolate:Cc},tc=Object.freeze({__proto__:null,lab:yl,hcl:Js}),Ra=function(y,D,U,ct,yt){this.type=y,this.operator=D,this.interpolation=U,this.input=ct,this.labels=[],this.outputs=[];for(var Mt=0,Bt=yt;Mt<Bt.length;Mt+=1){var ne=Bt[Mt],ge=ne[0],Ae=ne[1];this.labels.push(ge),this.outputs.push(Ae)}};Ra.interpolationFactor=function(y,D,U,ct){var yt=0;if(y.name==="exponential")yt=yu(D,y.base,U,ct);else if(y.name==="linear")yt=yu(D,1,U,ct);else if(y.name==="cubic-bezier"){var Mt=y.controlPoints,Bt=new d(Mt[0],Mt[1],Mt[2],Mt[3]);yt=Bt.solve(yu(D,1,U,ct))}return yt},Ra.parse=function(y,D){var U=y[0],ct=y[1],yt=y[2],Mt=y.slice(3);if(!Array.isArray(ct)||ct.length===0)return D.error("Expected an interpolation type expression.",1);if(ct[0]==="linear")ct={name:"linear"};else if(ct[0]==="exponential"){var Bt=ct[1];if(typeof Bt!="number")return D.error("Exponential interpolation requires a numeric base.",1,1);ct={name:"exponential",base:Bt}}else if(ct[0]==="cubic-bezier"){var ne=ct.slice(1);if(ne.length!==4||ne.some(function(dn){return typeof dn!="number"||dn<0||dn>1}))return D.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ct={name:"cubic-bezier",controlPoints:ne}}else return D.error("Unknown interpolation type "+String(ct[0]),1,0);if(y.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(y.length-1)+".");if((y.length-1)%2!==0)return D.error("Expected an even number of arguments.");if(yt=D.parse(yt,2,Kr),!yt)return null;var ge=[],Ae=null;U==="interpolate-hcl"||U==="interpolate-lab"?Ae=En:D.expectedType&&D.expectedType.kind!=="value"&&(Ae=D.expectedType);for(var je=0;je<Mt.length;je+=2){var qe=Mt[je],Qe=Mt[je+1],sr=je+3,Sr=je+4;if(typeof qe!="number")return D.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',sr);if(ge.length&&ge[ge.length-1][0]>=qe)return D.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',sr);var Hr=D.parse(Qe,Sr,Ae);if(!Hr)return null;Ae=Ae||Hr.type,ge.push([qe,Hr])}return Ae.kind!=="number"&&Ae.kind!=="color"&&!(Ae.kind==="array"&&Ae.itemType.kind==="number"&&typeof Ae.N=="number")?D.error("Type "+ea(Ae)+" is not interpolatable."):new Ra(Ae,U,ct,yt,ge)},Ra.prototype.evaluate=function(y){var D=this.labels,U=this.outputs;if(D.length===1)return U[0].evaluate(y);var ct=this.input.evaluate(y);if(ct<=D[0])return U[0].evaluate(y);var yt=D.length;if(ct>=D[yt-1])return U[yt-1].evaluate(y);var Mt=Hl(D,ct),Bt=D[Mt],ne=D[Mt+1],ge=Ra.interpolationFactor(this.interpolation,ct,Bt,ne),Ae=U[Mt].evaluate(y),je=U[Mt+1].evaluate(y);return this.operator==="interpolate"?Yu[this.type.kind.toLowerCase()](Ae,je,ge):this.operator==="interpolate-hcl"?Js.reverse(Js.interpolate(Js.forward(Ae),Js.forward(je),ge)):yl.reverse(yl.interpolate(yl.forward(Ae),yl.forward(je),ge))},Ra.prototype.eachChild=function(y){y(this.input);for(var D=0,U=this.outputs;D<U.length;D+=1){var ct=U[D];y(ct)}},Ra.prototype.outputDefined=function(){return this.outputs.every(function(y){return y.outputDefined()})},Ra.prototype.serialize=function(){var y;this.interpolation.name==="linear"?y=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?y=["linear"]:y=["exponential",this.interpolation.base]:y=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var D=[this.operator,y,this.input.serialize()],U=0;U<this.labels.length;U++)D.push(this.labels[U],this.outputs[U].serialize());return D};function yu(y,D,U,ct){var yt=ct-U,Mt=y-U;return yt===0?0:D===1?Mt/yt:(Math.pow(D,Mt)-1)/(Math.pow(D,yt)-1)}var ns=function(y,D){this.type=y,this.args=D};ns.parse=function(y,D){if(y.length<2)return D.error("Expectected at least one argument.");var U=null,ct=D.expectedType;ct&&ct.kind!=="value"&&(U=ct);for(var yt=[],Mt=0,Bt=y.slice(1);Mt<Bt.length;Mt+=1){var ne=Bt[Mt],ge=D.parse(ne,1+yt.length,U,void 0,{typeAnnotation:"omit"});if(!ge)return null;U=U||ge.type,yt.push(ge)}var Ae=ct&&yt.some(function(je){return Eo(ct,je.type)});return Ae?new ns(Dn,yt):new ns(U,yt)},ns.prototype.evaluate=function(y){for(var D=null,U=0,ct,yt=0,Mt=this.args;yt<Mt.length;yt+=1){var Bt=Mt[yt];if(U++,D=Bt.evaluate(y),D&&D instanceof wo&&!D.available&&(ct||(ct=D.name),D=null,U===this.args.length&&(D=ct)),D!==null)break}return D},ns.prototype.eachChild=function(y){this.args.forEach(y)},ns.prototype.outputDefined=function(){return this.args.every(function(y){return y.outputDefined()})},ns.prototype.serialize=function(){var y=["coalesce"];return this.eachChild(function(D){y.push(D.serialize())}),y};var Cs=function(y,D){this.type=D.type,this.bindings=[].concat(y),this.result=D};Cs.prototype.evaluate=function(y){return this.result.evaluate(y)},Cs.prototype.eachChild=function(y){for(var D=0,U=this.bindings;D<U.length;D+=1){var ct=U[D];y(ct[1])}y(this.result)},Cs.parse=function(y,D){if(y.length<4)return D.error("Expected at least 3 arguments, but found "+(y.length-1)+" instead.");for(var U=[],ct=1;ct<y.length-1;ct+=2){var yt=y[ct];if(typeof yt!="string")return D.error("Expected string, but found "+typeof yt+" instead.",ct);if(/[^a-zA-Z0-9_]/.test(yt))return D.error("Variable names must contain only alphanumeric characters or '_'.",ct);var Mt=D.parse(y[ct+1],ct+1);if(!Mt)return null;U.push([yt,Mt])}var Bt=D.parse(y[y.length-1],y.length-1,D.expectedType,U);return Bt?new Cs(U,Bt):null},Cs.prototype.outputDefined=function(){return this.result.outputDefined()},Cs.prototype.serialize=function(){for(var y=["let"],D=0,U=this.bindings;D<U.length;D+=1){var ct=U[D],yt=ct[0],Mt=ct[1];y.push(yt,Mt.serialize())}return y.push(this.result.serialize()),y};var ml=function(y,D,U){this.type=y,this.index=D,this.input=U};ml.parse=function(y,D){if(y.length!==3)return D.error("Expected 2 arguments, but found "+(y.length-1)+" instead.");var U=D.parse(y[1],1,Kr),ct=D.parse(y[2],2,pa(D.expectedType||Dn));if(!U||!ct)return null;var yt=ct.type;return new ml(yt.itemType,U,ct)},ml.prototype.evaluate=function(y){var D=this.index.evaluate(y),U=this.input.evaluate(y);if(D<0)throw new qa("Array index out of bounds: "+D+" < 0.");if(D>=U.length)throw new qa("Array index out of bounds: "+D+" > "+(U.length-1)+".");if(D!==Math.floor(D))throw new qa("Array index must be an integer, but found "+D+" instead.");return U[D]},ml.prototype.eachChild=function(y){y(this.index),y(this.input)},ml.prototype.outputDefined=function(){return!1},ml.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Qs=function(y,D){this.type=An,this.needle=y,this.haystack=D};Qs.parse=function(y,D){if(y.length!==3)return D.error("Expected 2 arguments, but found "+(y.length-1)+" instead.");var U=D.parse(y[1],1,Dn),ct=D.parse(y[2],2,Dn);return!U||!ct?null:no(U.type,[An,Tn,Kr,Nr,Dn])?new Qs(U,ct):D.error("Expected first argument to be of type boolean, string, number or null, but found "+ea(U.type)+" instead")},Qs.prototype.evaluate=function(y){var D=this.needle.evaluate(y),U=this.haystack.evaluate(y);if(!U)return!1;if(!Rl(D,["boolean","string","number","null"]))throw new qa("Expected first argument to be of type boolean, string, number or null, but found "+ea(za(D))+" instead.");if(!Rl(U,["string","array"]))throw new qa("Expected second argument to be of type array or string, but found "+ea(za(U))+" instead.");return U.indexOf(D)>=0},Qs.prototype.eachChild=function(y){y(this.needle),y(this.haystack)},Qs.prototype.outputDefined=function(){return!0},Qs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var is=function(y,D,U){this.type=Kr,this.needle=y,this.haystack=D,this.fromIndex=U};is.parse=function(y,D){if(y.length<=2||y.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(y.length-1)+" instead.");var U=D.parse(y[1],1,Dn),ct=D.parse(y[2],2,Dn);if(!U||!ct)return null;if(!no(U.type,[An,Tn,Kr,Nr,Dn]))return D.error("Expected first argument to be of type boolean, string, number or null, but found "+ea(U.type)+" instead");if(y.length===4){var yt=D.parse(y[3],3,Kr);return yt?new is(U,ct,yt):null}else return new is(U,ct)},is.prototype.evaluate=function(y){var D=this.needle.evaluate(y),U=this.haystack.evaluate(y);if(!Rl(D,["boolean","string","number","null"]))throw new qa("Expected first argument to be of type boolean, string, number or null, but found "+ea(za(D))+" instead.");if(!Rl(U,["string","array"]))throw new qa("Expected second argument to be of type array or string, but found "+ea(za(U))+" instead.");if(this.fromIndex){var ct=this.fromIndex.evaluate(y);return U.indexOf(D,ct)}return U.indexOf(D)},is.prototype.eachChild=function(y){y(this.needle),y(this.haystack),this.fromIndex&&y(this.fromIndex)},is.prototype.outputDefined=function(){return!1},is.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var y=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),y]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Is=function(y,D,U,ct,yt,Mt){this.inputType=y,this.type=D,this.input=U,this.cases=ct,this.outputs=yt,this.otherwise=Mt};Is.parse=function(y,D){if(y.length<5)return D.error("Expected at least 4 arguments, but found only "+(y.length-1)+".");if(y.length%2!==1)return D.error("Expected an even number of arguments.");var U,ct;D.expectedType&&D.expectedType.kind!=="value"&&(ct=D.expectedType);for(var yt={},Mt=[],Bt=2;Bt<y.length-1;Bt+=2){var ne=y[Bt],ge=y[Bt+1];Array.isArray(ne)||(ne=[ne]);var Ae=D.concat(Bt);if(ne.length===0)return Ae.error("Expected at least one branch label.");for(var je=0,qe=ne;je<qe.length;je+=1){var Qe=qe[je];if(typeof Qe!="number"&&typeof Qe!="string")return Ae.error("Branch labels must be numbers or strings.");if(typeof Qe=="number"&&Math.abs(Qe)>Number.MAX_SAFE_INTEGER)return Ae.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Qe=="number"&&Math.floor(Qe)!==Qe)return Ae.error("Numeric branch labels must be integer values.");if(!U)U=za(Qe);else if(Ae.checkSubtype(U,za(Qe)))return null;if(typeof yt[String(Qe)]<"u")return Ae.error("Branch labels must be unique.");yt[String(Qe)]=Mt.length}var sr=D.parse(ge,Bt,ct);if(!sr)return null;ct=ct||sr.type,Mt.push(sr)}var Sr=D.parse(y[1],1,Dn);if(!Sr)return null;var Hr=D.parse(y[y.length-1],y.length-1,ct);return!Hr||Sr.type.kind!=="value"&&D.concat(1).checkSubtype(U,Sr.type)?null:new Is(U,ct,Sr,yt,Mt,Hr)},Is.prototype.evaluate=function(y){var D=this.input.evaluate(y),U=za(D)===this.inputType&&this.outputs[this.cases[D]]||this.otherwise;return U.evaluate(y)},Is.prototype.eachChild=function(y){y(this.input),this.outputs.forEach(y),y(this.otherwise)},Is.prototype.outputDefined=function(){return this.outputs.every(function(y){return y.outputDefined()})&&this.otherwise.outputDefined()},Is.prototype.serialize=function(){for(var y=this,D=["match",this.input.serialize()],U=Object.keys(this.cases).sort(),ct=[],yt={},Mt=0,Bt=U;Mt<Bt.length;Mt+=1){var ne=Bt[Mt],ge=yt[this.cases[ne]];ge===void 0?(yt[this.cases[ne]]=ct.length,ct.push([this.cases[ne],[ne]])):ct[ge][1].push(ne)}for(var Ae=function(Sr){return y.inputType.kind==="number"?Number(Sr):Sr},je=0,qe=ct;je<qe.length;je+=1){var Qe=qe[je],ge=Qe[0],sr=Qe[1];sr.length===1?D.push(Ae(sr[0])):D.push(sr.map(Ae)),D.push(this.outputs[outputIndex$1].serialize())}return D.push(this.otherwise.serialize()),D};var as=function(y,D,U){this.type=y,this.branches=D,this.otherwise=U};as.parse=function(y,D){if(y.length<4)return D.error("Expected at least 3 arguments, but found only "+(y.length-1)+".");if(y.length%2!==0)return D.error("Expected an odd number of arguments.");var U;D.expectedType&&D.expectedType.kind!=="value"&&(U=D.expectedType);for(var ct=[],yt=1;yt<y.length-1;yt+=2){var Mt=D.parse(y[yt],yt,An);if(!Mt)return null;var Bt=D.parse(y[yt+1],yt+1,U);if(!Bt)return null;ct.push([Mt,Bt]),U=U||Bt.type}var ne=D.parse(y[y.length-1],y.length-1,U);return ne?new as(U,ct,ne):null},as.prototype.evaluate=function(y){for(var D=0,U=this.branches;D<U.length;D+=1){var ct=U[D],yt=ct[0],Mt=ct[1];if(yt.evaluate(y))return Mt.evaluate(y)}return this.otherwise.evaluate(y)},as.prototype.eachChild=function(y){for(var D=0,U=this.branches;D<U.length;D+=1){var ct=U[D],yt=ct[0],Mt=ct[1];y(yt),y(Mt)}y(this.otherwise)},as.prototype.outputDefined=function(){return this.branches.every(function(y){y[0];var D=y[1];return D.outputDefined()})&&this.otherwise.outputDefined()},as.prototype.serialize=function(){var y=["case"];return this.eachChild(function(D){y.push(D.serialize())}),y};var Uo=function(y,D,U,ct){this.type=y,this.input=D,this.beginIndex=U,this.endIndex=ct};Uo.parse=function(y,D){if(y.length<=2||y.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(y.length-1)+" instead.");var U=D.parse(y[1],1,Dn),ct=D.parse(y[2],2,Kr);if(!U||!ct)return null;if(!no(U.type,[pa(Dn),Tn,Dn]))return D.error("Expected first argument to be of type array or string, but found "+ea(U.type)+" instead");if(y.length===4){var yt=D.parse(y[3],3,Kr);return yt?new Uo(U.type,U,ct,yt):null}else return new Uo(U.type,U,ct)},Uo.prototype.evaluate=function(y){var D=this.input.evaluate(y),U=this.beginIndex.evaluate(y);if(!Rl(D,["string","array"]))throw new qa("Expected first argument to be of type array or string, but found "+ea(za(D))+" instead.");if(this.endIndex){var ct=this.endIndex.evaluate(y);return D.slice(U,ct)}return D.slice(U)},Uo.prototype.eachChild=function(y){y(this.input),y(this.beginIndex),this.endIndex&&y(this.endIndex)},Uo.prototype.outputDefined=function(){return!1},Uo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var y=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),y]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function mu(y,D){return y==="=="||y==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Ah(y,D,U){return D===U}function Sh(y,D,U){return D!==U}function Eh(y,D,U){return D<U}function Lh(y,D,U){return D>U}function Ic(y,D,U){return D<=U}function mf(y,D,U){return D>=U}function Wl(y,D,U,ct){return ct.compare(D,U)===0}function $a(y,D,U,ct){return!Wl(y,D,U,ct)}function No(y,D,U,ct){return ct.compare(D,U)<0}function Gl(y,D,U,ct){return ct.compare(D,U)>0}function xf(y,D,U,ct){return ct.compare(D,U)<=0}function xu(y,D,U,ct){return ct.compare(D,U)>=0}function Os(y,D,U){var ct=y!=="=="&&y!=="!=";return function(){function yt(Mt,Bt,ne){this.type=An,this.lhs=Mt,this.rhs=Bt,this.collator=ne,this.hasUntypedArgument=Mt.type.kind==="value"||Bt.type.kind==="value"}return yt.parse=function(Mt,Bt){if(Mt.length!==3&&Mt.length!==4)return Bt.error("Expected two or three arguments.");var ne=Mt[0],ge=Bt.parse(Mt[1],1,Dn);if(!ge)return null;if(!mu(ne,ge.type))return Bt.concat(1).error('"'+ne+`" comparisons are not supported for type '`+ea(ge.type)+"'.");var Ae=Bt.parse(Mt[2],2,Dn);if(!Ae)return null;if(!mu(ne,Ae.type))return Bt.concat(2).error('"'+ne+`" comparisons are not supported for type '`+ea(Ae.type)+"'.");if(ge.type.kind!==Ae.type.kind&&ge.type.kind!=="value"&&Ae.type.kind!=="value")return Bt.error("Cannot compare types '"+ea(ge.type)+"' and '"+ea(Ae.type)+"'.");ct&&(ge.type.kind==="value"&&Ae.type.kind!=="value"?ge=new io(Ae.type,[ge]):ge.type.kind!=="value"&&Ae.type.kind==="value"&&(Ae=new io(ge.type,[Ae])));var je=null;if(Mt.length===4){if(ge.type.kind!=="string"&&Ae.type.kind!=="string"&&ge.type.kind!=="value"&&Ae.type.kind!=="value")return Bt.error("Cannot use collator to compare non-string types.");if(je=Bt.parse(Mt[3],3,oi),!je)return null}return new yt(ge,Ae,je)},yt.prototype.evaluate=function(Mt){var Bt=this.lhs.evaluate(Mt),ne=this.rhs.evaluate(Mt);if(ct&&this.hasUntypedArgument){var ge=za(Bt),Ae=za(ne);if(ge.kind!==Ae.kind||!(ge.kind==="string"||ge.kind==="number"))throw new qa('Expected arguments for "'+y+'" to be (string, string) or (number, number), but found ('+ge.kind+", "+Ae.kind+") instead.")}if(this.collator&&!ct&&this.hasUntypedArgument){var je=za(Bt),qe=za(ne);if(je.kind!=="string"||qe.kind!=="string")return D(Mt,Bt,ne)}return this.collator?U(Mt,Bt,ne,this.collator.evaluate(Mt)):D(Mt,Bt,ne)},yt.prototype.eachChild=function(Mt){Mt(this.lhs),Mt(this.rhs),this.collator&&Mt(this.collator)},yt.prototype.outputDefined=function(){return!0},yt.prototype.serialize=function(){var Mt=[y];return this.eachChild(function(Bt){Mt.push(Bt.serialize())}),Mt},yt}()}var Ph=Os("==",Ah,Wl),bf=Os("!=",Sh,$a),_f=Os("<",Eh,No),Oc=Os(">",Lh,Gl),wf=Os("<=",Ic,xf),ko=Os(">=",mf,xu),os=function(y,D,U,ct,yt){this.type=Tn,this.number=y,this.locale=D,this.currency=U,this.minFractionDigits=ct,this.maxFractionDigits=yt};os.parse=function(y,D){if(y.length!==3)return D.error("Expected two arguments.");var U=D.parse(y[1],1,Kr);if(!U)return null;var ct=y[2];if(typeof ct!="object"||Array.isArray(ct))return D.error("NumberFormat options argument must be an object.");var yt=null;if(ct.locale&&(yt=D.parse(ct.locale,1,Tn),!yt))return null;var Mt=null;if(ct.currency&&(Mt=D.parse(ct.currency,1,Tn),!Mt))return null;var Bt=null;if(ct["min-fraction-digits"]&&(Bt=D.parse(ct["min-fraction-digits"],1,Kr),!Bt))return null;var ne=null;return ct["max-fraction-digits"]&&(ne=D.parse(ct["max-fraction-digits"],1,Kr),!ne)?null:new os(U,yt,Mt,Bt,ne)},os.prototype.evaluate=function(y){return new Intl.NumberFormat(this.locale?this.locale.evaluate(y):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(y):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(y):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(y):void 0}).format(this.number.evaluate(y))},os.prototype.eachChild=function(y){y(this.number),this.locale&&y(this.locale),this.currency&&y(this.currency),this.minFractionDigits&&y(this.minFractionDigits),this.maxFractionDigits&&y(this.maxFractionDigits)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){var y={};return this.locale&&(y.locale=this.locale.serialize()),this.currency&&(y.currency=this.currency.serialize()),this.minFractionDigits&&(y["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(y["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),y]};var $s=function(y){this.type=Kr,this.input=y};$s.parse=function(y,D){if(y.length!==2)return D.error("Expected 1 argument, but found "+(y.length-1)+" instead.");var U=D.parse(y[1],1);return U?U.type.kind!=="array"&&U.type.kind!=="string"&&U.type.kind!=="value"?D.error("Expected argument of type string or array, but found "+ea(U.type)+" instead."):new $s(U):null},$s.prototype.evaluate=function(y){var D=this.input.evaluate(y);if(typeof D=="string"||Array.isArray(D))return D.length;throw new qa("Expected value to be of type string or array, but found "+ea(za(D))+" instead.")},$s.prototype.eachChild=function(y){y(this.input)},$s.prototype.outputDefined=function(){return!1},$s.prototype.serialize=function(){var y=["length"];return this.eachChild(function(D){y.push(D.serialize())}),y};var Zl={"==":Ph,"!=":bf,">":Oc,"<":_f,">=":ko,"<=":wf,array:io,at:ml,boolean:io,case:as,coalesce:ns,collator:Ys,format:ao,image:Bo,in:Qs,"index-of":is,interpolate:Ra,"interpolate-hcl":Ra,"interpolate-lab":Ra,length:$s,let:Cs,literal:Ba,match:Is,number:io,"number-format":os,object:io,slice:Uo,step:es,string:io,"to-boolean":Lo,"to-color":Lo,"to-number":Lo,"to-string":Lo,var:Ks,within:ts};function ec(y,D){var U=D[0],ct=D[1],yt=D[2],Mt=D[3];U=U.evaluate(y),ct=ct.evaluate(y),yt=yt.evaluate(y);var Bt=Mt?Mt.evaluate(y):1,ne=Dl(U,ct,yt,Bt);if(ne)throw new qa(ne);return new $i(U/255*Bt,ct/255*Bt,yt/255*Bt,Bt)}function xl(y,D){return y in D}function bl(y,D){var U=D[y];return typeof U>"u"?null:U}function kf(y,D,U,ct){for(;U<=ct;){var yt=U+ct>>1;if(D[yt]===y)return!0;D[yt]>y?ct=yt-1:U=yt+1}return!1}function zs(y){return{type:y}}Qa.register(Zl,{error:[di,[Tn],function(y,D){var U=D[0];throw new qa(U.evaluate(y))}],typeof:[Tn,[Dn],function(y,D){var U=D[0];return ea(za(U.evaluate(y)))}],"to-rgba":[pa(Kr,4),[En],function(y,D){var U=D[0];return U.evaluate(y).toArray()}],rgb:[En,[Kr,Kr,Kr],ec],rgba:[En,[Kr,Kr,Kr,Kr],ec],has:{type:An,overloads:[[[Tn],function(y,D){var U=D[0];return xl(U.evaluate(y),y.properties())}],[[Tn,Nn],function(y,D){var U=D[0],ct=D[1];return xl(U.evaluate(y),ct.evaluate(y))}]]},get:{type:Dn,overloads:[[[Tn],function(y,D){var U=D[0];return bl(U.evaluate(y),y.properties())}],[[Tn,Nn],function(y,D){var U=D[0],ct=D[1];return bl(U.evaluate(y),ct.evaluate(y))}]]},"feature-state":[Dn,[Tn],function(y,D){var U=D[0];return bl(U.evaluate(y),y.featureState||{})}],properties:[Nn,[],function(y){return y.properties()}],"geometry-type":[Tn,[],function(y){return y.geometryType()}],id:[Dn,[],function(y){return y.id()}],zoom:[Kr,[],function(y){return y.globals.zoom}],"heatmap-density":[Kr,[],function(y){return y.globals.heatmapDensity||0}],"line-progress":[Kr,[],function(y){return y.globals.lineProgress||0}],accumulated:[Dn,[],function(y){return y.globals.accumulated===void 0?null:y.globals.accumulated}],"+":[Kr,zs(Kr),function(y,D){for(var U=0,ct=0,yt=D;ct<yt.length;ct+=1){var Mt=yt[ct];U+=Mt.evaluate(y)}return U}],"*":[Kr,zs(Kr),function(y,D){for(var U=1,ct=0,yt=D;ct<yt.length;ct+=1){var Mt=yt[ct];U*=Mt.evaluate(y)}return U}],"-":{type:Kr,overloads:[[[Kr,Kr],function(y,D){var U=D[0],ct=D[1];return U.evaluate(y)-ct.evaluate(y)}],[[Kr],function(y,D){var U=D[0];return-U.evaluate(y)}]]},"/":[Kr,[Kr,Kr],function(y,D){var U=D[0],ct=D[1];return U.evaluate(y)/ct.evaluate(y)}],"%":[Kr,[Kr,Kr],function(y,D){var U=D[0],ct=D[1];return U.evaluate(y)%ct.evaluate(y)}],ln2:[Kr,[],function(){return Math.LN2}],pi:[Kr,[],function(){return Math.PI}],e:[Kr,[],function(){return Math.E}],"^":[Kr,[Kr,Kr],function(y,D){var U=D[0],ct=D[1];return Math.pow(U.evaluate(y),ct.evaluate(y))}],sqrt:[Kr,[Kr],function(y,D){var U=D[0];return Math.sqrt(U.evaluate(y))}],log10:[Kr,[Kr],function(y,D){var U=D[0];return Math.log(U.evaluate(y))/Math.LN10}],ln:[Kr,[Kr],function(y,D){var U=D[0];return Math.log(U.evaluate(y))}],log2:[Kr,[Kr],function(y,D){var U=D[0];return Math.log(U.evaluate(y))/Math.LN2}],sin:[Kr,[Kr],function(y,D){var U=D[0];return Math.sin(U.evaluate(y))}],cos:[Kr,[Kr],function(y,D){var U=D[0];return Math.cos(U.evaluate(y))}],tan:[Kr,[Kr],function(y,D){var U=D[0];return Math.tan(U.evaluate(y))}],asin:[Kr,[Kr],function(y,D){var U=D[0];return Math.asin(U.evaluate(y))}],acos:[Kr,[Kr],function(y,D){var U=D[0];return Math.acos(U.evaluate(y))}],atan:[Kr,[Kr],function(y,D){var U=D[0];return Math.atan(U.evaluate(y))}],min:[Kr,zs(Kr),function(y,D){return Math.min.apply(Math,D.map(function(U){return U.evaluate(y)}))}],max:[Kr,zs(Kr),function(y,D){return Math.max.apply(Math,D.map(function(U){return U.evaluate(y)}))}],abs:[Kr,[Kr],function(y,D){var U=D[0];return Math.abs(U.evaluate(y))}],round:[Kr,[Kr],function(y,D){var U=D[0],ct=U.evaluate(y);return ct<0?-Math.round(-ct):Math.round(ct)}],floor:[Kr,[Kr],function(y,D){var U=D[0];return Math.floor(U.evaluate(y))}],ceil:[Kr,[Kr],function(y,D){var U=D[0];return Math.ceil(U.evaluate(y))}],"filter-==":[An,[Tn,Dn],function(y,D){var U=D[0],ct=D[1];return y.properties()[U.value]===ct.value}],"filter-id-==":[An,[Dn],function(y,D){var U=D[0];return y.id()===U.value}],"filter-type-==":[An,[Tn],function(y,D){var U=D[0];return y.geometryType()===U.value}],"filter-<":[An,[Tn,Dn],function(y,D){var U=D[0],ct=D[1],yt=y.properties()[U.value],Mt=ct.value;return typeof yt==typeof Mt&&yt<Mt}],"filter-id-<":[An,[Dn],function(y,D){var U=D[0],ct=y.id(),yt=U.value;return typeof ct==typeof yt&&ct<yt}],"filter->":[An,[Tn,Dn],function(y,D){var U=D[0],ct=D[1],yt=y.properties()[U.value],Mt=ct.value;return typeof yt==typeof Mt&&yt>Mt}],"filter-id->":[An,[Dn],function(y,D){var U=D[0],ct=y.id(),yt=U.value;return typeof ct==typeof yt&&ct>yt}],"filter-<=":[An,[Tn,Dn],function(y,D){var U=D[0],ct=D[1],yt=y.properties()[U.value],Mt=ct.value;return typeof yt==typeof Mt&&yt<=Mt}],"filter-id-<=":[An,[Dn],function(y,D){var U=D[0],ct=y.id(),yt=U.value;return typeof ct==typeof yt&&ct<=yt}],"filter->=":[An,[Tn,Dn],function(y,D){var U=D[0],ct=D[1],yt=y.properties()[U.value],Mt=ct.value;return typeof yt==typeof Mt&&yt>=Mt}],"filter-id->=":[An,[Dn],function(y,D){var U=D[0],ct=y.id(),yt=U.value;return typeof ct==typeof yt&&ct>=yt}],"filter-has":[An,[Dn],function(y,D){var U=D[0];return U.value in y.properties()}],"filter-has-id":[An,[],function(y){return y.id()!==null&&y.id()!==void 0}],"filter-type-in":[An,[pa(Tn)],function(y,D){var U=D[0];return U.value.indexOf(y.geometryType())>=0}],"filter-id-in":[An,[pa(Dn)],function(y,D){var U=D[0];return U.value.indexOf(y.id())>=0}],"filter-in-small":[An,[Tn,pa(Dn)],function(y,D){var U=D[0],ct=D[1];return ct.value.indexOf(y.properties()[U.value])>=0}],"filter-in-large":[An,[Tn,pa(Dn)],function(y,D){var U=D[0],ct=D[1];return kf(y.properties()[U.value],ct.value,0,ct.value.length-1)}],all:{type:An,overloads:[[[An,An],function(y,D){var U=D[0],ct=D[1];return U.evaluate(y)&&ct.evaluate(y)}],[zs(An),function(y,D){for(var U=0,ct=D;U<ct.length;U+=1){var yt=ct[U];if(!yt.evaluate(y))return!1}return!0}]]},any:{type:An,overloads:[[[An,An],function(y,D){var U=D[0],ct=D[1];return U.evaluate(y)||ct.evaluate(y)}],[zs(An),function(y,D){for(var U=0,ct=D;U<ct.length;U+=1){var yt=ct[U];if(yt.evaluate(y))return!0}return!1}]]},"!":[An,[An],function(y,D){var U=D[0];return!U.evaluate(y)}],"is-supported-script":[An,[Tn],function(y,D){var U=D[0],ct=y.globals&&y.globals.isSupportedScript;return ct?ct(U.evaluate(y)):!0}],upcase:[Tn,[Tn],function(y,D){var U=D[0];return U.evaluate(y).toUpperCase()}],downcase:[Tn,[Tn],function(y,D){var U=D[0];return U.evaluate(y).toLowerCase()}],concat:[Tn,zs(Dn),function(y,D){return D.map(function(U){return Fl(U.evaluate(y))}).join("")}],"resolved-locale":[Tn,[oi],function(y,D){var U=D[0];return U.evaluate(y).resolvedLocale()}]});function Yl(y){return{result:"success",value:y}}function tl(y){return{result:"error",value:y}}function Rs(y){return y["property-type"]==="data-driven"||y["property-type"]==="cross-faded-data-driven"}function bu(y){return!!y.expression&&y.expression.parameters.indexOf("zoom")>-1}function Kl(y){return!!y.expression&&y.expression.interpolated}function ua(y){return y instanceof Number?"number":y instanceof String?"string":y instanceof Boolean?"boolean":Array.isArray(y)?"array":y===null?"null":typeof y}function Jl(y){return typeof y=="object"&&y!==null&&!Array.isArray(y)}function rc(y){return y}function Tf(y,D){var U=D.type==="color",ct=y.stops&&typeof y.stops[0][0]=="object",yt=ct||y.property!==void 0,Mt=ct||!yt,Bt=y.type||(Kl(D)?"exponential":"interval");if(U&&(y=Pn({},y),y.stops&&(y.stops=y.stops.map(function(ei){return[ei[0],$i.parse(ei[1])]})),y.default?y.default=$i.parse(y.default):y.default=$i.parse(D.default)),y.colorSpace&&y.colorSpace!=="rgb"&&!tc[y.colorSpace])throw new Error("Unknown color space: "+y.colorSpace);var ne,ge,Ae;if(Bt==="exponential")ne=zc;else if(Bt==="interval")ne=nc;else if(Bt==="categorical"){ne=_u,ge=Object.create(null);for(var je=0,qe=y.stops;je<qe.length;je+=1){var Qe=qe[je];ge[Qe[0]]=Qe[1]}Ae=typeof y.stops[0][0]}else if(Bt==="identity")ne=wu;else throw new Error('Unknown function type "'+Bt+'"');if(ct){for(var sr={},Sr=[],Hr=0;Hr<y.stops.length;Hr++){var dn=y.stops[Hr],un=dn[0].zoom;sr[un]===void 0&&(sr[un]={zoom:un,type:y.type,property:y.property,default:y.default,stops:[]},Sr.push(un)),sr[un].stops.push([dn[0].value,dn[1]])}for(var wn=[],Sn=0,mn=Sr;Sn<mn.length;Sn+=1){var Fn=mn[Sn];wn.push([sr[Fn].zoom,Tf(sr[Fn],D)])}var Zn={name:"linear"};return{kind:"composite",interpolationType:Zn,interpolationFactor:Ra.interpolationFactor.bind(void 0,Zn),zoomStops:wn.map(function(ei){return ei[0]}),evaluate:function(ei,bi){var _i=ei.zoom;return zc({stops:wn,base:y.base},D,_i).evaluate(_i,bi)}}}else if(Mt){var ti=Bt==="exponential"?{name:"exponential",base:y.base!==void 0?y.base:1}:null;return{kind:"camera",interpolationType:ti,interpolationFactor:Ra.interpolationFactor.bind(void 0,ti),zoomStops:y.stops.map(function(ei){return ei[0]}),evaluate:function(ei){var bi=ei.zoom;return ne(y,D,bi,ge,Ae)}}}else return{kind:"source",evaluate:function(ei,bi){var _i=bi&&bi.properties?bi.properties[y.property]:void 0;return _i===void 0?Ql(y.default,D.default):ne(y,D,_i,ge,Ae)}}}function Ql(y,D,U){if(y!==void 0)return y;if(D!==void 0)return D;if(U!==void 0)return U}function _u(y,D,U,ct,yt){var Mt=typeof U===yt?ct[U]:void 0;return Ql(Mt,y.default,D.default)}function nc(y,D,U){if(ua(U)!=="number")return Ql(y.default,D.default);var ct=y.stops.length;if(ct===1||U<=y.stops[0][0])return y.stops[0][1];if(U>=y.stops[ct-1][0])return y.stops[ct-1][1];var yt=Hl(y.stops.map(function(Mt){return Mt[0]}),U);return y.stops[yt][1]}function zc(y,D,U){var ct=y.base!==void 0?y.base:1;if(ua(U)!=="number")return Ql(y.default,D.default);var yt=y.stops.length;if(yt===1||U<=y.stops[0][0])return y.stops[0][1];if(U>=y.stops[yt-1][0])return y.stops[yt-1][1];var Mt=Hl(y.stops.map(function(qe){return qe[0]}),U),Bt=ku(U,ct,y.stops[Mt][0],y.stops[Mt+1][0]),ne=y.stops[Mt][1],ge=y.stops[Mt+1][1],Ae=Yu[D.type]||rc;if(y.colorSpace&&y.colorSpace!=="rgb"){var je=tc[y.colorSpace];Ae=function(qe,Qe){return je.reverse(je.interpolate(je.forward(qe),je.forward(Qe),Bt))}}return typeof ne.evaluate=="function"?{evaluate:function(){for(var qe=[],Qe=arguments.length;Qe--;)qe[Qe]=arguments[Qe];var sr=ne.evaluate.apply(void 0,qe),Sr=ge.evaluate.apply(void 0,qe);if(!(sr===void 0||Sr===void 0))return Ae(sr,Sr,Bt)}}:Ae(ne,ge,Bt)}function wu(y,D,U){return D.type==="color"?U=$i.parse(U):D.type==="formatted"?U=Ja.fromString(U.toString()):D.type==="resolvedImage"?U=wo.fromString(U.toString()):ua(U)!==D.type&&(D.type!=="enum"||!D.values[U])&&(U=void 0),Ql(U,y.default,D.default)}function ku(y,D,U,ct){var yt=ct-U,Mt=y-U;return yt===0?0:D===1?Mt/yt:(Math.pow(D,Mt)-1)/(Math.pow(D,yt)-1)}var el=function(y,D){this.expression=y,this._warningHistory={},this._evaluator=new gs,this._defaultValue=D?Mf(D):null,this._enumValues=D&&D.type==="enum"?D.values:null};el.prototype.evaluateWithoutErrorHandling=function(y,D,U,ct,yt,Mt){return this._evaluator.globals=y,this._evaluator.feature=D,this._evaluator.featureState=U,this._evaluator.canonical=ct,this._evaluator.availableImages=yt||null,this._evaluator.formattedSection=Mt,this.expression.evaluate(this._evaluator)},el.prototype.evaluate=function(y,D,U,ct,yt,Mt){this._evaluator.globals=y,this._evaluator.feature=D||null,this._evaluator.featureState=U||null,this._evaluator.canonical=ct,this._evaluator.availableImages=yt||null,this._evaluator.formattedSection=Mt||null;try{var Bt=this.expression.evaluate(this._evaluator);if(Bt==null||typeof Bt=="number"&&Bt!==Bt)return this._defaultValue;if(this._enumValues&&!(Bt in this._enumValues))throw new qa("Expected value to be one of "+Object.keys(this._enumValues).map(function(ne){return JSON.stringify(ne)}).join(", ")+", but found "+JSON.stringify(Bt)+" instead.");return Bt}catch(ne){return this._warningHistory[ne.message]||(this._warningHistory[ne.message]=!0,typeof console<"u"&&console.warn(ne.message)),this._defaultValue}};function Tu(y){return Array.isArray(y)&&y.length>0&&typeof y[0]=="string"&&y[0]in Zl}function rl(y,D){var U=new ms(Zl,[],D?Ch(D):void 0),ct=U.parse(y,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ct?Yl(new el(ct,D)):tl(U.errors)}var Wa=function(y,D){this.kind=y,this._styleExpression=D,this.isStateDependent=y!=="constant"&&!vl(D.expression)};Wa.prototype.evaluateWithoutErrorHandling=function(y,D,U,ct,yt,Mt){return this._styleExpression.evaluateWithoutErrorHandling(y,D,U,ct,yt,Mt)},Wa.prototype.evaluate=function(y,D,U,ct,yt,Mt){return this._styleExpression.evaluate(y,D,U,ct,yt,Mt)};var xs=function(y,D,U,ct){this.kind=y,this.zoomStops=U,this._styleExpression=D,this.isStateDependent=y!=="camera"&&!vl(D.expression),this.interpolationType=ct};xs.prototype.evaluateWithoutErrorHandling=function(y,D,U,ct,yt,Mt){return this._styleExpression.evaluateWithoutErrorHandling(y,D,U,ct,yt,Mt)},xs.prototype.evaluate=function(y,D,U,ct,yt,Mt){return this._styleExpression.evaluate(y,D,U,ct,yt,Mt)},xs.prototype.interpolationFactor=function(y,D,U){return this.interpolationType?Ra.interpolationFactor(this.interpolationType,y,D,U):0};function Rc(y,D){if(y=rl(y,D),y.result==="error")return y;var U=y.value.expression,ct=jl(U);if(!ct&&!Rs(D))return tl([new Mr("","data expressions not supported")]);var yt=vu(U,["zoom"]);if(!yt&&!bu(D))return tl([new Mr("","zoom expressions not supported")]);var Mt=Mu(U);if(!Mt&&!yt)return tl([new Mr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Mt instanceof Mr)return tl([Mt]);if(Mt instanceof Ra&&!Kl(D))return tl([new Mr("",'"interpolate" expressions cannot be used with this property')]);if(!Mt)return Yl(ct?new Wa("constant",y.value):new Wa("source",y.value));var Bt=Mt instanceof Ra?Mt.interpolation:void 0;return Yl(ct?new xs("camera",y.value,Mt.labels,Bt):new xs("composite",y.value,Mt.labels,Bt))}var _l=function(y,D){this._parameters=y,this._specification=D,Pn(this,Tf(this._parameters,this._specification))};_l.deserialize=function(y){return new _l(y._parameters,y._specification)},_l.serialize=function(y){return{_parameters:y._parameters,_specification:y._specification}};function ic(y,D){if(Jl(y))return new _l(y,D);if(Tu(y)){var U=Rc(y,D);if(U.result==="error")throw new Error(U.value.map(function(yt){return yt.key+": "+yt.message}).join(", "));return U.value}else{var ct=y;return typeof y=="string"&&D.type==="color"&&(ct=$i.parse(y)),{kind:"constant",evaluate:function(){return ct}}}}function Mu(y){var D=null;if(y instanceof Cs)D=Mu(y.result);else if(y instanceof ns)for(var U=0,ct=y.args;U<ct.length;U+=1){var yt=ct[U];if(D=Mu(yt),D)break}else(y instanceof es||y instanceof Ra)&&y.input instanceof Qa&&y.input.name==="zoom"&&(D=y);return D instanceof Mr||y.eachChild(function(Mt){var Bt=Mu(Mt);Bt instanceof Mr?D=Bt:!D&&Bt?D=new Mr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Bt&&D!==Bt&&(D=new Mr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Ch(y){var D={color:En,string:Tn,number:Kr,enum:Tn,boolean:An,formatted:hi,resolvedImage:Ci};return y.type==="array"?pa(D[y.value]||Dn,y.length):D[y.type]}function Mf(y){return y.type==="color"&&Jl(y.default)?new $i(0,0,0,0):y.type==="color"?$i.parse(y.default)||null:y.default===void 0?null:y.default}function mo(y){var D=y.key,U=y.value,ct=y.valueSpec||{},yt=y.objectElementValidators||{},Mt=y.style,Bt=y.styleSpec,ne=[],ge=ua(U);if(ge!=="object")return[new Br(D,U,"object expected, "+ge+" found")];for(var Ae in U){var je=Ae.split(".")[0],qe=ct[je]||ct["*"],Qe=void 0;if(yt[je])Qe=yt[je];else if(ct[je])Qe=Cr;else if(yt["*"])Qe=yt["*"];else if(ct["*"])Qe=Cr;else{ne.push(new Br(D,U[Ae],'unknown property "'+Ae+'"'));continue}ne=ne.concat(Qe({key:(D&&D+".")+Ae,value:U[Ae],valueSpec:qe,style:Mt,styleSpec:Bt,object:U,objectKey:Ae},U))}for(var sr in ct)yt[sr]||ct[sr].required&&ct[sr].default===void 0&&U[sr]===void 0&&ne.push(new Br(D,U,'missing required property "'+sr+'"'));return ne}function Au(y){var D=y.value,U=y.valueSpec,ct=y.style,yt=y.styleSpec,Mt=y.key,Bt=y.arrayElementValidator||Cr;if(ua(D)!=="array")return[new Br(Mt,D,"array expected, "+ua(D)+" found")];if(U.length&&D.length!==U.length)return[new Br(Mt,D,"array length "+U.length+" expected, length "+D.length+" found")];if(U["min-length"]&&D.length<U["min-length"])return[new Br(Mt,D,"array length at least "+U["min-length"]+" expected, length "+D.length+" found")];var ne={type:U.value,values:U.values};yt.$version<7&&(ne.function=U.function),ua(U.value)==="object"&&(ne=U.value);for(var ge=[],Ae=0;Ae<D.length;Ae++)ge=ge.concat(Bt({array:D,arrayIndex:Ae,value:D[Ae],valueSpec:ne,style:ct,styleSpec:yt,key:Mt+"["+Ae+"]"}));return ge}function $l(y){var D=y.key,U=y.value,ct=y.valueSpec,yt=ua(U);return yt==="number"&&U!==U&&(yt="NaN"),yt!=="number"?[new Br(D,U,"number expected, "+yt+" found")]:"minimum"in ct&&U<ct.minimum?[new Br(D,U,U+" is less than the minimum value "+ct.minimum)]:"maximum"in ct&&U>ct.maximum?[new Br(D,U,U+" is greater than the maximum value "+ct.maximum)]:[]}function Af(y){var D=y.valueSpec,U=pn(y.value.type),ct,yt={},Mt,Bt,ne=U!=="categorical"&&y.value.property===void 0,ge=!ne,Ae=ua(y.value.stops)==="array"&&ua(y.value.stops[0])==="array"&&ua(y.value.stops[0][0])==="object",je=mo({key:y.key,value:y.value,valueSpec:y.styleSpec.function,style:y.style,styleSpec:y.styleSpec,objectElementValidators:{stops:qe,default:Sr}});return U==="identity"&&ne&&je.push(new Br(y.key,y.value,'missing required property "property"')),U!=="identity"&&!y.value.stops&&je.push(new Br(y.key,y.value,'missing required property "stops"')),U==="exponential"&&y.valueSpec.expression&&!Kl(y.valueSpec)&&je.push(new Br(y.key,y.value,"exponential functions not supported")),y.styleSpec.$version>=8&&(ge&&!Rs(y.valueSpec)?je.push(new Br(y.key,y.value,"property functions not supported")):ne&&!bu(y.valueSpec)&&je.push(new Br(y.key,y.value,"zoom functions not supported"))),(U==="categorical"||Ae)&&y.value.property===void 0&&je.push(new Br(y.key,y.value,'"property" property is required')),je;function qe(Hr){if(U==="identity")return[new Br(Hr.key,Hr.value,'identity function may not have a "stops" property')];var dn=[],un=Hr.value;return dn=dn.concat(Au({key:Hr.key,value:un,valueSpec:Hr.valueSpec,style:Hr.style,styleSpec:Hr.styleSpec,arrayElementValidator:Qe})),ua(un)==="array"&&un.length===0&&dn.push(new Br(Hr.key,un,"array must have at least one stop")),dn}function Qe(Hr){var dn=[],un=Hr.value,wn=Hr.key;if(ua(un)!=="array")return[new Br(wn,un,"array expected, "+ua(un)+" found")];if(un.length!==2)return[new Br(wn,un,"array length 2 expected, length "+un.length+" found")];if(Ae){if(ua(un[0])!=="object")return[new Br(wn,un,"object expected, "+ua(un[0])+" found")];if(un[0].zoom===void 0)return[new Br(wn,un,"object stop key must have zoom")];if(un[0].value===void 0)return[new Br(wn,un,"object stop key must have value")];if(Bt&&Bt>pn(un[0].zoom))return[new Br(wn,un[0].zoom,"stop zoom values must appear in ascending order")];pn(un[0].zoom)!==Bt&&(Bt=pn(un[0].zoom),Mt=void 0,yt={}),dn=dn.concat(mo({key:wn+"[0]",value:un[0],valueSpec:{zoom:{}},style:Hr.style,styleSpec:Hr.styleSpec,objectElementValidators:{zoom:$l,value:sr}}))}else dn=dn.concat(sr({key:wn+"[0]",value:un[0],valueSpec:{},style:Hr.style,styleSpec:Hr.styleSpec},un));return Tu(fn(un[1]))?dn.concat([new Br(wn+"[1]",un[1],"expressions are not allowed in function stops.")]):dn.concat(Cr({key:wn+"[1]",value:un[1],valueSpec:D,style:Hr.style,styleSpec:Hr.styleSpec}))}function sr(Hr,dn){var un=ua(Hr.value),wn=pn(Hr.value),Sn=Hr.value!==null?Hr.value:dn;if(!ct)ct=un;else if(un!==ct)return[new Br(Hr.key,Sn,un+" stop domain type must match previous stop domain type "+ct)];if(un!=="number"&&un!=="string"&&un!=="boolean")return[new Br(Hr.key,Sn,"stop domain value must be a number, string, or boolean")];if(un!=="number"&&U!=="categorical"){var mn="number expected, "+un+" found";return Rs(D)&&U===void 0&&(mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Br(Hr.key,Sn,mn)]}return U==="categorical"&&un==="number"&&(!isFinite(wn)||Math.floor(wn)!==wn)?[new Br(Hr.key,Sn,"integer expected, found "+wn)]:U!=="categorical"&&un==="number"&&Mt!==void 0&&wn<Mt?[new Br(Hr.key,Sn,"stop domain values must appear in ascending order")]:(Mt=wn,U==="categorical"&&wn in yt?[new Br(Hr.key,Sn,"stop domain values must be unique")]:(yt[wn]=!0,[]))}function Sr(Hr){return Cr({key:Hr.key,value:Hr.value,valueSpec:D,style:Hr.style,styleSpec:Hr.styleSpec})}}function nl(y){var D=(y.expressionContext==="property"?Rc:rl)(fn(y.value),y.valueSpec);if(D.result==="error")return D.value.map(function(ct){return new Br(""+y.key+ct.key,y.value,ct.message)});var U=D.value.expression||D.value._styleExpression.expression;if(y.expressionContext==="property"&&y.propertyKey==="text-font"&&!U.outputDefined())return[new Br(y.key,y.value,'Invalid data expression for "'+y.propertyKey+'". Output values must be contained as literals within the expression.')];if(y.expressionContext==="property"&&y.propertyType==="layout"&&!vl(U))return[new Br(y.key,y.value,'"feature-state" data expressions are not supported with layout properties.')];if(y.expressionContext==="filter"&&!vl(U))return[new Br(y.key,y.value,'"feature-state" data expressions are not supported with filters.')];if(y.expressionContext&&y.expressionContext.indexOf("cluster")===0){if(!vu(U,["zoom","feature-state"]))return[new Br(y.key,y.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(y.expressionContext==="cluster-initial"&&!jl(U))return[new Br(y.key,y.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ih(y){var D=y.value,U=y.key,ct=ua(D);return ct!=="boolean"?[new Br(U,D,"boolean expected, "+ct+" found")]:[]}function Co(y){var D=y.key,U=y.value,ct=ua(U);return ct!=="string"?[new Br(D,U,"color expected, "+ct+" found")]:sf(U)===null?[new Br(D,U,'color expected, "'+U+'" found')]:[]}function Su(y){var D=y.key,U=y.value,ct=y.valueSpec,yt=[];return Array.isArray(ct.values)?ct.values.indexOf(pn(U))===-1&&yt.push(new Br(D,U,"expected one of ["+ct.values.join(", ")+"], "+JSON.stringify(U)+" found")):Object.keys(ct.values).indexOf(pn(U))===-1&&yt.push(new Br(D,U,"expected one of ["+Object.keys(ct.values).join(", ")+"], "+JSON.stringify(U)+" found")),yt}function ac(y){if(y===!0||y===!1)return!0;if(!Array.isArray(y)||y.length===0)return!1;switch(y[0]){case"has":return y.length>=2&&y[1]!=="$id"&&y[1]!=="$type";case"in":return y.length>=3&&(typeof y[1]!="string"||Array.isArray(y[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return y.length!==3||Array.isArray(y[1])||Array.isArray(y[2]);case"any":case"all":for(var D=0,U=y.slice(1);D<U.length;D+=1){var ct=U[D];if(!ac(ct)&&typeof ct!="boolean")return!1}return!0;default:return!0}}var Ds={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function il(y){if(y==null)return{filter:function(){return!0},needGeometry:!1};ac(y)||(y=Lu(y));var D=rl(y,Ds);if(D.result==="error")throw new Error(D.value.map(function(ct){return ct.key+": "+ct.message}).join(", "));var U=Eu(y);return{filter:function(ct,yt,Mt){return D.value.evaluate(ct,yt,{},Mt)},needGeometry:U}}function Dc(y,D){return y<D?-1:y>D?1:0}function Eu(y){if(!Array.isArray(y))return!1;if(y[0]==="within")return!0;for(var D=1;D<y.length;D++)if(Eu(y[D]))return!0;return!1}function Lu(y){if(!y)return!0;var D=y[0];if(y.length<=1)return D!=="any";var U=D==="=="?oc(y[1],y[2],"=="):D==="!="?wl(oc(y[1],y[2],"==")):D==="<"||D===">"||D==="<="||D===">="?oc(y[1],y[2],D):D==="any"?Sf(y.slice(1)):D==="all"?["all"].concat(y.slice(1).map(Lu)):D==="none"?["all"].concat(y.slice(1).map(Lu).map(wl)):D==="in"?Pu(y[1],y.slice(2)):D==="!in"?wl(Pu(y[1],y.slice(2))):D==="has"?Fc(y[1]):D==="!has"?wl(Fc(y[1])):D==="within"?y:!0;return U}function oc(y,D,U){switch(y){case"$type":return["filter-type-"+U,D];case"$id":return["filter-id-"+U,D];default:return["filter-"+U,y,D]}}function Sf(y){return["any"].concat(y.map(Lu))}function Pu(y,D){if(D.length===0)return!1;switch(y){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(U){return typeof U!=typeof D[0]})?["filter-in-large",y,["literal",D.sort(Dc)]]:["filter-in-small",y,["literal",D]]}}function Fc(y){switch(y){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",y]}}function wl(y){return["!",y]}function Bc(y){return ac(fn(y.value))?nl(Pn({},y,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Cu(y)}function Cu(y){var D=y.value,U=y.key;if(ua(D)!=="array")return[new Br(U,D,"array expected, "+ua(D)+" found")];var ct=y.styleSpec,yt,Mt=[];if(D.length<1)return[new Br(U,D,"filter array must have at least 1 element")];switch(Mt=Mt.concat(Su({key:U+"[0]",value:D[0],valueSpec:ct.filter_operator,style:y.style,styleSpec:y.styleSpec})),pn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&pn(D[1])==="$type"&&Mt.push(new Br(U,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Mt.push(new Br(U,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(yt=ua(D[1]),yt!=="string"&&Mt.push(new Br(U+"[1]",D[1],"string expected, "+yt+" found")));for(var Bt=2;Bt<D.length;Bt++)yt=ua(D[Bt]),pn(D[1])==="$type"?Mt=Mt.concat(Su({key:U+"["+Bt+"]",value:D[Bt],valueSpec:ct.geometry_type,style:y.style,styleSpec:y.styleSpec})):yt!=="string"&&yt!=="number"&&yt!=="boolean"&&Mt.push(new Br(U+"["+Bt+"]",D[Bt],"string, number, or boolean expected, "+yt+" found"));break;case"any":case"all":case"none":for(var ne=1;ne<D.length;ne++)Mt=Mt.concat(Cu({key:U+"["+ne+"]",value:D[ne],style:y.style,styleSpec:y.styleSpec}));break;case"has":case"!has":yt=ua(D[1]),D.length!==2?Mt.push(new Br(U,D,'filter array for "'+D[0]+'" operator must have 2 elements')):yt!=="string"&&Mt.push(new Br(U+"[1]",D[1],"string expected, "+yt+" found"));break;case"within":yt=ua(D[1]),D.length!==2?Mt.push(new Br(U,D,'filter array for "'+D[0]+'" operator must have 2 elements')):yt!=="object"&&Mt.push(new Br(U+"[1]",D[1],"object expected, "+yt+" found"));break}return Mt}function Ef(y,D){var U=y.key,ct=y.style,yt=y.styleSpec,Mt=y.value,Bt=y.objectKey,ne=yt[D+"_"+y.layerType];if(!ne)return[];var ge=Bt.match(/^(.*)-transition$/);if(D==="paint"&&ge&&ne[ge[1]]&&ne[ge[1]].transition)return Cr({key:U,value:Mt,valueSpec:yt.transition,style:ct,styleSpec:yt});var Ae=y.valueSpec||ne[Bt];if(!Ae)return[new Br(U,Mt,'unknown property "'+Bt+'"')];var je;if(ua(Mt)==="string"&&Rs(Ae)&&!Ae.tokens&&(je=/^{([^}]+)}$/.exec(Mt)))return[new Br(U,Mt,'"'+Bt+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(je[1])+" }`.")];var qe=[];return y.layerType==="symbol"&&(Bt==="text-field"&&ct&&!ct.glyphs&&qe.push(new Br(U,Mt,'use of "text-field" requires a style "glyphs" property')),Bt==="text-font"&&Jl(fn(Mt))&&pn(Mt.type)==="identity"&&qe.push(new Br(U,Mt,'"text-font" does not support identity functions'))),qe.concat(Cr({key:y.key,value:Mt,valueSpec:Ae,style:ct,styleSpec:yt,expressionContext:"property",propertyType:D,propertyKey:Bt}))}function Zt(y){return Ef(y,"paint")}function ee(y){return Ef(y,"layout")}function pe(y){var D=[],U=y.value,ct=y.key,yt=y.style,Mt=y.styleSpec;!U.type&&!U.ref&&D.push(new Br(ct,U,'either "type" or "ref" is required'));var Bt=pn(U.type),ne=pn(U.ref);if(U.id)for(var ge=pn(U.id),Ae=0;Ae<y.arrayIndex;Ae++){var je=yt.layers[Ae];pn(je.id)===ge&&D.push(new Br(ct,U.id,'duplicate layer id "'+U.id+'", previously used at line '+je.id.__line__))}if("ref"in U){["type","source","source-layer","filter","layout"].forEach(function(Sr){Sr in U&&D.push(new Br(ct,U[Sr],'"'+Sr+'" is prohibited for ref layers'))});var qe;yt.layers.forEach(function(Sr){pn(Sr.id)===ne&&(qe=Sr)}),qe?qe.ref?D.push(new Br(ct,U.ref,"ref cannot reference another ref layer")):Bt=pn(qe.type):D.push(new Br(ct,U.ref,'ref layer "'+ne+'" not found'))}else if(Bt!=="background")if(!U.source)D.push(new Br(ct,U,'missing required property "source"'));else{var Qe=yt.sources&&yt.sources[U.source],sr=Qe&&pn(Qe.type);Qe?sr==="vector"&&Bt==="raster"?D.push(new Br(ct,U.source,'layer "'+U.id+'" requires a raster source')):sr==="raster"&&Bt!=="raster"?D.push(new Br(ct,U.source,'layer "'+U.id+'" requires a vector source')):sr==="vector"&&!U["source-layer"]?D.push(new Br(ct,U,'layer "'+U.id+'" must specify a "source-layer"')):sr==="raster-dem"&&Bt!=="hillshade"?D.push(new Br(ct,U.source,"raster-dem source can only be used with layer type 'hillshade'.")):Bt==="line"&&U.paint&&U.paint["line-gradient"]&&(sr!=="geojson"||!Qe.lineMetrics)&&D.push(new Br(ct,U,'layer "'+U.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Br(ct,U.source,'source "'+U.source+'" not found'))}return D=D.concat(mo({key:ct,value:U,valueSpec:Mt.layer,style:y.style,styleSpec:y.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Cr({key:ct+".type",value:U.type,valueSpec:Mt.layer.type,style:y.style,styleSpec:y.styleSpec,object:U,objectKey:"type"})},filter:Bc,layout:function(Sr){return mo({layer:U,key:Sr.key,value:Sr.value,style:Sr.style,styleSpec:Sr.styleSpec,objectElementValidators:{"*":function(Hr){return ee(Pn({layerType:Bt},Hr))}}})},paint:function(Sr){return mo({layer:U,key:Sr.key,value:Sr.value,style:Sr.style,styleSpec:Sr.styleSpec,objectElementValidators:{"*":function(Hr){return Zt(Pn({layerType:Bt},Hr))}}})}}})),D}function _e(y){var D=y.value,U=y.key,ct=ua(D);return ct!=="string"?[new Br(U,D,"string expected, "+ct+" found")]:[]}var Pe={promoteId:Ne};function Se(y){var D=y.value,U=y.key,ct=y.styleSpec,yt=y.style;if(!D.type)return[new Br(U,D,'"type" is required')];var Mt=pn(D.type),Bt;switch(Mt){case"vector":case"raster":case"raster-dem":return Bt=mo({key:U,value:D,valueSpec:ct["source_"+Mt.replace("-","_")],style:y.style,styleSpec:ct,objectElementValidators:Pe}),Bt;case"geojson":if(Bt=mo({key:U,value:D,valueSpec:ct.source_geojson,style:yt,styleSpec:ct,objectElementValidators:Pe}),D.cluster)for(var ne in D.clusterProperties){var ge=D.clusterProperties[ne],Ae=ge[0],je=ge[1],qe=typeof Ae=="string"?[Ae,["accumulated"],["get",ne]]:Ae;Bt.push.apply(Bt,nl({key:U+"."+ne+".map",value:je,expressionContext:"cluster-map"})),Bt.push.apply(Bt,nl({key:U+"."+ne+".reduce",value:qe,expressionContext:"cluster-reduce"}))}return Bt;case"video":return mo({key:U,value:D,valueSpec:ct.source_video,style:yt,styleSpec:ct});case"image":return mo({key:U,value:D,valueSpec:ct.source_image,style:yt,styleSpec:ct});case"canvas":return[new Br(U,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Su({key:U+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:yt,styleSpec:ct})}}function Ne(y){var D=y.key,U=y.value;if(ua(U)==="string")return _e({key:D,value:U});var ct=[];for(var yt in U)ct.push.apply(ct,_e({key:D+"."+yt,value:U[yt]}));return ct}function ur(y){var D=y.value,U=y.styleSpec,ct=U.light,yt=y.style,Mt=[],Bt=ua(D);if(D===void 0)return Mt;if(Bt!=="object")return Mt=Mt.concat([new Br("light",D,"object expected, "+Bt+" found")]),Mt;for(var ne in D){var ge=ne.match(/^(.*)-transition$/);ge&&ct[ge[1]]&&ct[ge[1]].transition?Mt=Mt.concat(Cr({key:ne,value:D[ne],valueSpec:U.transition,style:yt,styleSpec:U})):ct[ne]?Mt=Mt.concat(Cr({key:ne,value:D[ne],valueSpec:ct[ne],style:yt,styleSpec:U})):Mt=Mt.concat([new Br(ne,D[ne],'unknown property "'+ne+'"')])}return Mt}function gr(y){return _e(y).length===0?[]:nl(y)}function nr(y){return _e(y).length===0?[]:nl(y)}var wr={"*":function(){return[]},array:Au,boolean:Ih,number:$l,color:Co,constants:_n,enum:Su,filter:Bc,function:Af,layer:pe,object:mo,source:Se,light:ur,string:_e,formatted:gr,resolvedImage:nr};function Cr(y){var D=y.value,U=y.valueSpec,ct=y.styleSpec;if(U.expression&&Jl(pn(D)))return Af(y);if(U.expression&&Tu(fn(D)))return nl(y);if(U.type&&wr[U.type])return wr[U.type](y);var yt=mo(Pn({},y,{valueSpec:U.type?ct[U.type]:U}));return yt}function Fr(y){var D=y.value,U=y.key,ct=_e(y);return ct.length||(D.indexOf("{fontstack}")===-1&&ct.push(new Br(U,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ct.push(new Br(U,D,'"glyphs" url must include a "{range}" token'))),ct}function tn(y,D){D===void 0&&(D=br);var U=[];return U=U.concat(Cr({key:"",value:y,valueSpec:D.$root,styleSpec:D,style:y,objectElementValidators:{glyphs:Fr,"*":function(){return[]}}})),y.constants&&(U=U.concat(_n({key:"constants",value:y.constants,style:y,styleSpec:D}))),xn(U)}tn.source=Ln(Se),tn.light=Ln(ur),tn.layer=Ln(pe),tn.filter=Ln(Bc),tn.paintProperty=Ln(Zt),tn.layoutProperty=Ln(ee);function xn(y){return[].concat(y).sort(function(D,U){return D.line-U.line})}function Ln(y){return function(){for(var D=[],U=arguments.length;U--;)D[U]=arguments[U];return xn(y.apply(this,D))}}var Cn=tn,Gn=Cn.light,Ii=Cn.paintProperty,Oi=Cn.layoutProperty;function Di(y,D){var U=!1;if(D&&D.length)for(var ct=0,yt=D;ct<yt.length;ct+=1){var Mt=yt[ct];y.fire(new De(new Error(Mt.message))),U=!0}return U}var Hi=ca,Wi=3;function ca(y,D,U){var ct=this.cells=[];if(y instanceof ArrayBuffer){this.arrayBuffer=y;var yt=new Int32Array(this.arrayBuffer);y=yt[0],D=yt[1],U=yt[2],this.d=D+2*U;for(var Mt=0;Mt<this.d*this.d;Mt++){var Bt=yt[Wi+Mt],ne=yt[Wi+Mt+1];ct.push(Bt===ne?null:yt.subarray(Bt,ne))}var ge=yt[Wi+ct.length],Ae=yt[Wi+ct.length+1];this.keys=yt.subarray(ge,Ae),this.bboxes=yt.subarray(Ae),this.insert=this._insertReadonly}else{this.d=D+2*U;for(var je=0;je<this.d*this.d;je++)ct.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=y,this.padding=U,this.scale=D/y,this.uid=0;var qe=U/D*y;this.min=-qe,this.max=y+qe}ca.prototype.insert=function(y,D,U,ct,yt){this._forEachCell(D,U,ct,yt,this._insertCell,this.uid++),this.keys.push(y),this.bboxes.push(D),this.bboxes.push(U),this.bboxes.push(ct),this.bboxes.push(yt)},ca.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ca.prototype._insertCell=function(y,D,U,ct,yt,Mt){this.cells[yt].push(Mt)},ca.prototype.query=function(y,D,U,ct,yt){var Mt=this.min,Bt=this.max;if(y<=Mt&&D<=Mt&&Bt<=U&&Bt<=ct&&!yt)return Array.prototype.slice.call(this.keys);var ne=[],ge={};return this._forEachCell(y,D,U,ct,this._queryCell,ne,ge,yt),ne},ca.prototype._queryCell=function(y,D,U,ct,yt,Mt,Bt,ne){var ge=this.cells[yt];if(ge!==null)for(var Ae=this.keys,je=this.bboxes,qe=0;qe<ge.length;qe++){var Qe=ge[qe];if(Bt[Qe]===void 0){var sr=Qe*4;(ne?ne(je[sr+0],je[sr+1],je[sr+2],je[sr+3]):y<=je[sr+2]&&D<=je[sr+3]&&U>=je[sr+0]&&ct>=je[sr+1])?(Bt[Qe]=!0,Mt.push(Ae[Qe])):Bt[Qe]=!1}}},ca.prototype._forEachCell=function(y,D,U,ct,yt,Mt,Bt,ne){for(var ge=this._convertToCellCoord(y),Ae=this._convertToCellCoord(D),je=this._convertToCellCoord(U),qe=this._convertToCellCoord(ct),Qe=ge;Qe<=je;Qe++)for(var sr=Ae;sr<=qe;sr++){var Sr=this.d*sr+Qe;if(!(ne&&!ne(this._convertFromCellCoord(Qe),this._convertFromCellCoord(sr),this._convertFromCellCoord(Qe+1),this._convertFromCellCoord(sr+1)))&&yt.call(this,y,D,U,ct,Sr,Mt,Bt,ne))return}},ca.prototype._convertFromCellCoord=function(y){return(y-this.padding)/this.scale},ca.prototype._convertToCellCoord=function(y){return Math.max(0,Math.min(this.d-1,Math.floor(y*this.scale)+this.padding))},ca.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var y=this.cells,D=Wi+this.cells.length+1+1,U=0,ct=0;ct<this.cells.length;ct++)U+=this.cells[ct].length;var yt=new Int32Array(D+U+this.keys.length+this.bboxes.length);yt[0]=this.extent,yt[1]=this.n,yt[2]=this.padding;for(var Mt=D,Bt=0;Bt<y.length;Bt++){var ne=y[Bt];yt[Wi+Bt]=Mt,yt.set(ne,Mt),Mt+=ne.length}return yt[Wi+y.length]=Mt,yt.set(this.keys,Mt),Mt+=this.keys.length,yt[Wi+y.length+1]=Mt,yt.set(this.bboxes,Mt),Mt+=this.bboxes.length,yt.buffer};var Da=s.ImageData,ft=s.ImageBitmap,Tt={};function zt(y,D,U){U===void 0&&(U={}),Object.defineProperty(D,"_classRegistryKey",{value:y,writeable:!1}),Tt[y]={klass:D,omit:U.omit||[],shallow:U.shallow||[]}}zt("Object",Object),Hi.serialize=function(y,D){var U=y.toArrayBuffer();return D&&D.push(U),{buffer:U}},Hi.deserialize=function(y){return new Hi(y.buffer)},zt("Grid",Hi),zt("Color",$i),zt("Error",Error),zt("ResolvedImage",wo),zt("StylePropertyFunction",_l),zt("StyleExpression",el,{omit:["_evaluator"]}),zt("ZoomDependentExpression",xs),zt("ZoomConstantExpression",Wa),zt("CompoundExpression",Qa,{omit:["_evaluate"]});for(var Kt in Zl)Zl[Kt]._classRegistryKey||zt("Expression_"+Kt,Zl[Kt]);function $t(y){return y&&typeof ArrayBuffer<"u"&&(y instanceof ArrayBuffer||y.constructor&&y.constructor.name==="ArrayBuffer")}function oe(y){return ft&&y instanceof ft}function Me(y,D){if(y==null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||y instanceof Boolean||y instanceof Number||y instanceof String||y instanceof Date||y instanceof RegExp)return y;if($t(y)||oe(y))return D&&D.push(y),y;if(ArrayBuffer.isView(y)){var U=y;return D&&D.push(U.buffer),U}if(y instanceof Da)return D&&D.push(y.data.buffer),y;if(Array.isArray(y)){for(var ct=[],yt=0,Mt=y;yt<Mt.length;yt+=1){var Bt=Mt[yt];ct.push(Me(Bt,D))}return ct}if(typeof y=="object"){var ne=y.constructor,ge=ne._classRegistryKey;if(!ge)throw new Error("can't serialize object of unregistered class");var Ae=ne.serialize?ne.serialize(y,D):{};if(!ne.serialize){for(var je in y)if(y.hasOwnProperty(je)&&!(Tt[ge].omit.indexOf(je)>=0)){var qe=y[je];Ae[je]=Tt[ge].shallow.indexOf(je)>=0?qe:Me(qe,D)}y instanceof Error&&(Ae.message=y.message)}if(Ae.$name)throw new Error("$name property is reserved for worker serialization logic.");return ge!=="Object"&&(Ae.$name=ge),Ae}throw new Error("can't serialize object of type "+typeof y)}function we(y){if(y==null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||y instanceof Boolean||y instanceof Number||y instanceof String||y instanceof Date||y instanceof RegExp||$t(y)||oe(y)||ArrayBuffer.isView(y)||y instanceof Da)return y;if(Array.isArray(y))return y.map(we);if(typeof y=="object"){var D=y.$name||"Object",U=Tt[D],ct=U.klass;if(!ct)throw new Error("can't deserialize unregistered class "+D);if(ct.deserialize)return ct.deserialize(y);for(var yt=Object.create(ct.prototype),Mt=0,Bt=Object.keys(y);Mt<Bt.length;Mt+=1){var ne=Bt[Mt];if(ne!=="$name"){var ge=y[ne];yt[ne]=Tt[D].shallow.indexOf(ne)>=0?ge:we(ge)}}return yt}throw new Error("can't deserialize object of type "+typeof y)}var He=function(){this.first=!0};He.prototype.update=function(y,D){var U=Math.floor(y);return this.first?(this.first=!1,this.lastIntegerZoom=U,this.lastIntegerZoomTime=0,this.lastZoom=y,this.lastFloorZoom=U,!0):(this.lastFloorZoom>U?(this.lastIntegerZoom=U+1,this.lastIntegerZoomTime=D):this.lastFloorZoom<U&&(this.lastIntegerZoom=U,this.lastIntegerZoomTime=D),y!==this.lastZoom?(this.lastZoom=y,this.lastFloorZoom=U,!0):!1)};var Ve={"Latin-1 Supplement":function(y){return y>=128&&y<=255},Arabic:function(y){return y>=1536&&y<=1791},"Arabic Supplement":function(y){return y>=1872&&y<=1919},"Arabic Extended-A":function(y){return y>=2208&&y<=2303},"Hangul Jamo":function(y){return y>=4352&&y<=4607},"Unified Canadian Aboriginal Syllabics":function(y){return y>=5120&&y<=5759},Khmer:function(y){return y>=6016&&y<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(y){return y>=6320&&y<=6399},"General Punctuation":function(y){return y>=8192&&y<=8303},"Letterlike Symbols":function(y){return y>=8448&&y<=8527},"Number Forms":function(y){return y>=8528&&y<=8591},"Miscellaneous Technical":function(y){return y>=8960&&y<=9215},"Control Pictures":function(y){return y>=9216&&y<=9279},"Optical Character Recognition":function(y){return y>=9280&&y<=9311},"Enclosed Alphanumerics":function(y){return y>=9312&&y<=9471},"Geometric Shapes":function(y){return y>=9632&&y<=9727},"Miscellaneous Symbols":function(y){return y>=9728&&y<=9983},"Miscellaneous Symbols and Arrows":function(y){return y>=11008&&y<=11263},"CJK Radicals Supplement":function(y){return y>=11904&&y<=12031},"Kangxi Radicals":function(y){return y>=12032&&y<=12255},"Ideographic Description Characters":function(y){return y>=12272&&y<=12287},"CJK Symbols and Punctuation":function(y){return y>=12288&&y<=12351},Hiragana:function(y){return y>=12352&&y<=12447},Katakana:function(y){return y>=12448&&y<=12543},Bopomofo:function(y){return y>=12544&&y<=12591},"Hangul Compatibility Jamo":function(y){return y>=12592&&y<=12687},Kanbun:function(y){return y>=12688&&y<=12703},"Bopomofo Extended":function(y){return y>=12704&&y<=12735},"CJK Strokes":function(y){return y>=12736&&y<=12783},"Katakana Phonetic Extensions":function(y){return y>=12784&&y<=12799},"Enclosed CJK Letters and Months":function(y){return y>=12800&&y<=13055},"CJK Compatibility":function(y){return y>=13056&&y<=13311},"CJK Unified Ideographs Extension A":function(y){return y>=13312&&y<=19903},"Yijing Hexagram Symbols":function(y){return y>=19904&&y<=19967},"CJK Unified Ideographs":function(y){return y>=19968&&y<=40959},"Yi Syllables":function(y){return y>=40960&&y<=42127},"Yi Radicals":function(y){return y>=42128&&y<=42191},"Hangul Jamo Extended-A":function(y){return y>=43360&&y<=43391},"Hangul Syllables":function(y){return y>=44032&&y<=55215},"Hangul Jamo Extended-B":function(y){return y>=55216&&y<=55295},"Private Use Area":function(y){return y>=57344&&y<=63743},"CJK Compatibility Ideographs":function(y){return y>=63744&&y<=64255},"Arabic Presentation Forms-A":function(y){return y>=64336&&y<=65023},"Vertical Forms":function(y){return y>=65040&&y<=65055},"CJK Compatibility Forms":function(y){return y>=65072&&y<=65103},"Small Form Variants":function(y){return y>=65104&&y<=65135},"Arabic Presentation Forms-B":function(y){return y>=65136&&y<=65279},"Halfwidth and Fullwidth Forms":function(y){return y>=65280&&y<=65519}};function tr(y){for(var D=0,U=y;D<U.length;D+=1){var ct=U[D];if(on(ct.charCodeAt(0)))return!0}return!1}function Ar(y){for(var D=0,U=y;D<U.length;D+=1){var ct=U[D];if(!Lr(ct.charCodeAt(0)))return!1}return!0}function Lr(y){return!(Ve.Arabic(y)||Ve["Arabic Supplement"](y)||Ve["Arabic Extended-A"](y)||Ve["Arabic Presentation Forms-A"](y)||Ve["Arabic Presentation Forms-B"](y))}function Yr(y){return y<11904?!1:!!(Ve["Bopomofo Extended"](y)||Ve.Bopomofo(y)||Ve["CJK Compatibility Forms"](y)||Ve["CJK Compatibility Ideographs"](y)||Ve["CJK Compatibility"](y)||Ve["CJK Radicals Supplement"](y)||Ve["CJK Strokes"](y)||Ve["CJK Symbols and Punctuation"](y)||Ve["CJK Unified Ideographs Extension A"](y)||Ve["CJK Unified Ideographs"](y)||Ve["Enclosed CJK Letters and Months"](y)||Ve["Halfwidth and Fullwidth Forms"](y)||Ve.Hiragana(y)||Ve["Ideographic Description Characters"](y)||Ve["Kangxi Radicals"](y)||Ve["Katakana Phonetic Extensions"](y)||Ve.Katakana(y)||Ve["Vertical Forms"](y)||Ve["Yi Radicals"](y)||Ve["Yi Syllables"](y))}function on(y){return y===746||y===747?!0:y<4352?!1:!!(Ve["Bopomofo Extended"](y)||Ve.Bopomofo(y)||Ve["CJK Compatibility Forms"](y)&&!(y>=65097&&y<=65103)||Ve["CJK Compatibility Ideographs"](y)||Ve["CJK Compatibility"](y)||Ve["CJK Radicals Supplement"](y)||Ve["CJK Strokes"](y)||Ve["CJK Symbols and Punctuation"](y)&&!(y>=12296&&y<=12305)&&!(y>=12308&&y<=12319)&&y!==12336||Ve["CJK Unified Ideographs Extension A"](y)||Ve["CJK Unified Ideographs"](y)||Ve["Enclosed CJK Letters and Months"](y)||Ve["Hangul Compatibility Jamo"](y)||Ve["Hangul Jamo Extended-A"](y)||Ve["Hangul Jamo Extended-B"](y)||Ve["Hangul Jamo"](y)||Ve["Hangul Syllables"](y)||Ve.Hiragana(y)||Ve["Ideographic Description Characters"](y)||Ve.Kanbun(y)||Ve["Kangxi Radicals"](y)||Ve["Katakana Phonetic Extensions"](y)||Ve.Katakana(y)&&y!==12540||Ve["Halfwidth and Fullwidth Forms"](y)&&y!==65288&&y!==65289&&y!==65293&&!(y>=65306&&y<=65310)&&y!==65339&&y!==65341&&y!==65343&&!(y>=65371&&y<=65503)&&y!==65507&&!(y>=65512&&y<=65519)||Ve["Small Form Variants"](y)&&!(y>=65112&&y<=65118)&&!(y>=65123&&y<=65126)||Ve["Unified Canadian Aboriginal Syllabics"](y)||Ve["Unified Canadian Aboriginal Syllabics Extended"](y)||Ve["Vertical Forms"](y)||Ve["Yijing Hexagram Symbols"](y)||Ve["Yi Syllables"](y)||Ve["Yi Radicals"](y))}function Pr(y){return!!(Ve["Latin-1 Supplement"](y)&&(y===167||y===169||y===174||y===177||y===188||y===189||y===190||y===215||y===247)||Ve["General Punctuation"](y)&&(y===8214||y===8224||y===8225||y===8240||y===8241||y===8251||y===8252||y===8258||y===8263||y===8264||y===8265||y===8273)||Ve["Letterlike Symbols"](y)||Ve["Number Forms"](y)||Ve["Miscellaneous Technical"](y)&&(y>=8960&&y<=8967||y>=8972&&y<=8991||y>=8996&&y<=9e3||y===9003||y>=9085&&y<=9114||y>=9150&&y<=9165||y===9167||y>=9169&&y<=9179||y>=9186&&y<=9215)||Ve["Control Pictures"](y)&&y!==9251||Ve["Optical Character Recognition"](y)||Ve["Enclosed Alphanumerics"](y)||Ve["Geometric Shapes"](y)||Ve["Miscellaneous Symbols"](y)&&!(y>=9754&&y<=9759)||Ve["Miscellaneous Symbols and Arrows"](y)&&(y>=11026&&y<=11055||y>=11088&&y<=11097||y>=11192&&y<=11243)||Ve["CJK Symbols and Punctuation"](y)||Ve.Katakana(y)||Ve["Private Use Area"](y)||Ve["CJK Compatibility Forms"](y)||Ve["Small Form Variants"](y)||Ve["Halfwidth and Fullwidth Forms"](y)||y===8734||y===8756||y===8757||y>=9984&&y<=10087||y>=10102&&y<=10131||y===65532||y===65533)}function jr(y){return!(on(y)||Pr(y))}function Zr(y){return Ve.Arabic(y)||Ve["Arabic Supplement"](y)||Ve["Arabic Extended-A"](y)||Ve["Arabic Presentation Forms-A"](y)||Ve["Arabic Presentation Forms-B"](y)}function cn(y){return y>=1424&&y<=2303||Ve["Arabic Presentation Forms-A"](y)||Ve["Arabic Presentation Forms-B"](y)}function hn(y,D){return!(!D&&cn(y)||y>=2304&&y<=3583||y>=3840&&y<=4255||Ve.Khmer(y))}function $r(y){for(var D=0,U=y;D<U.length;D+=1){var ct=U[D];if(cn(ct.charCodeAt(0)))return!0}return!1}function jn(y,D){for(var U=0,ct=y;U<ct.length;U+=1){var yt=ct[U];if(!hn(yt.charCodeAt(0),D))return!1}return!0}var Qn={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ui=null,Jn=Qn.unavailable,ii=null,ci=function(y){y&&typeof y=="string"&&y.indexOf("NetworkError")>-1&&(Jn=Qn.error),ui&&ui(y)};function Vi(){ki.fire(new er("pluginStateChange",{pluginStatus:Jn,pluginURL:ii}))}var ki=new lr,ji=function(){return Jn},ra=function(y){return y({pluginStatus:Jn,pluginURL:ii}),ki.on("pluginStateChange",y),y},Na=function(y,D,U){if(U===void 0&&(U=!1),Jn===Qn.deferred||Jn===Qn.loading||Jn===Qn.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ii=ut.resolveURL(y),Jn=Qn.deferred,ui=D,Vi(),U||aa()},aa=function(){if(Jn!==Qn.deferred||!ii)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jn=Qn.loading,Vi(),ii&&Fe({url:ii},function(y){y?ci(y):(Jn=Qn.loaded,Vi())})},Yn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Jn===Qn.loaded||Yn.applyArabicShaping!=null},isLoading:function(){return Jn===Qn.loading},setState:function(y){Jn=y.pluginStatus,ii=y.pluginURL},isParsed:function(){return Yn.applyArabicShaping!=null&&Yn.processBidirectionalText!=null&&Yn.processStyledBidirectionalText!=null},getPluginURL:function(){return ii}},Ui=function(){!Yn.isLoading()&&!Yn.isLoaded()&&ji()==="deferred"&&aa()},wi=function(y,D){this.zoom=y,D?(this.now=D.now,this.fadeDuration=D.fadeDuration,this.zoomHistory=D.zoomHistory,this.transition=D.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new He,this.transition={})};wi.prototype.isSupportedScript=function(y){return jn(y,Yn.isLoaded())},wi.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},wi.prototype.getCrossfadeParameters=function(){var y=this.zoom,D=y-Math.floor(y),U=this.crossFadingFactor();return y>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:D+(1-D)*U}:{fromScale:.5,toScale:1,t:1-(1-U)*D}};var Gi=function(y,D){this.property=y,this.value=D,this.expression=ic(D===void 0?y.specification.default:D,y.specification)};Gi.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Gi.prototype.possiblyEvaluate=function(y,D,U){return this.property.possiblyEvaluate(this,y,D,U)};var xa=function(y){this.property=y,this.value=new Gi(y,void 0)};xa.prototype.transitioned=function(y,D){return new to(this.property,this.value,D,w({},y.transition,this.transition),y.now)},xa.prototype.untransitioned=function(){return new to(this.property,this.value,null,{},0)};var na=function(y){this._properties=y,this._values=Object.create(y.defaultTransitionablePropertyValues)};na.prototype.getValue=function(y){return N(this._values[y].value.value)},na.prototype.setValue=function(y,D){this._values.hasOwnProperty(y)||(this._values[y]=new xa(this._values[y].property)),this._values[y].value=new Gi(this._values[y].property,D===null?void 0:N(D))},na.prototype.getTransition=function(y){return N(this._values[y].transition)},na.prototype.setTransition=function(y,D){this._values.hasOwnProperty(y)||(this._values[y]=new xa(this._values[y].property)),this._values[y].transition=N(D)||void 0},na.prototype.serialize=function(){for(var y={},D=0,U=Object.keys(this._values);D<U.length;D+=1){var ct=U[D],yt=this.getValue(ct);yt!==void 0&&(y[ct]=yt);var Mt=this.getTransition(ct);Mt!==void 0&&(y[ct+"-transition"]=Mt)}return y},na.prototype.transitioned=function(y,D){for(var U=new eo(this._properties),ct=0,yt=Object.keys(this._values);ct<yt.length;ct+=1){var Mt=yt[ct];U._values[Mt]=this._values[Mt].transitioned(y,D._values[Mt])}return U},na.prototype.untransitioned=function(){for(var y=new eo(this._properties),D=0,U=Object.keys(this._values);D<U.length;D+=1){var ct=U[D];y._values[ct]=this._values[ct].untransitioned()}return y};var to=function(y,D,U,ct,yt){this.property=y,this.value=D,this.begin=yt+ct.delay||0,this.end=this.begin+ct.duration||0,y.specification.transition&&(ct.delay||ct.duration)&&(this.prior=U)};to.prototype.possiblyEvaluate=function(y,D,U){var ct=y.now||0,yt=this.value.possiblyEvaluate(y,D,U),Mt=this.prior;if(Mt){if(ct>this.end)return this.prior=null,yt;if(this.value.isDataDriven())return this.prior=null,yt;if(ct<this.begin)return Mt.possiblyEvaluate(y,D,U);var Bt=(ct-this.begin)/(this.end-this.begin);return this.property.interpolate(Mt.possiblyEvaluate(y,D,U),yt,o(Bt))}else return yt};var eo=function(y){this._properties=y,this._values=Object.create(y.defaultTransitioningPropertyValues)};eo.prototype.possiblyEvaluate=function(y,D,U){for(var ct=new xo(this._properties),yt=0,Mt=Object.keys(this._values);yt<Mt.length;yt+=1){var Bt=Mt[yt];ct._values[Bt]=this._values[Bt].possiblyEvaluate(y,D,U)}return ct},eo.prototype.hasTransition=function(){for(var y=0,D=Object.keys(this._values);y<D.length;y+=1){var U=D[y];if(this._values[U].prior)return!0}return!1};var oo=function(y){this._properties=y,this._values=Object.create(y.defaultPropertyValues)};oo.prototype.getValue=function(y){return N(this._values[y].value)},oo.prototype.setValue=function(y,D){this._values[y]=new Gi(this._values[y].property,D===null?void 0:N(D))},oo.prototype.serialize=function(){for(var y={},D=0,U=Object.keys(this._values);D<U.length;D+=1){var ct=U[D],yt=this.getValue(ct);yt!==void 0&&(y[ct]=yt)}return y},oo.prototype.possiblyEvaluate=function(y,D,U){for(var ct=new xo(this._properties),yt=0,Mt=Object.keys(this._values);yt<Mt.length;yt+=1){var Bt=Mt[yt];ct._values[Bt]=this._values[Bt].possiblyEvaluate(y,D,U)}return ct};var ba=function(y,D,U){this.property=y,this.value=D,this.parameters=U};ba.prototype.isConstant=function(){return this.value.kind==="constant"},ba.prototype.constantOr=function(y){return this.value.kind==="constant"?this.value.value:y},ba.prototype.evaluate=function(y,D,U,ct){return this.property.evaluate(this.value,this.parameters,y,D,U,ct)};var xo=function(y){this._properties=y,this._values=Object.create(y.defaultPossiblyEvaluatedValues)};xo.prototype.get=function(y){return this._values[y]};var si=function(y){this.specification=y};si.prototype.possiblyEvaluate=function(y,D){return y.expression.evaluate(D)},si.prototype.interpolate=function(y,D,U){var ct=Yu[this.specification.type];return ct?ct(y,D,U):y};var Mi=function(y,D){this.specification=y,this.overrides=D};Mi.prototype.possiblyEvaluate=function(y,D,U,ct){return y.expression.kind==="constant"||y.expression.kind==="camera"?new ba(this,{kind:"constant",value:y.expression.evaluate(D,null,{},U,ct)},D):new ba(this,y.expression,D)},Mi.prototype.interpolate=function(y,D,U){if(y.value.kind!=="constant"||D.value.kind!=="constant")return y;if(y.value.value===void 0||D.value.value===void 0)return new ba(this,{kind:"constant",value:void 0},y.parameters);var ct=Yu[this.specification.type];return ct?new ba(this,{kind:"constant",value:ct(y.value.value,D.value.value,U)},y.parameters):y},Mi.prototype.evaluate=function(y,D,U,ct,yt,Mt){return y.kind==="constant"?y.value:y.evaluate(D,U,ct,yt,Mt)};var Io=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(U,ct,yt,Mt){if(U.value===void 0)return new ba(this,{kind:"constant",value:void 0},ct);if(U.expression.kind==="constant"){var Bt=U.expression.evaluate(ct,null,{},yt,Mt),ne=U.property.specification.type==="resolvedImage",ge=ne&&typeof Bt!="string"?Bt.name:Bt,Ae=this._calculate(ge,ge,ge,ct);return new ba(this,{kind:"constant",value:Ae},ct)}else if(U.expression.kind==="camera"){var je=this._calculate(U.expression.evaluate({zoom:ct.zoom-1}),U.expression.evaluate({zoom:ct.zoom}),U.expression.evaluate({zoom:ct.zoom+1}),ct);return new ba(this,{kind:"constant",value:je},ct)}else return new ba(this,U.expression,ct)},D.prototype.evaluate=function(U,ct,yt,Mt,Bt,ne){if(U.kind==="source"){var ge=U.evaluate(ct,yt,Mt,Bt,ne);return this._calculate(ge,ge,ge,ct)}else return U.kind==="composite"?this._calculate(U.evaluate({zoom:Math.floor(ct.zoom)-1},yt,Mt),U.evaluate({zoom:Math.floor(ct.zoom)},yt,Mt),U.evaluate({zoom:Math.floor(ct.zoom)+1},yt,Mt),ct):U.value},D.prototype._calculate=function(U,ct,yt,Mt){var Bt=Mt.zoom;return Bt>Mt.zoomHistory.lastIntegerZoom?{from:U,to:ct}:{from:yt,to:ct}},D.prototype.interpolate=function(U){return U},D}(Mi),jo=function(y){this.specification=y};jo.prototype.possiblyEvaluate=function(y,D,U,ct){if(y.value!==void 0)if(y.expression.kind==="constant"){var yt=y.expression.evaluate(D,null,{},U,ct);return this._calculate(yt,yt,yt,D)}else return this._calculate(y.expression.evaluate(new wi(Math.floor(D.zoom-1),D)),y.expression.evaluate(new wi(Math.floor(D.zoom),D)),y.expression.evaluate(new wi(Math.floor(D.zoom+1),D)),D)},jo.prototype._calculate=function(y,D,U,ct){var yt=ct.zoom;return yt>ct.zoomHistory.lastIntegerZoom?{from:y,to:D}:{from:U,to:D}},jo.prototype.interpolate=function(y){return y};var so=function(y){this.specification=y};so.prototype.possiblyEvaluate=function(y,D,U,ct){return!!y.expression.evaluate(D,null,{},U,ct)},so.prototype.interpolate=function(){return!1};var sa=function(y){this.properties=y,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var D in y){var U=y[D];U.specification.overridable&&this.overridableProperties.push(D);var ct=this.defaultPropertyValues[D]=new Gi(U,void 0),yt=this.defaultTransitionablePropertyValues[D]=new xa(U);this.defaultTransitioningPropertyValues[D]=yt.untransitioned(),this.defaultPossiblyEvaluatedValues[D]=ct.possiblyEvaluate({})}};zt("DataDrivenProperty",Mi),zt("DataConstantProperty",si),zt("CrossFadedDataDrivenProperty",Io),zt("CrossFadedProperty",jo),zt("ColorRampProperty",so);var Ga="-transition",ja=function(y){function D(U,ct){if(y.call(this),this.id=U.id,this.type=U.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},U.type!=="custom"&&(U=U,this.metadata=U.metadata,this.minzoom=U.minzoom,this.maxzoom=U.maxzoom,U.type!=="background"&&(this.source=U.source,this.sourceLayer=U["source-layer"],this.filter=U.filter),ct.layout&&(this._unevaluatedLayout=new oo(ct.layout)),ct.paint)){this._transitionablePaint=new na(ct.paint);for(var yt in U.paint)this.setPaintProperty(yt,U.paint[yt],{validate:!1});for(var Mt in U.layout)this.setLayoutProperty(Mt,U.layout[Mt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new xo(ct.paint)}}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(U){return U==="visibility"?this.visibility:this._unevaluatedLayout.getValue(U)},D.prototype.setLayoutProperty=function(U,ct,yt){if(yt===void 0&&(yt={}),ct!=null){var Mt="layers."+this.id+".layout."+U;if(this._validate(Oi,Mt,U,ct,yt))return}if(U==="visibility"){this.visibility=ct;return}this._unevaluatedLayout.setValue(U,ct)},D.prototype.getPaintProperty=function(U){return A(U,Ga)?this._transitionablePaint.getTransition(U.slice(0,-Ga.length)):this._transitionablePaint.getValue(U)},D.prototype.setPaintProperty=function(U,ct,yt){if(yt===void 0&&(yt={}),ct!=null){var Mt="layers."+this.id+".paint."+U;if(this._validate(Ii,Mt,U,ct,yt))return!1}if(A(U,Ga))return this._transitionablePaint.setTransition(U.slice(0,-Ga.length),ct||void 0),!1;var Bt=this._transitionablePaint._values[U],ne=Bt.property.specification["property-type"]==="cross-faded-data-driven",ge=Bt.value.isDataDriven(),Ae=Bt.value;this._transitionablePaint.setValue(U,ct),this._handleSpecialPaintPropertyUpdate(U);var je=this._transitionablePaint._values[U].value,qe=je.isDataDriven();return qe||ge||ne||this._handleOverridablePaintPropertyUpdate(U,Ae,je)},D.prototype._handleSpecialPaintPropertyUpdate=function(U){},D.prototype._handleOverridablePaintPropertyUpdate=function(U,ct,yt){return!1},D.prototype.isHidden=function(U){return this.minzoom&&U<this.minzoom||this.maxzoom&&U>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(U){this._transitioningPaint=this._transitionablePaint.transitioned(U,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(U,ct){U.getCrossfadeParameters&&(this._crossfadeParameters=U.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(U,void 0,ct)),this.paint=this._transitioningPaint.possiblyEvaluate(U,void 0,ct)},D.prototype.serialize=function(){var U={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(U.layout=U.layout||{},U.layout.visibility=this.visibility),O(U,function(ct,yt){return ct!==void 0&&!(yt==="layout"&&!Object.keys(ct).length)&&!(yt==="paint"&&!Object.keys(ct).length)})},D.prototype._validate=function(U,ct,yt,Mt,Bt){return Bt===void 0&&(Bt={}),Bt&&Bt.validate===!1?!1:Di(this,U.call(Cn,{key:ct,layerType:this.type,objectKey:yt,value:Mt,styleSpec:br,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var U in this.paint._values){var ct=this.paint.get(U);if(!(!(ct instanceof ba)||!Rs(ct.property.specification))&&(ct.value.kind==="source"||ct.value.kind==="composite")&&ct.value.isStateDependent)return!0}return!1},D}(lr),bs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Fs=function(y,D){this._structArray=y,this._pos1=D*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Sa=128,tu=5,Zi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Zi.serialize=function(y,D){return y._trim(),D&&(y.isTransferred=!0,D.push(y.arrayBuffer)),{length:y.length,arrayBuffer:y.arrayBuffer}},Zi.deserialize=function(y){var D=Object.create(this.prototype);return D.arrayBuffer=y.arrayBuffer,D.length=y.length,D.capacity=y.arrayBuffer.byteLength/D.bytesPerElement,D._refreshViews(),D},Zi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Zi.prototype.clear=function(){this.length=0},Zi.prototype.resize=function(y){this.reserve(y),this.length=y},Zi.prototype.reserve=function(y){if(y>this.capacity){this.capacity=Math.max(y,Math.floor(this.capacity*tu),Sa),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var D=this.uint8;this._refreshViews(),D&&this.uint8.set(D)}},Zi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ea(y,D){D===void 0&&(D=1);var U=0,ct=0,yt=y.map(function(Bt){var ne=Oh(Bt.type),ge=U=tv(U,Math.max(D,ne)),Ae=Bt.components||1;return ct=Math.max(ct,ne),U+=ne*Ae,{name:Bt.name,type:Bt.type,components:Ae,offset:ge}}),Mt=tv(U,Math.max(ct,D));return{members:yt,size:Mt,alignment:D}}function Oh(y){return bs[y].BYTES_PER_ELEMENT}function tv(y,D){return Math.ceil(y/D)*D}var Nc=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct){var yt=this.length;return this.resize(yt+1),this.emplace(yt,U,ct)},D.prototype.emplace=function(U,ct,yt){var Mt=U*2;return this.int16[Mt+0]=ct,this.int16[Mt+1]=yt,U},D}(Zi);Nc.prototype.bytesPerElement=4,zt("StructArrayLayout2i4",Nc);var Ed=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,U,ct,yt,Mt)},D.prototype.emplace=function(U,ct,yt,Mt,Bt){var ne=U*4;return this.int16[ne+0]=ct,this.int16[ne+1]=yt,this.int16[ne+2]=Mt,this.int16[ne+3]=Bt,U},D}(Zi);Ed.prototype.bytesPerElement=8,zt("StructArrayLayout4i8",Ed);var sc=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne){var ge=this.length;return this.resize(ge+1),this.emplace(ge,U,ct,yt,Mt,Bt,ne)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge){var Ae=U*6;return this.int16[Ae+0]=ct,this.int16[Ae+1]=yt,this.int16[Ae+2]=Mt,this.int16[Ae+3]=Bt,this.int16[Ae+4]=ne,this.int16[Ae+5]=ge,U},D}(Zi);sc.prototype.bytesPerElement=12,zt("StructArrayLayout2i4i12",sc);var Lf=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne){var ge=this.length;return this.resize(ge+1),this.emplace(ge,U,ct,yt,Mt,Bt,ne)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge){var Ae=U*4,je=U*8;return this.int16[Ae+0]=ct,this.int16[Ae+1]=yt,this.uint8[je+4]=Mt,this.uint8[je+5]=Bt,this.uint8[je+6]=ne,this.uint8[je+7]=ge,U},D}(Zi);Lf.prototype.bytesPerElement=8,zt("StructArrayLayout2i4ub8",Lf);var Pf=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct){var yt=this.length;return this.resize(yt+1),this.emplace(yt,U,ct)},D.prototype.emplace=function(U,ct,yt){var Mt=U*2;return this.float32[Mt+0]=ct,this.float32[Mt+1]=yt,U},D}(Zi);Pf.prototype.bytesPerElement=8,zt("StructArrayLayout2f8",Pf);var ss=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe){var sr=U*10;return this.uint16[sr+0]=ct,this.uint16[sr+1]=yt,this.uint16[sr+2]=Mt,this.uint16[sr+3]=Bt,this.uint16[sr+4]=ne,this.uint16[sr+5]=ge,this.uint16[sr+6]=Ae,this.uint16[sr+7]=je,this.uint16[sr+8]=qe,this.uint16[sr+9]=Qe,U},D}(Zi);ss.prototype.bytesPerElement=20,zt("StructArrayLayout10ui20",ss);var lc=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr){var Sr=this.length;return this.resize(Sr+1),this.emplace(Sr,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr){var Hr=U*12;return this.int16[Hr+0]=ct,this.int16[Hr+1]=yt,this.int16[Hr+2]=Mt,this.int16[Hr+3]=Bt,this.uint16[Hr+4]=ne,this.uint16[Hr+5]=ge,this.uint16[Hr+6]=Ae,this.uint16[Hr+7]=je,this.int16[Hr+8]=qe,this.int16[Hr+9]=Qe,this.int16[Hr+10]=sr,this.int16[Hr+11]=Sr,U},D}(Zi);lc.prototype.bytesPerElement=24,zt("StructArrayLayout4i4ui4i24",lc);var Ld=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,U,ct,yt)},D.prototype.emplace=function(U,ct,yt,Mt){var Bt=U*3;return this.float32[Bt+0]=ct,this.float32[Bt+1]=yt,this.float32[Bt+2]=Mt,U},D}(Zi);Ld.prototype.bytesPerElement=12,zt("StructArrayLayout3f12",Ld);var Pd=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U){var ct=this.length;return this.resize(ct+1),this.emplace(ct,U)},D.prototype.emplace=function(U,ct){var yt=U*1;return this.uint32[yt+0]=ct,U},D}(Zi);Pd.prototype.bytesPerElement=4,zt("StructArrayLayout1ul4",Pd);var zh=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je){var qe=this.length;return this.resize(qe+1),this.emplace(qe,U,ct,yt,Mt,Bt,ne,ge,Ae,je)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe){var Qe=U*10,sr=U*5;return this.int16[Qe+0]=ct,this.int16[Qe+1]=yt,this.int16[Qe+2]=Mt,this.int16[Qe+3]=Bt,this.int16[Qe+4]=ne,this.int16[Qe+5]=ge,this.uint32[sr+3]=Ae,this.uint16[Qe+8]=je,this.uint16[Qe+9]=qe,U},D}(Zi);zh.prototype.bytesPerElement=20,zt("StructArrayLayout6i1ul2ui20",zh);var yp=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne){var ge=this.length;return this.resize(ge+1),this.emplace(ge,U,ct,yt,Mt,Bt,ne)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge){var Ae=U*6;return this.int16[Ae+0]=ct,this.int16[Ae+1]=yt,this.int16[Ae+2]=Mt,this.int16[Ae+3]=Bt,this.int16[Ae+4]=ne,this.int16[Ae+5]=ge,U},D}(Zi);yp.prototype.bytesPerElement=12,zt("StructArrayLayout2i2i2i12",yp);var Iu=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt){var ne=this.length;return this.resize(ne+1),this.emplace(ne,U,ct,yt,Mt,Bt)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne){var ge=U*4,Ae=U*8;return this.float32[ge+0]=ct,this.float32[ge+1]=yt,this.float32[ge+2]=Mt,this.int16[Ae+6]=Bt,this.int16[Ae+7]=ne,U},D}(Zi);Iu.prototype.bytesPerElement=16,zt("StructArrayLayout2f1f2i16",Iu);var _s=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,U,ct,yt,Mt)},D.prototype.emplace=function(U,ct,yt,Mt,Bt){var ne=U*12,ge=U*3;return this.uint8[ne+0]=ct,this.uint8[ne+1]=yt,this.float32[ge+1]=Mt,this.float32[ge+2]=Bt,U},D}(Zi);_s.prototype.bytesPerElement=12,zt("StructArrayLayout2ub2f12",_s);var Ou=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,U,ct,yt)},D.prototype.emplace=function(U,ct,yt,Mt){var Bt=U*3;return this.uint16[Bt+0]=ct,this.uint16[Bt+1]=yt,this.uint16[Bt+2]=Mt,U},D}(Zi);Ou.prototype.bytesPerElement=6,zt("StructArrayLayout3ui6",Ou);var Rh=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un,wn){var Sn=this.length;return this.resize(Sn+1),this.emplace(Sn,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un,wn)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un,wn,Sn){var mn=U*24,Fn=U*12,Zn=U*48;return this.int16[mn+0]=ct,this.int16[mn+1]=yt,this.uint16[mn+2]=Mt,this.uint16[mn+3]=Bt,this.uint32[Fn+2]=ne,this.uint32[Fn+3]=ge,this.uint32[Fn+4]=Ae,this.uint16[mn+10]=je,this.uint16[mn+11]=qe,this.uint16[mn+12]=Qe,this.float32[Fn+7]=sr,this.float32[Fn+8]=Sr,this.uint8[Zn+36]=Hr,this.uint8[Zn+37]=dn,this.uint8[Zn+38]=un,this.uint32[Fn+10]=wn,this.int16[mn+22]=Sn,U},D}(Zi);Rh.prototype.bytesPerElement=48,zt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Rh);var mp=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un,wn,Sn,mn,Fn,Zn,ti,ei,bi,_i,Ai,Pi,Fi){var Si=this.length;return this.resize(Si+1),this.emplace(Si,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un,wn,Sn,mn,Fn,Zn,ti,ei,bi,_i,Ai,Pi,Fi)},D.prototype.emplace=function(U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un,wn,Sn,mn,Fn,Zn,ti,ei,bi,_i,Ai,Pi,Fi,Si){var Li=U*34,Ji=U*17;return this.int16[Li+0]=ct,this.int16[Li+1]=yt,this.int16[Li+2]=Mt,this.int16[Li+3]=Bt,this.int16[Li+4]=ne,this.int16[Li+5]=ge,this.int16[Li+6]=Ae,this.int16[Li+7]=je,this.uint16[Li+8]=qe,this.uint16[Li+9]=Qe,this.uint16[Li+10]=sr,this.uint16[Li+11]=Sr,this.uint16[Li+12]=Hr,this.uint16[Li+13]=dn,this.uint16[Li+14]=un,this.uint16[Li+15]=wn,this.uint16[Li+16]=Sn,this.uint16[Li+17]=mn,this.uint16[Li+18]=Fn,this.uint16[Li+19]=Zn,this.uint16[Li+20]=ti,this.uint16[Li+21]=ei,this.uint16[Li+22]=bi,this.uint32[Ji+12]=_i,this.float32[Ji+13]=Ai,this.float32[Ji+14]=Pi,this.float32[Ji+15]=Fi,this.float32[Ji+16]=Si,U},D}(Zi);mp.prototype.bytesPerElement=68,zt("StructArrayLayout8i15ui1ul4f68",mp);var Cf=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U){var ct=this.length;return this.resize(ct+1),this.emplace(ct,U)},D.prototype.emplace=function(U,ct){var yt=U*1;return this.float32[yt+0]=ct,U},D}(Zi);Cf.prototype.bytesPerElement=4,zt("StructArrayLayout1f4",Cf);var Cd=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,U,ct,yt)},D.prototype.emplace=function(U,ct,yt,Mt){var Bt=U*3;return this.int16[Bt+0]=ct,this.int16[Bt+1]=yt,this.int16[Bt+2]=Mt,U},D}(Zi);Cd.prototype.bytesPerElement=6,zt("StructArrayLayout3i6",Cd);var uc=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,U,ct,yt)},D.prototype.emplace=function(U,ct,yt,Mt){var Bt=U*2,ne=U*4;return this.uint32[Bt+0]=ct,this.uint16[ne+2]=yt,this.uint16[ne+3]=Mt,U},D}(Zi);uc.prototype.bytesPerElement=8,zt("StructArrayLayout1ul2ui8",uc);var Dh=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct){var yt=this.length;return this.resize(yt+1),this.emplace(yt,U,ct)},D.prototype.emplace=function(U,ct,yt){var Mt=U*2;return this.uint16[Mt+0]=ct,this.uint16[Mt+1]=yt,U},D}(Zi);Dh.prototype.bytesPerElement=4,zt("StructArrayLayout2ui4",Dh);var If=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U){var ct=this.length;return this.resize(ct+1),this.emplace(ct,U)},D.prototype.emplace=function(U,ct){var yt=U*1;return this.uint16[yt+0]=ct,U},D}(Zi);If.prototype.bytesPerElement=2,zt("StructArrayLayout1ui2",If);var jc=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(U,ct,yt,Mt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,U,ct,yt,Mt)},D.prototype.emplace=function(U,ct,yt,Mt,Bt){var ne=U*4;return this.float32[ne+0]=ct,this.float32[ne+1]=yt,this.float32[ne+2]=Mt,this.float32[ne+3]=Bt,U},D}(Zi);jc.prototype.bytesPerElement=16,zt("StructArrayLayout4f16",jc);var ev=function(y){function D(){y.apply(this,arguments)}y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D;var U={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return U.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},U.x1.get=function(){return this._structArray.int16[this._pos2+2]},U.y1.get=function(){return this._structArray.int16[this._pos2+3]},U.x2.get=function(){return this._structArray.int16[this._pos2+4]},U.y2.get=function(){return this._structArray.int16[this._pos2+5]},U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,U),D}(Fs);ev.prototype.size=20;var Id=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.get=function(U){return new ev(this,U)},D}(zh);zt("CollisionBoxArray",Id);var Hc=function(y){function D(){y.apply(this,arguments)}y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},U.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},U.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},U.segment.get=function(){return this._structArray.uint16[this._pos2+10]},U.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},U.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},U.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},U.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},U.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},U.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},U.placedOrientation.set=function(ct){this._structArray.uint8[this._pos1+37]=ct},U.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},U.hidden.set=function(ct){this._structArray.uint8[this._pos1+38]=ct},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},U.crossTileID.set=function(ct){this._structArray.uint32[this._pos4+10]=ct},U.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,U),D}(Fs);Hc.prototype.size=48;var Od=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.get=function(U){return new Hc(this,U)},D}(Rh);zt("PlacedSymbolArray",Od);var Of=function(y){function D(){y.apply(this,arguments)}y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},U.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},U.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},U.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},U.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},U.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},U.key.get=function(){return this._structArray.uint16[this._pos2+8]},U.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},U.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},U.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},U.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},U.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},U.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},U.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},U.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},U.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},U.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},U.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},U.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},U.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},U.crossTileID.set=function(ct){this._structArray.uint32[this._pos4+12]=ct},U.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},U.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},U.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},U.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,U),D}(Fs);Of.prototype.size=68;var rv=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.get=function(U){return new Of(this,U)},D}(mp);zt("SymbolInstanceArray",rv);var nv=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(U){return this.float32[U*1+0]},D}(Cf);zt("GlyphOffsetArray",nv);var kl=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.getx=function(U){return this.int16[U*3+0]},D.prototype.gety=function(U){return this.int16[U*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(U){return this.int16[U*3+2]},D}(Cd);zt("SymbolLineVertexArray",kl);var iv=function(y){function D(){y.apply(this,arguments)}y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D;var U={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,U),D}(Fs);iv.prototype.size=8;var av=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.get=function(U){return new iv(this,U)},D}(uc);zt("FeatureIndexArray",av);var cy=Ea([{name:"a_pos",components:2,type:"Int16"}],4),ov=cy.members,lo=function(y){y===void 0&&(y=[]),this.segments=y};lo.prototype.prepareSegment=function(y,D,U,ct){var yt=this.segments[this.segments.length-1];return y>lo.MAX_VERTEX_ARRAY_LENGTH&&I("Max vertices per segment is "+lo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+y),(!yt||yt.vertexLength+y>lo.MAX_VERTEX_ARRAY_LENGTH||yt.sortKey!==ct)&&(yt={vertexOffset:D.length,primitiveOffset:U.length,vertexLength:0,primitiveLength:0},ct!==void 0&&(yt.sortKey=ct),this.segments.push(yt)),yt},lo.prototype.get=function(){return this.segments},lo.prototype.destroy=function(){for(var y=0,D=this.segments;y<D.length;y+=1){var U=D[y];for(var ct in U.vaos)U.vaos[ct].destroy()}},lo.simpleSegment=function(y,D,U,ct){return new lo([{vertexOffset:y,primitiveOffset:D,vertexLength:U,primitiveLength:ct,vaos:{},sortKey:0}])},lo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zt("SegmentVector",lo);function Y(y,D){return y=f(Math.floor(y),0,255),D=f(Math.floor(D),0,255),256*y+D}var nt=Ea([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),$=M(function(y){function D(U,ct){var yt,Mt,Bt,ne,ge,Ae,je,qe;for(yt=U.length&3,Mt=U.length-yt,Bt=ct,ge=3432918353,Ae=461845907,qe=0;qe<Mt;)je=U.charCodeAt(qe)&255|(U.charCodeAt(++qe)&255)<<8|(U.charCodeAt(++qe)&255)<<16|(U.charCodeAt(++qe)&255)<<24,++qe,je=(je&65535)*ge+(((je>>>16)*ge&65535)<<16)&4294967295,je=je<<15|je>>>17,je=(je&65535)*Ae+(((je>>>16)*Ae&65535)<<16)&4294967295,Bt^=je,Bt=Bt<<13|Bt>>>19,ne=(Bt&65535)*5+(((Bt>>>16)*5&65535)<<16)&4294967295,Bt=(ne&65535)+27492+(((ne>>>16)+58964&65535)<<16);switch(je=0,yt){case 3:je^=(U.charCodeAt(qe+2)&255)<<16;case 2:je^=(U.charCodeAt(qe+1)&255)<<8;case 1:je^=U.charCodeAt(qe)&255,je=(je&65535)*ge+(((je>>>16)*ge&65535)<<16)&4294967295,je=je<<15|je>>>17,je=(je&65535)*Ae+(((je>>>16)*Ae&65535)<<16)&4294967295,Bt^=je}return Bt^=U.length,Bt^=Bt>>>16,Bt=(Bt&65535)*2246822507+(((Bt>>>16)*2246822507&65535)<<16)&4294967295,Bt^=Bt>>>13,Bt=(Bt&65535)*3266489909+(((Bt>>>16)*3266489909&65535)<<16)&4294967295,Bt^=Bt>>>16,Bt>>>0}y.exports=D}),ht=M(function(y){function D(U,ct){for(var yt=U.length,Mt=ct^yt,Bt=0,ne;yt>=4;)ne=U.charCodeAt(Bt)&255|(U.charCodeAt(++Bt)&255)<<8|(U.charCodeAt(++Bt)&255)<<16|(U.charCodeAt(++Bt)&255)<<24,ne=(ne&65535)*1540483477+(((ne>>>16)*1540483477&65535)<<16),ne^=ne>>>24,ne=(ne&65535)*1540483477+(((ne>>>16)*1540483477&65535)<<16),Mt=(Mt&65535)*1540483477+(((Mt>>>16)*1540483477&65535)<<16)^ne,yt-=4,++Bt;switch(yt){case 3:Mt^=(U.charCodeAt(Bt+2)&255)<<16;case 2:Mt^=(U.charCodeAt(Bt+1)&255)<<8;case 1:Mt^=U.charCodeAt(Bt)&255,Mt=(Mt&65535)*1540483477+(((Mt>>>16)*1540483477&65535)<<16)}return Mt^=Mt>>>13,Mt=(Mt&65535)*1540483477+(((Mt>>>16)*1540483477&65535)<<16),Mt^=Mt>>>15,Mt>>>0}y.exports=D}),Lt=$,qt=$,ae=ht;Lt.murmur3=qt,Lt.murmur2=ae;var be=function(){this.ids=[],this.positions=[],this.indexed=!1};be.prototype.add=function(y,D,U,ct){this.ids.push(Ze(y)),this.positions.push(D,U,ct)},be.prototype.getPositions=function(y){for(var D=Ze(y),U=0,ct=this.ids.length-1;U<ct;){var yt=U+ct>>1;this.ids[yt]>=D?ct=yt:U=yt+1}for(var Mt=[];this.ids[U]===D;){var Bt=this.positions[3*U],ne=this.positions[3*U+1],ge=this.positions[3*U+2];Mt.push({index:Bt,start:ne,end:ge}),U++}return Mt},be.serialize=function(y,D){var U=new Float64Array(y.ids),ct=new Uint32Array(y.positions);return cr(U,ct,0,U.length-1),D&&D.push(U.buffer,ct.buffer),{ids:U,positions:ct}},be.deserialize=function(y){var D=new be;return D.ids=y.ids,D.positions=y.positions,D.indexed=!0,D};var Be=Math.pow(2,53)-1;function Ze(y){var D=+y;return!isNaN(D)&&D<=Be?D:Lt(String(y))}function cr(y,D,U,ct){for(;U<ct;){for(var yt=y[U+ct>>1],Mt=U-1,Bt=ct+1;;){do Mt++;while(y[Mt]<yt);do Bt--;while(y[Bt]>yt);if(Mt>=Bt)break;ar(y,Mt,Bt),ar(D,3*Mt,3*Bt),ar(D,3*Mt+1,3*Bt+1),ar(D,3*Mt+2,3*Bt+2)}Bt-U<ct-Bt?(cr(y,D,U,Bt),U=Bt+1):(cr(y,D,Bt+1,ct),ct=Bt)}}function ar(y,D,U){var ct=y[D];y[D]=y[U],y[U]=ct}zt("FeaturePositionMap",be);var xr=function(y,D){this.gl=y.gl,this.location=D},Dr=function(y){function D(U,ct){y.call(this,U,ct),this.current=0}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.set=function(U){this.current!==U&&(this.current=U,this.gl.uniform1i(this.location,U))},D}(xr),Qr=function(y){function D(U,ct){y.call(this,U,ct),this.current=0}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.set=function(U){this.current!==U&&(this.current=U,this.gl.uniform1f(this.location,U))},D}(xr),Xr=function(y){function D(U,ct){y.call(this,U,ct),this.current=[0,0]}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.set=function(U){(U[0]!==this.current[0]||U[1]!==this.current[1])&&(this.current=U,this.gl.uniform2f(this.location,U[0],U[1]))},D}(xr),Wr=function(y){function D(U,ct){y.call(this,U,ct),this.current=[0,0,0]}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.set=function(U){(U[0]!==this.current[0]||U[1]!==this.current[1]||U[2]!==this.current[2])&&(this.current=U,this.gl.uniform3f(this.location,U[0],U[1],U[2]))},D}(xr),an=function(y){function D(U,ct){y.call(this,U,ct),this.current=[0,0,0,0]}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.set=function(U){(U[0]!==this.current[0]||U[1]!==this.current[1]||U[2]!==this.current[2]||U[3]!==this.current[3])&&(this.current=U,this.gl.uniform4f(this.location,U[0],U[1],U[2],U[3]))},D}(xr),yn=function(y){function D(U,ct){y.call(this,U,ct),this.current=$i.transparent}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.set=function(U){(U.r!==this.current.r||U.g!==this.current.g||U.b!==this.current.b||U.a!==this.current.a)&&(this.current=U,this.gl.uniform4f(this.location,U.r,U.g,U.b,U.a))},D}(xr),Xn=new Float32Array(16),Hn=function(y){function D(U,ct){y.call(this,U,ct),this.current=Xn}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.set=function(U){if(U[12]!==this.current[12]||U[0]!==this.current[0]){this.current=U,this.gl.uniformMatrix4fv(this.location,!1,U);return}for(var ct=1;ct<16;ct++)if(U[ct]!==this.current[ct]){this.current=U,this.gl.uniformMatrix4fv(this.location,!1,U);break}},D}(xr);function Un(y){return[Y(255*y.r,255*y.g),Y(255*y.b,255*y.a)]}var Wn=function(y,D,U){this.value=y,this.uniformNames=D.map(function(ct){return"u_"+ct}),this.type=U};Wn.prototype.setUniform=function(y,D,U){y.set(U.constantOr(this.value))},Wn.prototype.getBinding=function(y,D,U){return this.type==="color"?new yn(y,D):new Qr(y,D)};var qn=function(y,D){this.uniformNames=D.map(function(U){return"u_"+U}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};qn.prototype.setConstantPatternPositions=function(y,D){this.pixelRatioFrom=D.pixelRatio,this.pixelRatioTo=y.pixelRatio,this.patternFrom=D.tlbr,this.patternTo=y.tlbr},qn.prototype.setUniform=function(y,D,U,ct){var yt=ct==="u_pattern_to"?this.patternTo:ct==="u_pattern_from"?this.patternFrom:ct==="u_pixel_ratio_to"?this.pixelRatioTo:ct==="u_pixel_ratio_from"?this.pixelRatioFrom:null;yt&&y.set(yt)},qn.prototype.getBinding=function(y,D,U){return U.substr(0,9)==="u_pattern"?new an(y,D):new Qr(y,D)};var $n=function(y,D,U,ct){this.expression=y,this.type=U,this.maxValue=0,this.paintVertexAttributes=D.map(function(yt){return{name:"a_"+yt,type:"Float32",components:U==="color"?2:1,offset:0}}),this.paintVertexArray=new ct};$n.prototype.populatePaintArray=function(y,D,U,ct,yt){var Mt=this.paintVertexArray.length,Bt=this.expression.evaluate(new wi(0),D,{},ct,[],yt);this.paintVertexArray.resize(y),this._setPaintValue(Mt,y,Bt)},$n.prototype.updatePaintArray=function(y,D,U,ct){var yt=this.expression.evaluate({zoom:0},U,ct);this._setPaintValue(y,D,yt)},$n.prototype._setPaintValue=function(y,D,U){if(this.type==="color")for(var ct=Un(U),yt=y;yt<D;yt++)this.paintVertexArray.emplace(yt,ct[0],ct[1]);else{for(var Mt=y;Mt<D;Mt++)this.paintVertexArray.emplace(Mt,U);this.maxValue=Math.max(this.maxValue,Math.abs(U))}},$n.prototype.upload=function(y){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=y.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},$n.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ni=function(y,D,U,ct,yt,Mt){this.expression=y,this.uniformNames=D.map(function(Bt){return"u_"+Bt+"_t"}),this.type=U,this.useIntegerZoom=ct,this.zoom=yt,this.maxValue=0,this.paintVertexAttributes=D.map(function(Bt){return{name:"a_"+Bt,type:"Float32",components:U==="color"?4:2,offset:0}}),this.paintVertexArray=new Mt};ni.prototype.populatePaintArray=function(y,D,U,ct,yt){var Mt=this.expression.evaluate(new wi(this.zoom),D,{},ct,[],yt),Bt=this.expression.evaluate(new wi(this.zoom+1),D,{},ct,[],yt),ne=this.paintVertexArray.length;this.paintVertexArray.resize(y),this._setPaintValue(ne,y,Mt,Bt)},ni.prototype.updatePaintArray=function(y,D,U,ct){var yt=this.expression.evaluate({zoom:this.zoom},U,ct),Mt=this.expression.evaluate({zoom:this.zoom+1},U,ct);this._setPaintValue(y,D,yt,Mt)},ni.prototype._setPaintValue=function(y,D,U,ct){if(this.type==="color")for(var yt=Un(U),Mt=Un(ct),Bt=y;Bt<D;Bt++)this.paintVertexArray.emplace(Bt,yt[0],yt[1],Mt[0],Mt[1]);else{for(var ne=y;ne<D;ne++)this.paintVertexArray.emplace(ne,U,ct);this.maxValue=Math.max(this.maxValue,Math.abs(U),Math.abs(ct))}},ni.prototype.upload=function(y){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=y.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ni.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ni.prototype.setUniform=function(y,D){var U=this.useIntegerZoom?Math.floor(D.zoom):D.zoom,ct=f(this.expression.interpolationFactor(U,this.zoom,this.zoom+1),0,1);y.set(ct)},ni.prototype.getBinding=function(y,D,U){return new Qr(y,D)};var xi=function(y,D,U,ct,yt,Mt){this.expression=y,this.type=D,this.useIntegerZoom=U,this.zoom=ct,this.layerId=Mt,this.zoomInPaintVertexArray=new yt,this.zoomOutPaintVertexArray=new yt};xi.prototype.populatePaintArray=function(y,D,U){var ct=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(y),this.zoomOutPaintVertexArray.resize(y),this._setPaintValues(ct,y,D.patterns&&D.patterns[this.layerId],U)},xi.prototype.updatePaintArray=function(y,D,U,ct,yt){this._setPaintValues(y,D,U.patterns&&U.patterns[this.layerId],yt)},xi.prototype._setPaintValues=function(y,D,U,ct){if(!(!ct||!U)){var yt=U.min,Mt=U.mid,Bt=U.max,ne=ct[yt],ge=ct[Mt],Ae=ct[Bt];if(!(!ne||!ge||!Ae))for(var je=y;je<D;je++)this.zoomInPaintVertexArray.emplace(je,ge.tl[0],ge.tl[1],ge.br[0],ge.br[1],ne.tl[0],ne.tl[1],ne.br[0],ne.br[1],ge.pixelRatio,ne.pixelRatio),this.zoomOutPaintVertexArray.emplace(je,ge.tl[0],ge.tl[1],ge.br[0],ge.br[1],Ae.tl[0],Ae.tl[1],Ae.br[0],Ae.br[1],ge.pixelRatio,Ae.pixelRatio)}},xi.prototype.upload=function(y){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=y.createVertexBuffer(this.zoomInPaintVertexArray,nt.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=y.createVertexBuffer(this.zoomOutPaintVertexArray,nt.members,this.expression.isStateDependent))},xi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var vi=function(y,D,U){this.binders={},this._buffers=[];var ct=[];for(var yt in y.paint._values)if(U(yt)){var Mt=y.paint.get(yt);if(!(!(Mt instanceof ba)||!Rs(Mt.property.specification))){var Bt=qi(yt,y.type),ne=Mt.value,ge=Mt.property.specification.type,Ae=Mt.property.useIntegerZoom,je=Mt.property.specification["property-type"],qe=je==="cross-faded"||je==="cross-faded-data-driven";if(ne.kind==="constant")this.binders[yt]=qe?new qn(ne.value,Bt):new Wn(ne.value,Bt,ge),ct.push("/u_"+yt);else if(ne.kind==="source"||qe){var Qe=Ei(yt,ge,"source");this.binders[yt]=qe?new xi(ne,ge,Ae,D,Qe,y.id):new $n(ne,Bt,ge,Qe),ct.push("/a_"+yt)}else{var sr=Ei(yt,ge,"composite");this.binders[yt]=new ni(ne,Bt,ge,Ae,D,sr),ct.push("/z_"+yt)}}}this.cacheKey=ct.sort().join("")};vi.prototype.getMaxValue=function(y){var D=this.binders[y];return D instanceof $n||D instanceof ni?D.maxValue:0},vi.prototype.populatePaintArrays=function(y,D,U,ct,yt){for(var Mt in this.binders){var Bt=this.binders[Mt];(Bt instanceof $n||Bt instanceof ni||Bt instanceof xi)&&Bt.populatePaintArray(y,D,U,ct,yt)}},vi.prototype.setConstantPatternPositions=function(y,D){for(var U in this.binders){var ct=this.binders[U];ct instanceof qn&&ct.setConstantPatternPositions(y,D)}},vi.prototype.updatePaintArrays=function(y,D,U,ct,yt){var Mt=!1;for(var Bt in y)for(var ne=D.getPositions(Bt),ge=0,Ae=ne;ge<Ae.length;ge+=1){var je=Ae[ge],qe=U.feature(je.index);for(var Qe in this.binders){var sr=this.binders[Qe];if((sr instanceof $n||sr instanceof ni||sr instanceof xi)&&sr.expression.isStateDependent===!0){var Sr=ct.paint.get(Qe);sr.expression=Sr.value,sr.updatePaintArray(je.start,je.end,qe,y[Bt],yt),Mt=!0}}}return Mt},vi.prototype.defines=function(){var y=[];for(var D in this.binders){var U=this.binders[D];(U instanceof Wn||U instanceof qn)&&y.push.apply(y,U.uniformNames.map(function(ct){return"#define HAS_UNIFORM_"+ct}))}return y},vi.prototype.getBinderAttributes=function(){var y=[];for(var D in this.binders){var U=this.binders[D];if(U instanceof $n||U instanceof ni)for(var ct=0;ct<U.paintVertexAttributes.length;ct++)y.push(U.paintVertexAttributes[ct].name);else if(U instanceof xi)for(var yt=0;yt<nt.members.length;yt++)y.push(nt.members[yt].name)}return y},vi.prototype.getBinderUniforms=function(){var y=[];for(var D in this.binders){var U=this.binders[D];if(U instanceof Wn||U instanceof qn||U instanceof ni)for(var ct=0,yt=U.uniformNames;ct<yt.length;ct+=1){var Mt=yt[ct];y.push(Mt)}}return y},vi.prototype.getPaintVertexBuffers=function(){return this._buffers},vi.prototype.getUniforms=function(y,D){var U=[];for(var ct in this.binders){var yt=this.binders[ct];if(yt instanceof Wn||yt instanceof qn||yt instanceof ni)for(var Mt=0,Bt=yt.uniformNames;Mt<Bt.length;Mt+=1){var ne=Bt[Mt];if(D[ne]){var ge=yt.getBinding(y,D[ne],ne);U.push({name:ne,property:ct,binding:ge})}}}return U},vi.prototype.setUniforms=function(y,D,U,ct){for(var yt=0,Mt=D;yt<Mt.length;yt+=1){var Bt=Mt[yt],ne=Bt.name,ge=Bt.property,Ae=Bt.binding;this.binders[ge].setUniform(Ae,ct,U.get(ge),ne)}},vi.prototype.updatePaintBuffers=function(y){this._buffers=[];for(var D in this.binders){var U=this.binders[D];if(y&&U instanceof xi){var ct=y.fromScale===2?U.zoomInPaintVertexBuffer:U.zoomOutPaintVertexBuffer;ct&&this._buffers.push(ct)}else(U instanceof $n||U instanceof ni)&&U.paintVertexBuffer&&this._buffers.push(U.paintVertexBuffer)}},vi.prototype.upload=function(y){for(var D in this.binders){var U=this.binders[D];(U instanceof $n||U instanceof ni||U instanceof xi)&&U.upload(y)}this.updatePaintBuffers()},vi.prototype.destroy=function(){for(var y in this.binders){var D=this.binders[y];(D instanceof $n||D instanceof ni||D instanceof xi)&&D.destroy()}};var yi=function(y,D,U){U===void 0&&(U=function(){return!0}),this.programConfigurations={};for(var ct=0,yt=y;ct<yt.length;ct+=1){var Mt=yt[ct];this.programConfigurations[Mt.id]=new vi(Mt,D,U)}this.needsUpload=!1,this._featureMap=new be,this._bufferOffset=0};yi.prototype.populatePaintArrays=function(y,D,U,ct,yt,Mt){for(var Bt in this.programConfigurations)this.programConfigurations[Bt].populatePaintArrays(y,D,ct,yt,Mt);D.id!==void 0&&this._featureMap.add(D.id,U,this._bufferOffset,y),this._bufferOffset=y,this.needsUpload=!0},yi.prototype.updatePaintArrays=function(y,D,U,ct){for(var yt=0,Mt=U;yt<Mt.length;yt+=1){var Bt=Mt[yt];this.needsUpload=this.programConfigurations[Bt.id].updatePaintArrays(y,this._featureMap,D,Bt,ct)||this.needsUpload}},yi.prototype.get=function(y){return this.programConfigurations[y]},yi.prototype.upload=function(y){if(this.needsUpload){for(var D in this.programConfigurations)this.programConfigurations[D].upload(y);this.needsUpload=!1}},yi.prototype.destroy=function(){for(var y in this.programConfigurations)this.programConfigurations[y].destroy()};function qi(y,D){var U={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return U[y]||[y.replace(D+"-","").replace(/-/g,"_")]}function _a(y){var D={"line-pattern":{source:ss,composite:ss},"fill-pattern":{source:ss,composite:ss},"fill-extrusion-pattern":{source:ss,composite:ss}};return D[y]}function Ei(y,D,U){var ct={color:{source:Pf,composite:jc},number:{source:Cf,composite:Pf}},yt=_a(y);return yt&&yt[U]||ct[D][U]}zt("ConstantBinder",Wn),zt("CrossFadedConstantBinder",qn),zt("SourceExpressionBinder",$n),zt("CrossFadedCompositeBinder",xi),zt("CompositeExpressionBinder",ni),zt("ProgramConfiguration",vi,{omit:["_buffers"]}),zt("ProgramConfigurationSet",yi);var Ri=8192,Xi=15,ia=Math.pow(2,Xi-1)-1,fa=-ia-1;function la(y){for(var D=Ri/y.extent,U=y.loadGeometry(),ct=0;ct<U.length;ct++)for(var yt=U[ct],Mt=0;Mt<yt.length;Mt++){var Bt=yt[Mt],ne=Math.round(Bt.x*D),ge=Math.round(Bt.y*D);Bt.x=f(ne,fa,ia),Bt.y=f(ge,fa,ia),(ne<Bt.x||ne>Bt.x+1||ge<Bt.y||ge>Bt.y+1)&&I("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return U}function Yi(y,D){return{type:y.type,id:y.id,properties:y.properties,geometry:D?la(y):[]}}function ya(y,D,U,ct,yt){y.emplaceBack(D*2+(ct+1)/2,U*2+(yt+1)/2)}var zi=function(y){this.zoom=y.zoom,this.overscaling=y.overscaling,this.layers=y.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=y.index,this.hasPattern=!1,this.layoutVertexArray=new Nc,this.indexArray=new Ou,this.segments=new lo,this.programConfigurations=new yi(y.layers,y.zoom),this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};zi.prototype.populate=function(y,D,U){var ct=this.layers[0],yt=[],Mt=null;ct.type==="circle"&&(Mt=ct.layout.get("circle-sort-key"));for(var Bt=0,ne=y;Bt<ne.length;Bt+=1){var ge=ne[Bt],Ae=ge.feature,je=ge.id,qe=ge.index,Qe=ge.sourceLayerIndex,sr=this.layers[0]._featureFilter.needGeometry,Sr=Yi(Ae,sr);if(this.layers[0]._featureFilter.filter(new wi(this.zoom),Sr,U)){var Hr=Mt?Mt.evaluate(Sr,{},U):void 0,dn={id:je,properties:Ae.properties,type:Ae.type,sourceLayerIndex:Qe,index:qe,geometry:sr?Sr.geometry:la(Ae),patterns:{},sortKey:Hr};yt.push(dn)}}Mt&&yt.sort(function(bi,_i){return bi.sortKey-_i.sortKey});for(var un=0,wn=yt;un<wn.length;un+=1){var Sn=wn[un],mn=Sn,Fn=mn.geometry,Zn=mn.index,ti=mn.sourceLayerIndex,ei=y[Zn].feature;this.addFeature(Sn,Fn,Zn,U),D.featureIndex.insert(ei,Fn,Zn,ti,this.index)}},zi.prototype.update=function(y,D,U){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(y,D,this.stateDependentLayers,U)},zi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},zi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zi.prototype.upload=function(y){this.uploaded||(this.layoutVertexBuffer=y.createVertexBuffer(this.layoutVertexArray,ov),this.indexBuffer=y.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(y),this.uploaded=!0},zi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zi.prototype.addFeature=function(y,D,U,ct){for(var yt=0,Mt=D;yt<Mt.length;yt+=1)for(var Bt=Mt[yt],ne=0,ge=Bt;ne<ge.length;ne+=1){var Ae=ge[ne],je=Ae.x,qe=Ae.y;if(!(je<0||je>=Ri||qe<0||qe>=Ri)){var Qe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,y.sortKey),sr=Qe.vertexLength;ya(this.layoutVertexArray,je,qe,-1,-1),ya(this.layoutVertexArray,je,qe,1,-1),ya(this.layoutVertexArray,je,qe,1,1),ya(this.layoutVertexArray,je,qe,-1,1),this.indexArray.emplaceBack(sr,sr+1,sr+2),this.indexArray.emplaceBack(sr,sr+3,sr+2),Qe.vertexLength+=4,Qe.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,y,U,{},ct)},zt("CircleBucket",zi,{omit:["layers"]});function Ki(y,D){for(var U=0;U<y.length;U++)if(qo(D,y[U]))return!0;for(var ct=0;ct<D.length;ct++)if(qo(y,D[ct]))return!0;return!!Bs(y,D)}function Ha(y,D,U){return!!(qo(y,D)||cc(D,y,U))}function uo(y,D){if(y.length===1)return Ns(D,y[0]);for(var U=0;U<D.length;U++)for(var ct=D[U],yt=0;yt<ct.length;yt++)if(qo(y,ct[yt]))return!0;for(var Mt=0;Mt<y.length;Mt++)if(Ns(D,y[Mt]))return!0;for(var Bt=0;Bt<D.length;Bt++)if(Bs(y,D[Bt]))return!0;return!1}function Tl(y,D,U){for(var ct=0;ct<D.length;ct++){var yt=D[ct];if(y.length>=3){for(var Mt=0;Mt<yt.length;Mt++)if(qo(y,yt[Mt]))return!0}if(eu(y,yt,U))return!0}return!1}function eu(y,D,U){if(y.length>1){if(Bs(y,D))return!0;for(var ct=0;ct<D.length;ct++)if(cc(D[ct],y,U))return!0}for(var yt=0;yt<y.length;yt++)if(cc(y[yt],D,U))return!0;return!1}function Bs(y,D){if(y.length===0||D.length===0)return!1;for(var U=0;U<y.length-1;U++)for(var ct=y[U],yt=y[U+1],Mt=0;Mt<D.length-1;Mt++){var Bt=D[Mt],ne=D[Mt+1];if(zu(ct,yt,Bt,ne))return!0}return!1}function zu(y,D,U,ct){return j(y,U,ct)!==j(D,U,ct)&&j(y,D,U)!==j(y,D,ct)}function cc(y,D,U){var ct=U*U;if(D.length===1)return y.distSqr(D[0])<ct;for(var yt=1;yt<D.length;yt++){var Mt=D[yt-1],Bt=D[yt];if(ls(y,Mt,Bt)<ct)return!0}return!1}function ls(y,D,U){var ct=D.distSqr(U);if(ct===0)return y.distSqr(D);var yt=((y.x-D.x)*(U.x-D.x)+(y.y-D.y)*(U.y-D.y))/ct;return yt<0?y.distSqr(D):yt>1?y.distSqr(U):y.distSqr(U.sub(D)._mult(yt)._add(D))}function Ns(y,D){for(var U=!1,ct,yt,Mt,Bt=0;Bt<y.length;Bt++){ct=y[Bt];for(var ne=0,ge=ct.length-1;ne<ct.length;ge=ne++)yt=ct[ne],Mt=ct[ge],yt.y>D.y!=Mt.y>D.y&&D.x<(Mt.x-yt.x)*(D.y-yt.y)/(Mt.y-yt.y)+yt.x&&(U=!U)}return U}function qo(y,D){for(var U=!1,ct=0,yt=y.length-1;ct<y.length;yt=ct++){var Mt=y[ct],Bt=y[yt];Mt.y>D.y!=Bt.y>D.y&&D.x<(Bt.x-Mt.x)*(D.y-Mt.y)/(Bt.y-Mt.y)+Mt.x&&(U=!U)}return U}function fc(y,D,U,ct,yt){for(var Mt=0,Bt=y;Mt<Bt.length;Mt+=1){var ne=Bt[Mt];if(D<=ne.x&&U<=ne.y&&ct>=ne.x&&yt>=ne.y)return!0}var ge=[new r(D,U),new r(D,yt),new r(ct,yt),new r(ct,U)];if(y.length>2)for(var Ae=0,je=ge;Ae<je.length;Ae+=1){var qe=je[Ae];if(qo(y,qe))return!0}for(var Qe=0;Qe<y.length-1;Qe++){var sr=y[Qe],Sr=y[Qe+1];if(zf(sr,Sr,ge))return!0}return!1}function zf(y,D,U){var ct=U[0],yt=U[2];if(y.x<ct.x&&D.x<ct.x||y.x>yt.x&&D.x>yt.x||y.y<ct.y&&D.y<ct.y||y.y>yt.y&&D.y>yt.y)return!1;var Mt=j(y,D,U[0]);return Mt!==j(y,D,U[1])||Mt!==j(y,D,U[2])||Mt!==j(y,D,U[3])}function js(y,D,U){var ct=D.paint.get(y).value;return ct.kind==="constant"?ct.value:U.programConfigurations.get(D.id).getMaxValue(y)}function al(y){return Math.sqrt(y[0]*y[0]+y[1]*y[1])}function Hs(y,D,U,ct,yt){if(!D[0]&&!D[1])return y;var Mt=r.convert(D)._mult(yt);U==="viewport"&&Mt._rotate(-ct);for(var Bt=[],ne=0;ne<y.length;ne++){var ge=y[ne];Bt.push(ge.sub(Mt))}return Bt}var Fh=new sa({"circle-sort-key":new Mi(br.layout_circle["circle-sort-key"])}),xp=new sa({"circle-radius":new Mi(br.paint_circle["circle-radius"]),"circle-color":new Mi(br.paint_circle["circle-color"]),"circle-blur":new Mi(br.paint_circle["circle-blur"]),"circle-opacity":new Mi(br.paint_circle["circle-opacity"]),"circle-translate":new si(br.paint_circle["circle-translate"]),"circle-translate-anchor":new si(br.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new si(br.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new si(br.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mi(br.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mi(br.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mi(br.paint_circle["circle-stroke-opacity"])}),Bh={paint:xp,layout:Fh},Oo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var y=arguments,D=0,U=arguments.length;U--;)D+=y[U]*y[U];return Math.sqrt(D)});function bp(){var y=new Oo(4);return Oo!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}function Nh(y,D,U){var ct=D[0],yt=D[1],Mt=D[2],Bt=D[3],ne=Math.sin(U),ge=Math.cos(U);return y[0]=ct*ge+Mt*ne,y[1]=yt*ge+Bt*ne,y[2]=ct*-ne+Mt*ge,y[3]=yt*-ne+Bt*ge,y}function Ho(){var y=new Oo(9);return Oo!=Float32Array&&(y[1]=0,y[2]=0,y[3]=0,y[5]=0,y[6]=0,y[7]=0),y[0]=1,y[4]=1,y[8]=1,y}function Rf(y,D){var U=Math.sin(D),ct=Math.cos(D);return y[0]=ct,y[1]=U,y[2]=0,y[3]=-U,y[4]=ct,y[5]=0,y[6]=0,y[7]=0,y[8]=1,y}function _p(){var y=new Oo(16);return Oo!=Float32Array&&(y[1]=0,y[2]=0,y[3]=0,y[4]=0,y[6]=0,y[7]=0,y[8]=0,y[9]=0,y[11]=0,y[12]=0,y[13]=0,y[14]=0),y[0]=1,y[5]=1,y[10]=1,y[15]=1,y}function wp(y){var D=new Oo(16);return D[0]=y[0],D[1]=y[1],D[2]=y[2],D[3]=y[3],D[4]=y[4],D[5]=y[5],D[6]=y[6],D[7]=y[7],D[8]=y[8],D[9]=y[9],D[10]=y[10],D[11]=y[11],D[12]=y[12],D[13]=y[13],D[14]=y[14],D[15]=y[15],D}function hc(y){return y[0]=1,y[1]=0,y[2]=0,y[3]=0,y[4]=0,y[5]=1,y[6]=0,y[7]=0,y[8]=0,y[9]=0,y[10]=1,y[11]=0,y[12]=0,y[13]=0,y[14]=0,y[15]=1,y}function jh(y,D){var U=D[0],ct=D[1],yt=D[2],Mt=D[3],Bt=D[4],ne=D[5],ge=D[6],Ae=D[7],je=D[8],qe=D[9],Qe=D[10],sr=D[11],Sr=D[12],Hr=D[13],dn=D[14],un=D[15],wn=U*ne-ct*Bt,Sn=U*ge-yt*Bt,mn=U*Ae-Mt*Bt,Fn=ct*ge-yt*ne,Zn=ct*Ae-Mt*ne,ti=yt*Ae-Mt*ge,ei=je*Hr-qe*Sr,bi=je*dn-Qe*Sr,_i=je*un-sr*Sr,Ai=qe*dn-Qe*Hr,Pi=qe*un-sr*Hr,Fi=Qe*un-sr*dn,Si=wn*Fi-Sn*Pi+mn*Ai+Fn*_i-Zn*bi+ti*ei;return Si?(Si=1/Si,y[0]=(ne*Fi-ge*Pi+Ae*Ai)*Si,y[1]=(yt*Pi-ct*Fi-Mt*Ai)*Si,y[2]=(Hr*ti-dn*Zn+un*Fn)*Si,y[3]=(Qe*Zn-qe*ti-sr*Fn)*Si,y[4]=(ge*_i-Bt*Fi-Ae*bi)*Si,y[5]=(U*Fi-yt*_i+Mt*bi)*Si,y[6]=(dn*mn-Sr*ti-un*Sn)*Si,y[7]=(je*ti-Qe*mn+sr*Sn)*Si,y[8]=(Bt*Pi-ne*_i+Ae*ei)*Si,y[9]=(ct*_i-U*Pi-Mt*ei)*Si,y[10]=(Sr*Zn-Hr*mn+un*wn)*Si,y[11]=(qe*mn-je*Zn-sr*wn)*Si,y[12]=(ne*bi-Bt*Ai-ge*ei)*Si,y[13]=(U*Ai-ct*bi+yt*ei)*Si,y[14]=(Hr*Sn-Sr*Fn-dn*wn)*Si,y[15]=(je*Fn-qe*Sn+Qe*wn)*Si,y):null}function Va(y,D,U){var ct=D[0],yt=D[1],Mt=D[2],Bt=D[3],ne=D[4],ge=D[5],Ae=D[6],je=D[7],qe=D[8],Qe=D[9],sr=D[10],Sr=D[11],Hr=D[12],dn=D[13],un=D[14],wn=D[15],Sn=U[0],mn=U[1],Fn=U[2],Zn=U[3];return y[0]=Sn*ct+mn*ne+Fn*qe+Zn*Hr,y[1]=Sn*yt+mn*ge+Fn*Qe+Zn*dn,y[2]=Sn*Mt+mn*Ae+Fn*sr+Zn*un,y[3]=Sn*Bt+mn*je+Fn*Sr+Zn*wn,Sn=U[4],mn=U[5],Fn=U[6],Zn=U[7],y[4]=Sn*ct+mn*ne+Fn*qe+Zn*Hr,y[5]=Sn*yt+mn*ge+Fn*Qe+Zn*dn,y[6]=Sn*Mt+mn*Ae+Fn*sr+Zn*un,y[7]=Sn*Bt+mn*je+Fn*Sr+Zn*wn,Sn=U[8],mn=U[9],Fn=U[10],Zn=U[11],y[8]=Sn*ct+mn*ne+Fn*qe+Zn*Hr,y[9]=Sn*yt+mn*ge+Fn*Qe+Zn*dn,y[10]=Sn*Mt+mn*Ae+Fn*sr+Zn*un,y[11]=Sn*Bt+mn*je+Fn*Sr+Zn*wn,Sn=U[12],mn=U[13],Fn=U[14],Zn=U[15],y[12]=Sn*ct+mn*ne+Fn*qe+Zn*Hr,y[13]=Sn*yt+mn*ge+Fn*Qe+Zn*dn,y[14]=Sn*Mt+mn*Ae+Fn*sr+Zn*un,y[15]=Sn*Bt+mn*je+Fn*Sr+Zn*wn,y}function ws(y,D,U){var ct=U[0],yt=U[1],Mt=U[2],Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un;return D===y?(y[12]=D[0]*ct+D[4]*yt+D[8]*Mt+D[12],y[13]=D[1]*ct+D[5]*yt+D[9]*Mt+D[13],y[14]=D[2]*ct+D[6]*yt+D[10]*Mt+D[14],y[15]=D[3]*ct+D[7]*yt+D[11]*Mt+D[15]):(Bt=D[0],ne=D[1],ge=D[2],Ae=D[3],je=D[4],qe=D[5],Qe=D[6],sr=D[7],Sr=D[8],Hr=D[9],dn=D[10],un=D[11],y[0]=Bt,y[1]=ne,y[2]=ge,y[3]=Ae,y[4]=je,y[5]=qe,y[6]=Qe,y[7]=sr,y[8]=Sr,y[9]=Hr,y[10]=dn,y[11]=un,y[12]=Bt*ct+je*yt+Sr*Mt+D[12],y[13]=ne*ct+qe*yt+Hr*Mt+D[13],y[14]=ge*ct+Qe*yt+dn*Mt+D[14],y[15]=Ae*ct+sr*yt+un*Mt+D[15]),y}function ks(y,D,U){var ct=U[0],yt=U[1],Mt=U[2];return y[0]=D[0]*ct,y[1]=D[1]*ct,y[2]=D[2]*ct,y[3]=D[3]*ct,y[4]=D[4]*yt,y[5]=D[5]*yt,y[6]=D[6]*yt,y[7]=D[7]*yt,y[8]=D[8]*Mt,y[9]=D[9]*Mt,y[10]=D[10]*Mt,y[11]=D[11]*Mt,y[12]=D[12],y[13]=D[13],y[14]=D[14],y[15]=D[15],y}function kp(y,D,U){var ct=Math.sin(U),yt=Math.cos(U),Mt=D[4],Bt=D[5],ne=D[6],ge=D[7],Ae=D[8],je=D[9],qe=D[10],Qe=D[11];return D!==y&&(y[0]=D[0],y[1]=D[1],y[2]=D[2],y[3]=D[3],y[12]=D[12],y[13]=D[13],y[14]=D[14],y[15]=D[15]),y[4]=Mt*yt+Ae*ct,y[5]=Bt*yt+je*ct,y[6]=ne*yt+qe*ct,y[7]=ge*yt+Qe*ct,y[8]=Ae*yt-Mt*ct,y[9]=je*yt-Bt*ct,y[10]=qe*yt-ne*ct,y[11]=Qe*yt-ge*ct,y}function zd(y,D,U){var ct=Math.sin(U),yt=Math.cos(U),Mt=D[0],Bt=D[1],ne=D[2],ge=D[3],Ae=D[4],je=D[5],qe=D[6],Qe=D[7];return D!==y&&(y[8]=D[8],y[9]=D[9],y[10]=D[10],y[11]=D[11],y[12]=D[12],y[13]=D[13],y[14]=D[14],y[15]=D[15]),y[0]=Mt*yt+Ae*ct,y[1]=Bt*yt+je*ct,y[2]=ne*yt+qe*ct,y[3]=ge*yt+Qe*ct,y[4]=Ae*yt-Mt*ct,y[5]=je*yt-Bt*ct,y[6]=qe*yt-ne*ct,y[7]=Qe*yt-ge*ct,y}function fy(y,D,U,ct,yt){var Mt=1/Math.tan(D/2),Bt;return y[0]=Mt/U,y[1]=0,y[2]=0,y[3]=0,y[4]=0,y[5]=Mt,y[6]=0,y[7]=0,y[8]=0,y[9]=0,y[11]=-1,y[12]=0,y[13]=0,y[15]=0,yt!=null&&yt!==1/0?(Bt=1/(ct-yt),y[10]=(yt+ct)*Bt,y[14]=2*yt*ct*Bt):(y[10]=-1,y[14]=-2*ct),y}function hy(y,D,U,ct,yt,Mt,Bt){var ne=1/(D-U),ge=1/(ct-yt),Ae=1/(Mt-Bt);return y[0]=-2*ne,y[1]=0,y[2]=0,y[3]=0,y[4]=0,y[5]=-2*ge,y[6]=0,y[7]=0,y[8]=0,y[9]=0,y[10]=2*Ae,y[11]=0,y[12]=(D+U)*ne,y[13]=(yt+ct)*ge,y[14]=(Bt+Mt)*Ae,y[15]=1,y}var Hh=Va;function py(){var y=new Oo(3);return Oo!=Float32Array&&(y[0]=0,y[1]=0,y[2]=0),y}function Tp(y){var D=new Oo(3);return D[0]=y[0],D[1]=y[1],D[2]=y[2],D}function dy(y,D,U){return y[0]=D[0]+U[0],y[1]=D[1]+U[1],y[2]=D[2]+U[2],y}function vy(y,D,U){return y[0]=D[0]-U[0],y[1]=D[1]-U[1],y[2]=D[2]-U[2],y}function Rd(y,D,U){return y[0]=D[0]*U,y[1]=D[1]*U,y[2]=D[2]*U,y}function g5(y,D){var U=D[0],ct=D[1],yt=D[2],Mt=U*U+ct*ct+yt*yt;return Mt>0&&(Mt=1/Math.sqrt(Mt)),y[0]=D[0]*Mt,y[1]=D[1]*Mt,y[2]=D[2]*Mt,y}function y5(y,D){return y[0]*D[0]+y[1]*D[1]+y[2]*D[2]}function m5(y,D,U){var ct=D[0],yt=D[1],Mt=D[2],Bt=U[0],ne=U[1],ge=U[2];return y[0]=yt*ge-Mt*ne,y[1]=Mt*Bt-ct*ge,y[2]=ct*ne-yt*Bt,y}function x5(y,D,U){var ct=D[0],yt=D[1],Mt=D[2];return y[0]=ct*U[0]+yt*U[3]+Mt*U[6],y[1]=ct*U[1]+yt*U[4]+Mt*U[7],y[2]=ct*U[2]+yt*U[5]+Mt*U[8],y}var b5=vy;(function(){var y=py();return function(D,U,ct,yt,Mt,Bt){var ne,ge;for(U||(U=3),ct||(ct=0),yt?ge=Math.min(yt*U+ct,D.length):ge=D.length,ne=ct;ne<ge;ne+=U)y[0]=D[ne],y[1]=D[ne+1],y[2]=D[ne+2],Mt(y,y,Bt),D[ne]=y[0],D[ne+1]=y[1],D[ne+2]=y[2];return D}})();function _5(){var y=new Oo(4);return Oo!=Float32Array&&(y[0]=0,y[1]=0,y[2]=0,y[3]=0),y}function w5(y,D,U){return y[0]=D[0]*U,y[1]=D[1]*U,y[2]=D[2]*U,y[3]=D[3]*U,y}function k5(y,D){return y[0]*D[0]+y[1]*D[1]+y[2]*D[2]+y[3]*D[3]}function sv(y,D,U){var ct=D[0],yt=D[1],Mt=D[2],Bt=D[3];return y[0]=U[0]*ct+U[4]*yt+U[8]*Mt+U[12]*Bt,y[1]=U[1]*ct+U[5]*yt+U[9]*Mt+U[13]*Bt,y[2]=U[2]*ct+U[6]*yt+U[10]*Mt+U[14]*Bt,y[3]=U[3]*ct+U[7]*yt+U[11]*Mt+U[15]*Bt,y}(function(){var y=_5();return function(D,U,ct,yt,Mt,Bt){var ne,ge;for(U||(U=4),ct||(ct=0),yt?ge=Math.min(yt*U+ct,D.length):ge=D.length,ne=ct;ne<ge;ne+=U)y[0]=D[ne],y[1]=D[ne+1],y[2]=D[ne+2],y[3]=D[ne+3],Mt(y,y,Bt),D[ne]=y[0],D[ne+1]=y[1],D[ne+2]=y[2],D[ne+3]=y[3];return D}})();function T5(){var y=new Oo(2);return Oo!=Float32Array&&(y[0]=0,y[1]=0),y}function M5(y){var D=y[0],U=y[1];return D*D+U*U}var A5=M5;(function(){var y=T5();return function(D,U,ct,yt,Mt,Bt){var ne,ge;for(U||(U=2),ct||(ct=0),yt?ge=Math.min(yt*U+ct,D.length):ge=D.length,ne=ct;ne<ge;ne+=U)y[0]=D[ne],y[1]=D[ne+1],Mt(y,y,Bt),D[ne]=y[0],D[ne+1]=y[1];return D}})();var S5=function(y){function D(U){y.call(this,U,Bh)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(U){return new zi(U)},D.prototype.queryRadius=function(U){var ct=U;return js("circle-radius",this,ct)+js("circle-stroke-width",this,ct)+al(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(U,ct,yt,Mt,Bt,ne,ge,Ae){for(var je=Hs(U,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ne.angle,ge),qe=this.paint.get("circle-radius").evaluate(ct,yt),Qe=this.paint.get("circle-stroke-width").evaluate(ct,yt),sr=qe+Qe,Sr=this.paint.get("circle-pitch-alignment")==="map",Hr=Sr?je:E5(je,Ae),dn=Sr?sr*ge:sr,un=0,wn=Mt;un<wn.length;un+=1)for(var Sn=wn[un],mn=0,Fn=Sn;mn<Fn.length;mn+=1){var Zn=Fn[mn],ti=Sr?Zn:U2(Zn,Ae),ei=dn,bi=sv([],[Zn.x,Zn.y,0,1],Ae);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ei*=bi[3]/ne.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ei*=ne.cameraToCenterDistance/bi[3]),Ha(Hr,ti,ei))return!0}return!1},D}(ja);function U2(y,D){var U=sv([],[y.x,y.y,0,1],D);return new r(U[0]/U[3],U[1]/U[3])}function E5(y,D){return y.map(function(U){return U2(U,D)})}var q2=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D}(zi);zt("HeatmapBucket",q2,{omit:["layers"]});function gy(y,D,U,ct){var yt=D.width,Mt=D.height;if(!ct)ct=new Uint8Array(yt*Mt*U);else if(ct instanceof Uint8ClampedArray)ct=new Uint8Array(ct.buffer);else if(ct.length!==yt*Mt*U)throw new RangeError("mismatched image size");return y.width=yt,y.height=Mt,y.data=ct,y}function W2(y,D,U){var ct=D.width,yt=D.height;if(!(ct===y.width&&yt===y.height)){var Mt=gy({},{width:ct,height:yt},U);yy(y,Mt,{x:0,y:0},{x:0,y:0},{width:Math.min(y.width,ct),height:Math.min(y.height,yt)},U),y.width=ct,y.height=yt,y.data=Mt.data}}function yy(y,D,U,ct,yt,Mt){if(yt.width===0||yt.height===0)return D;if(yt.width>y.width||yt.height>y.height||U.x>y.width-yt.width||U.y>y.height-yt.height)throw new RangeError("out of range source coordinates for image copy");if(yt.width>D.width||yt.height>D.height||ct.x>D.width-yt.width||ct.y>D.height-yt.height)throw new RangeError("out of range destination coordinates for image copy");for(var Bt=y.data,ne=D.data,ge=0;ge<yt.height;ge++)for(var Ae=((U.y+ge)*y.width+U.x)*Mt,je=((ct.y+ge)*D.width+ct.x)*Mt,qe=0;qe<yt.width*Mt;qe++)ne[je+qe]=Bt[Ae+qe];return D}var Vh=function(y,D){gy(this,y,1,D)};Vh.prototype.resize=function(y){W2(this,y,1)},Vh.prototype.clone=function(){return new Vh({width:this.width,height:this.height},new Uint8Array(this.data))},Vh.copy=function(y,D,U,ct,yt){yy(y,D,U,ct,yt,1)};var Ts=function(y,D){gy(this,y,4,D)};Ts.prototype.resize=function(y){W2(this,y,4)},Ts.prototype.replace=function(y,D){D?this.data.set(y):y instanceof Uint8ClampedArray?this.data=new Uint8Array(y.buffer):this.data=y},Ts.prototype.clone=function(){return new Ts({width:this.width,height:this.height},new Uint8Array(this.data))},Ts.copy=function(y,D,U,ct,yt){yy(y,D,U,ct,yt,4)},zt("AlphaImage",Vh),zt("RGBAImage",Ts);var L5=new sa({"heatmap-radius":new Mi(br.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mi(br.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new si(br.paint_heatmap["heatmap-intensity"]),"heatmap-color":new so(br.paint_heatmap["heatmap-color"]),"heatmap-opacity":new si(br.paint_heatmap["heatmap-opacity"])}),P5={paint:L5};function G2(y){var D={},U=y.resolution||256,ct=y.clips?y.clips.length:1,yt=y.image||new Ts({width:U,height:ct}),Mt=function(wn,Sn,mn){D[y.evaluationKey]=mn;var Fn=y.expression.evaluate(D);yt.data[wn+Sn+0]=Math.floor(Fn.r*255/Fn.a),yt.data[wn+Sn+1]=Math.floor(Fn.g*255/Fn.a),yt.data[wn+Sn+2]=Math.floor(Fn.b*255/Fn.a),yt.data[wn+Sn+3]=Math.floor(Fn.a*255)};if(y.clips)for(var Bt=0,ne=0;Bt<ct;++Bt,ne+=U*4)for(var ge=0,Ae=0;ge<U;ge++,Ae+=4){var je=ge/(U-1),qe=y.clips[Bt],Qe=qe.start,sr=qe.end,Sr=Qe*(1-je)+sr*je;Mt(ne,Ae,Sr)}else for(var Hr=0,dn=0;Hr<U;Hr++,dn+=4){var un=Hr/(U-1);Mt(0,dn,un)}return yt}var C5=function(y){function D(U){y.call(this,U,P5),this._updateColorRamp()}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(U){return new q2(U)},D.prototype._handleSpecialPaintPropertyUpdate=function(U){U==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var U=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=G2({expression:U,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(ja),I5=new sa({"hillshade-illumination-direction":new si(br.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new si(br.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new si(br.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new si(br.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new si(br.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new si(br.paint_hillshade["hillshade-accent-color"])}),O5={paint:I5},z5=function(y){function D(U){y.call(this,U,O5)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(ja),R5=Ea([{name:"a_pos",components:2,type:"Int16"}],4),D5=R5.members,my=lv,F5=lv;function lv(y,D,U){U=U||2;var ct=D&&D.length,yt=ct?D[0]*U:y.length,Mt=Z2(y,0,yt,U,!0),Bt=[];if(!Mt||Mt.next===Mt.prev)return Bt;var ne,ge,Ae,je,qe,Qe,sr;if(ct&&(Mt=V5(y,D,Mt,U)),y.length>80*U){ne=Ae=y[0],ge=je=y[1];for(var Sr=U;Sr<yt;Sr+=U)qe=y[Sr],Qe=y[Sr+1],qe<ne&&(ne=qe),Qe<ge&&(ge=Qe),qe>Ae&&(Ae=qe),Qe>je&&(je=Qe);sr=Math.max(Ae-ne,je-ge),sr=sr!==0?1/sr:0}return Dd(Mt,Bt,U,ne,ge,sr),Bt}function Z2(y,D,U,ct,yt){var Mt,Bt;if(yt===_y(y,D,U,ct)>0)for(Mt=D;Mt<U;Mt+=ct)Bt=J2(Mt,y[Mt],y[Mt+1],Bt);else for(Mt=U-ct;Mt>=D;Mt-=ct)Bt=J2(Mt,y[Mt],y[Mt+1],Bt);return Bt&&uv(Bt,Bt.next)&&(Bd(Bt),Bt=Bt.next),Bt}function Df(y,D){if(!y)return y;D||(D=y);var U=y,ct;do if(ct=!1,!U.steiner&&(uv(U,U.next)||co(U.prev,U,U.next)===0)){if(Bd(U),U=D=U.prev,U===U.next)break;ct=!0}else U=U.next;while(ct||U!==D);return D}function Dd(y,D,U,ct,yt,Mt,Bt){if(y){!Bt&&Mt&&G5(y,ct,yt,Mt);for(var ne=y,ge,Ae;y.prev!==y.next;){if(ge=y.prev,Ae=y.next,Mt?N5(y,ct,yt,Mt):B5(y)){D.push(ge.i/U),D.push(y.i/U),D.push(Ae.i/U),Bd(y),y=Ae.next,ne=Ae.next;continue}if(y=Ae,y===ne){Bt?Bt===1?(y=j5(Df(y),D,U),Dd(y,D,U,ct,yt,Mt,2)):Bt===2&&H5(y,D,U,ct,yt,Mt):Dd(Df(y),D,U,ct,yt,Mt,1);break}}}}function B5(y){var D=y.prev,U=y,ct=y.next;if(co(D,U,ct)>=0)return!1;for(var yt=y.next.next;yt!==y.prev;){if(Mp(D.x,D.y,U.x,U.y,ct.x,ct.y,yt.x,yt.y)&&co(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function N5(y,D,U,ct){var yt=y.prev,Mt=y,Bt=y.next;if(co(yt,Mt,Bt)>=0)return!1;for(var ne=yt.x<Mt.x?yt.x<Bt.x?yt.x:Bt.x:Mt.x<Bt.x?Mt.x:Bt.x,ge=yt.y<Mt.y?yt.y<Bt.y?yt.y:Bt.y:Mt.y<Bt.y?Mt.y:Bt.y,Ae=yt.x>Mt.x?yt.x>Bt.x?yt.x:Bt.x:Mt.x>Bt.x?Mt.x:Bt.x,je=yt.y>Mt.y?yt.y>Bt.y?yt.y:Bt.y:Mt.y>Bt.y?Mt.y:Bt.y,qe=xy(ne,ge,D,U,ct),Qe=xy(Ae,je,D,U,ct),sr=y.prevZ,Sr=y.nextZ;sr&&sr.z>=qe&&Sr&&Sr.z<=Qe;){if(sr!==y.prev&&sr!==y.next&&Mp(yt.x,yt.y,Mt.x,Mt.y,Bt.x,Bt.y,sr.x,sr.y)&&co(sr.prev,sr,sr.next)>=0||(sr=sr.prevZ,Sr!==y.prev&&Sr!==y.next&&Mp(yt.x,yt.y,Mt.x,Mt.y,Bt.x,Bt.y,Sr.x,Sr.y)&&co(Sr.prev,Sr,Sr.next)>=0))return!1;Sr=Sr.nextZ}for(;sr&&sr.z>=qe;){if(sr!==y.prev&&sr!==y.next&&Mp(yt.x,yt.y,Mt.x,Mt.y,Bt.x,Bt.y,sr.x,sr.y)&&co(sr.prev,sr,sr.next)>=0)return!1;sr=sr.prevZ}for(;Sr&&Sr.z<=Qe;){if(Sr!==y.prev&&Sr!==y.next&&Mp(yt.x,yt.y,Mt.x,Mt.y,Bt.x,Bt.y,Sr.x,Sr.y)&&co(Sr.prev,Sr,Sr.next)>=0)return!1;Sr=Sr.nextZ}return!0}function j5(y,D,U){var ct=y;do{var yt=ct.prev,Mt=ct.next.next;!uv(yt,Mt)&&Y2(yt,ct,ct.next,Mt)&&Fd(yt,Mt)&&Fd(Mt,yt)&&(D.push(yt.i/U),D.push(ct.i/U),D.push(Mt.i/U),Bd(ct),Bd(ct.next),ct=y=Mt),ct=ct.next}while(ct!==y);return Df(ct)}function H5(y,D,U,ct,yt,Mt){var Bt=y;do{for(var ne=Bt.next.next;ne!==Bt.prev;){if(Bt.i!==ne.i&&K5(Bt,ne)){var ge=K2(Bt,ne);Bt=Df(Bt,Bt.next),ge=Df(ge,ge.next),Dd(Bt,D,U,ct,yt,Mt),Dd(ge,D,U,ct,yt,Mt);return}ne=ne.next}Bt=Bt.next}while(Bt!==y)}function V5(y,D,U,ct){var yt=[],Mt,Bt,ne,ge,Ae;for(Mt=0,Bt=D.length;Mt<Bt;Mt++)ne=D[Mt]*ct,ge=Mt<Bt-1?D[Mt+1]*ct:y.length,Ae=Z2(y,ne,ge,ct,!1),Ae===Ae.next&&(Ae.steiner=!0),yt.push(Y5(Ae));for(yt.sort(X5),Mt=0;Mt<yt.length;Mt++)U5(yt[Mt],U),U=Df(U,U.next);return U}function X5(y,D){return y.x-D.x}function U5(y,D){if(D=q5(y,D),D){var U=K2(D,y);Df(D,D.next),Df(U,U.next)}}function q5(y,D){var U=D,ct=y.x,yt=y.y,Mt=-1/0,Bt;do{if(yt<=U.y&&yt>=U.next.y&&U.next.y!==U.y){var ne=U.x+(yt-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(ne<=ct&&ne>Mt){if(Mt=ne,ne===ct){if(yt===U.y)return U;if(yt===U.next.y)return U.next}Bt=U.x<U.next.x?U:U.next}}U=U.next}while(U!==D);if(!Bt)return null;if(ct===Mt)return Bt;var ge=Bt,Ae=Bt.x,je=Bt.y,qe=1/0,Qe;U=Bt;do ct>=U.x&&U.x>=Ae&&ct!==U.x&&Mp(yt<je?ct:Mt,yt,Ae,je,yt<je?Mt:ct,yt,U.x,U.y)&&(Qe=Math.abs(yt-U.y)/(ct-U.x),Fd(U,y)&&(Qe<qe||Qe===qe&&(U.x>Bt.x||U.x===Bt.x&&W5(Bt,U)))&&(Bt=U,qe=Qe)),U=U.next;while(U!==ge);return Bt}function W5(y,D){return co(y.prev,y,D.prev)<0&&co(D.next,y,y.next)<0}function G5(y,D,U,ct){var yt=y;do yt.z===null&&(yt.z=xy(yt.x,yt.y,D,U,ct)),yt.prevZ=yt.prev,yt.nextZ=yt.next,yt=yt.next;while(yt!==y);yt.prevZ.nextZ=null,yt.prevZ=null,Z5(yt)}function Z5(y){var D,U,ct,yt,Mt,Bt,ne,ge,Ae=1;do{for(U=y,y=null,Mt=null,Bt=0;U;){for(Bt++,ct=U,ne=0,D=0;D<Ae&&(ne++,ct=ct.nextZ,!!ct);D++);for(ge=Ae;ne>0||ge>0&&ct;)ne!==0&&(ge===0||!ct||U.z<=ct.z)?(yt=U,U=U.nextZ,ne--):(yt=ct,ct=ct.nextZ,ge--),Mt?Mt.nextZ=yt:y=yt,yt.prevZ=Mt,Mt=yt;U=ct}Mt.nextZ=null,Ae*=2}while(Bt>1);return y}function xy(y,D,U,ct,yt){return y=32767*(y-U)*yt,D=32767*(D-ct)*yt,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,y|D<<1}function Y5(y){var D=y,U=y;do(D.x<U.x||D.x===U.x&&D.y<U.y)&&(U=D),D=D.next;while(D!==y);return U}function Mp(y,D,U,ct,yt,Mt,Bt,ne){return(yt-Bt)*(D-ne)-(y-Bt)*(Mt-ne)>=0&&(y-Bt)*(ct-ne)-(U-Bt)*(D-ne)>=0&&(U-Bt)*(Mt-ne)-(yt-Bt)*(ct-ne)>=0}function K5(y,D){return y.next.i!==D.i&&y.prev.i!==D.i&&!J5(y,D)&&(Fd(y,D)&&Fd(D,y)&&Q5(y,D)&&(co(y.prev,y,D.prev)||co(y,D.prev,D))||uv(y,D)&&co(y.prev,y,y.next)>0&&co(D.prev,D,D.next)>0)}function co(y,D,U){return(D.y-y.y)*(U.x-D.x)-(D.x-y.x)*(U.y-D.y)}function uv(y,D){return y.x===D.x&&y.y===D.y}function Y2(y,D,U,ct){var yt=fv(co(y,D,U)),Mt=fv(co(y,D,ct)),Bt=fv(co(U,ct,y)),ne=fv(co(U,ct,D));return!!(yt!==Mt&&Bt!==ne||yt===0&&cv(y,U,D)||Mt===0&&cv(y,ct,D)||Bt===0&&cv(U,y,ct)||ne===0&&cv(U,D,ct))}function cv(y,D,U){return D.x<=Math.max(y.x,U.x)&&D.x>=Math.min(y.x,U.x)&&D.y<=Math.max(y.y,U.y)&&D.y>=Math.min(y.y,U.y)}function fv(y){return y>0?1:y<0?-1:0}function J5(y,D){var U=y;do{if(U.i!==y.i&&U.next.i!==y.i&&U.i!==D.i&&U.next.i!==D.i&&Y2(U,U.next,y,D))return!0;U=U.next}while(U!==y);return!1}function Fd(y,D){return co(y.prev,y,y.next)<0?co(y,D,y.next)>=0&&co(y,y.prev,D)>=0:co(y,D,y.prev)<0||co(y,y.next,D)<0}function Q5(y,D){var U=y,ct=!1,yt=(y.x+D.x)/2,Mt=(y.y+D.y)/2;do U.y>Mt!=U.next.y>Mt&&U.next.y!==U.y&&yt<(U.next.x-U.x)*(Mt-U.y)/(U.next.y-U.y)+U.x&&(ct=!ct),U=U.next;while(U!==y);return ct}function K2(y,D){var U=new by(y.i,y.x,y.y),ct=new by(D.i,D.x,D.y),yt=y.next,Mt=D.prev;return y.next=D,D.prev=y,U.next=yt,yt.prev=U,ct.next=U,U.prev=ct,Mt.next=ct,ct.prev=Mt,ct}function J2(y,D,U,ct){var yt=new by(y,D,U);return ct?(yt.next=ct.next,yt.prev=ct,ct.next.prev=yt,ct.next=yt):(yt.prev=yt,yt.next=yt),yt}function Bd(y){y.next.prev=y.prev,y.prev.next=y.next,y.prevZ&&(y.prevZ.nextZ=y.nextZ),y.nextZ&&(y.nextZ.prevZ=y.prevZ)}function by(y,D,U){this.i=y,this.x=D,this.y=U,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}lv.deviation=function(y,D,U,ct){var yt=D&&D.length,Mt=yt?D[0]*U:y.length,Bt=Math.abs(_y(y,0,Mt,U));if(yt)for(var ne=0,ge=D.length;ne<ge;ne++){var Ae=D[ne]*U,je=ne<ge-1?D[ne+1]*U:y.length;Bt-=Math.abs(_y(y,Ae,je,U))}var qe=0;for(ne=0;ne<ct.length;ne+=3){var Qe=ct[ne]*U,sr=ct[ne+1]*U,Sr=ct[ne+2]*U;qe+=Math.abs((y[Qe]-y[Sr])*(y[sr+1]-y[Qe+1])-(y[Qe]-y[sr])*(y[Sr+1]-y[Qe+1]))}return Bt===0&&qe===0?0:Math.abs((qe-Bt)/Bt)};function _y(y,D,U,ct){for(var yt=0,Mt=D,Bt=U-ct;Mt<U;Mt+=ct)yt+=(y[Bt]-y[Mt])*(y[Mt+1]+y[Bt+1]),Bt=Mt;return yt}lv.flatten=function(y){for(var D=y[0][0].length,U={vertices:[],holes:[],dimensions:D},ct=0,yt=0;yt<y.length;yt++){for(var Mt=0;Mt<y[yt].length;Mt++)for(var Bt=0;Bt<D;Bt++)U.vertices.push(y[yt][Mt][Bt]);yt>0&&(ct+=y[yt-1].length,U.holes.push(ct))}return U},my.default=F5;function $5(y,D,U,ct,yt){Q2(y,D,U||0,ct||y.length-1,yt||t6)}function Q2(y,D,U,ct,yt){for(;ct>U;){if(ct-U>600){var Mt=ct-U+1,Bt=D-U+1,ne=Math.log(Mt),ge=.5*Math.exp(2*ne/3),Ae=.5*Math.sqrt(ne*ge*(Mt-ge)/Mt)*(Bt-Mt/2<0?-1:1),je=Math.max(U,Math.floor(D-Bt*ge/Mt+Ae)),qe=Math.min(ct,Math.floor(D+(Mt-Bt)*ge/Mt+Ae));Q2(y,D,je,qe,yt)}var Qe=y[D],sr=U,Sr=ct;for(Nd(y,U,D),yt(y[ct],Qe)>0&&Nd(y,U,ct);sr<Sr;){for(Nd(y,sr,Sr),sr++,Sr--;yt(y[sr],Qe)<0;)sr++;for(;yt(y[Sr],Qe)>0;)Sr--}yt(y[U],Qe)===0?Nd(y,U,Sr):(Sr++,Nd(y,Sr,ct)),Sr<=D&&(U=Sr+1),D<=Sr&&(ct=Sr-1)}}function Nd(y,D,U){var ct=y[D];y[D]=y[U],y[U]=ct}function t6(y,D){return y<D?-1:y>D?1:0}function wy(y,D){var U=y.length;if(U<=1)return[y];for(var ct=[],yt,Mt,Bt=0;Bt<U;Bt++){var ne=V(y[Bt]);ne!==0&&(y[Bt].area=Math.abs(ne),Mt===void 0&&(Mt=ne<0),Mt===ne<0?(yt&&ct.push(yt),yt=[y[Bt]]):yt.push(y[Bt]))}if(yt&&ct.push(yt),D>1)for(var ge=0;ge<ct.length;ge++)ct[ge].length<=D||($5(ct[ge],D,1,ct[ge].length-1,e6),ct[ge]=ct[ge].slice(0,D));return ct}function e6(y,D){return D.area-y.area}function ky(y,D,U){for(var ct=U.patternDependencies,yt=!1,Mt=0,Bt=D;Mt<Bt.length;Mt+=1){var ne=Bt[Mt],ge=ne.paint.get(y+"-pattern");ge.isConstant()||(yt=!0);var Ae=ge.constantOr(null);Ae&&(yt=!0,ct[Ae.to]=!0,ct[Ae.from]=!0)}return yt}function Ty(y,D,U,ct,yt){for(var Mt=yt.patternDependencies,Bt=0,ne=D;Bt<ne.length;Bt+=1){var ge=ne[Bt],Ae=ge.paint.get(y+"-pattern"),je=Ae.value;if(je.kind!=="constant"){var qe=je.evaluate({zoom:ct-1},U,{},yt.availableImages),Qe=je.evaluate({zoom:ct},U,{},yt.availableImages),sr=je.evaluate({zoom:ct+1},U,{},yt.availableImages);qe=qe&&qe.name?qe.name:qe,Qe=Qe&&Qe.name?Qe.name:Qe,sr=sr&&sr.name?sr.name:sr,Mt[qe]=!0,Mt[Qe]=!0,Mt[sr]=!0,U.patterns[ge.id]={min:qe,mid:Qe,max:sr}}}return U}var r6=500,Ru=function(y){this.zoom=y.zoom,this.overscaling=y.overscaling,this.layers=y.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=y.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Nc,this.indexArray=new Ou,this.indexArray2=new Dh,this.programConfigurations=new yi(y.layers,y.zoom),this.segments=new lo,this.segments2=new lo,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};Ru.prototype.populate=function(y,D,U){this.hasPattern=ky("fill",this.layers,D);for(var ct=this.layers[0].layout.get("fill-sort-key"),yt=[],Mt=0,Bt=y;Mt<Bt.length;Mt+=1){var ne=Bt[Mt],ge=ne.feature,Ae=ne.id,je=ne.index,qe=ne.sourceLayerIndex,Qe=this.layers[0]._featureFilter.needGeometry,sr=Yi(ge,Qe);if(this.layers[0]._featureFilter.filter(new wi(this.zoom),sr,U)){var Sr=ct?ct.evaluate(sr,{},U,D.availableImages):void 0,Hr={id:Ae,properties:ge.properties,type:ge.type,sourceLayerIndex:qe,index:je,geometry:Qe?sr.geometry:la(ge),patterns:{},sortKey:Sr};yt.push(Hr)}}ct&&yt.sort(function(bi,_i){return bi.sortKey-_i.sortKey});for(var dn=0,un=yt;dn<un.length;dn+=1){var wn=un[dn],Sn=wn,mn=Sn.geometry,Fn=Sn.index,Zn=Sn.sourceLayerIndex;if(this.hasPattern){var ti=Ty("fill",this.layers,wn,this.zoom,D);this.patternFeatures.push(ti)}else this.addFeature(wn,mn,Fn,U,{});var ei=y[Fn].feature;D.featureIndex.insert(ei,mn,Fn,Zn,this.index)}},Ru.prototype.update=function(y,D,U){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(y,D,this.stateDependentLayers,U)},Ru.prototype.addFeatures=function(y,D,U){for(var ct=0,yt=this.patternFeatures;ct<yt.length;ct+=1){var Mt=yt[ct];this.addFeature(Mt,Mt.geometry,Mt.index,D,U)}},Ru.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ru.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ru.prototype.upload=function(y){this.uploaded||(this.layoutVertexBuffer=y.createVertexBuffer(this.layoutVertexArray,D5),this.indexBuffer=y.createIndexBuffer(this.indexArray),this.indexBuffer2=y.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(y),this.uploaded=!0},Ru.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ru.prototype.addFeature=function(y,D,U,ct,yt){for(var Mt=0,Bt=wy(D,r6);Mt<Bt.length;Mt+=1){for(var ne=Bt[Mt],ge=0,Ae=0,je=ne;Ae<je.length;Ae+=1){var qe=je[Ae];ge+=qe.length}for(var Qe=this.segments.prepareSegment(ge,this.layoutVertexArray,this.indexArray),sr=Qe.vertexLength,Sr=[],Hr=[],dn=0,un=ne;dn<un.length;dn+=1){var wn=un[dn];if(wn.length!==0){wn!==ne[0]&&Hr.push(Sr.length/2);var Sn=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),mn=Sn.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(mn+wn.length-1,mn),Sr.push(wn[0].x),Sr.push(wn[0].y);for(var Fn=1;Fn<wn.length;Fn++)this.layoutVertexArray.emplaceBack(wn[Fn].x,wn[Fn].y),this.indexArray2.emplaceBack(mn+Fn-1,mn+Fn),Sr.push(wn[Fn].x),Sr.push(wn[Fn].y);Sn.vertexLength+=wn.length,Sn.primitiveLength+=wn.length}}for(var Zn=my(Sr,Hr),ti=0;ti<Zn.length;ti+=3)this.indexArray.emplaceBack(sr+Zn[ti],sr+Zn[ti+1],sr+Zn[ti+2]);Qe.vertexLength+=ge,Qe.primitiveLength+=Zn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,y,U,yt,ct)},zt("FillBucket",Ru,{omit:["layers","patternFeatures"]});var n6=new sa({"fill-sort-key":new Mi(br.layout_fill["fill-sort-key"])}),i6=new sa({"fill-antialias":new si(br.paint_fill["fill-antialias"]),"fill-opacity":new Mi(br.paint_fill["fill-opacity"]),"fill-color":new Mi(br.paint_fill["fill-color"]),"fill-outline-color":new Mi(br.paint_fill["fill-outline-color"]),"fill-translate":new si(br.paint_fill["fill-translate"]),"fill-translate-anchor":new si(br.paint_fill["fill-translate-anchor"]),"fill-pattern":new Io(br.paint_fill["fill-pattern"])}),a6={paint:i6,layout:n6},o6=function(y){function D(U){y.call(this,U,a6)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(U,ct){y.prototype.recalculate.call(this,U,ct);var yt=this.paint._values["fill-outline-color"];yt.value.kind==="constant"&&yt.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(U){return new Ru(U)},D.prototype.queryRadius=function(){return al(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(U,ct,yt,Mt,Bt,ne,ge){var Ae=Hs(U,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ne.angle,ge);return uo(Ae,Mt)},D.prototype.isTileClipped=function(){return!0},D}(ja),s6=Ea([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),l6=s6.members,$2=Ap;function Ap(y,D,U,ct,yt){this.properties={},this.extent=U,this.type=0,this._pbf=y,this._geometry=-1,this._keys=ct,this._values=yt,y.readFields(u6,this,D)}function u6(y,D,U){y==1?D.id=U.readVarint():y==2?c6(U,D):y==3?D.type=U.readVarint():y==4&&(D._geometry=U.pos)}function c6(y,D){for(var U=y.readVarint()+y.pos;y.pos<U;){var ct=D._keys[y.readVarint()],yt=D._values[y.readVarint()];D.properties[ct]=yt}}Ap.types=["Unknown","Point","LineString","Polygon"],Ap.prototype.loadGeometry=function(){var y=this._pbf;y.pos=this._geometry;for(var D=y.readVarint()+y.pos,U=1,ct=0,yt=0,Mt=0,Bt=[],ne;y.pos<D;){if(ct<=0){var ge=y.readVarint();U=ge&7,ct=ge>>3}if(ct--,U===1||U===2)yt+=y.readSVarint(),Mt+=y.readSVarint(),U===1&&(ne&&Bt.push(ne),ne=[]),ne.push(new r(yt,Mt));else if(U===7)ne&&ne.push(ne[0].clone());else throw new Error("unknown command "+U)}return ne&&Bt.push(ne),Bt},Ap.prototype.bbox=function(){var y=this._pbf;y.pos=this._geometry;for(var D=y.readVarint()+y.pos,U=1,ct=0,yt=0,Mt=0,Bt=1/0,ne=-1/0,ge=1/0,Ae=-1/0;y.pos<D;){if(ct<=0){var je=y.readVarint();U=je&7,ct=je>>3}if(ct--,U===1||U===2)yt+=y.readSVarint(),Mt+=y.readSVarint(),yt<Bt&&(Bt=yt),yt>ne&&(ne=yt),Mt<ge&&(ge=Mt),Mt>Ae&&(Ae=Mt);else if(U!==7)throw new Error("unknown command "+U)}return[Bt,ge,ne,Ae]},Ap.prototype.toGeoJSON=function(y,D,U){var ct=this.extent*Math.pow(2,U),yt=this.extent*y,Mt=this.extent*D,Bt=this.loadGeometry(),ne=Ap.types[this.type],ge,Ae;function je(sr){for(var Sr=0;Sr<sr.length;Sr++){var Hr=sr[Sr],dn=180-(Hr.y+Mt)*360/ct;sr[Sr]=[(Hr.x+yt)*360/ct-180,360/Math.PI*Math.atan(Math.exp(dn*Math.PI/180))-90]}}switch(this.type){case 1:var qe=[];for(ge=0;ge<Bt.length;ge++)qe[ge]=Bt[ge][0];Bt=qe,je(Bt);break;case 2:for(ge=0;ge<Bt.length;ge++)je(Bt[ge]);break;case 3:for(Bt=f6(Bt),ge=0;ge<Bt.length;ge++)for(Ae=0;Ae<Bt[ge].length;Ae++)je(Bt[ge][Ae]);break}Bt.length===1?Bt=Bt[0]:ne="Multi"+ne;var Qe={type:"Feature",geometry:{type:ne,coordinates:Bt},properties:this.properties};return"id"in this&&(Qe.id=this.id),Qe};function f6(y){var D=y.length;if(D<=1)return[y];for(var U=[],ct,yt,Mt=0;Mt<D;Mt++){var Bt=h6(y[Mt]);Bt!==0&&(yt===void 0&&(yt=Bt<0),yt===Bt<0?(ct&&U.push(ct),ct=[y[Mt]]):ct.push(y[Mt]))}return ct&&U.push(ct),U}function h6(y){for(var D=0,U=0,ct=y.length,yt=ct-1,Mt,Bt;U<ct;yt=U++)Mt=y[U],Bt=y[yt],D+=(Bt.x-Mt.x)*(Mt.y+Bt.y);return D}var tx=ex;function ex(y,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=y,this._keys=[],this._values=[],this._features=[],y.readFields(p6,this,D),this.length=this._features.length}function p6(y,D,U){y===15?D.version=U.readVarint():y===1?D.name=U.readString():y===5?D.extent=U.readVarint():y===2?D._features.push(U.pos):y===3?D._keys.push(U.readString()):y===4&&D._values.push(d6(U))}function d6(y){for(var D=null,U=y.readVarint()+y.pos;y.pos<U;){var ct=y.readVarint()>>3;D=ct===1?y.readString():ct===2?y.readFloat():ct===3?y.readDouble():ct===4?y.readVarint64():ct===5?y.readVarint():ct===6?y.readSVarint():ct===7?y.readBoolean():null}return D}ex.prototype.feature=function(y){if(y<0||y>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[y];var D=this._pbf.readVarint()+this._pbf.pos;return new $2(this._pbf,D,this.extent,this._keys,this._values)};var v6=g6;function g6(y,D){this.layers=y.readFields(y6,{},D)}function y6(y,D,U){if(y===3){var ct=new tx(U,U.readVarint()+U.pos);ct.length&&(D[ct.name]=ct)}}var m6=v6,x6=$2,b6=tx,Sp={VectorTile:m6,VectorTileFeature:x6,VectorTileLayer:b6},_6=Sp.VectorTileFeature.types,w6=500,My=Math.pow(2,13);function jd(y,D,U,ct,yt,Mt,Bt,ne){y.emplaceBack(D,U,Math.floor(ct*My)*2+Bt,yt*My*2,Mt*My*2,Math.round(ne))}var Du=function(y){this.zoom=y.zoom,this.overscaling=y.overscaling,this.layers=y.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=y.index,this.hasPattern=!1,this.layoutVertexArray=new sc,this.indexArray=new Ou,this.programConfigurations=new yi(y.layers,y.zoom),this.segments=new lo,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};Du.prototype.populate=function(y,D,U){this.features=[],this.hasPattern=ky("fill-extrusion",this.layers,D);for(var ct=0,yt=y;ct<yt.length;ct+=1){var Mt=yt[ct],Bt=Mt.feature,ne=Mt.id,ge=Mt.index,Ae=Mt.sourceLayerIndex,je=this.layers[0]._featureFilter.needGeometry,qe=Yi(Bt,je);if(this.layers[0]._featureFilter.filter(new wi(this.zoom),qe,U)){var Qe={id:ne,sourceLayerIndex:Ae,index:ge,geometry:je?qe.geometry:la(Bt),properties:Bt.properties,type:Bt.type,patterns:{}};this.hasPattern?this.features.push(Ty("fill-extrusion",this.layers,Qe,this.zoom,D)):this.addFeature(Qe,Qe.geometry,ge,U,{}),D.featureIndex.insert(Bt,Qe.geometry,ge,Ae,this.index,!0)}}},Du.prototype.addFeatures=function(y,D,U){for(var ct=0,yt=this.features;ct<yt.length;ct+=1){var Mt=yt[ct],Bt=Mt.geometry;this.addFeature(Mt,Bt,Mt.index,D,U)}},Du.prototype.update=function(y,D,U){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(y,D,this.stateDependentLayers,U)},Du.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Du.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Du.prototype.upload=function(y){this.uploaded||(this.layoutVertexBuffer=y.createVertexBuffer(this.layoutVertexArray,l6),this.indexBuffer=y.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(y),this.uploaded=!0},Du.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Du.prototype.addFeature=function(y,D,U,ct,yt){for(var Mt=0,Bt=wy(D,w6);Mt<Bt.length;Mt+=1){for(var ne=Bt[Mt],ge=0,Ae=0,je=ne;Ae<je.length;Ae+=1){var qe=je[Ae];ge+=qe.length}for(var Qe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),sr=0,Sr=ne;sr<Sr.length;sr+=1){var Hr=Sr[sr];if(Hr.length!==0&&!T6(Hr))for(var dn=0,un=0;un<Hr.length;un++){var wn=Hr[un];if(un>=1){var Sn=Hr[un-1];if(!k6(wn,Sn)){Qe.vertexLength+4>lo.MAX_VERTEX_ARRAY_LENGTH&&(Qe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var mn=wn.sub(Sn)._perp()._unit(),Fn=Sn.dist(wn);dn+Fn>32768&&(dn=0),jd(this.layoutVertexArray,wn.x,wn.y,mn.x,mn.y,0,0,dn),jd(this.layoutVertexArray,wn.x,wn.y,mn.x,mn.y,0,1,dn),dn+=Fn,jd(this.layoutVertexArray,Sn.x,Sn.y,mn.x,mn.y,0,0,dn),jd(this.layoutVertexArray,Sn.x,Sn.y,mn.x,mn.y,0,1,dn);var Zn=Qe.vertexLength;this.indexArray.emplaceBack(Zn,Zn+2,Zn+1),this.indexArray.emplaceBack(Zn+1,Zn+2,Zn+3),Qe.vertexLength+=4,Qe.primitiveLength+=2}}}}if(Qe.vertexLength+ge>lo.MAX_VERTEX_ARRAY_LENGTH&&(Qe=this.segments.prepareSegment(ge,this.layoutVertexArray,this.indexArray)),_6[y.type]==="Polygon"){for(var ti=[],ei=[],bi=Qe.vertexLength,_i=0,Ai=ne;_i<Ai.length;_i+=1){var Pi=Ai[_i];if(Pi.length!==0){Pi!==ne[0]&&ei.push(ti.length/2);for(var Fi=0;Fi<Pi.length;Fi++){var Si=Pi[Fi];jd(this.layoutVertexArray,Si.x,Si.y,0,0,1,1,0),ti.push(Si.x),ti.push(Si.y)}}}for(var Li=my(ti,ei),Ji=0;Ji<Li.length;Ji+=3)this.indexArray.emplaceBack(bi+Li[Ji],bi+Li[Ji+2],bi+Li[Ji+1]);Qe.primitiveLength+=Li.length/3,Qe.vertexLength+=ge}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,y,U,yt,ct)},zt("FillExtrusionBucket",Du,{omit:["layers","features"]});function k6(y,D){return y.x===D.x&&(y.x<0||y.x>Ri)||y.y===D.y&&(y.y<0||y.y>Ri)}function T6(y){return y.every(function(D){return D.x<0})||y.every(function(D){return D.x>Ri})||y.every(function(D){return D.y<0})||y.every(function(D){return D.y>Ri})}var M6=new sa({"fill-extrusion-opacity":new si(br["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mi(br["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new si(br["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new si(br["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Io(br["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mi(br["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mi(br["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new si(br["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),A6={paint:M6},S6=function(y){function D(U){y.call(this,U,A6)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(U){return new Du(U)},D.prototype.queryRadius=function(){return al(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(U,ct,yt,Mt,Bt,ne,ge,Ae){var je=Hs(U,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ne.angle,ge),qe=this.paint.get("fill-extrusion-height").evaluate(ct,yt),Qe=this.paint.get("fill-extrusion-base").evaluate(ct,yt),sr=P6(je,Ae,ne,0),Sr=L6(Mt,Qe,qe,Ae),Hr=Sr[0],dn=Sr[1];return E6(Hr,dn,sr)},D}(ja);function Hd(y,D){return y.x*D.x+y.y*D.y}function rx(y,D){if(y.length===1){for(var U=0,ct=D[U++],yt;!yt||ct.equals(yt);)if(yt=D[U++],!yt)return 1/0;for(;U<D.length;U++){var Mt=D[U],Bt=y[0],ne=yt.sub(ct),ge=Mt.sub(ct),Ae=Bt.sub(ct),je=Hd(ne,ne),qe=Hd(ne,ge),Qe=Hd(ge,ge),sr=Hd(Ae,ne),Sr=Hd(Ae,ge),Hr=je*Qe-qe*qe,dn=(Qe*sr-qe*Sr)/Hr,un=(je*Sr-qe*sr)/Hr,wn=1-dn-un,Sn=ct.z*wn+yt.z*dn+Mt.z*un;if(isFinite(Sn))return Sn}return 1/0}else{for(var mn=1/0,Fn=0,Zn=D;Fn<Zn.length;Fn+=1){var ti=Zn[Fn];mn=Math.min(mn,ti.z)}return mn}}function E6(y,D,U){var ct=1/0;uo(U,D)&&(ct=rx(U,D[0]));for(var yt=0;yt<D.length;yt++)for(var Mt=D[yt],Bt=y[yt],ne=0;ne<Mt.length-1;ne++){var ge=Mt[ne],Ae=Mt[ne+1],je=Bt[ne],qe=Bt[ne+1],Qe=[ge,Ae,qe,je,ge];Ki(U,Qe)&&(ct=Math.min(ct,rx(U,Qe)))}return ct===1/0?!1:ct}function L6(y,D,U,ct){for(var yt=[],Mt=[],Bt=ct[8]*D,ne=ct[9]*D,ge=ct[10]*D,Ae=ct[11]*D,je=ct[8]*U,qe=ct[9]*U,Qe=ct[10]*U,sr=ct[11]*U,Sr=0,Hr=y;Sr<Hr.length;Sr+=1){for(var dn=Hr[Sr],un=[],wn=[],Sn=0,mn=dn;Sn<mn.length;Sn+=1){var Fn=mn[Sn],Zn=Fn.x,ti=Fn.y,ei=ct[0]*Zn+ct[4]*ti+ct[12],bi=ct[1]*Zn+ct[5]*ti+ct[13],_i=ct[2]*Zn+ct[6]*ti+ct[14],Ai=ct[3]*Zn+ct[7]*ti+ct[15],Pi=ei+Bt,Fi=bi+ne,Si=_i+ge,Li=Ai+Ae,Ji=ei+je,va=bi+qe,Ta=_i+Qe,ta=Ai+sr,ga=new r(Pi/Li,Fi/Li);ga.z=Si/Li,un.push(ga);var Qi=new r(Ji/ta,va/ta);Qi.z=Ta/ta,wn.push(Qi)}yt.push(un),Mt.push(wn)}return[yt,Mt]}function P6(y,D,U,ct){for(var yt=[],Mt=0,Bt=y;Mt<Bt.length;Mt+=1){var ne=Bt[Mt],ge=[ne.x,ne.y,ct,1];sv(ge,ge,D),yt.push(new r(ge[0]/ge[3],ge[1]/ge[3]))}return yt}var C6=Ea([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),I6=C6.members,O6=Ea([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),z6=O6.members,R6=Sp.VectorTileFeature.types,nx=63,D6=Math.cos(75/2*(Math.PI/180)),F6=15,B6=20,N6=15,ix=1/2,ax=Math.pow(2,N6-1)/ix,us=function(y){var D=this;this.zoom=y.zoom,this.overscaling=y.overscaling,this.layers=y.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=y.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(U){D.gradients[U.id]={}}),this.layoutVertexArray=new Lf,this.layoutVertexArray2=new Pf,this.indexArray=new Ou,this.programConfigurations=new yi(y.layers,y.zoom),this.segments=new lo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};us.prototype.populate=function(y,D,U){this.hasPattern=ky("line",this.layers,D);for(var ct=this.layers[0].layout.get("line-sort-key"),yt=[],Mt=0,Bt=y;Mt<Bt.length;Mt+=1){var ne=Bt[Mt],ge=ne.feature,Ae=ne.id,je=ne.index,qe=ne.sourceLayerIndex,Qe=this.layers[0]._featureFilter.needGeometry,sr=Yi(ge,Qe);if(this.layers[0]._featureFilter.filter(new wi(this.zoom),sr,U)){var Sr=ct?ct.evaluate(sr,{},U):void 0,Hr={id:Ae,properties:ge.properties,type:ge.type,sourceLayerIndex:qe,index:je,geometry:Qe?sr.geometry:la(ge),patterns:{},sortKey:Sr};yt.push(Hr)}}ct&&yt.sort(function(bi,_i){return bi.sortKey-_i.sortKey});for(var dn=0,un=yt;dn<un.length;dn+=1){var wn=un[dn],Sn=wn,mn=Sn.geometry,Fn=Sn.index,Zn=Sn.sourceLayerIndex;if(this.hasPattern){var ti=Ty("line",this.layers,wn,this.zoom,D);this.patternFeatures.push(ti)}else this.addFeature(wn,mn,Fn,U,{});var ei=y[Fn].feature;D.featureIndex.insert(ei,mn,Fn,Zn,this.index)}},us.prototype.update=function(y,D,U){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(y,D,this.stateDependentLayers,U)},us.prototype.addFeatures=function(y,D,U){for(var ct=0,yt=this.patternFeatures;ct<yt.length;ct+=1){var Mt=yt[ct];this.addFeature(Mt,Mt.geometry,Mt.index,D,U)}},us.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},us.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},us.prototype.upload=function(y){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=y.createVertexBuffer(this.layoutVertexArray2,z6)),this.layoutVertexBuffer=y.createVertexBuffer(this.layoutVertexArray,I6),this.indexBuffer=y.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(y),this.uploaded=!0},us.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},us.prototype.lineFeatureClips=function(y){if(y.properties&&y.properties.hasOwnProperty("mapbox_clip_start")&&y.properties.hasOwnProperty("mapbox_clip_end")){var D=+y.properties.mapbox_clip_start,U=+y.properties.mapbox_clip_end;return{start:D,end:U}}},us.prototype.addFeature=function(y,D,U,ct,yt){var Mt=this.layers[0].layout,Bt=Mt.get("line-join").evaluate(y,{}),ne=Mt.get("line-cap"),ge=Mt.get("line-miter-limit"),Ae=Mt.get("line-round-limit");this.lineClips=this.lineFeatureClips(y);for(var je=0,qe=D;je<qe.length;je+=1){var Qe=qe[je];this.addLine(Qe,y,Bt,ne,ge,Ae)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,y,U,yt,ct)},us.prototype.addLine=function(y,D,U,ct,yt,Mt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Bt=0;Bt<y.length-1;Bt++)this.totalDistance+=y[Bt].dist(y[Bt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var ne=R6[D.type]==="Polygon",ge=y.length;ge>=2&&y[ge-1].equals(y[ge-2]);)ge--;for(var Ae=0;Ae<ge-1&&y[Ae].equals(y[Ae+1]);)Ae++;if(!(ge<(ne?3:2))){U==="bevel"&&(yt=1.05);var je=this.overscaling<=16?F6*Ri/(512*this.overscaling):0,qe=this.segments.prepareSegment(ge*10,this.layoutVertexArray,this.indexArray),Qe,sr=void 0,Sr=void 0,Hr=void 0,dn=void 0;this.e1=this.e2=-1,ne&&(Qe=y[ge-2],dn=y[Ae].sub(Qe)._unit()._perp());for(var un=Ae;un<ge;un++)if(Sr=un===ge-1?ne?y[Ae+1]:void 0:y[un+1],!(Sr&&y[un].equals(Sr))){dn&&(Hr=dn),Qe&&(sr=Qe),Qe=y[un],dn=Sr?Sr.sub(Qe)._unit()._perp():Hr,Hr=Hr||dn;var wn=Hr.add(dn);(wn.x!==0||wn.y!==0)&&wn._unit();var Sn=Hr.x*dn.x+Hr.y*dn.y,mn=wn.x*dn.x+wn.y*dn.y,Fn=mn!==0?1/mn:1/0,Zn=2*Math.sqrt(2-2*mn),ti=mn<D6&&sr&&Sr,ei=Hr.x*dn.y-Hr.y*dn.x>0;if(ti&&un>Ae){var bi=Qe.dist(sr);if(bi>2*je){var _i=Qe.sub(Qe.sub(sr)._mult(je/bi)._round());this.updateDistance(sr,_i),this.addCurrentVertex(_i,Hr,0,0,qe),sr=_i}}var Ai=sr&&Sr,Pi=Ai?U:ne?"butt":ct;if(Ai&&Pi==="round"&&(Fn<Mt?Pi="miter":Fn<=2&&(Pi="fakeround")),Pi==="miter"&&Fn>yt&&(Pi="bevel"),Pi==="bevel"&&(Fn>2&&(Pi="flipbevel"),Fn<yt&&(Pi="miter")),sr&&this.updateDistance(sr,Qe),Pi==="miter")wn._mult(Fn),this.addCurrentVertex(Qe,wn,0,0,qe);else if(Pi==="flipbevel"){if(Fn>100)wn=dn.mult(-1);else{var Fi=Fn*Hr.add(dn).mag()/Hr.sub(dn).mag();wn._perp()._mult(Fi*(ei?-1:1))}this.addCurrentVertex(Qe,wn,0,0,qe),this.addCurrentVertex(Qe,wn.mult(-1),0,0,qe)}else if(Pi==="bevel"||Pi==="fakeround"){var Si=-Math.sqrt(Fn*Fn-1),Li=ei?Si:0,Ji=ei?0:Si;if(sr&&this.addCurrentVertex(Qe,Hr,Li,Ji,qe),Pi==="fakeround")for(var va=Math.round(Zn*180/Math.PI/B6),Ta=1;Ta<va;Ta++){var ta=Ta/va;if(ta!==.5){var ga=ta-.5,Qi=1.0904+Sn*(-3.2452+Sn*(3.55645-Sn*1.43519)),La=.848013+Sn*(-1.06021+Sn*.215638);ta=ta+ta*ga*(ta-1)*(Qi*ga*ga+La)}var wa=dn.sub(Hr)._mult(ta)._add(Hr)._unit()._mult(ei?-1:1);this.addHalfVertex(Qe,wa.x,wa.y,!1,ei,0,qe)}Sr&&this.addCurrentVertex(Qe,dn,-Li,-Ji,qe)}else if(Pi==="butt")this.addCurrentVertex(Qe,wn,0,0,qe);else if(Pi==="square"){var Za=sr?1:-1;this.addCurrentVertex(Qe,wn,Za,Za,qe)}else Pi==="round"&&(sr&&(this.addCurrentVertex(Qe,Hr,0,0,qe),this.addCurrentVertex(Qe,Hr,1,1,qe,!0)),Sr&&(this.addCurrentVertex(Qe,dn,-1,-1,qe,!0),this.addCurrentVertex(Qe,dn,0,0,qe)));if(ti&&un<ge-1){var Ro=Qe.dist(Sr);if(Ro>2*je){var po=Qe.add(Sr.sub(Qe)._mult(je/Ro)._round());this.updateDistance(Qe,po),this.addCurrentVertex(po,dn,0,0,qe),Qe=po}}}}},us.prototype.addCurrentVertex=function(y,D,U,ct,yt,Mt){Mt===void 0&&(Mt=!1);var Bt=D.x+D.y*U,ne=D.y-D.x*U,ge=-D.x+D.y*ct,Ae=-D.y-D.x*ct;this.addHalfVertex(y,Bt,ne,Mt,!1,U,yt),this.addHalfVertex(y,ge,Ae,Mt,!0,-ct,yt),this.distance>ax/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(y,D,U,ct,yt,Mt))},us.prototype.addHalfVertex=function(y,D,U,ct,yt,Mt,Bt){var ne=y.x,ge=y.y,Ae=this.lineClips?this.scaledDistance*(ax-1):this.scaledDistance,je=Ae*ix;if(this.layoutVertexArray.emplaceBack((ne<<1)+(ct?1:0),(ge<<1)+(yt?1:0),Math.round(nx*D)+128,Math.round(nx*U)+128,(Mt===0?0:Mt<0?-1:1)+1|(je&63)<<2,je>>6),this.lineClips){var qe=this.scaledDistance-this.lineClips.start,Qe=this.lineClips.end-this.lineClips.start,sr=qe/Qe;this.layoutVertexArray2.emplaceBack(sr,this.lineClipsArray.length)}var Sr=Bt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Sr),Bt.primitiveLength++),yt?this.e2=Sr:this.e1=Sr},us.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},us.prototype.updateDistance=function(y,D){this.distance+=y.dist(D),this.updateScaledDistance()},zt("LineBucket",us,{omit:["layers","patternFeatures"]});var j6=new sa({"line-cap":new si(br.layout_line["line-cap"]),"line-join":new Mi(br.layout_line["line-join"]),"line-miter-limit":new si(br.layout_line["line-miter-limit"]),"line-round-limit":new si(br.layout_line["line-round-limit"]),"line-sort-key":new Mi(br.layout_line["line-sort-key"])}),H6=new sa({"line-opacity":new Mi(br.paint_line["line-opacity"]),"line-color":new Mi(br.paint_line["line-color"]),"line-translate":new si(br.paint_line["line-translate"]),"line-translate-anchor":new si(br.paint_line["line-translate-anchor"]),"line-width":new Mi(br.paint_line["line-width"]),"line-gap-width":new Mi(br.paint_line["line-gap-width"]),"line-offset":new Mi(br.paint_line["line-offset"]),"line-blur":new Mi(br.paint_line["line-blur"]),"line-dasharray":new jo(br.paint_line["line-dasharray"]),"line-pattern":new Io(br.paint_line["line-pattern"]),"line-gradient":new so(br.paint_line["line-gradient"])}),ox={paint:H6,layout:j6},V6=function(y){function D(){y.apply(this,arguments)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(U,ct){return ct=new wi(Math.floor(ct.zoom),{now:ct.now,fadeDuration:ct.fadeDuration,zoomHistory:ct.zoomHistory,transition:ct.transition}),y.prototype.possiblyEvaluate.call(this,U,ct)},D.prototype.evaluate=function(U,ct,yt,Mt){return ct=w({},ct,{zoom:Math.floor(ct.zoom)}),y.prototype.evaluate.call(this,U,ct,yt,Mt)},D}(Mi),sx=new V6(ox.paint.properties["line-width"].specification);sx.useIntegerZoom=!0;var X6=function(y){function D(U){y.call(this,U,ox),this.gradientVersion=0}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(U){if(U==="line-gradient"){var ct=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ct._styleExpression.expression instanceof es,this.gradientVersion=(this.gradientVersion+1)%l}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(U,ct){y.prototype.recalculate.call(this,U,ct),this.paint._values["line-floorwidth"]=sx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,U)},D.prototype.createBucket=function(U){return new us(U)},D.prototype.queryRadius=function(U){var ct=U,yt=lx(js("line-width",this,ct),js("line-gap-width",this,ct)),Mt=js("line-offset",this,ct);return yt/2+Math.abs(Mt)+al(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(U,ct,yt,Mt,Bt,ne,ge){var Ae=Hs(U,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ne.angle,ge),je=ge/2*lx(this.paint.get("line-width").evaluate(ct,yt),this.paint.get("line-gap-width").evaluate(ct,yt)),qe=this.paint.get("line-offset").evaluate(ct,yt);return qe&&(Mt=U6(Mt,qe*ge)),Tl(Ae,Mt,je)},D.prototype.isTileClipped=function(){return!0},D}(ja);function lx(y,D){return D>0?D+2*y:y}function U6(y,D){for(var U=[],ct=new r(0,0),yt=0;yt<y.length;yt++){for(var Mt=y[yt],Bt=[],ne=0;ne<Mt.length;ne++){var ge=Mt[ne-1],Ae=Mt[ne],je=Mt[ne+1],qe=ne===0?ct:Ae.sub(ge)._unit()._perp(),Qe=ne===Mt.length-1?ct:je.sub(Ae)._unit()._perp(),sr=qe._add(Qe)._unit(),Sr=sr.x*Qe.x+sr.y*Qe.y;sr._mult(1/Sr),Bt.push(sr._mult(D)._add(Ae))}U.push(Bt)}return U}var q6=Ea([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),W6=Ea([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ea([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var G6=Ea([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ea([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var ux=Ea([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Z6=Ea([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ea([{name:"triangle",components:3,type:"Uint16"}]),Ea([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ea([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ea([{type:"Float32",name:"offsetX"}]),Ea([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function Y6(y,D,U){var ct=D.layout.get("text-transform").evaluate(U,{});return ct==="uppercase"?y=y.toLocaleUpperCase():ct==="lowercase"&&(y=y.toLocaleLowerCase()),Yn.applyArabicShaping&&(y=Yn.applyArabicShaping(y)),y}function K6(y,D,U){return y.sections.forEach(function(ct){ct.text=Y6(ct.text,D,U)}),y}function J6(y){var D={},U={},ct=[],yt=0;function Mt(un){ct.push(y[un]),yt++}function Bt(un,wn,Sn){var mn=U[un];return delete U[un],U[wn]=mn,ct[mn].geometry[0].pop(),ct[mn].geometry[0]=ct[mn].geometry[0].concat(Sn[0]),mn}function ne(un,wn,Sn){var mn=D[wn];return delete D[wn],D[un]=mn,ct[mn].geometry[0].shift(),ct[mn].geometry[0]=Sn[0].concat(ct[mn].geometry[0]),mn}function ge(un,wn,Sn){var mn=Sn?wn[0][wn[0].length-1]:wn[0][0];return un+":"+mn.x+":"+mn.y}for(var Ae=0;Ae<y.length;Ae++){var je=y[Ae],qe=je.geometry,Qe=je.text?je.text.toString():null;if(!Qe){Mt(Ae);continue}var sr=ge(Qe,qe),Sr=ge(Qe,qe,!0);if(sr in U&&Sr in D&&U[sr]!==D[Sr]){var Hr=ne(sr,Sr,qe),dn=Bt(sr,Sr,ct[Hr].geometry);delete D[sr],delete U[Sr],U[ge(Qe,ct[dn].geometry,!0)]=dn,ct[Hr].geometry=null}else sr in U?Bt(sr,Sr,qe):Sr in D?ne(sr,Sr,qe):(Mt(Ae),D[sr]=yt-1,U[Sr]=yt-1)}return ct.filter(function(un){return un.geometry})}var Vd={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function Q6(y){for(var D="",U=0;U<y.length;U++){var ct=y.charCodeAt(U+1)||null,yt=y.charCodeAt(U-1)||null,Mt=(!ct||!jr(ct)||Vd[y[U+1]])&&(!yt||!jr(yt)||Vd[y[U-1]]);Mt&&Vd[y[U]]?D+=Vd[y[U]]:D+=y[U]}return D}var zo=24,$6=function(y,D,U,ct,yt){var Mt,Bt,ne=yt*8-ct-1,ge=(1<<ne)-1,Ae=ge>>1,je=-7,qe=U?yt-1:0,Qe=U?-1:1,sr=y[D+qe];for(qe+=Qe,Mt=sr&(1<<-je)-1,sr>>=-je,je+=ne;je>0;Mt=Mt*256+y[D+qe],qe+=Qe,je-=8);for(Bt=Mt&(1<<-je)-1,Mt>>=-je,je+=ct;je>0;Bt=Bt*256+y[D+qe],qe+=Qe,je-=8);if(Mt===0)Mt=1-Ae;else{if(Mt===ge)return Bt?NaN:(sr?-1:1)*(1/0);Bt=Bt+Math.pow(2,ct),Mt=Mt-Ae}return(sr?-1:1)*Bt*Math.pow(2,Mt-ct)},t8=function(y,D,U,ct,yt,Mt){var Bt,ne,ge,Ae=Mt*8-yt-1,je=(1<<Ae)-1,qe=je>>1,Qe=yt===23?Math.pow(2,-24)-Math.pow(2,-77):0,sr=ct?0:Mt-1,Sr=ct?1:-1,Hr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(ne=isNaN(D)?1:0,Bt=je):(Bt=Math.floor(Math.log(D)/Math.LN2),D*(ge=Math.pow(2,-Bt))<1&&(Bt--,ge*=2),Bt+qe>=1?D+=Qe/ge:D+=Qe*Math.pow(2,1-qe),D*ge>=2&&(Bt++,ge/=2),Bt+qe>=je?(ne=0,Bt=je):Bt+qe>=1?(ne=(D*ge-1)*Math.pow(2,yt),Bt=Bt+qe):(ne=D*Math.pow(2,qe-1)*Math.pow(2,yt),Bt=0));yt>=8;y[U+sr]=ne&255,sr+=Sr,ne/=256,yt-=8);for(Bt=Bt<<yt|ne,Ae+=yt;Ae>0;y[U+sr]=Bt&255,sr+=Sr,Bt/=256,Ae-=8);y[U+sr-Sr]|=Hr*128},hv={read:$6,write:t8},pv=Aa;function Aa(y){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(y)?y:new Uint8Array(y||0),this.pos=0,this.type=0,this.length=this.buf.length}Aa.Varint=0,Aa.Fixed64=1,Aa.Bytes=2,Aa.Fixed32=5;var Ay=65536*65536,cx=1/Ay,e8=12,fx=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Aa.prototype={destroy:function(){this.buf=null},readFields:function(y,D,U){for(U=U||this.length;this.pos<U;){var ct=this.readVarint(),yt=ct>>3,Mt=this.pos;this.type=ct&7,y(yt,D,this),this.pos===Mt&&this.skip(ct)}return D},readMessage:function(y,D){return this.readFields(y,D,this.readVarint()+this.pos)},readFixed32:function(){var y=dv(this.buf,this.pos);return this.pos+=4,y},readSFixed32:function(){var y=px(this.buf,this.pos);return this.pos+=4,y},readFixed64:function(){var y=dv(this.buf,this.pos)+dv(this.buf,this.pos+4)*Ay;return this.pos+=8,y},readSFixed64:function(){var y=dv(this.buf,this.pos)+px(this.buf,this.pos+4)*Ay;return this.pos+=8,y},readFloat:function(){var y=hv.read(this.buf,this.pos,!0,23,4);return this.pos+=4,y},readDouble:function(){var y=hv.read(this.buf,this.pos,!0,52,8);return this.pos+=8,y},readVarint:function(y){var D=this.buf,U,ct;return ct=D[this.pos++],U=ct&127,ct<128||(ct=D[this.pos++],U|=(ct&127)<<7,ct<128)||(ct=D[this.pos++],U|=(ct&127)<<14,ct<128)||(ct=D[this.pos++],U|=(ct&127)<<21,ct<128)?U:(ct=D[this.pos],U|=(ct&15)<<28,r8(U,y,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var y=this.readVarint();return y%2===1?(y+1)/-2:y/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var y=this.readVarint()+this.pos,D=this.pos;return this.pos=y,y-D>=e8&&fx?y8(this.buf,D,y):g8(this.buf,D,y)},readBytes:function(){var y=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,y);return this.pos=y,D},readPackedVarint:function(y,D){if(this.type!==Aa.Bytes)return y.push(this.readVarint(D));var U=Vc(this);for(y=y||[];this.pos<U;)y.push(this.readVarint(D));return y},readPackedSVarint:function(y){if(this.type!==Aa.Bytes)return y.push(this.readSVarint());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readSVarint());return y},readPackedBoolean:function(y){if(this.type!==Aa.Bytes)return y.push(this.readBoolean());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readBoolean());return y},readPackedFloat:function(y){if(this.type!==Aa.Bytes)return y.push(this.readFloat());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readFloat());return y},readPackedDouble:function(y){if(this.type!==Aa.Bytes)return y.push(this.readDouble());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readDouble());return y},readPackedFixed32:function(y){if(this.type!==Aa.Bytes)return y.push(this.readFixed32());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readFixed32());return y},readPackedSFixed32:function(y){if(this.type!==Aa.Bytes)return y.push(this.readSFixed32());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readSFixed32());return y},readPackedFixed64:function(y){if(this.type!==Aa.Bytes)return y.push(this.readFixed64());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readFixed64());return y},readPackedSFixed64:function(y){if(this.type!==Aa.Bytes)return y.push(this.readSFixed64());var D=Vc(this);for(y=y||[];this.pos<D;)y.push(this.readSFixed64());return y},skip:function(y){var D=y&7;if(D===Aa.Varint)for(;this.buf[this.pos++]>127;);else if(D===Aa.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Aa.Fixed32)this.pos+=4;else if(D===Aa.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(y,D){this.writeVarint(y<<3|D)},realloc:function(y){for(var D=this.length||16;D<this.pos+y;)D*=2;if(D!==this.length){var U=new Uint8Array(D);U.set(this.buf),this.buf=U,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(y){this.realloc(4),Ep(this.buf,y,this.pos),this.pos+=4},writeSFixed32:function(y){this.realloc(4),Ep(this.buf,y,this.pos),this.pos+=4},writeFixed64:function(y){this.realloc(8),Ep(this.buf,y&-1,this.pos),Ep(this.buf,Math.floor(y*cx),this.pos+4),this.pos+=8},writeSFixed64:function(y){this.realloc(8),Ep(this.buf,y&-1,this.pos),Ep(this.buf,Math.floor(y*cx),this.pos+4),this.pos+=8},writeVarint:function(y){if(y=+y||0,y>268435455||y<0){i8(y,this);return}this.realloc(4),this.buf[this.pos++]=y&127|(y>127?128:0),!(y<=127)&&(this.buf[this.pos++]=(y>>>=7)&127|(y>127?128:0),!(y<=127)&&(this.buf[this.pos++]=(y>>>=7)&127|(y>127?128:0),!(y<=127)&&(this.buf[this.pos++]=y>>>7&127)))},writeSVarint:function(y){this.writeVarint(y<0?-y*2-1:y*2)},writeBoolean:function(y){this.writeVarint(!!y)},writeString:function(y){y=String(y),this.realloc(y.length*4),this.pos++;var D=this.pos;this.pos=m8(this.buf,y,this.pos);var U=this.pos-D;U>=128&&hx(D,U,this),this.pos=D-1,this.writeVarint(U),this.pos+=U},writeFloat:function(y){this.realloc(4),hv.write(this.buf,y,this.pos,!0,23,4),this.pos+=4},writeDouble:function(y){this.realloc(8),hv.write(this.buf,y,this.pos,!0,52,8),this.pos+=8},writeBytes:function(y){var D=y.length;this.writeVarint(D),this.realloc(D);for(var U=0;U<D;U++)this.buf[this.pos++]=y[U]},writeRawMessage:function(y,D){this.pos++;var U=this.pos;y(D,this);var ct=this.pos-U;ct>=128&&hx(U,ct,this),this.pos=U-1,this.writeVarint(ct),this.pos+=ct},writeMessage:function(y,D,U){this.writeTag(y,Aa.Bytes),this.writeRawMessage(D,U)},writePackedVarint:function(y,D){D.length&&this.writeMessage(y,s8,D)},writePackedSVarint:function(y,D){D.length&&this.writeMessage(y,l8,D)},writePackedBoolean:function(y,D){D.length&&this.writeMessage(y,f8,D)},writePackedFloat:function(y,D){D.length&&this.writeMessage(y,u8,D)},writePackedDouble:function(y,D){D.length&&this.writeMessage(y,c8,D)},writePackedFixed32:function(y,D){D.length&&this.writeMessage(y,h8,D)},writePackedSFixed32:function(y,D){D.length&&this.writeMessage(y,p8,D)},writePackedFixed64:function(y,D){D.length&&this.writeMessage(y,d8,D)},writePackedSFixed64:function(y,D){D.length&&this.writeMessage(y,v8,D)},writeBytesField:function(y,D){this.writeTag(y,Aa.Bytes),this.writeBytes(D)},writeFixed32Field:function(y,D){this.writeTag(y,Aa.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(y,D){this.writeTag(y,Aa.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(y,D){this.writeTag(y,Aa.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(y,D){this.writeTag(y,Aa.Fixed64),this.writeSFixed64(D)},writeVarintField:function(y,D){this.writeTag(y,Aa.Varint),this.writeVarint(D)},writeSVarintField:function(y,D){this.writeTag(y,Aa.Varint),this.writeSVarint(D)},writeStringField:function(y,D){this.writeTag(y,Aa.Bytes),this.writeString(D)},writeFloatField:function(y,D){this.writeTag(y,Aa.Fixed32),this.writeFloat(D)},writeDoubleField:function(y,D){this.writeTag(y,Aa.Fixed64),this.writeDouble(D)},writeBooleanField:function(y,D){this.writeVarintField(y,!!D)}};function r8(y,D,U){var ct=U.buf,yt,Mt;if(Mt=ct[U.pos++],yt=(Mt&112)>>4,Mt<128||(Mt=ct[U.pos++],yt|=(Mt&127)<<3,Mt<128)||(Mt=ct[U.pos++],yt|=(Mt&127)<<10,Mt<128)||(Mt=ct[U.pos++],yt|=(Mt&127)<<17,Mt<128)||(Mt=ct[U.pos++],yt|=(Mt&127)<<24,Mt<128)||(Mt=ct[U.pos++],yt|=(Mt&1)<<31,Mt<128))return n8(y,yt,D);throw new Error("Expected varint not more than 10 bytes")}function Vc(y){return y.type===Aa.Bytes?y.readVarint()+y.pos:y.pos+1}function n8(y,D,U){return U?D*4294967296+(y>>>0):(D>>>0)*4294967296+(y>>>0)}function i8(y,D){var U,ct;if(y>=0?(U=y%4294967296|0,ct=y/4294967296|0):(U=~(-y%4294967296),ct=~(-y/4294967296),U^4294967295?U=U+1|0:(U=0,ct=ct+1|0)),y>=18446744073709552e3||y<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),a8(U,ct,D),o8(ct,D)}function a8(y,D,U){U.buf[U.pos++]=y&127|128,y>>>=7,U.buf[U.pos++]=y&127|128,y>>>=7,U.buf[U.pos++]=y&127|128,y>>>=7,U.buf[U.pos++]=y&127|128,y>>>=7,U.buf[U.pos]=y&127}function o8(y,D){var U=(y&7)<<4;D.buf[D.pos++]|=U|((y>>>=3)?128:0),y&&(D.buf[D.pos++]=y&127|((y>>>=7)?128:0),y&&(D.buf[D.pos++]=y&127|((y>>>=7)?128:0),y&&(D.buf[D.pos++]=y&127|((y>>>=7)?128:0),y&&(D.buf[D.pos++]=y&127|((y>>>=7)?128:0),y&&(D.buf[D.pos++]=y&127)))))}function hx(y,D,U){var ct=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));U.realloc(ct);for(var yt=U.pos-1;yt>=y;yt--)U.buf[yt+ct]=U.buf[yt]}function s8(y,D){for(var U=0;U<y.length;U++)D.writeVarint(y[U])}function l8(y,D){for(var U=0;U<y.length;U++)D.writeSVarint(y[U])}function u8(y,D){for(var U=0;U<y.length;U++)D.writeFloat(y[U])}function c8(y,D){for(var U=0;U<y.length;U++)D.writeDouble(y[U])}function f8(y,D){for(var U=0;U<y.length;U++)D.writeBoolean(y[U])}function h8(y,D){for(var U=0;U<y.length;U++)D.writeFixed32(y[U])}function p8(y,D){for(var U=0;U<y.length;U++)D.writeSFixed32(y[U])}function d8(y,D){for(var U=0;U<y.length;U++)D.writeFixed64(y[U])}function v8(y,D){for(var U=0;U<y.length;U++)D.writeSFixed64(y[U])}function dv(y,D){return(y[D]|y[D+1]<<8|y[D+2]<<16)+y[D+3]*16777216}function Ep(y,D,U){y[U]=D,y[U+1]=D>>>8,y[U+2]=D>>>16,y[U+3]=D>>>24}function px(y,D){return(y[D]|y[D+1]<<8|y[D+2]<<16)+(y[D+3]<<24)}function g8(y,D,U){for(var ct="",yt=D;yt<U;){var Mt=y[yt],Bt=null,ne=Mt>239?4:Mt>223?3:Mt>191?2:1;if(yt+ne>U)break;var ge,Ae,je;ne===1?Mt<128&&(Bt=Mt):ne===2?(ge=y[yt+1],(ge&192)===128&&(Bt=(Mt&31)<<6|ge&63,Bt<=127&&(Bt=null))):ne===3?(ge=y[yt+1],Ae=y[yt+2],(ge&192)===128&&(Ae&192)===128&&(Bt=(Mt&15)<<12|(ge&63)<<6|Ae&63,(Bt<=2047||Bt>=55296&&Bt<=57343)&&(Bt=null))):ne===4&&(ge=y[yt+1],Ae=y[yt+2],je=y[yt+3],(ge&192)===128&&(Ae&192)===128&&(je&192)===128&&(Bt=(Mt&15)<<18|(ge&63)<<12|(Ae&63)<<6|je&63,(Bt<=65535||Bt>=1114112)&&(Bt=null))),Bt===null?(Bt=65533,ne=1):Bt>65535&&(Bt-=65536,ct+=String.fromCharCode(Bt>>>10&1023|55296),Bt=56320|Bt&1023),ct+=String.fromCharCode(Bt),yt+=ne}return ct}function y8(y,D,U){return fx.decode(y.subarray(D,U))}function m8(y,D,U){for(var ct=0,yt,Mt;ct<D.length;ct++){if(yt=D.charCodeAt(ct),yt>55295&&yt<57344)if(Mt)if(yt<56320){y[U++]=239,y[U++]=191,y[U++]=189,Mt=yt;continue}else yt=Mt-55296<<10|yt-56320|65536,Mt=null;else{yt>56319||ct+1===D.length?(y[U++]=239,y[U++]=191,y[U++]=189):Mt=yt;continue}else Mt&&(y[U++]=239,y[U++]=191,y[U++]=189,Mt=null);yt<128?y[U++]=yt:(yt<2048?y[U++]=yt>>6|192:(yt<65536?y[U++]=yt>>12|224:(y[U++]=yt>>18|240,y[U++]=yt>>12&63|128),y[U++]=yt>>6&63|128),y[U++]=yt&63|128)}return U}var Sy=3;function x8(y,D,U){y===1&&U.readMessage(b8,D)}function b8(y,D,U){if(y===3){var ct=U.readMessage(_8,{}),yt=ct.id,Mt=ct.bitmap,Bt=ct.width,ne=ct.height,ge=ct.left,Ae=ct.top,je=ct.advance;D.push({id:yt,bitmap:new Vh({width:Bt+2*Sy,height:ne+2*Sy},Mt),metrics:{width:Bt,height:ne,left:ge,top:Ae,advance:je}})}}function _8(y,D,U){y===1?D.id=U.readVarint():y===2?D.bitmap=U.readBytes():y===3?D.width=U.readVarint():y===4?D.height=U.readVarint():y===5?D.left=U.readSVarint():y===6?D.top=U.readSVarint():y===7&&(D.advance=U.readVarint())}function w8(y){return new pv(y).readFields(x8,[])}var dx=Sy;function vx(y){for(var D=0,U=0,ct=0,yt=y;ct<yt.length;ct+=1){var Mt=yt[ct];D+=Mt.w*Mt.h,U=Math.max(U,Mt.w)}y.sort(function(dn,un){return un.h-dn.h});for(var Bt=Math.max(Math.ceil(Math.sqrt(D/.95)),U),ne=[{x:0,y:0,w:Bt,h:1/0}],ge=0,Ae=0,je=0,qe=y;je<qe.length;je+=1)for(var Qe=qe[je],sr=ne.length-1;sr>=0;sr--){var Sr=ne[sr];if(!(Qe.w>Sr.w||Qe.h>Sr.h)){if(Qe.x=Sr.x,Qe.y=Sr.y,Ae=Math.max(Ae,Qe.y+Qe.h),ge=Math.max(ge,Qe.x+Qe.w),Qe.w===Sr.w&&Qe.h===Sr.h){var Hr=ne.pop();sr<ne.length&&(ne[sr]=Hr)}else Qe.h===Sr.h?(Sr.x+=Qe.w,Sr.w-=Qe.w):Qe.w===Sr.w?(Sr.y+=Qe.h,Sr.h-=Qe.h):(ne.push({x:Sr.x+Qe.w,y:Sr.y,w:Sr.w-Qe.w,h:Qe.h}),Sr.y+=Qe.h,Sr.h-=Qe.h);break}}return{w:ge,h:Ae,fill:D/(ge*Ae)||0}}var Vs=1,vv=function(y,D){var U=D.pixelRatio,ct=D.version,yt=D.stretchX,Mt=D.stretchY,Bt=D.content;this.paddedRect=y,this.pixelRatio=U,this.stretchX=yt,this.stretchY=Mt,this.content=Bt,this.version=ct},Xd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Xd.tl.get=function(){return[this.paddedRect.x+Vs,this.paddedRect.y+Vs]},Xd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Vs,this.paddedRect.y+this.paddedRect.h-Vs]},Xd.tlbr.get=function(){return this.tl.concat(this.br)},Xd.displaySize.get=function(){return[(this.paddedRect.w-Vs*2)/this.pixelRatio,(this.paddedRect.h-Vs*2)/this.pixelRatio]},Object.defineProperties(vv.prototype,Xd);var Ud=function(y,D){var U={},ct={};this.haveRenderCallbacks=[];var yt=[];this.addImages(y,U,yt),this.addImages(D,ct,yt);var Mt=vx(yt),Bt=Mt.w,ne=Mt.h,ge=new Ts({width:Bt||1,height:ne||1});for(var Ae in y){var je=y[Ae],qe=U[Ae].paddedRect;Ts.copy(je.data,ge,{x:0,y:0},{x:qe.x+Vs,y:qe.y+Vs},je.data)}for(var Qe in D){var sr=D[Qe],Sr=ct[Qe].paddedRect,Hr=Sr.x+Vs,dn=Sr.y+Vs,un=sr.data.width,wn=sr.data.height;Ts.copy(sr.data,ge,{x:0,y:0},{x:Hr,y:dn},sr.data),Ts.copy(sr.data,ge,{x:0,y:wn-1},{x:Hr,y:dn-1},{width:un,height:1}),Ts.copy(sr.data,ge,{x:0,y:0},{x:Hr,y:dn+wn},{width:un,height:1}),Ts.copy(sr.data,ge,{x:un-1,y:0},{x:Hr-1,y:dn},{width:1,height:wn}),Ts.copy(sr.data,ge,{x:0,y:0},{x:Hr+un,y:dn},{width:1,height:wn})}this.image=ge,this.iconPositions=U,this.patternPositions=ct};Ud.prototype.addImages=function(y,D,U){for(var ct in y){var yt=y[ct],Mt={x:0,y:0,w:yt.data.width+2*Vs,h:yt.data.height+2*Vs};U.push(Mt),D[ct]=new vv(Mt,yt),yt.hasRenderCallback&&this.haveRenderCallbacks.push(ct)}},Ud.prototype.patchUpdatedImages=function(y,D){y.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var U in y.updatedImages)this.patchUpdatedImage(this.iconPositions[U],y.getImage(U),D),this.patchUpdatedImage(this.patternPositions[U],y.getImage(U),D)},Ud.prototype.patchUpdatedImage=function(y,D,U){if(!(!y||!D)&&y.version!==D.version){y.version=D.version;var ct=y.tl,yt=ct[0],Mt=ct[1];U.update(D.data,void 0,{x:yt,y:Mt})}},zt("ImagePosition",vv),zt("ImageAtlas",Ud);var ol={horizontal:1,vertical:2,horizontalOnly:3},qd=-17;function k8(y){for(var D=0,U=y;D<U.length;D+=1){var ct=U[D];if(ct.positionedGlyphs.length!==0)return!1}return!0}var gx=57344,yx=63743,Lp=function(){this.scale=1,this.fontStack="",this.imageName=null};Lp.forText=function(y,D){var U=new Lp;return U.scale=y||1,U.fontStack=D,U},Lp.forImage=function(y){var D=new Lp;return D.imageName=y,D};var Wo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Wo.fromFeature=function(y,D){for(var U=new Wo,ct=0;ct<y.sections.length;ct++){var yt=y.sections[ct];yt.image?U.addImageSection(yt):U.addTextSection(yt,D)}return U},Wo.prototype.length=function(){return this.text.length},Wo.prototype.getSection=function(y){return this.sections[this.sectionIndex[y]]},Wo.prototype.getSectionIndex=function(y){return this.sectionIndex[y]},Wo.prototype.getCharCode=function(y){return this.text.charCodeAt(y)},Wo.prototype.verticalizePunctuation=function(){this.text=Q6(this.text)},Wo.prototype.trim=function(){for(var y=0,D=0;D<this.text.length&&pc[this.text.charCodeAt(D)];D++)y++;for(var U=this.text.length,ct=this.text.length-1;ct>=0&&ct>=y&&pc[this.text.charCodeAt(ct)];ct--)U--;this.text=this.text.substring(y,U),this.sectionIndex=this.sectionIndex.slice(y,U)},Wo.prototype.substring=function(y,D){var U=new Wo;return U.text=this.text.substring(y,D),U.sectionIndex=this.sectionIndex.slice(y,D),U.sections=this.sections,U},Wo.prototype.toString=function(){return this.text},Wo.prototype.getMaxScale=function(){var y=this;return this.sectionIndex.reduce(function(D,U){return Math.max(D,y.sections[U].scale)},0)},Wo.prototype.addTextSection=function(y,D){this.text+=y.text,this.sections.push(Lp.forText(y.scale,y.fontStack||D));for(var U=this.sections.length-1,ct=0;ct<y.text.length;++ct)this.sectionIndex.push(U)},Wo.prototype.addImageSection=function(y){var D=y.image?y.image.name:"";if(D.length===0){I("Can't add FormattedSection with an empty image.");return}var U=this.getNextImageSectionCharCode();if(!U){I("Reached maximum number of images "+(yx-gx+2));return}this.text+=String.fromCharCode(U),this.sections.push(Lp.forImage(D)),this.sectionIndex.push(this.sections.length-1)},Wo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=yx?null:++this.imageSectionID:(this.imageSectionID=gx,this.imageSectionID)};function T8(y,D){for(var U=[],ct=y.text,yt=0,Mt=0,Bt=D;Mt<Bt.length;Mt+=1){var ne=Bt[Mt];U.push(y.substring(yt,ne)),yt=ne}return yt<ct.length&&U.push(y.substring(yt,ct.length)),U}function gv(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr){var dn=Wo.fromFeature(y,yt);qe===ol.vertical&&dn.verticalizePunctuation();var un,wn=Yn.processBidirectionalText,Sn=Yn.processStyledBidirectionalText;if(wn&&dn.sections.length===1){un=[];for(var mn=wn(dn.toString(),Ey(dn,Ae,Mt,D,ct,sr,Sr)),Fn=0,Zn=mn;Fn<Zn.length;Fn+=1){var ti=Zn[Fn],ei=new Wo;ei.text=ti,ei.sections=dn.sections;for(var bi=0;bi<ti.length;bi++)ei.sectionIndex.push(0);un.push(ei)}}else if(Sn){un=[];for(var _i=Sn(dn.text,dn.sectionIndex,Ey(dn,Ae,Mt,D,ct,sr,Sr)),Ai=0,Pi=_i;Ai<Pi.length;Ai+=1){var Fi=Pi[Ai],Si=new Wo;Si.text=Fi[0],Si.sectionIndex=Fi[1],Si.sections=dn.sections,un.push(Si)}}else un=T8(dn,Ey(dn,Ae,Mt,D,ct,sr,Sr));var Li=[],Ji={positionedLines:Li,text:dn.toString(),top:je[1],bottom:je[1],left:je[0],right:je[0],writingMode:qe,iconsInText:!1,verticalizable:!1};return S8(Ji,D,U,ct,un,Bt,ne,ge,qe,Ae,Qe,Hr),k8(Li)?!1:Ji}var pc={};pc[9]=!0,pc[10]=!0,pc[11]=!0,pc[12]=!0,pc[13]=!0,pc[32]=!0;var Xs={};Xs[10]=!0,Xs[32]=!0,Xs[38]=!0,Xs[40]=!0,Xs[41]=!0,Xs[43]=!0,Xs[45]=!0,Xs[47]=!0,Xs[173]=!0,Xs[183]=!0,Xs[8203]=!0,Xs[8208]=!0,Xs[8211]=!0,Xs[8231]=!0;function mx(y,D,U,ct,yt,Mt){if(D.imageName){var Bt=ct[D.imageName];return Bt?Bt.displaySize[0]*D.scale*zo/Mt+yt:0}else{var ne=U[D.fontStack],ge=ne&&ne[y];return ge?ge.metrics.advance*D.scale+yt:0}}function M8(y,D,U,ct,yt,Mt){for(var Bt=0,ne=0;ne<y.length();ne++){var ge=y.getSection(ne);Bt+=mx(y.getCharCode(ne),ge,ct,yt,D,Mt)}var Ae=Math.max(1,Math.ceil(Bt/U));return Bt/Ae}function xx(y,D,U,ct){var yt=Math.pow(y-D,2);return ct?y<D?yt/2:yt*2:yt+Math.abs(U)*U}function A8(y,D,U){var ct=0;return y===10&&(ct-=1e4),U&&(ct+=150),(y===40||y===65288)&&(ct+=50),(D===41||D===65289)&&(ct+=50),ct}function bx(y,D,U,ct,yt,Mt){for(var Bt=null,ne=xx(D,U,yt,Mt),ge=0,Ae=ct;ge<Ae.length;ge+=1){var je=Ae[ge],qe=D-je.x,Qe=xx(qe,U,yt,Mt)+je.badness;Qe<=ne&&(Bt=je,ne=Qe)}return{index:y,x:D,priorBreak:Bt,badness:ne}}function _x(y){return y?_x(y.priorBreak).concat(y.index):[]}function Ey(y,D,U,ct,yt,Mt,Bt){if(Mt!=="point")return[];if(!y)return[];for(var ne=[],ge=M8(y,D,U,ct,yt,Bt),Ae=y.text.indexOf("​")>=0,je=0,qe=0;qe<y.length();qe++){var Qe=y.getSection(qe),sr=y.getCharCode(qe);if(pc[sr]||(je+=mx(sr,Qe,ct,yt,D,Bt)),qe<y.length()-1){var Sr=Yr(sr);(Xs[sr]||Sr||Qe.imageName)&&ne.push(bx(qe+1,je,ge,ne,A8(sr,y.getCharCode(qe+1),Sr&&Ae),!1))}}return _x(bx(y.length(),je,ge,ne,0,!0))}function Ly(y){var D=.5,U=.5;switch(y){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(y){case"bottom":case"bottom-right":case"bottom-left":U=1;break;case"top":case"top-right":case"top-left":U=0;break}return{horizontalAlign:D,verticalAlign:U}}function S8(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe){for(var Qe=0,sr=qd,Sr=0,Hr=0,dn=ne==="right"?1:ne==="left"?0:.5,un=0,wn=0,Sn=yt;wn<Sn.length;wn+=1){var mn=Sn[wn];mn.trim();var Fn=mn.getMaxScale(),Zn=(Fn-1)*zo,ti={positionedGlyphs:[],lineOffset:0};y.positionedLines[un]=ti;var ei=ti.positionedGlyphs,bi=0;if(!mn.length()){sr+=Mt,++un;continue}for(var _i=0;_i<mn.length();_i++){var Ai=mn.getSection(_i),Pi=mn.getSectionIndex(_i),Fi=mn.getCharCode(_i),Si=0,Li=null,Ji=null,va=null,Ta=zo,ta=!(ge===ol.horizontal||!je&&!on(Fi)||je&&(pc[Fi]||Zr(Fi)));if(Ai.imageName){var ga=ct[Ai.imageName];if(!ga)continue;va=Ai.imageName,y.iconsInText=y.iconsInText||!0,Ji=ga.paddedRect;var Qi=ga.displaySize;Ai.scale=Ai.scale*zo/qe,Li={width:Qi[0],height:Qi[1],left:Vs,top:-dx,advance:ta?Qi[1]:Qi[0]};var La=zo-Qi[1]*Ai.scale;Si=Zn+La,Ta=Li.advance;var wa=ta?Qi[0]*Ai.scale-zo*Fn:Qi[1]*Ai.scale-zo*Fn;wa>0&&wa>bi&&(bi=wa)}else{var Za=U[Ai.fontStack],Ro=Za&&Za[Fi];if(Ro&&Ro.rect)Ji=Ro.rect,Li=Ro.metrics;else{var po=D[Ai.fontStack],Go=po&&po[Fi];if(!Go)continue;Li=Go.metrics}Si=(Fn-Ai.scale)*zo}ta?(y.verticalizable=!0,ei.push({glyph:Fi,imageName:va,x:Qe,y:sr+Si,vertical:ta,scale:Ai.scale,fontStack:Ai.fontStack,sectionIndex:Pi,metrics:Li,rect:Ji}),Qe+=Ta*Ai.scale+Ae):(ei.push({glyph:Fi,imageName:va,x:Qe,y:sr+Si,vertical:ta,scale:Ai.scale,fontStack:Ai.fontStack,sectionIndex:Pi,metrics:Li,rect:Ji}),Qe+=Li.advance*Ai.scale+Ae)}if(ei.length!==0){var Zo=Qe-Ae;Sr=Math.max(Zo,Sr),E8(ei,0,ei.length-1,dn,bi)}Qe=0;var Yo=Mt*Fn+bi;ti.lineOffset=Math.max(bi,Zn),sr+=Yo,Hr=Math.max(Yo,Hr),++un}var Mo=sr-qd,cs=Ly(Bt),fs=cs.horizontalAlign,bo=cs.verticalAlign;L8(y.positionedLines,dn,fs,bo,Sr,Hr,Mt,Mo,yt.length),y.top+=-bo*Mo,y.bottom=y.top+Mo,y.left+=-fs*Sr,y.right=y.left+Sr}function E8(y,D,U,ct,yt){if(!(!ct&&!yt))for(var Mt=y[U],Bt=Mt.metrics.advance*Mt.scale,ne=(y[U].x+Bt)*ct,ge=D;ge<=U;ge++)y[ge].x-=ne,y[ge].y+=yt}function L8(y,D,U,ct,yt,Mt,Bt,ne,ge){var Ae=(D-U)*yt,je=0;Mt!==Bt?je=-ne*ct-qd:je=(-ct*ge+.5)*Bt;for(var qe=0,Qe=y;qe<Qe.length;qe+=1)for(var sr=Qe[qe],Sr=0,Hr=sr.positionedGlyphs;Sr<Hr.length;Sr+=1){var dn=Hr[Sr];dn.x+=Ae,dn.y+=je}}function P8(y,D,U){var ct=Ly(U),yt=ct.horizontalAlign,Mt=ct.verticalAlign,Bt=D[0],ne=D[1],ge=Bt-y.displaySize[0]*yt,Ae=ge+y.displaySize[0],je=ne-y.displaySize[1]*Mt,qe=je+y.displaySize[1];return{image:y,top:je,bottom:qe,left:ge,right:Ae}}function wx(y,D,U,ct,yt,Mt){var Bt=y.image,ne;if(Bt.content){var ge=Bt.content,Ae=Bt.pixelRatio||1;ne=[ge[0]/Ae,ge[1]/Ae,Bt.displaySize[0]-ge[2]/Ae,Bt.displaySize[1]-ge[3]/Ae]}var je=D.left*Mt,qe=D.right*Mt,Qe,sr,Sr,Hr;U==="width"||U==="both"?(Hr=yt[0]+je-ct[3],sr=yt[0]+qe+ct[1]):(Hr=yt[0]+(je+qe-Bt.displaySize[0])/2,sr=Hr+Bt.displaySize[0]);var dn=D.top*Mt,un=D.bottom*Mt;return U==="height"||U==="both"?(Qe=yt[1]+dn-ct[0],Sr=yt[1]+un+ct[2]):(Qe=yt[1]+(dn+un-Bt.displaySize[1])/2,Sr=Qe+Bt.displaySize[1]),{image:Bt,top:Qe,right:sr,bottom:Sr,left:Hr,collisionPadding:ne}}var Pp=function(y){function D(U,ct,yt,Mt){y.call(this,U,ct),this.angle=yt,Mt!==void 0&&(this.segment=Mt)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(r);zt("Anchor",Pp);var Fu=128;function Py(y,D){var U=D.expression;if(U.kind==="constant"){var ct=U.evaluate(new wi(y+1));return{kind:"constant",layoutSize:ct}}else{if(U.kind==="source")return{kind:"source"};for(var yt=U.zoomStops,Mt=U.interpolationType,Bt=0;Bt<yt.length&&yt[Bt]<=y;)Bt++;Bt=Math.max(0,Bt-1);for(var ne=Bt;ne<yt.length&&yt[ne]<y+1;)ne++;ne=Math.min(yt.length-1,ne);var ge=yt[Bt],Ae=yt[ne];if(U.kind==="composite")return{kind:"composite",minZoom:ge,maxZoom:Ae,interpolationType:Mt};var je=U.evaluate(new wi(ge)),qe=U.evaluate(new wi(Ae));return{kind:"camera",minZoom:ge,maxZoom:Ae,minSize:je,maxSize:qe,interpolationType:Mt}}}function kx(y,D,U){var ct=D.uSize,yt=D.uSizeT,Mt=U.lowerSize,Bt=U.upperSize;return y.kind==="source"?Mt/Fu:y.kind==="composite"?Pa(Mt/Fu,Bt/Fu,yt):ct}function Tx(y,D){var U=0,ct=0;if(y.kind==="constant")ct=y.layoutSize;else if(y.kind!=="source"){var yt=y.interpolationType,Mt=y.minZoom,Bt=y.maxZoom,ne=yt?f(Ra.interpolationFactor(yt,D,Mt,Bt),0,1):0;y.kind==="camera"?ct=Pa(y.minSize,y.maxSize,ne):U=ne}return{uSizeT:U,uSize:ct}}var C8=Object.freeze({__proto__:null,getSizeData:Py,evaluateSizeForFeature:kx,evaluateSizeForZoom:Tx,SIZE_PACK_FACTOR:Fu});function Mx(y,D,U,ct,yt){if(D.segment===void 0)return!0;for(var Mt=D,Bt=D.segment+1,ne=0;ne>-U/2;){if(Bt--,Bt<0)return!1;ne-=y[Bt].dist(Mt),Mt=y[Bt]}ne+=y[Bt].dist(y[Bt+1]),Bt++;for(var ge=[],Ae=0;ne<U/2;){var je=y[Bt-1],qe=y[Bt],Qe=y[Bt+1];if(!Qe)return!1;var sr=je.angleTo(qe)-qe.angleTo(Qe);for(sr=Math.abs((sr+3*Math.PI)%(Math.PI*2)-Math.PI),ge.push({distance:ne,angleDelta:sr}),Ae+=sr;ne-ge[0].distance>ct;)Ae-=ge.shift().angleDelta;if(Ae>yt)return!1;Bt++,ne+=qe.dist(Qe)}return!0}function Ax(y){for(var D=0,U=0;U<y.length-1;U++)D+=y[U].dist(y[U+1]);return D}function Sx(y,D,U){return y?.6*D*U:0}function Ex(y,D){return Math.max(y?y.right-y.left:0,D?D.right-D.left:0)}function I8(y,D,U,ct,yt,Mt){for(var Bt=Sx(U,yt,Mt),ne=Ex(U,ct)*Mt,ge=0,Ae=Ax(y)/2,je=0;je<y.length-1;je++){var qe=y[je],Qe=y[je+1],sr=qe.dist(Qe);if(ge+sr>Ae){var Sr=(Ae-ge)/sr,Hr=Pa(qe.x,Qe.x,Sr),dn=Pa(qe.y,Qe.y,Sr),un=new Pp(Hr,dn,Qe.angleTo(qe),je);return un._round(),!Bt||Mx(y,un,ne,Bt,D)?un:void 0}ge+=sr}}function O8(y,D,U,ct,yt,Mt,Bt,ne,ge){var Ae=Sx(ct,Mt,Bt),je=Ex(ct,yt),qe=je*Bt,Qe=y[0].x===0||y[0].x===ge||y[0].y===0||y[0].y===ge;D-qe<D/4&&(D=qe+D/4);var sr=Mt*2,Sr=Qe?D/2*ne%D:(je/2+sr)*Bt*ne%D;return Lx(y,Sr,D,Ae,U,qe,Qe,!1,ge)}function Lx(y,D,U,ct,yt,Mt,Bt,ne,ge){for(var Ae=Mt/2,je=Ax(y),qe=0,Qe=D-U,sr=[],Sr=0;Sr<y.length-1;Sr++){for(var Hr=y[Sr],dn=y[Sr+1],un=Hr.dist(dn),wn=dn.angleTo(Hr);Qe+U<qe+un;){Qe+=U;var Sn=(Qe-qe)/un,mn=Pa(Hr.x,dn.x,Sn),Fn=Pa(Hr.y,dn.y,Sn);if(mn>=0&&mn<ge&&Fn>=0&&Fn<ge&&Qe-Ae>=0&&Qe+Ae<=je){var Zn=new Pp(mn,Fn,wn,Sr);Zn._round(),(!ct||Mx(y,Zn,Mt,ct,yt))&&sr.push(Zn)}}qe+=un}return!ne&&!sr.length&&!Bt&&(sr=Lx(y,qe/2,U,ct,yt,Mt,Bt,!0,ge)),sr}function Px(y,D,U,ct,yt){for(var Mt=[],Bt=0;Bt<y.length;Bt++)for(var ne=y[Bt],ge=void 0,Ae=0;Ae<ne.length-1;Ae++){var je=ne[Ae],qe=ne[Ae+1];je.x<D&&qe.x<D||(je.x<D?je=new r(D,je.y+(qe.y-je.y)*((D-je.x)/(qe.x-je.x)))._round():qe.x<D&&(qe=new r(D,je.y+(qe.y-je.y)*((D-je.x)/(qe.x-je.x)))._round()),!(je.y<U&&qe.y<U)&&(je.y<U?je=new r(je.x+(qe.x-je.x)*((U-je.y)/(qe.y-je.y)),U)._round():qe.y<U&&(qe=new r(je.x+(qe.x-je.x)*((U-je.y)/(qe.y-je.y)),U)._round()),!(je.x>=ct&&qe.x>=ct)&&(je.x>=ct?je=new r(ct,je.y+(qe.y-je.y)*((ct-je.x)/(qe.x-je.x)))._round():qe.x>=ct&&(qe=new r(ct,je.y+(qe.y-je.y)*((ct-je.x)/(qe.x-je.x)))._round()),!(je.y>=yt&&qe.y>=yt)&&(je.y>=yt?je=new r(je.x+(qe.x-je.x)*((yt-je.y)/(qe.y-je.y)),yt)._round():qe.y>=yt&&(qe=new r(je.x+(qe.x-je.x)*((yt-je.y)/(qe.y-je.y)),yt)._round()),(!ge||!je.equals(ge[ge.length-1]))&&(ge=[je],Mt.push(ge)),ge.push(qe)))))}return Mt}var Cp=Vs;function Cx(y,D,U,ct){var yt=[],Mt=y.image,Bt=Mt.pixelRatio,ne=Mt.paddedRect.w-2*Cp,ge=Mt.paddedRect.h-2*Cp,Ae=y.right-y.left,je=y.bottom-y.top,qe=Mt.stretchX||[[0,ne]],Qe=Mt.stretchY||[[0,ge]],sr=function(ga,Qi){return ga+Qi[1]-Qi[0]},Sr=qe.reduce(sr,0),Hr=Qe.reduce(sr,0),dn=ne-Sr,un=ge-Hr,wn=0,Sn=Sr,mn=0,Fn=Hr,Zn=0,ti=dn,ei=0,bi=un;if(Mt.content&&ct){var _i=Mt.content;wn=yv(qe,0,_i[0]),mn=yv(Qe,0,_i[1]),Sn=yv(qe,_i[0],_i[2]),Fn=yv(Qe,_i[1],_i[3]),Zn=_i[0]-wn,ei=_i[1]-mn,ti=_i[2]-_i[0]-Sn,bi=_i[3]-_i[1]-Fn}var Ai=function(ga,Qi,La,wa){var Za=mv(ga.stretch-wn,Sn,Ae,y.left),Ro=xv(ga.fixed-Zn,ti,ga.stretch,Sr),po=mv(Qi.stretch-mn,Fn,je,y.top),Go=xv(Qi.fixed-ei,bi,Qi.stretch,Hr),Zo=mv(La.stretch-wn,Sn,Ae,y.left),Yo=xv(La.fixed-Zn,ti,La.stretch,Sr),Mo=mv(wa.stretch-mn,Fn,je,y.top),cs=xv(wa.fixed-ei,bi,wa.stretch,Hr),fs=new r(Za,po),bo=new r(Zo,po),hs=new r(Zo,Mo),sl=new r(Za,Mo),qc=new r(Ro/Bt,Go/Bt),Nf=new r(Yo/Bt,cs/Bt),jf=D*Math.PI/180;if(jf){var Hf=Math.sin(jf),Np=Math.cos(jf),ru=[Np,-Hf,Hf,Np];fs._matMult(ru),bo._matMult(ru),sl._matMult(ru),hs._matMult(ru)}var Mv=ga.stretch+ga.fixed,By=La.stretch+La.fixed,Av=Qi.stretch+Qi.fixed,Ny=wa.stretch+wa.fixed,Ml={x:Mt.paddedRect.x+Cp+Mv,y:Mt.paddedRect.y+Cp+Av,w:By-Mv,h:Ny-Av},jp=ti/Bt/Ae,Sv=bi/Bt/je;return{tl:fs,tr:bo,bl:sl,br:hs,tex:Ml,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qc,pixelOffsetBR:Nf,minFontScaleX:jp,minFontScaleY:Sv,isSDF:U}};if(!ct||!Mt.stretchX&&!Mt.stretchY)yt.push(Ai({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ne+1},{fixed:0,stretch:ge+1}));else for(var Pi=Ix(qe,dn,Sr),Fi=Ix(Qe,un,Hr),Si=0;Si<Pi.length-1;Si++)for(var Li=Pi[Si],Ji=Pi[Si+1],va=0;va<Fi.length-1;va++){var Ta=Fi[va],ta=Fi[va+1];yt.push(Ai(Li,Ta,Ji,ta))}return yt}function yv(y,D,U){for(var ct=0,yt=0,Mt=y;yt<Mt.length;yt+=1){var Bt=Mt[yt];ct+=Math.max(D,Math.min(U,Bt[1]))-Math.max(D,Math.min(U,Bt[0]))}return ct}function Ix(y,D,U){for(var ct=[{fixed:-Cp,stretch:0}],yt=0,Mt=y;yt<Mt.length;yt+=1){var Bt=Mt[yt],ne=Bt[0],ge=Bt[1],Ae=ct[ct.length-1];ct.push({fixed:ne-Ae.stretch,stretch:Ae.stretch}),ct.push({fixed:ne-Ae.stretch,stretch:Ae.stretch+(ge-ne)})}return ct.push({fixed:D+Cp,stretch:U}),ct}function mv(y,D,U,ct){return y/D*U+ct}function xv(y,D,U,ct){return y-D*U/ct}function z8(y,D,U,ct,yt,Mt,Bt,ne){for(var ge=ct.layout.get("text-rotate").evaluate(Mt,{})*Math.PI/180,Ae=[],je=0,qe=D.positionedLines;je<qe.length;je+=1)for(var Qe=qe[je],sr=0,Sr=Qe.positionedGlyphs;sr<Sr.length;sr+=1){var Hr=Sr[sr];if(Hr.rect){var dn=Hr.rect||{},un=1,wn=dx+un,Sn=!0,mn=1,Fn=0,Zn=(yt||ne)&&Hr.vertical,ti=Hr.metrics.advance*Hr.scale/2;if(ne&&D.verticalizable){var ei=(Hr.scale-1)*zo,bi=(zo-Hr.metrics.width*Hr.scale)/2;Fn=Qe.lineOffset/2-(Hr.imageName?-bi:ei)}if(Hr.imageName){var _i=Bt[Hr.imageName];Sn=_i.sdf,mn=_i.pixelRatio,wn=Vs/mn}var Ai=yt?[Hr.x+ti,Hr.y]:[0,0],Pi=yt?[0,0]:[Hr.x+ti+U[0],Hr.y+U[1]-Fn],Fi=[0,0];Zn&&(Fi=Pi,Pi=[0,0]);var Si=(Hr.metrics.left-wn)*Hr.scale-ti+Pi[0],Li=(-Hr.metrics.top-wn)*Hr.scale+Pi[1],Ji=Si+dn.w*Hr.scale/mn,va=Li+dn.h*Hr.scale/mn,Ta=new r(Si,Li),ta=new r(Ji,Li),ga=new r(Si,va),Qi=new r(Ji,va);if(Zn){var La=new r(-ti,ti-qd),wa=-Math.PI/2,Za=zo/2-ti,Ro=Hr.imageName?Za:0,po=new r(5-qd-Za,-Ro),Go=new(Function.prototype.bind.apply(r,[null].concat(Fi)));Ta._rotateAround(wa,La)._add(po)._add(Go),ta._rotateAround(wa,La)._add(po)._add(Go),ga._rotateAround(wa,La)._add(po)._add(Go),Qi._rotateAround(wa,La)._add(po)._add(Go)}if(ge){var Zo=Math.sin(ge),Yo=Math.cos(ge),Mo=[Yo,-Zo,Zo,Yo];Ta._matMult(Mo),ta._matMult(Mo),ga._matMult(Mo),Qi._matMult(Mo)}var cs=new r(0,0),fs=new r(0,0),bo=0,hs=0;Ae.push({tl:Ta,tr:ta,bl:ga,br:Qi,tex:dn,writingMode:D.writingMode,glyphOffset:Ai,sectionIndex:Hr.sectionIndex,isSDF:Sn,pixelOffsetTL:cs,pixelOffsetBR:fs,minFontScaleX:bo,minFontScaleY:hs})}}return Ae}var bv=function(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae){if(this.boxStartIndex=y.length,ge){var je=Mt.top,qe=Mt.bottom,Qe=Mt.collisionPadding;Qe&&(je-=Qe[1],qe+=Qe[3]);var sr=qe-je;sr>0&&(sr=Math.max(10,sr),this.circleDiameter=sr)}else{var Sr=Mt.top*Bt-ne,Hr=Mt.bottom*Bt+ne,dn=Mt.left*Bt-ne,un=Mt.right*Bt+ne,wn=Mt.collisionPadding;if(wn&&(dn-=wn[0]*Bt,Sr-=wn[1]*Bt,un+=wn[2]*Bt,Hr+=wn[3]*Bt),Ae){var Sn=new r(dn,Sr),mn=new r(un,Sr),Fn=new r(dn,Hr),Zn=new r(un,Hr),ti=Ae*Math.PI/180;Sn._rotate(ti),mn._rotate(ti),Fn._rotate(ti),Zn._rotate(ti),dn=Math.min(Sn.x,mn.x,Fn.x,Zn.x),un=Math.max(Sn.x,mn.x,Fn.x,Zn.x),Sr=Math.min(Sn.y,mn.y,Fn.y,Zn.y),Hr=Math.max(Sn.y,mn.y,Fn.y,Zn.y)}y.emplaceBack(D.x,D.y,dn,Sr,un,Hr,U,ct,yt)}this.boxEndIndex=y.length},Ip=function(y,D){if(y===void 0&&(y=[]),D===void 0&&(D=R8),this.data=y,this.length=this.data.length,this.compare=D,this.length>0)for(var U=(this.length>>1)-1;U>=0;U--)this._down(U)};Ip.prototype.push=function(y){this.data.push(y),this.length++,this._up(this.length-1)},Ip.prototype.pop=function(){if(this.length!==0){var y=this.data[0],D=this.data.pop();return this.length--,this.length>0&&(this.data[0]=D,this._down(0)),y}},Ip.prototype.peek=function(){return this.data[0]},Ip.prototype._up=function(y){for(var D=this,U=D.data,ct=D.compare,yt=U[y];y>0;){var Mt=y-1>>1,Bt=U[Mt];if(ct(yt,Bt)>=0)break;U[y]=Bt,y=Mt}U[y]=yt},Ip.prototype._down=function(y){for(var D=this,U=D.data,ct=D.compare,yt=this.length>>1,Mt=U[y];y<yt;){var Bt=(y<<1)+1,ne=U[Bt],ge=Bt+1;if(ge<this.length&&ct(U[ge],ne)<0&&(Bt=ge,ne=U[ge]),ct(ne,Mt)>=0)break;U[y]=ne,y=Bt}U[y]=Mt};function R8(y,D){return y<D?-1:y>D?1:0}function D8(y,D,U){D===void 0&&(D=1),U===void 0&&(U=!1);for(var ct=1/0,yt=1/0,Mt=-1/0,Bt=-1/0,ne=y[0],ge=0;ge<ne.length;ge++){var Ae=ne[ge];(!ge||Ae.x<ct)&&(ct=Ae.x),(!ge||Ae.y<yt)&&(yt=Ae.y),(!ge||Ae.x>Mt)&&(Mt=Ae.x),(!ge||Ae.y>Bt)&&(Bt=Ae.y)}var je=Mt-ct,qe=Bt-yt,Qe=Math.min(je,qe),sr=Qe/2,Sr=new Ip([],F8);if(Qe===0)return new r(ct,yt);for(var Hr=ct;Hr<Mt;Hr+=Qe)for(var dn=yt;dn<Bt;dn+=Qe)Sr.push(new Op(Hr+sr,dn+sr,sr,y));for(var un=N8(y),wn=Sr.length;Sr.length;){var Sn=Sr.pop();(Sn.d>un.d||!un.d)&&(un=Sn,U&&console.log("found best %d after %d probes",Math.round(1e4*Sn.d)/1e4,wn)),!(Sn.max-un.d<=D)&&(sr=Sn.h/2,Sr.push(new Op(Sn.p.x-sr,Sn.p.y-sr,sr,y)),Sr.push(new Op(Sn.p.x+sr,Sn.p.y-sr,sr,y)),Sr.push(new Op(Sn.p.x-sr,Sn.p.y+sr,sr,y)),Sr.push(new Op(Sn.p.x+sr,Sn.p.y+sr,sr,y)),wn+=4)}return U&&(console.log("num probes: "+wn),console.log("best distance: "+un.d)),un.p}function F8(y,D){return D.max-y.max}function Op(y,D,U,ct){this.p=new r(y,D),this.h=U,this.d=B8(this.p,ct),this.max=this.d+this.h*Math.SQRT2}function B8(y,D){for(var U=!1,ct=1/0,yt=0;yt<D.length;yt++)for(var Mt=D[yt],Bt=0,ne=Mt.length,ge=ne-1;Bt<ne;ge=Bt++){var Ae=Mt[Bt],je=Mt[ge];Ae.y>y.y!=je.y>y.y&&y.x<(je.x-Ae.x)*(y.y-Ae.y)/(je.y-Ae.y)+Ae.x&&(U=!U),ct=Math.min(ct,ls(y,Ae,je))}return(U?1:-1)*Math.sqrt(ct)}function N8(y){for(var D=0,U=0,ct=0,yt=y[0],Mt=0,Bt=yt.length,ne=Bt-1;Mt<Bt;ne=Mt++){var ge=yt[Mt],Ae=yt[ne],je=ge.x*Ae.y-Ae.x*ge.y;U+=(ge.x+Ae.x)*je,ct+=(ge.y+Ae.y)*je,D+=je*3}return new Op(U/D,ct/D,0,y)}var zp=7,Cy=Number.POSITIVE_INFINITY;function Ox(y,D){function U(yt,Mt){var Bt=0,ne=0;Mt<0&&(Mt=0);var ge=Mt/Math.sqrt(2);switch(yt){case"top-right":case"top-left":ne=ge-zp;break;case"bottom-right":case"bottom-left":ne=-ge+zp;break;case"bottom":ne=-Mt+zp;break;case"top":ne=Mt-zp;break}switch(yt){case"top-right":case"bottom-right":Bt=-ge;break;case"top-left":case"bottom-left":Bt=ge;break;case"left":Bt=Mt;break;case"right":Bt=-Mt;break}return[Bt,ne]}function ct(yt,Mt,Bt){var ne=0,ge=0;switch(Mt=Math.abs(Mt),Bt=Math.abs(Bt),yt){case"top-right":case"top-left":case"top":ge=Bt-zp;break;case"bottom-right":case"bottom-left":case"bottom":ge=-Bt+zp;break}switch(yt){case"top-right":case"bottom-right":case"right":ne=-Mt;break;case"top-left":case"bottom-left":case"left":ne=Mt;break}return[ne,ge]}return D[1]!==Cy?ct(y,D[0],D[1]):U(y,D[0])}function j8(y,D,U,ct,yt,Mt,Bt){y.createArrays();var ne=512*y.overscaling;y.tilePixelRatio=Ri/ne,y.compareText={},y.iconsNeedLinear=!1;var ge=y.layers[0].layout,Ae=y.layers[0]._unevaluatedLayout._values,je={};if(y.textSizeData.kind==="composite"){var qe=y.textSizeData,Qe=qe.minZoom,sr=qe.maxZoom;je.compositeTextSizes=[Ae["text-size"].possiblyEvaluate(new wi(Qe),Bt),Ae["text-size"].possiblyEvaluate(new wi(sr),Bt)]}if(y.iconSizeData.kind==="composite"){var Sr=y.iconSizeData,Hr=Sr.minZoom,dn=Sr.maxZoom;je.compositeIconSizes=[Ae["icon-size"].possiblyEvaluate(new wi(Hr),Bt),Ae["icon-size"].possiblyEvaluate(new wi(dn),Bt)]}je.layoutTextSize=Ae["text-size"].possiblyEvaluate(new wi(y.zoom+1),Bt),je.layoutIconSize=Ae["icon-size"].possiblyEvaluate(new wi(y.zoom+1),Bt),je.textMaxSize=Ae["text-size"].possiblyEvaluate(new wi(18));for(var un=ge.get("text-line-height")*zo,wn=ge.get("text-rotation-alignment")==="map"&&ge.get("symbol-placement")!=="point",Sn=ge.get("text-keep-upright"),mn=ge.get("text-size"),Fn=function(){var ei=ti[Zn],bi=ge.get("text-font").evaluate(ei,{},Bt).join(","),_i=mn.evaluate(ei,{},Bt),Ai=je.layoutTextSize.evaluate(ei,{},Bt),Pi=je.layoutIconSize.evaluate(ei,{},Bt),Fi={horizontal:{},vertical:void 0},Si=ei.text,Li=[0,0];if(Si){var Ji=Si.toString(),va=ge.get("text-letter-spacing").evaluate(ei,{},Bt)*zo,Ta=Ar(Ji)?va:0,ta=ge.get("text-anchor").evaluate(ei,{},Bt),ga=ge.get("text-variable-anchor");if(!ga){var Qi=ge.get("text-radial-offset").evaluate(ei,{},Bt);Qi?Li=Ox(ta,[Qi*zo,Cy]):Li=ge.get("text-offset").evaluate(ei,{},Bt).map(function(qc){return qc*zo})}var La=wn?"center":ge.get("text-justify").evaluate(ei,{},Bt),wa=ge.get("symbol-placement"),Za=wa==="point"?ge.get("text-max-width").evaluate(ei,{},Bt)*zo:0,Ro=function(){y.allowVerticalPlacement&&tr(Ji)&&(Fi.vertical=gv(Si,D,U,yt,bi,Za,un,ta,"left",Ta,Li,ol.vertical,!0,wa,Ai,_i))};if(!wn&&ga){for(var po=La==="auto"?ga.map(function(qc){return Iy(qc)}):[La],Go=!1,Zo=0;Zo<po.length;Zo++){var Yo=po[Zo];if(!Fi.horizontal[Yo])if(Go)Fi.horizontal[Yo]=Fi.horizontal[0];else{var Mo=gv(Si,D,U,yt,bi,Za,un,"center",Yo,Ta,Li,ol.horizontal,!1,wa,Ai,_i);Mo&&(Fi.horizontal[Yo]=Mo,Go=Mo.positionedLines.length===1)}}Ro()}else{La==="auto"&&(La=Iy(ta));var cs=gv(Si,D,U,yt,bi,Za,un,ta,La,Ta,Li,ol.horizontal,!1,wa,Ai,_i);cs&&(Fi.horizontal[La]=cs),Ro(),tr(Ji)&&wn&&Sn&&(Fi.vertical=gv(Si,D,U,yt,bi,Za,un,ta,La,Ta,Li,ol.vertical,!1,wa,Ai,_i))}}var fs=void 0,bo=!1;if(ei.icon&&ei.icon.name){var hs=ct[ei.icon.name];hs&&(fs=P8(yt[ei.icon.name],ge.get("icon-offset").evaluate(ei,{},Bt),ge.get("icon-anchor").evaluate(ei,{},Bt)),bo=hs.sdf,y.sdfIcons===void 0?y.sdfIcons=hs.sdf:y.sdfIcons!==hs.sdf&&I("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(hs.pixelRatio!==y.pixelRatio||ge.get("icon-rotate").constantOr(1)!==0)&&(y.iconsNeedLinear=!0))}var sl=Rx(Fi.horizontal)||Fi.vertical;y.iconsInText=sl?sl.iconsInText:!1,(sl||fs)&&H8(y,ei,Fi,fs,ct,je,Ai,Pi,Li,bo,Bt)},Zn=0,ti=y.features;Zn<ti.length;Zn+=1)Fn();Mt&&y.generateCollisionDebugBuffers()}function Iy(y){switch(y){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function H8(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je){var qe=Mt.textMaxSize.evaluate(D,{});qe===void 0&&(qe=Bt);var Qe=y.layers[0].layout,sr=Qe.get("icon-offset").evaluate(D,{},je),Sr=Rx(U.horizontal),Hr=24,dn=Bt/Hr,un=y.tilePixelRatio*dn,wn=y.tilePixelRatio*qe/Hr,Sn=y.tilePixelRatio*ne,mn=y.tilePixelRatio*Qe.get("symbol-spacing"),Fn=Qe.get("text-padding")*y.tilePixelRatio,Zn=Qe.get("icon-padding")*y.tilePixelRatio,ti=Qe.get("text-max-angle")/180*Math.PI,ei=Qe.get("text-rotation-alignment")==="map"&&Qe.get("symbol-placement")!=="point",bi=Qe.get("icon-rotation-alignment")==="map"&&Qe.get("symbol-placement")!=="point",_i=Qe.get("symbol-placement"),Ai=mn/2,Pi=Qe.get("icon-text-fit"),Fi;ct&&Pi!=="none"&&(y.allowVerticalPlacement&&U.vertical&&(Fi=wx(ct,U.vertical,Pi,Qe.get("icon-text-fit-padding"),sr,dn)),Sr&&(ct=wx(ct,Sr,Pi,Qe.get("icon-text-fit-padding"),sr,dn)));var Si=function(Np,ru){ru.x<0||ru.x>=Ri||ru.y<0||ru.y>=Ri||V8(y,ru,Np,U,ct,yt,Fi,y.layers[0],y.collisionBoxArray,D.index,D.sourceLayerIndex,y.index,un,Fn,ei,ge,Sn,Zn,bi,sr,D,Mt,Ae,je,Bt)};if(_i==="line")for(var Li=0,Ji=Px(D.geometry,0,0,Ri,Ri);Li<Ji.length;Li+=1)for(var va=Ji[Li],Ta=O8(va,mn,ti,U.vertical||Sr,ct,Hr,wn,y.overscaling,Ri),ta=0,ga=Ta;ta<ga.length;ta+=1){var Qi=ga[ta],La=Sr;(!La||!X8(y,La.text,Ai,Qi))&&Si(va,Qi)}else if(_i==="line-center")for(var wa=0,Za=D.geometry;wa<Za.length;wa+=1){var Ro=Za[wa];if(Ro.length>1){var po=I8(Ro,ti,U.vertical||Sr,ct,Hr,wn);po&&Si(Ro,po)}}else if(D.type==="Polygon")for(var Go=0,Zo=wy(D.geometry,0);Go<Zo.length;Go+=1){var Yo=Zo[Go],Mo=D8(Yo,16);Si(Yo[0],new Pp(Mo.x,Mo.y,0))}else if(D.type==="LineString")for(var cs=0,fs=D.geometry;cs<fs.length;cs+=1){var bo=fs[cs];Si(bo,new Pp(bo[0].x,bo[0].y,0))}else if(D.type==="Point")for(var hs=0,sl=D.geometry;hs<sl.length;hs+=1)for(var qc=sl[hs],Nf=0,jf=qc;Nf<jf.length;Nf+=1){var Hf=jf[Nf];Si([Hf],new Pp(Hf.x,Hf.y,0))}}var Wd=255,Ff=Wd*Fu;function zx(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr){var Hr=z8(D,U,ne,yt,Mt,Bt,ct,y.allowVerticalPlacement),dn=y.textSizeData,un=null;dn.kind==="source"?(un=[Fu*yt.layout.get("text-size").evaluate(Bt,{})],un[0]>Ff&&I(y.layerIds[0]+': Value for "text-size" is >= '+Wd+'. Reduce your "text-size".')):dn.kind==="composite"&&(un=[Fu*sr.compositeTextSizes[0].evaluate(Bt,{},Sr),Fu*sr.compositeTextSizes[1].evaluate(Bt,{},Sr)],(un[0]>Ff||un[1]>Ff)&&I(y.layerIds[0]+': Value for "text-size" is >= '+Wd+'. Reduce your "text-size".')),y.addSymbols(y.text,Hr,un,ne,Mt,Bt,Ae,D,ge.lineStartIndex,ge.lineLength,Qe,Sr);for(var wn=0,Sn=je;wn<Sn.length;wn+=1){var mn=Sn[wn];qe[mn]=y.text.placedSymbolArray.length-1}return Hr.length*4}function Rx(y){for(var D in y)return y[D];return null}function V8(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe,sr,Sr,Hr,dn,un,wn,Sn,mn,Fn,Zn,ti,ei){var bi,_i=y.addToLineVertexArray(D,U),Ai,Pi,Fi,Si,Li=0,Ji=0,va=0,Ta=0,ta=-1,ga=-1,Qi={},La=Lt(""),wa=0,Za=0;if(ne._unevaluatedLayout.getValue("text-radial-offset")===void 0?(bi=ne.layout.get("text-offset").evaluate(mn,{},ti).map(function(Yd){return Yd*zo}),wa=bi[0],Za=bi[1]):(wa=ne.layout.get("text-radial-offset").evaluate(mn,{},ti)*zo,Za=Cy),y.allowVerticalPlacement&&ct.vertical){var Ro=ne.layout.get("text-rotate").evaluate(mn,{},ti),po=Ro+90,Go=ct.vertical;Fi=new bv(ge,D,Ae,je,qe,Go,Qe,sr,Sr,po),Bt&&(Si=new bv(ge,D,Ae,je,qe,Bt,dn,un,Sr,po))}if(yt){var Zo=ne.layout.get("icon-rotate").evaluate(mn,{}),Yo=ne.layout.get("icon-text-fit")!=="none",Mo=Cx(yt,Zo,Zn,Yo),cs=Bt?Cx(Bt,Zo,Zn,Yo):void 0;Pi=new bv(ge,D,Ae,je,qe,yt,dn,un,!1,Zo),Li=Mo.length*4;var fs=y.iconSizeData,bo=null;fs.kind==="source"?(bo=[Fu*ne.layout.get("icon-size").evaluate(mn,{})],bo[0]>Ff&&I(y.layerIds[0]+': Value for "icon-size" is >= '+Wd+'. Reduce your "icon-size".')):fs.kind==="composite"&&(bo=[Fu*Fn.compositeIconSizes[0].evaluate(mn,{},ti),Fu*Fn.compositeIconSizes[1].evaluate(mn,{},ti)],(bo[0]>Ff||bo[1]>Ff)&&I(y.layerIds[0]+': Value for "icon-size" is >= '+Wd+'. Reduce your "icon-size".')),y.addSymbols(y.icon,Mo,bo,Sn,wn,mn,!1,D,_i.lineStartIndex,_i.lineLength,-1,ti),ta=y.icon.placedSymbolArray.length-1,cs&&(Ji=cs.length*4,y.addSymbols(y.icon,cs,bo,Sn,wn,mn,ol.vertical,D,_i.lineStartIndex,_i.lineLength,-1,ti),ga=y.icon.placedSymbolArray.length-1)}for(var hs in ct.horizontal){var sl=ct.horizontal[hs];if(!Ai){La=Lt(sl.text);var qc=ne.layout.get("text-rotate").evaluate(mn,{},ti);Ai=new bv(ge,D,Ae,je,qe,sl,Qe,sr,Sr,qc)}var Nf=sl.positionedLines.length===1;if(va+=zx(y,D,sl,Mt,ne,Sr,mn,Hr,_i,ct.vertical?ol.horizontal:ol.horizontalOnly,Nf?Object.keys(ct.horizontal):[hs],Qi,ta,Fn,ti),Nf)break}ct.vertical&&(Ta+=zx(y,D,ct.vertical,Mt,ne,Sr,mn,Hr,_i,ol.vertical,["vertical"],Qi,ga,Fn,ti));var jf=Ai?Ai.boxStartIndex:y.collisionBoxArray.length,Hf=Ai?Ai.boxEndIndex:y.collisionBoxArray.length,Np=Fi?Fi.boxStartIndex:y.collisionBoxArray.length,ru=Fi?Fi.boxEndIndex:y.collisionBoxArray.length,Mv=Pi?Pi.boxStartIndex:y.collisionBoxArray.length,By=Pi?Pi.boxEndIndex:y.collisionBoxArray.length,Av=Si?Si.boxStartIndex:y.collisionBoxArray.length,Ny=Si?Si.boxEndIndex:y.collisionBoxArray.length,Ml=-1,jp=function(Yd,Jx){return Yd&&Yd.circleDiameter?Math.max(Yd.circleDiameter,Jx):Jx};Ml=jp(Ai,Ml),Ml=jp(Fi,Ml),Ml=jp(Pi,Ml),Ml=jp(Si,Ml);var Sv=Ml>-1?1:0;Sv&&(Ml*=ei/zo),y.glyphOffsetArray.length>=ma.MAX_GLYPHS&&I("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),mn.sortKey!==void 0&&y.addToSortKeyRanges(y.symbolInstances.length,mn.sortKey),y.symbolInstances.emplaceBack(D.x,D.y,Qi.right>=0?Qi.right:-1,Qi.center>=0?Qi.center:-1,Qi.left>=0?Qi.left:-1,Qi.vertical||-1,ta,ga,La,jf,Hf,Np,ru,Mv,By,Av,Ny,Ae,va,Ta,Li,Ji,Sv,0,Qe,wa,Za,Ml)}function X8(y,D,U,ct){var yt=y.compareText;if(!(D in yt))yt[D]=[];else for(var Mt=yt[D],Bt=Mt.length-1;Bt>=0;Bt--)if(ct.dist(Mt[Bt])<U)return!0;return yt[D].push(ct),!1}var U8=Sp.VectorTileFeature.types,q8=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function _v(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe,Qe){var sr=ne?Math.min(Ff,Math.round(ne[0])):0,Sr=ne?Math.min(Ff,Math.round(ne[1])):0;y.emplaceBack(D,U,Math.round(ct*32),Math.round(yt*32),Mt,Bt,(sr<<1)+(ge?1:0),Sr,Ae*16,je*16,qe*256,Qe*256)}function Oy(y,D,U){y.emplaceBack(D.x,D.y,U),y.emplaceBack(D.x,D.y,U),y.emplaceBack(D.x,D.y,U),y.emplaceBack(D.x,D.y,U)}function W8(y){for(var D=0,U=y.sections;D<U.length;D+=1){var ct=U[D];if($r(ct.text))return!0}return!1}var Rp=function(y){this.layoutVertexArray=new lc,this.indexArray=new Ou,this.programConfigurations=y,this.segments=new lo,this.dynamicLayoutVertexArray=new Ld,this.opacityVertexArray=new Pd,this.placedSymbolArray=new Od};Rp.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Rp.prototype.upload=function(y,D,U,ct){this.isEmpty()||(U&&(this.layoutVertexBuffer=y.createVertexBuffer(this.layoutVertexArray,q6.members),this.indexBuffer=y.createIndexBuffer(this.indexArray,D),this.dynamicLayoutVertexBuffer=y.createVertexBuffer(this.dynamicLayoutVertexArray,W6.members,!0),this.opacityVertexBuffer=y.createVertexBuffer(this.opacityVertexArray,q8,!0),this.opacityVertexBuffer.itemSize=1),(U||ct)&&this.programConfigurations.upload(y))},Rp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},zt("SymbolBuffers",Rp);var Gd=function(y,D,U){this.layoutVertexArray=new y,this.layoutAttributes=D,this.indexArray=new U,this.segments=new lo,this.collisionVertexArray=new _s};Gd.prototype.upload=function(y){this.layoutVertexBuffer=y.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=y.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=y.createVertexBuffer(this.collisionVertexArray,G6.members,!0)},Gd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},zt("CollisionBuffers",Gd);var ma=function(y){this.collisionBoxArray=y.collisionBoxArray,this.zoom=y.zoom,this.overscaling=y.overscaling,this.layers=y.layers,this.layerIds=this.layers.map(function(ne){return ne.id}),this.index=y.index,this.pixelRatio=y.pixelRatio,this.sourceLayerIndex=y.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=hc([]),this.placementViewportMatrix=hc([]);var D=this.layers[0],U=D._unevaluatedLayout._values;this.textSizeData=Py(this.zoom,U["text-size"]),this.iconSizeData=Py(this.zoom,U["icon-size"]);var ct=this.layers[0].layout,yt=ct.get("symbol-sort-key"),Mt=ct.get("symbol-z-order");this.canOverlap=ct.get("text-allow-overlap")||ct.get("icon-allow-overlap")||ct.get("text-ignore-placement")||ct.get("icon-ignore-placement"),this.sortFeaturesByKey=Mt!=="viewport-y"&&yt.constantOr(1)!==void 0;var Bt=Mt==="viewport-y"||Mt==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Bt&&this.canOverlap,ct.get("symbol-placement")==="point"&&(this.writingModes=ct.get("text-writing-mode").map(function(ne){return ol[ne]})),this.stateDependentLayerIds=this.layers.filter(function(ne){return ne.isStateDependent()}).map(function(ne){return ne.id}),this.sourceID=y.sourceID};ma.prototype.createArrays=function(){this.text=new Rp(new yi(this.layers,this.zoom,function(y){return/^text/.test(y)})),this.icon=new Rp(new yi(this.layers,this.zoom,function(y){return/^icon/.test(y)})),this.glyphOffsetArray=new nv,this.lineVertexArray=new kl,this.symbolInstances=new rv},ma.prototype.calculateGlyphDependencies=function(y,D,U,ct,yt){for(var Mt=0;Mt<y.length;Mt++)if(D[y.charCodeAt(Mt)]=!0,(U||ct)&&yt){var Bt=Vd[y.charAt(Mt)];Bt&&(D[Bt.charCodeAt(0)]=!0)}},ma.prototype.populate=function(y,D,U){var ct=this.layers[0],yt=ct.layout,Mt=yt.get("text-font"),Bt=yt.get("text-field"),ne=yt.get("icon-image"),ge=(Bt.value.kind!=="constant"||Bt.value.value instanceof Ja&&!Bt.value.value.isEmpty()||Bt.value.value.toString().length>0)&&(Mt.value.kind!=="constant"||Mt.value.value.length>0),Ae=ne.value.kind!=="constant"||!!ne.value.value||Object.keys(ne.parameters).length>0,je=yt.get("symbol-sort-key");if(this.features=[],!(!ge&&!Ae)){for(var qe=D.iconDependencies,Qe=D.glyphDependencies,sr=D.availableImages,Sr=new wi(this.zoom),Hr=0,dn=y;Hr<dn.length;Hr+=1){var un=dn[Hr],wn=un.feature,Sn=un.id,mn=un.index,Fn=un.sourceLayerIndex,Zn=ct._featureFilter.needGeometry,ti=Yi(wn,Zn);if(ct._featureFilter.filter(Sr,ti,U)){Zn||(ti.geometry=la(wn));var ei=void 0;if(ge){var bi=ct.getValueAndResolveTokens("text-field",ti,U,sr),_i=Ja.factory(bi);W8(_i)&&(this.hasRTLText=!0),(!this.hasRTLText||ji()==="unavailable"||this.hasRTLText&&Yn.isParsed())&&(ei=K6(_i,ct,ti))}var Ai=void 0;if(Ae){var Pi=ct.getValueAndResolveTokens("icon-image",ti,U,sr);Pi instanceof wo?Ai=Pi:Ai=wo.fromString(Pi)}if(!(!ei&&!Ai)){var Fi=this.sortFeaturesByKey?je.evaluate(ti,{},U):void 0,Si={id:Sn,text:ei,icon:Ai,index:mn,sourceLayerIndex:Fn,geometry:ti.geometry,properties:wn.properties,type:U8[wn.type],sortKey:Fi};if(this.features.push(Si),Ai&&(qe[Ai.name]=!0),ei){var Li=Mt.evaluate(ti,{},U).join(","),Ji=yt.get("text-rotation-alignment")==="map"&&yt.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ol.vertical)>=0;for(var va=0,Ta=ei.sections;va<Ta.length;va+=1){var ta=Ta[va];if(ta.image)qe[ta.image.name]=!0;else{var ga=tr(ei.toString()),Qi=ta.fontStack||Li,La=Qe[Qi]=Qe[Qi]||{};this.calculateGlyphDependencies(ta.text,La,Ji,this.allowVerticalPlacement,ga)}}}}}}yt.get("symbol-placement")==="line"&&(this.features=J6(this.features)),this.sortFeaturesByKey&&this.features.sort(function(wa,Za){return wa.sortKey-Za.sortKey})}},ma.prototype.update=function(y,D,U){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(y,D,this.layers,U),this.icon.programConfigurations.updatePaintArrays(y,D,this.layers,U))},ma.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},ma.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ma.prototype.upload=function(y){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(y),this.iconCollisionBox.upload(y)),this.text.upload(y,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(y,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ma.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ma.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ma.prototype.addToLineVertexArray=function(y,D){var U=this.lineVertexArray.length;if(y.segment!==void 0){for(var ct=y.dist(D[y.segment+1]),yt=y.dist(D[y.segment]),Mt={},Bt=y.segment+1;Bt<D.length;Bt++)Mt[Bt]={x:D[Bt].x,y:D[Bt].y,tileUnitDistanceFromAnchor:ct},Bt<D.length-1&&(ct+=D[Bt+1].dist(D[Bt]));for(var ne=y.segment||0;ne>=0;ne--)Mt[ne]={x:D[ne].x,y:D[ne].y,tileUnitDistanceFromAnchor:yt},ne>0&&(yt+=D[ne-1].dist(D[ne]));for(var ge=0;ge<D.length;ge++){var Ae=Mt[ge];this.lineVertexArray.emplaceBack(Ae.x,Ae.y,Ae.tileUnitDistanceFromAnchor)}}return{lineStartIndex:U,lineLength:this.lineVertexArray.length-U}},ma.prototype.addSymbols=function(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je,qe){for(var Qe=y.indexArray,sr=y.layoutVertexArray,Sr=y.segments.prepareSegment(4*D.length,sr,Qe,this.canOverlap?Mt.sortKey:void 0),Hr=this.glyphOffsetArray.length,dn=Sr.vertexLength,un=this.allowVerticalPlacement&&Bt===ol.vertical?Math.PI/2:0,wn=Mt.text&&Mt.text.sections,Sn=0;Sn<D.length;Sn++){var mn=D[Sn],Fn=mn.tl,Zn=mn.tr,ti=mn.bl,ei=mn.br,bi=mn.tex,_i=mn.pixelOffsetTL,Ai=mn.pixelOffsetBR,Pi=mn.minFontScaleX,Fi=mn.minFontScaleY,Si=mn.glyphOffset,Li=mn.isSDF,Ji=mn.sectionIndex,va=Sr.vertexLength,Ta=Si[1];_v(sr,ne.x,ne.y,Fn.x,Ta+Fn.y,bi.x,bi.y,U,Li,_i.x,_i.y,Pi,Fi),_v(sr,ne.x,ne.y,Zn.x,Ta+Zn.y,bi.x+bi.w,bi.y,U,Li,Ai.x,_i.y,Pi,Fi),_v(sr,ne.x,ne.y,ti.x,Ta+ti.y,bi.x,bi.y+bi.h,U,Li,_i.x,Ai.y,Pi,Fi),_v(sr,ne.x,ne.y,ei.x,Ta+ei.y,bi.x+bi.w,bi.y+bi.h,U,Li,Ai.x,Ai.y,Pi,Fi),Oy(y.dynamicLayoutVertexArray,ne,un),Qe.emplaceBack(va,va+1,va+2),Qe.emplaceBack(va+1,va+2,va+3),Sr.vertexLength+=4,Sr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Si[0]),(Sn===D.length-1||Ji!==D[Sn+1].sectionIndex)&&y.programConfigurations.populatePaintArrays(sr.length,Mt,Mt.index,{},qe,wn&&wn[Ji])}y.placedSymbolArray.emplaceBack(ne.x,ne.y,Hr,this.glyphOffsetArray.length-Hr,dn,ge,Ae,ne.segment,U?U[0]:0,U?U[1]:0,ct[0],ct[1],Bt,0,!1,0,je)},ma.prototype._addCollisionDebugVertex=function(y,D,U,ct,yt,Mt){return D.emplaceBack(0,0),y.emplaceBack(U.x,U.y,ct,yt,Math.round(Mt.x),Math.round(Mt.y))},ma.prototype.addCollisionDebugVertices=function(y,D,U,ct,yt,Mt,Bt){var ne=yt.segments.prepareSegment(4,yt.layoutVertexArray,yt.indexArray),ge=ne.vertexLength,Ae=yt.layoutVertexArray,je=yt.collisionVertexArray,qe=Bt.anchorX,Qe=Bt.anchorY;this._addCollisionDebugVertex(Ae,je,Mt,qe,Qe,new r(y,D)),this._addCollisionDebugVertex(Ae,je,Mt,qe,Qe,new r(U,D)),this._addCollisionDebugVertex(Ae,je,Mt,qe,Qe,new r(U,ct)),this._addCollisionDebugVertex(Ae,je,Mt,qe,Qe,new r(y,ct)),ne.vertexLength+=4;var sr=yt.indexArray;sr.emplaceBack(ge,ge+1),sr.emplaceBack(ge+1,ge+2),sr.emplaceBack(ge+2,ge+3),sr.emplaceBack(ge+3,ge),ne.primitiveLength+=4},ma.prototype.addDebugCollisionBoxes=function(y,D,U,ct){for(var yt=y;yt<D;yt++){var Mt=this.collisionBoxArray.get(yt),Bt=Mt.x1,ne=Mt.y1,ge=Mt.x2,Ae=Mt.y2;this.addCollisionDebugVertices(Bt,ne,ge,Ae,ct?this.textCollisionBox:this.iconCollisionBox,Mt.anchorPoint,U)}},ma.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Gd(yp,ux.members,Dh),this.iconCollisionBox=new Gd(yp,ux.members,Dh);for(var y=0;y<this.symbolInstances.length;y++){var D=this.symbolInstances.get(y);this.addDebugCollisionBoxes(D.textBoxStartIndex,D.textBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.verticalTextBoxStartIndex,D.verticalTextBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.iconBoxStartIndex,D.iconBoxEndIndex,D,!1),this.addDebugCollisionBoxes(D.verticalIconBoxStartIndex,D.verticalIconBoxEndIndex,D,!1)}},ma.prototype._deserializeCollisionBoxesForSymbol=function(y,D,U,ct,yt,Mt,Bt,ne,ge){for(var Ae={},je=D;je<U;je++){var qe=y.get(je);Ae.textBox={x1:qe.x1,y1:qe.y1,x2:qe.x2,y2:qe.y2,anchorPointX:qe.anchorPointX,anchorPointY:qe.anchorPointY},Ae.textFeatureIndex=qe.featureIndex;break}for(var Qe=ct;Qe<yt;Qe++){var sr=y.get(Qe);Ae.verticalTextBox={x1:sr.x1,y1:sr.y1,x2:sr.x2,y2:sr.y2,anchorPointX:sr.anchorPointX,anchorPointY:sr.anchorPointY},Ae.verticalTextFeatureIndex=sr.featureIndex;break}for(var Sr=Mt;Sr<Bt;Sr++){var Hr=y.get(Sr);Ae.iconBox={x1:Hr.x1,y1:Hr.y1,x2:Hr.x2,y2:Hr.y2,anchorPointX:Hr.anchorPointX,anchorPointY:Hr.anchorPointY},Ae.iconFeatureIndex=Hr.featureIndex;break}for(var dn=ne;dn<ge;dn++){var un=y.get(dn);Ae.verticalIconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},Ae.verticalIconFeatureIndex=un.featureIndex;break}return Ae},ma.prototype.deserializeCollisionBoxes=function(y){this.collisionArrays=[];for(var D=0;D<this.symbolInstances.length;D++){var U=this.symbolInstances.get(D);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(y,U.textBoxStartIndex,U.textBoxEndIndex,U.verticalTextBoxStartIndex,U.verticalTextBoxEndIndex,U.iconBoxStartIndex,U.iconBoxEndIndex,U.verticalIconBoxStartIndex,U.verticalIconBoxEndIndex))}},ma.prototype.hasTextData=function(){return this.text.segments.get().length>0},ma.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ma.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ma.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ma.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ma.prototype.addIndicesForPlacedSymbol=function(y,D){for(var U=y.placedSymbolArray.get(D),ct=U.vertexStartIndex+U.numGlyphs*4,yt=U.vertexStartIndex;yt<ct;yt+=4)y.indexArray.emplaceBack(yt,yt+1,yt+2),y.indexArray.emplaceBack(yt+1,yt+2,yt+3)},ma.prototype.getSortedSymbolIndexes=function(y){if(this.sortedAngle===y&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var D=Math.sin(y),U=Math.cos(y),ct=[],yt=[],Mt=[],Bt=0;Bt<this.symbolInstances.length;++Bt){Mt.push(Bt);var ne=this.symbolInstances.get(Bt);ct.push(Math.round(D*ne.anchorX+U*ne.anchorY)|0),yt.push(ne.featureIndex)}return Mt.sort(function(ge,Ae){return ct[ge]-ct[Ae]||yt[Ae]-yt[ge]}),Mt},ma.prototype.addToSortKeyRanges=function(y,D){var U=this.sortKeyRanges[this.sortKeyRanges.length-1];U&&U.sortKey===D?U.symbolInstanceEnd=y+1:this.sortKeyRanges.push({sortKey:D,symbolInstanceStart:y,symbolInstanceEnd:y+1})},ma.prototype.sortFeatures=function(y){var D=this;if(this.sortFeaturesByY&&this.sortedAngle!==y&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(y),this.sortedAngle=y,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var U=0,ct=this.symbolInstanceIndexes;U<ct.length;U+=1){var yt=ct[U],Mt=this.symbolInstances.get(yt);this.featureSortOrder.push(Mt.featureIndex),[Mt.rightJustifiedTextSymbolIndex,Mt.centerJustifiedTextSymbolIndex,Mt.leftJustifiedTextSymbolIndex].forEach(function(Bt,ne,ge){Bt>=0&&ge.indexOf(Bt)===ne&&D.addIndicesForPlacedSymbol(D.text,Bt)}),Mt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Mt.verticalPlacedTextSymbolIndex),Mt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Mt.placedIconSymbolIndex),Mt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Mt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},zt("SymbolBucket",ma,{omit:["layers","collisionBoxArray","features","compareText"]}),ma.MAX_GLYPHS=65535,ma.addDynamicAttributes=Oy;function G8(y,D){return D.replace(/{([^{}]+)}/g,function(U,ct){return ct in y?String(y[ct]):""})}var Z8=new sa({"symbol-placement":new si(br.layout_symbol["symbol-placement"]),"symbol-spacing":new si(br.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new si(br.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mi(br.layout_symbol["symbol-sort-key"]),"symbol-z-order":new si(br.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new si(br.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new si(br.layout_symbol["icon-ignore-placement"]),"icon-optional":new si(br.layout_symbol["icon-optional"]),"icon-rotation-alignment":new si(br.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mi(br.layout_symbol["icon-size"]),"icon-text-fit":new si(br.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new si(br.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mi(br.layout_symbol["icon-image"]),"icon-rotate":new Mi(br.layout_symbol["icon-rotate"]),"icon-padding":new si(br.layout_symbol["icon-padding"]),"icon-keep-upright":new si(br.layout_symbol["icon-keep-upright"]),"icon-offset":new Mi(br.layout_symbol["icon-offset"]),"icon-anchor":new Mi(br.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new si(br.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new si(br.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new si(br.layout_symbol["text-rotation-alignment"]),"text-field":new Mi(br.layout_symbol["text-field"]),"text-font":new Mi(br.layout_symbol["text-font"]),"text-size":new Mi(br.layout_symbol["text-size"]),"text-max-width":new Mi(br.layout_symbol["text-max-width"]),"text-line-height":new si(br.layout_symbol["text-line-height"]),"text-letter-spacing":new Mi(br.layout_symbol["text-letter-spacing"]),"text-justify":new Mi(br.layout_symbol["text-justify"]),"text-radial-offset":new Mi(br.layout_symbol["text-radial-offset"]),"text-variable-anchor":new si(br.layout_symbol["text-variable-anchor"]),"text-anchor":new Mi(br.layout_symbol["text-anchor"]),"text-max-angle":new si(br.layout_symbol["text-max-angle"]),"text-writing-mode":new si(br.layout_symbol["text-writing-mode"]),"text-rotate":new Mi(br.layout_symbol["text-rotate"]),"text-padding":new si(br.layout_symbol["text-padding"]),"text-keep-upright":new si(br.layout_symbol["text-keep-upright"]),"text-transform":new Mi(br.layout_symbol["text-transform"]),"text-offset":new Mi(br.layout_symbol["text-offset"]),"text-allow-overlap":new si(br.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new si(br.layout_symbol["text-ignore-placement"]),"text-optional":new si(br.layout_symbol["text-optional"])}),Y8=new sa({"icon-opacity":new Mi(br.paint_symbol["icon-opacity"]),"icon-color":new Mi(br.paint_symbol["icon-color"]),"icon-halo-color":new Mi(br.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mi(br.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mi(br.paint_symbol["icon-halo-blur"]),"icon-translate":new si(br.paint_symbol["icon-translate"]),"icon-translate-anchor":new si(br.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mi(br.paint_symbol["text-opacity"]),"text-color":new Mi(br.paint_symbol["text-color"],{runtimeType:En,getOverride:function(y){return y.textColor},hasOverride:function(y){return!!y.textColor}}),"text-halo-color":new Mi(br.paint_symbol["text-halo-color"]),"text-halo-width":new Mi(br.paint_symbol["text-halo-width"]),"text-halo-blur":new Mi(br.paint_symbol["text-halo-blur"]),"text-translate":new si(br.paint_symbol["text-translate"]),"text-translate-anchor":new si(br.paint_symbol["text-translate-anchor"])}),zy={paint:Y8,layout:Z8},Dp=function(y){this.type=y.property.overrides?y.property.overrides.runtimeType:Nr,this.defaultValue=y};Dp.prototype.evaluate=function(y){if(y.formattedSection){var D=this.defaultValue.property.overrides;if(D&&D.hasOverride(y.formattedSection))return D.getOverride(y.formattedSection)}return y.feature&&y.featureState?this.defaultValue.evaluate(y.feature,y.featureState):this.defaultValue.property.specification.default},Dp.prototype.eachChild=function(y){if(!this.defaultValue.isConstant()){var D=this.defaultValue.value;y(D._styleExpression.expression)}},Dp.prototype.outputDefined=function(){return!1},Dp.prototype.serialize=function(){return null},zt("FormatSectionOverride",Dp,{omit:["defaultValue"]});var K8=function(y){function D(U){y.call(this,U,zy)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(U,ct){if(y.prototype.recalculate.call(this,U,ct),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var yt=this.layout.get("text-writing-mode");if(yt){for(var Mt=[],Bt=0,ne=yt;Bt<ne.length;Bt+=1){var ge=ne[Bt];Mt.indexOf(ge)<0&&Mt.push(ge)}this.layout._values["text-writing-mode"]=Mt}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(U,ct,yt,Mt){var Bt=this.layout.get(U).evaluate(ct,{},yt,Mt),ne=this._unevaluatedLayout._values[U];return!ne.isDataDriven()&&!Tu(ne.value)&&Bt?G8(ct.properties,Bt):Bt},D.prototype.createBucket=function(U){return new ma(U)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var U=0,ct=zy.paint.overridableProperties;U<ct.length;U+=1){var yt=ct[U];if(D.hasPaintOverride(this.layout,yt)){var Mt=this.paint.get(yt),Bt=new Dp(Mt),ne=new el(Bt,Mt.property.specification),ge=null;Mt.value.kind==="constant"||Mt.value.kind==="source"?ge=new Wa("source",ne):ge=new xs("composite",ne,Mt.value.zoomStops,Mt.value._interpolationType),this.paint._values[yt]=new ba(Mt.property,ge,Mt.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(U,ct,yt){return!this.layout||ct.isDataDriven()||yt.isDataDriven()?!1:D.hasPaintOverride(this.layout,U)},D.hasPaintOverride=function(U,ct){var yt=U.get("text-field"),Mt=zy.paint.properties[ct],Bt=!1,ne=function(je){for(var qe=0,Qe=je;qe<Qe.length;qe+=1){var sr=Qe[qe];if(Mt.overrides&&Mt.overrides.hasOverride(sr)){Bt=!0;return}}};if(yt.value.kind==="constant"&&yt.value.value instanceof Ja)ne(yt.value.value.sections);else if(yt.value.kind==="source"){var ge=function(je){if(!Bt)if(je instanceof Ba&&za(je.value)===hi){var qe=je.value;ne(qe.sections)}else je instanceof ao?ne(je.sections):je.eachChild(ge)},Ae=yt.value;Ae._styleExpression&&ge(Ae._styleExpression.expression)}return Bt},D}(ja),J8=new sa({"background-color":new si(br.paint_background["background-color"]),"background-pattern":new jo(br.paint_background["background-pattern"]),"background-opacity":new si(br.paint_background["background-opacity"])}),Q8={paint:J8},$8=function(y){function D(U){y.call(this,U,Q8)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D}(ja),tk=new sa({"raster-opacity":new si(br.paint_raster["raster-opacity"]),"raster-hue-rotate":new si(br.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new si(br.paint_raster["raster-brightness-min"]),"raster-brightness-max":new si(br.paint_raster["raster-brightness-max"]),"raster-saturation":new si(br.paint_raster["raster-saturation"]),"raster-contrast":new si(br.paint_raster["raster-contrast"]),"raster-resampling":new si(br.paint_raster["raster-resampling"]),"raster-fade-duration":new si(br.paint_raster["raster-fade-duration"])}),ek={paint:tk},rk=function(y){function D(U){y.call(this,U,ek)}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D}(ja);function nk(y){var D=[],U=y.id;return U===void 0&&D.push({message:"layers."+U+': missing required property "id"'}),y.render===void 0&&D.push({message:"layers."+U+': missing required method "render"'}),y.renderingMode&&y.renderingMode!=="2d"&&y.renderingMode!=="3d"&&D.push({message:"layers."+U+': property "renderingMode" must be either "2d" or "3d"'}),D}var ik=function(y){function D(U){y.call(this,U,{}),this.implementation=U}return y&&(D.__proto__=y),D.prototype=Object.create(y&&y.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(U){this.implementation.onAdd&&this.implementation.onAdd(U,U.painter.context.gl)},D.prototype.onRemove=function(U){this.implementation.onRemove&&this.implementation.onRemove(U,U.painter.context.gl)},D}(ja),ak={circle:S5,heatmap:C5,hillshade:z5,fill:o6,"fill-extrusion":S6,line:X6,symbol:K8,background:$8,raster:rk};function ok(y){return y.type==="custom"?new ik(y):new ak[y.type](y)}var Dx=s.HTMLImageElement,Fx=s.HTMLCanvasElement,Bx=s.HTMLVideoElement,Nx=s.ImageData,wv=s.ImageBitmap,Xh=function(y,D,U,ct){this.context=y,this.format=U,this.texture=y.gl.createTexture(),this.update(D,ct)};Xh.prototype.update=function(y,D,U){var ct=y.width,yt=y.height,Mt=(!this.size||this.size[0]!==ct||this.size[1]!==yt)&&!U,Bt=this,ne=Bt.context,ge=ne.gl;if(this.useMipmap=!!(D&&D.useMipmap),ge.bindTexture(ge.TEXTURE_2D,this.texture),ne.pixelStoreUnpackFlipY.set(!1),ne.pixelStoreUnpack.set(1),ne.pixelStoreUnpackPremultiplyAlpha.set(this.format===ge.RGBA&&(!D||D.premultiply!==!1)),Mt)this.size=[ct,yt],y instanceof Dx||y instanceof Fx||y instanceof Bx||y instanceof Nx||wv&&y instanceof wv?ge.texImage2D(ge.TEXTURE_2D,0,this.format,this.format,ge.UNSIGNED_BYTE,y):ge.texImage2D(ge.TEXTURE_2D,0,this.format,ct,yt,0,this.format,ge.UNSIGNED_BYTE,y.data);else{var Ae=U||{x:0,y:0},je=Ae.x,qe=Ae.y;y instanceof Dx||y instanceof Fx||y instanceof Bx||y instanceof Nx||wv&&y instanceof wv?ge.texSubImage2D(ge.TEXTURE_2D,0,je,qe,ge.RGBA,ge.UNSIGNED_BYTE,y):ge.texSubImage2D(ge.TEXTURE_2D,0,je,qe,ct,yt,ge.RGBA,ge.UNSIGNED_BYTE,y.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ge.generateMipmap(ge.TEXTURE_2D)},Xh.prototype.bind=function(y,D,U){var ct=this,yt=ct.context,Mt=yt.gl;Mt.bindTexture(Mt.TEXTURE_2D,this.texture),U===Mt.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(U=Mt.LINEAR),y!==this.filter&&(Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MAG_FILTER,y),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MIN_FILTER,U||y),this.filter=y),D!==this.wrap&&(Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_S,D),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_T,D),this.wrap=D)},Xh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Xh.prototype.destroy=function(){var y=this.context,D=y.gl;D.deleteTexture(this.texture),this.texture=null};var Ry=function(y){var D=this;this._callback=y,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){D._triggered=!1,D._callback()})};Ry.prototype.trigger=function(){var y=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){y._triggered=!1,y._callback()},0))},Ry.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Fp=function(y,D,U){this.target=y,this.parent=D,this.mapId=U,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},L(["receive","process"],this),this.invoker=new Ry(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=K()?y:s};Fp.prototype.send=function(y,D,U,ct,yt){var Mt=this;yt===void 0&&(yt=!1);var Bt=Math.round(Math.random()*1e18).toString(36).substring(0,10);U&&(this.callbacks[Bt]=U);var ne=ot(this.globalScope)?void 0:[];return this.target.postMessage({id:Bt,type:y,hasCallback:!!U,targetMapId:ct,mustQueue:yt,sourceMapId:this.mapId,data:Me(D,ne)},ne),{cancel:function(){U&&delete Mt.callbacks[Bt],Mt.target.postMessage({id:Bt,type:"<cancel>",targetMapId:ct,sourceMapId:Mt.mapId})}}},Fp.prototype.receive=function(y){var D=y.data,U=D.id;if(U&&!(D.targetMapId&&this.mapId!==D.targetMapId))if(D.type==="<cancel>"){delete this.tasks[U];var ct=this.cancelCallbacks[U];delete this.cancelCallbacks[U],ct&&ct()}else K()||D.mustQueue?(this.tasks[U]=D,this.taskQueue.push(U),this.invoker.trigger()):this.processTask(U,D)},Fp.prototype.process=function(){if(this.taskQueue.length){var y=this.taskQueue.shift(),D=this.tasks[y];delete this.tasks[y],this.taskQueue.length&&this.invoker.trigger(),D&&this.processTask(y,D)}},Fp.prototype.processTask=function(y,D){var U=this;if(D.type==="<response>"){var ct=this.callbacks[y];delete this.callbacks[y],ct&&(D.error?ct(we(D.error)):ct(null,we(D.data)))}else{var yt=!1,Mt=ot(this.globalScope)?void 0:[],Bt=D.hasCallback?function(qe,Qe){yt=!0,delete U.cancelCallbacks[y],U.target.postMessage({id:y,type:"<response>",sourceMapId:U.mapId,error:qe?Me(qe):null,data:Me(Qe,Mt)},Mt)}:function(qe){yt=!0},ne=null,ge=we(D.data);if(this.parent[D.type])ne=this.parent[D.type](D.sourceMapId,ge,Bt);else if(this.parent.getWorkerSource){var Ae=D.type.split("."),je=this.parent.getWorkerSource(D.sourceMapId,Ae[0],ge.source);ne=je[Ae[1]](ge,Bt)}else Bt(new Error("Could not find function "+D.type));!yt&&ne&&ne.cancel&&(this.cancelCallbacks[y]=ne.cancel)}},Fp.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function sk(y,D,U){D=Math.pow(2,U)-D-1;var ct=jx(y*256,D*256,U),yt=jx((y+1)*256,(D+1)*256,U);return ct[0]+","+ct[1]+","+yt[0]+","+yt[1]}function jx(y,D,U){var ct=2*Math.PI*6378137/256/Math.pow(2,U),yt=y*ct-2*Math.PI*6378137/2,Mt=D*ct-2*Math.PI*6378137/2;return[yt,Mt]}var fo=function(y,D){y&&(D?this.setSouthWest(y).setNorthEast(D):y.length===4?this.setSouthWest([y[0],y[1]]).setNorthEast([y[2],y[3]]):this.setSouthWest(y[0]).setNorthEast(y[1]))};fo.prototype.setNorthEast=function(y){return this._ne=y instanceof Ca?new Ca(y.lng,y.lat):Ca.convert(y),this},fo.prototype.setSouthWest=function(y){return this._sw=y instanceof Ca?new Ca(y.lng,y.lat):Ca.convert(y),this},fo.prototype.extend=function(y){var D=this._sw,U=this._ne,ct,yt;if(y instanceof Ca)ct=y,yt=y;else if(y instanceof fo){if(ct=y._sw,yt=y._ne,!ct||!yt)return this}else{if(Array.isArray(y))if(y.length===4||y.every(Array.isArray)){var Mt=y;return this.extend(fo.convert(Mt))}else{var Bt=y;return this.extend(Ca.convert(Bt))}return this}return!D&&!U?(this._sw=new Ca(ct.lng,ct.lat),this._ne=new Ca(yt.lng,yt.lat)):(D.lng=Math.min(ct.lng,D.lng),D.lat=Math.min(ct.lat,D.lat),U.lng=Math.max(yt.lng,U.lng),U.lat=Math.max(yt.lat,U.lat)),this},fo.prototype.getCenter=function(){return new Ca((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},fo.prototype.getSouthWest=function(){return this._sw},fo.prototype.getNorthEast=function(){return this._ne},fo.prototype.getNorthWest=function(){return new Ca(this.getWest(),this.getNorth())},fo.prototype.getSouthEast=function(){return new Ca(this.getEast(),this.getSouth())},fo.prototype.getWest=function(){return this._sw.lng},fo.prototype.getSouth=function(){return this._sw.lat},fo.prototype.getEast=function(){return this._ne.lng},fo.prototype.getNorth=function(){return this._ne.lat},fo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},fo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},fo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},fo.prototype.contains=function(y){var D=Ca.convert(y),U=D.lng,ct=D.lat,yt=this._sw.lat<=ct&&ct<=this._ne.lat,Mt=this._sw.lng<=U&&U<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Mt=this._sw.lng>=U&&U>=this._ne.lng),yt&&Mt},fo.convert=function(y){return!y||y instanceof fo?y:new fo(y)};var Hx=63710088e-1,Ca=function(y,D){if(isNaN(y)||isNaN(D))throw new Error("Invalid LngLat object: ("+y+", "+D+")");if(this.lng=+y,this.lat=+D,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ca.prototype.wrap=function(){return new Ca(k(this.lng,-180,180),this.lat)},Ca.prototype.toArray=function(){return[this.lng,this.lat]},Ca.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ca.prototype.distanceTo=function(y){var D=Math.PI/180,U=this.lat*D,ct=y.lat*D,yt=Math.sin(U)*Math.sin(ct)+Math.cos(U)*Math.cos(ct)*Math.cos((y.lng-this.lng)*D),Mt=Hx*Math.acos(Math.min(yt,1));return Mt},Ca.prototype.toBounds=function(y){y===void 0&&(y=0);var D=40075017,U=360*y/D,ct=U/Math.cos(Math.PI/180*this.lat);return new fo(new Ca(this.lng-ct,this.lat-U),new Ca(this.lng+ct,this.lat+U))},Ca.convert=function(y){if(y instanceof Ca)return y;if(Array.isArray(y)&&(y.length===2||y.length===3))return new Ca(Number(y[0]),Number(y[1]));if(!Array.isArray(y)&&typeof y=="object"&&y!==null)return new Ca(Number("lng"in y?y.lng:y.lon),Number(y.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Vx=2*Math.PI*Hx;function Xx(y){return Vx*Math.cos(y*Math.PI/180)}function Ux(y){return(180+y)/360}function qx(y){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+y*Math.PI/360)))/360}function Wx(y,D){return y/Xx(D)}function lk(y){return y*360-180}function Dy(y){var D=180-y*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function uk(y,D){return y*Xx(Dy(D))}function ck(y){return 1/Math.cos(y*Math.PI/180)}var Uh=function(y,D,U){U===void 0&&(U=0),this.x=+y,this.y=+D,this.z=+U};Uh.fromLngLat=function(y,D){D===void 0&&(D=0);var U=Ca.convert(y);return new Uh(Ux(U.lng),qx(U.lat),Wx(D,U.lat))},Uh.prototype.toLngLat=function(){return new Ca(lk(this.x),Dy(this.y))},Uh.prototype.toAltitude=function(){return uk(this.z,this.y)},Uh.prototype.meterInMercatorCoordinateUnits=function(){return 1/Vx*ck(Dy(this.y))};var qh=function(y,D,U){this.z=y,this.x=D,this.y=U,this.key=Zd(0,y,y,D,U)};qh.prototype.equals=function(y){return this.z===y.z&&this.x===y.x&&this.y===y.y},qh.prototype.url=function(y,D){var U=sk(this.x,this.y,this.z),ct=fk(this.z,this.x,this.y);return y[(this.x+this.y)%y.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(D==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ct).replace("{bbox-epsg-3857}",U)},qh.prototype.getTilePoint=function(y){var D=Math.pow(2,this.z);return new r((y.x*D-this.x)*Ri,(y.y*D-this.y)*Ri)},qh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Gx=function(y,D){this.wrap=y,this.canonical=D,this.key=Zd(y,D.z,D.z,D.x,D.y)},ho=function(y,D,U,ct,yt){this.overscaledZ=y,this.wrap=D,this.canonical=new qh(U,+ct,+yt),this.key=Zd(D,y,U,ct,yt)};ho.prototype.equals=function(y){return this.overscaledZ===y.overscaledZ&&this.wrap===y.wrap&&this.canonical.equals(y.canonical)},ho.prototype.scaledTo=function(y){var D=this.canonical.z-y;return y>this.canonical.z?new ho(y,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ho(y,this.wrap,y,this.canonical.x>>D,this.canonical.y>>D)},ho.prototype.calculateScaledKey=function(y,D){var U=this.canonical.z-y;return y>this.canonical.z?Zd(this.wrap*+D,y,this.canonical.z,this.canonical.x,this.canonical.y):Zd(this.wrap*+D,y,y,this.canonical.x>>U,this.canonical.y>>U)},ho.prototype.isChildOf=function(y){if(y.wrap!==this.wrap)return!1;var D=this.canonical.z-y.canonical.z;return y.overscaledZ===0||y.overscaledZ<this.overscaledZ&&y.canonical.x===this.canonical.x>>D&&y.canonical.y===this.canonical.y>>D},ho.prototype.children=function(y){if(this.overscaledZ>=y)return[new ho(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var D=this.canonical.z+1,U=this.canonical.x*2,ct=this.canonical.y*2;return[new ho(D,this.wrap,D,U,ct),new ho(D,this.wrap,D,U+1,ct),new ho(D,this.wrap,D,U,ct+1),new ho(D,this.wrap,D,U+1,ct+1)]},ho.prototype.isLessThan=function(y){return this.wrap<y.wrap?!0:this.wrap>y.wrap?!1:this.overscaledZ<y.overscaledZ?!0:this.overscaledZ>y.overscaledZ?!1:this.canonical.x<y.canonical.x?!0:this.canonical.x>y.canonical.x?!1:this.canonical.y<y.canonical.y},ho.prototype.wrapped=function(){return new ho(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ho.prototype.unwrapTo=function(y){return new ho(this.overscaledZ,y,this.canonical.z,this.canonical.x,this.canonical.y)},ho.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ho.prototype.toUnwrapped=function(){return new Gx(this.wrap,this.canonical)},ho.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ho.prototype.getTilePoint=function(y){return this.canonical.getTilePoint(new Uh(y.x-this.wrap,y.y))};function Zd(y,D,U,ct,yt){y*=2,y<0&&(y=y*-1-1);var Mt=1<<U;return(Mt*Mt*y+Mt*yt+ct).toString(36)+U.toString(36)+D.toString(36)}function fk(y,D,U){for(var ct="",yt,Mt=y;Mt>0;Mt--)yt=1<<Mt-1,ct+=(D&yt?1:0)+(U&yt?2:0);return ct}zt("CanonicalTileID",qh),zt("OverscaledTileID",ho,{omit:["posMatrix"]});var Xc=function(y,D,U){if(this.uid=y,D.height!==D.width)throw new RangeError("DEM tiles must be square");if(U&&U!=="mapbox"&&U!=="terrarium")return I('"'+U+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=D.height;var ct=this.dim=D.height-2;this.data=new Uint32Array(D.data.buffer),this.encoding=U||"mapbox";for(var yt=0;yt<ct;yt++)this.data[this._idx(-1,yt)]=this.data[this._idx(0,yt)],this.data[this._idx(ct,yt)]=this.data[this._idx(ct-1,yt)],this.data[this._idx(yt,-1)]=this.data[this._idx(yt,0)],this.data[this._idx(yt,ct)]=this.data[this._idx(yt,ct-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ct,-1)]=this.data[this._idx(ct-1,0)],this.data[this._idx(-1,ct)]=this.data[this._idx(0,ct-1)],this.data[this._idx(ct,ct)]=this.data[this._idx(ct-1,ct-1)]};Xc.prototype.get=function(y,D){var U=new Uint8Array(this.data.buffer),ct=this._idx(y,D)*4,yt=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return yt(U[ct],U[ct+1],U[ct+2])},Xc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Xc.prototype._idx=function(y,D){if(y<-1||y>=this.dim+1||D<-1||D>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(D+1)*this.stride+(y+1)},Xc.prototype._unpackMapbox=function(y,D,U){return(y*256*256+D*256+U)/10-1e4},Xc.prototype._unpackTerrarium=function(y,D,U){return y*256+D+U/256-32768},Xc.prototype.getPixels=function(){return new Ts({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xc.prototype.backfillBorder=function(y,D,U){if(this.dim!==y.dim)throw new Error("dem dimension mismatch");var ct=D*this.dim,yt=D*this.dim+this.dim,Mt=U*this.dim,Bt=U*this.dim+this.dim;switch(D){case-1:ct=yt-1;break;case 1:yt=ct+1;break}switch(U){case-1:Mt=Bt-1;break;case 1:Bt=Mt+1;break}for(var ne=-D*this.dim,ge=-U*this.dim,Ae=Mt;Ae<Bt;Ae++)for(var je=ct;je<yt;je++)this.data[this._idx(je,Ae)]=y.data[this._idx(je+ne,Ae+ge)]},zt("DEMData",Xc);function hk(y,D){var U={};if(!D)return U;for(var ct=function(){var Bt=Mt[yt],ne=Bt.layerIds.map(function(qe){return D.getLayer(qe)}).filter(Boolean);if(ne.length!==0){Bt.layers=ne,Bt.stateDependentLayerIds&&(Bt.stateDependentLayers=Bt.stateDependentLayerIds.map(function(qe){return ne.filter(function(Qe){return Qe.id===qe})[0]}));for(var ge=0,Ae=ne;ge<Ae.length;ge+=1){var je=Ae[ge];U[je.id]=Bt}}},yt=0,Mt=y;yt<Mt.length;yt+=1)ct();return U}var kv=function(y){this._stringToNumber={},this._numberToString=[];for(var D=0;D<y.length;D++){var U=y[D];this._stringToNumber[U]=D,this._numberToString[D]=U}};kv.prototype.encode=function(y){return this._stringToNumber[y]},kv.prototype.decode=function(y){return this._numberToString[y]};var Tv=function(y,D,U,ct,yt){this.type="Feature",this._vectorTileFeature=y,y._z=D,y._x=U,y._y=ct,this.properties=y.properties,this.id=yt},Fy={geometry:{configurable:!0}};Fy.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Fy.geometry.set=function(y){this._geometry=y},Tv.prototype.toJSON=function(){var y={geometry:this.geometry};for(var D in this)D==="_geometry"||D==="_vectorTileFeature"||(y[D]=this[D]);return y},Object.defineProperties(Tv.prototype,Fy);var Bp=function(){this.state={},this.stateChanges={},this.deletedStates={}};Bp.prototype.updateState=function(y,D,U){var ct=String(D);if(this.stateChanges[y]=this.stateChanges[y]||{},this.stateChanges[y][ct]=this.stateChanges[y][ct]||{},w(this.stateChanges[y][ct],U),this.deletedStates[y]===null){this.deletedStates[y]={};for(var yt in this.state[y])yt!==ct&&(this.deletedStates[y][yt]=null)}else{var Mt=this.deletedStates[y]&&this.deletedStates[y][ct]===null;if(Mt){this.deletedStates[y][ct]={};for(var Bt in this.state[y][ct])U[Bt]||(this.deletedStates[y][ct][Bt]=null)}else for(var ne in U){var ge=this.deletedStates[y]&&this.deletedStates[y][ct]&&this.deletedStates[y][ct][ne]===null;ge&&delete this.deletedStates[y][ct][ne]}}},Bp.prototype.removeFeatureState=function(y,D,U){var ct=this.deletedStates[y]===null;if(!ct){var yt=String(D);if(this.deletedStates[y]=this.deletedStates[y]||{},U&&D!==void 0)this.deletedStates[y][yt]!==null&&(this.deletedStates[y][yt]=this.deletedStates[y][yt]||{},this.deletedStates[y][yt][U]=null);else if(D!==void 0){var Mt=this.stateChanges[y]&&this.stateChanges[y][yt];if(Mt){this.deletedStates[y][yt]={};for(U in this.stateChanges[y][yt])this.deletedStates[y][yt][U]=null}else this.deletedStates[y][yt]=null}else this.deletedStates[y]=null}},Bp.prototype.getState=function(y,D){var U=String(D),ct=this.state[y]||{},yt=this.stateChanges[y]||{},Mt=w({},ct[U],yt[U]);if(this.deletedStates[y]===null)return{};if(this.deletedStates[y]){var Bt=this.deletedStates[y][D];if(Bt===null)return{};for(var ne in Bt)delete Mt[ne]}return Mt},Bp.prototype.initializeTileState=function(y,D){y.setFeatureState(this.state,D)},Bp.prototype.coalesceChanges=function(y,D){var U={};for(var ct in this.stateChanges){this.state[ct]=this.state[ct]||{};var yt={};for(var Mt in this.stateChanges[ct])this.state[ct][Mt]||(this.state[ct][Mt]={}),w(this.state[ct][Mt],this.stateChanges[ct][Mt]),yt[Mt]=this.state[ct][Mt];U[ct]=yt}for(var Bt in this.deletedStates){this.state[Bt]=this.state[Bt]||{};var ne={};if(this.deletedStates[Bt]===null)for(var ge in this.state[Bt])ne[ge]={},this.state[Bt][ge]={};else for(var Ae in this.deletedStates[Bt]){var je=this.deletedStates[Bt][Ae]===null;if(je)this.state[Bt][Ae]={};else for(var qe=0,Qe=Object.keys(this.deletedStates[Bt][Ae]);qe<Qe.length;qe+=1){var sr=Qe[qe];delete this.state[Bt][Ae][sr]}ne[Ae]=this.state[Bt][Ae]}U[Bt]=U[Bt]||{},w(U[Bt],ne)}if(this.stateChanges={},this.deletedStates={},Object.keys(U).length!==0)for(var Sr in y){var Hr=y[Sr];Hr.setFeatureState(U,D)}};var Uc=function(y,D){this.tileID=y,this.x=y.canonical.x,this.y=y.canonical.y,this.z=y.canonical.z,this.grid=new Hi(Ri,16,0),this.grid3D=new Hi(Ri,16,0),this.featureIndexArray=new av,this.promoteId=D};Uc.prototype.insert=function(y,D,U,ct,yt,Mt){var Bt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(U,ct,yt);for(var ne=Mt?this.grid3D:this.grid,ge=0;ge<D.length;ge++){for(var Ae=D[ge],je=[1/0,1/0,-1/0,-1/0],qe=0;qe<Ae.length;qe++){var Qe=Ae[qe];je[0]=Math.min(je[0],Qe.x),je[1]=Math.min(je[1],Qe.y),je[2]=Math.max(je[2],Qe.x),je[3]=Math.max(je[3],Qe.y)}je[0]<Ri&&je[1]<Ri&&je[2]>=0&&je[3]>=0&&ne.insert(Bt,je[0],je[1],je[2],je[3])}},Uc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Sp.VectorTile(new pv(this.rawTileData)).layers,this.sourceLayerCoder=new kv(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Uc.prototype.query=function(y,D,U,ct){var yt=this;this.loadVTLayers();for(var Mt=y.params||{},Bt=Ri/y.tileSize/y.scale,ne=il(Mt.filter),ge=y.queryGeometry,Ae=y.queryPadding*Bt,je=Yx(ge),qe=this.grid.query(je.minX-Ae,je.minY-Ae,je.maxX+Ae,je.maxY+Ae),Qe=Yx(y.cameraQueryGeometry),sr=this.grid3D.query(Qe.minX-Ae,Qe.minY-Ae,Qe.maxX+Ae,Qe.maxY+Ae,function(Fn,Zn,ti,ei){return fc(y.cameraQueryGeometry,Fn-Ae,Zn-Ae,ti+Ae,ei+Ae)}),Sr=0,Hr=sr;Sr<Hr.length;Sr+=1){var dn=Hr[Sr];qe.push(dn)}qe.sort(pk);for(var un={},wn,Sn=function(Fn){var Zn=qe[Fn];if(Zn!==wn){wn=Zn;var ti=yt.featureIndexArray.get(Zn),ei=null;yt.loadMatchingFeature(un,ti.bucketIndex,ti.sourceLayerIndex,ti.featureIndex,ne,Mt.layers,Mt.availableImages,D,U,ct,function(bi,_i,Ai){return ei||(ei=la(bi)),_i.queryIntersectsFeature(ge,bi,Ai,ei,yt.z,y.transform,Bt,y.pixelPosMatrix)})}},mn=0;mn<qe.length;mn++)Sn(mn);return un},Uc.prototype.loadMatchingFeature=function(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae,je){var qe=this.bucketLayerIDs[D];if(!(Mt&&!z(Mt,qe))){var Qe=this.sourceLayerCoder.decode(U),sr=this.vtLayers[Qe],Sr=sr.feature(ct);if(yt.needGeometry){var Hr=Yi(Sr,!0);if(!yt.filter(new wi(this.tileID.overscaledZ),Hr,this.tileID.canonical))return}else if(!yt.filter(new wi(this.tileID.overscaledZ),Sr))return;for(var dn=this.getId(Sr,Qe),un=0;un<qe.length;un++){var wn=qe[un];if(!(Mt&&Mt.indexOf(wn)<0)){var Sn=ne[wn];if(Sn){var mn={};dn!==void 0&&Ae&&(mn=Ae.getState(Sn.sourceLayer||"_geojsonTileLayer",dn));var Fn=w({},ge[wn]);Fn.paint=Zx(Fn.paint,Sn.paint,Sr,mn,Bt),Fn.layout=Zx(Fn.layout,Sn.layout,Sr,mn,Bt);var Zn=!je||je(Sr,Sn,mn);if(Zn){var ti=new Tv(Sr,this.z,this.x,this.y,dn);ti.layer=Fn;var ei=y[wn];ei===void 0&&(ei=y[wn]=[]),ei.push({featureIndex:ct,feature:ti,intersectionZ:Zn})}}}}}},Uc.prototype.lookupSymbolFeatures=function(y,D,U,ct,yt,Mt,Bt,ne){var ge={};this.loadVTLayers();for(var Ae=il(yt),je=0,qe=y;je<qe.length;je+=1){var Qe=qe[je];this.loadMatchingFeature(ge,U,ct,Qe,Ae,Mt,Bt,ne,D)}return ge},Uc.prototype.hasLayer=function(y){for(var D=0,U=this.bucketLayerIDs;D<U.length;D+=1)for(var ct=U[D],yt=0,Mt=ct;yt<Mt.length;yt+=1){var Bt=Mt[yt];if(y===Bt)return!0}return!1},Uc.prototype.getId=function(y,D){var U=y.id;if(this.promoteId){var ct=typeof this.promoteId=="string"?this.promoteId:this.promoteId[D];U=y.properties[ct],typeof U=="boolean"&&(U=Number(U))}return U},zt("FeatureIndex",Uc,{omit:["rawTileData","sourceLayerCoder"]});function Zx(y,D,U,ct,yt){return R(y,function(Mt,Bt){var ne=D instanceof xo?D.get(Bt):null;return ne&&ne.evaluate?ne.evaluate(U,ct,yt):ne})}function Yx(y){for(var D=1/0,U=1/0,ct=-1/0,yt=-1/0,Mt=0,Bt=y;Mt<Bt.length;Mt+=1){var ne=Bt[Mt];D=Math.min(D,ne.x),U=Math.min(U,ne.y),ct=Math.max(ct,ne.x),yt=Math.max(yt,ne.y)}return{minX:D,minY:U,maxX:ct,maxY:yt}}function pk(y,D){return D-y}var dk=3e4,To=function(y,D){this.tileID=y,this.uid=T(),this.uses=0,this.tileSize=D,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};To.prototype.registerFadeDuration=function(y){var D=y+this.timeAdded;D<ut.now()||this.fadeEndTime&&D<this.fadeEndTime||(this.fadeEndTime=D)},To.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},To.prototype.loadVectorData=function(y,D,U){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!y){this.collisionBoxArray=new Id;return}y.featureIndex&&(this.latestFeatureIndex=y.featureIndex,y.rawTileData?(this.latestRawTileData=y.rawTileData,this.latestFeatureIndex.rawTileData=y.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=y.collisionBoxArray,this.buckets=hk(y.buckets,D.style),this.hasSymbolBuckets=!1;for(var ct in this.buckets){var yt=this.buckets[ct];if(yt instanceof ma)if(this.hasSymbolBuckets=!0,U)yt.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Mt in this.buckets){var Bt=this.buckets[Mt];if(Bt instanceof ma&&Bt.hasRTLText){this.hasRTLText=!0,Ui();break}}this.queryPadding=0;for(var ne in this.buckets){var ge=this.buckets[ne];this.queryPadding=Math.max(this.queryPadding,D.style.getLayer(ne).queryRadius(ge))}y.imageAtlas&&(this.imageAtlas=y.imageAtlas),y.glyphAtlasImage&&(this.glyphAtlasImage=y.glyphAtlasImage)},To.prototype.unloadVectorData=function(){for(var y in this.buckets)this.buckets[y].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},To.prototype.getBucket=function(y){return this.buckets[y.id]},To.prototype.upload=function(y){for(var D in this.buckets){var U=this.buckets[D];U.uploadPending()&&U.upload(y)}var ct=y.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Xh(y,this.imageAtlas.image,ct.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Xh(y,this.glyphAtlasImage,ct.ALPHA),this.glyphAtlasImage=null)},To.prototype.prepare=function(y){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(y,this.imageAtlasTexture)},To.prototype.queryRenderedFeatures=function(y,D,U,ct,yt,Mt,Bt,ne,ge,Ae){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ct,cameraQueryGeometry:yt,scale:Mt,tileSize:this.tileSize,pixelPosMatrix:Ae,transform:ne,params:Bt,queryPadding:this.queryPadding*ge},y,D,U)},To.prototype.querySourceFeatures=function(y,D){var U=this.latestFeatureIndex;if(!(!U||!U.rawTileData)){var ct=U.loadVTLayers(),yt=D?D.sourceLayer:"",Mt=ct._geojsonTileLayer||ct[yt];if(Mt)for(var Bt=il(D&&D.filter),ne=this.tileID.canonical,ge=ne.z,Ae=ne.x,je=ne.y,qe={z:ge,x:Ae,y:je},Qe=0;Qe<Mt.length;Qe++){var sr=Mt.feature(Qe);if(Bt.needGeometry){var Sr=Yi(sr,!0);if(!Bt.filter(new wi(this.tileID.overscaledZ),Sr,this.tileID.canonical))continue}else if(!Bt.filter(new wi(this.tileID.overscaledZ),sr))continue;var Hr=U.getId(sr,yt),dn=new Tv(sr,ge,Ae,je,Hr);dn.tile=qe,y.push(dn)}}},To.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},To.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},To.prototype.setExpiryData=function(y){var D=this.expirationTime;if(y.cacheControl){var U=et(y.cacheControl);U["max-age"]&&(this.expirationTime=Date.now()+U["max-age"]*1e3)}else y.expires&&(this.expirationTime=new Date(y.expires).getTime());if(this.expirationTime){var ct=Date.now(),yt=!1;if(this.expirationTime>ct)yt=!1;else if(!D)yt=!0;else if(this.expirationTime<D)yt=!0;else{var Mt=this.expirationTime-D;Mt?this.expirationTime=ct+Math.max(Mt,dk):yt=!0}yt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},To.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},To.prototype.setFeatureState=function(y,D){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(y).length===0)){var U=this.latestFeatureIndex.loadVTLayers();for(var ct in this.buckets)if(D.style.hasLayer(ct)){var yt=this.buckets[ct],Mt=yt.layers[0].sourceLayer||"_geojsonTileLayer",Bt=U[Mt],ne=y[Mt];if(!(!Bt||!ne||Object.keys(ne).length===0)){yt.update(ne,Bt,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ge=D&&D.style&&D.style.getLayer(ct);ge&&(this.queryPadding=Math.max(this.queryPadding,ge.queryRadius(yt)))}}}},To.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},To.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ut.now()},To.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},To.prototype.setHoldDuration=function(y){this.symbolFadeHoldUntil=ut.now()+y},To.prototype.setDependencies=function(y,D){for(var U={},ct=0,yt=D;ct<yt.length;ct+=1){var Mt=yt[ct];U[Mt]=!0}this.dependencies[y]=U},To.prototype.hasDependency=function(y,D){for(var U=0,ct=y;U<ct.length;U+=1){var yt=ct[U],Mt=this.dependencies[yt];if(Mt)for(var Bt=0,ne=D;Bt<ne.length;Bt+=1){var ge=ne[Bt];if(Mt[ge])return!0}}return!1};var vk=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Bf=s.performance,Kx=function(y){this._marks={start:[y.url,"start"].join("#"),end:[y.url,"end"].join("#"),measure:y.url.toString()},Bf.mark(this._marks.start)};Kx.prototype.finish=function(){Bf.mark(this._marks.end);var y=Bf.getEntriesByName(this._marks.measure);return y.length===0&&(Bf.measure(this._marks.measure,this._marks.start,this._marks.end),y=Bf.getEntriesByName(this._marks.measure),Bf.clearMarks(this._marks.start),Bf.clearMarks(this._marks.end),Bf.clearMeasures(this._marks.measure)),y},i.Actor=Fp,i.AlphaImage=Vh,i.CanonicalTileID=qh,i.CollisionBoxArray=Id,i.Color=$i,i.DEMData=Xc,i.DataConstantProperty=si,i.DictionaryCoder=kv,i.EXTENT=Ri,i.ErrorEvent=De,i.EvaluationParameters=wi,i.Event=er,i.Evented=lr,i.FeatureIndex=Uc,i.FillBucket=Ru,i.FillExtrusionBucket=Du,i.ImageAtlas=Ud,i.ImagePosition=vv,i.LineBucket=us,i.LngLat=Ca,i.LngLatBounds=fo,i.MercatorCoordinate=Uh,i.ONE_EM=zo,i.OverscaledTileID=ho,i.Point=r,i.Point$1=r,i.Properties=sa,i.Protobuf=pv,i.RGBAImage=Ts,i.RequestManager=Rt,i.RequestPerformance=Kx,i.ResourceType=_r,i.SegmentVector=lo,i.SourceFeatureState=Bp,i.StructArrayLayout1ui2=If,i.StructArrayLayout2f1f2i16=Iu,i.StructArrayLayout2i4=Nc,i.StructArrayLayout3ui6=Ou,i.StructArrayLayout4i8=Ed,i.SymbolBucket=ma,i.Texture=Xh,i.Tile=To,i.Transitionable=na,i.Uniform1f=Qr,i.Uniform1i=Dr,i.Uniform2f=Xr,i.Uniform3f=Wr,i.Uniform4f=an,i.UniformColor=yn,i.UniformMatrix4f=Hn,i.UnwrappedTileID=Gx,i.ValidationError=Br,i.WritingMode=ol,i.ZoomHistory=He,i.add=dy,i.addDynamicAttributes=Oy,i.asyncAll=a,i.bezier=h,i.bindAll=L,i.browser=ut,i.cacheEntryPossiblyAdded=Le,i.clamp=f,i.clearTileCache=mr,i.clipLine=Px,i.clone=wp,i.clone$1=N,i.clone$2=Tp,i.collisionCircleLayout=Z6,i.config=at,i.create=_p,i.create$1=Ho,i.create$2=bp,i.createCommonjsModule=M,i.createExpression=rl,i.createLayout=Ea,i.createStyleLayer=ok,i.cross=m5,i.deepEqual=n,i.dot=y5,i.dot$1=k5,i.ease=b,i.emitValidationErrors=Di,i.endsWith=A,i.enforceCacheSizeLimit=Ge,i.evaluateSizeForFeature=kx,i.evaluateSizeForZoom=Tx,i.evaluateVariableOffset=Ox,i.evented=ki,i.extend=w,i.featureFilter=il,i.filterObject=O,i.fromRotation=Rf,i.getAnchorAlignment=Ly,i.getAnchorJustification=Iy,i.getArrayBuffer=Fe,i.getImage=Ie,i.getJSON=Oe,i.getRTLTextPluginStatus=ji,i.getReferrer=re,i.getVideo=We,i.identity=hc,i.invert=jh,i.isChar=Ve,i.isMapboxURL=Ht,i.keysDifference=p,i.makeRequest=ze,i.mapObject=R,i.mercatorXfromLng=Ux,i.mercatorYfromLat=qx,i.mercatorZfromAltitude=Wx,i.mul=Hh,i.multiply=Va,i.mvt=Sp,i.nextPowerOfTwo=u,i.normalize=g5,i.number=Pa,i.offscreenCanvasSupported=Ye,i.ortho=hy,i.parseGlyphPBF=w8,i.pbf=pv,i.performSymbolLayout=j8,i.perspective=fy,i.pick=S,i.plugin=Yn,i.polygonIntersectsPolygon=Ki,i.postMapLoadEvent=Ut,i.postTurnstileEvent=te,i.potpack=vx,i.refProperties=vk,i.register=zt,i.registerForPluginStateChange=ra,i.renderColorRamp=G2,i.rotate=Nh,i.rotateX=kp,i.rotateZ=zd,i.scale=ks,i.scale$1=w5,i.scale$2=Rd,i.setCacheLimits=xe,i.setRTLTextPlugin=Na,i.sphericalToCartesian=W,i.sqrLen=A5,i.styleSpec=br,i.sub=b5,i.symbolSize=C8,i.transformMat3=x5,i.transformMat4=sv,i.translate=ws,i.triggerPluginCompletionEvent=ci,i.uniqueId=T,i.validateCustomStyleLayer=nk,i.validateLight=Gn,i.validateStyle=Cn,i.values=c,i.vectorTile=Sp,i.version=m,i.warnOnce=I,i.webpSupported=dt,i.window=s,i.wrap=k}),E(["./shared"],function(i){function M(re){var le=typeof re;if(le==="number"||le==="boolean"||le==="string"||re===void 0||re===null)return JSON.stringify(re);if(Array.isArray(re)){for(var me="[",Ee=0,ze=re;Ee<ze.length;Ee+=1){var Oe=ze[Ee];me+=M(Oe)+","}return me+"]"}for(var Fe=Object.keys(re).sort(),Re="{",Ke=0;Ke<Fe.length;Ke++)Re+=JSON.stringify(Fe[Ke])+":"+M(re[Fe[Ke]])+",";return Re+"}"}function m(re){for(var le="",me=0,Ee=i.refProperties;me<Ee.length;me+=1){var ze=Ee[me];le+="/"+M(re[ze])}return le}function d(re,le){for(var me={},Ee=0;Ee<re.length;Ee++){var ze=le&&le[re[Ee].id]||m(re[Ee]);le&&(le[re[Ee].id]=ze);var Oe=me[ze];Oe||(Oe=me[ze]=[]),Oe.push(re[Ee])}var Fe=[];for(var Re in me)Fe.push(me[Re]);return Fe}var v=function(re){this.keyCache={},re&&this.replace(re)};v.prototype.replace=function(re){this._layerConfigs={},this._layers={},this.update(re,[])},v.prototype.update=function(re,le){for(var me=this,Ee=0,ze=re;Ee<ze.length;Ee+=1){var Oe=ze[Ee];this._layerConfigs[Oe.id]=Oe;var Fe=this._layers[Oe.id]=i.createStyleLayer(Oe);Fe._featureFilter=i.featureFilter(Fe.filter),this.keyCache[Oe.id]&&delete this.keyCache[Oe.id]}for(var Re=0,Ke=le;Re<Ke.length;Re+=1){var or=Ke[Re];delete this.keyCache[or],delete this._layerConfigs[or],delete this._layers[or]}this.familiesBySource={};for(var pr=d(i.values(this._layerConfigs),this.keyCache),hr=0,jt=pr;hr<jt.length;hr+=1){var Gt=jt[hr],Ce=Gt.map(function(De){return me._layers[De.id]}),Ie=Ce[0];if(Ie.visibility!=="none"){var We=Ie.source||"",$e=this.familiesBySource[We];$e||($e=this.familiesBySource[We]={});var ir=Ie.sourceLayer||"_geojsonTileLayer",er=$e[ir];er||(er=$e[ir]=[]),er.push(Ce)}}};var r=1,e=function(re){var le={},me=[];for(var Ee in re){var ze=re[Ee],Oe=le[Ee]={};for(var Fe in ze){var Re=ze[+Fe];if(!(!Re||Re.bitmap.width===0||Re.bitmap.height===0)){var Ke={x:0,y:0,w:Re.bitmap.width+2*r,h:Re.bitmap.height+2*r};me.push(Ke),Oe[Fe]={rect:Ke,metrics:Re.metrics}}}}var or=i.potpack(me),pr=or.w,hr=or.h,jt=new i.AlphaImage({width:pr||1,height:hr||1});for(var Gt in re){var Ce=re[Gt];for(var Ie in Ce){var We=Ce[+Ie];if(!(!We||We.bitmap.width===0||We.bitmap.height===0)){var $e=le[Gt][Ie].rect;i.AlphaImage.copy(We.bitmap,jt,{x:0,y:0},{x:$e.x+r,y:$e.y+r},We.bitmap)}}}this.image=jt,this.positions=le};i.register("GlyphAtlas",e);var s=function(re){this.tileID=new i.OverscaledTileID(re.tileID.overscaledZ,re.tileID.wrap,re.tileID.canonical.z,re.tileID.canonical.x,re.tileID.canonical.y),this.uid=re.uid,this.zoom=re.zoom,this.pixelRatio=re.pixelRatio,this.tileSize=re.tileSize,this.source=re.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=re.showCollisionBoxes,this.collectResourceTiming=!!re.collectResourceTiming,this.returnDependencies=!!re.returnDependencies,this.promoteId=re.promoteId};s.prototype.parse=function(re,le,me,Ee,ze){var Oe=this;this.status="parsing",this.data=re,this.collisionBoxArray=new i.CollisionBoxArray;var Fe=new i.DictionaryCoder(Object.keys(re.layers).sort()),Re=new i.FeatureIndex(this.tileID,this.promoteId);Re.bucketLayerIDs=[];var Ke={},or={featureIndex:Re,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:me},pr=le.familiesBySource[this.source];for(var hr in pr){var jt=re.layers[hr];if(jt){jt.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+hr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Gt=Fe.encode(hr),Ce=[],Ie=0;Ie<jt.length;Ie++){var We=jt.feature(Ie),$e=Re.getId(We,hr);Ce.push({feature:We,id:$e,index:Ie,sourceLayerIndex:Gt})}for(var ir=0,er=pr[hr];ir<er.length;ir+=1){var De=er[ir],lr=De[0];if(!(lr.minzoom&&this.zoom<Math.floor(lr.minzoom))&&!(lr.maxzoom&&this.zoom>=lr.maxzoom)&&lr.visibility!=="none"){n(De,this.zoom,me);var vr=Ke[lr.id]=lr.createBucket({index:Re.bucketLayerIDs.length,layers:De,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Gt,sourceID:this.source});vr.populate(Ce,or,this.tileID.canonical),Re.bucketLayerIDs.push(De.map(function(Mn){return Mn.id}))}}}}var dr,fr,zr,Or,Ir=i.mapObject(or.glyphDependencies,function(Mn){return Object.keys(Mn).map(Number)});Object.keys(Ir).length?Ee.send("getGlyphs",{uid:this.uid,stacks:Ir},function(Mn,kr){dr||(dr=Mn,fr=kr,kn.call(Oe))}):fr={};var sn=Object.keys(or.iconDependencies);sn.length?Ee.send("getImages",{icons:sn,source:this.source,tileID:this.tileID,type:"icons"},function(Mn,kr){dr||(dr=Mn,zr=kr,kn.call(Oe))}):zr={};var nn=Object.keys(or.patternDependencies);nn.length?Ee.send("getImages",{icons:nn,source:this.source,tileID:this.tileID,type:"patterns"},function(Mn,kr){dr||(dr=Mn,Or=kr,kn.call(Oe))}):Or={},kn.call(this);function kn(){if(dr)return ze(dr);if(fr&&zr&&Or){var Mn=new e(fr),kr=new i.ImageAtlas(zr,Or);for(var Er in Ke){var Vr=Ke[Er];Vr instanceof i.SymbolBucket?(n(Vr.layers,this.zoom,me),i.performSymbolLayout(Vr,fr,Mn.positions,zr,kr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Vr.hasPattern&&(Vr instanceof i.LineBucket||Vr instanceof i.FillBucket||Vr instanceof i.FillExtrusionBucket)&&(n(Vr.layers,this.zoom,me),Vr.addFeatures(or,this.tileID.canonical,kr.patternPositions))}this.status="done",ze(null,{buckets:i.values(Ke).filter(function(qr){return!qr.isEmpty()}),featureIndex:Re,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Mn.image,imageAtlas:kr,glyphMap:this.returnDependencies?fr:null,iconMap:this.returnDependencies?zr:null,glyphPositions:this.returnDependencies?Mn.positions:null})}}};function n(re,le,me){for(var Ee=new i.EvaluationParameters(le),ze=0,Oe=re;ze<Oe.length;ze+=1){var Fe=Oe[ze];Fe.recalculate(Ee,me)}}function l(re,le){var me=i.getArrayBuffer(re.request,function(Ee,ze,Oe,Fe){Ee?le(Ee):ze&&le(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(ze)),rawData:ze,cacheControl:Oe,expires:Fe})});return function(){me.cancel(),le()}}var o=function(re,le,me,Ee){this.actor=re,this.layerIndex=le,this.availableImages=me,this.loadVectorData=Ee||l,this.loading={},this.loaded={}};o.prototype.loadTile=function(re,le){var me=this,Ee=re.uid;this.loading||(this.loading={});var ze=re&&re.request&&re.request.collectResourceTiming?new i.RequestPerformance(re.request):!1,Oe=this.loading[Ee]=new s(re);Oe.abort=this.loadVectorData(re,function(Fe,Re){if(delete me.loading[Ee],Fe||!Re)return Oe.status="done",me.loaded[Ee]=Oe,le(Fe);var Ke=Re.rawData,or={};Re.expires&&(or.expires=Re.expires),Re.cacheControl&&(or.cacheControl=Re.cacheControl);var pr={};if(ze){var hr=ze.finish();hr&&(pr.resourceTiming=JSON.parse(JSON.stringify(hr)))}Oe.vectorTile=Re.vectorTile,Oe.parse(Re.vectorTile,me.layerIndex,me.availableImages,me.actor,function(jt,Gt){if(jt||!Gt)return le(jt);le(null,i.extend({rawTileData:Ke.slice(0)},Gt,or,pr))}),me.loaded=me.loaded||{},me.loaded[Ee]=Oe})},o.prototype.reloadTile=function(re,le){var me=this,Ee=this.loaded,ze=re.uid,Oe=this;if(Ee&&Ee[ze]){var Fe=Ee[ze];Fe.showCollisionBoxes=re.showCollisionBoxes;var Re=function(Ke,or){var pr=Fe.reloadCallback;pr&&(delete Fe.reloadCallback,Fe.parse(Fe.vectorTile,Oe.layerIndex,me.availableImages,Oe.actor,pr)),le(Ke,or)};Fe.status==="parsing"?Fe.reloadCallback=Re:Fe.status==="done"&&(Fe.vectorTile?Fe.parse(Fe.vectorTile,this.layerIndex,this.availableImages,this.actor,Re):Re())}},o.prototype.abortTile=function(re,le){var me=this.loading,Ee=re.uid;me&&me[Ee]&&me[Ee].abort&&(me[Ee].abort(),delete me[Ee]),le()},o.prototype.removeTile=function(re,le){var me=this.loaded,Ee=re.uid;me&&me[Ee]&&delete me[Ee],le()};var h=i.window.ImageBitmap,b=function(){this.loaded={}};b.prototype.loadTile=function(re,le){var me=re.uid,Ee=re.encoding,ze=re.rawImageData,Oe=h&&ze instanceof h?this.getImageData(ze):ze,Fe=new i.DEMData(me,Oe,Ee);this.loaded=this.loaded||{},this.loaded[me]=Fe,le(null,Fe)},b.prototype.getImageData=function(re){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(re.width,re.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=re.width,this.offscreenCanvas.height=re.height,this.offscreenCanvasContext.drawImage(re,0,0,re.width,re.height);var le=this.offscreenCanvasContext.getImageData(-1,-1,re.width+2,re.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:le.width,height:le.height},le.data)},b.prototype.removeTile=function(re){var le=this.loaded,me=re.uid;le&&le[me]&&delete le[me]};var f=k;function k(re,le){var me=re&&re.type,Ee;if(me==="FeatureCollection")for(Ee=0;Ee<re.features.length;Ee++)k(re.features[Ee],le);else if(me==="GeometryCollection")for(Ee=0;Ee<re.geometries.length;Ee++)k(re.geometries[Ee],le);else if(me==="Feature")k(re.geometry,le);else if(me==="Polygon")a(re.coordinates,le);else if(me==="MultiPolygon")for(Ee=0;Ee<re.coordinates.length;Ee++)a(re.coordinates[Ee],le);return re}function a(re,le){if(re.length!==0){c(re[0],le);for(var me=1;me<re.length;me++)c(re[me],!le)}}function c(re,le){for(var me=0,Ee=0,ze=re.length,Oe=ze-1;Ee<ze;Oe=Ee++)me+=(re[Ee][0]-re[Oe][0])*(re[Oe][1]+re[Ee][1]);me>=0!=!!le&&re.reverse()}var p=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(re){this._feature=re,this.extent=i.EXTENT,this.type=re.type,this.properties=re.tags,"id"in re&&!isNaN(re.id)&&(this.id=parseInt(re.id,10))};w.prototype.loadGeometry=function(){if(this._feature.type===1){for(var re=[],le=0,me=this._feature.geometry;le<me.length;le+=1){var Ee=me[le];re.push([new i.Point$1(Ee[0],Ee[1])])}return re}else{for(var ze=[],Oe=0,Fe=this._feature.geometry;Oe<Fe.length;Oe+=1){for(var Re=Fe[Oe],Ke=[],or=0,pr=Re;or<pr.length;or+=1){var hr=pr[or];Ke.push(new i.Point$1(hr[0],hr[1]))}ze.push(Ke)}return ze}},w.prototype.toGeoJSON=function(re,le,me){return p.call(this,re,le,me)};var S=function(re){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=re.length,this._features=re};S.prototype.feature=function(re){return new w(this._features[re])};var _=i.vectorTile.VectorTileFeature,T=P;function P(re,le){this.options=le||{},this.features=re,this.length=re.length}P.prototype.feature=function(re){return new u(this.features[re],this.options.extent)};function u(re,le){this.id=typeof re.id=="number"?re.id:void 0,this.type=re.type,this.rawGeometry=re.type===1?[re.geometry]:re.geometry,this.properties=re.tags,this.extent=le||4096}u.prototype.loadGeometry=function(){var re=this.rawGeometry;this.geometry=[];for(var le=0;le<re.length;le++){for(var me=re[le],Ee=[],ze=0;ze<me.length;ze++)Ee.push(new i.Point$1(me[ze][0],me[ze][1]));this.geometry.push(Ee)}return this.geometry},u.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var re=this.geometry,le=1/0,me=-1/0,Ee=1/0,ze=-1/0,Oe=0;Oe<re.length;Oe++)for(var Fe=re[Oe],Re=0;Re<Fe.length;Re++){var Ke=Fe[Re];le=Math.min(le,Ke.x),me=Math.max(me,Ke.x),Ee=Math.min(Ee,Ke.y),ze=Math.max(ze,Ke.y)}return[le,Ee,me,ze]},u.prototype.toGeoJSON=_.prototype.toGeoJSON;var g=O,L=O,A=N,R=T;function O(re){var le=new i.pbf;return z(re,le),le.finish()}function N(re,le){le=le||{};var me={};for(var Ee in re)me[Ee]=new T(re[Ee].features,le),me[Ee].name=Ee,me[Ee].version=le.version,me[Ee].extent=le.extent;return O({layers:me})}function z(re,le){for(var me in re.layers)le.writeMessage(3,F,re.layers[me])}function F(re,le){le.writeVarintField(15,re.version||1),le.writeStringField(1,re.name||""),le.writeVarintField(5,re.extent||4096);var me,Ee={keys:[],values:[],keycache:{},valuecache:{}};for(me=0;me<re.length;me++)Ee.feature=re.feature(me),le.writeMessage(2,I,Ee);var ze=Ee.keys;for(me=0;me<ze.length;me++)le.writeStringField(3,ze[me]);var Oe=Ee.values;for(me=0;me<Oe.length;me++)le.writeMessage(4,et,Oe[me])}function I(re,le){var me=re.feature;me.id!==void 0&&le.writeVarintField(1,me.id),le.writeMessage(2,j,re),le.writeVarintField(3,me.type),le.writeMessage(4,K,me)}function j(re,le){var me=re.feature,Ee=re.keys,ze=re.values,Oe=re.keycache,Fe=re.valuecache;for(var Re in me.properties){var Ke=Oe[Re];typeof Ke>"u"&&(Ee.push(Re),Ke=Ee.length-1,Oe[Re]=Ke),le.writeVarint(Ke);var or=me.properties[Re],pr=typeof or;pr!=="string"&&pr!=="boolean"&&pr!=="number"&&(or=JSON.stringify(or));var hr=pr+":"+or,jt=Fe[hr];typeof jt>"u"&&(ze.push(or),jt=ze.length-1,Fe[hr]=jt),le.writeVarint(jt)}}function V(re,le){return(le<<3)+(re&7)}function W(re){return re<<1^re>>31}function K(re,le){for(var me=re.loadGeometry(),Ee=re.type,ze=0,Oe=0,Fe=me.length,Re=0;Re<Fe;Re++){var Ke=me[Re],or=1;Ee===1&&(or=Ke.length),le.writeVarint(V(1,or));for(var pr=Ee===3?Ke.length-1:Ke.length,hr=0;hr<pr;hr++){hr===1&&Ee!==1&&le.writeVarint(V(2,pr-1));var jt=Ke[hr].x-ze,Gt=Ke[hr].y-Oe;le.writeVarint(W(jt)),le.writeVarint(W(Gt)),ze+=jt,Oe+=Gt}Ee===3&&le.writeVarint(V(7,1))}}function et(re,le){var me=typeof re;me==="string"?le.writeStringField(1,re):me==="boolean"?le.writeBooleanField(7,re):me==="number"&&(re%1!==0?le.writeDoubleField(3,re):re<0?le.writeSVarintField(6,re):le.writeVarintField(5,re))}g.fromVectorTileJs=L,g.fromGeojsonVt=A,g.GeoJSONWrapper=R;function lt(re,le,me,Ee,ze,Oe){if(!(ze-Ee<=me)){var Fe=Ee+ze>>1;ot(re,le,Fe,Ee,ze,Oe%2),lt(re,le,me,Ee,Fe-1,Oe+1),lt(re,le,me,Fe+1,ze,Oe+1)}}function ot(re,le,me,Ee,ze,Oe){for(;ze>Ee;){if(ze-Ee>600){var Fe=ze-Ee+1,Re=me-Ee+1,Ke=Math.log(Fe),or=.5*Math.exp(2*Ke/3),pr=.5*Math.sqrt(Ke*or*(Fe-or)/Fe)*(Re-Fe/2<0?-1:1),hr=Math.max(Ee,Math.floor(me-Re*or/Fe+pr)),jt=Math.min(ze,Math.floor(me+(Fe-Re)*or/Fe+pr));ot(re,le,me,hr,jt,Oe)}var Gt=le[2*me+Oe],Ce=Ee,Ie=ze;for(q(re,le,Ee,me),le[2*ze+Oe]>Gt&&q(re,le,Ee,ze);Ce<Ie;){for(q(re,le,Ce,Ie),Ce++,Ie--;le[2*Ce+Oe]<Gt;)Ce++;for(;le[2*Ie+Oe]>Gt;)Ie--}le[2*Ee+Oe]===Gt?q(re,le,Ee,Ie):(Ie++,q(re,le,Ie,ze)),Ie<=me&&(Ee=Ie+1),me<=Ie&&(ze=Ie-1)}}function q(re,le,me,Ee){J(re,me,Ee),J(le,2*me,2*Ee),J(le,2*me+1,2*Ee+1)}function J(re,le,me){var Ee=re[le];re[le]=re[me],re[me]=Ee}function it(re,le,me,Ee,ze,Oe,Fe){for(var Re=[0,re.length-1,0],Ke=[],or,pr;Re.length;){var hr=Re.pop(),jt=Re.pop(),Gt=Re.pop();if(jt-Gt<=Fe){for(var Ce=Gt;Ce<=jt;Ce++)or=le[2*Ce],pr=le[2*Ce+1],or>=me&&or<=ze&&pr>=Ee&&pr<=Oe&&Ke.push(re[Ce]);continue}var Ie=Math.floor((Gt+jt)/2);or=le[2*Ie],pr=le[2*Ie+1],or>=me&&or<=ze&&pr>=Ee&&pr<=Oe&&Ke.push(re[Ie]);var We=(hr+1)%2;(hr===0?me<=or:Ee<=pr)&&(Re.push(Gt),Re.push(Ie-1),Re.push(We)),(hr===0?ze>=or:Oe>=pr)&&(Re.push(Ie+1),Re.push(jt),Re.push(We))}return Ke}function Z(re,le,me,Ee,ze,Oe){for(var Fe=[0,re.length-1,0],Re=[],Ke=ze*ze;Fe.length;){var or=Fe.pop(),pr=Fe.pop(),hr=Fe.pop();if(pr-hr<=Oe){for(var jt=hr;jt<=pr;jt++)tt(le[2*jt],le[2*jt+1],me,Ee)<=Ke&&Re.push(re[jt]);continue}var Gt=Math.floor((hr+pr)/2),Ce=le[2*Gt],Ie=le[2*Gt+1];tt(Ce,Ie,me,Ee)<=Ke&&Re.push(re[Gt]);var We=(or+1)%2;(or===0?me-ze<=Ce:Ee-ze<=Ie)&&(Fe.push(hr),Fe.push(Gt-1),Fe.push(We)),(or===0?me+ze>=Ce:Ee+ze>=Ie)&&(Fe.push(Gt+1),Fe.push(pr),Fe.push(We))}return Re}function tt(re,le,me,Ee){var ze=re-me,Oe=le-Ee;return ze*ze+Oe*Oe}var st=function(re){return re[0]},Q=function(re){return re[1]},G=function(re,le,me,Ee,ze){le===void 0&&(le=st),me===void 0&&(me=Q),Ee===void 0&&(Ee=64),ze===void 0&&(ze=Float64Array),this.nodeSize=Ee,this.points=re;for(var Oe=re.length<65536?Uint16Array:Uint32Array,Fe=this.ids=new Oe(re.length),Re=this.coords=new ze(re.length*2),Ke=0;Ke<re.length;Ke++)Fe[Ke]=Ke,Re[2*Ke]=le(re[Ke]),Re[2*Ke+1]=me(re[Ke]);lt(Fe,Re,Ee,0,Fe.length-1,0)};G.prototype.range=function(re,le,me,Ee){return it(this.ids,this.coords,re,le,me,Ee,this.nodeSize)},G.prototype.within=function(re,le,me){return Z(this.ids,this.coords,re,le,me,this.nodeSize)};var ut={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(re){return re}},at=function(re){this.options=Pt(Object.create(ut),re),this.trees=new Array(this.options.maxZoom+1)};at.prototype.load=function(re){var le=this.options,me=le.log,Ee=le.minZoom,ze=le.maxZoom,Oe=le.nodeSize;me&&console.time("total time");var Fe="prepare "+re.length+" points";me&&console.time(Fe),this.points=re;for(var Re=[],Ke=0;Ke<re.length;Ke++)re[Ke].geometry&&Re.push(gt(re[Ke],Ke));this.trees[ze+1]=new G(Re,Rt,Ht,Oe,Float32Array),me&&console.timeEnd(Fe);for(var or=ze;or>=Ee;or--){var pr=+Date.now();Re=this._cluster(Re,or),this.trees[or]=new G(Re,Rt,Ht,Oe,Float32Array),me&&console.log("z%d: %d clusters in %dms",or,Re.length,+Date.now()-pr)}return me&&console.timeEnd("total time"),this},at.prototype.getClusters=function(re,le){var me=((re[0]+180)%360+360)%360-180,Ee=Math.max(-90,Math.min(90,re[1])),ze=re[2]===180?180:((re[2]+180)%360+360)%360-180,Oe=Math.max(-90,Math.min(90,re[3]));if(re[2]-re[0]>=360)me=-180,ze=180;else if(me>ze){var Fe=this.getClusters([me,Ee,180,Oe],le),Re=this.getClusters([-180,Ee,ze,Oe],le);return Fe.concat(Re)}for(var Ke=this.trees[this._limitZoom(le)],or=Ke.range(Ot(me),bt(Oe),Ot(ze),bt(Ee)),pr=[],hr=0,jt=or;hr<jt.length;hr+=1){var Gt=jt[hr],Ce=Ke.points[Gt];pr.push(Ce.numPoints?wt(Ce):this.points[Ce.index])}return pr},at.prototype.getChildren=function(re){var le=this._getOriginId(re),me=this._getOriginZoom(re),Ee="No cluster with the specified id.",ze=this.trees[me];if(!ze)throw new Error(Ee);var Oe=ze.points[le];if(!Oe)throw new Error(Ee);for(var Fe=this.options.radius/(this.options.extent*Math.pow(2,me-1)),Re=ze.within(Oe.x,Oe.y,Fe),Ke=[],or=0,pr=Re;or<pr.length;or+=1){var hr=pr[or],jt=ze.points[hr];jt.parentId===re&&Ke.push(jt.numPoints?wt(jt):this.points[jt.index])}if(Ke.length===0)throw new Error(Ee);return Ke},at.prototype.getLeaves=function(re,le,me){le=le||10,me=me||0;var Ee=[];return this._appendLeaves(Ee,re,le,me,0),Ee},at.prototype.getTile=function(re,le,me){var Ee=this.trees[this._limitZoom(re)],ze=Math.pow(2,re),Oe=this.options,Fe=Oe.extent,Re=Oe.radius,Ke=Re/Fe,or=(me-Ke)/ze,pr=(me+1+Ke)/ze,hr={features:[]};return this._addTileFeatures(Ee.range((le-Ke)/ze,or,(le+1+Ke)/ze,pr),Ee.points,le,me,ze,hr),le===0&&this._addTileFeatures(Ee.range(1-Ke/ze,or,1,pr),Ee.points,ze,me,ze,hr),le===ze-1&&this._addTileFeatures(Ee.range(0,or,Ke/ze,pr),Ee.points,-1,me,ze,hr),hr.features.length?hr:null},at.prototype.getClusterExpansionZoom=function(re){for(var le=this._getOriginZoom(re)-1;le<=this.options.maxZoom;){var me=this.getChildren(re);if(le++,me.length!==1)break;re=me[0].properties.cluster_id}return le},at.prototype._appendLeaves=function(re,le,me,Ee,ze){for(var Oe=this.getChildren(le),Fe=0,Re=Oe;Fe<Re.length;Fe+=1){var Ke=Re[Fe],or=Ke.properties;if(or&&or.cluster?ze+or.point_count<=Ee?ze+=or.point_count:ze=this._appendLeaves(re,or.cluster_id,me,Ee,ze):ze<Ee?ze++:re.push(Ke),re.length===me)break}return ze},at.prototype._addTileFeatures=function(re,le,me,Ee,ze,Oe){for(var Fe=0,Re=re;Fe<Re.length;Fe+=1){var Ke=Re[Fe],or=le[Ke],pr=or.numPoints,hr={type:1,geometry:[[Math.round(this.options.extent*(or.x*ze-me)),Math.round(this.options.extent*(or.y*ze-Ee))]],tags:pr?kt(or):this.points[or.index].properties},jt=void 0;pr?jt=or.id:this.options.generateId?jt=or.index:this.points[or.index].id&&(jt=this.points[or.index].id),jt!==void 0&&(hr.id=jt),Oe.features.push(hr)}},at.prototype._limitZoom=function(re){return Math.max(this.options.minZoom,Math.min(+re,this.options.maxZoom+1))},at.prototype._cluster=function(re,le){for(var me=[],Ee=this.options,ze=Ee.radius,Oe=Ee.extent,Fe=Ee.reduce,Re=Ee.minPoints,Ke=ze/(Oe*Math.pow(2,le)),or=0;or<re.length;or++){var pr=re[or];if(!(pr.zoom<=le)){pr.zoom=le;for(var hr=this.trees[le+1],jt=hr.within(pr.x,pr.y,Ke),Gt=pr.numPoints||1,Ce=Gt,Ie=0,We=jt;Ie<We.length;Ie+=1){var $e=We[Ie],ir=hr.points[$e];ir.zoom>le&&(Ce+=ir.numPoints||1)}if(Ce>=Re){for(var er=pr.x*Gt,De=pr.y*Gt,lr=Fe&&Gt>1?this._map(pr,!0):null,vr=(or<<5)+(le+1)+this.points.length,dr=0,fr=jt;dr<fr.length;dr+=1){var zr=fr[dr],Or=hr.points[zr];if(!(Or.zoom<=le)){Or.zoom=le;var Ir=Or.numPoints||1;er+=Or.x*Ir,De+=Or.y*Ir,Or.parentId=vr,Fe&&(lr||(lr=this._map(pr,!0)),Fe(lr,this._map(Or)))}}pr.parentId=vr,me.push(dt(er/Ce,De/Ce,vr,Ce,lr))}else if(me.push(pr),Ce>1)for(var sn=0,nn=jt;sn<nn.length;sn+=1){var kn=nn[sn],Mn=hr.points[kn];Mn.zoom<=le||(Mn.zoom=le,me.push(Mn))}}}return me},at.prototype._getOriginId=function(re){return re-this.points.length>>5},at.prototype._getOriginZoom=function(re){return(re-this.points.length)%32},at.prototype._map=function(re,le){if(re.numPoints)return le?Pt({},re.properties):re.properties;var me=this.points[re.index].properties,Ee=this.options.map(me);return le&&Ee===me?Pt({},Ee):Ee};function dt(re,le,me,Ee,ze){return{x:re,y:le,zoom:1/0,id:me,parentId:-1,numPoints:Ee,properties:ze}}function gt(re,le){var me=re.geometry.coordinates,Ee=me[0],ze=me[1];return{x:Ot(Ee),y:bt(ze),zoom:1/0,index:le,parentId:-1}}function wt(re){return{type:"Feature",id:re.id,properties:kt(re),geometry:{type:"Point",coordinates:[_t(re.x),mt(re.y)]}}}function kt(re){var le=re.numPoints,me=le>=1e4?Math.round(le/1e3)+"k":le>=1e3?Math.round(le/100)/10+"k":le;return Pt(Pt({},re.properties),{cluster:!0,cluster_id:re.id,point_count:le,point_count_abbreviated:me})}function Ot(re){return re/360+.5}function bt(re){var le=Math.sin(re*Math.PI/180),me=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return me<0?0:me>1?1:me}function _t(re){return(re-.5)*360}function mt(re){var le=(180-re*360)*Math.PI/180;return 360*Math.atan(Math.exp(le))/Math.PI-90}function Pt(re,le){for(var me in le)re[me]=le[me];return re}function Rt(re){return re.x}function Ht(re){return re.y}function Dt(re,le,me,Ee){for(var ze=Ee,Oe=me-le>>1,Fe=me-le,Re,Ke=re[le],or=re[le+1],pr=re[me],hr=re[me+1],jt=le+3;jt<me;jt+=3){var Gt=Xt(re[jt],re[jt+1],Ke,or,pr,hr);if(Gt>ze)Re=jt,ze=Gt;else if(Gt===ze){var Ce=Math.abs(jt-Oe);Ce<Fe&&(Re=jt,Fe=Ce)}}ze>Ee&&(Re-le>3&&Dt(re,le,Re,Ee),re[Re+2]=ze,me-Re>3&&Dt(re,Re,me,Ee))}function Xt(re,le,me,Ee,ze,Oe){var Fe=ze-me,Re=Oe-Ee;if(Fe!==0||Re!==0){var Ke=((re-me)*Fe+(le-Ee)*Re)/(Fe*Fe+Re*Re);Ke>1?(me=ze,Ee=Oe):Ke>0&&(me+=Fe*Ke,Ee+=Re*Ke)}return Fe=re-me,Re=le-Ee,Fe*Fe+Re*Re}function se(re,le,me,Ee){var ze={id:typeof re>"u"?null:re,type:le,geometry:me,tags:Ee,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return Yt(ze),ze}function Yt(re){var le=re.geometry,me=re.type;if(me==="Point"||me==="MultiPoint"||me==="LineString")ue(re,le);else if(me==="Polygon"||me==="MultiLineString")for(var Ee=0;Ee<le.length;Ee++)ue(re,le[Ee]);else if(me==="MultiPolygon")for(Ee=0;Ee<le.length;Ee++)for(var ze=0;ze<le[Ee].length;ze++)ue(re,le[Ee][ze])}function ue(re,le){for(var me=0;me<le.length;me+=3)re.minX=Math.min(re.minX,le[me]),re.minY=Math.min(re.minY,le[me+1]),re.maxX=Math.max(re.maxX,le[me]),re.maxY=Math.max(re.maxY,le[me+1])}function ie(re,le){var me=[];if(re.type==="FeatureCollection")for(var Ee=0;Ee<re.features.length;Ee++)fe(me,re.features[Ee],le,Ee);else re.type==="Feature"?fe(me,re,le):fe(me,{geometry:re},le);return me}function fe(re,le,me,Ee){if(le.geometry){var ze=le.geometry.coordinates,Oe=le.geometry.type,Fe=Math.pow(me.tolerance/((1<<me.maxZoom)*me.extent),2),Re=[],Ke=le.id;if(me.promoteId?Ke=le.properties[me.promoteId]:me.generateId&&(Ke=Ee||0),Oe==="Point")ce(ze,Re);else if(Oe==="MultiPoint")for(var or=0;or<ze.length;or++)ce(ze[or],Re);else if(Oe==="LineString")ye(ze,Re,Fe,!1);else if(Oe==="MultiLineString")if(me.lineMetrics){for(or=0;or<ze.length;or++)Re=[],ye(ze[or],Re,Fe,!1),re.push(se(Ke,"LineString",Re,le.properties));return}else de(ze,Re,Fe,!1);else if(Oe==="Polygon")de(ze,Re,Fe,!0);else if(Oe==="MultiPolygon")for(or=0;or<ze.length;or++){var pr=[];de(ze[or],pr,Fe,!0),Re.push(pr)}else if(Oe==="GeometryCollection"){for(or=0;or<le.geometry.geometries.length;or++)fe(re,{id:Ke,geometry:le.geometry.geometries[or],properties:le.properties},me,Ee);return}else throw new Error("Input data is not a valid GeoJSON object.");re.push(se(Ke,Oe,Re,le.properties))}}function ce(re,le){le.push(Te(re[0])),le.push(Et(re[1])),le.push(0)}function ye(re,le,me,Ee){for(var ze,Oe,Fe=0,Re=0;Re<re.length;Re++){var Ke=Te(re[Re][0]),or=Et(re[Re][1]);le.push(Ke),le.push(or),le.push(0),Re>0&&(Ee?Fe+=(ze*or-Ke*Oe)/2:Fe+=Math.sqrt(Math.pow(Ke-ze,2)+Math.pow(or-Oe,2))),ze=Ke,Oe=or}var pr=le.length-3;le[2]=1,Dt(le,0,pr,me),le[pr+2]=1,le.size=Math.abs(Fe),le.start=0,le.end=le.size}function de(re,le,me,Ee){for(var ze=0;ze<re.length;ze++){var Oe=[];ye(re[ze],Oe,me,Ee),le.push(Oe)}}function Te(re){return re/360+.5}function Et(re){var le=Math.sin(re*Math.PI/180),me=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return me<0?0:me>1?1:me}function Vt(re,le,me,Ee,ze,Oe,Fe,Re){if(me/=le,Ee/=le,Oe>=me&&Fe<Ee)return re;if(Fe<me||Oe>=Ee)return null;for(var Ke=[],or=0;or<re.length;or++){var pr=re[or],hr=pr.geometry,jt=pr.type,Gt=ze===0?pr.minX:pr.minY,Ce=ze===0?pr.maxX:pr.maxY;if(Gt>=me&&Ce<Ee){Ke.push(pr);continue}else if(Ce<me||Gt>=Ee)continue;var Ie=[];if(jt==="Point"||jt==="MultiPoint")te(hr,Ie,me,Ee,ze);else if(jt==="LineString")Jt(hr,Ie,me,Ee,ze,!1,Re.lineMetrics);else if(jt==="MultiLineString")It(hr,Ie,me,Ee,ze,!1);else if(jt==="Polygon")It(hr,Ie,me,Ee,ze,!0);else if(jt==="MultiPolygon")for(var We=0;We<hr.length;We++){var $e=[];It(hr[We],$e,me,Ee,ze,!0),$e.length&&Ie.push($e)}if(Ie.length){if(Re.lineMetrics&&jt==="LineString"){for(We=0;We<Ie.length;We++)Ke.push(se(pr.id,jt,Ie[We],pr.tags));continue}(jt==="LineString"||jt==="MultiLineString")&&(Ie.length===1?(jt="LineString",Ie=Ie[0]):jt="MultiLineString"),(jt==="Point"||jt==="MultiPoint")&&(jt=Ie.length===3?"Point":"MultiPoint"),Ke.push(se(pr.id,jt,Ie,pr.tags))}}return Ke.length?Ke:null}function te(re,le,me,Ee,ze){for(var Oe=0;Oe<re.length;Oe+=3){var Fe=re[Oe+ze];Fe>=me&&Fe<=Ee&&(le.push(re[Oe]),le.push(re[Oe+1]),le.push(re[Oe+2]))}}function Jt(re,le,me,Ee,ze,Oe,Fe){for(var Re=Ut(re),Ke=ze===0?xt:Ct,or=re.start,pr,hr,jt=0;jt<re.length-3;jt+=3){var Gt=re[jt],Ce=re[jt+1],Ie=re[jt+2],We=re[jt+3],$e=re[jt+4],ir=ze===0?Gt:Ce,er=ze===0?We:$e,De=!1;Fe&&(pr=Math.sqrt(Math.pow(Gt-We,2)+Math.pow(Ce-$e,2))),ir<me?er>me&&(hr=Ke(Re,Gt,Ce,We,$e,me),Fe&&(Re.start=or+pr*hr)):ir>Ee?er<Ee&&(hr=Ke(Re,Gt,Ce,We,$e,Ee),Fe&&(Re.start=or+pr*hr)):pt(Re,Gt,Ce,Ie),er<me&&ir>=me&&(hr=Ke(Re,Gt,Ce,We,$e,me),De=!0),er>Ee&&ir<=Ee&&(hr=Ke(Re,Gt,Ce,We,$e,Ee),De=!0),!Oe&&De&&(Fe&&(Re.end=or+pr*hr),le.push(Re),Re=Ut(re)),Fe&&(or+=pr)}var lr=re.length-3;Gt=re[lr],Ce=re[lr+1],Ie=re[lr+2],ir=ze===0?Gt:Ce,ir>=me&&ir<=Ee&&pt(Re,Gt,Ce,Ie),lr=Re.length-3,Oe&&lr>=3&&(Re[lr]!==Re[0]||Re[lr+1]!==Re[1])&&pt(Re,Re[0],Re[1],Re[2]),Re.length&&le.push(Re)}function Ut(re){var le=[];return le.size=re.size,le.start=re.start,le.end=re.end,le}function It(re,le,me,Ee,ze,Oe){for(var Fe=0;Fe<re.length;Fe++)Jt(re[Fe],le,me,Ee,ze,Oe,!1)}function pt(re,le,me,Ee){re.push(le),re.push(me),re.push(Ee)}function xt(re,le,me,Ee,ze,Oe){var Fe=(Oe-le)/(Ee-le);return re.push(Oe),re.push(me+(ze-me)*Fe),re.push(1),Fe}function Ct(re,le,me,Ee,ze,Oe){var Fe=(Oe-me)/(ze-me);return re.push(le+(Ee-le)*Fe),re.push(Oe),re.push(1),Fe}function At(re,le){var me=le.buffer/le.extent,Ee=re,ze=Vt(re,1,-1-me,me,0,-1,2,le),Oe=Vt(re,1,1-me,2+me,0,-1,2,le);return(ze||Oe)&&(Ee=Vt(re,1,-me,1+me,0,-1,2,le)||[],ze&&(Ee=Ft(ze,1).concat(Ee)),Oe&&(Ee=Ee.concat(Ft(Oe,-1)))),Ee}function Ft(re,le){for(var me=[],Ee=0;Ee<re.length;Ee++){var ze=re[Ee],Oe=ze.type,Fe;if(Oe==="Point"||Oe==="MultiPoint"||Oe==="LineString")Fe=Wt(ze.geometry,le);else if(Oe==="MultiLineString"||Oe==="Polygon"){Fe=[];for(var Re=0;Re<ze.geometry.length;Re++)Fe.push(Wt(ze.geometry[Re],le))}else if(Oe==="MultiPolygon")for(Fe=[],Re=0;Re<ze.geometry.length;Re++){for(var Ke=[],or=0;or<ze.geometry[Re].length;or++)Ke.push(Wt(ze.geometry[Re][or],le));Fe.push(Ke)}me.push(se(ze.id,Oe,Fe,ze.tags))}return me}function Wt(re,le){var me=[];me.size=re.size,re.start!==void 0&&(me.start=re.start,me.end=re.end);for(var Ee=0;Ee<re.length;Ee+=3)me.push(re[Ee]+le,re[Ee+1],re[Ee+2]);return me}function Qt(re,le){if(re.transformed)return re;var me=1<<re.z,Ee=re.x,ze=re.y,Oe,Fe,Re;for(Oe=0;Oe<re.features.length;Oe++){var Ke=re.features[Oe],or=Ke.geometry,pr=Ke.type;if(Ke.geometry=[],pr===1)for(Fe=0;Fe<or.length;Fe+=2)Ke.geometry.push(he(or[Fe],or[Fe+1],le,me,Ee,ze));else for(Fe=0;Fe<or.length;Fe++){var hr=[];for(Re=0;Re<or[Fe].length;Re+=2)hr.push(he(or[Fe][Re],or[Fe][Re+1],le,me,Ee,ze));Ke.geometry.push(hr)}}return re.transformed=!0,re}function he(re,le,me,Ee,ze,Oe){return[Math.round(me*(re*Ee-ze)),Math.round(me*(le*Ee-Oe))]}function ve(re,le,me,Ee,ze){for(var Oe=le===ze.maxZoom?0:ze.tolerance/((1<<le)*ze.extent),Fe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:me,y:Ee,z:le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Re=0;Re<re.length;Re++){Fe.numFeatures++,Je(Fe,re[Re],Oe,ze);var Ke=re[Re].minX,or=re[Re].minY,pr=re[Re].maxX,hr=re[Re].maxY;Ke<Fe.minX&&(Fe.minX=Ke),or<Fe.minY&&(Fe.minY=or),pr>Fe.maxX&&(Fe.maxX=pr),hr>Fe.maxY&&(Fe.maxY=hr)}return Fe}function Je(re,le,me,Ee){var ze=le.geometry,Oe=le.type,Fe=[];if(Oe==="Point"||Oe==="MultiPoint")for(var Re=0;Re<ze.length;Re+=3)Fe.push(ze[Re]),Fe.push(ze[Re+1]),re.numPoints++,re.numSimplified++;else if(Oe==="LineString")Ue(Fe,ze,re,me,!1,!1);else if(Oe==="MultiLineString"||Oe==="Polygon")for(Re=0;Re<ze.length;Re++)Ue(Fe,ze[Re],re,me,Oe==="Polygon",Re===0);else if(Oe==="MultiPolygon")for(var Ke=0;Ke<ze.length;Ke++){var or=ze[Ke];for(Re=0;Re<or.length;Re++)Ue(Fe,or[Re],re,me,!0,Re===0)}if(Fe.length){var pr=le.tags||null;if(Oe==="LineString"&&Ee.lineMetrics){pr={};for(var hr in le.tags)pr[hr]=le.tags[hr];pr.mapbox_clip_start=ze.start/ze.size,pr.mapbox_clip_end=ze.end/ze.size}var jt={geometry:Fe,type:Oe==="Polygon"||Oe==="MultiPolygon"?3:Oe==="LineString"||Oe==="MultiLineString"?2:1,tags:pr};le.id!==null&&(jt.id=le.id),re.features.push(jt)}}function Ue(re,le,me,Ee,ze,Oe){var Fe=Ee*Ee;if(Ee>0&&le.size<(ze?Fe:Ee)){me.numPoints+=le.length/3;return}for(var Re=[],Ke=0;Ke<le.length;Ke+=3)(Ee===0||le[Ke+2]>Fe)&&(me.numSimplified++,Re.push(le[Ke]),Re.push(le[Ke+1])),me.numPoints++;ze&&ke(Re,Oe),re.push(Re)}function ke(re,le){for(var me=0,Ee=0,ze=re.length,Oe=ze-2;Ee<ze;Oe=Ee,Ee+=2)me+=(re[Ee]-re[Oe])*(re[Ee+1]+re[Oe+1]);if(me>0===le)for(Ee=0,ze=re.length;Ee<ze/2;Ee+=2){var Fe=re[Ee],Re=re[Ee+1];re[Ee]=re[ze-2-Ee],re[Ee+1]=re[ze-1-Ee],re[ze-2-Ee]=Fe,re[ze-1-Ee]=Re}}function Le(re,le){return new Ge(re,le)}function Ge(re,le){le=this.options=xe(Object.create(this.options),le);var me=le.debug;if(me&&console.time("preprocess data"),le.maxZoom<0||le.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(le.promoteId&&le.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ee=ie(re,le);this.tiles={},this.tileCoords=[],me&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",le.indexMaxZoom,le.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ee=At(Ee,le),Ee.length&&this.splitTile(Ee,0,0,0),me&&(Ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Ge.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ge.prototype.splitTile=function(re,le,me,Ee,ze,Oe,Fe){for(var Re=[re,le,me,Ee],Ke=this.options,or=Ke.debug;Re.length;){Ee=Re.pop(),me=Re.pop(),le=Re.pop(),re=Re.pop();var pr=1<<le,hr=mr(le,me,Ee),jt=this.tiles[hr];if(!jt&&(or>1&&console.time("creation"),jt=this.tiles[hr]=ve(re,le,me,Ee,Ke),this.tileCoords.push({z:le,x:me,y:Ee}),or)){or>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",le,me,Ee,jt.numFeatures,jt.numPoints,jt.numSimplified),console.timeEnd("creation"));var Gt="z"+le;this.stats[Gt]=(this.stats[Gt]||0)+1,this.total++}if(jt.source=re,ze){if(le===Ke.maxZoom||le===ze)continue;var Ce=1<<ze-le;if(me!==Math.floor(Oe/Ce)||Ee!==Math.floor(Fe/Ce))continue}else if(le===Ke.indexMaxZoom||jt.numPoints<=Ke.indexMaxPoints)continue;if(jt.source=null,re.length!==0){or>1&&console.time("clipping");var Ie=.5*Ke.buffer/Ke.extent,We=.5-Ie,$e=.5+Ie,ir=1+Ie,er,De,lr,vr,dr,fr;er=De=lr=vr=null,dr=Vt(re,pr,me-Ie,me+$e,0,jt.minX,jt.maxX,Ke),fr=Vt(re,pr,me+We,me+ir,0,jt.minX,jt.maxX,Ke),re=null,dr&&(er=Vt(dr,pr,Ee-Ie,Ee+$e,1,jt.minY,jt.maxY,Ke),De=Vt(dr,pr,Ee+We,Ee+ir,1,jt.minY,jt.maxY,Ke),dr=null),fr&&(lr=Vt(fr,pr,Ee-Ie,Ee+$e,1,jt.minY,jt.maxY,Ke),vr=Vt(fr,pr,Ee+We,Ee+ir,1,jt.minY,jt.maxY,Ke),fr=null),or>1&&console.timeEnd("clipping"),Re.push(er||[],le+1,me*2,Ee*2),Re.push(De||[],le+1,me*2,Ee*2+1),Re.push(lr||[],le+1,me*2+1,Ee*2),Re.push(vr||[],le+1,me*2+1,Ee*2+1)}}},Ge.prototype.getTile=function(re,le,me){var Ee=this.options,ze=Ee.extent,Oe=Ee.debug;if(re<0||re>24)return null;var Fe=1<<re;le=(le%Fe+Fe)%Fe;var Re=mr(re,le,me);if(this.tiles[Re])return Qt(this.tiles[Re],ze);Oe>1&&console.log("drilling down to z%d-%d-%d",re,le,me);for(var Ke=re,or=le,pr=me,hr;!hr&&Ke>0;)Ke--,or=Math.floor(or/2),pr=Math.floor(pr/2),hr=this.tiles[mr(Ke,or,pr)];return!hr||!hr.source?null:(Oe>1&&console.log("found parent tile z%d-%d-%d",Ke,or,pr),Oe>1&&console.time("drilling down"),this.splitTile(hr.source,Ke,or,pr,re,le,me),Oe>1&&console.timeEnd("drilling down"),this.tiles[Re]?Qt(this.tiles[Re],ze):null)};function mr(re,le,me){return((1<<re)*me+le)*32+re}function xe(re,le){for(var me in le)re[me]=le[me];return re}function Xe(re,le){var me=re.tileID.canonical;if(!this._geoJSONIndex)return le(null,null);var Ee=this._geoJSONIndex.getTile(me.z,me.x,me.y);if(!Ee)return le(null,null);var ze=new S(Ee.features),Oe=g(ze);(Oe.byteOffset!==0||Oe.byteLength!==Oe.buffer.byteLength)&&(Oe=new Uint8Array(Oe)),le(null,{vectorTile:ze,rawData:Oe.buffer})}var Ye=function(re){function le(me,Ee,ze,Oe){re.call(this,me,Ee,ze,Xe),Oe&&(this.loadGeoJSON=Oe)}return re&&(le.__proto__=re),le.prototype=Object.create(re&&re.prototype),le.prototype.constructor=le,le.prototype.loadData=function(me,Ee){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ee,this._pendingLoadDataParams=me,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},le.prototype._loadData=function(){var me=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Ee=this._pendingCallback,ze=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Oe=ze&&ze.request&&ze.request.collectResourceTiming?new i.RequestPerformance(ze.request):!1;this.loadGeoJSON(ze,function(Fe,Re){if(Fe||!Re)return Ee(Fe);if(typeof Re!="object")return Ee(new Error("Input data given to '"+ze.source+"' is not a valid GeoJSON object."));f(Re,!0);try{if(ze.filter){var Ke=i.createExpression(ze.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ke.result==="error")throw new Error(Ke.value.map(function(jt){return jt.key+": "+jt.message}).join(", "));var or=Re.features.filter(function(jt){return Ke.value.evaluate({zoom:0},jt)});Re={type:"FeatureCollection",features:or}}me._geoJSONIndex=ze.cluster?new at(_r(ze)).load(Re.features):Le(Re,ze.geojsonVtOptions)}catch(jt){return Ee(jt)}me.loaded={};var pr={};if(Oe){var hr=Oe.finish();hr&&(pr.resourceTiming={},pr.resourceTiming[ze.source]=JSON.parse(JSON.stringify(hr)))}Ee(null,pr)})}},le.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},le.prototype.reloadTile=function(me,Ee){var ze=this.loaded,Oe=me.uid;return ze&&ze[Oe]?re.prototype.reloadTile.call(this,me,Ee):this.loadTile(me,Ee)},le.prototype.loadGeoJSON=function(me,Ee){if(me.request)i.getJSON(me.request,Ee);else if(typeof me.data=="string")try{return Ee(null,JSON.parse(me.data))}catch{return Ee(new Error("Input data given to '"+me.source+"' is not a valid GeoJSON object."))}else return Ee(new Error("Input data given to '"+me.source+"' is not a valid GeoJSON object."))},le.prototype.removeSource=function(me,Ee){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ee()},le.prototype.getClusterExpansionZoom=function(me,Ee){try{Ee(null,this._geoJSONIndex.getClusterExpansionZoom(me.clusterId))}catch(ze){Ee(ze)}},le.prototype.getClusterChildren=function(me,Ee){try{Ee(null,this._geoJSONIndex.getChildren(me.clusterId))}catch(ze){Ee(ze)}},le.prototype.getClusterLeaves=function(me,Ee){try{Ee(null,this._geoJSONIndex.getLeaves(me.clusterId,me.limit,me.offset))}catch(ze){Ee(ze)}},le}(o);function _r(re){var le=re.superclusterOptions,me=re.clusterProperties;if(!me||!le)return le;for(var Ee={},ze={},Oe={accumulated:null,zoom:0},Fe={properties:null},Re=Object.keys(me),Ke=0,or=Re;Ke<or.length;Ke+=1){var pr=or[Ke],hr=me[pr],jt=hr[0],Gt=hr[1],Ce=i.createExpression(Gt),Ie=i.createExpression(typeof jt=="string"?[jt,["accumulated"],["get",pr]]:jt);Ee[pr]=Ce.value,ze[pr]=Ie.value}return le.map=function(We){Fe.properties=We;for(var $e={},ir=0,er=Re;ir<er.length;ir+=1){var De=er[ir];$e[De]=Ee[De].evaluate(Oe,Fe)}return $e},le.reduce=function(We,$e){Fe.properties=$e;for(var ir=0,er=Re;ir<er.length;ir+=1){var De=er[ir];Oe.accumulated=We[De],We[De]=ze[De].evaluate(Oe,Fe)}},le}var rr=function(re){var le=this;this.self=re,this.actor=new i.Actor(re,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:Ye},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(me,Ee){if(le.workerSourceTypes[me])throw new Error('Worker source with name "'+me+'" already registered.');le.workerSourceTypes[me]=Ee},this.self.registerRTLTextPlugin=function(me){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=me.applyArabicShaping,i.plugin.processBidirectionalText=me.processBidirectionalText,i.plugin.processStyledBidirectionalText=me.processStyledBidirectionalText}};return rr.prototype.setReferrer=function(re,le){this.referrer=le},rr.prototype.setImages=function(re,le,me){this.availableImages[re]=le;for(var Ee in this.workerSources[re]){var ze=this.workerSources[re][Ee];for(var Oe in ze)ze[Oe].availableImages=le}me()},rr.prototype.setLayers=function(re,le,me){this.getLayerIndex(re).replace(le),me()},rr.prototype.updateLayers=function(re,le,me){this.getLayerIndex(re).update(le.layers,le.removedIds),me()},rr.prototype.loadTile=function(re,le,me){this.getWorkerSource(re,le.type,le.source).loadTile(le,me)},rr.prototype.loadDEMTile=function(re,le,me){this.getDEMWorkerSource(re,le.source).loadTile(le,me)},rr.prototype.reloadTile=function(re,le,me){this.getWorkerSource(re,le.type,le.source).reloadTile(le,me)},rr.prototype.abortTile=function(re,le,me){this.getWorkerSource(re,le.type,le.source).abortTile(le,me)},rr.prototype.removeTile=function(re,le,me){this.getWorkerSource(re,le.type,le.source).removeTile(le,me)},rr.prototype.removeDEMTile=function(re,le){this.getDEMWorkerSource(re,le.source).removeTile(le)},rr.prototype.removeSource=function(re,le,me){if(!(!this.workerSources[re]||!this.workerSources[re][le.type]||!this.workerSources[re][le.type][le.source])){var Ee=this.workerSources[re][le.type][le.source];delete this.workerSources[re][le.type][le.source],Ee.removeSource!==void 0?Ee.removeSource(le,me):me()}},rr.prototype.loadWorkerSource=function(re,le,me){try{this.self.importScripts(le.url),me()}catch(Ee){me(Ee.toString())}},rr.prototype.syncRTLPluginState=function(re,le,me){try{i.plugin.setState(le);var Ee=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Ee!=null){this.self.importScripts(Ee);var ze=i.plugin.isParsed(),Oe=ze?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ee);me(Oe,ze)}}catch(Fe){me(Fe.toString())}},rr.prototype.getAvailableImages=function(re){var le=this.availableImages[re];return le||(le=[]),le},rr.prototype.getLayerIndex=function(re){var le=this.layerIndexes[re];return le||(le=this.layerIndexes[re]=new v),le},rr.prototype.getWorkerSource=function(re,le,me){var Ee=this;if(this.workerSources[re]||(this.workerSources[re]={}),this.workerSources[re][le]||(this.workerSources[re][le]={}),!this.workerSources[re][le][me]){var ze={send:function(Oe,Fe,Re){Ee.actor.send(Oe,Fe,Re,re)}};this.workerSources[re][le][me]=new this.workerSourceTypes[le](ze,this.getLayerIndex(re),this.getAvailableImages(re))}return this.workerSources[re][le][me]},rr.prototype.getDEMWorkerSource=function(re,le){return this.demWorkerSources[re]||(this.demWorkerSources[re]={}),this.demWorkerSources[re][le]||(this.demWorkerSources[re][le]=new b),this.demWorkerSources[re][le]},rr.prototype.enforceCacheSizeLimit=function(re,le){i.enforceCacheSizeLimit(le)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new rr(self)),rr}),E(["./shared"],function(i){var M=i.createCommonjsModule(function(Y){Y.exports?Y.exports=nt:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=nt,window.mapboxgl.notSupportedReason=$);function nt(Wr){return!$(Wr)}function $(Wr){if(!ht())return"not a browser";if(!Lt())return"insufficent Array support";if(!qt())return"insufficient Function support";if(!ae())return"insufficient Object support";if(!be())return"insufficient JSON support";if(!Be())return"insufficient worker support";if(!Ze())return"insufficient Uint8ClampedArray support";if(!cr())return"insufficient ArrayBuffer support";if(!ar())return"insufficient Canvas/getImageData support";if(!Dr(Wr&&Wr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ht(){return typeof window<"u"&&typeof document<"u"}function Lt(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function qt(){return Function.prototype&&Function.prototype.bind}function ae(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function be(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Be(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Wr=new Blob([""],{type:"text/javascript"}),an=URL.createObjectURL(Wr),yn,Xn;try{Xn=new Worker(an),yn=!0}catch{yn=!1}return Xn&&Xn.terminate(),URL.revokeObjectURL(an),yn}function Ze(){return"Uint8ClampedArray"in window}function cr(){return ArrayBuffer.isView}function ar(){var Wr=document.createElement("canvas");Wr.width=Wr.height=1;var an=Wr.getContext("2d");if(!an)return!1;var yn=an.getImageData(0,0,1,1);return yn&&yn.width===Wr.width}var xr={};function Dr(Wr){return xr[Wr]===void 0&&(xr[Wr]=Xr(Wr)),xr[Wr]}nt.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Qr(Wr){var an=document.createElement("canvas"),yn=Object.create(nt.webGLContextAttributes);return yn.failIfMajorPerformanceCaveat=Wr,an.probablySupportsContext?an.probablySupportsContext("webgl",yn)||an.probablySupportsContext("experimental-webgl",yn):an.supportsContext?an.supportsContext("webgl",yn)||an.supportsContext("experimental-webgl",yn):an.getContext("webgl",yn)||an.getContext("experimental-webgl",yn)}function Xr(Wr){var an=Qr(Wr);if(!an)return!1;var yn=an.createShader(an.VERTEX_SHADER);return!yn||an.isContextLost()?!1:(an.shaderSource(yn,"void main() {}"),an.compileShader(yn),an.getShaderParameter(yn,an.COMPILE_STATUS)===!0)}}),m={};m.create=function(Y,nt,$){var ht=i.window.document.createElement(Y);return nt!==void 0&&(ht.className=nt),$&&$.appendChild(ht),ht},m.createNS=function(Y,nt){var $=i.window.document.createElementNS(Y,nt);return $};var d=i.window.document&&i.window.document.documentElement.style;function v(Y){if(!d)return Y[0];for(var nt=0;nt<Y.length;nt++)if(Y[nt]in d)return Y[nt];return Y[0]}var r=v(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),e;m.disableDrag=function(){d&&r&&(e=d[r],d[r]="none")},m.enableDrag=function(){d&&r&&(d[r]=e)};var s=v(["transform","WebkitTransform"]);m.setTransform=function(Y,nt){Y.style[s]=nt};var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",l,l),i.window.removeEventListener("test",l,l)}catch{n=!1}m.addEventListener=function(Y,nt,$,ht){ht===void 0&&(ht={}),"passive"in ht&&n?Y.addEventListener(nt,$,ht):Y.addEventListener(nt,$,ht.capture)},m.removeEventListener=function(Y,nt,$,ht){ht===void 0&&(ht={}),"passive"in ht&&n?Y.removeEventListener(nt,$,ht):Y.removeEventListener(nt,$,ht.capture)};var o=function(Y){Y.preventDefault(),Y.stopPropagation(),i.window.removeEventListener("click",o,!0)};m.suppressClick=function(){i.window.addEventListener("click",o,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",o,!0)},0)},m.mousePos=function(Y,nt){var $=Y.getBoundingClientRect();return new i.Point(nt.clientX-$.left-Y.clientLeft,nt.clientY-$.top-Y.clientTop)},m.touchPos=function(Y,nt){for(var $=Y.getBoundingClientRect(),ht=[],Lt=0;Lt<nt.length;Lt++)ht.push(new i.Point(nt[Lt].clientX-$.left-Y.clientLeft,nt[Lt].clientY-$.top-Y.clientTop));return ht},m.mouseButton=function(Y){return typeof i.window.InstallTrigger<"u"&&Y.button===2&&Y.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:Y.button},m.remove=function(Y){Y.parentNode&&Y.parentNode.removeChild(Y)};function h(Y,nt,$){var ht,Lt,qt,ae=i.browser.devicePixelRatio>1?"@2x":"",be=i.getJSON(nt.transformRequest(nt.normalizeSpriteURL(Y,ae,".json"),i.ResourceType.SpriteJSON),function(cr,ar){be=null,qt||(qt=cr,ht=ar,Ze())}),Be=i.getImage(nt.transformRequest(nt.normalizeSpriteURL(Y,ae,".png"),i.ResourceType.SpriteImage),function(cr,ar){Be=null,qt||(qt=cr,Lt=ar,Ze())});function Ze(){if(qt)$(qt);else if(ht&&Lt){var cr=i.browser.getImageData(Lt),ar={};for(var xr in ht){var Dr=ht[xr],Qr=Dr.width,Xr=Dr.height,Wr=Dr.x,an=Dr.y,yn=Dr.sdf,Xn=Dr.pixelRatio,Hn=Dr.stretchX,Un=Dr.stretchY,Wn=Dr.content,qn=new i.RGBAImage({width:Qr,height:Xr});i.RGBAImage.copy(cr,qn,{x:Wr,y:an},{x:0,y:0},{width:Qr,height:Xr}),ar[xr]={data:qn,pixelRatio:Xn,sdf:yn,stretchX:Hn,stretchY:Un,content:Wn}}$(null,ar)}}return{cancel:function(){be&&(be.cancel(),be=null),Be&&(Be.cancel(),Be=null)}}}function b(Y){var nt=Y.userImage;if(nt&&nt.render){var $=nt.render();if($)return Y.data.replace(new Uint8Array(nt.data.buffer)),!0}return!1}var f=1,k=function(Y){function nt(){Y.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.isLoaded=function(){return this.loaded},nt.prototype.setLoaded=function($){if(this.loaded!==$&&(this.loaded=$,$)){for(var ht=0,Lt=this.requestors;ht<Lt.length;ht+=1){var qt=Lt[ht],ae=qt.ids,be=qt.callback;this._notify(ae,be)}this.requestors=[]}},nt.prototype.getImage=function($){return this.images[$]},nt.prototype.addImage=function($,ht){this._validate($,ht)&&(this.images[$]=ht)},nt.prototype._validate=function($,ht){var Lt=!0;return this._validateStretch(ht.stretchX,ht.data&&ht.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchX" value'))),Lt=!1),this._validateStretch(ht.stretchY,ht.data&&ht.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchY" value'))),Lt=!1),this._validateContent(ht.content,ht)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "content" value'))),Lt=!1),Lt},nt.prototype._validateStretch=function($,ht){if(!$)return!0;for(var Lt=0,qt=0,ae=$;qt<ae.length;qt+=1){var be=ae[qt];if(be[0]<Lt||be[1]<be[0]||ht<be[1])return!1;Lt=be[1]}return!0},nt.prototype._validateContent=function($,ht){return $?!($.length!==4||$[0]<0||ht.data.width<$[0]||$[1]<0||ht.data.height<$[1]||$[2]<0||ht.data.width<$[2]||$[3]<0||ht.data.height<$[3]||$[2]<$[0]||$[3]<$[1]):!0},nt.prototype.updateImage=function($,ht){var Lt=this.images[$];ht.version=Lt.version+1,this.images[$]=ht,this.updatedImages[$]=!0},nt.prototype.removeImage=function($){var ht=this.images[$];delete this.images[$],delete this.patterns[$],ht.userImage&&ht.userImage.onRemove&&ht.userImage.onRemove()},nt.prototype.listImages=function(){return Object.keys(this.images)},nt.prototype.getImages=function($,ht){var Lt=!0;if(!this.isLoaded())for(var qt=0,ae=$;qt<ae.length;qt+=1){var be=ae[qt];this.images[be]||(Lt=!1)}this.isLoaded()||Lt?this._notify($,ht):this.requestors.push({ids:$,callback:ht})},nt.prototype._notify=function($,ht){for(var Lt={},qt=0,ae=$;qt<ae.length;qt+=1){var be=ae[qt];this.images[be]||this.fire(new i.Event("styleimagemissing",{id:be}));var Be=this.images[be];Be?Lt[be]={data:Be.data.clone(),pixelRatio:Be.pixelRatio,sdf:Be.sdf,version:Be.version,stretchX:Be.stretchX,stretchY:Be.stretchY,content:Be.content,hasRenderCallback:!!(Be.userImage&&Be.userImage.render)}:i.warnOnce('Image "'+be+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ht(null,Lt)},nt.prototype.getPixelSize=function(){var $=this.atlasImage,ht=$.width,Lt=$.height;return{width:ht,height:Lt}},nt.prototype.getPattern=function($){var ht=this.patterns[$],Lt=this.getImage($);if(!Lt)return null;if(ht&&ht.position.version===Lt.version)return ht.position;if(ht)ht.position.version=Lt.version;else{var qt=Lt.data.width+f*2,ae=Lt.data.height+f*2,be={w:qt,h:ae,x:0,y:0},Be=new i.ImagePosition(be,Lt);this.patterns[$]={bin:be,position:Be}}return this._updatePatternAtlas(),this.patterns[$].position},nt.prototype.bind=function($){var ht=$.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture($,this.atlasImage,ht.RGBA),this.atlasTexture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)},nt.prototype._updatePatternAtlas=function(){var $=[];for(var ht in this.patterns)$.push(this.patterns[ht].bin);var Lt=i.potpack($),qt=Lt.w,ae=Lt.h,be=this.atlasImage;be.resize({width:qt||1,height:ae||1});for(var Be in this.patterns){var Ze=this.patterns[Be],cr=Ze.bin,ar=cr.x+f,xr=cr.y+f,Dr=this.images[Be].data,Qr=Dr.width,Xr=Dr.height;i.RGBAImage.copy(Dr,be,{x:0,y:0},{x:ar,y:xr},{width:Qr,height:Xr}),i.RGBAImage.copy(Dr,be,{x:0,y:Xr-1},{x:ar,y:xr-1},{width:Qr,height:1}),i.RGBAImage.copy(Dr,be,{x:0,y:0},{x:ar,y:xr+Xr},{width:Qr,height:1}),i.RGBAImage.copy(Dr,be,{x:Qr-1,y:0},{x:ar-1,y:xr},{width:1,height:Xr}),i.RGBAImage.copy(Dr,be,{x:0,y:0},{x:ar+Qr,y:xr},{width:1,height:Xr})}this.dirty=!0},nt.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},nt.prototype.dispatchRenderCallbacks=function($){for(var ht=0,Lt=$;ht<Lt.length;ht+=1){var qt=Lt[ht];if(!this.callbackDispatchedThisFrame[qt]){this.callbackDispatchedThisFrame[qt]=!0;var ae=this.images[qt],be=b(ae);be&&this.updateImage(qt,ae)}}},nt}(i.Evented);function a(Y,nt,$,ht,Lt){var qt=nt*256,ae=qt+255,be=ht.transformRequest(ht.normalizeGlyphsURL($).replace("{fontstack}",Y).replace("{range}",qt+"-"+ae),i.ResourceType.Glyphs);i.getArrayBuffer(be,function(Be,Ze){if(Be)Lt(Be);else if(Ze){for(var cr={},ar=0,xr=i.parseGlyphPBF(Ze);ar<xr.length;ar+=1){var Dr=xr[ar];cr[Dr.id]=Dr}Lt(null,cr)}})}var c=S,p=S,w=1e20;function S(Y,nt,$,ht,Lt,qt){this.fontSize=Y||24,this.buffer=nt===void 0?3:nt,this.cutoff=ht||.25,this.fontFamily=Lt||"sans-serif",this.fontWeight=qt||"normal",this.radius=$||8;var ae=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ae,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ae*ae),this.gridInner=new Float64Array(ae*ae),this.f=new Float64Array(ae),this.d=new Float64Array(ae),this.z=new Float64Array(ae+1),this.v=new Int16Array(ae),this.middle=Math.round(ae/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}S.prototype.draw=function(Y){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(Y,this.buffer,this.middle);for(var nt=this.ctx.getImageData(0,0,this.size,this.size),$=new Uint8ClampedArray(this.size*this.size),ht=0;ht<this.size*this.size;ht++){var Lt=nt.data[ht*4+3]/255;this.gridOuter[ht]=Lt===1?0:Lt===0?w:Math.pow(Math.max(0,.5-Lt),2),this.gridInner[ht]=Lt===1?w:Lt===0?0:Math.pow(Math.max(0,Lt-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ht=0;ht<this.size*this.size;ht++){var qt=this.gridOuter[ht]-this.gridInner[ht];$[ht]=Math.max(0,Math.min(255,Math.round(255-255*(qt/this.radius+this.cutoff))))}return $};function _(Y,nt,$,ht,Lt,qt,ae){for(var be=0;be<nt;be++){for(var Be=0;Be<$;Be++)ht[Be]=Y[Be*nt+be];for(T(ht,Lt,qt,ae,$),Be=0;Be<$;Be++)Y[Be*nt+be]=Lt[Be]}for(Be=0;Be<$;Be++){for(be=0;be<nt;be++)ht[be]=Y[Be*nt+be];for(T(ht,Lt,qt,ae,nt),be=0;be<nt;be++)Y[Be*nt+be]=Math.sqrt(Lt[be])}}function T(Y,nt,$,ht,Lt){$[0]=0,ht[0]=-w,ht[1]=+w;for(var qt=1,ae=0;qt<Lt;qt++){for(var be=(Y[qt]+qt*qt-(Y[$[ae]]+$[ae]*$[ae]))/(2*qt-2*$[ae]);be<=ht[ae];)ae--,be=(Y[qt]+qt*qt-(Y[$[ae]]+$[ae]*$[ae]))/(2*qt-2*$[ae]);ae++,$[ae]=qt,ht[ae]=be,ht[ae+1]=+w}for(qt=0,ae=0;qt<Lt;qt++){for(;ht[ae+1]<qt;)ae++;nt[qt]=(qt-$[ae])*(qt-$[ae])+Y[$[ae]]}}c.default=p;var P=function(Y,nt){this.requestManager=Y,this.localIdeographFontFamily=nt,this.entries={}};P.prototype.setURL=function(Y){this.url=Y},P.prototype.getGlyphs=function(Y,nt){var $=this,ht=[];for(var Lt in Y)for(var qt=0,ae=Y[Lt];qt<ae.length;qt+=1){var be=ae[qt];ht.push({stack:Lt,id:be})}i.asyncAll(ht,function(Be,Ze){var cr=Be.stack,ar=Be.id,xr=$.entries[cr];xr||(xr=$.entries[cr]={glyphs:{},requests:{},ranges:{}});var Dr=xr.glyphs[ar];if(Dr!==void 0){Ze(null,{stack:cr,id:ar,glyph:Dr});return}if(Dr=$._tinySDF(xr,cr,ar),Dr){xr.glyphs[ar]=Dr,Ze(null,{stack:cr,id:ar,glyph:Dr});return}var Qr=Math.floor(ar/256);if(Qr*256>65535){Ze(new Error("glyphs > 65535 not supported"));return}if(xr.ranges[Qr]){Ze(null,{stack:cr,id:ar,glyph:Dr});return}var Xr=xr.requests[Qr];Xr||(Xr=xr.requests[Qr]=[],P.loadGlyphRange(cr,Qr,$.url,$.requestManager,function(Wr,an){if(an){for(var yn in an)$._doesCharSupportLocalGlyph(+yn)||(xr.glyphs[+yn]=an[+yn]);xr.ranges[Qr]=!0}for(var Xn=0,Hn=Xr;Xn<Hn.length;Xn+=1){var Un=Hn[Xn];Un(Wr,an)}delete xr.requests[Qr]})),Xr.push(function(Wr,an){Wr?Ze(Wr):an&&Ze(null,{stack:cr,id:ar,glyph:an[ar]||null})})},function(Be,Ze){if(Be)nt(Be);else if(Ze){for(var cr={},ar=0,xr=Ze;ar<xr.length;ar+=1){var Dr=xr[ar],Qr=Dr.stack,Xr=Dr.id,Wr=Dr.glyph;(cr[Qr]||(cr[Qr]={}))[Xr]=Wr&&{id:Wr.id,bitmap:Wr.bitmap.clone(),metrics:Wr.metrics}}nt(null,cr)}})},P.prototype._doesCharSupportLocalGlyph=function(Y){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](Y)||i.isChar["Hangul Syllables"](Y)||i.isChar.Hiragana(Y)||i.isChar.Katakana(Y))},P.prototype._tinySDF=function(Y,nt,$){var ht=this.localIdeographFontFamily;if(ht&&this._doesCharSupportLocalGlyph($)){var Lt=Y.tinySDF;if(!Lt){var qt="400";/bold/i.test(nt)?qt="900":/medium/i.test(nt)?qt="500":/light/i.test(nt)&&(qt="200"),Lt=Y.tinySDF=new P.TinySDF(24,3,8,.25,ht,qt)}return{id:$,bitmap:new i.AlphaImage({width:30,height:30},Lt.draw(String.fromCharCode($))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},P.loadGlyphRange=a,P.TinySDF=c;var u=function(){this.specification=i.styleSpec.light.position};u.prototype.possiblyEvaluate=function(Y,nt){return i.sphericalToCartesian(Y.expression.evaluate(nt))},u.prototype.interpolate=function(Y,nt,$){return{x:i.number(Y.x,nt.x,$),y:i.number(Y.y,nt.y,$),z:i.number(Y.z,nt.z,$)}};var g=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new u,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),L="-transition",A=function(Y){function nt($){Y.call(this),this._transitionable=new i.Transitionable(g),this.setLight($),this._transitioning=this._transitionable.untransitioned()}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getLight=function(){return this._transitionable.serialize()},nt.prototype.setLight=function($,ht){if(ht===void 0&&(ht={}),!this._validate(i.validateLight,$,ht))for(var Lt in $){var qt=$[Lt];i.endsWith(Lt,L)?this._transitionable.setTransition(Lt.slice(0,-L.length),qt):this._transitionable.setValue(Lt,qt)}},nt.prototype.updateTransitions=function($){this._transitioning=this._transitionable.transitioned($,this._transitioning)},nt.prototype.hasTransition=function(){return this._transitioning.hasTransition()},nt.prototype.recalculate=function($){this.properties=this._transitioning.possiblyEvaluate($)},nt.prototype._validate=function($,ht,Lt){return Lt&&Lt.validate===!1?!1:i.emitValidationErrors(this,$.call(i.validateStyle,i.extend({value:ht,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},nt}(i.Evented),R=function(Y,nt){this.width=Y,this.height=nt,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};R.prototype.getDash=function(Y,nt){var $=Y.join(",")+String(nt);return this.dashEntry[$]||(this.dashEntry[$]=this.addDash(Y,nt)),this.dashEntry[$]},R.prototype.getDashRanges=function(Y,nt,$){var ht=Y.length%2===1,Lt=[],qt=ht?-Y[Y.length-1]*$:0,ae=Y[0]*$,be=!0;Lt.push({left:qt,right:ae,isDash:be,zeroLength:Y[0]===0});for(var Be=Y[0],Ze=1;Ze<Y.length;Ze++){be=!be;var cr=Y[Ze];qt=Be*$,Be+=cr,ae=Be*$,Lt.push({left:qt,right:ae,isDash:be,zeroLength:cr===0})}return Lt},R.prototype.addRoundDash=function(Y,nt,$){for(var ht=nt/2,Lt=-$;Lt<=$;Lt++)for(var qt=this.nextRow+$+Lt,ae=this.width*qt,be=0,Be=Y[be],Ze=0;Ze<this.width;Ze++){Ze/Be.right>1&&(Be=Y[++be]);var cr=Math.abs(Ze-Be.left),ar=Math.abs(Ze-Be.right),xr=Math.min(cr,ar),Dr=void 0,Qr=Lt/$*(ht+1);if(Be.isDash){var Xr=ht-Math.abs(Qr);Dr=Math.sqrt(xr*xr+Xr*Xr)}else Dr=ht-Math.sqrt(xr*xr+Qr*Qr);this.data[ae+Ze]=Math.max(0,Math.min(255,Dr+128))}},R.prototype.addRegularDash=function(Y){for(var nt=Y.length-1;nt>=0;--nt){var $=Y[nt],ht=Y[nt+1];$.zeroLength?Y.splice(nt,1):ht&&ht.isDash===$.isDash&&(ht.left=$.left,Y.splice(nt,1))}var Lt=Y[0],qt=Y[Y.length-1];Lt.isDash===qt.isDash&&(Lt.left=qt.left-this.width,qt.right=Lt.right+this.width);for(var ae=this.width*this.nextRow,be=0,Be=Y[be],Ze=0;Ze<this.width;Ze++){Ze/Be.right>1&&(Be=Y[++be]);var cr=Math.abs(Ze-Be.left),ar=Math.abs(Ze-Be.right),xr=Math.min(cr,ar),Dr=Be.isDash?xr:-xr;this.data[ae+Ze]=Math.max(0,Math.min(255,Dr+128))}},R.prototype.addDash=function(Y,nt){var $=nt?7:0,ht=2*$+1;if(this.nextRow+ht>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var Lt=0,qt=0;qt<Y.length;qt++)Lt+=Y[qt];if(Lt!==0){var ae=this.width/Lt,be=this.getDashRanges(Y,this.width,ae);nt?this.addRoundDash(be,ae,$):this.addRegularDash(be)}var Be={y:(this.nextRow+$+.5)/this.height,height:2*$/this.height,width:Lt};return this.nextRow+=ht,this.dirty=!0,Be},R.prototype.bind=function(Y){var nt=Y.gl;this.texture?(nt.bindTexture(nt.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,nt.texSubImage2D(nt.TEXTURE_2D,0,0,0,this.width,this.height,nt.ALPHA,nt.UNSIGNED_BYTE,this.data))):(this.texture=nt.createTexture(),nt.bindTexture(nt.TEXTURE_2D,this.texture),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.REPEAT),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.REPEAT),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.LINEAR),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.LINEAR),nt.texImage2D(nt.TEXTURE_2D,0,nt.ALPHA,this.width,this.height,0,nt.ALPHA,nt.UNSIGNED_BYTE,this.data))};var O=function Y(nt,$){this.workerPool=nt,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var ht=this.workerPool.acquire(this.id),Lt=0;Lt<ht.length;Lt++){var qt=ht[Lt],ae=new Y.Actor(qt,$,this.id);ae.name="Worker "+Lt,this.actors.push(ae)}};O.prototype.broadcast=function(Y,nt,$){$=$||function(){},i.asyncAll(this.actors,function(ht,Lt){ht.send(Y,nt,Lt)},$)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(Y){Y.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=i.Actor;function N(Y,nt,$){var ht=function(Lt,qt){if(Lt)return $(Lt);if(qt){var ae=i.pick(i.extend(qt,Y),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);qt.vector_layers&&(ae.vectorLayers=qt.vector_layers,ae.vectorLayerIds=ae.vectorLayers.map(function(be){return be.id})),ae.tiles=nt.canonicalizeTileset(ae,Y.url),$(null,ae)}};return Y.url?i.getJSON(nt.transformRequest(nt.normalizeSourceURL(Y.url),i.ResourceType.Source),ht):i.browser.frame(function(){return ht(null,Y)})}var z=function(Y,nt,$){this.bounds=i.LngLatBounds.convert(this.validateBounds(Y)),this.minzoom=nt||0,this.maxzoom=$||24};z.prototype.validateBounds=function(Y){return!Array.isArray(Y)||Y.length!==4?[-180,-90,180,90]:[Math.max(-180,Y[0]),Math.max(-90,Y[1]),Math.min(180,Y[2]),Math.min(90,Y[3])]},z.prototype.contains=function(Y){var nt=Math.pow(2,Y.z),$={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*nt),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*nt),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*nt),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*nt)},ht=Y.x>=$.minX&&Y.x<$.maxX&&Y.y>=$.minY&&Y.y<$.maxY;return ht};var F=function(Y){function nt($,ht,Lt,qt){if(Y.call(this),this.id=$,this.dispatcher=Lt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(ht,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},ht),this._collectResourceTiming=ht.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(qt)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ht,Lt){$._tileJSONRequest=null,$._loaded=!0,ht?$.fire(new i.ErrorEvent(ht)):Lt&&(i.extend($,Lt),Lt.bounds&&($.tileBounds=new z(Lt.bounds,$.minzoom,$.maxzoom)),i.postTurnstileEvent(Lt.tiles,$.map._requestManager._customAccessToken),i.postMapLoadEvent(Lt.tiles,$.map._getMapId(),$.map._requestManager._skuToken,$.map._requestManager._customAccessToken),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},nt.prototype.loaded=function(){return this._loaded},nt.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},nt.prototype.onAdd=function($){this.map=$,this.load()},nt.prototype.setSourceProperty=function($){this._tileJSONRequest&&this._tileJSONRequest.cancel(),$();var ht=this.map.style.sourceCaches[this.id];ht.clearTiles(),this.load()},nt.prototype.setTiles=function($){var ht=this;return this.setSourceProperty(function(){ht._options.tiles=$}),this},nt.prototype.setUrl=function($){var ht=this;return this.setSourceProperty(function(){ht.url=$,ht._options.url=$}),this},nt.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},nt.prototype.serialize=function(){return i.extend({},this._options)},nt.prototype.loadTile=function($,ht){var Lt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme)),qt={request:this.map._requestManager.transformRequest(Lt,i.ResourceType.Tile),uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,tileSize:this.tileSize*$.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};qt.request.collectResourceTiming=this._collectResourceTiming,!$.actor||$.state==="expired"?($.actor=this.dispatcher.getActor(),$.request=$.actor.send("loadTile",qt,ae.bind(this))):$.state==="loading"?$.reloadCallback=ht:$.request=$.actor.send("reloadTile",qt,ae.bind(this));function ae(be,Be){if(delete $.request,$.aborted)return ht(null);if(be&&be.status!==404)return ht(be);Be&&Be.resourceTiming&&($.resourceTiming=Be.resourceTiming),this.map._refreshExpiredTiles&&Be&&$.setExpiryData(Be),$.loadVectorData(Be,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),ht(null),$.reloadCallback&&(this.loadTile($,$.reloadCallback),$.reloadCallback=null)}},nt.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.actor&&$.actor.send("abortTile",{uid:$.uid,type:this.type,source:this.id},void 0)},nt.prototype.unloadTile=function($){$.unloadVectorData(),$.actor&&$.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id},void 0)},nt.prototype.hasTransition=function(){return!1},nt}(i.Evented),I=function(Y){function nt($,ht,Lt,qt){Y.call(this),this.id=$,this.dispatcher=Lt,this.setEventedParent(qt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},ht),i.extend(this,i.pick(ht,["url","scheme","tileSize"]))}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ht,Lt){$._tileJSONRequest=null,$._loaded=!0,ht?$.fire(new i.ErrorEvent(ht)):Lt&&(i.extend($,Lt),Lt.bounds&&($.tileBounds=new z(Lt.bounds,$.minzoom,$.maxzoom)),i.postTurnstileEvent(Lt.tiles),i.postMapLoadEvent(Lt.tiles,$.map._getMapId(),$.map._requestManager._skuToken),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},nt.prototype.loaded=function(){return this._loaded},nt.prototype.onAdd=function($){this.map=$,this.load()},nt.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},nt.prototype.serialize=function(){return i.extend({},this._options)},nt.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},nt.prototype.loadTile=function($,ht){var Lt=this,qt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);$.request=i.getImage(this.map._requestManager.transformRequest(qt,i.ResourceType.Tile),function(ae,be){if(delete $.request,$.aborted)$.state="unloaded",ht(null);else if(ae)$.state="errored",ht(ae);else if(be){Lt.map._refreshExpiredTiles&&$.setExpiryData(be),delete be.cacheControl,delete be.expires;var Be=Lt.map.painter.context,Ze=Be.gl;$.texture=Lt.map.painter.getTileTexture(be.width),$.texture?$.texture.update(be,{useMipmap:!0}):($.texture=new i.Texture(Be,be,Ze.RGBA,{useMipmap:!0}),$.texture.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE,Ze.LINEAR_MIPMAP_NEAREST),Be.extTextureFilterAnisotropic&&Ze.texParameterf(Ze.TEXTURE_2D,Be.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Be.extTextureFilterAnisotropicMax)),$.state="loaded",i.cacheEntryPossiblyAdded(Lt.dispatcher),ht(null)}})},nt.prototype.abortTile=function($,ht){$.request&&($.request.cancel(),delete $.request),ht()},nt.prototype.unloadTile=function($,ht){$.texture&&this.map.painter.saveTileTexture($.texture),ht()},nt.prototype.hasTransition=function(){return!1},nt}(i.Evented),j=function(Y){function nt($,ht,Lt,qt){Y.call(this,$,ht,Lt,qt),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},ht),this.encoding=ht.encoding||"mapbox"}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},nt.prototype.loadTile=function($,ht){var Lt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);$.request=i.getImage(this.map._requestManager.transformRequest(Lt,i.ResourceType.Tile),qt.bind(this)),$.neighboringTiles=this._getNeighboringTiles($.tileID);function qt(be,Be){if(delete $.request,$.aborted)$.state="unloaded",ht(null);else if(be)$.state="errored",ht(be);else if(Be){this.map._refreshExpiredTiles&&$.setExpiryData(Be),delete Be.cacheControl,delete Be.expires;var Ze=i.window.ImageBitmap&&Be instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),cr=Ze?Be:i.browser.getImageData(Be,1),ar={uid:$.uid,coord:$.tileID,source:this.id,rawImageData:cr,encoding:this.encoding};(!$.actor||$.state==="expired")&&($.actor=this.dispatcher.getActor(),$.actor.send("loadDEMTile",ar,ae.bind(this)))}}function ae(be,Be){be&&($.state="errored",ht(be)),Be&&($.dem=Be,$.needsHillshadePrepare=!0,$.state="loaded",ht(null))}},nt.prototype._getNeighboringTiles=function($){var ht=$.canonical,Lt=Math.pow(2,ht.z),qt=(ht.x-1+Lt)%Lt,ae=ht.x===0?$.wrap-1:$.wrap,be=(ht.x+1+Lt)%Lt,Be=ht.x+1===Lt?$.wrap+1:$.wrap,Ze={};return Ze[new i.OverscaledTileID($.overscaledZ,ae,ht.z,qt,ht.y).key]={backfilled:!1},Ze[new i.OverscaledTileID($.overscaledZ,Be,ht.z,be,ht.y).key]={backfilled:!1},ht.y>0&&(Ze[new i.OverscaledTileID($.overscaledZ,ae,ht.z,qt,ht.y-1).key]={backfilled:!1},Ze[new i.OverscaledTileID($.overscaledZ,$.wrap,ht.z,ht.x,ht.y-1).key]={backfilled:!1},Ze[new i.OverscaledTileID($.overscaledZ,Be,ht.z,be,ht.y-1).key]={backfilled:!1}),ht.y+1<Lt&&(Ze[new i.OverscaledTileID($.overscaledZ,ae,ht.z,qt,ht.y+1).key]={backfilled:!1},Ze[new i.OverscaledTileID($.overscaledZ,$.wrap,ht.z,ht.x,ht.y+1).key]={backfilled:!1},Ze[new i.OverscaledTileID($.overscaledZ,Be,ht.z,be,ht.y+1).key]={backfilled:!1}),Ze},nt.prototype.unloadTile=function($){$.demTexture&&this.map.painter.saveTileTexture($.demTexture),$.fbo&&($.fbo.destroy(),delete $.fbo),$.dem&&delete $.dem,delete $.neighboringTiles,$.state="unloaded",$.actor&&$.actor.send("removeDEMTile",{uid:$.uid,source:this.id})},nt}(I),V=function(Y){function nt($,ht,Lt,qt){Y.call(this),this.id=$,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=Lt.getActor(),this.setEventedParent(qt),this._data=ht.data,this._options=i.extend({},ht),this._collectResourceTiming=ht.collectResourceTiming,this._resourceTiming=[],ht.maxzoom!==void 0&&(this.maxzoom=ht.maxzoom),ht.type&&(this.type=ht.type),ht.attribution&&(this.attribution=ht.attribution),this.promoteId=ht.promoteId;var ae=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:ht.cluster||!1,geojsonVtOptions:{buffer:(ht.buffer!==void 0?ht.buffer:128)*ae,tolerance:(ht.tolerance!==void 0?ht.tolerance:.375)*ae,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:ht.lineMetrics||!1,generateId:ht.generateId||!1},superclusterOptions:{maxZoom:ht.clusterMaxZoom!==void 0?Math.min(ht.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ht.clusterMinPoints||2),extent:i.EXTENT,radius:(ht.clusterRadius||50)*ae,log:!1,generateId:ht.generateId||!1},clusterProperties:ht.clusterProperties,filter:ht.filter},ht.workerOptions)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.load=function(){var $=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ht){if(ht){$.fire(new i.ErrorEvent(ht));return}var Lt={dataType:"source",sourceDataType:"metadata"};$._collectResourceTiming&&$._resourceTiming&&$._resourceTiming.length>0&&(Lt.resourceTiming=$._resourceTiming,$._resourceTiming=[]),$.fire(new i.Event("data",Lt))})},nt.prototype.onAdd=function($){this.map=$,this.load()},nt.prototype.setData=function($){var ht=this;return this._data=$,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Lt){if(Lt){ht.fire(new i.ErrorEvent(Lt));return}var qt={dataType:"source",sourceDataType:"content"};ht._collectResourceTiming&&ht._resourceTiming&&ht._resourceTiming.length>0&&(qt.resourceTiming=ht._resourceTiming,ht._resourceTiming=[]),ht.fire(new i.Event("data",qt))}),this},nt.prototype.getClusterExpansionZoom=function($,ht){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:$,source:this.id},ht),this},nt.prototype.getClusterChildren=function($,ht){return this.actor.send("geojson.getClusterChildren",{clusterId:$,source:this.id},ht),this},nt.prototype.getClusterLeaves=function($,ht,Lt,qt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:$,limit:ht,offset:Lt},qt),this},nt.prototype._updateWorkerData=function($){var ht=this;this._loaded=!1;var Lt=i.extend({},this.workerOptions),qt=this._data;typeof qt=="string"?(Lt.request=this.map._requestManager.transformRequest(i.browser.resolveURL(qt),i.ResourceType.Source),Lt.request.collectResourceTiming=this._collectResourceTiming):Lt.data=JSON.stringify(qt),this.actor.send(this.type+".loadData",Lt,function(ae,be){ht._removed||be&&be.abandoned||(ht._loaded=!0,be&&be.resourceTiming&&be.resourceTiming[ht.id]&&(ht._resourceTiming=be.resourceTiming[ht.id].slice(0)),ht.actor.send(ht.type+".coalesce",{source:Lt.source},null),$(ae))})},nt.prototype.loaded=function(){return this._loaded},nt.prototype.loadTile=function($,ht){var Lt=this,qt=$.actor?"reloadTile":"loadTile";$.actor=this.actor;var ae={type:this.type,uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};$.request=this.actor.send(qt,ae,function(be,Be){return delete $.request,$.unloadVectorData(),$.aborted?ht(null):be?ht(be):($.loadVectorData(Be,Lt.map.painter,qt==="reloadTile"),ht(null))})},nt.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.aborted=!0},nt.prototype.unloadTile=function($){$.unloadVectorData(),this.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id})},nt.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},nt.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},nt.prototype.hasTransition=function(){return!1},nt}(i.Evented),W=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),K=function(Y){function nt($,ht,Lt,qt){Y.call(this),this.id=$,this.dispatcher=Lt,this.coordinates=ht.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(qt),this.options=ht}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.load=function($,ht){var Lt=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(qt,ae){Lt._loaded=!0,qt?Lt.fire(new i.ErrorEvent(qt)):ae&&(Lt.image=ae,$&&(Lt.coordinates=$),ht&&ht(),Lt._finishLoading())})},nt.prototype.loaded=function(){return this._loaded},nt.prototype.updateImage=function($){var ht=this;return!this.image||!$.url?this:(this.options.url=$.url,this.load($.coordinates,function(){ht.texture=null}),this)},nt.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},nt.prototype.onAdd=function($){this.map=$,this.load()},nt.prototype.setCoordinates=function($){var ht=this;this.coordinates=$;var Lt=$.map(i.MercatorCoordinate.fromLngLat);this.tileID=et(Lt),this.minzoom=this.maxzoom=this.tileID.z;var qt=Lt.map(function(ae){return ht.tileID.getTilePoint(ae)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(qt[0].x,qt[0].y,0,0),this._boundsArray.emplaceBack(qt[1].x,qt[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(qt[3].x,qt[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(qt[2].x,qt[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},nt.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var $=this.map.painter.context,ht=$.gl;this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture($,this.image,ht.RGBA),this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE));for(var Lt in this.tiles){var qt=this.tiles[Lt];qt.state!=="loaded"&&(qt.state="loaded",qt.texture=this.texture)}}},nt.prototype.loadTile=function($,ht){this.tileID&&this.tileID.equals($.tileID.canonical)?(this.tiles[String($.tileID.wrap)]=$,$.buckets={},ht(null)):($.state="errored",ht(null))},nt.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},nt.prototype.hasTransition=function(){return!1},nt}(i.Evented);function et(Y){for(var nt=1/0,$=1/0,ht=-1/0,Lt=-1/0,qt=0,ae=Y;qt<ae.length;qt+=1){var be=ae[qt];nt=Math.min(nt,be.x),$=Math.min($,be.y),ht=Math.max(ht,be.x),Lt=Math.max(Lt,be.y)}var Be=ht-nt,Ze=Lt-$,cr=Math.max(Be,Ze),ar=Math.max(0,Math.floor(-Math.log(cr)/Math.LN2)),xr=Math.pow(2,ar);return new i.CanonicalTileID(ar,Math.floor((nt+ht)/2*xr),Math.floor(($+Lt)/2*xr))}var lt=function(Y){function nt($,ht,Lt,qt){Y.call(this,$,ht,Lt,qt),this.roundZoom=!0,this.type="video",this.options=ht}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.load=function(){var $=this;this._loaded=!1;var ht=this.options;this.urls=[];for(var Lt=0,qt=ht.urls;Lt<qt.length;Lt+=1){var ae=qt[Lt];this.urls.push(this.map._requestManager.transformRequest(ae,i.ResourceType.Source).url)}i.getVideo(this.urls,function(be,Be){$._loaded=!0,be?$.fire(new i.ErrorEvent(be)):Be&&($.video=Be,$.video.loop=!0,$.video.addEventListener("playing",function(){$.map.triggerRepaint()}),$.map&&$.video.play(),$._finishLoading())})},nt.prototype.pause=function(){this.video&&this.video.pause()},nt.prototype.play=function(){this.video&&this.video.play()},nt.prototype.seek=function($){if(this.video){var ht=this.video.seekable;$<ht.start(0)||$>ht.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ht.start(0)+" and "+ht.end(0)+"-second mark."))):this.video.currentTime=$}},nt.prototype.getVideo=function(){return this.video},nt.prototype.onAdd=function($){this.map||(this.map=$,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},nt.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var $=this.map.painter.context,ht=$.gl;this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),ht.texSubImage2D(ht.TEXTURE_2D,0,0,0,ht.RGBA,ht.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture($,this.video,ht.RGBA),this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE));for(var Lt in this.tiles){var qt=this.tiles[Lt];qt.state!=="loaded"&&(qt.state="loaded",qt.texture=this.texture)}}},nt.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},nt.prototype.hasTransition=function(){return this.video&&!this.video.paused},nt}(K),ot=function(Y){function nt($,ht,Lt,qt){Y.call(this,$,ht,Lt,qt),ht.coordinates?(!Array.isArray(ht.coordinates)||ht.coordinates.length!==4||ht.coordinates.some(function(ae){return!Array.isArray(ae)||ae.length!==2||ae.some(function(be){return typeof be!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+$,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+$,null,'missing required property "coordinates"'))),ht.animate&&typeof ht.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+$,null,'optional "animate" property must be a boolean value'))),ht.canvas?typeof ht.canvas!="string"&&!(ht.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+$,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+$,null,'missing required property "canvas"'))),this.options=ht,this.animate=ht.animate!==void 0?ht.animate:!0}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},nt.prototype.getCanvas=function(){return this.canvas},nt.prototype.onAdd=function($){this.map=$,this.load(),this.canvas&&this.animate&&this.play()},nt.prototype.onRemove=function(){this.pause()},nt.prototype.prepare=function(){var $=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,$=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,$=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ht=this.map.painter.context,Lt=ht.gl;this.boundsBuffer||(this.boundsBuffer=ht.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?($||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(ht,this.canvas,Lt.RGBA,{premultiply:!0});for(var qt in this.tiles){var ae=this.tiles[qt];ae.state!=="loaded"&&(ae.state="loaded",ae.texture=this.texture)}}},nt.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},nt.prototype.hasTransition=function(){return this._playing},nt.prototype._hasInvalidDimensions=function(){for(var $=0,ht=[this.canvas.width,this.canvas.height];$<ht.length;$+=1){var Lt=ht[$];if(isNaN(Lt)||Lt<=0)return!0}return!1},nt}(K),q={vector:F,raster:I,"raster-dem":j,geojson:V,video:lt,image:K,canvas:ot},J=function(Y,nt,$,ht){var Lt=new q[nt.type](Y,nt,$,ht);if(Lt.id!==Y)throw new Error("Expected Source id to be "+Y+" instead of "+Lt.id);return i.bindAll(["load","abort","unload","serialize","prepare"],Lt),Lt},it=function(Y){return q[Y]},Z=function(Y,nt){q[Y]=nt};function tt(Y,nt){var $=i.identity([]);return i.translate($,$,[1,1,0]),i.scale($,$,[Y.width*.5,Y.height*.5,1]),i.multiply($,$,Y.calculatePosMatrix(nt.toUnwrapped()))}function st(Y,nt,$){if(Y)for(var ht=0,Lt=Y;ht<Lt.length;ht+=1){var qt=Lt[ht],ae=nt[qt];if(ae&&ae.source===$&&ae.type==="fill-extrusion")return!0}else for(var be in nt){var Be=nt[be];if(Be.source===$&&Be.type==="fill-extrusion")return!0}return!1}function Q(Y,nt,$,ht,Lt,qt){var ae=st(Lt&&Lt.layers,nt,Y.id),be=qt.maxPitchScaleFactor(),Be=Y.tilesIn(ht,be,ae);Be.sort(at);for(var Ze=[],cr=0,ar=Be;cr<ar.length;cr+=1){var xr=ar[cr];Ze.push({wrappedTileID:xr.tileID.wrapped().key,queryResults:xr.tile.queryRenderedFeatures(nt,$,Y._state,xr.queryGeometry,xr.cameraQueryGeometry,xr.scale,Lt,qt,be,tt(Y.transform,xr.tileID))})}var Dr=dt(Ze);for(var Qr in Dr)Dr[Qr].forEach(function(Xr){var Wr=Xr.feature,an=Y.getFeatureState(Wr.layer["source-layer"],Wr.id);Wr.source=Wr.layer.source,Wr.layer["source-layer"]&&(Wr.sourceLayer=Wr.layer["source-layer"]),Wr.state=an});return Dr}function G(Y,nt,$,ht,Lt,qt,ae){for(var be={},Be=qt.queryRenderedSymbols(ht),Ze=[],cr=0,ar=Object.keys(Be).map(Number);cr<ar.length;cr+=1){var xr=ar[cr];Ze.push(ae[xr])}Ze.sort(at);for(var Dr=function(){var yn=Xr[Qr],Xn=yn.featureIndex.lookupSymbolFeatures(Be[yn.bucketInstanceId],nt,yn.bucketIndex,yn.sourceLayerIndex,Lt.filter,Lt.layers,Lt.availableImages,Y);for(var Hn in Xn){var Un=be[Hn]=be[Hn]||[],Wn=Xn[Hn];Wn.sort(function(xi,vi){var yi=yn.featureSortOrder;if(yi){var qi=yi.indexOf(xi.featureIndex),_a=yi.indexOf(vi.featureIndex);return _a-qi}else return vi.featureIndex-xi.featureIndex});for(var qn=0,$n=Wn;qn<$n.length;qn+=1){var ni=$n[qn];Un.push(ni)}}},Qr=0,Xr=Ze;Qr<Xr.length;Qr+=1)Dr();var Wr=function(yn){be[yn].forEach(function(Xn){var Hn=Xn.feature,Un=Y[yn],Wn=$[Un.source],qn=Wn.getFeatureState(Hn.layer["source-layer"],Hn.id);Hn.source=Hn.layer.source,Hn.layer["source-layer"]&&(Hn.sourceLayer=Hn.layer["source-layer"]),Hn.state=qn})};for(var an in be)Wr(an);return be}function ut(Y,nt){for(var $=Y.getRenderableIds().map(function(Be){return Y.getTileByID(Be)}),ht=[],Lt={},qt=0;qt<$.length;qt++){var ae=$[qt],be=ae.tileID.canonical.key;Lt[be]||(Lt[be]=!0,ae.querySourceFeatures(ht,nt))}return ht}function at(Y,nt){var $=Y.tileID,ht=nt.tileID;return $.overscaledZ-ht.overscaledZ||$.canonical.y-ht.canonical.y||$.wrap-ht.wrap||$.canonical.x-ht.canonical.x}function dt(Y){for(var nt={},$={},ht=0,Lt=Y;ht<Lt.length;ht+=1){var qt=Lt[ht],ae=qt.queryResults,be=qt.wrappedTileID,Be=$[be]=$[be]||{};for(var Ze in ae)for(var cr=ae[Ze],ar=Be[Ze]=Be[Ze]||{},xr=nt[Ze]=nt[Ze]||[],Dr=0,Qr=cr;Dr<Qr.length;Dr+=1){var Xr=Qr[Dr];ar[Xr.featureIndex]||(ar[Xr.featureIndex]=!0,xr.push(Xr))}}return nt}var gt=function(Y,nt){this.max=Y,this.onRemove=nt,this.reset()};gt.prototype.reset=function(){for(var Y in this.data)for(var nt=0,$=this.data[Y];nt<$.length;nt+=1){var ht=$[nt];ht.timeout&&clearTimeout(ht.timeout),this.onRemove(ht.value)}return this.data={},this.order=[],this},gt.prototype.add=function(Y,nt,$){var ht=this,Lt=Y.wrapped().key;this.data[Lt]===void 0&&(this.data[Lt]=[]);var qt={value:nt,timeout:void 0};if($!==void 0&&(qt.timeout=setTimeout(function(){ht.remove(Y,qt)},$)),this.data[Lt].push(qt),this.order.push(Lt),this.order.length>this.max){var ae=this._getAndRemoveByKey(this.order[0]);ae&&this.onRemove(ae)}return this},gt.prototype.has=function(Y){return Y.wrapped().key in this.data},gt.prototype.getAndRemove=function(Y){return this.has(Y)?this._getAndRemoveByKey(Y.wrapped().key):null},gt.prototype._getAndRemoveByKey=function(Y){var nt=this.data[Y].shift();return nt.timeout&&clearTimeout(nt.timeout),this.data[Y].length===0&&delete this.data[Y],this.order.splice(this.order.indexOf(Y),1),nt.value},gt.prototype.getByKey=function(Y){var nt=this.data[Y];return nt?nt[0].value:null},gt.prototype.get=function(Y){if(!this.has(Y))return null;var nt=this.data[Y.wrapped().key][0];return nt.value},gt.prototype.remove=function(Y,nt){if(!this.has(Y))return this;var $=Y.wrapped().key,ht=nt===void 0?0:this.data[$].indexOf(nt),Lt=this.data[$][ht];return this.data[$].splice(ht,1),Lt.timeout&&clearTimeout(Lt.timeout),this.data[$].length===0&&delete this.data[$],this.onRemove(Lt.value),this.order.splice(this.order.indexOf($),1),this},gt.prototype.setMaxSize=function(Y){for(this.max=Y;this.order.length>this.max;){var nt=this._getAndRemoveByKey(this.order[0]);nt&&this.onRemove(nt)}return this},gt.prototype.filter=function(Y){var nt=[];for(var $ in this.data)for(var ht=0,Lt=this.data[$];ht<Lt.length;ht+=1){var qt=Lt[ht];Y(qt.value)||nt.push(qt)}for(var ae=0,be=nt;ae<be.length;ae+=1){var Be=be[ae];this.remove(Be.value.tileID,Be)}};var wt=function(Y,nt,$){this.context=Y;var ht=Y.gl;this.buffer=ht.createBuffer(),this.dynamicDraw=!!$,this.context.unbindVAO(),Y.bindElementBuffer.set(this.buffer),ht.bufferData(ht.ELEMENT_ARRAY_BUFFER,nt.arrayBuffer,this.dynamicDraw?ht.DYNAMIC_DRAW:ht.STATIC_DRAW),this.dynamicDraw||delete nt.arrayBuffer};wt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},wt.prototype.updateData=function(Y){var nt=this.context.gl;this.context.unbindVAO(),this.bind(),nt.bufferSubData(nt.ELEMENT_ARRAY_BUFFER,0,Y.arrayBuffer)},wt.prototype.destroy=function(){var Y=this.context.gl;this.buffer&&(Y.deleteBuffer(this.buffer),delete this.buffer)};var kt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ot=function(Y,nt,$,ht){this.length=nt.length,this.attributes=$,this.itemSize=nt.bytesPerElement,this.dynamicDraw=ht,this.context=Y;var Lt=Y.gl;this.buffer=Lt.createBuffer(),Y.bindVertexBuffer.set(this.buffer),Lt.bufferData(Lt.ARRAY_BUFFER,nt.arrayBuffer,this.dynamicDraw?Lt.DYNAMIC_DRAW:Lt.STATIC_DRAW),this.dynamicDraw||delete nt.arrayBuffer};Ot.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ot.prototype.updateData=function(Y){var nt=this.context.gl;this.bind(),nt.bufferSubData(nt.ARRAY_BUFFER,0,Y.arrayBuffer)},Ot.prototype.enableAttributes=function(Y,nt){for(var $=0;$<this.attributes.length;$++){var ht=this.attributes[$],Lt=nt.attributes[ht.name];Lt!==void 0&&Y.enableVertexAttribArray(Lt)}},Ot.prototype.setVertexAttribPointers=function(Y,nt,$){for(var ht=0;ht<this.attributes.length;ht++){var Lt=this.attributes[ht],qt=nt.attributes[Lt.name];qt!==void 0&&Y.vertexAttribPointer(qt,Lt.components,Y[kt[Lt.type]],!1,this.itemSize,Lt.offset+this.itemSize*($||0))}},Ot.prototype.destroy=function(){var Y=this.context.gl;this.buffer&&(Y.deleteBuffer(this.buffer),delete this.buffer)};var bt=function(Y){this.gl=Y.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};bt.prototype.get=function(){return this.current},bt.prototype.set=function(Y){},bt.prototype.getDefault=function(){return this.default},bt.prototype.setDefault=function(){this.set(this.default)};var _t=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return i.Color.transparent},nt.prototype.set=function($){var ht=this.current;$.r===ht.r&&$.g===ht.g&&$.b===ht.b&&$.a===ht.a&&!this.dirty||(this.gl.clearColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},nt}(bt),mt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return 1},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearDepth($),this.current=$,this.dirty=!1)},nt}(bt),Pt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return 0},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearStencil($),this.current=$,this.dirty=!1)},nt}(bt),Rt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return[!0,!0,!0,!0]},nt.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&$[2]===ht[2]&&$[3]===ht[3]&&!this.dirty||(this.gl.colorMask($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},nt}(bt),Ht=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return!0},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthMask($),this.current=$,this.dirty=!1)},nt}(bt),Dt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return 255},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.stencilMask($),this.current=$,this.dirty=!1)},nt}(bt),Xt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},nt.prototype.set=function($){var ht=this.current;$.func===ht.func&&$.ref===ht.ref&&$.mask===ht.mask&&!this.dirty||(this.gl.stencilFunc($.func,$.ref,$.mask),this.current=$,this.dirty=!1)},nt}(bt),se=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){var $=this.gl;return[$.KEEP,$.KEEP,$.KEEP]},nt.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&$[2]===ht[2]&&!this.dirty||(this.gl.stencilOp($[0],$[1],$[2]),this.current=$,this.dirty=!1)},nt}(bt),Yt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return!1},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;$?ht.enable(ht.STENCIL_TEST):ht.disable(ht.STENCIL_TEST),this.current=$,this.dirty=!1}},nt}(bt),ue=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return[0,1]},nt.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&!this.dirty||(this.gl.depthRange($[0],$[1]),this.current=$,this.dirty=!1)},nt}(bt),ie=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return!1},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;$?ht.enable(ht.DEPTH_TEST):ht.disable(ht.DEPTH_TEST),this.current=$,this.dirty=!1}},nt}(bt),fe=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return this.gl.LESS},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthFunc($),this.current=$,this.dirty=!1)},nt}(bt),ce=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return!1},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;$?ht.enable(ht.BLEND):ht.disable(ht.BLEND),this.current=$,this.dirty=!1}},nt}(bt),ye=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){var $=this.gl;return[$.ONE,$.ZERO]},nt.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&!this.dirty||(this.gl.blendFunc($[0],$[1]),this.current=$,this.dirty=!1)},nt}(bt),de=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return i.Color.transparent},nt.prototype.set=function($){var ht=this.current;$.r===ht.r&&$.g===ht.g&&$.b===ht.b&&$.a===ht.a&&!this.dirty||(this.gl.blendColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},nt}(bt),Te=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return this.gl.FUNC_ADD},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.blendEquation($),this.current=$,this.dirty=!1)},nt}(bt),Et=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return!1},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;$?ht.enable(ht.CULL_FACE):ht.disable(ht.CULL_FACE),this.current=$,this.dirty=!1}},nt}(bt),Vt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return this.gl.BACK},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.cullFace($),this.current=$,this.dirty=!1)},nt}(bt),te=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return this.gl.CCW},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.frontFace($),this.current=$,this.dirty=!1)},nt}(bt),Jt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.useProgram($),this.current=$,this.dirty=!1)},nt}(bt),Ut=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return this.gl.TEXTURE0},nt.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.activeTexture($),this.current=$,this.dirty=!1)},nt}(bt),It=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){var $=this.gl;return[0,0,$.drawingBufferWidth,$.drawingBufferHeight]},nt.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&$[2]===ht[2]&&$[3]===ht[3]&&!this.dirty||(this.gl.viewport($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},nt}(bt),pt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;ht.bindFramebuffer(ht.FRAMEBUFFER,$),this.current=$,this.dirty=!1}},nt}(bt),xt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;ht.bindRenderbuffer(ht.RENDERBUFFER,$),this.current=$,this.dirty=!1}},nt}(bt),Ct=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;ht.bindTexture(ht.TEXTURE_2D,$),this.current=$,this.dirty=!1}},nt}(bt),At=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;ht.bindBuffer(ht.ARRAY_BUFFER,$),this.current=$,this.dirty=!1}},nt}(bt),Ft=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt.prototype.set=function($){var ht=this.gl;ht.bindBuffer(ht.ELEMENT_ARRAY_BUFFER,$),this.current=$,this.dirty=!1},nt}(bt),Wt=function(Y){function nt($){Y.call(this,$),this.vao=$.extVertexArrayObject}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt.prototype.set=function($){!this.vao||$===this.current&&!this.dirty||(this.vao.bindVertexArrayOES($),this.current=$,this.dirty=!1)},nt}(bt),Qt=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return 4},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;ht.pixelStorei(ht.UNPACK_ALIGNMENT,$),this.current=$,this.dirty=!1}},nt}(bt),he=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return!1},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;ht.pixelStorei(ht.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$),this.current=$,this.dirty=!1}},nt}(bt),ve=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return!1},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){var ht=this.gl;ht.pixelStorei(ht.UNPACK_FLIP_Y_WEBGL,$),this.current=$,this.dirty=!1}},nt}(bt),Je=function(Y){function nt($,ht){Y.call(this,$),this.context=$,this.parent=ht}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getDefault=function(){return null},nt}(bt),Ue=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.setDirty=function(){this.dirty=!0},nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ht=this.gl;ht.framebufferTexture2D(ht.FRAMEBUFFER,ht.COLOR_ATTACHMENT0,ht.TEXTURE_2D,$,0),this.current=$,this.dirty=!1}},nt}(Je),ke=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.set=function($){if(!($===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ht=this.gl;ht.framebufferRenderbuffer(ht.FRAMEBUFFER,ht.DEPTH_ATTACHMENT,ht.RENDERBUFFER,$),this.current=$,this.dirty=!1}},nt}(Je),Le=function(Y,nt,$,ht){this.context=Y,this.width=nt,this.height=$;var Lt=Y.gl,qt=this.framebuffer=Lt.createFramebuffer();this.colorAttachment=new Ue(Y,qt),ht&&(this.depthAttachment=new ke(Y,qt))};Le.prototype.destroy=function(){var Y=this.context.gl,nt=this.colorAttachment.get();if(nt&&Y.deleteTexture(nt),this.depthAttachment){var $=this.depthAttachment.get();$&&Y.deleteRenderbuffer($)}Y.deleteFramebuffer(this.framebuffer)};var Ge=519,mr=function(Y,nt,$){this.func=Y,this.mask=nt,this.range=$};mr.ReadOnly=!1,mr.ReadWrite=!0,mr.disabled=new mr(Ge,mr.ReadOnly,[0,1]);var xe=519,Xe=7680,Ye=function(Y,nt,$,ht,Lt,qt){this.test=Y,this.ref=nt,this.mask=$,this.fail=ht,this.depthFail=Lt,this.pass=qt};Ye.disabled=new Ye({func:xe,mask:0},0,0,Xe,Xe,Xe);var _r=0,rr=1,re=771,le=function(Y,nt,$){this.blendFunction=Y,this.blendColor=nt,this.mask=$};le.Replace=[rr,_r],le.disabled=new le(le.Replace,i.Color.transparent,[!1,!1,!1,!1]),le.unblended=new le(le.Replace,i.Color.transparent,[!0,!0,!0,!0]),le.alphaBlended=new le([rr,re],i.Color.transparent,[!0,!0,!0,!0]);var me=1029,Ee=2305,ze=function(Y,nt,$){this.enable=Y,this.mode=nt,this.frontFace=$};ze.disabled=new ze(!1,me,Ee),ze.backCCW=new ze(!0,me,Ee);var Oe=function(Y){this.gl=Y,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new _t(this),this.clearDepth=new mt(this),this.clearStencil=new Pt(this),this.colorMask=new Rt(this),this.depthMask=new Ht(this),this.stencilMask=new Dt(this),this.stencilFunc=new Xt(this),this.stencilOp=new se(this),this.stencilTest=new Yt(this),this.depthRange=new ue(this),this.depthTest=new ie(this),this.depthFunc=new fe(this),this.blend=new ce(this),this.blendFunc=new ye(this),this.blendColor=new de(this),this.blendEquation=new Te(this),this.cullFace=new Et(this),this.cullFaceSide=new Vt(this),this.frontFace=new te(this),this.program=new Jt(this),this.activeTexture=new Ut(this),this.viewport=new It(this),this.bindFramebuffer=new pt(this),this.bindRenderbuffer=new xt(this),this.bindTexture=new Ct(this),this.bindVertexBuffer=new At(this),this.bindElementBuffer=new Ft(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Wt(this),this.pixelStoreUnpack=new Qt(this),this.pixelStoreUnpackPremultiplyAlpha=new he(this),this.pixelStoreUnpackFlipY=new ve(this),this.extTextureFilterAnisotropic=Y.getExtension("EXT_texture_filter_anisotropic")||Y.getExtension("MOZ_EXT_texture_filter_anisotropic")||Y.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Y.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Y.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Y.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Y.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Y.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Y.getParameter(Y.MAX_TEXTURE_SIZE)};Oe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Oe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Oe.prototype.createIndexBuffer=function(Y,nt){return new wt(this,Y,nt)},Oe.prototype.createVertexBuffer=function(Y,nt,$){return new Ot(this,Y,nt,$)},Oe.prototype.createRenderbuffer=function(Y,nt,$){var ht=this.gl,Lt=ht.createRenderbuffer();return this.bindRenderbuffer.set(Lt),ht.renderbufferStorage(ht.RENDERBUFFER,Y,nt,$),this.bindRenderbuffer.set(null),Lt},Oe.prototype.createFramebuffer=function(Y,nt,$){return new Le(this,Y,nt,$)},Oe.prototype.clear=function(Y){var nt=Y.color,$=Y.depth,ht=this.gl,Lt=0;nt&&(Lt|=ht.COLOR_BUFFER_BIT,this.clearColor.set(nt),this.colorMask.set([!0,!0,!0,!0])),typeof $<"u"&&(Lt|=ht.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set($),this.depthMask.set(!0)),ht.clear(Lt)},Oe.prototype.setCullFace=function(Y){Y.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Y.mode),this.frontFace.set(Y.frontFace))},Oe.prototype.setDepthMode=function(Y){Y.func===this.gl.ALWAYS&&!Y.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Y.func),this.depthMask.set(Y.mask),this.depthRange.set(Y.range))},Oe.prototype.setStencilMode=function(Y){Y.test.func===this.gl.ALWAYS&&!Y.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Y.mask),this.stencilOp.set([Y.fail,Y.depthFail,Y.pass]),this.stencilFunc.set({func:Y.test.func,ref:Y.ref,mask:Y.test.mask}))},Oe.prototype.setColorMode=function(Y){i.deepEqual(Y.blendFunction,le.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Y.blendFunction),this.blendColor.set(Y.blendColor)),this.colorMask.set(Y.mask)},Oe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Fe=function(Y){function nt($,ht,Lt){var qt=this;Y.call(this),this.id=$,this.dispatcher=Lt,this.on("data",function(ae){ae.dataType==="source"&&ae.sourceDataType==="metadata"&&(qt._sourceLoaded=!0),qt._sourceLoaded&&!qt._paused&&ae.dataType==="source"&&ae.sourceDataType==="content"&&(qt.reload(),qt.transform&&qt.update(qt.transform))}),this.on("error",function(){qt._sourceErrored=!0}),this._source=J($,ht,Lt,this),this._tiles={},this._cache=new gt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.onAdd=function($){this.map=$,this._maxTileCacheSize=$?$._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd($)},nt.prototype.onRemove=function($){this._source&&this._source.onRemove&&this._source.onRemove($)},nt.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var $ in this._tiles){var ht=this._tiles[$];if(ht.state!=="loaded"&&ht.state!=="errored")return!1}return!0},nt.prototype.getSource=function(){return this._source},nt.prototype.pause=function(){this._paused=!0},nt.prototype.resume=function(){if(this._paused){var $=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,$&&this.reload(),this.transform&&this.update(this.transform)}},nt.prototype._loadTile=function($,ht){return this._source.loadTile($,ht)},nt.prototype._unloadTile=function($){if(this._source.unloadTile)return this._source.unloadTile($,function(){})},nt.prototype._abortTile=function($){if(this._source.abortTile)return this._source.abortTile($,function(){})},nt.prototype.serialize=function(){return this._source.serialize()},nt.prototype.prepare=function($){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ht in this._tiles){var Lt=this._tiles[ht];Lt.upload($),Lt.prepare(this.map.style.imageManager)}},nt.prototype.getIds=function(){return i.values(this._tiles).map(function($){return $.tileID}).sort(Re).map(function($){return $.key})},nt.prototype.getRenderableIds=function($){var ht=this,Lt=[];for(var qt in this._tiles)this._isIdRenderable(qt,$)&&Lt.push(this._tiles[qt]);return $?Lt.sort(function(ae,be){var Be=ae.tileID,Ze=be.tileID,cr=new i.Point(Be.canonical.x,Be.canonical.y)._rotate(ht.transform.angle),ar=new i.Point(Ze.canonical.x,Ze.canonical.y)._rotate(ht.transform.angle);return Be.overscaledZ-Ze.overscaledZ||ar.y-cr.y||ar.x-cr.x}).map(function(ae){return ae.tileID.key}):Lt.map(function(ae){return ae.tileID}).sort(Re).map(function(ae){return ae.key})},nt.prototype.hasRenderableParent=function($){var ht=this.findLoadedParent($,0);return ht?this._isIdRenderable(ht.tileID.key):!1},nt.prototype._isIdRenderable=function($,ht){return this._tiles[$]&&this._tiles[$].hasData()&&!this._coveredTiles[$]&&(ht||!this._tiles[$].holdingForFade())},nt.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var $ in this._tiles)this._tiles[$].state!=="errored"&&this._reloadTile($,"reloading")},nt.prototype._reloadTile=function($,ht){var Lt=this._tiles[$];Lt&&(Lt.state!=="loading"&&(Lt.state=ht),this._loadTile(Lt,this._tileLoaded.bind(this,Lt,$,ht)))},nt.prototype._tileLoaded=function($,ht,Lt,qt){if(qt){$.state="errored",qt.status!==404?this._source.fire(new i.ErrorEvent(qt,{tile:$})):this.update(this.transform);return}$.timeAdded=i.browser.now(),Lt==="expired"&&($.refreshedUponExpiration=!0),this._setTileReloadTimer(ht,$),this.getSource().type==="raster-dem"&&$.dem&&this._backfillDEM($),this._state.initializeTileState($,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:$,coord:$.tileID}))},nt.prototype._backfillDEM=function($){for(var ht=this.getRenderableIds(),Lt=0;Lt<ht.length;Lt++){var qt=ht[Lt];if($.neighboringTiles&&$.neighboringTiles[qt]){var ae=this.getTileByID(qt);be($,ae),be(ae,$)}}function be(Be,Ze){Be.needsHillshadePrepare=!0;var cr=Ze.tileID.canonical.x-Be.tileID.canonical.x,ar=Ze.tileID.canonical.y-Be.tileID.canonical.y,xr=Math.pow(2,Be.tileID.canonical.z),Dr=Ze.tileID.key;cr===0&&ar===0||Math.abs(ar)>1||(Math.abs(cr)>1&&(Math.abs(cr+xr)===1?cr+=xr:Math.abs(cr-xr)===1&&(cr-=xr)),!(!Ze.dem||!Be.dem)&&(Be.dem.backfillBorder(Ze.dem,cr,ar),Be.neighboringTiles&&Be.neighboringTiles[Dr]&&(Be.neighboringTiles[Dr].backfilled=!0)))}},nt.prototype.getTile=function($){return this.getTileByID($.key)},nt.prototype.getTileByID=function($){return this._tiles[$]},nt.prototype._retainLoadedChildren=function($,ht,Lt,qt){for(var ae in this._tiles){var be=this._tiles[ae];if(!(qt[ae]||!be.hasData()||be.tileID.overscaledZ<=ht||be.tileID.overscaledZ>Lt)){for(var Be=be.tileID;be&&be.tileID.overscaledZ>ht+1;){var Ze=be.tileID.scaledTo(be.tileID.overscaledZ-1);be=this._tiles[Ze.key],be&&be.hasData()&&(Be=Ze)}for(var cr=Be;cr.overscaledZ>ht;)if(cr=cr.scaledTo(cr.overscaledZ-1),$[cr.key]){qt[Be.key]=Be;break}}}},nt.prototype.findLoadedParent=function($,ht){if($.key in this._loadedParentTiles){var Lt=this._loadedParentTiles[$.key];return Lt&&Lt.tileID.overscaledZ>=ht?Lt:null}for(var qt=$.overscaledZ-1;qt>=ht;qt--){var ae=$.scaledTo(qt),be=this._getLoadedTile(ae);if(be)return be}},nt.prototype._getLoadedTile=function($){var ht=this._tiles[$.key];if(ht&&ht.hasData())return ht;var Lt=this._cache.getByKey($.wrapped().key);return Lt},nt.prototype.updateCacheSize=function($){var ht=Math.ceil($.width/this._source.tileSize)+1,Lt=Math.ceil($.height/this._source.tileSize)+1,qt=ht*Lt,ae=5,be=Math.floor(qt*ae),Be=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,be):be;this._cache.setMaxSize(Be)},nt.prototype.handleWrapJump=function($){var ht=this._prevLng===void 0?$:this._prevLng,Lt=$-ht,qt=Lt/360,ae=Math.round(qt);if(this._prevLng=$,ae){var be={};for(var Be in this._tiles){var Ze=this._tiles[Be];Ze.tileID=Ze.tileID.unwrapTo(Ze.tileID.wrap+ae),be[Ze.tileID.key]=Ze}this._tiles=be;for(var cr in this._timers)clearTimeout(this._timers[cr]),delete this._timers[cr];for(var ar in this._tiles){var xr=this._tiles[ar];this._setTileReloadTimer(ar,xr)}}},nt.prototype.update=function($){var ht=this;if(this.transform=$,!(!this._sourceLoaded||this._paused)){this.updateCacheSize($),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Lt;this.used?this._source.tileID?Lt=$.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ni){return new i.OverscaledTileID(ni.canonical.z,ni.wrap,ni.canonical.z,ni.canonical.x,ni.canonical.y)}):(Lt=$.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Lt=Lt.filter(function(ni){return ht._source.hasTile(ni)}))):Lt=[];var qt=$.coveringZoomLevel(this._source),ae=Math.max(qt-nt.maxOverzooming,this._source.minzoom),be=Math.max(qt+nt.maxUnderzooming,this._source.minzoom),Be=this._updateRetainedTiles(Lt,qt);if(Ke(this._source.type)){for(var Ze={},cr={},ar=Object.keys(Be),xr=0,Dr=ar;xr<Dr.length;xr+=1){var Qr=Dr[xr],Xr=Be[Qr],Wr=this._tiles[Qr];if(!(!Wr||Wr.fadeEndTime&&Wr.fadeEndTime<=i.browser.now())){var an=this.findLoadedParent(Xr,ae);an&&(this._addTile(an.tileID),Ze[an.tileID.key]=an.tileID),cr[Qr]=Xr}}this._retainLoadedChildren(cr,qt,be,Be);for(var yn in Ze)Be[yn]||(this._coveredTiles[yn]=!0,Be[yn]=Ze[yn])}for(var Xn in Be)this._tiles[Xn].clearFadeHold();for(var Hn=i.keysDifference(this._tiles,Be),Un=0,Wn=Hn;Un<Wn.length;Un+=1){var qn=Wn[Un],$n=this._tiles[qn];$n.hasSymbolBuckets&&!$n.holdingForFade()?$n.setHoldDuration(this.map._fadeDuration):(!$n.hasSymbolBuckets||$n.symbolFadeFinished())&&this._removeTile(qn)}this._updateLoadedParentTileCache()}},nt.prototype.releaseSymbolFadeTiles=function(){for(var $ in this._tiles)this._tiles[$].holdingForFade()&&this._removeTile($)},nt.prototype._updateRetainedTiles=function($,ht){for(var Lt={},qt={},ae=Math.max(ht-nt.maxOverzooming,this._source.minzoom),be=Math.max(ht+nt.maxUnderzooming,this._source.minzoom),Be={},Ze=0,cr=$;Ze<cr.length;Ze+=1){var ar=cr[Ze],xr=this._addTile(ar);Lt[ar.key]=ar,!xr.hasData()&&ht<this._source.maxzoom&&(Be[ar.key]=ar)}this._retainLoadedChildren(Be,ht,be,Lt);for(var Dr=0,Qr=$;Dr<Qr.length;Dr+=1){var Xr=Qr[Dr],Wr=this._tiles[Xr.key];if(!Wr.hasData()){if(ht+1>this._source.maxzoom){var an=Xr.children(this._source.maxzoom)[0],yn=this.getTile(an);if(yn&&yn.hasData()){Lt[an.key]=an;continue}}else{var Xn=Xr.children(this._source.maxzoom);if(Lt[Xn[0].key]&&Lt[Xn[1].key]&&Lt[Xn[2].key]&&Lt[Xn[3].key])continue}for(var Hn=Wr.wasRequested(),Un=Xr.overscaledZ-1;Un>=ae;--Un){var Wn=Xr.scaledTo(Un);if(qt[Wn.key]||(qt[Wn.key]=!0,Wr=this.getTile(Wn),!Wr&&Hn&&(Wr=this._addTile(Wn)),Wr&&(Lt[Wn.key]=Wn,Hn=Wr.wasRequested(),Wr.hasData())))break}}}return Lt},nt.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var $ in this._tiles){for(var ht=[],Lt=void 0,qt=this._tiles[$].tileID;qt.overscaledZ>0;){if(qt.key in this._loadedParentTiles){Lt=this._loadedParentTiles[qt.key];break}ht.push(qt.key);var ae=qt.scaledTo(qt.overscaledZ-1);if(Lt=this._getLoadedTile(ae),Lt)break;qt=ae}for(var be=0,Be=ht;be<Be.length;be+=1){var Ze=Be[be];this._loadedParentTiles[Ze]=Lt}}},nt.prototype._addTile=function($){var ht=this._tiles[$.key];if(ht)return ht;ht=this._cache.getAndRemove($),ht&&(this._setTileReloadTimer($.key,ht),ht.tileID=$,this._state.initializeTileState(ht,this.map?this.map.painter:null),this._cacheTimers[$.key]&&(clearTimeout(this._cacheTimers[$.key]),delete this._cacheTimers[$.key],this._setTileReloadTimer($.key,ht)));var Lt=!!ht;return Lt||(ht=new i.Tile($,this._source.tileSize*$.overscaleFactor()),this._loadTile(ht,this._tileLoaded.bind(this,ht,$.key,ht.state))),ht?(ht.uses++,this._tiles[$.key]=ht,Lt||this._source.fire(new i.Event("dataloading",{tile:ht,coord:ht.tileID,dataType:"source"})),ht):null},nt.prototype._setTileReloadTimer=function($,ht){var Lt=this;$ in this._timers&&(clearTimeout(this._timers[$]),delete this._timers[$]);var qt=ht.getExpiryTimeout();qt&&(this._timers[$]=setTimeout(function(){Lt._reloadTile($,"expired"),delete Lt._timers[$]},qt))},nt.prototype._removeTile=function($){var ht=this._tiles[$];ht&&(ht.uses--,delete this._tiles[$],this._timers[$]&&(clearTimeout(this._timers[$]),delete this._timers[$]),!(ht.uses>0)&&(ht.hasData()&&ht.state!=="reloading"?this._cache.add(ht.tileID,ht,ht.getExpiryTimeout()):(ht.aborted=!0,this._abortTile(ht),this._unloadTile(ht))))},nt.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var $ in this._tiles)this._removeTile($);this._cache.reset()},nt.prototype.tilesIn=function($,ht,Lt){var qt=this,ae=[],be=this.transform;if(!be)return ae;for(var Be=Lt?be.getCameraQueryGeometry($):$,Ze=$.map(function(Un){return be.pointCoordinate(Un)}),cr=Be.map(function(Un){return be.pointCoordinate(Un)}),ar=this.getIds(),xr=1/0,Dr=1/0,Qr=-1/0,Xr=-1/0,Wr=0,an=cr;Wr<an.length;Wr+=1){var yn=an[Wr];xr=Math.min(xr,yn.x),Dr=Math.min(Dr,yn.y),Qr=Math.max(Qr,yn.x),Xr=Math.max(Xr,yn.y)}for(var Xn=function(Un){var Wn=qt._tiles[ar[Un]];if(!Wn.holdingForFade()){var qn=Wn.tileID,$n=Math.pow(2,be.zoom-Wn.tileID.overscaledZ),ni=ht*Wn.queryPadding*i.EXTENT/Wn.tileSize/$n,xi=[qn.getTilePoint(new i.MercatorCoordinate(xr,Dr)),qn.getTilePoint(new i.MercatorCoordinate(Qr,Xr))];if(xi[0].x-ni<i.EXTENT&&xi[0].y-ni<i.EXTENT&&xi[1].x+ni>=0&&xi[1].y+ni>=0){var vi=Ze.map(function(qi){return qn.getTilePoint(qi)}),yi=cr.map(function(qi){return qn.getTilePoint(qi)});ae.push({tile:Wn,tileID:qn,queryGeometry:vi,cameraQueryGeometry:yi,scale:$n})}}},Hn=0;Hn<ar.length;Hn++)Xn(Hn);return ae},nt.prototype.getVisibleCoordinates=function($){for(var ht=this,Lt=this.getRenderableIds($).map(function(Be){return ht._tiles[Be].tileID}),qt=0,ae=Lt;qt<ae.length;qt+=1){var be=ae[qt];be.posMatrix=this.transform.calculatePosMatrix(be.toUnwrapped())}return Lt},nt.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ke(this._source.type))for(var $ in this._tiles){var ht=this._tiles[$];if(ht.fadeEndTime!==void 0&&ht.fadeEndTime>=i.browser.now())return!0}return!1},nt.prototype.setFeatureState=function($,ht,Lt){$=$||"_geojsonTileLayer",this._state.updateState($,ht,Lt)},nt.prototype.removeFeatureState=function($,ht,Lt){$=$||"_geojsonTileLayer",this._state.removeFeatureState($,ht,Lt)},nt.prototype.getFeatureState=function($,ht){return $=$||"_geojsonTileLayer",this._state.getState($,ht)},nt.prototype.setDependencies=function($,ht,Lt){var qt=this._tiles[$];qt&&qt.setDependencies(ht,Lt)},nt.prototype.reloadTilesForDependencies=function($,ht){for(var Lt in this._tiles){var qt=this._tiles[Lt];qt.hasDependency($,ht)&&this._reloadTile(Lt,"reloading")}this._cache.filter(function(ae){return!ae.hasDependency($,ht)})},nt}(i.Evented);Fe.maxOverzooming=10,Fe.maxUnderzooming=3;function Re(Y,nt){var $=Math.abs(Y.wrap*2)-+(Y.wrap<0),ht=Math.abs(nt.wrap*2)-+(nt.wrap<0);return Y.overscaledZ-nt.overscaledZ||ht-$||nt.canonical.y-Y.canonical.y||nt.canonical.x-Y.canonical.x}function Ke(Y){return Y==="raster"||Y==="image"||Y==="video"}function or(){return new i.window.Worker(lo.workerUrl)}var pr="mapboxgl_preloaded_worker_pool",hr=function(){this.active={}};hr.prototype.acquire=function(Y){if(!this.workers)for(this.workers=[];this.workers.length<hr.workerCount;)this.workers.push(new or);return this.active[Y]=!0,this.workers.slice()},hr.prototype.release=function(Y){delete this.active[Y],this.numActive()===0&&(this.workers.forEach(function(nt){nt.terminate()}),this.workers=null)},hr.prototype.isPreloaded=function(){return!!this.active[pr]},hr.prototype.numActive=function(){return Object.keys(this.active).length};var jt=Math.floor(i.browser.hardwareConcurrency/2);hr.workerCount=Math.max(Math.min(jt,6),1);var Gt;function Ce(){return Gt||(Gt=new hr),Gt}function Ie(){var Y=Ce();Y.acquire(pr)}function We(){var Y=Gt;Y&&(Y.isPreloaded()&&Y.numActive()===1?(Y.release(pr),Gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function $e(Y,nt){var $={};for(var ht in Y)ht!=="ref"&&($[ht]=Y[ht]);return i.refProperties.forEach(function(Lt){Lt in nt&&($[Lt]=nt[Lt])}),$}function ir(Y){Y=Y.slice();for(var nt=Object.create(null),$=0;$<Y.length;$++)nt[Y[$].id]=Y[$];for(var ht=0;ht<Y.length;ht++)"ref"in Y[ht]&&(Y[ht]=$e(Y[ht],nt[Y[ht].ref]));return Y}function er(){var Y={},nt=i.styleSpec.$version;for(var $ in i.styleSpec.$root){var ht=i.styleSpec.$root[$];if(ht.required){var Lt=null;$==="version"?Lt=nt:ht.type==="array"?Lt=[]:Lt={},Lt!=null&&(Y[$]=Lt)}}return Y}var De={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function lr(Y,nt,$){$.push({command:De.addSource,args:[Y,nt[Y]]})}function vr(Y,nt,$){nt.push({command:De.removeSource,args:[Y]}),$[Y]=!0}function dr(Y,nt,$,ht){vr(Y,$,ht),lr(Y,nt,$)}function fr(Y,nt,$){var ht;for(ht in Y[$])if(Y[$].hasOwnProperty(ht)&&ht!=="data"&&!i.deepEqual(Y[$][ht],nt[$][ht]))return!1;for(ht in nt[$])if(nt[$].hasOwnProperty(ht)&&ht!=="data"&&!i.deepEqual(Y[$][ht],nt[$][ht]))return!1;return!0}function zr(Y,nt,$,ht){Y=Y||{},nt=nt||{};var Lt;for(Lt in Y)Y.hasOwnProperty(Lt)&&(nt.hasOwnProperty(Lt)||vr(Lt,$,ht));for(Lt in nt)nt.hasOwnProperty(Lt)&&(Y.hasOwnProperty(Lt)?i.deepEqual(Y[Lt],nt[Lt])||(Y[Lt].type==="geojson"&&nt[Lt].type==="geojson"&&fr(Y,nt,Lt)?$.push({command:De.setGeoJSONSourceData,args:[Lt,nt[Lt].data]}):dr(Lt,nt,$,ht)):lr(Lt,nt,$))}function Or(Y,nt,$,ht,Lt,qt){Y=Y||{},nt=nt||{};var ae;for(ae in Y)Y.hasOwnProperty(ae)&&(i.deepEqual(Y[ae],nt[ae])||$.push({command:qt,args:[ht,ae,nt[ae],Lt]}));for(ae in nt)!nt.hasOwnProperty(ae)||Y.hasOwnProperty(ae)||i.deepEqual(Y[ae],nt[ae])||$.push({command:qt,args:[ht,ae,nt[ae],Lt]})}function Ir(Y){return Y.id}function sn(Y,nt){return Y[nt.id]=nt,Y}function nn(Y,nt,$){Y=Y||[],nt=nt||[];var ht=Y.map(Ir),Lt=nt.map(Ir),qt=Y.reduce(sn,{}),ae=nt.reduce(sn,{}),be=ht.slice(),Be=Object.create(null),Ze,cr,ar,xr,Dr,Qr,Xr;for(Ze=0,cr=0;Ze<ht.length;Ze++)ar=ht[Ze],ae.hasOwnProperty(ar)?cr++:($.push({command:De.removeLayer,args:[ar]}),be.splice(be.indexOf(ar,cr),1));for(Ze=0,cr=0;Ze<Lt.length;Ze++)ar=Lt[Lt.length-1-Ze],be[be.length-1-Ze]!==ar&&(qt.hasOwnProperty(ar)?($.push({command:De.removeLayer,args:[ar]}),be.splice(be.lastIndexOf(ar,be.length-cr),1)):cr++,Qr=be[be.length-Ze],$.push({command:De.addLayer,args:[ae[ar],Qr]}),be.splice(be.length-Ze,0,ar),Be[ar]=!0);for(Ze=0;Ze<Lt.length;Ze++)if(ar=Lt[Ze],xr=qt[ar],Dr=ae[ar],!(Be[ar]||i.deepEqual(xr,Dr))){if(!i.deepEqual(xr.source,Dr.source)||!i.deepEqual(xr["source-layer"],Dr["source-layer"])||!i.deepEqual(xr.type,Dr.type)){$.push({command:De.removeLayer,args:[ar]}),Qr=be[be.lastIndexOf(ar)+1],$.push({command:De.addLayer,args:[Dr,Qr]});continue}Or(xr.layout,Dr.layout,$,ar,null,De.setLayoutProperty),Or(xr.paint,Dr.paint,$,ar,null,De.setPaintProperty),i.deepEqual(xr.filter,Dr.filter)||$.push({command:De.setFilter,args:[ar,Dr.filter]}),(!i.deepEqual(xr.minzoom,Dr.minzoom)||!i.deepEqual(xr.maxzoom,Dr.maxzoom))&&$.push({command:De.setLayerZoomRange,args:[ar,Dr.minzoom,Dr.maxzoom]});for(Xr in xr)xr.hasOwnProperty(Xr)&&(Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Or(xr[Xr],Dr[Xr],$,ar,Xr.slice(6),De.setPaintProperty):i.deepEqual(xr[Xr],Dr[Xr])||$.push({command:De.setLayerProperty,args:[ar,Xr,Dr[Xr]]})));for(Xr in Dr)!Dr.hasOwnProperty(Xr)||xr.hasOwnProperty(Xr)||Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Or(xr[Xr],Dr[Xr],$,ar,Xr.slice(6),De.setPaintProperty):i.deepEqual(xr[Xr],Dr[Xr])||$.push({command:De.setLayerProperty,args:[ar,Xr,Dr[Xr]]}))}}function kn(Y,nt){if(!Y)return[{command:De.setStyle,args:[nt]}];var $=[];try{if(!i.deepEqual(Y.version,nt.version))return[{command:De.setStyle,args:[nt]}];i.deepEqual(Y.center,nt.center)||$.push({command:De.setCenter,args:[nt.center]}),i.deepEqual(Y.zoom,nt.zoom)||$.push({command:De.setZoom,args:[nt.zoom]}),i.deepEqual(Y.bearing,nt.bearing)||$.push({command:De.setBearing,args:[nt.bearing]}),i.deepEqual(Y.pitch,nt.pitch)||$.push({command:De.setPitch,args:[nt.pitch]}),i.deepEqual(Y.sprite,nt.sprite)||$.push({command:De.setSprite,args:[nt.sprite]}),i.deepEqual(Y.glyphs,nt.glyphs)||$.push({command:De.setGlyphs,args:[nt.glyphs]}),i.deepEqual(Y.transition,nt.transition)||$.push({command:De.setTransition,args:[nt.transition]}),i.deepEqual(Y.light,nt.light)||$.push({command:De.setLight,args:[nt.light]});var ht={},Lt=[];zr(Y.sources,nt.sources,Lt,ht);var qt=[];Y.layers&&Y.layers.forEach(function(ae){ht[ae.source]?$.push({command:De.removeLayer,args:[ae.id]}):qt.push(ae)}),$=$.concat(Lt),nn(qt,nt.layers,$)}catch(ae){console.warn("Unable to compute style diff:",ae),$=[{command:De.setStyle,args:[nt]}]}return $}var Mn=function(Y,nt){this.reset(Y,nt)};Mn.prototype.reset=function(Y,nt){this.points=Y||[],this._distances=[0];for(var $=1;$<this.points.length;$++)this._distances[$]=this._distances[$-1]+this.points[$].dist(this.points[$-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(nt||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Mn.prototype.lerp=function(Y){if(this.points.length===1)return this.points[0];Y=i.clamp(Y,0,1);for(var nt=1,$=this._distances[nt],ht=Y*this.paddedLength+this.padding;$<ht&&nt<this._distances.length;)$=this._distances[++nt];var Lt=nt-1,qt=this._distances[Lt],ae=$-qt,be=ae>0?(ht-qt)/ae:0;return this.points[Lt].mult(1-be).add(this.points[nt].mult(be))};var kr=function(Y,nt,$){var ht=this.boxCells=[],Lt=this.circleCells=[];this.xCellCount=Math.ceil(Y/$),this.yCellCount=Math.ceil(nt/$);for(var qt=0;qt<this.xCellCount*this.yCellCount;qt++)ht.push([]),Lt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Y,this.height=nt,this.xScale=this.xCellCount/Y,this.yScale=this.yCellCount/nt,this.boxUid=0,this.circleUid=0};kr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},kr.prototype.insert=function(Y,nt,$,ht,Lt){this._forEachCell(nt,$,ht,Lt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Y),this.bboxes.push(nt),this.bboxes.push($),this.bboxes.push(ht),this.bboxes.push(Lt)},kr.prototype.insertCircle=function(Y,nt,$,ht){this._forEachCell(nt-ht,$-ht,nt+ht,$+ht,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Y),this.circles.push(nt),this.circles.push($),this.circles.push(ht)},kr.prototype._insertBoxCell=function(Y,nt,$,ht,Lt,qt){this.boxCells[Lt].push(qt)},kr.prototype._insertCircleCell=function(Y,nt,$,ht,Lt,qt){this.circleCells[Lt].push(qt)},kr.prototype._query=function(Y,nt,$,ht,Lt,qt){if($<0||Y>this.width||ht<0||nt>this.height)return Lt?!1:[];var ae=[];if(Y<=0&&nt<=0&&this.width<=$&&this.height<=ht){if(Lt)return!0;for(var be=0;be<this.boxKeys.length;be++)ae.push({key:this.boxKeys[be],x1:this.bboxes[be*4],y1:this.bboxes[be*4+1],x2:this.bboxes[be*4+2],y2:this.bboxes[be*4+3]});for(var Be=0;Be<this.circleKeys.length;Be++){var Ze=this.circles[Be*3],cr=this.circles[Be*3+1],ar=this.circles[Be*3+2];ae.push({key:this.circleKeys[Be],x1:Ze-ar,y1:cr-ar,x2:Ze+ar,y2:cr+ar})}return qt?ae.filter(qt):ae}else{var xr={hitTest:Lt,seenUids:{box:{},circle:{}}};return this._forEachCell(Y,nt,$,ht,this._queryCell,ae,xr,qt),Lt?ae.length>0:ae}},kr.prototype._queryCircle=function(Y,nt,$,ht,Lt){var qt=Y-$,ae=Y+$,be=nt-$,Be=nt+$;if(ae<0||qt>this.width||Be<0||be>this.height)return ht?!1:[];var Ze=[],cr={hitTest:ht,circle:{x:Y,y:nt,radius:$},seenUids:{box:{},circle:{}}};return this._forEachCell(qt,be,ae,Be,this._queryCellCircle,Ze,cr,Lt),ht?Ze.length>0:Ze},kr.prototype.query=function(Y,nt,$,ht,Lt){return this._query(Y,nt,$,ht,!1,Lt)},kr.prototype.hitTest=function(Y,nt,$,ht,Lt){return this._query(Y,nt,$,ht,!0,Lt)},kr.prototype.hitTestCircle=function(Y,nt,$,ht){return this._queryCircle(Y,nt,$,!0,ht)},kr.prototype._queryCell=function(Y,nt,$,ht,Lt,qt,ae,be){var Be=ae.seenUids,Ze=this.boxCells[Lt];if(Ze!==null)for(var cr=this.bboxes,ar=0,xr=Ze;ar<xr.length;ar+=1){var Dr=xr[ar];if(!Be.box[Dr]){Be.box[Dr]=!0;var Qr=Dr*4;if(Y<=cr[Qr+2]&&nt<=cr[Qr+3]&&$>=cr[Qr+0]&&ht>=cr[Qr+1]&&(!be||be(this.boxKeys[Dr]))){if(ae.hitTest)return qt.push(!0),!0;qt.push({key:this.boxKeys[Dr],x1:cr[Qr],y1:cr[Qr+1],x2:cr[Qr+2],y2:cr[Qr+3]})}}}var Xr=this.circleCells[Lt];if(Xr!==null)for(var Wr=this.circles,an=0,yn=Xr;an<yn.length;an+=1){var Xn=yn[an];if(!Be.circle[Xn]){Be.circle[Xn]=!0;var Hn=Xn*3;if(this._circleAndRectCollide(Wr[Hn],Wr[Hn+1],Wr[Hn+2],Y,nt,$,ht)&&(!be||be(this.circleKeys[Xn]))){if(ae.hitTest)return qt.push(!0),!0;var Un=Wr[Hn],Wn=Wr[Hn+1],qn=Wr[Hn+2];qt.push({key:this.circleKeys[Xn],x1:Un-qn,y1:Wn-qn,x2:Un+qn,y2:Wn+qn})}}}},kr.prototype._queryCellCircle=function(Y,nt,$,ht,Lt,qt,ae,be){var Be=ae.circle,Ze=ae.seenUids,cr=this.boxCells[Lt];if(cr!==null)for(var ar=this.bboxes,xr=0,Dr=cr;xr<Dr.length;xr+=1){var Qr=Dr[xr];if(!Ze.box[Qr]){Ze.box[Qr]=!0;var Xr=Qr*4;if(this._circleAndRectCollide(Be.x,Be.y,Be.radius,ar[Xr+0],ar[Xr+1],ar[Xr+2],ar[Xr+3])&&(!be||be(this.boxKeys[Qr])))return qt.push(!0),!0}}var Wr=this.circleCells[Lt];if(Wr!==null)for(var an=this.circles,yn=0,Xn=Wr;yn<Xn.length;yn+=1){var Hn=Xn[yn];if(!Ze.circle[Hn]){Ze.circle[Hn]=!0;var Un=Hn*3;if(this._circlesCollide(an[Un],an[Un+1],an[Un+2],Be.x,Be.y,Be.radius)&&(!be||be(this.circleKeys[Hn])))return qt.push(!0),!0}}},kr.prototype._forEachCell=function(Y,nt,$,ht,Lt,qt,ae,be){for(var Be=this._convertToXCellCoord(Y),Ze=this._convertToYCellCoord(nt),cr=this._convertToXCellCoord($),ar=this._convertToYCellCoord(ht),xr=Be;xr<=cr;xr++)for(var Dr=Ze;Dr<=ar;Dr++){var Qr=this.xCellCount*Dr+xr;if(Lt.call(this,Y,nt,$,ht,Qr,qt,ae,be))return}},kr.prototype._convertToXCellCoord=function(Y){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Y*this.xScale)))},kr.prototype._convertToYCellCoord=function(Y){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Y*this.yScale)))},kr.prototype._circlesCollide=function(Y,nt,$,ht,Lt,qt){var ae=ht-Y,be=Lt-nt,Be=$+qt;return Be*Be>ae*ae+be*be},kr.prototype._circleAndRectCollide=function(Y,nt,$,ht,Lt,qt,ae){var be=(qt-ht)/2,Be=Math.abs(Y-(ht+be));if(Be>be+$)return!1;var Ze=(ae-Lt)/2,cr=Math.abs(nt-(Lt+Ze));if(cr>Ze+$)return!1;if(Be<=be||cr<=Ze)return!0;var ar=Be-be,xr=cr-Ze;return ar*ar+xr*xr<=$*$};function Er(Y,nt,$,ht,Lt){var qt=i.create();return nt?(i.scale(qt,qt,[1/Lt,1/Lt,1]),$||i.rotateZ(qt,qt,ht.angle)):i.multiply(qt,ht.labelPlaneMatrix,Y),qt}function Vr(Y,nt,$,ht,Lt){if(nt){var qt=i.clone(Y);return i.scale(qt,qt,[Lt,Lt,1]),$||i.rotateZ(qt,qt,-ht.angle),qt}else return ht.glCoordMatrix}function qr(Y,nt){var $=[Y.x,Y.y,0,1];yr($,$,nt);var ht=$[3];return{point:new i.Point($[0]/ht,$[1]/ht),signedDistanceFromCamera:ht}}function rn(Y,nt){return .5+.5*(Y/nt)}function gn(Y,nt){var $=Y[0]/Y[3],ht=Y[1]/Y[3],Lt=$>=-nt[0]&&$<=nt[0]&&ht>=-nt[1]&&ht<=nt[1];return Lt}function ln(Y,nt,$,ht,Lt,qt,ae,be){var Be=ht?Y.textSizeData:Y.iconSizeData,Ze=i.evaluateSizeForZoom(Be,$.transform.zoom),cr=[256/$.width*2+1,256/$.height*2+1],ar=ht?Y.text.dynamicLayoutVertexArray:Y.icon.dynamicLayoutVertexArray;ar.clear();for(var xr=Y.lineVertexArray,Dr=ht?Y.text.placedSymbolArray:Y.icon.placedSymbolArray,Qr=$.transform.width/$.transform.height,Xr=!1,Wr=0;Wr<Dr.length;Wr++){var an=Dr.get(Wr);if(an.hidden||an.writingMode===i.WritingMode.vertical&&!Xr){ri(an.numGlyphs,ar);continue}Xr=!1;var yn=[an.anchorX,an.anchorY,0,1];if(i.transformMat4(yn,yn,nt),!gn(yn,cr)){ri(an.numGlyphs,ar);continue}var Xn=yn[3],Hn=rn($.transform.cameraToCenterDistance,Xn),Un=i.evaluateSizeForFeature(Be,Ze,an),Wn=ae?Un/Hn:Un*Hn,qn=new i.Point(an.anchorX,an.anchorY),$n=qr(qn,Lt).point,ni={},xi=ai(an,Wn,!1,be,nt,Lt,qt,Y.glyphOffsetArray,xr,ar,$n,qn,ni,Qr);Xr=xi.useVertical,(xi.notEnoughRoom||Xr||xi.needsFlipping&&ai(an,Wn,!0,be,nt,Lt,qt,Y.glyphOffsetArray,xr,ar,$n,qn,ni,Qr).notEnoughRoom)&&ri(an.numGlyphs,ar)}ht?Y.text.dynamicLayoutVertexBuffer.updateData(ar):Y.icon.dynamicLayoutVertexBuffer.updateData(ar)}function zn(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr){var ar=be.glyphStartIndex+be.numGlyphs,xr=be.lineStartIndex,Dr=be.lineStartIndex+be.lineLength,Qr=nt.getoffsetX(be.glyphStartIndex),Xr=nt.getoffsetX(ar-1),Wr=mi(Y*Qr,$,ht,Lt,qt,ae,be.segment,xr,Dr,Be,Ze,cr);if(!Wr)return null;var an=mi(Y*Xr,$,ht,Lt,qt,ae,be.segment,xr,Dr,Be,Ze,cr);return an?{first:Wr,last:an}:null}function Rn(Y,nt,$,ht){if(Y===i.WritingMode.horizontal){var Lt=Math.abs($.y-nt.y),qt=Math.abs($.x-nt.x)*ht;if(Lt>qt)return{useVertical:!0}}return(Y===i.WritingMode.vertical?nt.y<$.y:nt.x>$.x)?{needsFlipping:!0}:null}function ai(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr,ar,xr,Dr){var Qr=nt/24,Xr=Y.lineOffsetX*Qr,Wr=Y.lineOffsetY*Qr,an;if(Y.numGlyphs>1){var yn=Y.glyphStartIndex+Y.numGlyphs,Xn=Y.lineStartIndex,Hn=Y.lineStartIndex+Y.lineLength,Un=zn(Qr,be,Xr,Wr,$,cr,ar,Y,Be,qt,xr);if(!Un)return{notEnoughRoom:!0};var Wn=qr(Un.first.point,ae).point,qn=qr(Un.last.point,ae).point;if(ht&&!$){var $n=Rn(Y.writingMode,Wn,qn,Dr);if($n)return $n}an=[Un.first];for(var ni=Y.glyphStartIndex+1;ni<yn-1;ni++)an.push(mi(Qr*be.getoffsetX(ni),Xr,Wr,$,cr,ar,Y.segment,Xn,Hn,Be,qt,xr));an.push(Un.last)}else{if(ht&&!$){var xi=qr(ar,Lt).point,vi=Y.lineStartIndex+Y.segment+1,yi=new i.Point(Be.getx(vi),Be.gety(vi)),qi=qr(yi,Lt),_a=qi.signedDistanceFromCamera>0?qi.point:fi(ar,yi,xi,1,Lt),Ei=Rn(Y.writingMode,xi,_a,Dr);if(Ei)return Ei}var Ri=mi(Qr*be.getoffsetX(Y.glyphStartIndex),Xr,Wr,$,cr,ar,Y.segment,Y.lineStartIndex,Y.lineStartIndex+Y.lineLength,Be,qt,xr);if(!Ri)return{notEnoughRoom:!0};an=[Ri]}for(var Xi=0,ia=an;Xi<ia.length;Xi+=1){var fa=ia[Xi];i.addDynamicAttributes(Ze,fa.point,fa.angle)}return{}}function fi(Y,nt,$,ht,Lt){var qt=qr(Y.add(Y.sub(nt)._unit()),Lt).point,ae=$.sub(qt);return $.add(ae._mult(ht/ae.mag()))}function mi(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr,ar){var xr=ht?Y-nt:Y+nt,Dr=xr>0?1:-1,Qr=0;ht&&(Dr*=-1,Qr=Math.PI),Dr<0&&(Qr+=Math.PI);for(var Xr=Dr>0?be+ae:be+ae+1,Wr=Lt,an=Lt,yn=0,Xn=0,Hn=Math.abs(xr),Un=[];yn+Xn<=Hn;){if(Xr+=Dr,Xr<be||Xr>=Be)return null;if(an=Wr,Un.push(Wr),Wr=ar[Xr],Wr===void 0){var Wn=new i.Point(Ze.getx(Xr),Ze.gety(Xr)),qn=qr(Wn,cr);if(qn.signedDistanceFromCamera>0)Wr=ar[Xr]=qn.point;else{var $n=Xr-Dr,ni=yn===0?qt:new i.Point(Ze.getx($n),Ze.gety($n));Wr=fi(ni,Wn,an,Hn-yn+1,cr)}}yn+=Xn,Xn=an.dist(Wr)}var xi=(Hn-yn)/Xn,vi=Wr.sub(an),yi=vi.mult(xi)._add(an);yi._add(vi._unit()._perp()._mult($*Dr));var qi=Qr+Math.atan2(Wr.y-an.y,Wr.x-an.x);return Un.push(yi),{point:yi,angle:qi,path:Un}}var li=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ri(Y,nt){for(var $=0;$<Y;$++){var ht=nt.length;nt.resize(ht+4),nt.float32.set(li,ht*3)}}function yr(Y,nt,$){var ht=nt[0],Lt=nt[1];return Y[0]=$[0]*ht+$[4]*Lt+$[12],Y[1]=$[1]*ht+$[5]*Lt+$[13],Y[3]=$[3]*ht+$[7]*Lt+$[15],Y}var en=100,Jr=function(Y,nt,$){nt===void 0&&(nt=new kr(Y.width+2*en,Y.height+2*en,25)),$===void 0&&($=new kr(Y.width+2*en,Y.height+2*en,25)),this.transform=Y,this.grid=nt,this.ignoredGrid=$,this.pitchfactor=Math.cos(Y._pitch)*Y.cameraToCenterDistance,this.screenRightBoundary=Y.width+en,this.screenBottomBoundary=Y.height+en,this.gridRightBoundary=Y.width+2*en,this.gridBottomBoundary=Y.height+2*en};Jr.prototype.placeCollisionBox=function(Y,nt,$,ht,Lt){var qt=this.projectAndGetPerspectiveRatio(ht,Y.anchorPointX,Y.anchorPointY),ae=$*qt.perspectiveRatio,be=Y.x1*ae+qt.point.x,Be=Y.y1*ae+qt.point.y,Ze=Y.x2*ae+qt.point.x,cr=Y.y2*ae+qt.point.y;return!this.isInsideGrid(be,Be,Ze,cr)||!nt&&this.grid.hitTest(be,Be,Ze,cr,Lt)?{box:[],offscreen:!1}:{box:[be,Be,Ze,cr],offscreen:this.isOffscreen(be,Be,Ze,cr)}},Jr.prototype.placeCollisionCircles=function(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr,ar,xr){var Dr=[],Qr=new i.Point(nt.anchorX,nt.anchorY),Xr=qr(Qr,qt),Wr=rn(this.transform.cameraToCenterDistance,Xr.signedDistanceFromCamera),an=Ze?Lt/Wr:Lt*Wr,yn=an/i.ONE_EM,Xn=qr(Qr,ae).point,Hn={},Un=nt.lineOffsetX*yn,Wn=nt.lineOffsetY*yn,qn=zn(yn,ht,Un,Wn,!1,Xn,Qr,nt,$,ae,Hn),$n=!1,ni=!1,xi=!0;if(qn){for(var vi=ar*.5*Wr+xr,yi=new i.Point(-en,-en),qi=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),_a=new Mn,Ei=qn.first,Ri=qn.last,Xi=[],ia=Ei.path.length-1;ia>=1;ia--)Xi.push(Ei.path[ia]);for(var fa=1;fa<Ri.path.length;fa++)Xi.push(Ri.path[fa]);var la=vi*2.5;if(be){var Yi=Xi.map(function(Hs){return qr(Hs,be)});Yi.some(function(Hs){return Hs.signedDistanceFromCamera<=0})?Xi=[]:Xi=Yi.map(function(Hs){return Hs.point})}var ya=[];if(Xi.length>0){for(var zi=Xi[0].clone(),Ki=Xi[0].clone(),Ha=1;Ha<Xi.length;Ha++)zi.x=Math.min(zi.x,Xi[Ha].x),zi.y=Math.min(zi.y,Xi[Ha].y),Ki.x=Math.max(Ki.x,Xi[Ha].x),Ki.y=Math.max(Ki.y,Xi[Ha].y);zi.x>=yi.x&&Ki.x<=qi.x&&zi.y>=yi.y&&Ki.y<=qi.y?ya=[Xi]:Ki.x<yi.x||zi.x>qi.x||Ki.y<yi.y||zi.y>qi.y?ya=[]:ya=i.clipLine([Xi],yi.x,yi.y,qi.x,qi.y)}for(var uo=0,Tl=ya;uo<Tl.length;uo+=1){var eu=Tl[uo];_a.reset(eu,vi*.25);var Bs=0;_a.length<=.5*vi?Bs=1:Bs=Math.ceil(_a.paddedLength/la)+1;for(var zu=0;zu<Bs;zu++){var cc=zu/Math.max(Bs-1,1),ls=_a.lerp(cc),Ns=ls.x+en,qo=ls.y+en;Dr.push(Ns,qo,vi,0);var fc=Ns-vi,zf=qo-vi,js=Ns+vi,al=qo+vi;if(xi=xi&&this.isOffscreen(fc,zf,js,al),ni=ni||this.isInsideGrid(fc,zf,js,al),!Y&&this.grid.hitTestCircle(Ns,qo,vi,cr)&&($n=!0,!Be))return{circles:[],offscreen:!1,collisionDetected:$n}}}}return{circles:!Be&&$n||!ni?[]:Dr,offscreen:xi,collisionDetected:$n}},Jr.prototype.queryRenderedSymbols=function(Y){if(Y.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var nt=[],$=1/0,ht=1/0,Lt=-1/0,qt=-1/0,ae=0,be=Y;ae<be.length;ae+=1){var Be=be[ae],Ze=new i.Point(Be.x+en,Be.y+en);$=Math.min($,Ze.x),ht=Math.min(ht,Ze.y),Lt=Math.max(Lt,Ze.x),qt=Math.max(qt,Ze.y),nt.push(Ze)}for(var cr=this.grid.query($,ht,Lt,qt).concat(this.ignoredGrid.query($,ht,Lt,qt)),ar={},xr={},Dr=0,Qr=cr;Dr<Qr.length;Dr+=1){var Xr=Qr[Dr],Wr=Xr.key;if(ar[Wr.bucketInstanceId]===void 0&&(ar[Wr.bucketInstanceId]={}),!ar[Wr.bucketInstanceId][Wr.featureIndex]){var an=[new i.Point(Xr.x1,Xr.y1),new i.Point(Xr.x2,Xr.y1),new i.Point(Xr.x2,Xr.y2),new i.Point(Xr.x1,Xr.y2)];i.polygonIntersectsPolygon(nt,an)&&(ar[Wr.bucketInstanceId][Wr.featureIndex]=!0,xr[Wr.bucketInstanceId]===void 0&&(xr[Wr.bucketInstanceId]=[]),xr[Wr.bucketInstanceId].push(Wr.featureIndex))}}return xr},Jr.prototype.insertCollisionBox=function(Y,nt,$,ht,Lt){var qt=nt?this.ignoredGrid:this.grid,ae={bucketInstanceId:$,featureIndex:ht,collisionGroupID:Lt};qt.insert(ae,Y[0],Y[1],Y[2],Y[3])},Jr.prototype.insertCollisionCircles=function(Y,nt,$,ht,Lt){for(var qt=nt?this.ignoredGrid:this.grid,ae={bucketInstanceId:$,featureIndex:ht,collisionGroupID:Lt},be=0;be<Y.length;be+=4)qt.insertCircle(ae,Y[be],Y[be+1],Y[be+2])},Jr.prototype.projectAndGetPerspectiveRatio=function(Y,nt,$){var ht=[nt,$,0,1];yr(ht,ht,Y);var Lt=new i.Point((ht[0]/ht[3]+1)/2*this.transform.width+en,(-ht[1]/ht[3]+1)/2*this.transform.height+en);return{point:Lt,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ht[3])}},Jr.prototype.isOffscreen=function(Y,nt,$,ht){return $<en||Y>=this.screenRightBoundary||ht<en||nt>this.screenBottomBoundary},Jr.prototype.isInsideGrid=function(Y,nt,$,ht){return $>=0&&Y<this.gridRightBoundary&&ht>=0&&nt<this.gridBottomBoundary},Jr.prototype.getViewportMatrix=function(){var Y=i.identity([]);return i.translate(Y,Y,[-en,-en,0]),Y};function vn(Y,nt,$){return nt*(i.EXTENT/(Y.tileSize*Math.pow(2,$-Y.tileID.overscaledZ)))}var Vn=function(Y,nt,$,ht){Y?this.opacity=Math.max(0,Math.min(1,Y.opacity+(Y.placed?nt:-nt))):this.opacity=ht&&$?1:0,this.placed=$};Vn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var bn=function(Y,nt,$,ht,Lt){this.text=new Vn(Y?Y.text:null,nt,$,Lt),this.icon=new Vn(Y?Y.icon:null,nt,ht,Lt)};bn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var In=function(Y,nt,$){this.text=Y,this.icon=nt,this.skipFade=$},Bn=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},Kn=function(Y,nt,$,ht,Lt){this.bucketInstanceId=Y,this.featureIndex=nt,this.sourceLayerIndex=$,this.bucketIndex=ht,this.tileID=Lt},pi=function(Y){this.crossSourceCollisions=Y,this.maxGroupID=0,this.collisionGroups={}};pi.prototype.get=function(Y){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Y]){var nt=++this.maxGroupID;this.collisionGroups[Y]={ID:nt,predicate:function($){return $.collisionGroupID===nt}}}return this.collisionGroups[Y]};function Ni(Y,nt,$,ht,Lt){var qt=i.getAnchorAlignment(Y),ae=qt.horizontalAlign,be=qt.verticalAlign,Be=-(ae-.5)*nt,Ze=-(be-.5)*$,cr=i.evaluateVariableOffset(Y,ht);return new i.Point(Be+cr[0]*Lt,Ze+cr[1]*Lt)}function Tr(Y,nt,$,ht,Lt,qt){var ae=Y.x1,be=Y.x2,Be=Y.y1,Ze=Y.y2,cr=Y.anchorPointX,ar=Y.anchorPointY,xr=new i.Point(nt,$);return ht&&xr._rotate(Lt?qt:-qt),{x1:ae+xr.x,y1:Be+xr.y,x2:be+xr.x,y2:Ze+xr.y,anchorPointX:cr,anchorPointY:ar}}var Rr=function(Y,nt,$,ht){this.transform=Y.clone(),this.collisionIndex=new Jr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=nt,this.retainedQueryData={},this.collisionGroups=new pi($),this.collisionCircleArrays={},this.prevPlacement=ht,ht&&(ht.prevPlacement=void 0),this.placedOrientations={}};Rr.prototype.getBucketParts=function(Y,nt,$,ht){var Lt=$.getBucket(nt),qt=$.latestFeatureIndex;if(!(!Lt||!qt||nt.id!==Lt.layerIds[0])){var ae=$.collisionBoxArray,be=Lt.layers[0].layout,Be=Math.pow(2,this.transform.zoom-$.tileID.overscaledZ),Ze=$.tileSize/i.EXTENT,cr=this.transform.calculatePosMatrix($.tileID.toUnwrapped()),ar=be.get("text-pitch-alignment")==="map",xr=be.get("text-rotation-alignment")==="map",Dr=vn($,1,this.transform.zoom),Qr=Er(cr,ar,xr,this.transform,Dr),Xr=null;if(ar){var Wr=Vr(cr,ar,xr,this.transform,Dr);Xr=i.multiply([],this.transform.labelPlaneMatrix,Wr)}this.retainedQueryData[Lt.bucketInstanceId]=new Kn(Lt.bucketInstanceId,qt,Lt.sourceLayerIndex,Lt.index,$.tileID);var an={bucket:Lt,layout:be,posMatrix:cr,textLabelPlaneMatrix:Qr,labelToScreenMatrix:Xr,scale:Be,textPixelRatio:Ze,holdingForFade:$.holdingForFade(),collisionBoxArray:ae,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(Lt.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Lt.sourceID)};if(ht)for(var yn=0,Xn=Lt.sortKeyRanges;yn<Xn.length;yn+=1){var Hn=Xn[yn],Un=Hn.sortKey,Wn=Hn.symbolInstanceStart,qn=Hn.symbolInstanceEnd;Y.push({sortKey:Un,symbolInstanceStart:Wn,symbolInstanceEnd:qn,parameters:an})}else Y.push({symbolInstanceStart:0,symbolInstanceEnd:Lt.symbolInstances.length,parameters:an})}},Rr.prototype.attemptAnchorPlacement=function(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr,ar,xr,Dr,Qr){var Xr=[ar.textOffset0,ar.textOffset1],Wr=Ni(Y,$,ht,Xr,Lt),an=this.collisionIndex.placeCollisionBox(Tr(nt,Wr.x,Wr.y,qt,ae,this.transform.angle),cr,be,Be,Ze.predicate);if(Qr){var yn=this.collisionIndex.placeCollisionBox(Tr(Qr,Wr.x,Wr.y,qt,ae,this.transform.angle),cr,be,Be,Ze.predicate);if(yn.box.length===0)return}if(an.box.length>0){var Xn;return this.prevPlacement&&this.prevPlacement.variableOffsets[ar.crossTileID]&&this.prevPlacement.placements[ar.crossTileID]&&this.prevPlacement.placements[ar.crossTileID].text&&(Xn=this.prevPlacement.variableOffsets[ar.crossTileID].anchor),this.variableOffsets[ar.crossTileID]={textOffset:Xr,width:$,height:ht,anchor:Y,textBoxScale:Lt,prevAnchor:Xn},this.markUsedJustification(xr,Y,ar,Dr),xr.allowVerticalPlacement&&(this.markUsedOrientation(xr,Dr,ar),this.placedOrientations[ar.crossTileID]=Dr),{shift:Wr,placedGlyphBoxes:an}}},Rr.prototype.placeLayerBucketPart=function(Y,nt,$){var ht=this,Lt=Y.parameters,qt=Lt.bucket,ae=Lt.layout,be=Lt.posMatrix,Be=Lt.textLabelPlaneMatrix,Ze=Lt.labelToScreenMatrix,cr=Lt.textPixelRatio,ar=Lt.holdingForFade,xr=Lt.collisionBoxArray,Dr=Lt.partiallyEvaluatedTextSize,Qr=Lt.collisionGroup,Xr=ae.get("text-optional"),Wr=ae.get("icon-optional"),an=ae.get("text-allow-overlap"),yn=ae.get("icon-allow-overlap"),Xn=ae.get("text-rotation-alignment")==="map",Hn=ae.get("text-pitch-alignment")==="map",Un=ae.get("icon-text-fit")!=="none",Wn=ae.get("symbol-z-order")==="viewport-y",qn=an&&(yn||!qt.hasIconData()||Wr),$n=yn&&(an||!qt.hasTextData()||Xr);!qt.collisionArrays&&xr&&qt.deserializeCollisionBoxes(xr);var ni=function(Ei,Ri){if(!nt[Ei.crossTileID]){if(ar){ht.placements[Ei.crossTileID]=new In(!1,!1,!1);return}var Xi=!1,ia=!1,fa=!0,la=null,Yi={box:null,offscreen:null},ya={box:null,offscreen:null},zi=null,Ki=null,Ha=null,uo=0,Tl=0,eu=0;Ri.textFeatureIndex?uo=Ri.textFeatureIndex:Ei.useRuntimeCollisionCircles&&(uo=Ei.featureIndex),Ri.verticalTextFeatureIndex&&(Tl=Ri.verticalTextFeatureIndex);var Bs=Ri.textBox;if(Bs){var zu=function(Va){var ws=i.WritingMode.horizontal;if(qt.allowVerticalPlacement&&!Va&&ht.prevPlacement){var ks=ht.prevPlacement.placedOrientations[Ei.crossTileID];ks&&(ht.placedOrientations[Ei.crossTileID]=ks,ws=ks,ht.markUsedOrientation(qt,ws,Ei))}return ws},cc=function(Va,ws){if(qt.allowVerticalPlacement&&Ei.numVerticalGlyphVertices>0&&Ri.verticalTextBox)for(var ks=0,kp=qt.writingModes;ks<kp.length;ks+=1){var zd=kp[ks];if(zd===i.WritingMode.vertical?(Yi=ws(),ya=Yi):Yi=Va(),Yi&&Yi.box&&Yi.box.length)break}else Yi=Va()};if(ae.get("text-variable-anchor")){var ls=ae.get("text-variable-anchor");if(ht.prevPlacement&&ht.prevPlacement.variableOffsets[Ei.crossTileID]){var Ns=ht.prevPlacement.variableOffsets[Ei.crossTileID];ls.indexOf(Ns.anchor)>0&&(ls=ls.filter(function(Va){return Va!==Ns.anchor}),ls.unshift(Ns.anchor))}var qo=function(Va,ws,ks){for(var kp=Va.x2-Va.x1,zd=Va.y2-Va.y1,fy=Ei.textBoxScale,hy=Un&&!yn?ws:null,Hh={box:[],offscreen:!1},py=an?ls.length*2:ls.length,Tp=0;Tp<py;++Tp){var dy=ls[Tp%ls.length],vy=Tp>=ls.length,Rd=ht.attemptAnchorPlacement(dy,Va,kp,zd,fy,Xn,Hn,cr,be,Qr,vy,Ei,qt,ks,hy);if(Rd&&(Hh=Rd.placedGlyphBoxes,Hh&&Hh.box&&Hh.box.length)){Xi=!0,la=Rd.shift;break}}return Hh},fc=function(){return qo(Bs,Ri.iconBox,i.WritingMode.horizontal)},zf=function(){var Va=Ri.verticalTextBox,ws=Yi&&Yi.box&&Yi.box.length;return qt.allowVerticalPlacement&&!ws&&Ei.numVerticalGlyphVertices>0&&Va?qo(Va,Ri.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};cc(fc,zf),Yi&&(Xi=Yi.box,fa=Yi.offscreen);var js=zu(Yi&&Yi.box);if(!Xi&&ht.prevPlacement){var al=ht.prevPlacement.variableOffsets[Ei.crossTileID];al&&(ht.variableOffsets[Ei.crossTileID]=al,ht.markUsedJustification(qt,al.anchor,Ei,js))}}else{var Hs=function(Va,ws){var ks=ht.collisionIndex.placeCollisionBox(Va,an,cr,be,Qr.predicate);return ks&&ks.box&&ks.box.length&&(ht.markUsedOrientation(qt,ws,Ei),ht.placedOrientations[Ei.crossTileID]=ws),ks},Fh=function(){return Hs(Bs,i.WritingMode.horizontal)},xp=function(){var Va=Ri.verticalTextBox;return qt.allowVerticalPlacement&&Ei.numVerticalGlyphVertices>0&&Va?Hs(Va,i.WritingMode.vertical):{box:null,offscreen:null}};cc(Fh,xp),zu(Yi&&Yi.box&&Yi.box.length)}}if(zi=Yi,Xi=zi&&zi.box&&zi.box.length>0,fa=zi&&zi.offscreen,Ei.useRuntimeCollisionCircles){var Bh=qt.text.placedSymbolArray.get(Ei.centerJustifiedTextSymbolIndex),Oo=i.evaluateSizeForFeature(qt.textSizeData,Dr,Bh),bp=ae.get("text-padding"),Nh=Ei.collisionCircleDiameter;Ki=ht.collisionIndex.placeCollisionCircles(an,Bh,qt.lineVertexArray,qt.glyphOffsetArray,Oo,be,Be,Ze,$,Hn,Qr.predicate,Nh,bp),Xi=an||Ki.circles.length>0&&!Ki.collisionDetected,fa=fa&&Ki.offscreen}if(Ri.iconFeatureIndex&&(eu=Ri.iconFeatureIndex),Ri.iconBox){var Ho=function(Va){var ws=Un&&la?Tr(Va,la.x,la.y,Xn,Hn,ht.transform.angle):Va;return ht.collisionIndex.placeCollisionBox(ws,yn,cr,be,Qr.predicate)};ya&&ya.box&&ya.box.length&&Ri.verticalIconBox?(Ha=Ho(Ri.verticalIconBox),ia=Ha.box.length>0):(Ha=Ho(Ri.iconBox),ia=Ha.box.length>0),fa=fa&&Ha.offscreen}var Rf=Xr||Ei.numHorizontalGlyphVertices===0&&Ei.numVerticalGlyphVertices===0,_p=Wr||Ei.numIconVertices===0;if(!Rf&&!_p?ia=Xi=ia&&Xi:_p?Rf||(ia=ia&&Xi):Xi=ia&&Xi,Xi&&zi&&zi.box&&(ya&&ya.box&&Tl?ht.collisionIndex.insertCollisionBox(zi.box,ae.get("text-ignore-placement"),qt.bucketInstanceId,Tl,Qr.ID):ht.collisionIndex.insertCollisionBox(zi.box,ae.get("text-ignore-placement"),qt.bucketInstanceId,uo,Qr.ID)),ia&&Ha&&ht.collisionIndex.insertCollisionBox(Ha.box,ae.get("icon-ignore-placement"),qt.bucketInstanceId,eu,Qr.ID),Ki&&(Xi&&ht.collisionIndex.insertCollisionCircles(Ki.circles,ae.get("text-ignore-placement"),qt.bucketInstanceId,uo,Qr.ID),$)){var wp=qt.bucketInstanceId,hc=ht.collisionCircleArrays[wp];hc===void 0&&(hc=ht.collisionCircleArrays[wp]=new Bn);for(var jh=0;jh<Ki.circles.length;jh+=4)hc.circles.push(Ki.circles[jh+0]),hc.circles.push(Ki.circles[jh+1]),hc.circles.push(Ki.circles[jh+2]),hc.circles.push(Ki.collisionDetected?1:0)}ht.placements[Ei.crossTileID]=new In(Xi||qn,ia||$n,fa||qt.justReloaded),nt[Ei.crossTileID]=!0}};if(Wn)for(var xi=qt.getSortedSymbolIndexes(this.transform.angle),vi=xi.length-1;vi>=0;--vi){var yi=xi[vi];ni(qt.symbolInstances.get(yi),qt.collisionArrays[yi])}else for(var qi=Y.symbolInstanceStart;qi<Y.symbolInstanceEnd;qi++)ni(qt.symbolInstances.get(qi),qt.collisionArrays[qi]);if($&&qt.bucketInstanceId in this.collisionCircleArrays){var _a=this.collisionCircleArrays[qt.bucketInstanceId];i.invert(_a.invProjMatrix,be),_a.viewportMatrix=this.collisionIndex.getViewportMatrix()}qt.justReloaded=!1},Rr.prototype.markUsedJustification=function(Y,nt,$,ht){var Lt={left:$.leftJustifiedTextSymbolIndex,center:$.centerJustifiedTextSymbolIndex,right:$.rightJustifiedTextSymbolIndex},qt;ht===i.WritingMode.vertical?qt=$.verticalPlacedTextSymbolIndex:qt=Lt[i.getAnchorJustification(nt)];for(var ae=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex,$.verticalPlacedTextSymbolIndex],be=0,Be=ae;be<Be.length;be+=1){var Ze=Be[be];Ze>=0&&(qt>=0&&Ze!==qt?Y.text.placedSymbolArray.get(Ze).crossTileID=0:Y.text.placedSymbolArray.get(Ze).crossTileID=$.crossTileID)}},Rr.prototype.markUsedOrientation=function(Y,nt,$){for(var ht=nt===i.WritingMode.horizontal||nt===i.WritingMode.horizontalOnly?nt:0,Lt=nt===i.WritingMode.vertical?nt:0,qt=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex],ae=0,be=qt;ae<be.length;ae+=1){var Be=be[ae];Y.text.placedSymbolArray.get(Be).placedOrientation=ht}$.verticalPlacedTextSymbolIndex&&(Y.text.placedSymbolArray.get($.verticalPlacedTextSymbolIndex).placedOrientation=Lt)},Rr.prototype.commit=function(Y){this.commitTime=Y,this.zoomAtLastRecencyCheck=this.transform.zoom;var nt=this.prevPlacement,$=!1;this.prevZoomAdjustment=nt?nt.zoomAdjustment(this.transform.zoom):0;var ht=nt?nt.symbolFadeChange(Y):1,Lt=nt?nt.opacities:{},qt=nt?nt.variableOffsets:{},ae=nt?nt.placedOrientations:{};for(var be in this.placements){var Be=this.placements[be],Ze=Lt[be];Ze?(this.opacities[be]=new bn(Ze,ht,Be.text,Be.icon),$=$||Be.text!==Ze.text.placed||Be.icon!==Ze.icon.placed):(this.opacities[be]=new bn(null,ht,Be.text,Be.icon,Be.skipFade),$=$||Be.text||Be.icon)}for(var cr in Lt){var ar=Lt[cr];if(!this.opacities[cr]){var xr=new bn(ar,ht,!1,!1);xr.isHidden()||(this.opacities[cr]=xr,$=$||ar.text.placed||ar.icon.placed)}}for(var Dr in qt)!this.variableOffsets[Dr]&&this.opacities[Dr]&&!this.opacities[Dr].isHidden()&&(this.variableOffsets[Dr]=qt[Dr]);for(var Qr in ae)!this.placedOrientations[Qr]&&this.opacities[Qr]&&!this.opacities[Qr].isHidden()&&(this.placedOrientations[Qr]=ae[Qr]);$?this.lastPlacementChangeTime=Y:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=nt?nt.lastPlacementChangeTime:Y)},Rr.prototype.updateLayerOpacities=function(Y,nt){for(var $={},ht=0,Lt=nt;ht<Lt.length;ht+=1){var qt=Lt[ht],ae=qt.getBucket(Y);ae&&qt.latestFeatureIndex&&Y.id===ae.layerIds[0]&&this.updateBucketOpacities(ae,$,qt.collisionBoxArray)}},Rr.prototype.updateBucketOpacities=function(Y,nt,$){var ht=this;Y.hasTextData()&&Y.text.opacityVertexArray.clear(),Y.hasIconData()&&Y.icon.opacityVertexArray.clear(),Y.hasIconCollisionBoxData()&&Y.iconCollisionBox.collisionVertexArray.clear(),Y.hasTextCollisionBoxData()&&Y.textCollisionBox.collisionVertexArray.clear();var Lt=Y.layers[0].layout,qt=new bn(null,0,!1,!1,!0),ae=Lt.get("text-allow-overlap"),be=Lt.get("icon-allow-overlap"),Be=Lt.get("text-variable-anchor"),Ze=Lt.get("text-rotation-alignment")==="map",cr=Lt.get("text-pitch-alignment")==="map",ar=Lt.get("icon-text-fit")!=="none",xr=new bn(null,0,ae&&(be||!Y.hasIconData()||Lt.get("icon-optional")),be&&(ae||!Y.hasTextData()||Lt.get("text-optional")),!0);!Y.collisionArrays&&$&&(Y.hasIconCollisionBoxData()||Y.hasTextCollisionBoxData())&&Y.deserializeCollisionBoxes($);for(var Dr=function(an,yn,Xn){for(var Hn=0;Hn<yn/4;Hn++)an.opacityVertexArray.emplaceBack(Xn)},Qr=function(an){var yn=Y.symbolInstances.get(an),Xn=yn.numHorizontalGlyphVertices,Hn=yn.numVerticalGlyphVertices,Un=yn.crossTileID,Wn=nt[Un],qn=ht.opacities[Un];Wn?qn=qt:qn||(qn=xr,ht.opacities[Un]=qn),nt[Un]=!0;var $n=Xn>0||Hn>0,ni=yn.numIconVertices>0,xi=ht.placedOrientations[yn.crossTileID],vi=xi===i.WritingMode.vertical,yi=xi===i.WritingMode.horizontal||xi===i.WritingMode.horizontalOnly;if($n){var qi=Nr(qn.text),_a=vi?Kr:qi;Dr(Y.text,Xn,_a);var Ei=yi?Kr:qi;Dr(Y.text,Hn,Ei);var Ri=qn.text.isHidden();[yn.rightJustifiedTextSymbolIndex,yn.centerJustifiedTextSymbolIndex,yn.leftJustifiedTextSymbolIndex].forEach(function(eu){eu>=0&&(Y.text.placedSymbolArray.get(eu).hidden=Ri||vi?1:0)}),yn.verticalPlacedTextSymbolIndex>=0&&(Y.text.placedSymbolArray.get(yn.verticalPlacedTextSymbolIndex).hidden=Ri||yi?1:0);var Xi=ht.variableOffsets[yn.crossTileID];Xi&&ht.markUsedJustification(Y,Xi.anchor,yn,xi);var ia=ht.placedOrientations[yn.crossTileID];ia&&(ht.markUsedJustification(Y,"left",yn,ia),ht.markUsedOrientation(Y,ia,yn))}if(ni){var fa=Nr(qn.icon),la=!(ar&&yn.verticalPlacedIconSymbolIndex&&vi);if(yn.placedIconSymbolIndex>=0){var Yi=la?fa:Kr;Dr(Y.icon,yn.numIconVertices,Yi),Y.icon.placedSymbolArray.get(yn.placedIconSymbolIndex).hidden=qn.icon.isHidden()}if(yn.verticalPlacedIconSymbolIndex>=0){var ya=la?Kr:fa;Dr(Y.icon,yn.numVerticalIconVertices,ya),Y.icon.placedSymbolArray.get(yn.verticalPlacedIconSymbolIndex).hidden=qn.icon.isHidden()}}if(Y.hasIconCollisionBoxData()||Y.hasTextCollisionBoxData()){var zi=Y.collisionArrays[an];if(zi){var Ki=new i.Point(0,0);if(zi.textBox||zi.verticalTextBox){var Ha=!0;if(Be){var uo=ht.variableOffsets[Un];uo?(Ki=Ni(uo.anchor,uo.width,uo.height,uo.textOffset,uo.textBoxScale),Ze&&Ki._rotate(cr?ht.transform.angle:-ht.transform.angle)):Ha=!1}zi.textBox&&br(Y.textCollisionBox.collisionVertexArray,qn.text.placed,!Ha||vi,Ki.x,Ki.y),zi.verticalTextBox&&br(Y.textCollisionBox.collisionVertexArray,qn.text.placed,!Ha||yi,Ki.x,Ki.y)}var Tl=!!(!yi&&zi.verticalIconBox);zi.iconBox&&br(Y.iconCollisionBox.collisionVertexArray,qn.icon.placed,Tl,ar?Ki.x:0,ar?Ki.y:0),zi.verticalIconBox&&br(Y.iconCollisionBox.collisionVertexArray,qn.icon.placed,!Tl,ar?Ki.x:0,ar?Ki.y:0)}}},Xr=0;Xr<Y.symbolInstances.length;Xr++)Qr(Xr);if(Y.sortFeatures(this.transform.angle),this.retainedQueryData[Y.bucketInstanceId]&&(this.retainedQueryData[Y.bucketInstanceId].featureSortOrder=Y.featureSortOrder),Y.hasTextData()&&Y.text.opacityVertexBuffer&&Y.text.opacityVertexBuffer.updateData(Y.text.opacityVertexArray),Y.hasIconData()&&Y.icon.opacityVertexBuffer&&Y.icon.opacityVertexBuffer.updateData(Y.icon.opacityVertexArray),Y.hasIconCollisionBoxData()&&Y.iconCollisionBox.collisionVertexBuffer&&Y.iconCollisionBox.collisionVertexBuffer.updateData(Y.iconCollisionBox.collisionVertexArray),Y.hasTextCollisionBoxData()&&Y.textCollisionBox.collisionVertexBuffer&&Y.textCollisionBox.collisionVertexBuffer.updateData(Y.textCollisionBox.collisionVertexArray),Y.bucketInstanceId in this.collisionCircleArrays){var Wr=this.collisionCircleArrays[Y.bucketInstanceId];Y.placementInvProjMatrix=Wr.invProjMatrix,Y.placementViewportMatrix=Wr.viewportMatrix,Y.collisionCircleArray=Wr.circles,delete this.collisionCircleArrays[Y.bucketInstanceId]}},Rr.prototype.symbolFadeChange=function(Y){return this.fadeDuration===0?1:(Y-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Rr.prototype.zoomAdjustment=function(Y){return Math.max(0,(this.transform.zoom-Y)/1.5)},Rr.prototype.hasTransitions=function(Y){return this.stale||Y-this.lastPlacementChangeTime<this.fadeDuration},Rr.prototype.stillRecent=function(Y,nt){var $=this.zoomAtLastRecencyCheck===nt?1-this.zoomAdjustment(nt):1;return this.zoomAtLastRecencyCheck=nt,this.commitTime+this.fadeDuration*$>Y},Rr.prototype.setStale=function(){this.stale=!0};function br(Y,nt,$,ht,Lt){Y.emplaceBack(nt?1:0,$?1:0,ht||0,Lt||0),Y.emplaceBack(nt?1:0,$?1:0,ht||0,Lt||0),Y.emplaceBack(nt?1:0,$?1:0,ht||0,Lt||0),Y.emplaceBack(nt?1:0,$?1:0,ht||0,Lt||0)}var Br=Math.pow(2,25),_n=Math.pow(2,24),Pn=Math.pow(2,17),pn=Math.pow(2,16),fn=Math.pow(2,9),Mr=Math.pow(2,8),Gr=Math.pow(2,1);function Nr(Y){if(Y.opacity===0&&!Y.placed)return 0;if(Y.opacity===1&&Y.placed)return 4294967295;var nt=Y.placed?1:0,$=Math.floor(Y.opacity*127);return $*Br+nt*_n+$*Pn+nt*pn+$*fn+nt*Mr+$*Gr+nt}var Kr=0,Tn=function(Y){this._sortAcrossTiles=Y.layout.get("symbol-z-order")!=="viewport-y"&&Y.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Tn.prototype.continuePlacement=function(Y,nt,$,ht,Lt){for(var qt=this._bucketParts;this._currentTileIndex<Y.length;){var ae=Y[this._currentTileIndex];if(nt.getBucketParts(qt,ht,ae,this._sortAcrossTiles),this._currentTileIndex++,Lt())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,qt.sort(function(Be,Ze){return Be.sortKey-Ze.sortKey}));this._currentPartIndex<qt.length;){var be=qt[this._currentPartIndex];if(nt.placeLayerBucketPart(be,this._seenCrossTileIDs,$),this._currentPartIndex++,Lt())return!0}return!1};var An=function(Y,nt,$,ht,Lt,qt,ae){this.placement=new Rr(Y,Lt,qt,ae),this._currentPlacementIndex=nt.length-1,this._forceFullPlacement=$,this._showCollisionBoxes=ht,this._done=!1};An.prototype.isDone=function(){return this._done},An.prototype.continuePlacement=function(Y,nt,$){for(var ht=this,Lt=i.browser.now(),qt=function(){var cr=i.browser.now()-Lt;return ht._forceFullPlacement?!1:cr>2};this._currentPlacementIndex>=0;){var ae=Y[this._currentPlacementIndex],be=nt[ae],Be=this.placement.collisionIndex.transform.zoom;if(be.type==="symbol"&&(!be.minzoom||be.minzoom<=Be)&&(!be.maxzoom||be.maxzoom>Be)){this._inProgressLayer||(this._inProgressLayer=new Tn(be));var Ze=this._inProgressLayer.continuePlacement($[be.source],this.placement,this._showCollisionBoxes,be,qt);if(Ze)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},An.prototype.commit=function(Y){return this.placement.commit(Y),this.placement};var En=512/i.EXTENT/2,Nn=function(Y,nt,$){this.tileID=Y,this.indexedSymbolInstances={},this.bucketInstanceId=$;for(var ht=0;ht<nt.length;ht++){var Lt=nt.get(ht),qt=Lt.key;this.indexedSymbolInstances[qt]||(this.indexedSymbolInstances[qt]=[]),this.indexedSymbolInstances[qt].push({crossTileID:Lt.crossTileID,coord:this.getScaledCoordinates(Lt,Y)})}};Nn.prototype.getScaledCoordinates=function(Y,nt){var $=nt.canonical.z-this.tileID.canonical.z,ht=En/Math.pow(2,$);return{x:Math.floor((nt.canonical.x*i.EXTENT+Y.anchorX)*ht),y:Math.floor((nt.canonical.y*i.EXTENT+Y.anchorY)*ht)}},Nn.prototype.findMatches=function(Y,nt,$){for(var ht=this.tileID.canonical.z<nt.canonical.z?1:Math.pow(2,this.tileID.canonical.z-nt.canonical.z),Lt=0;Lt<Y.length;Lt++){var qt=Y.get(Lt);if(!qt.crossTileID){var ae=this.indexedSymbolInstances[qt.key];if(ae)for(var be=this.getScaledCoordinates(qt,nt),Be=0,Ze=ae;Be<Ze.length;Be+=1){var cr=Ze[Be];if(Math.abs(cr.coord.x-be.x)<=ht&&Math.abs(cr.coord.y-be.y)<=ht&&!$[cr.crossTileID]){$[cr.crossTileID]=!0,qt.crossTileID=cr.crossTileID;break}}}}};var Dn=function(){this.maxCrossTileID=0};Dn.prototype.generate=function(){return++this.maxCrossTileID};var di=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};di.prototype.handleWrapJump=function(Y){var nt=Math.round((Y-this.lng)/360);if(nt!==0)for(var $ in this.indexes){var ht=this.indexes[$],Lt={};for(var qt in ht){var ae=ht[qt];ae.tileID=ae.tileID.unwrapTo(ae.tileID.wrap+nt),Lt[ae.tileID.key]=ae}this.indexes[$]=Lt}this.lng=Y},di.prototype.addBucket=function(Y,nt,$){if(this.indexes[Y.overscaledZ]&&this.indexes[Y.overscaledZ][Y.key]){if(this.indexes[Y.overscaledZ][Y.key].bucketInstanceId===nt.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Y.overscaledZ,this.indexes[Y.overscaledZ][Y.key])}for(var ht=0;ht<nt.symbolInstances.length;ht++){var Lt=nt.symbolInstances.get(ht);Lt.crossTileID=0}this.usedCrossTileIDs[Y.overscaledZ]||(this.usedCrossTileIDs[Y.overscaledZ]={});var qt=this.usedCrossTileIDs[Y.overscaledZ];for(var ae in this.indexes){var be=this.indexes[ae];if(Number(ae)>Y.overscaledZ)for(var Be in be){var Ze=be[Be];Ze.tileID.isChildOf(Y)&&Ze.findMatches(nt.symbolInstances,Y,qt)}else{var cr=Y.scaledTo(Number(ae)),ar=be[cr.key];ar&&ar.findMatches(nt.symbolInstances,Y,qt)}}for(var xr=0;xr<nt.symbolInstances.length;xr++){var Dr=nt.symbolInstances.get(xr);Dr.crossTileID||(Dr.crossTileID=$.generate(),qt[Dr.crossTileID]=!0)}return this.indexes[Y.overscaledZ]===void 0&&(this.indexes[Y.overscaledZ]={}),this.indexes[Y.overscaledZ][Y.key]=new Nn(Y,nt.symbolInstances,nt.bucketInstanceId),!0},di.prototype.removeBucketCrossTileIDs=function(Y,nt){for(var $ in nt.indexedSymbolInstances)for(var ht=0,Lt=nt.indexedSymbolInstances[$];ht<Lt.length;ht+=1){var qt=Lt[ht];delete this.usedCrossTileIDs[Y][qt.crossTileID]}},di.prototype.removeStaleBuckets=function(Y){var nt=!1;for(var $ in this.indexes){var ht=this.indexes[$];for(var Lt in ht)Y[ht[Lt].bucketInstanceId]||(this.removeBucketCrossTileIDs($,ht[Lt]),delete ht[Lt],nt=!0)}return nt};var oi=function(){this.layerIndexes={},this.crossTileIDs=new Dn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};oi.prototype.addLayer=function(Y,nt,$){var ht=this.layerIndexes[Y.id];ht===void 0&&(ht=this.layerIndexes[Y.id]=new di);var Lt=!1,qt={};ht.handleWrapJump($);for(var ae=0,be=nt;ae<be.length;ae+=1){var Be=be[ae],Ze=Be.getBucket(Y);!Ze||Y.id!==Ze.layerIds[0]||(Ze.bucketInstanceId||(Ze.bucketInstanceId=++this.maxBucketInstanceId),ht.addBucket(Be.tileID,Ze,this.crossTileIDs)&&(Lt=!0),qt[Ze.bucketInstanceId]=!0)}return ht.removeStaleBuckets(qt)&&(Lt=!0),Lt},oi.prototype.pruneUnusedLayers=function(Y){var nt={};Y.forEach(function(ht){nt[ht]=!0});for(var $ in this.layerIndexes)nt[$]||delete this.layerIndexes[$]};var hi=function(Y,nt){return i.emitValidationErrors(Y,nt&&nt.filter(function($){return $.identifier!=="source.canvas"}))},Ci=i.pick(De,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),pa=i.pick(De,["setCenter","setZoom","setBearing","setPitch"]),ea=er(),Fo=function(Y){function nt($,ht){var Lt=this;ht===void 0&&(ht={}),Y.call(this),this.map=$,this.dispatcher=new O(Ce(),this),this.imageManager=new k,this.imageManager.setEventedParent(this),this.glyphManager=new P($._requestManager,ht.localIdeographFontFamily),this.lineAtlas=new R(256,512),this.crossTileSymbolIndex=new oi,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var qt=this;this._rtlTextPluginCallback=nt.registerForPluginStateChange(function(ae){var be={pluginStatus:ae.pluginStatus,pluginURL:ae.pluginURL};qt.dispatcher.broadcast("syncRTLPluginState",be,function(Be,Ze){if(i.triggerPluginCompletionEvent(Be),Ze){var cr=Ze.every(function(xr){return xr});if(cr)for(var ar in qt.sourceCaches)qt.sourceCaches[ar].reload()}})}),this.on("data",function(ae){if(!(ae.dataType!=="source"||ae.sourceDataType!=="metadata")){var be=Lt.sourceCaches[ae.sourceId];if(be){var Be=be.getSource();if(!(!Be||!Be.vectorLayerIds))for(var Ze in Lt._layers){var cr=Lt._layers[Ze];cr.source===Be.id&&Lt._validateLayer(cr)}}}})}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.loadURL=function($,ht){var Lt=this;ht===void 0&&(ht={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var qt=typeof ht.validate=="boolean"?ht.validate:!i.isMapboxURL($);$=this.map._requestManager.normalizeStyleURL($,ht.accessToken);var ae=this.map._requestManager.transformRequest($,i.ResourceType.Style);this._request=i.getJSON(ae,function(be,Be){Lt._request=null,be?Lt.fire(new i.ErrorEvent(be)):Be&&Lt._load(Be,qt)})},nt.prototype.loadJSON=function($,ht){var Lt=this;ht===void 0&&(ht={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){Lt._request=null,Lt._load($,ht.validate!==!1)})},nt.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(ea,!1)},nt.prototype._load=function($,ht){if(!(ht&&hi(this,i.validateStyle($)))){this._loaded=!0,this.stylesheet=$;for(var Lt in $.sources)this.addSource(Lt,$.sources[Lt],{validate:!1});$.sprite?this._loadSprite($.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL($.glyphs);var qt=ir(this.stylesheet.layers);this._order=qt.map(function(Ze){return Ze.id}),this._layers={},this._serializedLayers={};for(var ae=0,be=qt;ae<be.length;ae+=1){var Be=be[ae];Be=i.createStyleLayer(Be),Be.setEventedParent(this,{layer:{id:Be.id}}),this._layers[Be.id]=Be,this._serializedLayers[Be.id]=Be.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new A(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},nt.prototype._loadSprite=function($){var ht=this;this._spriteRequest=h($,this.map._requestManager,function(Lt,qt){if(ht._spriteRequest=null,Lt)ht.fire(new i.ErrorEvent(Lt));else if(qt)for(var ae in qt)ht.imageManager.addImage(ae,qt[ae]);ht.imageManager.setLoaded(!0),ht._availableImages=ht.imageManager.listImages(),ht.dispatcher.broadcast("setImages",ht._availableImages),ht.fire(new i.Event("data",{dataType:"style"}))})},nt.prototype._validateLayer=function($){var ht=this.sourceCaches[$.source];if(ht){var Lt=$.sourceLayer;if(Lt){var qt=ht.getSource();(qt.type==="geojson"||qt.vectorLayerIds&&qt.vectorLayerIds.indexOf(Lt)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+Lt+'" does not exist on source "'+qt.id+'" as specified by style layer "'+$.id+'"')))}}},nt.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var $ in this.sourceCaches)if(!this.sourceCaches[$].loaded())return!1;return!!this.imageManager.isLoaded()},nt.prototype._serializeLayers=function($){for(var ht=[],Lt=0,qt=$;Lt<qt.length;Lt+=1){var ae=qt[Lt],be=this._layers[ae];be.type!=="custom"&&ht.push(be.serialize())}return ht},nt.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var $ in this.sourceCaches)if(this.sourceCaches[$].hasTransition())return!0;for(var ht in this._layers)if(this._layers[ht].hasTransition())return!0;return!1},nt.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},nt.prototype.update=function($){if(this._loaded){var ht=this._changed;if(this._changed){var Lt=Object.keys(this._updatedLayers),qt=Object.keys(this._removedLayers);(Lt.length||qt.length)&&this._updateWorkerLayers(Lt,qt);for(var ae in this._updatedSources){var be=this._updatedSources[ae];be==="reload"?this._reloadSource(ae):be==="clear"&&this._clearSource(ae)}this._updateTilesForChangedImages();for(var Be in this._updatedPaintProps)this._layers[Be].updateTransitions($);this.light.updateTransitions($),this._resetUpdates()}var Ze={};for(var cr in this.sourceCaches){var ar=this.sourceCaches[cr];Ze[cr]=ar.used,ar.used=!1}for(var xr=0,Dr=this._order;xr<Dr.length;xr+=1){var Qr=Dr[xr],Xr=this._layers[Qr];Xr.recalculate($,this._availableImages),!Xr.isHidden($.zoom)&&Xr.source&&(this.sourceCaches[Xr.source].used=!0)}for(var Wr in Ze){var an=this.sourceCaches[Wr];Ze[Wr]!==an.used&&an.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Wr}))}this.light.recalculate($),this.z=$.zoom,ht&&this.fire(new i.Event("data",{dataType:"style"}))}},nt.prototype._updateTilesForChangedImages=function(){var $=Object.keys(this._changedImages);if($.length){for(var ht in this.sourceCaches)this.sourceCaches[ht].reloadTilesForDependencies(["icons","patterns"],$);this._changedImages={}}},nt.prototype._updateWorkerLayers=function($,ht){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers($),removedIds:ht})},nt.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},nt.prototype.setState=function($){var ht=this;if(this._checkLoaded(),hi(this,i.validateStyle($)))return!1;$=i.clone$1($),$.layers=ir($.layers);var Lt=kn(this.serialize(),$).filter(function(ae){return!(ae.command in pa)});if(Lt.length===0)return!1;var qt=Lt.filter(function(ae){return!(ae.command in Ci)});if(qt.length>0)throw new Error("Unimplemented: "+qt.map(function(ae){return ae.command}).join(", ")+".");return Lt.forEach(function(ae){ae.command!=="setTransition"&&ht[ae.command].apply(ht,ae.args)}),this.stylesheet=$,!0},nt.prototype.addImage=function($,ht){if(this.getImage($))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage($,ht),this._afterImageUpdated($)},nt.prototype.updateImage=function($,ht){this.imageManager.updateImage($,ht)},nt.prototype.getImage=function($){return this.imageManager.getImage($)},nt.prototype.removeImage=function($){if(!this.getImage($))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage($),this._afterImageUpdated($)},nt.prototype._afterImageUpdated=function($){this._availableImages=this.imageManager.listImages(),this._changedImages[$]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},nt.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},nt.prototype.addSource=function($,ht,Lt){var qt=this;if(Lt===void 0&&(Lt={}),this._checkLoaded(),this.sourceCaches[$]!==void 0)throw new Error("There is already a source with this ID");if(!ht.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ht).join(", ")+".");var ae=["vector","raster","geojson","video","image"],be=ae.indexOf(ht.type)>=0;if(!(be&&this._validate(i.validateStyle.source,"sources."+$,ht,null,Lt))){this.map&&this.map._collectResourceTiming&&(ht.collectResourceTiming=!0);var Be=this.sourceCaches[$]=new Fe($,ht,this.dispatcher);Be.style=this,Be.setEventedParent(this,function(){return{isSourceLoaded:qt.loaded(),source:Be.serialize(),sourceId:$}}),Be.onAdd(this.map),this._changed=!0}},nt.prototype.removeSource=function($){if(this._checkLoaded(),this.sourceCaches[$]===void 0)throw new Error("There is no source with this ID");for(var ht in this._layers)if(this._layers[ht].source===$)return this.fire(new i.ErrorEvent(new Error('Source "'+$+'" cannot be removed while layer "'+ht+'" is using it.')));var Lt=this.sourceCaches[$];delete this.sourceCaches[$],delete this._updatedSources[$],Lt.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:$})),Lt.setEventedParent(null),Lt.clearTiles(),Lt.onRemove&&Lt.onRemove(this.map),this._changed=!0},nt.prototype.setGeoJSONSourceData=function($,ht){this._checkLoaded();var Lt=this.sourceCaches[$].getSource();Lt.setData(ht),this._changed=!0},nt.prototype.getSource=function($){return this.sourceCaches[$]&&this.sourceCaches[$].getSource()},nt.prototype.addLayer=function($,ht,Lt){Lt===void 0&&(Lt={}),this._checkLoaded();var qt=$.id;if(this.getLayer(qt)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+qt+'" already exists on this map')));return}var ae;if($.type==="custom"){if(hi(this,i.validateCustomStyleLayer($)))return;ae=i.createStyleLayer($)}else{if(typeof $.source=="object"&&(this.addSource(qt,$.source),$=i.clone$1($),$=i.extend($,{source:qt})),this._validate(i.validateStyle.layer,"layers."+qt,$,{arrayIndex:-1},Lt))return;ae=i.createStyleLayer($),this._validateLayer(ae),ae.setEventedParent(this,{layer:{id:qt}}),this._serializedLayers[ae.id]=ae.serialize()}var be=ht?this._order.indexOf(ht):this._order.length;if(ht&&be===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ht+'" does not exist on this map.')));return}if(this._order.splice(be,0,qt),this._layerOrderChanged=!0,this._layers[qt]=ae,this._removedLayers[qt]&&ae.source&&ae.type!=="custom"){var Be=this._removedLayers[qt];delete this._removedLayers[qt],Be.type!==ae.type?this._updatedSources[ae.source]="clear":(this._updatedSources[ae.source]="reload",this.sourceCaches[ae.source].pause())}this._updateLayer(ae),ae.onAdd&&ae.onAdd(this.map)},nt.prototype.moveLayer=function($,ht){this._checkLoaded(),this._changed=!0;var Lt=this._layers[$];if(!Lt){this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be moved.")));return}if($!==ht){var qt=this._order.indexOf($);this._order.splice(qt,1);var ae=ht?this._order.indexOf(ht):this._order.length;if(ht&&ae===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ht+'" does not exist on this map.')));return}this._order.splice(ae,0,$),this._layerOrderChanged=!0}},nt.prototype.removeLayer=function($){this._checkLoaded();var ht=this._layers[$];if(!ht){this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be removed.")));return}ht.setEventedParent(null);var Lt=this._order.indexOf($);this._order.splice(Lt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[$]=ht,delete this._layers[$],delete this._serializedLayers[$],delete this._updatedLayers[$],delete this._updatedPaintProps[$],ht.onRemove&&ht.onRemove(this.map)},nt.prototype.getLayer=function($){return this._layers[$]},nt.prototype.hasLayer=function($){return $ in this._layers},nt.prototype.setLayerZoomRange=function($,ht,Lt){this._checkLoaded();var qt=this.getLayer($);if(!qt){this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot have zoom extent.")));return}qt.minzoom===ht&&qt.maxzoom===Lt||(ht!=null&&(qt.minzoom=ht),Lt!=null&&(qt.maxzoom=Lt),this._updateLayer(qt))},nt.prototype.setFilter=function($,ht,Lt){Lt===void 0&&(Lt={}),this._checkLoaded();var qt=this.getLayer($);if(!qt){this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(qt.filter,ht)){if(ht==null){qt.filter=void 0,this._updateLayer(qt);return}this._validate(i.validateStyle.filter,"layers."+qt.id+".filter",ht,null,Lt)||(qt.filter=i.clone$1(ht),this._updateLayer(qt))}},nt.prototype.getFilter=function($){return i.clone$1(this.getLayer($).filter)},nt.prototype.setLayoutProperty=function($,ht,Lt,qt){qt===void 0&&(qt={}),this._checkLoaded();var ae=this.getLayer($);if(!ae){this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(ae.getLayoutProperty(ht),Lt)||(ae.setLayoutProperty(ht,Lt,qt),this._updateLayer(ae))},nt.prototype.getLayoutProperty=function($,ht){var Lt=this.getLayer($);if(!Lt){this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style.")));return}return Lt.getLayoutProperty(ht)},nt.prototype.setPaintProperty=function($,ht,Lt,qt){qt===void 0&&(qt={}),this._checkLoaded();var ae=this.getLayer($);if(!ae){this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(ae.getPaintProperty(ht),Lt)){var be=ae.setPaintProperty(ht,Lt,qt);be&&this._updateLayer(ae),this._changed=!0,this._updatedPaintProps[$]=!0}},nt.prototype.getPaintProperty=function($,ht){return this.getLayer($).getPaintProperty(ht)},nt.prototype.setFeatureState=function($,ht){this._checkLoaded();var Lt=$.source,qt=$.sourceLayer,ae=this.sourceCaches[Lt];if(ae===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Lt+"' does not exist in the map's style.")));return}var be=ae.getSource().type;if(be==="geojson"&&qt){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(be==="vector"&&!qt){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}$.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),ae.setFeatureState(qt,$.id,ht)},nt.prototype.removeFeatureState=function($,ht){this._checkLoaded();var Lt=$.source,qt=this.sourceCaches[Lt];if(qt===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Lt+"' does not exist in the map's style.")));return}var ae=qt.getSource().type,be=ae==="vector"?$.sourceLayer:void 0;if(ae==="vector"&&!be){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ht&&typeof $.id!="string"&&typeof $.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}qt.removeFeatureState(be,$.id,ht)},nt.prototype.getFeatureState=function($){this._checkLoaded();var ht=$.source,Lt=$.sourceLayer,qt=this.sourceCaches[ht];if(qt===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ht+"' does not exist in the map's style.")));return}var ae=qt.getSource().type;if(ae==="vector"&&!Lt){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return $.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),qt.getFeatureState(Lt,$.id)},nt.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},nt.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function($){return $.serialize()}),layers:this._serializeLayers(this._order)},function($){return $!==void 0})},nt.prototype._updateLayer=function($){this._updatedLayers[$.id]=!0,$.source&&!this._updatedSources[$.source]&&this.sourceCaches[$.source].getSource().type!=="raster"&&(this._updatedSources[$.source]="reload",this.sourceCaches[$.source].pause()),this._changed=!0},nt.prototype._flattenAndSortRenderedFeatures=function($){for(var ht=this,Lt=function(yi){return ht._layers[yi].type==="fill-extrusion"},qt={},ae=[],be=this._order.length-1;be>=0;be--){var Be=this._order[be];if(Lt(Be)){qt[Be]=be;for(var Ze=0,cr=$;Ze<cr.length;Ze+=1){var ar=cr[Ze],xr=ar[Be];if(xr)for(var Dr=0,Qr=xr;Dr<Qr.length;Dr+=1){var Xr=Qr[Dr];ae.push(Xr)}}}}ae.sort(function(yi,qi){return qi.intersectionZ-yi.intersectionZ});for(var Wr=[],an=this._order.length-1;an>=0;an--){var yn=this._order[an];if(Lt(yn))for(var Xn=ae.length-1;Xn>=0;Xn--){var Hn=ae[Xn].feature;if(qt[Hn.layer.id]<an)break;Wr.push(Hn),ae.pop()}else for(var Un=0,Wn=$;Un<Wn.length;Un+=1){var qn=Wn[Un],$n=qn[yn];if($n)for(var ni=0,xi=$n;ni<xi.length;ni+=1){var vi=xi[ni];Wr.push(vi.feature)}}}return Wr},nt.prototype.queryRenderedFeatures=function($,ht,Lt){ht&&ht.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",ht.filter,null,ht);var qt={};if(ht&&ht.layers){if(!Array.isArray(ht.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ae=0,be=ht.layers;ae<be.length;ae+=1){var Be=be[ae],Ze=this._layers[Be];if(!Ze)return this.fire(new i.ErrorEvent(new Error("The layer '"+Be+"' does not exist in the map's style and cannot be queried for features."))),[];qt[Ze.source]=!0}}var cr=[];ht.availableImages=this._availableImages;for(var ar in this.sourceCaches)ht.layers&&!qt[ar]||cr.push(Q(this.sourceCaches[ar],this._layers,this._serializedLayers,$,ht,Lt));return this.placement&&cr.push(G(this._layers,this._serializedLayers,this.sourceCaches,$,ht,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(cr)},nt.prototype.querySourceFeatures=function($,ht){ht&&ht.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",ht.filter,null,ht);var Lt=this.sourceCaches[$];return Lt?ut(Lt,ht):[]},nt.prototype.addSourceType=function($,ht,Lt){if(nt.getSourceType($))return Lt(new Error('A source type called "'+$+'" already exists.'));if(nt.setSourceType($,ht),!ht.workerSourceURL)return Lt(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:$,url:ht.workerSourceURL},Lt)},nt.prototype.getLight=function(){return this.light.getLight()},nt.prototype.setLight=function($,ht){ht===void 0&&(ht={}),this._checkLoaded();var Lt=this.light.getLight(),qt=!1;for(var ae in $)if(!i.deepEqual($[ae],Lt[ae])){qt=!0;break}if(qt){var be={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight($,ht),this.light.updateTransitions(be)}},nt.prototype._validate=function($,ht,Lt,qt,ae){return ae===void 0&&(ae={}),ae&&ae.validate===!1?!1:hi(this,$.call(i.validateStyle,i.extend({key:ht,style:this.serialize(),value:Lt,styleSpec:i.styleSpec},qt)))},nt.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var $ in this._layers){var ht=this._layers[$];ht.setEventedParent(null)}for(var Lt in this.sourceCaches)this.sourceCaches[Lt].clearTiles(),this.sourceCaches[Lt].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},nt.prototype._clearSource=function($){this.sourceCaches[$].clearTiles()},nt.prototype._reloadSource=function($){this.sourceCaches[$].resume(),this.sourceCaches[$].reload()},nt.prototype._updateSources=function($){for(var ht in this.sourceCaches)this.sourceCaches[ht].update($)},nt.prototype._generateCollisionBoxes=function(){for(var $ in this.sourceCaches)this._reloadSource($)},nt.prototype._updatePlacement=function($,ht,Lt,qt,ae){ae===void 0&&(ae=!1);for(var be=!1,Be=!1,Ze={},cr=0,ar=this._order;cr<ar.length;cr+=1){var xr=ar[cr],Dr=this._layers[xr];if(Dr.type==="symbol"){if(!Ze[Dr.source]){var Qr=this.sourceCaches[Dr.source];Ze[Dr.source]=Qr.getRenderableIds(!0).map(function(Un){return Qr.getTileByID(Un)}).sort(function(Un,Wn){return Wn.tileID.overscaledZ-Un.tileID.overscaledZ||(Un.tileID.isLessThan(Wn.tileID)?-1:1)})}var Xr=this.crossTileSymbolIndex.addLayer(Dr,Ze[Dr.source],$.center.lng);be=be||Xr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ae=ae||this._layerOrderChanged||Lt===0,(ae||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),$.zoom))&&(this.pauseablePlacement=new An($,this._order,ae,ht,Lt,qt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Ze),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Be=!0),be&&this.pauseablePlacement.placement.setStale()),Be||be)for(var Wr=0,an=this._order;Wr<an.length;Wr+=1){var yn=an[Wr],Xn=this._layers[yn];Xn.type==="symbol"&&this.placement.updateLayerOpacities(Xn,Ze[Xn.source])}var Hn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return Hn},nt.prototype._releaseSymbolFadeTiles=function(){for(var $ in this.sourceCaches)this.sourceCaches[$].releaseSymbolFadeTiles()},nt.prototype.getImages=function($,ht,Lt){this.imageManager.getImages(ht.icons,Lt),this._updateTilesForChangedImages();var qt=this.sourceCaches[ht.source];qt&&qt.setDependencies(ht.tileID.key,ht.type,ht.icons)},nt.prototype.getGlyphs=function($,ht,Lt){this.glyphManager.getGlyphs(ht.stacks,Lt)},nt.prototype.getResource=function($,ht,Lt){return i.makeRequest(ht,Lt)},nt}(i.Evented);Fo.getSourceType=it,Fo.setSourceType=Z,Fo.registerForPluginStateChange=i.registerForPluginStateChange;var Eo=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),no=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Rl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,_c=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sf="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",$i=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",wc=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ja=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,wo="void main() {gl_FragColor=vec4(1.0);}",Dl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",qu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,za=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Fl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Ba="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",qa="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Bl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",io="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",ao="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Bo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",lf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Lo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gh=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,gs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qa=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,kc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ys=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ys=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,uf=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Wu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,xh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Mc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_h="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",wh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,ff=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,dl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Nl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,du=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hf=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ps=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Gu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,df=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,ts=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,vl=da(no,Rl),vu=da(_c,sf),Ks=da($i,hu),ms=da(wc,Ja),Ac=da(wo,Dl),Hl=da(qu,za),es=da(Fl,Ba),Pa=da(qa,Bl),Sc=da(io,ao),Th=da(Bo,lf),Yu=da(Lo,gh),Vl=da(gs,Qa),Xl=da(kc,Ys),Po=da(ys,Tc),Ku=da(uf,yh),Ul=da(Wu,mh),Ju=da(xh,bh),Mh=da(Mc,_h),vf=da(wh,cf),Ec=da(ff,dl),Lc=da(Nl,pu),Pc=da(du,hf),ql=da(Ps,kh),Qu=da(Gu,pf),gu=da(df,Zu),$u=da(ts,jl);function da(Y,nt){var $=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ht=nt.match(/attribute ([\w]+) ([\w]+)/g),Lt=Y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),qt=nt.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ae=qt?qt.concat(Lt):Lt,be={};return Y=Y.replace($,function(Be,Ze,cr,ar,xr){return be[xr]=!0,Ze==="define"?`
#ifndef HAS_UNIFORM_u_`+xr+`
varying `+cr+" "+ar+" "+xr+`;
#else
uniform `+cr+" "+ar+" u_"+xr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+xr+`
    `+cr+" "+ar+" "+xr+" = u_"+xr+`;
#endif
`}),nt=nt.replace($,function(Be,Ze,cr,ar,xr){var Dr=ar==="float"?"vec2":"vec4",Qr=xr.match(/color/)?"color":Dr;return be[xr]?Ze==="define"?`
#ifndef HAS_UNIFORM_u_`+xr+`
uniform lowp float u_`+xr+`_t;
attribute `+cr+" "+Dr+" a_"+xr+`;
varying `+cr+" "+ar+" "+xr+`;
#else
uniform `+cr+" "+ar+" u_"+xr+`;
#endif
`:Qr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+xr+`
    `+xr+" = a_"+xr+`;
#else
    `+cr+" "+ar+" "+xr+" = u_"+xr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+xr+`
    `+xr+" = unpack_mix_"+Qr+"(a_"+xr+", u_"+xr+`_t);
#else
    `+cr+" "+ar+" "+xr+" = u_"+xr+`;
#endif
`:Ze==="define"?`
#ifndef HAS_UNIFORM_u_`+xr+`
uniform lowp float u_`+xr+`_t;
attribute `+cr+" "+Dr+" a_"+xr+`;
#else
uniform `+cr+" "+ar+" u_"+xr+`;
#endif
`:Qr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+xr+`
    `+cr+" "+ar+" "+xr+" = a_"+xr+`;
#else
    `+cr+" "+ar+" "+xr+" = u_"+xr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+xr+`
    `+cr+" "+ar+" "+xr+" = unpack_mix_"+Qr+"(a_"+xr+", u_"+xr+`_t);
#else
    `+cr+" "+ar+" "+xr+" = u_"+xr+`;
#endif
`}),{fragmentSource:Y,vertexSource:nt,staticAttributes:ht,staticUniforms:ae}}var gf=Object.freeze({__proto__:null,prelude:vl,background:vu,backgroundPattern:Ks,circle:ms,clippingMask:Ac,heatmap:Hl,heatmapTexture:es,collisionBox:Pa,collisionCircle:Sc,debug:Th,fill:Yu,fillOutline:Vl,fillOutlinePattern:Xl,fillPattern:Po,fillExtrusion:Ku,fillExtrusionPattern:Ul,hillshadePrepare:Ju,hillshade:Mh,line:vf,lineGradient:Ec,linePattern:Lc,lineSDF:Pc,raster:ql,symbolIcon:Qu,symbolSDF:gu,symbolTextAndIcon:$u}),rs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};rs.prototype.bind=function(Y,nt,$,ht,Lt,qt,ae,be){this.context=Y;for(var Be=this.boundPaintVertexBuffers.length!==ht.length,Ze=0;!Be&&Ze<ht.length;Ze++)this.boundPaintVertexBuffers[Ze]!==ht[Ze]&&(Be=!0);var cr=!this.vao||this.boundProgram!==nt||this.boundLayoutVertexBuffer!==$||Be||this.boundIndexBuffer!==Lt||this.boundVertexOffset!==qt||this.boundDynamicVertexBuffer!==ae||this.boundDynamicVertexBuffer2!==be;!Y.extVertexArrayObject||cr?this.freshBind(nt,$,ht,Lt,qt,ae,be):(Y.bindVertexArrayOES.set(this.vao),ae&&ae.bind(),Lt&&Lt.dynamicDraw&&Lt.bind(),be&&be.bind())},rs.prototype.freshBind=function(Y,nt,$,ht,Lt,qt,ae){var be,Be=Y.numAttributes,Ze=this.context,cr=Ze.gl;if(Ze.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Ze.extVertexArrayObject.createVertexArrayOES(),Ze.bindVertexArrayOES.set(this.vao),be=0,this.boundProgram=Y,this.boundLayoutVertexBuffer=nt,this.boundPaintVertexBuffers=$,this.boundIndexBuffer=ht,this.boundVertexOffset=Lt,this.boundDynamicVertexBuffer=qt,this.boundDynamicVertexBuffer2=ae;else{be=Ze.currentNumAttributes||0;for(var ar=Be;ar<be;ar++)cr.disableVertexAttribArray(ar)}nt.enableAttributes(cr,Y);for(var xr=0,Dr=$;xr<Dr.length;xr+=1){var Qr=Dr[xr];Qr.enableAttributes(cr,Y)}qt&&qt.enableAttributes(cr,Y),ae&&ae.enableAttributes(cr,Y),nt.bind(),nt.setVertexAttribPointers(cr,Y,Lt);for(var Xr=0,Wr=$;Xr<Wr.length;Xr+=1){var an=Wr[Xr];an.bind(),an.setVertexAttribPointers(cr,Y,Lt)}qt&&(qt.bind(),qt.setVertexAttribPointers(cr,Y,Lt)),ht&&ht.bind(),ae&&(ae.bind(),ae.setVertexAttribPointers(cr,Y,Lt)),Ze.currentNumAttributes=Be},rs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function yf(Y){for(var nt=[],$=0;$<Y.length;$++)if(Y[$]!==null){var ht=Y[$].split(" ");nt.push(ht.pop())}return nt}var Cc=function(Y,nt,$,ht,Lt,qt){var ae=Y.gl;this.program=ae.createProgram();for(var be=yf($.staticAttributes),Be=ht?ht.getBinderAttributes():[],Ze=be.concat(Be),cr=$.staticUniforms?yf($.staticUniforms):[],ar=ht?ht.getBinderUniforms():[],xr=cr.concat(ar),Dr=[],Qr=0,Xr=xr;Qr<Xr.length;Qr+=1){var Wr=Xr[Qr];Dr.indexOf(Wr)<0&&Dr.push(Wr)}var an=ht?ht.defines():[];qt&&an.push("#define OVERDRAW_INSPECTOR;");var yn=an.concat(vl.fragmentSource,$.fragmentSource).join(`
`),Xn=an.concat(vl.vertexSource,$.vertexSource).join(`
`),Hn=ae.createShader(ae.FRAGMENT_SHADER);if(ae.isContextLost()){this.failedToCreate=!0;return}ae.shaderSource(Hn,yn),ae.compileShader(Hn),ae.attachShader(this.program,Hn);var Un=ae.createShader(ae.VERTEX_SHADER);if(ae.isContextLost()){this.failedToCreate=!0;return}ae.shaderSource(Un,Xn),ae.compileShader(Un),ae.attachShader(this.program,Un),this.attributes={};var Wn={};this.numAttributes=Ze.length;for(var qn=0;qn<this.numAttributes;qn++)Ze[qn]&&(ae.bindAttribLocation(this.program,qn,Ze[qn]),this.attributes[Ze[qn]]=qn);ae.linkProgram(this.program),ae.deleteShader(Un),ae.deleteShader(Hn);for(var $n=0;$n<Dr.length;$n++){var ni=Dr[$n];if(ni&&!Wn[ni]){var xi=ae.getUniformLocation(this.program,ni);xi&&(Wn[ni]=xi)}}this.fixedUniforms=Lt(Y,Wn),this.binderUniforms=ht?ht.getUniforms(Y,Wn):[]};Cc.prototype.draw=function(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr,ar,xr,Dr,Qr,Xr){var Wr,an=Y.gl;if(!this.failedToCreate){Y.program.set(this.program),Y.setDepthMode($),Y.setStencilMode(ht),Y.setColorMode(Lt),Y.setCullFace(qt);for(var yn in this.fixedUniforms)this.fixedUniforms[yn].set(ae[yn]);Dr&&Dr.setUniforms(Y,this.binderUniforms,ar,{zoom:xr});for(var Xn=(Wr={},Wr[an.LINES]=2,Wr[an.TRIANGLES]=3,Wr[an.LINE_STRIP]=1,Wr)[nt],Hn=0,Un=cr.get();Hn<Un.length;Hn+=1){var Wn=Un[Hn],qn=Wn.vaos||(Wn.vaos={}),$n=qn[be]||(qn[be]=new rs);$n.bind(Y,this,Be,Dr?Dr.getPaintVertexBuffers():[],Ze,Wn.vertexOffset,Qr,Xr),an.drawElements(nt,Wn.primitiveLength*Xn,an.UNSIGNED_SHORT,Wn.primitiveOffset*Xn*2)}}};function yl(Y,nt,$){var ht=1/vn($,1,nt.transform.tileZoom),Lt=Math.pow(2,$.tileID.overscaledZ),qt=$.tileSize*Math.pow(2,nt.transform.tileZoom)/Lt,ae=qt*($.tileID.canonical.x+$.tileID.wrap*Lt),be=qt*$.tileID.canonical.y;return{u_image:0,u_texsize:$.imageAtlasTexture.size,u_scale:[ht,Y.fromScale,Y.toScale],u_fade:Y.t,u_pixel_coord_upper:[ae>>16,be>>16],u_pixel_coord_lower:[ae&65535,be&65535]}}function Js(Y,nt,$,ht){var Lt=$.imageManager.getPattern(Y.from.toString()),qt=$.imageManager.getPattern(Y.to.toString()),ae=$.imageManager.getPixelSize(),be=ae.width,Be=ae.height,Ze=Math.pow(2,ht.tileID.overscaledZ),cr=ht.tileSize*Math.pow(2,$.transform.tileZoom)/Ze,ar=cr*(ht.tileID.canonical.x+ht.tileID.wrap*Ze),xr=cr*ht.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Lt.tl,u_pattern_br_a:Lt.br,u_pattern_tl_b:qt.tl,u_pattern_br_b:qt.br,u_texsize:[be,Be],u_mix:nt.t,u_pattern_size_a:Lt.displaySize,u_pattern_size_b:qt.displaySize,u_scale_a:nt.fromScale,u_scale_b:nt.toScale,u_tile_units_to_pixels:1/vn(ht,1,$.transform.tileZoom),u_pixel_coord_upper:[ar>>16,xr>>16],u_pixel_coord_lower:[ar&65535,xr&65535]}}var tc=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_lightpos:new i.Uniform3f(Y,nt.u_lightpos),u_lightintensity:new i.Uniform1f(Y,nt.u_lightintensity),u_lightcolor:new i.Uniform3f(Y,nt.u_lightcolor),u_vertical_gradient:new i.Uniform1f(Y,nt.u_vertical_gradient),u_opacity:new i.Uniform1f(Y,nt.u_opacity)}},Ra=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_lightpos:new i.Uniform3f(Y,nt.u_lightpos),u_lightintensity:new i.Uniform1f(Y,nt.u_lightintensity),u_lightcolor:new i.Uniform3f(Y,nt.u_lightcolor),u_vertical_gradient:new i.Uniform1f(Y,nt.u_vertical_gradient),u_height_factor:new i.Uniform1f(Y,nt.u_height_factor),u_image:new i.Uniform1i(Y,nt.u_image),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_pixel_coord_upper:new i.Uniform2f(Y,nt.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(Y,nt.u_pixel_coord_lower),u_scale:new i.Uniform3f(Y,nt.u_scale),u_fade:new i.Uniform1f(Y,nt.u_fade),u_opacity:new i.Uniform1f(Y,nt.u_opacity)}},yu=function(Y,nt,$,ht){var Lt=nt.style.light,qt=Lt.properties.get("position"),ae=[qt.x,qt.y,qt.z],be=i.create$1();Lt.properties.get("anchor")==="viewport"&&i.fromRotation(be,-nt.transform.angle),i.transformMat3(ae,ae,be);var Be=Lt.properties.get("color");return{u_matrix:Y,u_lightpos:ae,u_lightintensity:Lt.properties.get("intensity"),u_lightcolor:[Be.r,Be.g,Be.b],u_vertical_gradient:+$,u_opacity:ht}},ns=function(Y,nt,$,ht,Lt,qt,ae){return i.extend(yu(Y,nt,$,ht),yl(qt,nt,ae),{u_height_factor:-Math.pow(2,Lt.overscaledZ)/ae.tileSize/8})},Cs=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix)}},ml=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_image:new i.Uniform1i(Y,nt.u_image),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_pixel_coord_upper:new i.Uniform2f(Y,nt.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(Y,nt.u_pixel_coord_lower),u_scale:new i.Uniform3f(Y,nt.u_scale),u_fade:new i.Uniform1f(Y,nt.u_fade)}},Qs=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_world:new i.Uniform2f(Y,nt.u_world)}},is=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_world:new i.Uniform2f(Y,nt.u_world),u_image:new i.Uniform1i(Y,nt.u_image),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_pixel_coord_upper:new i.Uniform2f(Y,nt.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(Y,nt.u_pixel_coord_lower),u_scale:new i.Uniform3f(Y,nt.u_scale),u_fade:new i.Uniform1f(Y,nt.u_fade)}},Is=function(Y){return{u_matrix:Y}},as=function(Y,nt,$,ht){return i.extend(Is(Y),yl($,nt,ht))},Uo=function(Y,nt){return{u_matrix:Y,u_world:nt}},mu=function(Y,nt,$,ht,Lt){return i.extend(as(Y,nt,$,ht),{u_world:Lt})},Ah=function(Y,nt){return{u_camera_to_center_distance:new i.Uniform1f(Y,nt.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(Y,nt.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(Y,nt.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(Y,nt.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(Y,nt.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix)}},Sh=function(Y,nt,$,ht){var Lt=Y.transform,qt,ae;if(ht.paint.get("circle-pitch-alignment")==="map"){var be=vn($,1,Lt.zoom);qt=!0,ae=[be,be]}else qt=!1,ae=Lt.pixelsToGLUnits;return{u_camera_to_center_distance:Lt.cameraToCenterDistance,u_scale_with_map:+(ht.paint.get("circle-pitch-scale")==="map"),u_matrix:Y.translatePosMatrix(nt.posMatrix,$,ht.paint.get("circle-translate"),ht.paint.get("circle-translate-anchor")),u_pitch_with_map:+qt,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:ae}},Eh=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_camera_to_center_distance:new i.Uniform1f(Y,nt.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(Y,nt.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(Y,nt.u_extrude_scale),u_overscale_factor:new i.Uniform1f(Y,nt.u_overscale_factor)}},Lh=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_inv_matrix:new i.UniformMatrix4f(Y,nt.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(Y,nt.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(Y,nt.u_viewport_size)}},Ic=function(Y,nt,$){var ht=vn($,1,nt.zoom),Lt=Math.pow(2,nt.zoom-$.tileID.overscaledZ),qt=$.tileID.overscaleFactor();return{u_matrix:Y,u_camera_to_center_distance:nt.cameraToCenterDistance,u_pixels_to_tile_units:ht,u_extrude_scale:[nt.pixelsToGLUnits[0]/(ht*Lt),nt.pixelsToGLUnits[1]/(ht*Lt)],u_overscale_factor:qt}},mf=function(Y,nt,$){return{u_matrix:Y,u_inv_matrix:nt,u_camera_to_center_distance:$.cameraToCenterDistance,u_viewport_size:[$.width,$.height]}},Wl=function(Y,nt){return{u_color:new i.UniformColor(Y,nt.u_color),u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_overlay:new i.Uniform1i(Y,nt.u_overlay),u_overlay_scale:new i.Uniform1f(Y,nt.u_overlay_scale)}},$a=function(Y,nt,$){return $===void 0&&($=1),{u_matrix:Y,u_color:nt,u_overlay:0,u_overlay_scale:$}},No=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix)}},Gl=function(Y){return{u_matrix:Y}},xf=function(Y,nt){return{u_extrude_scale:new i.Uniform1f(Y,nt.u_extrude_scale),u_intensity:new i.Uniform1f(Y,nt.u_intensity),u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix)}},xu=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_world:new i.Uniform2f(Y,nt.u_world),u_image:new i.Uniform1i(Y,nt.u_image),u_color_ramp:new i.Uniform1i(Y,nt.u_color_ramp),u_opacity:new i.Uniform1f(Y,nt.u_opacity)}},Os=function(Y,nt,$,ht){return{u_matrix:Y,u_extrude_scale:vn(nt,1,$),u_intensity:ht}},Ph=function(Y,nt,$,ht){var Lt=i.create();i.ortho(Lt,0,Y.width,Y.height,0,0,1);var qt=Y.context.gl;return{u_matrix:Lt,u_world:[qt.drawingBufferWidth,qt.drawingBufferHeight],u_image:$,u_color_ramp:ht,u_opacity:nt.paint.get("heatmap-opacity")}},bf=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_image:new i.Uniform1i(Y,nt.u_image),u_latrange:new i.Uniform2f(Y,nt.u_latrange),u_light:new i.Uniform2f(Y,nt.u_light),u_shadow:new i.UniformColor(Y,nt.u_shadow),u_highlight:new i.UniformColor(Y,nt.u_highlight),u_accent:new i.UniformColor(Y,nt.u_accent)}},_f=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_image:new i.Uniform1i(Y,nt.u_image),u_dimension:new i.Uniform2f(Y,nt.u_dimension),u_zoom:new i.Uniform1f(Y,nt.u_zoom),u_unpack:new i.Uniform4f(Y,nt.u_unpack)}},Oc=function(Y,nt,$){var ht=$.paint.get("hillshade-shadow-color"),Lt=$.paint.get("hillshade-highlight-color"),qt=$.paint.get("hillshade-accent-color"),ae=$.paint.get("hillshade-illumination-direction")*(Math.PI/180);$.paint.get("hillshade-illumination-anchor")==="viewport"&&(ae-=Y.transform.angle);var be=!Y.options.moving;return{u_matrix:Y.transform.calculatePosMatrix(nt.tileID.toUnwrapped(),be),u_image:0,u_latrange:ko(Y,nt.tileID),u_light:[$.paint.get("hillshade-exaggeration"),ae],u_shadow:ht,u_highlight:Lt,u_accent:qt}},wf=function(Y,nt){var $=nt.stride,ht=i.create();return i.ortho(ht,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(ht,ht,[0,-i.EXTENT,0]),{u_matrix:ht,u_image:1,u_dimension:[$,$],u_zoom:Y.overscaledZ,u_unpack:nt.getUnpackVector()}};function ko(Y,nt){var $=Math.pow(2,nt.canonical.z),ht=nt.canonical.y;return[new i.MercatorCoordinate(0,ht/$).toLngLat().lat,new i.MercatorCoordinate(0,(ht+1)/$).toLngLat().lat]}var os=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_ratio:new i.Uniform1f(Y,nt.u_ratio),u_device_pixel_ratio:new i.Uniform1f(Y,nt.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(Y,nt.u_units_to_pixels)}},$s=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_ratio:new i.Uniform1f(Y,nt.u_ratio),u_device_pixel_ratio:new i.Uniform1f(Y,nt.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(Y,nt.u_units_to_pixels),u_image:new i.Uniform1i(Y,nt.u_image),u_image_height:new i.Uniform1f(Y,nt.u_image_height)}},Zl=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_ratio:new i.Uniform1f(Y,nt.u_ratio),u_device_pixel_ratio:new i.Uniform1f(Y,nt.u_device_pixel_ratio),u_image:new i.Uniform1i(Y,nt.u_image),u_units_to_pixels:new i.Uniform2f(Y,nt.u_units_to_pixels),u_scale:new i.Uniform3f(Y,nt.u_scale),u_fade:new i.Uniform1f(Y,nt.u_fade)}},ec=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_ratio:new i.Uniform1f(Y,nt.u_ratio),u_device_pixel_ratio:new i.Uniform1f(Y,nt.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(Y,nt.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(Y,nt.u_patternscale_a),u_patternscale_b:new i.Uniform2f(Y,nt.u_patternscale_b),u_sdfgamma:new i.Uniform1f(Y,nt.u_sdfgamma),u_image:new i.Uniform1i(Y,nt.u_image),u_tex_y_a:new i.Uniform1f(Y,nt.u_tex_y_a),u_tex_y_b:new i.Uniform1f(Y,nt.u_tex_y_b),u_mix:new i.Uniform1f(Y,nt.u_mix)}},xl=function(Y,nt,$){var ht=Y.transform;return{u_matrix:tl(Y,nt,$),u_ratio:1/vn(nt,1,ht.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/ht.pixelsToGLUnits[0],1/ht.pixelsToGLUnits[1]]}},bl=function(Y,nt,$,ht){return i.extend(xl(Y,nt,$),{u_image:0,u_image_height:ht})},kf=function(Y,nt,$,ht){var Lt=Y.transform,qt=Yl(nt,Lt);return{u_matrix:tl(Y,nt,$),u_texsize:nt.imageAtlasTexture.size,u_ratio:1/vn(nt,1,Lt.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[qt,ht.fromScale,ht.toScale],u_fade:ht.t,u_units_to_pixels:[1/Lt.pixelsToGLUnits[0],1/Lt.pixelsToGLUnits[1]]}},zs=function(Y,nt,$,ht,Lt){var qt=Y.transform,ae=Y.lineAtlas,be=Yl(nt,qt),Be=$.layout.get("line-cap")==="round",Ze=ae.getDash(ht.from,Be),cr=ae.getDash(ht.to,Be),ar=Ze.width*Lt.fromScale,xr=cr.width*Lt.toScale;return i.extend(xl(Y,nt,$),{u_patternscale_a:[be/ar,-Ze.height/2],u_patternscale_b:[be/xr,-cr.height/2],u_sdfgamma:ae.width/(Math.min(ar,xr)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ze.y,u_tex_y_b:cr.y,u_mix:Lt.t})};function Yl(Y,nt){return 1/vn(Y,1,nt.tileZoom)}function tl(Y,nt,$){return Y.translatePosMatrix(nt.tileID.posMatrix,nt,$.paint.get("line-translate"),$.paint.get("line-translate-anchor"))}var Rs=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_tl_parent:new i.Uniform2f(Y,nt.u_tl_parent),u_scale_parent:new i.Uniform1f(Y,nt.u_scale_parent),u_buffer_scale:new i.Uniform1f(Y,nt.u_buffer_scale),u_fade_t:new i.Uniform1f(Y,nt.u_fade_t),u_opacity:new i.Uniform1f(Y,nt.u_opacity),u_image0:new i.Uniform1i(Y,nt.u_image0),u_image1:new i.Uniform1i(Y,nt.u_image1),u_brightness_low:new i.Uniform1f(Y,nt.u_brightness_low),u_brightness_high:new i.Uniform1f(Y,nt.u_brightness_high),u_saturation_factor:new i.Uniform1f(Y,nt.u_saturation_factor),u_contrast_factor:new i.Uniform1f(Y,nt.u_contrast_factor),u_spin_weights:new i.Uniform3f(Y,nt.u_spin_weights)}},bu=function(Y,nt,$,ht,Lt){return{u_matrix:Y,u_tl_parent:nt,u_scale_parent:$,u_buffer_scale:1,u_fade_t:ht.mix,u_opacity:ht.opacity*Lt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Lt.paint.get("raster-brightness-min"),u_brightness_high:Lt.paint.get("raster-brightness-max"),u_saturation_factor:Jl(Lt.paint.get("raster-saturation")),u_contrast_factor:ua(Lt.paint.get("raster-contrast")),u_spin_weights:Kl(Lt.paint.get("raster-hue-rotate"))}};function Kl(Y){Y*=Math.PI/180;var nt=Math.sin(Y),$=Math.cos(Y);return[(2*$+1)/3,(-Math.sqrt(3)*nt-$+1)/3,(Math.sqrt(3)*nt-$+1)/3]}function ua(Y){return Y>0?1/(1-Y):1+Y}function Jl(Y){return Y>0?1-1/(1.001-Y):-Y}var rc=function(Y,nt){return{u_is_size_zoom_constant:new i.Uniform1i(Y,nt.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(Y,nt.u_is_size_feature_constant),u_size_t:new i.Uniform1f(Y,nt.u_size_t),u_size:new i.Uniform1f(Y,nt.u_size),u_camera_to_center_distance:new i.Uniform1f(Y,nt.u_camera_to_center_distance),u_pitch:new i.Uniform1f(Y,nt.u_pitch),u_rotate_symbol:new i.Uniform1i(Y,nt.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(Y,nt.u_aspect_ratio),u_fade_change:new i.Uniform1f(Y,nt.u_fade_change),u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(Y,nt.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(Y,nt.u_coord_matrix),u_is_text:new i.Uniform1i(Y,nt.u_is_text),u_pitch_with_map:new i.Uniform1i(Y,nt.u_pitch_with_map),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_texture:new i.Uniform1i(Y,nt.u_texture)}},Tf=function(Y,nt){return{u_is_size_zoom_constant:new i.Uniform1i(Y,nt.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(Y,nt.u_is_size_feature_constant),u_size_t:new i.Uniform1f(Y,nt.u_size_t),u_size:new i.Uniform1f(Y,nt.u_size),u_camera_to_center_distance:new i.Uniform1f(Y,nt.u_camera_to_center_distance),u_pitch:new i.Uniform1f(Y,nt.u_pitch),u_rotate_symbol:new i.Uniform1i(Y,nt.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(Y,nt.u_aspect_ratio),u_fade_change:new i.Uniform1f(Y,nt.u_fade_change),u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(Y,nt.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(Y,nt.u_coord_matrix),u_is_text:new i.Uniform1i(Y,nt.u_is_text),u_pitch_with_map:new i.Uniform1i(Y,nt.u_pitch_with_map),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_texture:new i.Uniform1i(Y,nt.u_texture),u_gamma_scale:new i.Uniform1f(Y,nt.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(Y,nt.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(Y,nt.u_is_halo)}},Ql=function(Y,nt){return{u_is_size_zoom_constant:new i.Uniform1i(Y,nt.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(Y,nt.u_is_size_feature_constant),u_size_t:new i.Uniform1f(Y,nt.u_size_t),u_size:new i.Uniform1f(Y,nt.u_size),u_camera_to_center_distance:new i.Uniform1f(Y,nt.u_camera_to_center_distance),u_pitch:new i.Uniform1f(Y,nt.u_pitch),u_rotate_symbol:new i.Uniform1i(Y,nt.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(Y,nt.u_aspect_ratio),u_fade_change:new i.Uniform1f(Y,nt.u_fade_change),u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(Y,nt.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(Y,nt.u_coord_matrix),u_is_text:new i.Uniform1i(Y,nt.u_is_text),u_pitch_with_map:new i.Uniform1i(Y,nt.u_pitch_with_map),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_texsize_icon:new i.Uniform2f(Y,nt.u_texsize_icon),u_texture:new i.Uniform1i(Y,nt.u_texture),u_texture_icon:new i.Uniform1i(Y,nt.u_texture_icon),u_gamma_scale:new i.Uniform1f(Y,nt.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(Y,nt.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(Y,nt.u_is_halo)}},_u=function(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze){var cr=Lt.transform;return{u_is_size_zoom_constant:+(Y==="constant"||Y==="source"),u_is_size_feature_constant:+(Y==="constant"||Y==="camera"),u_size_t:nt?nt.uSizeT:0,u_size:nt?nt.uSize:0,u_camera_to_center_distance:cr.cameraToCenterDistance,u_pitch:cr.pitch/360*2*Math.PI,u_rotate_symbol:+$,u_aspect_ratio:cr.width/cr.height,u_fade_change:Lt.options.fadeDuration?Lt.symbolFadeChange:1,u_matrix:qt,u_label_plane_matrix:ae,u_coord_matrix:be,u_is_text:+Be,u_pitch_with_map:+ht,u_texsize:Ze,u_texture:0}},nc=function(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr){var ar=Lt.transform;return i.extend(_u(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze),{u_gamma_scale:ht?Math.cos(ar._pitch)*ar.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+cr})},zc=function(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze){return i.extend(nc(Y,nt,$,ht,Lt,qt,ae,be,!0,Be,!0),{u_texsize_icon:Ze,u_texture_icon:1})},wu=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_opacity:new i.Uniform1f(Y,nt.u_opacity),u_color:new i.UniformColor(Y,nt.u_color)}},ku=function(Y,nt){return{u_matrix:new i.UniformMatrix4f(Y,nt.u_matrix),u_opacity:new i.Uniform1f(Y,nt.u_opacity),u_image:new i.Uniform1i(Y,nt.u_image),u_pattern_tl_a:new i.Uniform2f(Y,nt.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(Y,nt.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(Y,nt.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(Y,nt.u_pattern_br_b),u_texsize:new i.Uniform2f(Y,nt.u_texsize),u_mix:new i.Uniform1f(Y,nt.u_mix),u_pattern_size_a:new i.Uniform2f(Y,nt.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(Y,nt.u_pattern_size_b),u_scale_a:new i.Uniform1f(Y,nt.u_scale_a),u_scale_b:new i.Uniform1f(Y,nt.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(Y,nt.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(Y,nt.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(Y,nt.u_tile_units_to_pixels)}},el=function(Y,nt,$){return{u_matrix:Y,u_opacity:nt,u_color:$}},Tu=function(Y,nt,$,ht,Lt,qt){return i.extend(Js(ht,qt,$,Lt),{u_matrix:Y,u_opacity:nt})},rl={fillExtrusion:tc,fillExtrusionPattern:Ra,fill:Cs,fillPattern:ml,fillOutline:Qs,fillOutlinePattern:is,circle:Ah,collisionBox:Eh,collisionCircle:Lh,debug:Wl,clippingMask:No,heatmap:xf,heatmapTexture:xu,hillshade:bf,hillshadePrepare:_f,line:os,lineGradient:$s,linePattern:Zl,lineSDF:ec,raster:Rs,symbolIcon:rc,symbolSDF:Tf,symbolTextAndIcon:Ql,background:wu,backgroundPattern:ku},Wa;function xs(Y,nt,$,ht,Lt,qt,ae){for(var be=Y.context,Be=be.gl,Ze=Y.useProgram("collisionBox"),cr=[],ar=0,xr=0,Dr=0;Dr<ht.length;Dr++){var Qr=ht[Dr],Xr=nt.getTile(Qr),Wr=Xr.getBucket($);if(Wr){var an=Qr.posMatrix;(Lt[0]!==0||Lt[1]!==0)&&(an=Y.translatePosMatrix(Qr.posMatrix,Xr,Lt,qt));var yn=ae?Wr.textCollisionBox:Wr.iconCollisionBox,Xn=Wr.collisionCircleArray;if(Xn.length>0){var Hn=i.create(),Un=an;i.mul(Hn,Wr.placementInvProjMatrix,Y.transform.glCoordMatrix),i.mul(Hn,Hn,Wr.placementViewportMatrix),cr.push({circleArray:Xn,circleOffset:xr,transform:Un,invTransform:Hn}),ar+=Xn.length/4,xr=ar}yn&&Ze.draw(be,Be.LINES,mr.disabled,Ye.disabled,Y.colorModeForRenderPass(),ze.disabled,Ic(an,Y.transform,Xr),$.id,yn.layoutVertexBuffer,yn.indexBuffer,yn.segments,null,Y.transform.zoom,null,null,yn.collisionVertexBuffer)}}if(!(!ae||!cr.length)){var Wn=Y.useProgram("collisionCircle"),qn=new i.StructArrayLayout2f1f2i16;qn.resize(ar*4),qn._trim();for(var $n=0,ni=0,xi=cr;ni<xi.length;ni+=1)for(var vi=xi[ni],yi=0;yi<vi.circleArray.length/4;yi++){var qi=yi*4,_a=vi.circleArray[qi+0],Ei=vi.circleArray[qi+1],Ri=vi.circleArray[qi+2],Xi=vi.circleArray[qi+3];qn.emplace($n++,_a,Ei,Ri,Xi,0),qn.emplace($n++,_a,Ei,Ri,Xi,1),qn.emplace($n++,_a,Ei,Ri,Xi,2),qn.emplace($n++,_a,Ei,Ri,Xi,3)}(!Wa||Wa.length<ar*2)&&(Wa=Rc(ar));for(var ia=be.createIndexBuffer(Wa,!0),fa=be.createVertexBuffer(qn,i.collisionCircleLayout.members,!0),la=0,Yi=cr;la<Yi.length;la+=1){var ya=Yi[la],zi=mf(ya.transform,ya.invTransform,Y.transform);Wn.draw(be,Be.TRIANGLES,mr.disabled,Ye.disabled,Y.colorModeForRenderPass(),ze.disabled,zi,$.id,fa,ia,i.SegmentVector.simpleSegment(0,ya.circleOffset*2,ya.circleArray.length,ya.circleArray.length/2),null,Y.transform.zoom,null,null,null)}fa.destroy(),ia.destroy()}}function Rc(Y){var nt=Y*2,$=new i.StructArrayLayout3ui6;$.resize(nt),$._trim();for(var ht=0;ht<nt;ht++){var Lt=ht*6;$.uint16[Lt+0]=ht*4+0,$.uint16[Lt+1]=ht*4+1,$.uint16[Lt+2]=ht*4+2,$.uint16[Lt+3]=ht*4+2,$.uint16[Lt+4]=ht*4+3,$.uint16[Lt+5]=ht*4+0}return $}var _l=i.identity(new Float32Array(16));function ic(Y,nt,$,ht,Lt){if(Y.renderPass==="translucent"){var qt=Ye.disabled,ae=Y.colorModeForRenderPass(),be=$.layout.get("text-variable-anchor");be&&Ch(ht,Y,$,nt,$.layout.get("text-rotation-alignment"),$.layout.get("text-pitch-alignment"),Lt),$.paint.get("icon-opacity").constantOr(1)!==0&&Au(Y,nt,$,ht,!1,$.paint.get("icon-translate"),$.paint.get("icon-translate-anchor"),$.layout.get("icon-rotation-alignment"),$.layout.get("icon-pitch-alignment"),$.layout.get("icon-keep-upright"),qt,ae),$.paint.get("text-opacity").constantOr(1)!==0&&Au(Y,nt,$,ht,!0,$.paint.get("text-translate"),$.paint.get("text-translate-anchor"),$.layout.get("text-rotation-alignment"),$.layout.get("text-pitch-alignment"),$.layout.get("text-keep-upright"),qt,ae),nt.map.showCollisionBoxes&&(xs(Y,nt,$,ht,$.paint.get("text-translate"),$.paint.get("text-translate-anchor"),!0),xs(Y,nt,$,ht,$.paint.get("icon-translate"),$.paint.get("icon-translate-anchor"),!1))}}function Mu(Y,nt,$,ht,Lt,qt){var ae=i.getAnchorAlignment(Y),be=ae.horizontalAlign,Be=ae.verticalAlign,Ze=-(be-.5)*nt,cr=-(Be-.5)*$,ar=i.evaluateVariableOffset(Y,ht);return new i.Point((Ze/Lt+ar[0])*qt,(cr/Lt+ar[1])*qt)}function Ch(Y,nt,$,ht,Lt,qt,ae){for(var be=nt.transform,Be=Lt==="map",Ze=qt==="map",cr=0,ar=Y;cr<ar.length;cr+=1){var xr=ar[cr],Dr=ht.getTile(xr),Qr=Dr.getBucket($);if(!(!Qr||!Qr.text||!Qr.text.segments.get().length)){var Xr=Qr.textSizeData,Wr=i.evaluateSizeForZoom(Xr,be.zoom),an=vn(Dr,1,nt.transform.zoom),yn=Er(xr.posMatrix,Ze,Be,nt.transform,an),Xn=$.layout.get("icon-text-fit")!=="none"&&Qr.hasIconData();if(Wr){var Hn=Math.pow(2,be.zoom-Dr.tileID.overscaledZ);Mf(Qr,Be,Ze,ae,i.symbolSize,be,yn,xr.posMatrix,Hn,Wr,Xn)}}}}function Mf(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr){var ar=Y.text.placedSymbolArray,xr=Y.text.dynamicLayoutVertexArray,Dr=Y.icon.dynamicLayoutVertexArray,Qr={};xr.clear();for(var Xr=0;Xr<ar.length;Xr++){var Wr=ar.get(Xr),an=Y.allowVerticalPlacement&&!Wr.placedOrientation,yn=!Wr.hidden&&Wr.crossTileID&&!an?ht[Wr.crossTileID]:null;if(!yn)ri(Wr.numGlyphs,xr);else{var Xn=new i.Point(Wr.anchorX,Wr.anchorY),Hn=qr(Xn,$?be:ae),Un=rn(qt.cameraToCenterDistance,Hn.signedDistanceFromCamera),Wn=Lt.evaluateSizeForFeature(Y.textSizeData,Ze,Wr)*Un/i.ONE_EM;$&&(Wn*=Y.tilePixelRatio/Be);for(var qn=yn.width,$n=yn.height,ni=yn.anchor,xi=yn.textOffset,vi=yn.textBoxScale,yi=Mu(ni,qn,$n,xi,vi,Wn),qi=$?qr(Xn.add(yi),ae).point:Hn.point.add(nt?yi.rotate(-qt.angle):yi),_a=Y.allowVerticalPlacement&&Wr.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,Ei=0;Ei<Wr.numGlyphs;Ei++)i.addDynamicAttributes(xr,qi,_a);cr&&Wr.associatedIconIndex>=0&&(Qr[Wr.associatedIconIndex]={shiftedAnchor:qi,angle:_a})}}if(cr){Dr.clear();for(var Ri=Y.icon.placedSymbolArray,Xi=0;Xi<Ri.length;Xi++){var ia=Ri.get(Xi);if(ia.hidden)ri(ia.numGlyphs,Dr);else{var fa=Qr[Xi];if(!fa)ri(ia.numGlyphs,Dr);else for(var la=0;la<ia.numGlyphs;la++)i.addDynamicAttributes(Dr,fa.shiftedAnchor,fa.angle)}}Y.icon.dynamicLayoutVertexBuffer.updateData(Dr)}Y.text.dynamicLayoutVertexBuffer.updateData(xr)}function mo(Y,nt,$){return $.iconsInText&&nt?"symbolTextAndIcon":Y?"symbolSDF":"symbolIcon"}function Au(Y,nt,$,ht,Lt,qt,ae,be,Be,Ze,cr,ar){for(var xr=Y.context,Dr=xr.gl,Qr=Y.transform,Xr=be==="map",Wr=Be==="map",an=Xr&&$.layout.get("symbol-placement")!=="point",yn=Xr&&!Wr&&!an,Xn=$.layout.get("symbol-sort-key").constantOr(1)!==void 0,Hn=!1,Un=Y.depthModeForSublayer(0,mr.ReadOnly),Wn=$.layout.get("text-variable-anchor"),qn=[],$n=0,ni=ht;$n<ni.length;$n+=1){var xi=ni[$n],vi=nt.getTile(xi),yi=vi.getBucket($);if(yi){var qi=Lt?yi.text:yi.icon;if(!(!qi||!qi.segments.get().length)){var _a=qi.programConfigurations.get($.id),Ei=Lt||yi.sdfIcons,Ri=Lt?yi.textSizeData:yi.iconSizeData,Xi=Wr||Qr.pitch!==0,ia=Y.useProgram(mo(Ei,Lt,yi),_a),fa=i.evaluateSizeForZoom(Ri,Qr.zoom),la=void 0,Yi=[0,0],ya=void 0,zi=void 0,Ki=null,Ha=void 0;if(Lt){if(ya=vi.glyphAtlasTexture,zi=Dr.LINEAR,la=vi.glyphAtlasTexture.size,yi.iconsInText){Yi=vi.imageAtlasTexture.size,Ki=vi.imageAtlasTexture;var uo=Ri.kind==="composite"||Ri.kind==="camera";Ha=Xi||Y.options.rotating||Y.options.zooming||uo?Dr.LINEAR:Dr.NEAREST}}else{var Tl=$.layout.get("icon-size").constantOr(0)!==1||yi.iconsNeedLinear;ya=vi.imageAtlasTexture,zi=Ei||Y.options.rotating||Y.options.zooming||Tl||Xi?Dr.LINEAR:Dr.NEAREST,la=vi.imageAtlasTexture.size}var eu=vn(vi,1,Y.transform.zoom),Bs=Er(xi.posMatrix,Wr,Xr,Y.transform,eu),zu=Vr(xi.posMatrix,Wr,Xr,Y.transform,eu),cc=Wn&&yi.hasTextData(),ls=$.layout.get("icon-text-fit")!=="none"&&cc&&yi.hasIconData();an&&ln(yi,xi.posMatrix,Y,Lt,Bs,zu,Wr,Ze);var Ns=Y.translatePosMatrix(xi.posMatrix,vi,qt,ae),qo=an||Lt&&Wn||ls?_l:Bs,fc=Y.translatePosMatrix(zu,vi,qt,ae,!0),zf=Ei&&$.paint.get(Lt?"text-halo-width":"icon-halo-width").constantOr(1)!==0,js=void 0;Ei?yi.iconsInText?js=zc(Ri.kind,fa,yn,Wr,Y,Ns,qo,fc,la,Yi):js=nc(Ri.kind,fa,yn,Wr,Y,Ns,qo,fc,Lt,la,!0):js=_u(Ri.kind,fa,yn,Wr,Y,Ns,qo,fc,Lt,la);var al={program:ia,buffers:qi,uniformValues:js,atlasTexture:ya,atlasTextureIcon:Ki,atlasInterpolation:zi,atlasInterpolationIcon:Ha,isSDF:Ei,hasHalo:zf};if(Xn&&yi.canOverlap){Hn=!0;for(var Hs=qi.segments.get(),Fh=0,xp=Hs;Fh<xp.length;Fh+=1){var Bh=xp[Fh];qn.push({segments:new i.SegmentVector([Bh]),sortKey:Bh.sortKey,state:al})}}else qn.push({segments:qi.segments,sortKey:0,state:al})}}}Hn&&qn.sort(function(_p,wp){return _p.sortKey-wp.sortKey});for(var Oo=0,bp=qn;Oo<bp.length;Oo+=1){var Nh=bp[Oo],Ho=Nh.state;if(xr.activeTexture.set(Dr.TEXTURE0),Ho.atlasTexture.bind(Ho.atlasInterpolation,Dr.CLAMP_TO_EDGE),Ho.atlasTextureIcon&&(xr.activeTexture.set(Dr.TEXTURE1),Ho.atlasTextureIcon&&Ho.atlasTextureIcon.bind(Ho.atlasInterpolationIcon,Dr.CLAMP_TO_EDGE)),Ho.isSDF){var Rf=Ho.uniformValues;Ho.hasHalo&&(Rf.u_is_halo=1,$l(Ho.buffers,Nh.segments,$,Y,Ho.program,Un,cr,ar,Rf)),Rf.u_is_halo=0}$l(Ho.buffers,Nh.segments,$,Y,Ho.program,Un,cr,ar,Ho.uniformValues)}}function $l(Y,nt,$,ht,Lt,qt,ae,be,Be){var Ze=ht.context,cr=Ze.gl;Lt.draw(Ze,cr.TRIANGLES,qt,ae,be,ze.disabled,Be,$.id,Y.layoutVertexBuffer,Y.indexBuffer,nt,$.paint,ht.transform.zoom,Y.programConfigurations.get($.id),Y.dynamicLayoutVertexBuffer,Y.opacityVertexBuffer)}function Af(Y,nt,$,ht){if(Y.renderPass==="translucent"){var Lt=$.paint.get("circle-opacity"),qt=$.paint.get("circle-stroke-width"),ae=$.paint.get("circle-stroke-opacity"),be=$.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(Lt.constantOr(1)===0&&(qt.constantOr(1)===0||ae.constantOr(1)===0))){for(var Be=Y.context,Ze=Be.gl,cr=Y.depthModeForSublayer(0,mr.ReadOnly),ar=Ye.disabled,xr=Y.colorModeForRenderPass(),Dr=[],Qr=0;Qr<ht.length;Qr++){var Xr=ht[Qr],Wr=nt.getTile(Xr),an=Wr.getBucket($);if(an){var yn=an.programConfigurations.get($.id),Xn=Y.useProgram("circle",yn),Hn=an.layoutVertexBuffer,Un=an.indexBuffer,Wn=Sh(Y,Xr,Wr,$),qn={programConfiguration:yn,program:Xn,layoutVertexBuffer:Hn,indexBuffer:Un,uniformValues:Wn};if(be)for(var $n=an.segments.get(),ni=0,xi=$n;ni<xi.length;ni+=1){var vi=xi[ni];Dr.push({segments:new i.SegmentVector([vi]),sortKey:vi.sortKey,state:qn})}else Dr.push({segments:an.segments,sortKey:0,state:qn})}}be&&Dr.sort(function(ya,zi){return ya.sortKey-zi.sortKey});for(var yi=0,qi=Dr;yi<qi.length;yi+=1){var _a=qi[yi],Ei=_a.state,Ri=Ei.programConfiguration,Xi=Ei.program,ia=Ei.layoutVertexBuffer,fa=Ei.indexBuffer,la=Ei.uniformValues,Yi=_a.segments;Xi.draw(Be,Ze.TRIANGLES,cr,ar,xr,ze.disabled,la,$.id,ia,fa,Yi,$.paint,Y.transform.zoom,Ri)}}}}function nl(Y,nt,$,ht){if($.paint.get("heatmap-opacity")!==0)if(Y.renderPass==="offscreen"){var Lt=Y.context,qt=Lt.gl,ae=Ye.disabled,be=new le([qt.ONE,qt.ONE],i.Color.transparent,[!0,!0,!0,!0]);Ih(Lt,Y,$),Lt.clear({color:i.Color.transparent});for(var Be=0;Be<ht.length;Be++){var Ze=ht[Be];if(!nt.hasRenderableParent(Ze)){var cr=nt.getTile(Ze),ar=cr.getBucket($);if(ar){var xr=ar.programConfigurations.get($.id),Dr=Y.useProgram("heatmap",xr),Qr=Y.transform,Xr=Qr.zoom;Dr.draw(Lt,qt.TRIANGLES,mr.disabled,ae,be,ze.disabled,Os(Ze.posMatrix,cr,Xr,$.paint.get("heatmap-intensity")),$.id,ar.layoutVertexBuffer,ar.indexBuffer,ar.segments,$.paint,Y.transform.zoom,xr)}}}Lt.viewport.set([0,0,Y.width,Y.height])}else Y.renderPass==="translucent"&&(Y.context.setColorMode(Y.colorModeForRenderPass()),Su(Y,$))}function Ih(Y,nt,$){var ht=Y.gl;Y.activeTexture.set(ht.TEXTURE1),Y.viewport.set([0,0,nt.width/4,nt.height/4]);var Lt=$.heatmapFbo;if(Lt)ht.bindTexture(ht.TEXTURE_2D,Lt.colorAttachment.get()),Y.bindFramebuffer.set(Lt.framebuffer);else{var qt=ht.createTexture();ht.bindTexture(ht.TEXTURE_2D,qt),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_S,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_T,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MIN_FILTER,ht.LINEAR),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MAG_FILTER,ht.LINEAR),Lt=$.heatmapFbo=Y.createFramebuffer(nt.width/4,nt.height/4,!1),Co(Y,nt,qt,Lt)}}function Co(Y,nt,$,ht){var Lt=Y.gl,qt=Y.extRenderToTextureHalfFloat?Y.extTextureHalfFloat.HALF_FLOAT_OES:Lt.UNSIGNED_BYTE;Lt.texImage2D(Lt.TEXTURE_2D,0,Lt.RGBA,nt.width/4,nt.height/4,0,Lt.RGBA,qt,null),ht.colorAttachment.set($)}function Su(Y,nt){var $=Y.context,ht=$.gl,Lt=nt.heatmapFbo;if(Lt){$.activeTexture.set(ht.TEXTURE0),ht.bindTexture(ht.TEXTURE_2D,Lt.colorAttachment.get()),$.activeTexture.set(ht.TEXTURE1);var qt=nt.colorRampTexture;qt||(qt=nt.colorRampTexture=new i.Texture($,nt.colorRamp,ht.RGBA)),qt.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),Y.useProgram("heatmapTexture").draw($,ht.TRIANGLES,mr.disabled,Ye.disabled,Y.colorModeForRenderPass(),ze.disabled,Ph(Y,nt,0,1),nt.id,Y.viewportBuffer,Y.quadTriangleIndexBuffer,Y.viewportSegments,nt.paint,Y.transform.zoom)}}function ac(Y,nt,$,ht){if(Y.renderPass==="translucent"){var Lt=$.paint.get("line-opacity"),qt=$.paint.get("line-width");if(!(Lt.constantOr(1)===0||qt.constantOr(1)===0))for(var ae=Y.depthModeForSublayer(0,mr.ReadOnly),be=Y.colorModeForRenderPass(),Be=$.paint.get("line-dasharray"),Ze=$.paint.get("line-pattern"),cr=Ze.constantOr(1),ar=$.paint.get("line-gradient"),xr=$.getCrossfadeParameters(),Dr=cr?"linePattern":Be?"lineSDF":ar?"lineGradient":"line",Qr=Y.context,Xr=Qr.gl,Wr=!0,an=0,yn=ht;an<yn.length;an+=1){var Xn=yn[an],Hn=nt.getTile(Xn);if(!(cr&&!Hn.patternsLoaded())){var Un=Hn.getBucket($);if(Un){var Wn=Un.programConfigurations.get($.id),qn=Y.context.program.get(),$n=Y.useProgram(Dr,Wn),ni=Wr||$n.program!==qn,xi=Ze.constantOr(null);if(xi&&Hn.imageAtlas){var vi=Hn.imageAtlas,yi=vi.patternPositions[xi.to.toString()],qi=vi.patternPositions[xi.from.toString()];yi&&qi&&Wn.setConstantPatternPositions(yi,qi)}var _a=cr?kf(Y,Hn,$,xr):Be?zs(Y,Hn,$,Be,xr):ar?bl(Y,Hn,$,Un.lineClipsArray.length):xl(Y,Hn,$);if(cr)Qr.activeTexture.set(Xr.TEXTURE0),Hn.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),Wn.updatePaintBuffers(xr);else if(Be&&(ni||Y.lineAtlas.dirty))Qr.activeTexture.set(Xr.TEXTURE0),Y.lineAtlas.bind(Qr);else if(ar){var Ei=Un.gradients[$.id],Ri=Ei.texture;if($.gradientVersion!==Ei.version){var Xi=256;if($.stepInterpolant){var ia=nt.getSource().maxzoom,fa=Xn.canonical.z===ia?Math.ceil(1<<Y.transform.maxZoom-Xn.canonical.z):1,la=Un.maxLineLength/i.EXTENT,Yi=1024,ya=la*Yi*fa;Xi=i.clamp(i.nextPowerOfTwo(ya),256,Qr.maxTextureSize)}Ei.gradient=i.renderColorRamp({expression:$.gradientExpression(),evaluationKey:"lineProgress",resolution:Xi,image:Ei.gradient||void 0,clips:Un.lineClipsArray}),Ei.texture?Ei.texture.update(Ei.gradient):Ei.texture=new i.Texture(Qr,Ei.gradient,Xr.RGBA),Ei.version=$.gradientVersion,Ri=Ei.texture}Qr.activeTexture.set(Xr.TEXTURE0),Ri.bind($.stepInterpolant?Xr.NEAREST:Xr.LINEAR,Xr.CLAMP_TO_EDGE)}$n.draw(Qr,Xr.TRIANGLES,ae,Y.stencilModeForClipping(Xn),be,ze.disabled,_a,$.id,Un.layoutVertexBuffer,Un.indexBuffer,Un.segments,$.paint,Y.transform.zoom,Wn,Un.layoutVertexBuffer2),Wr=!1}}}}}function Ds(Y,nt,$,ht){var Lt=$.paint.get("fill-color"),qt=$.paint.get("fill-opacity");if(qt.constantOr(1)!==0){var ae=Y.colorModeForRenderPass(),be=$.paint.get("fill-pattern"),Be=Y.opaquePassEnabledForLayer()&&!be.constantOr(1)&&Lt.constantOr(i.Color.transparent).a===1&&qt.constantOr(0)===1?"opaque":"translucent";if(Y.renderPass===Be){var Ze=Y.depthModeForSublayer(1,Y.renderPass==="opaque"?mr.ReadWrite:mr.ReadOnly);il(Y,nt,$,ht,Ze,ae,!1)}if(Y.renderPass==="translucent"&&$.paint.get("fill-antialias")){var cr=Y.depthModeForSublayer($.getPaintProperty("fill-outline-color")?2:0,mr.ReadOnly);il(Y,nt,$,ht,cr,ae,!0)}}}function il(Y,nt,$,ht,Lt,qt,ae){var be=Y.context.gl,Be=$.paint.get("fill-pattern"),Ze=Be&&Be.constantOr(1),cr=$.getCrossfadeParameters(),ar,xr,Dr,Qr,Xr;ae?(xr=Ze&&!$.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ar=be.LINES):(xr=Ze?"fillPattern":"fill",ar=be.TRIANGLES);for(var Wr=0,an=ht;Wr<an.length;Wr+=1){var yn=an[Wr],Xn=nt.getTile(yn);if(!(Ze&&!Xn.patternsLoaded())){var Hn=Xn.getBucket($);if(Hn){var Un=Hn.programConfigurations.get($.id),Wn=Y.useProgram(xr,Un);Ze&&(Y.context.activeTexture.set(be.TEXTURE0),Xn.imageAtlasTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE),Un.updatePaintBuffers(cr));var qn=Be.constantOr(null);if(qn&&Xn.imageAtlas){var $n=Xn.imageAtlas,ni=$n.patternPositions[qn.to.toString()],xi=$n.patternPositions[qn.from.toString()];ni&&xi&&Un.setConstantPatternPositions(ni,xi)}var vi=Y.translatePosMatrix(yn.posMatrix,Xn,$.paint.get("fill-translate"),$.paint.get("fill-translate-anchor"));if(!ae)Qr=Hn.indexBuffer,Xr=Hn.segments,Dr=Ze?as(vi,Y,cr,Xn):Is(vi);else{Qr=Hn.indexBuffer2,Xr=Hn.segments2;var yi=[be.drawingBufferWidth,be.drawingBufferHeight];Dr=xr==="fillOutlinePattern"&&Ze?mu(vi,Y,cr,Xn,yi):Uo(vi,yi)}Wn.draw(Y.context,ar,Lt,Y.stencilModeForClipping(yn),qt,ze.disabled,Dr,$.id,Hn.layoutVertexBuffer,Qr,Xr,$.paint,Y.transform.zoom,Un)}}}}function Dc(Y,nt,$,ht){var Lt=$.paint.get("fill-extrusion-opacity");if(Lt!==0&&Y.renderPass==="translucent"){var qt=new mr(Y.context.gl.LEQUAL,mr.ReadWrite,Y.depthRangeFor3D);if(Lt===1&&!$.paint.get("fill-extrusion-pattern").constantOr(1)){var ae=Y.colorModeForRenderPass();Eu(Y,nt,$,ht,qt,Ye.disabled,ae)}else Eu(Y,nt,$,ht,qt,Ye.disabled,le.disabled),Eu(Y,nt,$,ht,qt,Y.stencilModeFor3D(),Y.colorModeForRenderPass())}}function Eu(Y,nt,$,ht,Lt,qt,ae){for(var be=Y.context,Be=be.gl,Ze=$.paint.get("fill-extrusion-pattern"),cr=Ze.constantOr(1),ar=$.getCrossfadeParameters(),xr=$.paint.get("fill-extrusion-opacity"),Dr=0,Qr=ht;Dr<Qr.length;Dr+=1){var Xr=Qr[Dr],Wr=nt.getTile(Xr),an=Wr.getBucket($);if(an){var yn=an.programConfigurations.get($.id),Xn=Y.useProgram(cr?"fillExtrusionPattern":"fillExtrusion",yn);cr&&(Y.context.activeTexture.set(Be.TEXTURE0),Wr.imageAtlasTexture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE),yn.updatePaintBuffers(ar));var Hn=Ze.constantOr(null);if(Hn&&Wr.imageAtlas){var Un=Wr.imageAtlas,Wn=Un.patternPositions[Hn.to.toString()],qn=Un.patternPositions[Hn.from.toString()];Wn&&qn&&yn.setConstantPatternPositions(Wn,qn)}var $n=Y.translatePosMatrix(Xr.posMatrix,Wr,$.paint.get("fill-extrusion-translate"),$.paint.get("fill-extrusion-translate-anchor")),ni=$.paint.get("fill-extrusion-vertical-gradient"),xi=cr?ns($n,Y,ni,xr,Xr,ar,Wr):yu($n,Y,ni,xr);Xn.draw(be,be.gl.TRIANGLES,Lt,qt,ae,ze.backCCW,xi,$.id,an.layoutVertexBuffer,an.indexBuffer,an.segments,$.paint,Y.transform.zoom,yn)}}}function Lu(Y,nt,$,ht){if(!(Y.renderPass!=="offscreen"&&Y.renderPass!=="translucent")){for(var Lt=Y.context,qt=Y.depthModeForSublayer(0,mr.ReadOnly),ae=Y.colorModeForRenderPass(),be=Y.renderPass==="translucent"?Y.stencilConfigForOverlap(ht):[{},ht],Be=be[0],Ze=be[1],cr=0,ar=Ze;cr<ar.length;cr+=1){var xr=ar[cr],Dr=nt.getTile(xr);Dr.needsHillshadePrepare&&Y.renderPass==="offscreen"?Sf(Y,Dr,$,qt,Ye.disabled,ae):Y.renderPass==="translucent"&&oc(Y,Dr,$,qt,Be[xr.overscaledZ],ae)}Lt.viewport.set([0,0,Y.width,Y.height])}}function oc(Y,nt,$,ht,Lt,qt){var ae=Y.context,be=ae.gl,Be=nt.fbo;if(Be){var Ze=Y.useProgram("hillshade");ae.activeTexture.set(be.TEXTURE0),be.bindTexture(be.TEXTURE_2D,Be.colorAttachment.get());var cr=Oc(Y,nt,$);Ze.draw(ae,be.TRIANGLES,ht,Lt,qt,ze.disabled,cr,$.id,Y.rasterBoundsBuffer,Y.quadTriangleIndexBuffer,Y.rasterBoundsSegments)}}function Sf(Y,nt,$,ht,Lt,qt){var ae=Y.context,be=ae.gl,Be=nt.dem;if(Be&&Be.data){var Ze=Be.dim,cr=Be.stride,ar=Be.getPixels();if(ae.activeTexture.set(be.TEXTURE1),ae.pixelStoreUnpackPremultiplyAlpha.set(!1),nt.demTexture=nt.demTexture||Y.getTileTexture(cr),nt.demTexture){var xr=nt.demTexture;xr.update(ar,{premultiply:!1}),xr.bind(be.NEAREST,be.CLAMP_TO_EDGE)}else nt.demTexture=new i.Texture(ae,ar,be.RGBA,{premultiply:!1}),nt.demTexture.bind(be.NEAREST,be.CLAMP_TO_EDGE);ae.activeTexture.set(be.TEXTURE0);var Dr=nt.fbo;if(!Dr){var Qr=new i.Texture(ae,{width:Ze,height:Ze,data:null},be.RGBA);Qr.bind(be.LINEAR,be.CLAMP_TO_EDGE),Dr=nt.fbo=ae.createFramebuffer(Ze,Ze,!0),Dr.colorAttachment.set(Qr.texture)}ae.bindFramebuffer.set(Dr.framebuffer),ae.viewport.set([0,0,Ze,Ze]),Y.useProgram("hillshadePrepare").draw(ae,be.TRIANGLES,ht,Lt,qt,ze.disabled,wf(nt.tileID,Be),$.id,Y.rasterBoundsBuffer,Y.quadTriangleIndexBuffer,Y.rasterBoundsSegments),nt.needsHillshadePrepare=!1}}function Pu(Y,nt,$,ht){if(Y.renderPass==="translucent"&&$.paint.get("raster-opacity")!==0&&ht.length)for(var Lt=Y.context,qt=Lt.gl,ae=nt.getSource(),be=Y.useProgram("raster"),Be=Y.colorModeForRenderPass(),Ze=ae instanceof K?[{},ht]:Y.stencilConfigForOverlap(ht),cr=Ze[0],ar=Ze[1],xr=ar[ar.length-1].overscaledZ,Dr=!Y.options.moving,Qr=0,Xr=ar;Qr<Xr.length;Qr+=1){var Wr=Xr[Qr],an=Y.depthModeForSublayer(Wr.overscaledZ-xr,$.paint.get("raster-opacity")===1?mr.ReadWrite:mr.ReadOnly,qt.LESS),yn=nt.getTile(Wr),Xn=Y.transform.calculatePosMatrix(Wr.toUnwrapped(),Dr);yn.registerFadeDuration($.paint.get("raster-fade-duration"));var Hn=nt.findLoadedParent(Wr,0),Un=Fc(yn,Hn,nt,$,Y.transform),Wn=void 0,qn=void 0,$n=$.paint.get("raster-resampling")==="nearest"?qt.NEAREST:qt.LINEAR;Lt.activeTexture.set(qt.TEXTURE0),yn.texture.bind($n,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Lt.activeTexture.set(qt.TEXTURE1),Hn?(Hn.texture.bind($n,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Wn=Math.pow(2,Hn.tileID.overscaledZ-yn.tileID.overscaledZ),qn=[yn.tileID.canonical.x*Wn%1,yn.tileID.canonical.y*Wn%1]):yn.texture.bind($n,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST);var ni=bu(Xn,qn||[0,0],Wn||1,Un,$);ae instanceof K?be.draw(Lt,qt.TRIANGLES,an,Ye.disabled,Be,ze.disabled,ni,$.id,ae.boundsBuffer,Y.quadTriangleIndexBuffer,ae.boundsSegments):be.draw(Lt,qt.TRIANGLES,an,cr[Wr.overscaledZ],Be,ze.disabled,ni,$.id,Y.rasterBoundsBuffer,Y.quadTriangleIndexBuffer,Y.rasterBoundsSegments)}}function Fc(Y,nt,$,ht,Lt){var qt=ht.paint.get("raster-fade-duration");if(qt>0){var ae=i.browser.now(),be=(ae-Y.timeAdded)/qt,Be=nt?(ae-nt.timeAdded)/qt:-1,Ze=$.getSource(),cr=Lt.coveringZoomLevel({tileSize:Ze.tileSize,roundZoom:Ze.roundZoom}),ar=!nt||Math.abs(nt.tileID.overscaledZ-cr)>Math.abs(Y.tileID.overscaledZ-cr),xr=ar&&Y.refreshedUponExpiration?1:i.clamp(ar?be:1-Be,0,1);return Y.refreshedUponExpiration&&be>=1&&(Y.refreshedUponExpiration=!1),nt?{opacity:1,mix:1-xr}:{opacity:xr,mix:0}}else return{opacity:1,mix:0}}function wl(Y,nt,$){var ht=$.paint.get("background-color"),Lt=$.paint.get("background-opacity");if(Lt!==0){var qt=Y.context,ae=qt.gl,be=Y.transform,Be=be.tileSize,Ze=$.paint.get("background-pattern");if(!Y.isPatternMissing(Ze)){var cr=!Ze&&ht.a===1&&Lt===1&&Y.opaquePassEnabledForLayer()?"opaque":"translucent";if(Y.renderPass===cr){var ar=Ye.disabled,xr=Y.depthModeForSublayer(0,cr==="opaque"?mr.ReadWrite:mr.ReadOnly),Dr=Y.colorModeForRenderPass(),Qr=Y.useProgram(Ze?"backgroundPattern":"background"),Xr=be.coveringTiles({tileSize:Be});Ze&&(qt.activeTexture.set(ae.TEXTURE0),Y.imageManager.bind(Y.context));for(var Wr=$.getCrossfadeParameters(),an=0,yn=Xr;an<yn.length;an+=1){var Xn=yn[an],Hn=Y.transform.calculatePosMatrix(Xn.toUnwrapped()),Un=Ze?Tu(Hn,Lt,Y,Ze,{tileID:Xn,tileSize:Be},Wr):el(Hn,Lt,ht);Qr.draw(qt,ae.TRIANGLES,xr,ar,Dr,ze.disabled,Un,$.id,Y.tileExtentBuffer,Y.quadTriangleIndexBuffer,Y.tileExtentSegments)}}}}}var Bc=new i.Color(1,0,0,1),Cu=new i.Color(0,1,0,1),Ef=new i.Color(0,0,1,1),Zt=new i.Color(1,0,1,1),ee=new i.Color(0,1,1,1);function pe(Y){var nt=Y.transform.padding,$=3;Pe(Y,Y.transform.height-(nt.top||0),$,Bc),Pe(Y,nt.bottom||0,$,Cu),Se(Y,nt.left||0,$,Ef),Se(Y,Y.transform.width-(nt.right||0),$,Zt);var ht=Y.transform.centerPoint;_e(Y,ht.x,Y.transform.height-ht.y,ee)}function _e(Y,nt,$,ht){var Lt=20,qt=2;Ne(Y,nt-qt/2,$-Lt/2,qt,Lt,ht),Ne(Y,nt-Lt/2,$-qt/2,Lt,qt,ht)}function Pe(Y,nt,$,ht){Ne(Y,0,nt+$/2,Y.transform.width,$,ht)}function Se(Y,nt,$,ht){Ne(Y,nt-$/2,0,$,Y.transform.height,ht)}function Ne(Y,nt,$,ht,Lt,qt){var ae=Y.context,be=ae.gl;be.enable(be.SCISSOR_TEST),be.scissor(nt*i.browser.devicePixelRatio,$*i.browser.devicePixelRatio,ht*i.browser.devicePixelRatio,Lt*i.browser.devicePixelRatio),ae.clear({color:qt}),be.disable(be.SCISSOR_TEST)}function ur(Y,nt,$){for(var ht=0;ht<$.length;ht++)gr(Y,nt,$[ht])}function gr(Y,nt,$){var ht=Y.context,Lt=ht.gl,qt=$.posMatrix,ae=Y.useProgram("debug"),be=mr.disabled,Be=Ye.disabled,Ze=Y.colorModeForRenderPass(),cr="$debug";ht.activeTexture.set(Lt.TEXTURE0),Y.emptyTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),ae.draw(ht,Lt.LINE_STRIP,be,Be,Ze,ze.disabled,$a(qt,i.Color.red),cr,Y.debugBuffer,Y.tileBorderIndexBuffer,Y.debugSegments);var ar=nt.getTileByID($.key).latestRawTileData,xr=ar&&ar.byteLength||0,Dr=Math.floor(xr/1024),Qr=nt.getTile($).tileSize,Xr=512/Math.min(Qr,512)*($.overscaledZ/Y.transform.zoom)*.5,Wr=$.canonical.toString();$.overscaledZ!==$.canonical.z&&(Wr+=" => "+$.overscaledZ);var an=Wr+" "+Dr+"kb";nr(Y,an),ae.draw(ht,Lt.TRIANGLES,be,Be,le.alphaBlended,ze.disabled,$a(qt,i.Color.transparent,Xr),cr,Y.debugBuffer,Y.quadTriangleIndexBuffer,Y.debugSegments)}function nr(Y,nt){Y.initDebugOverlayCanvas();var $=Y.debugOverlayCanvas,ht=Y.context.gl,Lt=Y.debugOverlayCanvas.getContext("2d");Lt.clearRect(0,0,$.width,$.height),Lt.shadowColor="white",Lt.shadowBlur=2,Lt.lineWidth=1.5,Lt.strokeStyle="white",Lt.textBaseline="top",Lt.font="bold 36px Open Sans, sans-serif",Lt.fillText(nt,5,5),Lt.strokeText(nt,5,5),Y.debugOverlayTexture.update($),Y.debugOverlayTexture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)}function wr(Y,nt,$){var ht=Y.context,Lt=$.implementation;if(Y.renderPass==="offscreen"){var qt=Lt.prerender;qt&&(Y.setCustomLayerDefaults(),ht.setColorMode(Y.colorModeForRenderPass()),qt.call(Lt,ht.gl,Y.transform.customLayerMatrix()),ht.setDirty(),Y.setBaseState())}else if(Y.renderPass==="translucent"){Y.setCustomLayerDefaults(),ht.setColorMode(Y.colorModeForRenderPass()),ht.setStencilMode(Ye.disabled);var ae=Lt.renderingMode==="3d"?new mr(Y.context.gl.LEQUAL,mr.ReadWrite,Y.depthRangeFor3D):Y.depthModeForSublayer(0,mr.ReadOnly);ht.setDepthMode(ae),Lt.render(ht.gl,Y.transform.customLayerMatrix()),ht.setDirty(),Y.setBaseState(),ht.bindFramebuffer.set(null)}}var Cr={symbol:ic,circle:Af,heatmap:nl,line:ac,fill:Ds,"fill-extrusion":Dc,hillshade:Lu,raster:Pu,background:wl,debug:ur,custom:wr},Fr=function(Y,nt){this.context=new Oe(Y),this.transform=nt,this._tileTextures={},this.setup(),this.numSublayers=Fe.maxUnderzooming+Fe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new oi,this.gpuTimers={}};Fr.prototype.resize=function(Y,nt){if(this.width=Y*i.browser.devicePixelRatio,this.height=nt*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var $=0,ht=this.style._order;$<ht.length;$+=1){var Lt=ht[$];this.style._layers[Lt].resize()}},Fr.prototype.setup=function(){var Y=this.context,nt=new i.StructArrayLayout2i4;nt.emplaceBack(0,0),nt.emplaceBack(i.EXTENT,0),nt.emplaceBack(0,i.EXTENT),nt.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=Y.createVertexBuffer(nt,Eo.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var $=new i.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(i.EXTENT,0),$.emplaceBack(0,i.EXTENT),$.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=Y.createVertexBuffer($,Eo.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var ht=new i.StructArrayLayout4i8;ht.emplaceBack(0,0,0,0),ht.emplaceBack(i.EXTENT,0,i.EXTENT,0),ht.emplaceBack(0,i.EXTENT,0,i.EXTENT),ht.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=Y.createVertexBuffer(ht,W.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Lt=new i.StructArrayLayout2i4;Lt.emplaceBack(0,0),Lt.emplaceBack(1,0),Lt.emplaceBack(0,1),Lt.emplaceBack(1,1),this.viewportBuffer=Y.createVertexBuffer(Lt,Eo.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var qt=new i.StructArrayLayout1ui2;qt.emplaceBack(0),qt.emplaceBack(1),qt.emplaceBack(3),qt.emplaceBack(2),qt.emplaceBack(0),this.tileBorderIndexBuffer=Y.createIndexBuffer(qt);var ae=new i.StructArrayLayout3ui6;ae.emplaceBack(0,1,2),ae.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Y.createIndexBuffer(ae),this.emptyTexture=new i.Texture(Y,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Y.gl.RGBA);var be=this.context.gl;this.stencilClearMode=new Ye({func:be.ALWAYS,mask:0},0,255,be.ZERO,be.ZERO,be.ZERO)},Fr.prototype.clearStencil=function(){var Y=this.context,nt=Y.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var $=i.create();i.ortho($,0,this.width,this.height,0,0,1),i.scale($,$,[nt.drawingBufferWidth,nt.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Y,nt.TRIANGLES,mr.disabled,this.stencilClearMode,le.disabled,ze.disabled,Gl($),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Fr.prototype._renderTileClippingMasks=function(Y,nt){if(!(this.currentStencilSource===Y.source||!Y.isTileClipped()||!nt||!nt.length)){this.currentStencilSource=Y.source;var $=this.context,ht=$.gl;this.nextStencilID+nt.length>256&&this.clearStencil(),$.setColorMode(le.disabled),$.setDepthMode(mr.disabled);var Lt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var qt=0,ae=nt;qt<ae.length;qt+=1){var be=ae[qt],Be=this._tileClippingMaskIDs[be.key]=this.nextStencilID++;Lt.draw($,ht.TRIANGLES,mr.disabled,new Ye({func:ht.ALWAYS,mask:0},Be,255,ht.KEEP,ht.KEEP,ht.REPLACE),le.disabled,ze.disabled,Gl(be.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Fr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Y=this.nextStencilID++,nt=this.context.gl;return new Ye({func:nt.NOTEQUAL,mask:255},Y,255,nt.KEEP,nt.KEEP,nt.REPLACE)},Fr.prototype.stencilModeForClipping=function(Y){var nt=this.context.gl;return new Ye({func:nt.EQUAL,mask:255},this._tileClippingMaskIDs[Y.key],0,nt.KEEP,nt.KEEP,nt.REPLACE)},Fr.prototype.stencilConfigForOverlap=function(Y){var nt,$=this.context.gl,ht=Y.sort(function(Be,Ze){return Ze.overscaledZ-Be.overscaledZ}),Lt=ht[ht.length-1].overscaledZ,qt=ht[0].overscaledZ-Lt+1;if(qt>1){this.currentStencilSource=void 0,this.nextStencilID+qt>256&&this.clearStencil();for(var ae={},be=0;be<qt;be++)ae[be+Lt]=new Ye({func:$.GEQUAL,mask:255},be+this.nextStencilID,255,$.KEEP,$.KEEP,$.REPLACE);return this.nextStencilID+=qt,[ae,ht]}return[(nt={},nt[Lt]=Ye.disabled,nt),ht]},Fr.prototype.colorModeForRenderPass=function(){var Y=this.context.gl;if(this._showOverdrawInspector){var nt=8,$=1/nt;return new le([Y.CONSTANT_COLOR,Y.ONE],new i.Color($,$,$,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?le.unblended:le.alphaBlended},Fr.prototype.depthModeForSublayer=function(Y,nt,$){if(!this.opaquePassEnabledForLayer())return mr.disabled;var ht=1-((1+this.currentLayer)*this.numSublayers+Y)*this.depthEpsilon;return new mr($||this.context.gl.LEQUAL,nt,[ht,ht])},Fr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Fr.prototype.render=function(Y,nt){var $=this;this.style=Y,this.options=nt,this.lineAtlas=Y.lineAtlas,this.imageManager=Y.imageManager,this.glyphManager=Y.glyphManager,this.symbolFadeChange=Y.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var ht=this.style._order,Lt=this.style.sourceCaches;for(var qt in Lt){var ae=Lt[qt];ae.used&&ae.prepare(this.context)}var be={},Be={},Ze={};for(var cr in Lt){var ar=Lt[cr];be[cr]=ar.getVisibleCoordinates(),Be[cr]=be[cr].slice().reverse(),Ze[cr]=ar.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var xr=0;xr<ht.length;xr++){var Dr=ht[xr];if(this.style._layers[Dr].is3D()){this.opaquePassCutoff=xr;break}}this.renderPass="offscreen";for(var Qr=0,Xr=ht;Qr<Xr.length;Qr+=1){var Wr=Xr[Qr],an=this.style._layers[Wr];if(!(!an.hasOffscreenPass()||an.isHidden(this.transform.zoom))){var yn=Be[an.source];an.type!=="custom"&&!yn.length||this.renderLayer(this,Lt[an.source],an,yn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:nt.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=nt.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Y._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ht.length-1;this.currentLayer>=0;this.currentLayer--){var Xn=this.style._layers[ht[this.currentLayer]],Hn=Lt[Xn.source],Un=be[Xn.source];this._renderTileClippingMasks(Xn,Un),this.renderLayer(this,Hn,Xn,Un)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ht.length;this.currentLayer++){var Wn=this.style._layers[ht[this.currentLayer]],qn=Lt[Wn.source],$n=(Wn.type==="symbol"?Ze:Be)[Wn.source];this._renderTileClippingMasks(Wn,be[Wn.source]),this.renderLayer(this,qn,Wn,$n)}if(this.options.showTileBoundaries){var ni,xi,vi=i.values(this.style._layers);vi.forEach(function(yi){yi.source&&!yi.isHidden($.transform.zoom)&&(yi.source!==(xi&&xi.id)&&(xi=$.style.sourceCaches[yi.source]),(!ni||ni.getSource().maxzoom<xi.getSource().maxzoom)&&(ni=xi))}),ni&&Cr.debug(this,ni,ni.getVisibleCoordinates())}this.options.showPadding&&pe(this),this.context.setDefault()},Fr.prototype.renderLayer=function(Y,nt,$,ht){$.isHidden(this.transform.zoom)||$.type!=="background"&&$.type!=="custom"&&!ht.length||(this.id=$.id,this.gpuTimingStart($),Cr[$.type](Y,nt,$,ht,this.style.placement.variableOffsets),this.gpuTimingEnd())},Fr.prototype.gpuTimingStart=function(Y){if(this.options.gpuTiming){var nt=this.context.extTimerQuery,$=this.gpuTimers[Y.id];$||($=this.gpuTimers[Y.id]={calls:0,cpuTime:0,query:nt.createQueryEXT()}),$.calls++,nt.beginQueryEXT(nt.TIME_ELAPSED_EXT,$.query)}},Fr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Y=this.context.extTimerQuery;Y.endQueryEXT(Y.TIME_ELAPSED_EXT)}},Fr.prototype.collectGpuTimers=function(){var Y=this.gpuTimers;return this.gpuTimers={},Y},Fr.prototype.queryGpuTimers=function(Y){var nt={};for(var $ in Y){var ht=Y[$],Lt=this.context.extTimerQuery,qt=Lt.getQueryObjectEXT(ht.query,Lt.QUERY_RESULT_EXT)/(1e3*1e3);Lt.deleteQueryEXT(ht.query),nt[$]=qt}return nt},Fr.prototype.translatePosMatrix=function(Y,nt,$,ht,Lt){if(!$[0]&&!$[1])return Y;var qt=Lt?ht==="map"?this.transform.angle:0:ht==="viewport"?-this.transform.angle:0;if(qt){var ae=Math.sin(qt),be=Math.cos(qt);$=[$[0]*be-$[1]*ae,$[0]*ae+$[1]*be]}var Be=[Lt?$[0]:vn(nt,$[0],this.transform.zoom),Lt?$[1]:vn(nt,$[1],this.transform.zoom),0],Ze=new Float32Array(16);return i.translate(Ze,Y,Be),Ze},Fr.prototype.saveTileTexture=function(Y){var nt=this._tileTextures[Y.size[0]];nt?nt.push(Y):this._tileTextures[Y.size[0]]=[Y]},Fr.prototype.getTileTexture=function(Y){var nt=this._tileTextures[Y];return nt&&nt.length>0?nt.pop():null},Fr.prototype.isPatternMissing=function(Y){if(!Y)return!1;if(!Y.from||!Y.to)return!0;var nt=this.imageManager.getPattern(Y.from.toString()),$=this.imageManager.getPattern(Y.to.toString());return!nt||!$},Fr.prototype.useProgram=function(Y,nt){this.cache=this.cache||{};var $=""+Y+(nt?nt.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[$]||(this.cache[$]=new Cc(this.context,Y,gf[Y],nt,rl[Y],this._showOverdrawInspector)),this.cache[$]},Fr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Fr.prototype.setBaseState=function(){var Y=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Y.FUNC_ADD)},Fr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Y=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,Y.RGBA)}},Fr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var tn=function(Y,nt){this.points=Y,this.planes=nt};tn.fromInvProjectionMatrix=function(Y,nt,$){var ht=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Lt=Math.pow(2,$),qt=ht.map(function(Be){return i.transformMat4([],Be,Y)}).map(function(Be){return i.scale$1([],Be,1/Be[3]/nt*Lt)}),ae=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],be=ae.map(function(Be){var Ze=i.sub([],qt[Be[0]],qt[Be[1]]),cr=i.sub([],qt[Be[2]],qt[Be[1]]),ar=i.normalize([],i.cross([],Ze,cr)),xr=-i.dot(ar,qt[Be[1]]);return ar.concat(xr)});return new tn(qt,be)};var xn=function(Y,nt){this.min=Y,this.max=nt,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};xn.prototype.quadrant=function(Y){for(var nt=[Y%2===0,Y<2],$=i.clone$2(this.min),ht=i.clone$2(this.max),Lt=0;Lt<nt.length;Lt++)$[Lt]=nt[Lt]?this.min[Lt]:this.center[Lt],ht[Lt]=nt[Lt]?this.center[Lt]:this.max[Lt];return ht[2]=this.max[2],new xn($,ht)},xn.prototype.distanceX=function(Y){var nt=Math.max(Math.min(this.max[0],Y[0]),this.min[0]);return nt-Y[0]},xn.prototype.distanceY=function(Y){var nt=Math.max(Math.min(this.max[1],Y[1]),this.min[1]);return nt-Y[1]},xn.prototype.intersects=function(Y){for(var nt=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],$=!0,ht=0;ht<Y.planes.length;ht++){for(var Lt=Y.planes[ht],qt=0,ae=0;ae<nt.length;ae++)qt+=i.dot$1(Lt,nt[ae])>=0;if(qt===0)return 0;qt!==nt.length&&($=!1)}if($)return 2;for(var be=0;be<3;be++){for(var Be=Number.MAX_VALUE,Ze=-Number.MAX_VALUE,cr=0;cr<Y.points.length;cr++){var ar=Y.points[cr][be]-this.min[be];Be=Math.min(Be,ar),Ze=Math.max(Ze,ar)}if(Ze<0||Be>this.max[be]-this.min[be])return 0}return 1};var Ln=function(Y,nt,$,ht){if(Y===void 0&&(Y=0),nt===void 0&&(nt=0),$===void 0&&($=0),ht===void 0&&(ht=0),isNaN(Y)||Y<0||isNaN(nt)||nt<0||isNaN($)||$<0||isNaN(ht)||ht<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Y,this.bottom=nt,this.left=$,this.right=ht};Ln.prototype.interpolate=function(Y,nt,$){return nt.top!=null&&Y.top!=null&&(this.top=i.number(Y.top,nt.top,$)),nt.bottom!=null&&Y.bottom!=null&&(this.bottom=i.number(Y.bottom,nt.bottom,$)),nt.left!=null&&Y.left!=null&&(this.left=i.number(Y.left,nt.left,$)),nt.right!=null&&Y.right!=null&&(this.right=i.number(Y.right,nt.right,$)),this},Ln.prototype.getCenter=function(Y,nt){var $=i.clamp((this.left+Y-this.right)/2,0,Y),ht=i.clamp((this.top+nt-this.bottom)/2,0,nt);return new i.Point($,ht)},Ln.prototype.equals=function(Y){return this.top===Y.top&&this.bottom===Y.bottom&&this.left===Y.left&&this.right===Y.right},Ln.prototype.clone=function(){return new Ln(this.top,this.bottom,this.left,this.right)},Ln.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Cn=function(Y,nt,$,ht,Lt){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Lt===void 0?!0:Lt,this._minZoom=Y||0,this._maxZoom=nt||22,this._minPitch=$??0,this._maxPitch=ht??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ln,this._posMatrixCache={},this._alignedPosMatrixCache={}},Gn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Cn.prototype.clone=function(){var Y=new Cn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Y.tileSize=this.tileSize,Y.latRange=this.latRange,Y.width=this.width,Y.height=this.height,Y._center=this._center,Y.zoom=this.zoom,Y.angle=this.angle,Y._fov=this._fov,Y._pitch=this._pitch,Y._unmodified=this._unmodified,Y._edgeInsets=this._edgeInsets.clone(),Y._calcMatrices(),Y},Gn.minZoom.get=function(){return this._minZoom},Gn.minZoom.set=function(Y){this._minZoom!==Y&&(this._minZoom=Y,this.zoom=Math.max(this.zoom,Y))},Gn.maxZoom.get=function(){return this._maxZoom},Gn.maxZoom.set=function(Y){this._maxZoom!==Y&&(this._maxZoom=Y,this.zoom=Math.min(this.zoom,Y))},Gn.minPitch.get=function(){return this._minPitch},Gn.minPitch.set=function(Y){this._minPitch!==Y&&(this._minPitch=Y,this.pitch=Math.max(this.pitch,Y))},Gn.maxPitch.get=function(){return this._maxPitch},Gn.maxPitch.set=function(Y){this._maxPitch!==Y&&(this._maxPitch=Y,this.pitch=Math.min(this.pitch,Y))},Gn.renderWorldCopies.get=function(){return this._renderWorldCopies},Gn.renderWorldCopies.set=function(Y){Y===void 0?Y=!0:Y===null&&(Y=!1),this._renderWorldCopies=Y},Gn.worldSize.get=function(){return this.tileSize*this.scale},Gn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Gn.size.get=function(){return new i.Point(this.width,this.height)},Gn.bearing.get=function(){return-this.angle/Math.PI*180},Gn.bearing.set=function(Y){var nt=-i.wrap(Y,-180,180)*Math.PI/180;this.angle!==nt&&(this._unmodified=!1,this.angle=nt,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Gn.pitch.get=function(){return this._pitch/Math.PI*180},Gn.pitch.set=function(Y){var nt=i.clamp(Y,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==nt&&(this._unmodified=!1,this._pitch=nt,this._calcMatrices())},Gn.fov.get=function(){return this._fov/Math.PI*180},Gn.fov.set=function(Y){Y=Math.max(.01,Math.min(60,Y)),this._fov!==Y&&(this._unmodified=!1,this._fov=Y/180*Math.PI,this._calcMatrices())},Gn.zoom.get=function(){return this._zoom},Gn.zoom.set=function(Y){var nt=Math.min(Math.max(Y,this.minZoom),this.maxZoom);this._zoom!==nt&&(this._unmodified=!1,this._zoom=nt,this.scale=this.zoomScale(nt),this.tileZoom=Math.floor(nt),this.zoomFraction=nt-this.tileZoom,this._constrain(),this._calcMatrices())},Gn.center.get=function(){return this._center},Gn.center.set=function(Y){Y.lat===this._center.lat&&Y.lng===this._center.lng||(this._unmodified=!1,this._center=Y,this._constrain(),this._calcMatrices())},Gn.padding.get=function(){return this._edgeInsets.toJSON()},Gn.padding.set=function(Y){this._edgeInsets.equals(Y)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,Y,1),this._calcMatrices())},Gn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Cn.prototype.isPaddingEqual=function(Y){return this._edgeInsets.equals(Y)},Cn.prototype.interpolatePadding=function(Y,nt,$){this._unmodified=!1,this._edgeInsets.interpolate(Y,nt,$),this._constrain(),this._calcMatrices()},Cn.prototype.coveringZoomLevel=function(Y){var nt=(Y.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Y.tileSize));return Math.max(0,nt)},Cn.prototype.getVisibleUnwrappedCoordinates=function(Y){var nt=[new i.UnwrappedTileID(0,Y)];if(this._renderWorldCopies)for(var $=this.pointCoordinate(new i.Point(0,0)),ht=this.pointCoordinate(new i.Point(this.width,0)),Lt=this.pointCoordinate(new i.Point(this.width,this.height)),qt=this.pointCoordinate(new i.Point(0,this.height)),ae=Math.floor(Math.min($.x,ht.x,Lt.x,qt.x)),be=Math.floor(Math.max($.x,ht.x,Lt.x,qt.x)),Be=1,Ze=ae-Be;Ze<=be+Be;Ze++)Ze!==0&&nt.push(new i.UnwrappedTileID(Ze,Y));return nt},Cn.prototype.coveringTiles=function(Y){var nt=this.coveringZoomLevel(Y),$=nt;if(Y.minzoom!==void 0&&nt<Y.minzoom)return[];Y.maxzoom!==void 0&&nt>Y.maxzoom&&(nt=Y.maxzoom);var ht=i.MercatorCoordinate.fromLngLat(this.center),Lt=Math.pow(2,nt),qt=[Lt*ht.x,Lt*ht.y,0],ae=tn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,nt),be=Y.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(be=nt);var Be=3,Ze=function(vi){return{aabb:new xn([vi*Lt,0,0],[(vi+1)*Lt,Lt,0]),zoom:0,x:0,y:0,wrap:vi,fullyVisible:!1}},cr=[],ar=[],xr=nt,Dr=Y.reparseOverscaled?$:nt;if(this._renderWorldCopies)for(var Qr=1;Qr<=3;Qr++)cr.push(Ze(-Qr)),cr.push(Ze(Qr));for(cr.push(Ze(0));cr.length>0;){var Xr=cr.pop(),Wr=Xr.x,an=Xr.y,yn=Xr.fullyVisible;if(!yn){var Xn=Xr.aabb.intersects(ae);if(Xn===0)continue;yn=Xn===2}var Hn=Xr.aabb.distanceX(qt),Un=Xr.aabb.distanceY(qt),Wn=Math.max(Math.abs(Hn),Math.abs(Un)),qn=Be+(1<<xr-Xr.zoom)-2;if(Xr.zoom===xr||Wn>qn&&Xr.zoom>=be){ar.push({tileID:new i.OverscaledTileID(Xr.zoom===xr?Dr:Xr.zoom,Xr.wrap,Xr.zoom,Wr,an),distanceSq:i.sqrLen([qt[0]-.5-Wr,qt[1]-.5-an])});continue}for(var $n=0;$n<4;$n++){var ni=(Wr<<1)+$n%2,xi=(an<<1)+($n>>1);cr.push({aabb:Xr.aabb.quadrant($n),zoom:Xr.zoom+1,x:ni,y:xi,wrap:Xr.wrap,fullyVisible:yn})}}return ar.sort(function(vi,yi){return vi.distanceSq-yi.distanceSq}).map(function(vi){return vi.tileID})},Cn.prototype.resize=function(Y,nt){this.width=Y,this.height=nt,this.pixelsToGLUnits=[2/Y,-2/nt],this._constrain(),this._calcMatrices()},Gn.unmodified.get=function(){return this._unmodified},Cn.prototype.zoomScale=function(Y){return Math.pow(2,Y)},Cn.prototype.scaleZoom=function(Y){return Math.log(Y)/Math.LN2},Cn.prototype.project=function(Y){var nt=i.clamp(Y.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(Y.lng)*this.worldSize,i.mercatorYfromLat(nt)*this.worldSize)},Cn.prototype.unproject=function(Y){return new i.MercatorCoordinate(Y.x/this.worldSize,Y.y/this.worldSize).toLngLat()},Gn.point.get=function(){return this.project(this.center)},Cn.prototype.setLocationAtPoint=function(Y,nt){var $=this.pointCoordinate(nt),ht=this.pointCoordinate(this.centerPoint),Lt=this.locationCoordinate(Y),qt=new i.MercatorCoordinate(Lt.x-($.x-ht.x),Lt.y-($.y-ht.y));this.center=this.coordinateLocation(qt),this._renderWorldCopies&&(this.center=this.center.wrap())},Cn.prototype.locationPoint=function(Y){return this.coordinatePoint(this.locationCoordinate(Y))},Cn.prototype.pointLocation=function(Y){return this.coordinateLocation(this.pointCoordinate(Y))},Cn.prototype.locationCoordinate=function(Y){return i.MercatorCoordinate.fromLngLat(Y)},Cn.prototype.coordinateLocation=function(Y){return Y.toLngLat()},Cn.prototype.pointCoordinate=function(Y){var nt=0,$=[Y.x,Y.y,0,1],ht=[Y.x,Y.y,1,1];i.transformMat4($,$,this.pixelMatrixInverse),i.transformMat4(ht,ht,this.pixelMatrixInverse);var Lt=$[3],qt=ht[3],ae=$[0]/Lt,be=ht[0]/qt,Be=$[1]/Lt,Ze=ht[1]/qt,cr=$[2]/Lt,ar=ht[2]/qt,xr=cr===ar?0:(nt-cr)/(ar-cr);return new i.MercatorCoordinate(i.number(ae,be,xr)/this.worldSize,i.number(Be,Ze,xr)/this.worldSize)},Cn.prototype.coordinatePoint=function(Y){var nt=[Y.x*this.worldSize,Y.y*this.worldSize,0,1];return i.transformMat4(nt,nt,this.pixelMatrix),new i.Point(nt[0]/nt[3],nt[1]/nt[3])},Cn.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},Cn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Cn.prototype.setMaxBounds=function(Y){Y?(this.lngRange=[Y.getWest(),Y.getEast()],this.latRange=[Y.getSouth(),Y.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Cn.prototype.calculatePosMatrix=function(Y,nt){nt===void 0&&(nt=!1);var $=Y.key,ht=nt?this._alignedPosMatrixCache:this._posMatrixCache;if(ht[$])return ht[$];var Lt=Y.canonical,qt=this.worldSize/this.zoomScale(Lt.z),ae=Lt.x+Math.pow(2,Lt.z)*Y.wrap,be=i.identity(new Float64Array(16));return i.translate(be,be,[ae*qt,Lt.y*qt,0]),i.scale(be,be,[qt/i.EXTENT,qt/i.EXTENT,1]),i.multiply(be,nt?this.alignedProjMatrix:this.projMatrix,be),ht[$]=new Float32Array(be),ht[$]},Cn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Cn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Y=-90,nt=90,$=-180,ht=180,Lt,qt,ae,be,Be=this.size,Ze=this._unmodified;if(this.latRange){var cr=this.latRange;Y=i.mercatorYfromLat(cr[1])*this.worldSize,nt=i.mercatorYfromLat(cr[0])*this.worldSize,Lt=nt-Y<Be.y?Be.y/(nt-Y):0}if(this.lngRange){var ar=this.lngRange;$=i.mercatorXfromLng(ar[0])*this.worldSize,ht=i.mercatorXfromLng(ar[1])*this.worldSize,qt=ht-$<Be.x?Be.x/(ht-$):0}var xr=this.point,Dr=Math.max(qt||0,Lt||0);if(Dr){this.center=this.unproject(new i.Point(qt?(ht+$)/2:xr.x,Lt?(nt+Y)/2:xr.y)),this.zoom+=this.scaleZoom(Dr),this._unmodified=Ze,this._constraining=!1;return}if(this.latRange){var Qr=xr.y,Xr=Be.y/2;Qr-Xr<Y&&(be=Y+Xr),Qr+Xr>nt&&(be=nt-Xr)}if(this.lngRange){var Wr=xr.x,an=Be.x/2;Wr-an<$&&(ae=$+an),Wr+an>ht&&(ae=ht-an)}(ae!==void 0||be!==void 0)&&(this.center=this.unproject(new i.Point(ae!==void 0?ae:xr.x,be!==void 0?be:xr.y))),this._unmodified=Ze,this._constraining=!1}},Cn.prototype._calcMatrices=function(){if(this.height){var Y=this._fov/2,nt=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Y)*this.height;var $=Math.PI/2+this._pitch,ht=this._fov*(.5+nt.y/this.height),Lt=Math.sin(ht)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-$-ht,.01,Math.PI-.01)),qt=this.point,ae=qt.x,be=qt.y,Be=Math.cos(Math.PI/2-this._pitch)*Lt+this.cameraToCenterDistance,Ze=Be*1.01,cr=this.height/50,ar=new Float64Array(16);i.perspective(ar,this._fov,this.width/this.height,cr,Ze),ar[8]=-nt.x*2/this.width,ar[9]=nt.y*2/this.height,i.scale(ar,ar,[1,-1,1]),i.translate(ar,ar,[0,0,-this.cameraToCenterDistance]),i.rotateX(ar,ar,this._pitch),i.rotateZ(ar,ar,this.angle),i.translate(ar,ar,[-ae,-be,0]),this.mercatorMatrix=i.scale([],ar,[this.worldSize,this.worldSize,this.worldSize]),i.scale(ar,ar,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ar,this.invProjMatrix=i.invert([],this.projMatrix);var xr=this.width%2/2,Dr=this.height%2/2,Qr=Math.cos(this.angle),Xr=Math.sin(this.angle),Wr=ae-Math.round(ae)+Qr*xr+Xr*Dr,an=be-Math.round(be)+Qr*Dr+Xr*xr,yn=new Float64Array(ar);if(i.translate(yn,yn,[Wr>.5?Wr-1:Wr,an>.5?an-1:an,0]),this.alignedProjMatrix=yn,ar=i.create(),i.scale(ar,ar,[this.width/2,-this.height/2,1]),i.translate(ar,ar,[1,-1,0]),this.labelPlaneMatrix=ar,ar=i.create(),i.scale(ar,ar,[1,-1,1]),i.translate(ar,ar,[-1,-1,0]),i.scale(ar,ar,[2/this.width,2/this.height,1]),this.glCoordMatrix=ar,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),ar=i.invert(new Float64Array(16),this.pixelMatrix),!ar)throw new Error("failed to invert matrix");this.pixelMatrixInverse=ar,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Cn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Y=this.pointCoordinate(new i.Point(0,0)),nt=[Y.x*this.worldSize,Y.y*this.worldSize,0,1],$=i.transformMat4(nt,nt,this.pixelMatrix);return $[3]/this.cameraToCenterDistance},Cn.prototype.getCameraPoint=function(){var Y=this._pitch,nt=Math.tan(Y)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,nt))},Cn.prototype.getCameraQueryGeometry=function(Y){var nt=this.getCameraPoint();if(Y.length===1)return[Y[0],nt];for(var $=nt.x,ht=nt.y,Lt=nt.x,qt=nt.y,ae=0,be=Y;ae<be.length;ae+=1){var Be=be[ae];$=Math.min($,Be.x),ht=Math.min(ht,Be.y),Lt=Math.max(Lt,Be.x),qt=Math.max(qt,Be.y)}return[new i.Point($,ht),new i.Point(Lt,ht),new i.Point(Lt,qt),new i.Point($,qt),new i.Point($,ht)]},Object.defineProperties(Cn.prototype,Gn);function Ii(Y,nt){var $=!1,ht=null,Lt=function(){ht=null,$&&(Y(),ht=setTimeout(Lt,nt),$=!1)};return function(){return $=!0,ht||Lt(),ht}}var Oi=function(Y){this._hashName=Y&&encodeURIComponent(Y),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ii(this._updateHashUnthrottled.bind(this),30*1e3/100)};Oi.prototype.addTo=function(Y){return this._map=Y,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Oi.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Oi.prototype.getHashString=function(Y){var nt=this._map.getCenter(),$=Math.round(this._map.getZoom()*100)/100,ht=Math.ceil(($*Math.LN2+Math.log(512/360/.5))/Math.LN10),Lt=Math.pow(10,ht),qt=Math.round(nt.lng*Lt)/Lt,ae=Math.round(nt.lat*Lt)/Lt,be=this._map.getBearing(),Be=this._map.getPitch(),Ze="";if(Y?Ze+="/"+qt+"/"+ae+"/"+$:Ze+=$+"/"+ae+"/"+qt,(be||Be)&&(Ze+="/"+Math.round(be*10)/10),Be&&(Ze+="/"+Math.round(Be)),this._hashName){var cr=this._hashName,ar=!1,xr=i.window.location.hash.slice(1).split("&").map(function(Dr){var Qr=Dr.split("=")[0];return Qr===cr?(ar=!0,Qr+"="+Ze):Dr}).filter(function(Dr){return Dr});return ar||xr.push(cr+"="+Ze),"#"+xr.join("&")}return"#"+Ze},Oi.prototype._getCurrentHash=function(){var Y=this,nt=i.window.location.hash.replace("#","");if(this._hashName){var $;return nt.split("&").map(function(ht){return ht.split("=")}).forEach(function(ht){ht[0]===Y._hashName&&($=ht)}),($&&$[1]||"").split("/")}return nt.split("/")},Oi.prototype._onHashChange=function(){var Y=this._getCurrentHash();if(Y.length>=3&&!Y.some(function($){return isNaN($)})){var nt=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Y[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Y[2],+Y[1]],zoom:+Y[0],bearing:nt,pitch:+(Y[4]||0)}),!0}return!1},Oi.prototype._updateHashUnthrottled=function(){var Y=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,Y)}catch{}};var Di={linearity:.3,easing:i.bezier(0,0,.3,1)},Hi=i.extend({deceleration:2500,maxSpeed:1400},Di),Wi=i.extend({deceleration:20,maxSpeed:1400},Di),ca=i.extend({deceleration:1e3,maxSpeed:360},Di),Da=i.extend({deceleration:1e3,maxSpeed:90},Di),ft=function(Y){this._map=Y,this.clear()};ft.prototype.clear=function(){this._inertiaBuffer=[]},ft.prototype.record=function(Y){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:Y})},ft.prototype._drainInertiaBuffer=function(){for(var Y=this._inertiaBuffer,nt=i.browser.now(),$=160;Y.length>0&&nt-Y[0].time>$;)Y.shift()},ft.prototype._onMoveEnd=function(Y){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var nt={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},$=0,ht=this._inertiaBuffer;$<ht.length;$+=1){var Lt=ht[$],qt=Lt.settings;nt.zoom+=qt.zoomDelta||0,nt.bearing+=qt.bearingDelta||0,nt.pitch+=qt.pitchDelta||0,qt.panDelta&&nt.pan._add(qt.panDelta),qt.around&&(nt.around=qt.around),qt.pinchAround&&(nt.pinchAround=qt.pinchAround)}var ae=this._inertiaBuffer[this._inertiaBuffer.length-1],be=ae.time-this._inertiaBuffer[0].time,Be={};if(nt.pan.mag()){var Ze=zt(nt.pan.mag(),be,i.extend({},Hi,Y||{}));Be.offset=nt.pan.mult(Ze.amount/nt.pan.mag()),Be.center=this._map.transform.center,Tt(Be,Ze)}if(nt.zoom){var cr=zt(nt.zoom,be,Wi);Be.zoom=this._map.transform.zoom+cr.amount,Tt(Be,cr)}if(nt.bearing){var ar=zt(nt.bearing,be,ca);Be.bearing=this._map.transform.bearing+i.clamp(ar.amount,-179,179),Tt(Be,ar)}if(nt.pitch){var xr=zt(nt.pitch,be,Da);Be.pitch=this._map.transform.pitch+xr.amount,Tt(Be,xr)}if(Be.zoom||Be.bearing){var Dr=nt.pinchAround===void 0?nt.around:nt.pinchAround;Be.around=Dr?this._map.unproject(Dr):this._map.getCenter()}return this.clear(),i.extend(Be,{noMoveStart:!0})}};function Tt(Y,nt){(!Y.duration||Y.duration<nt.duration)&&(Y.duration=nt.duration,Y.easing=nt.easing)}function zt(Y,nt,$){var ht=$.maxSpeed,Lt=$.linearity,qt=$.deceleration,ae=i.clamp(Y*Lt/(nt/1e3),-ht,ht),be=Math.abs(ae)/(qt*Lt);return{easing:$.easing,duration:be*1e3,amount:ae*(be/2)}}var Kt=function(Y){function nt(ht,Lt,qt,ae){ae===void 0&&(ae={});var be=m.mousePos(Lt.getCanvasContainer(),qt),Be=Lt.unproject(be);Y.call(this,ht,i.extend({point:be,lngLat:Be,originalEvent:qt},ae)),this._defaultPrevented=!1,this.target=Lt}Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt;var $={defaultPrevented:{configurable:!0}};return nt.prototype.preventDefault=function(){this._defaultPrevented=!0},$.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(nt.prototype,$),nt}(i.Event),$t=function(Y){function nt(ht,Lt,qt){var ae=ht==="touchend"?qt.changedTouches:qt.touches,be=m.touchPos(Lt.getCanvasContainer(),ae),Be=be.map(function(ar){return Lt.unproject(ar)}),Ze=be.reduce(function(ar,xr,Dr,Qr){return ar.add(xr.div(Qr.length))},new i.Point(0,0)),cr=Lt.unproject(Ze);Y.call(this,ht,{points:be,point:Ze,lngLats:Be,lngLat:cr,originalEvent:qt}),this._defaultPrevented=!1}Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt;var $={defaultPrevented:{configurable:!0}};return nt.prototype.preventDefault=function(){this._defaultPrevented=!0},$.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(nt.prototype,$),nt}(i.Event),oe=function(Y){function nt(ht,Lt,qt){Y.call(this,ht,{originalEvent:qt}),this._defaultPrevented=!1}Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt;var $={defaultPrevented:{configurable:!0}};return nt.prototype.preventDefault=function(){this._defaultPrevented=!0},$.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(nt.prototype,$),nt}(i.Event),Me=function(Y,nt){this._map=Y,this._clickTolerance=nt.clickTolerance};Me.prototype.reset=function(){delete this._mousedownPos},Me.prototype.wheel=function(Y){return this._firePreventable(new oe(Y.type,this._map,Y))},Me.prototype.mousedown=function(Y,nt){return this._mousedownPos=nt,this._firePreventable(new Kt(Y.type,this._map,Y))},Me.prototype.mouseup=function(Y){this._map.fire(new Kt(Y.type,this._map,Y))},Me.prototype.click=function(Y,nt){this._mousedownPos&&this._mousedownPos.dist(nt)>=this._clickTolerance||this._map.fire(new Kt(Y.type,this._map,Y))},Me.prototype.dblclick=function(Y){return this._firePreventable(new Kt(Y.type,this._map,Y))},Me.prototype.mouseover=function(Y){this._map.fire(new Kt(Y.type,this._map,Y))},Me.prototype.mouseout=function(Y){this._map.fire(new Kt(Y.type,this._map,Y))},Me.prototype.touchstart=function(Y){return this._firePreventable(new $t(Y.type,this._map,Y))},Me.prototype.touchmove=function(Y){this._map.fire(new $t(Y.type,this._map,Y))},Me.prototype.touchend=function(Y){this._map.fire(new $t(Y.type,this._map,Y))},Me.prototype.touchcancel=function(Y){this._map.fire(new $t(Y.type,this._map,Y))},Me.prototype._firePreventable=function(Y){if(this._map.fire(Y),Y.defaultPrevented)return{}},Me.prototype.isEnabled=function(){return!0},Me.prototype.isActive=function(){return!1},Me.prototype.enable=function(){},Me.prototype.disable=function(){};var we=function(Y){this._map=Y};we.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},we.prototype.mousemove=function(Y){this._map.fire(new Kt(Y.type,this._map,Y))},we.prototype.mousedown=function(){this._delayContextMenu=!0},we.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Kt("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},we.prototype.contextmenu=function(Y){this._delayContextMenu?this._contextMenuEvent=Y:this._map.fire(new Kt(Y.type,this._map,Y)),this._map.listens("contextmenu")&&Y.preventDefault()},we.prototype.isEnabled=function(){return!0},we.prototype.isActive=function(){return!1},we.prototype.enable=function(){},we.prototype.disable=function(){};var He=function(Y,nt){this._map=Y,this._el=Y.getCanvasContainer(),this._container=Y.getContainer(),this._clickTolerance=nt.clickTolerance||1};He.prototype.isEnabled=function(){return!!this._enabled},He.prototype.isActive=function(){return!!this._active},He.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},He.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},He.prototype.mousedown=function(Y,nt){this.isEnabled()&&Y.shiftKey&&Y.button===0&&(m.disableDrag(),this._startPos=this._lastPos=nt,this._active=!0)},He.prototype.mousemoveWindow=function(Y,nt){if(this._active){var $=nt;if(!(this._lastPos.equals($)||!this._box&&$.dist(this._startPos)<this._clickTolerance)){var ht=this._startPos;this._lastPos=$,this._box||(this._box=m.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Y));var Lt=Math.min(ht.x,$.x),qt=Math.max(ht.x,$.x),ae=Math.min(ht.y,$.y),be=Math.max(ht.y,$.y);m.setTransform(this._box,"translate("+Lt+"px,"+ae+"px)"),this._box.style.width=qt-Lt+"px",this._box.style.height=be-ae+"px"}}},He.prototype.mouseupWindow=function(Y,nt){var $=this;if(this._active&&Y.button===0){var ht=this._startPos,Lt=nt;if(this.reset(),m.suppressClick(),ht.x===Lt.x&&ht.y===Lt.y)this._fireEvent("boxzoomcancel",Y);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:Y})),{cameraAnimation:function(qt){return qt.fitScreenCoordinates(ht,Lt,$._map.getBearing(),{linear:!0})}}}},He.prototype.keydown=function(Y){this._active&&Y.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Y))},He.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(m.remove(this._box),this._box=null),m.enableDrag(),delete this._startPos,delete this._lastPos},He.prototype._fireEvent=function(Y,nt){return this._map.fire(new i.Event(Y,{originalEvent:nt}))};function Ve(Y,nt){for(var $={},ht=0;ht<Y.length;ht++)$[Y[ht].identifier]=nt[ht];return $}function tr(Y){for(var nt=new i.Point(0,0),$=0,ht=Y;$<ht.length;$+=1){var Lt=ht[$];nt._add(Lt)}return nt.div(Y.length)}var Ar=500,Lr=500,Yr=30,on=function(Y){this.reset(),this.numTouches=Y.numTouches};on.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},on.prototype.touchstart=function(Y,nt,$){(this.centroid||$.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Y.timeStamp),$.length===this.numTouches&&(this.centroid=tr(nt),this.touches=Ve($,nt)))},on.prototype.touchmove=function(Y,nt,$){if(!(this.aborted||!this.centroid)){var ht=Ve($,nt);for(var Lt in this.touches){var qt=this.touches[Lt],ae=ht[Lt];(!ae||ae.dist(qt)>Yr)&&(this.aborted=!0)}}},on.prototype.touchend=function(Y,nt,$){if((!this.centroid||Y.timeStamp-this.startTime>Lr)&&(this.aborted=!0),$.length===0){var ht=!this.aborted&&this.centroid;if(this.reset(),ht)return ht}};var Pr=function(Y){this.singleTap=new on(Y),this.numTaps=Y.numTaps,this.reset()};Pr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Pr.prototype.touchstart=function(Y,nt,$){this.singleTap.touchstart(Y,nt,$)},Pr.prototype.touchmove=function(Y,nt,$){this.singleTap.touchmove(Y,nt,$)},Pr.prototype.touchend=function(Y,nt,$){var ht=this.singleTap.touchend(Y,nt,$);if(ht){var Lt=Y.timeStamp-this.lastTime<Ar,qt=!this.lastTap||this.lastTap.dist(ht)<Yr;if((!Lt||!qt)&&this.reset(),this.count++,this.lastTime=Y.timeStamp,this.lastTap=ht,this.count===this.numTaps)return this.reset(),ht}};var jr=function(){this._zoomIn=new Pr({numTouches:1,numTaps:2}),this._zoomOut=new Pr({numTouches:2,numTaps:1}),this.reset()};jr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},jr.prototype.touchstart=function(Y,nt,$){this._zoomIn.touchstart(Y,nt,$),this._zoomOut.touchstart(Y,nt,$)},jr.prototype.touchmove=function(Y,nt,$){this._zoomIn.touchmove(Y,nt,$),this._zoomOut.touchmove(Y,nt,$)},jr.prototype.touchend=function(Y,nt,$){var ht=this,Lt=this._zoomIn.touchend(Y,nt,$),qt=this._zoomOut.touchend(Y,nt,$);if(Lt)return this._active=!0,Y.preventDefault(),setTimeout(function(){return ht.reset()},0),{cameraAnimation:function(ae){return ae.easeTo({duration:300,zoom:ae.getZoom()+1,around:ae.unproject(Lt)},{originalEvent:Y})}};if(qt)return this._active=!0,Y.preventDefault(),setTimeout(function(){return ht.reset()},0),{cameraAnimation:function(ae){return ae.easeTo({duration:300,zoom:ae.getZoom()-1,around:ae.unproject(qt)},{originalEvent:Y})}}},jr.prototype.touchcancel=function(){this.reset()},jr.prototype.enable=function(){this._enabled=!0},jr.prototype.disable=function(){this._enabled=!1,this.reset()},jr.prototype.isEnabled=function(){return this._enabled},jr.prototype.isActive=function(){return this._active};var Zr=0,cn=2,hn={};hn[Zr]=1,hn[cn]=2;function $r(Y,nt){var $=hn[nt];return Y.buttons===void 0||(Y.buttons&$)!==$}var jn=function(Y){this.reset(),this._clickTolerance=Y.clickTolerance||1};jn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},jn.prototype._correctButton=function(Y,nt){return!1},jn.prototype._move=function(Y,nt){return{}},jn.prototype.mousedown=function(Y,nt){if(!this._lastPoint){var $=m.mouseButton(Y);this._correctButton(Y,$)&&(this._lastPoint=nt,this._eventButton=$)}},jn.prototype.mousemoveWindow=function(Y,nt){var $=this._lastPoint;if($){if(Y.preventDefault(),$r(Y,this._eventButton)){this.reset();return}if(!(!this._moved&&nt.dist($)<this._clickTolerance))return this._moved=!0,this._lastPoint=nt,this._move($,nt)}},jn.prototype.mouseupWindow=function(Y){if(this._lastPoint){var nt=m.mouseButton(Y);nt===this._eventButton&&(this._moved&&m.suppressClick(),this.reset())}},jn.prototype.enable=function(){this._enabled=!0},jn.prototype.disable=function(){this._enabled=!1,this.reset()},jn.prototype.isEnabled=function(){return this._enabled},jn.prototype.isActive=function(){return this._active};var Qn=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.mousedown=function($,ht){Y.prototype.mousedown.call(this,$,ht),this._lastPoint&&(this._active=!0)},nt.prototype._correctButton=function($,ht){return ht===Zr&&!$.ctrlKey},nt.prototype._move=function($,ht){return{around:ht,panDelta:ht.sub($)}},nt}(jn),ui=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype._correctButton=function($,ht){return ht===Zr&&$.ctrlKey||ht===cn},nt.prototype._move=function($,ht){var Lt=.8,qt=(ht.x-$.x)*Lt;if(qt)return this._active=!0,{bearingDelta:qt}},nt.prototype.contextmenu=function($){$.preventDefault()},nt}(jn),Jn=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype._correctButton=function($,ht){return ht===Zr&&$.ctrlKey||ht===cn},nt.prototype._move=function($,ht){var Lt=-.5,qt=(ht.y-$.y)*Lt;if(qt)return this._active=!0,{pitchDelta:qt}},nt.prototype.contextmenu=function($){$.preventDefault()},nt}(jn),ii=function(Y){this._minTouches=1,this._clickTolerance=Y.clickTolerance||1,this.reset()};ii.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},ii.prototype.touchstart=function(Y,nt,$){return this._calculateTransform(Y,nt,$)},ii.prototype.touchmove=function(Y,nt,$){if(!(!this._active||$.length<this._minTouches))return Y.preventDefault(),this._calculateTransform(Y,nt,$)},ii.prototype.touchend=function(Y,nt,$){this._calculateTransform(Y,nt,$),this._active&&$.length<this._minTouches&&this.reset()},ii.prototype.touchcancel=function(){this.reset()},ii.prototype._calculateTransform=function(Y,nt,$){$.length>0&&(this._active=!0);var ht=Ve($,nt),Lt=new i.Point(0,0),qt=new i.Point(0,0),ae=0;for(var be in ht){var Be=ht[be],Ze=this._touches[be];Ze&&(Lt._add(Be),qt._add(Be.sub(Ze)),ae++,ht[be]=Be)}if(this._touches=ht,!(ae<this._minTouches||!qt.mag())){var cr=qt.div(ae);if(this._sum._add(cr),!(this._sum.mag()<this._clickTolerance)){var ar=Lt.div(ae);return{around:ar,panDelta:cr}}}},ii.prototype.enable=function(){this._enabled=!0},ii.prototype.disable=function(){this._enabled=!1,this.reset()},ii.prototype.isEnabled=function(){return this._enabled},ii.prototype.isActive=function(){return this._active};var ci=function(){this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ci.prototype._start=function(Y){},ci.prototype._move=function(Y,nt,$){return{}},ci.prototype.touchstart=function(Y,nt,$){this._firstTwoTouches||$.length<2||(this._firstTwoTouches=[$[0].identifier,$[1].identifier],this._start([nt[0],nt[1]]))},ci.prototype.touchmove=function(Y,nt,$){if(this._firstTwoTouches){Y.preventDefault();var ht=this._firstTwoTouches,Lt=ht[0],qt=ht[1],ae=Vi($,nt,Lt),be=Vi($,nt,qt);if(!(!ae||!be)){var Be=this._aroundCenter?null:ae.add(be).div(2);return this._move([ae,be],Be,Y)}}},ci.prototype.touchend=function(Y,nt,$){if(this._firstTwoTouches){var ht=this._firstTwoTouches,Lt=ht[0],qt=ht[1],ae=Vi($,nt,Lt),be=Vi($,nt,qt);ae&&be||(this._active&&m.suppressClick(),this.reset())}},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(Y){this._enabled=!0,this._aroundCenter=!!Y&&Y.around==="center"},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};function Vi(Y,nt,$){for(var ht=0;ht<Y.length;ht++)if(Y[ht].identifier===$)return nt[ht]}var ki=.1;function ji(Y,nt){return Math.log(Y/nt)/Math.LN2}var ra=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.reset=function(){Y.prototype.reset.call(this),delete this._distance,delete this._startDistance},nt.prototype._start=function($){this._startDistance=this._distance=$[0].dist($[1])},nt.prototype._move=function($,ht){var Lt=this._distance;if(this._distance=$[0].dist($[1]),!(!this._active&&Math.abs(ji(this._distance,this._startDistance))<ki))return this._active=!0,{zoomDelta:ji(this._distance,Lt),pinchAround:ht}},nt}(ci),Na=25;function aa(Y,nt){return Y.angleWith(nt)*180/Math.PI}var Yn=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.reset=function(){Y.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},nt.prototype._start=function($){this._startVector=this._vector=$[0].sub($[1]),this._minDiameter=$[0].dist($[1])},nt.prototype._move=function($,ht){var Lt=this._vector;if(this._vector=$[0].sub($[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:aa(this._vector,Lt),pinchAround:ht}},nt.prototype._isBelowThreshold=function($){this._minDiameter=Math.min(this._minDiameter,$.mag());var ht=Math.PI*this._minDiameter,Lt=Na/ht*360,qt=aa($,this._startVector);return Math.abs(qt)<Lt},nt}(ci);function Ui(Y){return Math.abs(Y.y)>Math.abs(Y.x)}var wi=100,Gi=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.reset=function(){Y.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},nt.prototype._start=function($){this._lastPoints=$,Ui($[0].sub($[1]))&&(this._valid=!1)},nt.prototype._move=function($,ht,Lt){var qt=$[0].sub(this._lastPoints[0]),ae=$[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(qt,ae,Lt.timeStamp),!!this._valid){this._lastPoints=$,this._active=!0;var be=(qt.y+ae.y)/2,Be=-.5;return{pitchDelta:be*Be}}},nt.prototype.gestureBeginsVertically=function($,ht,Lt){if(this._valid!==void 0)return this._valid;var qt=2,ae=$.mag()>=qt,be=ht.mag()>=qt;if(!(!ae&&!be)){if(!ae||!be)return this._firstMove===void 0&&(this._firstMove=Lt),Lt-this._firstMove<wi?void 0:!1;var Be=$.y>0==ht.y>0;return Ui($)&&Ui(ht)&&Be}},nt}(ci),xa={panStep:100,bearingStep:15,pitchStep:10},na=function(){var Y=xa;this._panStep=Y.panStep,this._bearingStep=Y.bearingStep,this._pitchStep=Y.pitchStep,this._rotationDisabled=!1};na.prototype.reset=function(){this._active=!1},na.prototype.keydown=function(Y){var nt=this;if(!(Y.altKey||Y.ctrlKey||Y.metaKey)){var $=0,ht=0,Lt=0,qt=0,ae=0;switch(Y.keyCode){case 61:case 107:case 171:case 187:$=1;break;case 189:case 109:case 173:$=-1;break;case 37:Y.shiftKey?ht=-1:(Y.preventDefault(),qt=-1);break;case 39:Y.shiftKey?ht=1:(Y.preventDefault(),qt=1);break;case 38:Y.shiftKey?Lt=1:(Y.preventDefault(),ae=-1);break;case 40:Y.shiftKey?Lt=-1:(Y.preventDefault(),ae=1);break;default:return}return this._rotationDisabled&&(ht=0,Lt=0),{cameraAnimation:function(be){var Be=be.getZoom();be.easeTo({duration:300,easeId:"keyboardHandler",easing:to,zoom:$?Math.round(Be)+$*(Y.shiftKey?2:1):Be,bearing:be.getBearing()+ht*nt._bearingStep,pitch:be.getPitch()+Lt*nt._pitchStep,offset:[-qt*nt._panStep,-ae*nt._panStep],center:be.getCenter()},{originalEvent:Y})}}}},na.prototype.enable=function(){this._enabled=!0},na.prototype.disable=function(){this._enabled=!1,this.reset()},na.prototype.isEnabled=function(){return this._enabled},na.prototype.isActive=function(){return this._active},na.prototype.disableRotation=function(){this._rotationDisabled=!0},na.prototype.enableRotation=function(){this._rotationDisabled=!1};function to(Y){return Y*(2-Y)}var eo=4.000244140625,oo=1/100,ba=1/450,xo=2,si=function(Y,nt){this._map=Y,this._el=Y.getCanvasContainer(),this._handler=nt,this._delta=0,this._defaultZoomRate=oo,this._wheelZoomRate=ba,i.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(Y){this._defaultZoomRate=Y},si.prototype.setWheelZoomRate=function(Y){this._wheelZoomRate=Y},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(Y){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Y&&Y.around==="center")},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(Y){if(this.isEnabled()){var nt=Y.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?Y.deltaY*40:Y.deltaY,$=i.browser.now(),ht=$-(this._lastWheelEventTime||0);this._lastWheelEventTime=$,nt!==0&&nt%eo===0?this._type="wheel":nt!==0&&Math.abs(nt)<4?this._type="trackpad":ht>400?(this._type=null,this._lastValue=nt,this._timeout=setTimeout(this._onTimeout,40,Y)):this._type||(this._type=Math.abs(ht*nt)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,nt+=this._lastValue)),Y.shiftKey&&nt&&(nt=nt/4),this._type&&(this._lastWheelEvent=Y,this._delta-=nt,this._active||this._start(Y)),Y.preventDefault()}},si.prototype._onTimeout=function(Y){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Y)},si.prototype._start=function(Y){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var nt=m.mousePos(this._el,Y);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(nt)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var Y=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var nt=this._map.transform;if(this._delta!==0){var $=this._type==="wheel"&&Math.abs(this._delta)>eo?this._wheelZoomRate:this._defaultZoomRate,ht=xo/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&ht!==0&&(ht=1/ht);var Lt=typeof this._targetZoom=="number"?nt.zoomScale(this._targetZoom):nt.scale;this._targetZoom=Math.min(nt.maxZoom,Math.max(nt.minZoom,nt.scaleZoom(Lt*ht))),this._type==="wheel"&&(this._startZoom=nt.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var qt=typeof this._targetZoom=="number"?this._targetZoom:nt.zoom,ae=this._startZoom,be=this._easing,Be=!1,Ze;if(this._type==="wheel"&&ae&&be){var cr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),ar=be(cr);Ze=i.number(ae,qt,ar),cr<1?this._frameId||(this._frameId=!0):Be=!0}else Ze=qt,Be=!0;return this._active=!0,Be&&(this._active=!1,this._finishTimeout=setTimeout(function(){Y._zooming=!1,Y._handler._triggerRenderFrame(),delete Y._targetZoom,delete Y._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Be,zoomDelta:Ze-nt.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(Y){var nt=i.ease;if(this._prevEase){var $=this._prevEase,ht=(i.browser.now()-$.start)/$.duration,Lt=$.easing(ht+.01)-$.easing(ht),qt=.27/Math.sqrt(Lt*Lt+1e-4)*.01,ae=Math.sqrt(.27*.27-qt*qt);nt=i.bezier(qt,ae,.25,1)}return this._prevEase={start:i.browser.now(),duration:Y,easing:nt},nt},si.prototype.reset=function(){this._active=!1};var Mi=function(Y,nt){this._clickZoom=Y,this._tapZoom=nt};Mi.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Mi.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Mi.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Mi.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Io=function(){this.reset()};Io.prototype.reset=function(){this._active=!1},Io.prototype.dblclick=function(Y,nt){return Y.preventDefault(),{cameraAnimation:function($){$.easeTo({duration:300,zoom:$.getZoom()+(Y.shiftKey?-1:1),around:$.unproject(nt)},{originalEvent:Y})}}},Io.prototype.enable=function(){this._enabled=!0},Io.prototype.disable=function(){this._enabled=!1,this.reset()},Io.prototype.isEnabled=function(){return this._enabled},Io.prototype.isActive=function(){return this._active};var jo=function(){this._tap=new Pr({numTouches:1,numTaps:1}),this.reset()};jo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},jo.prototype.touchstart=function(Y,nt,$){this._swipePoint||(this._tapTime&&Y.timeStamp-this._tapTime>Ar&&this.reset(),this._tapTime?$.length>0&&(this._swipePoint=nt[0],this._swipeTouch=$[0].identifier):this._tap.touchstart(Y,nt,$))},jo.prototype.touchmove=function(Y,nt,$){if(!this._tapTime)this._tap.touchmove(Y,nt,$);else if(this._swipePoint){if($[0].identifier!==this._swipeTouch)return;var ht=nt[0],Lt=ht.y-this._swipePoint.y;return this._swipePoint=ht,Y.preventDefault(),this._active=!0,{zoomDelta:Lt/128}}},jo.prototype.touchend=function(Y,nt,$){if(this._tapTime)this._swipePoint&&$.length===0&&this.reset();else{var ht=this._tap.touchend(Y,nt,$);ht&&(this._tapTime=Y.timeStamp)}},jo.prototype.touchcancel=function(){this.reset()},jo.prototype.enable=function(){this._enabled=!0},jo.prototype.disable=function(){this._enabled=!1,this.reset()},jo.prototype.isEnabled=function(){return this._enabled},jo.prototype.isActive=function(){return this._active};var so=function(Y,nt,$){this._el=Y,this._mousePan=nt,this._touchPan=$};so.prototype.enable=function(Y){this._inertiaOptions=Y||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},so.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},so.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},so.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var sa=function(Y,nt,$){this._pitchWithRotate=Y.pitchWithRotate,this._mouseRotate=nt,this._mousePitch=$};sa.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},sa.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},sa.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},sa.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ga=function(Y,nt,$,ht){this._el=Y,this._touchZoom=nt,this._touchRotate=$,this._tapDragZoom=ht,this._rotationDisabled=!1,this._enabled=!0};Ga.prototype.enable=function(Y){this._touchZoom.enable(Y),this._rotationDisabled||this._touchRotate.enable(Y),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Ga.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Ga.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ga.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ga.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ga.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ja=function(Y){return Y.zoom||Y.drag||Y.pitch||Y.rotate},bs=function(Y){function nt(){Y.apply(this,arguments)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt}(i.Event);function Fs(Y){return Y.panDelta&&Y.panDelta.mag()||Y.zoomDelta||Y.bearingDelta||Y.pitchDelta}var Sa=function(Y,nt){this._map=Y,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ft(Y),this._bearingSnap=nt.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(nt),i.bindAll(["handleEvent","handleWindowEvent"],this);var $=this._el;this._listeners=[[$,"touchstart",{passive:!0}],[$,"touchmove",{passive:!1}],[$,"touchend",void 0],[$,"touchcancel",void 0],[$,"mousedown",void 0],[$,"mousemove",void 0],[$,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[$,"mouseover",void 0],[$,"mouseout",void 0],[$,"dblclick",void 0],[$,"click",void 0],[$,"keydown",{capture:!1}],[$,"keyup",void 0],[$,"wheel",{passive:!1}],[$,"contextmenu",void 0],[i.window,"blur",void 0]];for(var ht=0,Lt=this._listeners;ht<Lt.length;ht+=1){var qt=Lt[ht],ae=qt[0],be=qt[1],Be=qt[2];m.addEventListener(ae,be,ae===i.window.document?this.handleWindowEvent:this.handleEvent,Be)}};Sa.prototype.destroy=function(){for(var Y=0,nt=this._listeners;Y<nt.length;Y+=1){var $=nt[Y],ht=$[0],Lt=$[1],qt=$[2];m.removeEventListener(ht,Lt,ht===i.window.document?this.handleWindowEvent:this.handleEvent,qt)}},Sa.prototype._addDefaultHandlers=function(Y){var nt=this._map,$=nt.getCanvasContainer();this._add("mapEvent",new Me(nt,Y));var ht=nt.boxZoom=new He(nt,Y);this._add("boxZoom",ht);var Lt=new jr,qt=new Io;nt.doubleClickZoom=new Mi(qt,Lt),this._add("tapZoom",Lt),this._add("clickZoom",qt);var ae=new jo;this._add("tapDragZoom",ae);var be=nt.touchPitch=new Gi;this._add("touchPitch",be);var Be=new ui(Y),Ze=new Jn(Y);nt.dragRotate=new sa(Y,Be,Ze),this._add("mouseRotate",Be,["mousePitch"]),this._add("mousePitch",Ze,["mouseRotate"]);var cr=new Qn(Y),ar=new ii(Y);nt.dragPan=new so($,cr,ar),this._add("mousePan",cr),this._add("touchPan",ar,["touchZoom","touchRotate"]);var xr=new Yn,Dr=new ra;nt.touchZoomRotate=new Ga($,Dr,xr,ae),this._add("touchRotate",xr,["touchPan","touchZoom"]),this._add("touchZoom",Dr,["touchPan","touchRotate"]);var Qr=nt.scrollZoom=new si(nt,this);this._add("scrollZoom",Qr,["mousePan"]);var Xr=nt.keyboard=new na;this._add("keyboard",Xr),this._add("blockableMapEvent",new we(nt));for(var Wr=0,an=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Wr<an.length;Wr+=1){var yn=an[Wr];Y.interactive&&Y[yn]&&nt[yn].enable(Y[yn])}},Sa.prototype._add=function(Y,nt,$){this._handlers.push({handlerName:Y,handler:nt,allowed:$}),this._handlersById[Y]=nt},Sa.prototype.stop=function(Y){if(!this._updatingCamera){for(var nt=0,$=this._handlers;nt<$.length;nt+=1){var ht=$[nt],Lt=ht.handler;Lt.reset()}this._inertia.clear(),this._fireEvents({},{},Y),this._changes=[]}},Sa.prototype.isActive=function(){for(var Y=0,nt=this._handlers;Y<nt.length;Y+=1){var $=nt[Y],ht=$.handler;if(ht.isActive())return!0}return!1},Sa.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Sa.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Sa.prototype.isMoving=function(){return!!ja(this._eventsInProgress)||this.isZooming()},Sa.prototype._blockedByActive=function(Y,nt,$){for(var ht in Y)if(ht!==$&&(!nt||nt.indexOf(ht)<0))return!0;return!1},Sa.prototype.handleWindowEvent=function(Y){this.handleEvent(Y,Y.type+"Window")},Sa.prototype._getMapTouches=function(Y){for(var nt=[],$=0,ht=Y;$<ht.length;$+=1){var Lt=ht[$],qt=Lt.target;this._el.contains(qt)&&nt.push(Lt)}return nt},Sa.prototype.handleEvent=function(Y,nt){if(Y.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var $=Y.type==="renderFrame"?void 0:Y,ht={needsRenderFrame:!1},Lt={},qt={},ae=Y.touches?this._getMapTouches(Y.touches):void 0,be=ae?m.touchPos(this._el,ae):m.mousePos(this._el,Y),Be=0,Ze=this._handlers;Be<Ze.length;Be+=1){var cr=Ze[Be],ar=cr.handlerName,xr=cr.handler,Dr=cr.allowed;if(xr.isEnabled()){var Qr=void 0;this._blockedByActive(qt,Dr,ar)?xr.reset():xr[nt||Y.type]&&(Qr=xr[nt||Y.type](Y,be,ae),this.mergeHandlerResult(ht,Lt,Qr,ar,$),Qr&&Qr.needsRenderFrame&&this._triggerRenderFrame()),(Qr||xr.isActive())&&(qt[ar]=xr)}}var Xr={};for(var Wr in this._previousActiveHandlers)qt[Wr]||(Xr[Wr]=$);this._previousActiveHandlers=qt,(Object.keys(Xr).length||Fs(ht))&&(this._changes.push([ht,Lt,Xr]),this._triggerRenderFrame()),(Object.keys(qt).length||Fs(ht))&&this._map._stop(!0),this._updatingCamera=!1;var an=ht.cameraAnimation;an&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],an(this._map))},Sa.prototype.mergeHandlerResult=function(Y,nt,$,ht,Lt){if($){i.extend(Y,$);var qt={handlerName:ht,originalEvent:$.originalEvent||Lt};$.zoomDelta!==void 0&&(nt.zoom=qt),$.panDelta!==void 0&&(nt.drag=qt),$.pitchDelta!==void 0&&(nt.pitch=qt),$.bearingDelta!==void 0&&(nt.rotate=qt)}},Sa.prototype._applyChanges=function(){for(var Y={},nt={},$={},ht=0,Lt=this._changes;ht<Lt.length;ht+=1){var qt=Lt[ht],ae=qt[0],be=qt[1],Be=qt[2];ae.panDelta&&(Y.panDelta=(Y.panDelta||new i.Point(0,0))._add(ae.panDelta)),ae.zoomDelta&&(Y.zoomDelta=(Y.zoomDelta||0)+ae.zoomDelta),ae.bearingDelta&&(Y.bearingDelta=(Y.bearingDelta||0)+ae.bearingDelta),ae.pitchDelta&&(Y.pitchDelta=(Y.pitchDelta||0)+ae.pitchDelta),ae.around!==void 0&&(Y.around=ae.around),ae.pinchAround!==void 0&&(Y.pinchAround=ae.pinchAround),ae.noInertia&&(Y.noInertia=ae.noInertia),i.extend(nt,be),i.extend($,Be)}this._updateMapTransform(Y,nt,$),this._changes=[]},Sa.prototype._updateMapTransform=function(Y,nt,$){var ht=this._map,Lt=ht.transform;if(!Fs(Y))return this._fireEvents(nt,$,!0);var qt=Y.panDelta,ae=Y.zoomDelta,be=Y.bearingDelta,Be=Y.pitchDelta,Ze=Y.around,cr=Y.pinchAround;cr!==void 0&&(Ze=cr),ht._stop(!0),Ze=Ze||ht.transform.centerPoint;var ar=Lt.pointLocation(qt?Ze.sub(qt):Ze);be&&(Lt.bearing+=be),Be&&(Lt.pitch+=Be),ae&&(Lt.zoom+=ae),Lt.setLocationAtPoint(ar,Ze),this._map._update(),Y.noInertia||this._inertia.record(Y),this._fireEvents(nt,$,!0)},Sa.prototype._fireEvents=function(Y,nt,$){var ht=this,Lt=ja(this._eventsInProgress),qt=ja(Y),ae={};for(var be in Y){var Be=Y[be],Ze=Be.originalEvent;this._eventsInProgress[be]||(ae[be+"start"]=Ze),this._eventsInProgress[be]=Y[be]}!Lt&&qt&&this._fireEvent("movestart",qt.originalEvent);for(var cr in ae)this._fireEvent(cr,ae[cr]);qt&&this._fireEvent("move",qt.originalEvent);for(var ar in Y){var xr=Y[ar],Dr=xr.originalEvent;this._fireEvent(ar,Dr)}var Qr={},Xr;for(var Wr in this._eventsInProgress){var an=this._eventsInProgress[Wr],yn=an.handlerName,Xn=an.originalEvent;this._handlersById[yn].isActive()||(delete this._eventsInProgress[Wr],Xr=nt[yn]||Xn,Qr[Wr+"end"]=Xr)}for(var Hn in Qr)this._fireEvent(Hn,Qr[Hn]);var Un=ja(this._eventsInProgress);if($&&(Lt||qt)&&!Un){this._updatingCamera=!0;var Wn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),qn=function($n){return $n!==0&&-ht._bearingSnap<$n&&$n<ht._bearingSnap};Wn?(qn(Wn.bearing||this._map.getBearing())&&(Wn.bearing=0),this._map.easeTo(Wn,{originalEvent:Xr})):(this._map.fire(new i.Event("moveend",{originalEvent:Xr})),qn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Sa.prototype._fireEvent=function(Y,nt){this._map.fire(new i.Event(Y,nt?{originalEvent:nt}:{}))},Sa.prototype._requestFrame=function(){var Y=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(nt){delete Y._frameId,Y.handleEvent(new bs("renderFrame",{timeStamp:nt})),Y._applyChanges()})},Sa.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var tu=function(Y){function nt($,ht){Y.call(this),this._moving=!1,this._zooming=!1,this.transform=$,this._bearingSnap=ht.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},nt.prototype.setCenter=function($,ht){return this.jumpTo({center:$},ht)},nt.prototype.panBy=function($,ht,Lt){return $=i.Point.convert($).mult(-1),this.panTo(this.transform.center,i.extend({offset:$},ht),Lt)},nt.prototype.panTo=function($,ht,Lt){return this.easeTo(i.extend({center:$},ht),Lt)},nt.prototype.getZoom=function(){return this.transform.zoom},nt.prototype.setZoom=function($,ht){return this.jumpTo({zoom:$},ht),this},nt.prototype.zoomTo=function($,ht,Lt){return this.easeTo(i.extend({zoom:$},ht),Lt)},nt.prototype.zoomIn=function($,ht){return this.zoomTo(this.getZoom()+1,$,ht),this},nt.prototype.zoomOut=function($,ht){return this.zoomTo(this.getZoom()-1,$,ht),this},nt.prototype.getBearing=function(){return this.transform.bearing},nt.prototype.setBearing=function($,ht){return this.jumpTo({bearing:$},ht),this},nt.prototype.getPadding=function(){return this.transform.padding},nt.prototype.setPadding=function($,ht){return this.jumpTo({padding:$},ht),this},nt.prototype.rotateTo=function($,ht,Lt){return this.easeTo(i.extend({bearing:$},ht),Lt)},nt.prototype.resetNorth=function($,ht){return this.rotateTo(0,i.extend({duration:1e3},$),ht),this},nt.prototype.resetNorthPitch=function($,ht){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},$),ht),this},nt.prototype.snapToNorth=function($,ht){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth($,ht):this},nt.prototype.getPitch=function(){return this.transform.pitch},nt.prototype.setPitch=function($,ht){return this.jumpTo({pitch:$},ht),this},nt.prototype.cameraForBounds=function($,ht){$=i.LngLatBounds.convert($);var Lt=ht&&ht.bearing||0;return this._cameraForBoxAndBearing($.getNorthWest(),$.getSouthEast(),Lt,ht)},nt.prototype._cameraForBoxAndBearing=function($,ht,Lt,qt){var ae={top:0,bottom:0,right:0,left:0};if(qt=i.extend({padding:ae,offset:[0,0],maxZoom:this.transform.maxZoom},qt),typeof qt.padding=="number"){var be=qt.padding;qt.padding={top:be,bottom:be,right:be,left:be}}qt.padding=i.extend(ae,qt.padding);var Be=this.transform,Ze=Be.padding,cr=Be.project(i.LngLat.convert($)),ar=Be.project(i.LngLat.convert(ht)),xr=cr.rotate(-Lt*Math.PI/180),Dr=ar.rotate(-Lt*Math.PI/180),Qr=new i.Point(Math.max(xr.x,Dr.x),Math.max(xr.y,Dr.y)),Xr=new i.Point(Math.min(xr.x,Dr.x),Math.min(xr.y,Dr.y)),Wr=Qr.sub(Xr),an=(Be.width-(Ze.left+Ze.right+qt.padding.left+qt.padding.right))/Wr.x,yn=(Be.height-(Ze.top+Ze.bottom+qt.padding.top+qt.padding.bottom))/Wr.y;if(yn<0||an<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Xn=Math.min(Be.scaleZoom(Be.scale*Math.min(an,yn)),qt.maxZoom),Hn=typeof qt.offset.x=="number"?new i.Point(qt.offset.x,qt.offset.y):i.Point.convert(qt.offset),Un=(qt.padding.left-qt.padding.right)/2,Wn=(qt.padding.top-qt.padding.bottom)/2,qn=new i.Point(Un,Wn),$n=qn.rotate(Lt*Math.PI/180),ni=Hn.add($n),xi=ni.mult(Be.scale/Be.zoomScale(Xn)),vi=Be.unproject(cr.add(ar).div(2).sub(xi));return{center:vi,zoom:Xn,bearing:Lt}},nt.prototype.fitBounds=function($,ht,Lt){return this._fitInternal(this.cameraForBounds($,ht),ht,Lt)},nt.prototype.fitScreenCoordinates=function($,ht,Lt,qt,ae){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert($)),this.transform.pointLocation(i.Point.convert(ht)),Lt,qt),qt,ae)},nt.prototype._fitInternal=function($,ht,Lt){return $?(ht=i.extend($,ht),delete ht.padding,ht.linear?this.easeTo(ht,Lt):this.flyTo(ht,Lt)):this},nt.prototype.jumpTo=function($,ht){this.stop();var Lt=this.transform,qt=!1,ae=!1,be=!1;return"zoom"in $&&Lt.zoom!==+$.zoom&&(qt=!0,Lt.zoom=+$.zoom),$.center!==void 0&&(Lt.center=i.LngLat.convert($.center)),"bearing"in $&&Lt.bearing!==+$.bearing&&(ae=!0,Lt.bearing=+$.bearing),"pitch"in $&&Lt.pitch!==+$.pitch&&(be=!0,Lt.pitch=+$.pitch),$.padding!=null&&!Lt.isPaddingEqual($.padding)&&(Lt.padding=$.padding),this.fire(new i.Event("movestart",ht)).fire(new i.Event("move",ht)),qt&&this.fire(new i.Event("zoomstart",ht)).fire(new i.Event("zoom",ht)).fire(new i.Event("zoomend",ht)),ae&&this.fire(new i.Event("rotatestart",ht)).fire(new i.Event("rotate",ht)).fire(new i.Event("rotateend",ht)),be&&this.fire(new i.Event("pitchstart",ht)).fire(new i.Event("pitch",ht)).fire(new i.Event("pitchend",ht)),this.fire(new i.Event("moveend",ht))},nt.prototype.easeTo=function($,ht){var Lt=this;this._stop(!1,$.easeId),$=i.extend({offset:[0,0],duration:500,easing:i.ease},$),($.animate===!1||!$.essential&&i.browser.prefersReducedMotion)&&($.duration=0);var qt=this.transform,ae=this.getZoom(),be=this.getBearing(),Be=this.getPitch(),Ze=this.getPadding(),cr="zoom"in $?+$.zoom:ae,ar="bearing"in $?this._normalizeBearing($.bearing,be):be,xr="pitch"in $?+$.pitch:Be,Dr="padding"in $?$.padding:qt.padding,Qr=i.Point.convert($.offset),Xr=qt.centerPoint.add(Qr),Wr=qt.pointLocation(Xr),an=i.LngLat.convert($.center||Wr);this._normalizeCenter(an);var yn=qt.project(Wr),Xn=qt.project(an).sub(yn),Hn=qt.zoomScale(cr-ae),Un,Wn;$.around&&(Un=i.LngLat.convert($.around),Wn=qt.locationPoint(Un));var qn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||cr!==ae,this._rotating=this._rotating||be!==ar,this._pitching=this._pitching||xr!==Be,this._padding=!qt.isPaddingEqual(Dr),this._easeId=$.easeId,this._prepareEase(ht,$.noMoveStart,qn),this._ease(function($n){if(Lt._zooming&&(qt.zoom=i.number(ae,cr,$n)),Lt._rotating&&(qt.bearing=i.number(be,ar,$n)),Lt._pitching&&(qt.pitch=i.number(Be,xr,$n)),Lt._padding&&(qt.interpolatePadding(Ze,Dr,$n),Xr=qt.centerPoint.add(Qr)),Un)qt.setLocationAtPoint(Un,Wn);else{var ni=qt.zoomScale(qt.zoom-ae),xi=cr>ae?Math.min(2,Hn):Math.max(.5,Hn),vi=Math.pow(xi,1-$n),yi=qt.unproject(yn.add(Xn.mult($n*vi)).mult(ni));qt.setLocationAtPoint(qt.renderWorldCopies?yi.wrap():yi,Xr)}Lt._fireMoveEvents(ht)},function($n){Lt._afterEase(ht,$n)},$),this},nt.prototype._prepareEase=function($,ht,Lt){Lt===void 0&&(Lt={}),this._moving=!0,!ht&&!Lt.moving&&this.fire(new i.Event("movestart",$)),this._zooming&&!Lt.zooming&&this.fire(new i.Event("zoomstart",$)),this._rotating&&!Lt.rotating&&this.fire(new i.Event("rotatestart",$)),this._pitching&&!Lt.pitching&&this.fire(new i.Event("pitchstart",$))},nt.prototype._fireMoveEvents=function($){this.fire(new i.Event("move",$)),this._zooming&&this.fire(new i.Event("zoom",$)),this._rotating&&this.fire(new i.Event("rotate",$)),this._pitching&&this.fire(new i.Event("pitch",$))},nt.prototype._afterEase=function($,ht){if(!(this._easeId&&ht&&this._easeId===ht)){delete this._easeId;var Lt=this._zooming,qt=this._rotating,ae=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Lt&&this.fire(new i.Event("zoomend",$)),qt&&this.fire(new i.Event("rotateend",$)),ae&&this.fire(new i.Event("pitchend",$)),this.fire(new i.Event("moveend",$))}},nt.prototype.flyTo=function($,ht){var Lt=this;if(!$.essential&&i.browser.prefersReducedMotion){var qt=i.pick($,["center","zoom","bearing","pitch","around"]);return this.jumpTo(qt,ht)}this.stop(),$=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},$);var ae=this.transform,be=this.getZoom(),Be=this.getBearing(),Ze=this.getPitch(),cr=this.getPadding(),ar="zoom"in $?i.clamp(+$.zoom,ae.minZoom,ae.maxZoom):be,xr="bearing"in $?this._normalizeBearing($.bearing,Be):Be,Dr="pitch"in $?+$.pitch:Ze,Qr="padding"in $?$.padding:ae.padding,Xr=ae.zoomScale(ar-be),Wr=i.Point.convert($.offset),an=ae.centerPoint.add(Wr),yn=ae.pointLocation(an),Xn=i.LngLat.convert($.center||yn);this._normalizeCenter(Xn);var Hn=ae.project(yn),Un=ae.project(Xn).sub(Hn),Wn=$.curve,qn=Math.max(ae.width,ae.height),$n=qn/Xr,ni=Un.mag();if("minZoom"in $){var xi=i.clamp(Math.min($.minZoom,be,ar),ae.minZoom,ae.maxZoom),vi=qn/ae.zoomScale(xi-be);Wn=Math.sqrt(vi/ni*2)}var yi=Wn*Wn;function qi(zi){var Ki=($n*$n-qn*qn+(zi?-1:1)*yi*yi*ni*ni)/(2*(zi?$n:qn)*yi*ni);return Math.log(Math.sqrt(Ki*Ki+1)-Ki)}function _a(zi){return(Math.exp(zi)-Math.exp(-zi))/2}function Ei(zi){return(Math.exp(zi)+Math.exp(-zi))/2}function Ri(zi){return _a(zi)/Ei(zi)}var Xi=qi(0),ia=function(zi){return Ei(Xi)/Ei(Xi+Wn*zi)},fa=function(zi){return qn*((Ei(Xi)*Ri(Xi+Wn*zi)-_a(Xi))/yi)/ni},la=(qi(1)-Xi)/Wn;if(Math.abs(ni)<1e-6||!isFinite(la)){if(Math.abs(qn-$n)<1e-6)return this.easeTo($,ht);var Yi=$n<qn?-1:1;la=Math.abs(Math.log($n/qn))/Wn,fa=function(){return 0},ia=function(zi){return Math.exp(Yi*Wn*zi)}}if("duration"in $)$.duration=+$.duration;else{var ya="screenSpeed"in $?+$.screenSpeed/Wn:+$.speed;$.duration=1e3*la/ya}return $.maxDuration&&$.duration>$.maxDuration&&($.duration=0),this._zooming=!0,this._rotating=Be!==xr,this._pitching=Dr!==Ze,this._padding=!ae.isPaddingEqual(Qr),this._prepareEase(ht,!1),this._ease(function(zi){var Ki=zi*la,Ha=1/ia(Ki);ae.zoom=zi===1?ar:be+ae.scaleZoom(Ha),Lt._rotating&&(ae.bearing=i.number(Be,xr,zi)),Lt._pitching&&(ae.pitch=i.number(Ze,Dr,zi)),Lt._padding&&(ae.interpolatePadding(cr,Qr,zi),an=ae.centerPoint.add(Wr));var uo=zi===1?Xn:ae.unproject(Hn.add(Un.mult(fa(Ki))).mult(Ha));ae.setLocationAtPoint(ae.renderWorldCopies?uo.wrap():uo,an),Lt._fireMoveEvents(ht)},function(){return Lt._afterEase(ht)},$),this},nt.prototype.isEasing=function(){return!!this._easeFrameId},nt.prototype.stop=function(){return this._stop()},nt.prototype._stop=function($,ht){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Lt=this._onEaseEnd;delete this._onEaseEnd,Lt.call(this,ht)}if(!$){var qt=this.handlers;qt&&qt.stop(!1)}return this},nt.prototype._ease=function($,ht,Lt){Lt.animate===!1||Lt.duration===0?($(1),ht()):(this._easeStart=i.browser.now(),this._easeOptions=Lt,this._onEaseFrame=$,this._onEaseEnd=ht,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},nt.prototype._renderFrameCallback=function(){var $=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing($)),$<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},nt.prototype._normalizeBearing=function($,ht){$=i.wrap($,-180,180);var Lt=Math.abs($-ht);return Math.abs($-360-ht)<Lt&&($-=360),Math.abs($+360-ht)<Lt&&($+=360),$},nt.prototype._normalizeCenter=function($){var ht=this.transform;if(!(!ht.renderWorldCopies||ht.lngRange)){var Lt=$.lng-ht.center.lng;$.lng+=Lt>180?-360:Lt<-180?360:0}},nt}(i.Evented),Zi=function(Y){Y===void 0&&(Y={}),this.options=Y,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Zi.prototype.getDefaultPosition=function(){return"bottom-right"},Zi.prototype.onAdd=function(Y){var nt=this.options&&this.options.compact;return this._map=Y,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=m.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=m.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),nt&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),nt===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Zi.prototype.onRemove=function(){m.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Zi.prototype._setElementTitle=function(Y,nt){var $=this._map._getUIString("AttributionControl."+nt);Y.title=$,Y.setAttribute("aria-label",$)},Zi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Zi.prototype._updateEditLink=function(){var Y=this._editLink;Y||(Y=this._editLink=this._container.querySelector(".mapbox-improve-map"));var nt=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(Y){var $=nt.reduce(function(ht,Lt,qt){return Lt.value&&(ht+=Lt.key+"="+Lt.value+(qt<nt.length-1?"&":"")),ht},"?");Y.href=i.config.FEEDBACK_URL+"/"+$+(this._map._hash?this._map._hash.getHashString(!0):""),Y.rel="noopener nofollow",this._setElementTitle(Y,"MapFeedback")}},Zi.prototype._updateData=function(Y){Y&&(Y.sourceDataType==="metadata"||Y.sourceDataType==="visibility"||Y.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Zi.prototype._updateAttributions=function(){if(this._map.style){var Y=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Y=Y.concat(this.options.customAttribution.map(function(be){return typeof be!="string"?"":be})):typeof this.options.customAttribution=="string"&&Y.push(this.options.customAttribution)),this._map.style.stylesheet){var nt=this._map.style.stylesheet;this.styleOwner=nt.owner,this.styleId=nt.id}var $=this._map.style.sourceCaches;for(var ht in $){var Lt=$[ht];if(Lt.used){var qt=Lt.getSource();qt.attribution&&Y.indexOf(qt.attribution)<0&&Y.push(qt.attribution)}}Y.sort(function(be,Be){return be.length-Be.length}),Y=Y.filter(function(be,Be){for(var Ze=Be+1;Ze<Y.length;Ze++)if(Y[Ze].indexOf(be)>=0)return!1;return!0});var ae=Y.join(" | ");ae!==this._attribHTML&&(this._attribHTML=ae,Y.length?(this._innerContainer.innerHTML=ae,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Zi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ea=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};Ea.prototype.onAdd=function(Y){this._map=Y,this._container=m.create("div","mapboxgl-ctrl");var nt=m.create("a","mapboxgl-ctrl-logo");return nt.target="_blank",nt.rel="noopener nofollow",nt.href="https://www.mapbox.com/",nt.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),nt.setAttribute("rel","noopener nofollow"),this._container.appendChild(nt),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ea.prototype.onRemove=function(){m.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ea.prototype.getDefaultPosition=function(){return"bottom-left"},Ea.prototype._updateLogo=function(Y){(!Y||Y.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Ea.prototype._logoRequired=function(){if(this._map.style){var Y=this._map.style.sourceCaches;for(var nt in Y){var $=Y[nt].getSource();if($.mapbox_logo)return!0}return!1}},Ea.prototype._updateCompact=function(){var Y=this._container.children;if(Y.length){var nt=Y[0];this._map.getCanvasContainer().offsetWidth<250?nt.classList.add("mapboxgl-compact"):nt.classList.remove("mapboxgl-compact")}};var Oh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Oh.prototype.add=function(Y){var nt=++this._id,$=this._queue;return $.push({callback:Y,id:nt,cancelled:!1}),nt},Oh.prototype.remove=function(Y){for(var nt=this._currentlyRunning,$=nt?this._queue.concat(nt):this._queue,ht=0,Lt=$;ht<Lt.length;ht+=1){var qt=Lt[ht];if(qt.id===Y){qt.cancelled=!0;return}}},Oh.prototype.run=function(Y){Y===void 0&&(Y=0);var nt=this._currentlyRunning=this._queue;this._queue=[];for(var $=0,ht=nt;$<ht.length;$+=1){var Lt=ht[$];if(!Lt.cancelled&&(Lt.callback(Y),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Oh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var tv={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Nc=i.window.HTMLImageElement,Ed=i.window.HTMLElement,sc=i.window.ImageBitmap,Lf=-2,Pf=22,ss=0,lc=60,Ld={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Lf,maxZoom:Pf,minPitch:ss,maxPitch:lc,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Pd=function(Y){function nt(ht){var Lt=this;if(ht=i.extend({},Ld,ht),ht.minZoom!=null&&ht.maxZoom!=null&&ht.minZoom>ht.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ht.minPitch!=null&&ht.maxPitch!=null&&ht.minPitch>ht.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ht.minPitch!=null&&ht.minPitch<ss)throw new Error("minPitch must be greater than or equal to "+ss);if(ht.maxPitch!=null&&ht.maxPitch>lc)throw new Error("maxPitch must be less than or equal to "+lc);var qt=new Cn(ht.minZoom,ht.maxZoom,ht.minPitch,ht.maxPitch,ht.renderWorldCopies);if(Y.call(this,qt,ht),this._interactive=ht.interactive,this._maxTileCacheSize=ht.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ht.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ht.preserveDrawingBuffer,this._antialias=ht.antialias,this._trackResize=ht.trackResize,this._bearingSnap=ht.bearingSnap,this._refreshExpiredTiles=ht.refreshExpiredTiles,this._fadeDuration=ht.fadeDuration,this._crossSourceCollisions=ht.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ht.collectResourceTiming,this._renderTaskQueue=new Oh,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},tv,ht.locale),this._clickTolerance=ht.clickTolerance,this._requestManager=new i.RequestManager(ht.transformRequest,ht.accessToken),typeof ht.container=="string"){if(this._container=i.window.document.getElementById(ht.container),!this._container)throw new Error("Container '"+ht.container+"' not found.")}else if(ht.container instanceof Ed)this._container=ht.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ht.maxBounds&&this.setMaxBounds(ht.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return Lt._update(!1)}),this.on("moveend",function(){return Lt._update(!1)}),this.on("zoom",function(){return Lt._update(!0)}),typeof i.window<"u"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Sa(this,ht);var ae=typeof ht.hash=="string"&&ht.hash||void 0;this._hash=ht.hash&&new Oi(ae).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ht.center,zoom:ht.zoom,bearing:ht.bearing,pitch:ht.pitch}),ht.bounds&&(this.resize(),this.fitBounds(ht.bounds,i.extend({},ht.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ht.localIdeographFontFamily,ht.style&&this.setStyle(ht.style,{localIdeographFontFamily:ht.localIdeographFontFamily}),ht.attributionControl&&this.addControl(new Zi({customAttribution:ht.customAttribution})),this.addControl(new Ea,ht.logoPosition),this.on("style.load",function(){Lt.transform.unmodified&&Lt.jumpTo(Lt.style.stylesheet)}),this.on("data",function(be){Lt._update(be.dataType==="style"),Lt.fire(new i.Event(be.dataType+"data",be))}),this.on("dataloading",function(be){Lt.fire(new i.Event(be.dataType+"dataloading",be))})}Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt;var $={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return nt.prototype._getMapId=function(){return this._mapId},nt.prototype.addControl=function(ht,Lt){if(Lt===void 0&&(ht.getDefaultPosition?Lt=ht.getDefaultPosition():Lt="top-right"),!ht||!ht.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var qt=ht.onAdd(this);this._controls.push(ht);var ae=this._controlPositions[Lt];return Lt.indexOf("bottom")!==-1?ae.insertBefore(qt,ae.firstChild):ae.appendChild(qt),this},nt.prototype.removeControl=function(ht){if(!ht||!ht.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Lt=this._controls.indexOf(ht);return Lt>-1&&this._controls.splice(Lt,1),ht.onRemove(this),this},nt.prototype.hasControl=function(ht){return this._controls.indexOf(ht)>-1},nt.prototype.resize=function(ht){var Lt=this._containerDimensions(),qt=Lt[0],ae=Lt[1];this._resizeCanvas(qt,ae),this.transform.resize(qt,ae),this.painter.resize(qt,ae);var be=!this._moving;return be&&(this.stop(),this.fire(new i.Event("movestart",ht)).fire(new i.Event("move",ht))),this.fire(new i.Event("resize",ht)),be&&this.fire(new i.Event("moveend",ht)),this},nt.prototype.getBounds=function(){return this.transform.getBounds()},nt.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},nt.prototype.setMaxBounds=function(ht){return this.transform.setMaxBounds(i.LngLatBounds.convert(ht)),this._update()},nt.prototype.setMinZoom=function(ht){if(ht=ht??Lf,ht>=Lf&&ht<=this.transform.maxZoom)return this.transform.minZoom=ht,this._update(),this.getZoom()<ht&&this.setZoom(ht),this;throw new Error("minZoom must be between "+Lf+" and the current maxZoom, inclusive")},nt.prototype.getMinZoom=function(){return this.transform.minZoom},nt.prototype.setMaxZoom=function(ht){if(ht=ht??Pf,ht>=this.transform.minZoom)return this.transform.maxZoom=ht,this._update(),this.getZoom()>ht&&this.setZoom(ht),this;throw new Error("maxZoom must be greater than the current minZoom")},nt.prototype.getMaxZoom=function(){return this.transform.maxZoom},nt.prototype.setMinPitch=function(ht){if(ht=ht??ss,ht<ss)throw new Error("minPitch must be greater than or equal to "+ss);if(ht>=ss&&ht<=this.transform.maxPitch)return this.transform.minPitch=ht,this._update(),this.getPitch()<ht&&this.setPitch(ht),this;throw new Error("minPitch must be between "+ss+" and the current maxPitch, inclusive")},nt.prototype.getMinPitch=function(){return this.transform.minPitch},nt.prototype.setMaxPitch=function(ht){if(ht=ht??lc,ht>lc)throw new Error("maxPitch must be less than or equal to "+lc);if(ht>=this.transform.minPitch)return this.transform.maxPitch=ht,this._update(),this.getPitch()>ht&&this.setPitch(ht),this;throw new Error("maxPitch must be greater than the current minPitch")},nt.prototype.getMaxPitch=function(){return this.transform.maxPitch},nt.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},nt.prototype.setRenderWorldCopies=function(ht){return this.transform.renderWorldCopies=ht,this._update()},nt.prototype.project=function(ht){return this.transform.locationPoint(i.LngLat.convert(ht))},nt.prototype.unproject=function(ht){return this.transform.pointLocation(i.Point.convert(ht))},nt.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},nt.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},nt.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},nt.prototype._createDelegatedListener=function(ht,Lt,qt){var ae=this,be;if(ht==="mouseenter"||ht==="mouseover"){var Be=!1,Ze=function(Xr){var Wr=ae.getLayer(Lt)?ae.queryRenderedFeatures(Xr.point,{layers:[Lt]}):[];Wr.length?Be||(Be=!0,qt.call(ae,new Kt(ht,ae,Xr.originalEvent,{features:Wr}))):Be=!1},cr=function(){Be=!1};return{layer:Lt,listener:qt,delegates:{mousemove:Ze,mouseout:cr}}}else if(ht==="mouseleave"||ht==="mouseout"){var ar=!1,xr=function(Xr){var Wr=ae.getLayer(Lt)?ae.queryRenderedFeatures(Xr.point,{layers:[Lt]}):[];Wr.length?ar=!0:ar&&(ar=!1,qt.call(ae,new Kt(ht,ae,Xr.originalEvent)))},Dr=function(Xr){ar&&(ar=!1,qt.call(ae,new Kt(ht,ae,Xr.originalEvent)))};return{layer:Lt,listener:qt,delegates:{mousemove:xr,mouseout:Dr}}}else{var Qr=function(Xr){var Wr=ae.getLayer(Lt)?ae.queryRenderedFeatures(Xr.point,{layers:[Lt]}):[];Wr.length&&(Xr.features=Wr,qt.call(ae,Xr),delete Xr.features)};return{layer:Lt,listener:qt,delegates:(be={},be[ht]=Qr,be)}}},nt.prototype.on=function(ht,Lt,qt){if(qt===void 0)return Y.prototype.on.call(this,ht,Lt);var ae=this._createDelegatedListener(ht,Lt,qt);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ht]=this._delegatedListeners[ht]||[],this._delegatedListeners[ht].push(ae);for(var be in ae.delegates)this.on(be,ae.delegates[be]);return this},nt.prototype.once=function(ht,Lt,qt){if(qt===void 0)return Y.prototype.once.call(this,ht,Lt);var ae=this._createDelegatedListener(ht,Lt,qt);for(var be in ae.delegates)this.once(be,ae.delegates[be]);return this},nt.prototype.off=function(ht,Lt,qt){var ae=this;if(qt===void 0)return Y.prototype.off.call(this,ht,Lt);var be=function(Be){for(var Ze=Be[ht],cr=0;cr<Ze.length;cr++){var ar=Ze[cr];if(ar.layer===Lt&&ar.listener===qt){for(var xr in ar.delegates)ae.off(xr,ar.delegates[xr]);return Ze.splice(cr,1),ae}}};return this._delegatedListeners&&this._delegatedListeners[ht]&&be(this._delegatedListeners),this},nt.prototype.queryRenderedFeatures=function(ht,Lt){if(!this.style)return[];Lt===void 0&&ht!==void 0&&!(ht instanceof i.Point)&&!Array.isArray(ht)&&(Lt=ht,ht=void 0),Lt=Lt||{},ht=ht||[[0,0],[this.transform.width,this.transform.height]];var qt;if(ht instanceof i.Point||typeof ht[0]=="number")qt=[i.Point.convert(ht)];else{var ae=i.Point.convert(ht[0]),be=i.Point.convert(ht[1]);qt=[ae,new i.Point(be.x,ae.y),be,new i.Point(ae.x,be.y),ae]}return this.style.queryRenderedFeatures(qt,Lt,this.transform)},nt.prototype.querySourceFeatures=function(ht,Lt){return this.style.querySourceFeatures(ht,Lt)},nt.prototype.setStyle=function(ht,Lt){return Lt=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Lt),Lt.diff!==!1&&Lt.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ht?(this._diffStyle(ht,Lt),this):(this._localIdeographFontFamily=Lt.localIdeographFontFamily,this._updateStyle(ht,Lt))},nt.prototype._getUIString=function(ht){var Lt=this._locale[ht];if(Lt==null)throw new Error("Missing UI string '"+ht+"'");return Lt},nt.prototype._updateStyle=function(ht,Lt){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ht)this.style=new Fo(this,Lt||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ht=="string"?this.style.loadURL(ht):this.style.loadJSON(ht),this},nt.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Fo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},nt.prototype._diffStyle=function(ht,Lt){var qt=this;if(typeof ht=="string"){var ae=this._requestManager.normalizeStyleURL(ht),be=this._requestManager.transformRequest(ae,i.ResourceType.Style);i.getJSON(be,function(Be,Ze){Be?qt.fire(new i.ErrorEvent(Be)):Ze&&qt._updateDiff(Ze,Lt)})}else typeof ht=="object"&&this._updateDiff(ht,Lt)},nt.prototype._updateDiff=function(ht,Lt){try{this.style.setState(ht)&&this._update(!0)}catch(qt){i.warnOnce("Unable to perform style diff: "+(qt.message||qt.error||qt)+".  Rebuilding the style from scratch."),this._updateStyle(ht,Lt)}},nt.prototype.getStyle=function(){if(this.style)return this.style.serialize()},nt.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},nt.prototype.addSource=function(ht,Lt){return this._lazyInitEmptyStyle(),this.style.addSource(ht,Lt),this._update(!0)},nt.prototype.isSourceLoaded=function(ht){var Lt=this.style&&this.style.sourceCaches[ht];if(Lt===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+ht+"'")));return}return Lt.loaded()},nt.prototype.areTilesLoaded=function(){var ht=this.style&&this.style.sourceCaches;for(var Lt in ht){var qt=ht[Lt],ae=qt._tiles;for(var be in ae){var Be=ae[be];if(!(Be.state==="loaded"||Be.state==="errored"))return!1}}return!0},nt.prototype.addSourceType=function(ht,Lt,qt){return this._lazyInitEmptyStyle(),this.style.addSourceType(ht,Lt,qt)},nt.prototype.removeSource=function(ht){return this.style.removeSource(ht),this._update(!0)},nt.prototype.getSource=function(ht){return this.style.getSource(ht)},nt.prototype.addImage=function(ht,Lt,qt){qt===void 0&&(qt={});var ae=qt.pixelRatio;ae===void 0&&(ae=1);var be=qt.sdf;be===void 0&&(be=!1);var Be=qt.stretchX,Ze=qt.stretchY,cr=qt.content;this._lazyInitEmptyStyle();var ar=0;if(Lt instanceof Nc||sc&&Lt instanceof sc){var xr=i.browser.getImageData(Lt),Dr=xr.width,Qr=xr.height,Xr=xr.data;this.style.addImage(ht,{data:new i.RGBAImage({width:Dr,height:Qr},Xr),pixelRatio:ae,stretchX:Be,stretchY:Ze,content:cr,sdf:be,version:ar})}else{if(Lt.width===void 0||Lt.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Wr=Lt.width,an=Lt.height,yn=Lt.data,Xn=Lt;this.style.addImage(ht,{data:new i.RGBAImage({width:Wr,height:an},new Uint8Array(yn)),pixelRatio:ae,stretchX:Be,stretchY:Ze,content:cr,sdf:be,version:ar,userImage:Xn}),Xn.onAdd&&Xn.onAdd(this,ht)}},nt.prototype.updateImage=function(ht,Lt){var qt=this.style.getImage(ht);if(!qt)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ae=Lt instanceof Nc||sc&&Lt instanceof sc?i.browser.getImageData(Lt):Lt,be=ae.width,Be=ae.height,Ze=ae.data;if(be===void 0||Be===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(be!==qt.data.width||Be!==qt.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var cr=!(Lt instanceof Nc||sc&&Lt instanceof sc);qt.data.replace(Ze,cr),this.style.updateImage(ht,qt)},nt.prototype.hasImage=function(ht){return ht?!!this.style.getImage(ht):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},nt.prototype.removeImage=function(ht){this.style.removeImage(ht)},nt.prototype.loadImage=function(ht,Lt){i.getImage(this._requestManager.transformRequest(ht,i.ResourceType.Image),Lt)},nt.prototype.listImages=function(){return this.style.listImages()},nt.prototype.addLayer=function(ht,Lt){return this._lazyInitEmptyStyle(),this.style.addLayer(ht,Lt),this._update(!0)},nt.prototype.moveLayer=function(ht,Lt){return this.style.moveLayer(ht,Lt),this._update(!0)},nt.prototype.removeLayer=function(ht){return this.style.removeLayer(ht),this._update(!0)},nt.prototype.getLayer=function(ht){return this.style.getLayer(ht)},nt.prototype.setLayerZoomRange=function(ht,Lt,qt){return this.style.setLayerZoomRange(ht,Lt,qt),this._update(!0)},nt.prototype.setFilter=function(ht,Lt,qt){return qt===void 0&&(qt={}),this.style.setFilter(ht,Lt,qt),this._update(!0)},nt.prototype.getFilter=function(ht){return this.style.getFilter(ht)},nt.prototype.setPaintProperty=function(ht,Lt,qt,ae){return ae===void 0&&(ae={}),this.style.setPaintProperty(ht,Lt,qt,ae),this._update(!0)},nt.prototype.getPaintProperty=function(ht,Lt){return this.style.getPaintProperty(ht,Lt)},nt.prototype.setLayoutProperty=function(ht,Lt,qt,ae){return ae===void 0&&(ae={}),this.style.setLayoutProperty(ht,Lt,qt,ae),this._update(!0)},nt.prototype.getLayoutProperty=function(ht,Lt){return this.style.getLayoutProperty(ht,Lt)},nt.prototype.setLight=function(ht,Lt){return Lt===void 0&&(Lt={}),this._lazyInitEmptyStyle(),this.style.setLight(ht,Lt),this._update(!0)},nt.prototype.getLight=function(){return this.style.getLight()},nt.prototype.setFeatureState=function(ht,Lt){return this.style.setFeatureState(ht,Lt),this._update()},nt.prototype.removeFeatureState=function(ht,Lt){return this.style.removeFeatureState(ht,Lt),this._update()},nt.prototype.getFeatureState=function(ht){return this.style.getFeatureState(ht)},nt.prototype.getContainer=function(){return this._container},nt.prototype.getCanvasContainer=function(){return this._canvasContainer},nt.prototype.getCanvas=function(){return this._canvas},nt.prototype._containerDimensions=function(){var ht=0,Lt=0;return this._container&&(ht=this._container.clientWidth||400,Lt=this._container.clientHeight||300),[ht,Lt]},nt.prototype._detectMissingCSS=function(){var ht=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ht!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},nt.prototype._setupContainer=function(){var ht=this._container;ht.classList.add("mapboxgl-map");var Lt=this._missingCSSCanary=m.create("div","mapboxgl-canary",ht);Lt.style.visibility="hidden",this._detectMissingCSS();var qt=this._canvasContainer=m.create("div","mapboxgl-canvas-container",ht);this._interactive&&qt.classList.add("mapboxgl-interactive"),this._canvas=m.create("canvas","mapboxgl-canvas",qt),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ae=this._containerDimensions();this._resizeCanvas(ae[0],ae[1]);var be=this._controlContainer=m.create("div","mapboxgl-control-container",ht),Be=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Ze){Be[Ze]=m.create("div","mapboxgl-ctrl-"+Ze,be)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},nt.prototype._resizeCanvas=function(ht,Lt){var qt=i.browser.devicePixelRatio||1;this._canvas.width=qt*ht,this._canvas.height=qt*Lt,this._canvas.style.width=ht+"px",this._canvas.style.height=Lt+"px"},nt.prototype._setupPainter=function(){var ht=i.extend({},M.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Lt=this._canvas.getContext("webgl",ht)||this._canvas.getContext("experimental-webgl",ht);if(!Lt){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Fr(Lt,this.transform),i.webpSupported.testSupport(Lt)},nt.prototype._contextLost=function(ht){ht.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:ht}))},nt.prototype._contextRestored=function(ht){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:ht}))},nt.prototype._onMapScroll=function(ht){if(ht.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},nt.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},nt.prototype._update=function(ht){return this.style?(this._styleDirty=this._styleDirty||ht,this._sourcesDirty=!0,this.triggerRepaint(),this):this},nt.prototype._requestRenderFrame=function(ht){return this._update(),this._renderTaskQueue.add(ht)},nt.prototype._cancelRenderFrame=function(ht){this._renderTaskQueue.remove(ht)},nt.prototype._render=function(ht){var Lt=this,qt,ae=0,be=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(qt=be.createQueryEXT(),be.beginQueryEXT(be.TIME_ELAPSED_EXT,qt),ae=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ht),!this._removed){var Be=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Ze=this.transform.zoom,cr=i.browser.now();this.style.zoomHistory.update(Ze,cr);var ar=new i.EvaluationParameters(Ze,{now:cr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),xr=ar.crossFadingFactor();(xr!==1||xr!==this._crossFadingFactor)&&(Be=!0,this._crossFadingFactor=xr),this.style.update(ar)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Be)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Dr=i.browser.now()-ae;be.endQueryEXT(be.TIME_ELAPSED_EXT,qt),setTimeout(function(){var Wr=be.getQueryObjectEXT(qt,be.QUERY_RESULT_EXT)/1e6;be.deleteQueryEXT(qt),Lt.fire(new i.Event("gpu-timing-frame",{cpuTime:Dr,gpuTime:Wr}))},50)}if(this.listens("gpu-timing-layer")){var Qr=this.painter.collectGpuTimers();setTimeout(function(){var Wr=Lt.painter.queryGpuTimers(Qr);Lt.fire(new i.Event("gpu-timing-layer",{layerTimes:Wr}))},50)}var Xr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Xr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),this._loaded&&!this._fullyLoaded&&!Xr&&(this._fullyLoaded=!0),this}},nt.prototype.remove=function(){this._hash&&this._hash.remove();for(var ht=0,Lt=this._controls;ht<Lt.length;ht+=1){var qt=Lt[ht];qt.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window<"u"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var ae=this.painter.context.gl.getExtension("WEBGL_lose_context");ae&&ae.loseContext&&ae.loseContext(),zh(this._canvasContainer),zh(this._controlContainer),zh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},nt.prototype.triggerRepaint=function(){var ht=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(Lt){ht._frame=null,ht._render(Lt)}))},nt.prototype._onWindowOnline=function(){this._update()},nt.prototype._onWindowResize=function(ht){this._trackResize&&this.resize({originalEvent:ht})._update()},$.showTileBoundaries.get=function(){return!!this._showTileBoundaries},$.showTileBoundaries.set=function(ht){this._showTileBoundaries!==ht&&(this._showTileBoundaries=ht,this._update())},$.showPadding.get=function(){return!!this._showPadding},$.showPadding.set=function(ht){this._showPadding!==ht&&(this._showPadding=ht,this._update())},$.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},$.showCollisionBoxes.set=function(ht){this._showCollisionBoxes!==ht&&(this._showCollisionBoxes=ht,ht?this.style._generateCollisionBoxes():this._update())},$.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},$.showOverdrawInspector.set=function(ht){this._showOverdrawInspector!==ht&&(this._showOverdrawInspector=ht,this._update())},$.repaint.get=function(){return!!this._repaint},$.repaint.set=function(ht){this._repaint!==ht&&(this._repaint=ht,this.triggerRepaint())},$.vertices.get=function(){return!!this._vertices},$.vertices.set=function(ht){this._vertices=ht,this._update()},nt.prototype._setCacheLimits=function(ht,Lt){i.setCacheLimits(ht,Lt)},$.version.get=function(){return i.version},Object.defineProperties(nt.prototype,$),nt}(tu);function zh(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}var yp={showCompass:!0,showZoom:!0,visualizePitch:!1},Iu=function(Y){var nt=this;this.options=i.extend({},yp,Y),this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function($){return $.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function($){return nt._map.zoomIn({},{originalEvent:$})}),m.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function($){return nt._map.zoomOut({},{originalEvent:$})}),m.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function($){nt.options.visualizePitch?nt._map.resetNorthPitch({},{originalEvent:$}):nt._map.resetNorth({},{originalEvent:$})}),this._compassIcon=m.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Iu.prototype._updateZoomButtons=function(){var Y=this._map.getZoom(),nt=Y===this._map.getMaxZoom(),$=Y===this._map.getMinZoom();this._zoomInButton.disabled=nt,this._zoomOutButton.disabled=$,this._zoomInButton.setAttribute("aria-disabled",nt.toString()),this._zoomOutButton.setAttribute("aria-disabled",$.toString())},Iu.prototype._rotateCompassArrow=function(){var Y=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Y},Iu.prototype.onAdd=function(Y){return this._map=Y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _s(this._map,this._compass,this.options.visualizePitch)),this._container},Iu.prototype.onRemove=function(){m.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Iu.prototype._createButton=function(Y,nt){var $=m.create("button",Y,this._container);return $.type="button",$.addEventListener("click",nt),$},Iu.prototype._setButtonTitle=function(Y,nt){var $=this._map._getUIString("NavigationControl."+nt);Y.title=$,Y.setAttribute("aria-label",$)};var _s=function(Y,nt,$){$===void 0&&($=!1),this._clickTolerance=10,this.element=nt,this.mouseRotate=new ui({clickTolerance:Y.dragRotate._mouseRotate._clickTolerance}),this.map=Y,$&&(this.mousePitch=new Jn({clickTolerance:Y.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),m.addEventListener(nt,"mousedown",this.mousedown),m.addEventListener(nt,"touchstart",this.touchstart,{passive:!1}),m.addEventListener(nt,"touchmove",this.touchmove),m.addEventListener(nt,"touchend",this.touchend),m.addEventListener(nt,"touchcancel",this.reset)};_s.prototype.down=function(Y,nt){this.mouseRotate.mousedown(Y,nt),this.mousePitch&&this.mousePitch.mousedown(Y,nt),m.disableDrag()},_s.prototype.move=function(Y,nt){var $=this.map,ht=this.mouseRotate.mousemoveWindow(Y,nt);if(ht&&ht.bearingDelta&&$.setBearing($.getBearing()+ht.bearingDelta),this.mousePitch){var Lt=this.mousePitch.mousemoveWindow(Y,nt);Lt&&Lt.pitchDelta&&$.setPitch($.getPitch()+Lt.pitchDelta)}},_s.prototype.off=function(){var Y=this.element;m.removeEventListener(Y,"mousedown",this.mousedown),m.removeEventListener(Y,"touchstart",this.touchstart,{passive:!1}),m.removeEventListener(Y,"touchmove",this.touchmove),m.removeEventListener(Y,"touchend",this.touchend),m.removeEventListener(Y,"touchcancel",this.reset),this.offTemp()},_s.prototype.offTemp=function(){m.enableDrag(),m.removeEventListener(i.window,"mousemove",this.mousemove),m.removeEventListener(i.window,"mouseup",this.mouseup)},_s.prototype.mousedown=function(Y){this.down(i.extend({},Y,{ctrlKey:!0,preventDefault:function(){return Y.preventDefault()}}),m.mousePos(this.element,Y)),m.addEventListener(i.window,"mousemove",this.mousemove),m.addEventListener(i.window,"mouseup",this.mouseup)},_s.prototype.mousemove=function(Y){this.move(Y,m.mousePos(this.element,Y))},_s.prototype.mouseup=function(Y){this.mouseRotate.mouseupWindow(Y),this.mousePitch&&this.mousePitch.mouseupWindow(Y),this.offTemp()},_s.prototype.touchstart=function(Y){Y.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=m.touchPos(this.element,Y.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Y.preventDefault()}},this._startPos))},_s.prototype.touchmove=function(Y){Y.targetTouches.length!==1?this.reset():(this._lastPos=m.touchPos(this.element,Y.targetTouches)[0],this.move({preventDefault:function(){return Y.preventDefault()}},this._lastPos))},_s.prototype.touchend=function(Y){Y.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},_s.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Ou(Y,nt,$){if(Y=new i.LngLat(Y.lng,Y.lat),nt){var ht=new i.LngLat(Y.lng-360,Y.lat),Lt=new i.LngLat(Y.lng+360,Y.lat),qt=$.locationPoint(Y).distSqr(nt);$.locationPoint(ht).distSqr(nt)<qt?Y=ht:$.locationPoint(Lt).distSqr(nt)<qt&&(Y=Lt)}for(;Math.abs(Y.lng-$.center.lng)>180;){var ae=$.locationPoint(Y);if(ae.x>=0&&ae.y>=0&&ae.x<=$.width&&ae.y<=$.height)break;Y.lng>$.center.lng?Y.lng-=360:Y.lng+=360}return Y}var Rh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function mp(Y,nt,$){var ht=Y.classList;for(var Lt in Rh)ht.remove("mapboxgl-"+$+"-anchor-"+Lt);ht.add("mapboxgl-"+$+"-anchor-"+nt)}var Cf=function(Y){function nt($,ht){if(Y.call(this),($ instanceof i.window.HTMLElement||ht)&&($=i.extend({element:$},ht)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=$&&$.anchor||"center",this._color=$&&$.color||"#3FB1CE",this._scale=$&&$.scale||1,this._draggable=$&&$.draggable||!1,this._clickTolerance=$&&$.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=$&&$.rotation||0,this._rotationAlignment=$&&$.rotationAlignment||"auto",this._pitchAlignment=$&&$.pitchAlignment&&$.pitchAlignment!=="auto"?$.pitchAlignment:this._rotationAlignment,!$||!$.element){this._defaultMarker=!0,this._element=m.create("div"),this._element.setAttribute("aria-label","Map marker");var Lt=m.createNS("http://www.w3.org/2000/svg","svg"),qt=41,ae=27;Lt.setAttributeNS(null,"display","block"),Lt.setAttributeNS(null,"height",qt+"px"),Lt.setAttributeNS(null,"width",ae+"px"),Lt.setAttributeNS(null,"viewBox","0 0 "+ae+" "+qt);var be=m.createNS("http://www.w3.org/2000/svg","g");be.setAttributeNS(null,"stroke","none"),be.setAttributeNS(null,"stroke-width","1"),be.setAttributeNS(null,"fill","none"),be.setAttributeNS(null,"fill-rule","evenodd");var Be=m.createNS("http://www.w3.org/2000/svg","g");Be.setAttributeNS(null,"fill-rule","nonzero");var Ze=m.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ze.setAttributeNS(null,"fill","#000000");for(var cr=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ar=0,xr=cr;ar<xr.length;ar+=1){var Dr=xr[ar],Qr=m.createNS("http://www.w3.org/2000/svg","ellipse");Qr.setAttributeNS(null,"opacity","0.04"),Qr.setAttributeNS(null,"cx","10.5"),Qr.setAttributeNS(null,"cy","5.80029008"),Qr.setAttributeNS(null,"rx",Dr.rx),Qr.setAttributeNS(null,"ry",Dr.ry),Ze.appendChild(Qr)}var Xr=m.createNS("http://www.w3.org/2000/svg","g");Xr.setAttributeNS(null,"fill",this._color);var Wr=m.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xr.appendChild(Wr);var an=m.createNS("http://www.w3.org/2000/svg","g");an.setAttributeNS(null,"opacity","0.25"),an.setAttributeNS(null,"fill","#000000");var yn=m.createNS("http://www.w3.org/2000/svg","path");yn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),an.appendChild(yn);var Xn=m.createNS("http://www.w3.org/2000/svg","g");Xn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Xn.setAttributeNS(null,"fill","#FFFFFF");var Hn=m.createNS("http://www.w3.org/2000/svg","g");Hn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Un=m.createNS("http://www.w3.org/2000/svg","circle");Un.setAttributeNS(null,"fill","#000000"),Un.setAttributeNS(null,"opacity","0.25"),Un.setAttributeNS(null,"cx","5.5"),Un.setAttributeNS(null,"cy","5.5"),Un.setAttributeNS(null,"r","5.4999962");var Wn=m.createNS("http://www.w3.org/2000/svg","circle");Wn.setAttributeNS(null,"fill","#FFFFFF"),Wn.setAttributeNS(null,"cx","5.5"),Wn.setAttributeNS(null,"cy","5.5"),Wn.setAttributeNS(null,"r","5.4999962"),Hn.appendChild(Un),Hn.appendChild(Wn),Be.appendChild(Ze),Be.appendChild(Xr),Be.appendChild(an),Be.appendChild(Xn),Be.appendChild(Hn),Lt.appendChild(Be),Lt.setAttributeNS(null,"height",qt*this._scale+"px"),Lt.setAttributeNS(null,"width",ae*this._scale+"px"),this._element.appendChild(Lt),this._offset=i.Point.convert($&&$.offset||[0,-14])}else this._element=$.element,this._offset=i.Point.convert($&&$.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(qn){qn.preventDefault()}),this._element.addEventListener("mousedown",function(qn){qn.preventDefault()}),mp(this._element,this._anchor,"marker"),this._popup=null}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.addTo=function($){return this.remove(),this._map=$,$.getCanvasContainer().appendChild(this._element),$.on("move",this._update),$.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},nt.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),m.remove(this._element),this._popup&&this._popup.remove(),this},nt.prototype.getLngLat=function(){return this._lngLat},nt.prototype.setLngLat=function($){return this._lngLat=i.LngLat.convert($),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},nt.prototype.getElement=function(){return this._element},nt.prototype.setPopup=function($){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),$){if(!("offset"in $.options)){var ht=38.1,Lt=13.5,qt=Math.sqrt(Math.pow(Lt,2)/2);$.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ht],"bottom-left":[qt,(ht-Lt+qt)*-1],"bottom-right":[-qt,(ht-Lt+qt)*-1],left:[Lt,(ht-Lt)*-1],right:[-Lt,(ht-Lt)*-1]}:this._offset}this._popup=$,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},nt.prototype._onKeyPress=function($){var ht=$.code,Lt=$.charCode||$.keyCode;(ht==="Space"||ht==="Enter"||Lt===32||Lt===13)&&this.togglePopup()},nt.prototype._onMapClick=function($){var ht=$.originalEvent.target,Lt=this._element;this._popup&&(ht===Lt||Lt.contains(ht))&&this.togglePopup()},nt.prototype.getPopup=function(){return this._popup},nt.prototype.togglePopup=function(){var $=this._popup;if($)$.isOpen()?$.remove():$.addTo(this._map);else return this;return this},nt.prototype._update=function($){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ou(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ht="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ht="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ht="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Lt="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Lt="rotateX(0deg)":this._pitchAlignment==="map"&&(Lt="rotateX("+this._map.getPitch()+"deg)"),(!$||$.type==="moveend")&&(this._pos=this._pos.round()),m.setTransform(this._element,Rh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Lt+" "+ht)}},nt.prototype.getOffset=function(){return this._offset},nt.prototype.setOffset=function($){return this._offset=i.Point.convert($),this._update(),this},nt.prototype._onMove=function($){if(!this._isDragging){var ht=this._clickTolerance||this._map._clickTolerance;this._isDragging=$.point.dist(this._pointerdownPos)>=ht}this._isDragging&&(this._pos=$.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},nt.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},nt.prototype._addDragHandler=function($){this._element.contains($.originalEvent.target)&&($.preventDefault(),this._positionDelta=$.point.sub(this._pos).add(this._offset),this._pointerdownPos=$.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},nt.prototype.setDraggable=function($){return this._draggable=!!$,this._map&&($?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},nt.prototype.isDraggable=function(){return this._draggable},nt.prototype.setRotation=function($){return this._rotation=$||0,this._update(),this},nt.prototype.getRotation=function(){return this._rotation},nt.prototype.setRotationAlignment=function($){return this._rotationAlignment=$||"auto",this._update(),this},nt.prototype.getRotationAlignment=function(){return this._rotationAlignment},nt.prototype.setPitchAlignment=function($){return this._pitchAlignment=$&&$!=="auto"?$:this._rotationAlignment,this._update(),this},nt.prototype.getPitchAlignment=function(){return this._pitchAlignment},nt}(i.Evented),Cd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},uc;function Dh(Y){uc!==void 0?Y(uc):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(nt){uc=nt.state!=="denied",Y(uc)}):(uc=!!i.window.navigator.geolocation,Y(uc))}var If=0,jc=!1,ev=function(Y){function nt($){Y.call(this),this.options=i.extend({},Cd,$),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.onAdd=function($){return this._map=$,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Dh(this._setupUI),this._container},nt.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),m.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,If=0,jc=!1},nt.prototype._isOutOfMapMaxBounds=function($){var ht=this._map.getMaxBounds(),Lt=$.coords;return ht&&(Lt.longitude<ht.getWest()||Lt.longitude>ht.getEast()||Lt.latitude<ht.getSouth()||Lt.latitude>ht.getNorth())},nt.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},nt.prototype._onSuccess=function($){if(this._map){if(this._isOutOfMapMaxBounds($)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",$)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=$,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker($),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera($),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",$)),this._finish()}},nt.prototype._updateCamera=function($){var ht=new i.LngLat($.coords.longitude,$.coords.latitude),Lt=$.coords.accuracy,qt=this._map.getBearing(),ae=i.extend({bearing:qt},this.options.fitBoundsOptions);this._map.fitBounds(ht.toBounds(Lt),ae,{geolocateSource:!0})},nt.prototype._updateMarker=function($){if($){var ht=new i.LngLat($.coords.longitude,$.coords.latitude);this._accuracyCircleMarker.setLngLat(ht).addTo(this._map),this._userLocationDotMarker.setLngLat(ht).addTo(this._map),this._accuracy=$.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},nt.prototype._updateCircleRadius=function(){var $=this._map._container.clientHeight/2,ht=this._map.unproject([0,$]),Lt=this._map.unproject([1,$]),qt=ht.distanceTo(Lt),ae=Math.ceil(2*this._accuracy/qt);this._circleElement.style.width=ae+"px",this._circleElement.style.height=ae+"px"},nt.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},nt.prototype._onError=function($){if(this._map){if(this.options.trackUserLocation)if($.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ht=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ht,this._geolocateButton.setAttribute("aria-label",ht),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if($.code===3&&jc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",$)),this._finish()}},nt.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},nt.prototype._setupUI=function($){var ht=this;if(this._container.addEventListener("contextmenu",function(ae){return ae.preventDefault()}),this._geolocateButton=m.create("button","mapboxgl-ctrl-geolocate",this._container),m.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",$===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Lt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Lt,this._geolocateButton.setAttribute("aria-label",Lt)}else{var qt=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=qt,this._geolocateButton.setAttribute("aria-label",qt)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=m.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Cf(this._dotElement),this._circleElement=m.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Cf({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ae){var be=ae.originalEvent&&ae.originalEvent.type==="resize";!ae.geolocateSource&&ht._watchState==="ACTIVE_LOCK"&&!be&&(ht._watchState="BACKGROUND",ht._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ht._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ht.fire(new i.Event("trackuserlocationend")))})},nt.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":If--,jc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),If++;var $;If>1?($={maximumAge:6e5,timeout:0},jc=!0):($=this.options.positionOptions,jc=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,$)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},nt.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},nt}(i.Evented),Id={maxWidth:100,unit:"metric"},Hc=function(Y){this.options=i.extend({},Id,Y),i.bindAll(["_onMove","setUnit"],this)};Hc.prototype.getDefaultPosition=function(){return"bottom-left"},Hc.prototype._onMove=function(){Od(this._map,this._container,this.options)},Hc.prototype.onAdd=function(Y){return this._map=Y,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Hc.prototype.onRemove=function(){m.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Hc.prototype.setUnit=function(Y){this.options.unit=Y,Od(this._map,this._container,this.options)};function Od(Y,nt,$){var ht=$&&$.maxWidth||100,Lt=Y._container.clientHeight/2,qt=Y.unproject([0,Lt]),ae=Y.unproject([ht,Lt]),be=qt.distanceTo(ae);if($&&$.unit==="imperial"){var Be=3.2808*be;if(Be>5280){var Ze=Be/5280;Of(nt,ht,Ze,Y._getUIString("ScaleControl.Miles"))}else Of(nt,ht,Be,Y._getUIString("ScaleControl.Feet"))}else if($&&$.unit==="nautical"){var cr=be/1852;Of(nt,ht,cr,Y._getUIString("ScaleControl.NauticalMiles"))}else be>=1e3?Of(nt,ht,be/1e3,Y._getUIString("ScaleControl.Kilometers")):Of(nt,ht,be,Y._getUIString("ScaleControl.Meters"))}function Of(Y,nt,$,ht){var Lt=nv($),qt=Lt/$;Y.style.width=nt*qt+"px",Y.innerHTML=Lt+"&nbsp;"+ht}function rv(Y){var nt=Math.pow(10,Math.ceil(-Math.log(Y)/Math.LN10));return Math.round(Y*nt)/nt}function nv(Y){var nt=Math.pow(10,(""+Math.floor(Y)).length-1),$=Y/nt;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:$>=1?1:rv($),nt*$}var kl=function(Y){this._fullscreen=!1,Y&&Y.container&&(Y.container instanceof i.window.HTMLElement?this._container=Y.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};kl.prototype.onAdd=function(Y){return this._map=Y,this._container||(this._container=this._map.getContainer()),this._controlContainer=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},kl.prototype.onRemove=function(){m.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},kl.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},kl.prototype._setupUI=function(){var Y=this._fullscreenButton=m.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);m.create("span","mapboxgl-ctrl-icon",Y).setAttribute("aria-hidden",!0),Y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},kl.prototype._updateTitle=function(){var Y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Y),this._fullscreenButton.title=Y},kl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},kl.prototype._isFullscreen=function(){return this._fullscreen},kl.prototype._changeIcon=function(){var Y=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;Y===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},kl.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var iv={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},av=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),cy=function(Y){function nt($){Y.call(this),this.options=i.extend(Object.create(iv),$),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return Y&&(nt.__proto__=Y),nt.prototype=Object.create(Y&&Y.prototype),nt.prototype.constructor=nt,nt.prototype.addTo=function($){return this._map&&this.remove(),this._map=$,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},nt.prototype.isOpen=function(){return!!this._map},nt.prototype.remove=function(){return this._content&&m.remove(this._content),this._container&&(m.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},nt.prototype.getLngLat=function(){return this._lngLat},nt.prototype.setLngLat=function($){return this._lngLat=i.LngLat.convert($),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},nt.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},nt.prototype.getElement=function(){return this._container},nt.prototype.setText=function($){return this.setDOMContent(i.window.document.createTextNode($))},nt.prototype.setHTML=function($){var ht=i.window.document.createDocumentFragment(),Lt=i.window.document.createElement("body"),qt;for(Lt.innerHTML=$;qt=Lt.firstChild,!!qt;)ht.appendChild(qt);return this.setDOMContent(ht)},nt.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},nt.prototype.setMaxWidth=function($){return this.options.maxWidth=$,this._update(),this},nt.prototype.setDOMContent=function($){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=m.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild($),this._createCloseButton(),this._update(),this._focusFirstElement(),this},nt.prototype.addClassName=function($){this._container&&this._container.classList.add($)},nt.prototype.removeClassName=function($){this._container&&this._container.classList.remove($)},nt.prototype.setOffset=function($){return this.options.offset=$,this._update(),this},nt.prototype.toggleClassName=function($){if(this._container)return this._container.classList.toggle($)},nt.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=m.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},nt.prototype._onMouseUp=function($){this._update($.point)},nt.prototype._onMouseMove=function($){this._update($.point)},nt.prototype._onDrag=function($){this._update($.point)},nt.prototype._update=function($){var ht=this,Lt=this._lngLat||this._trackPointer;if(!(!this._map||!Lt||!this._content)&&(this._container||(this._container=m.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=m.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(xr){return ht._container.classList.add(xr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ou(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!$))){var qt=this._pos=this._trackPointer&&$?$:this._map.project(this._lngLat),ae=this.options.anchor,be=ov(this.options.offset);if(!ae){var Be=this._container.offsetWidth,Ze=this._container.offsetHeight,cr;qt.y+be.bottom.y<Ze?cr=["top"]:qt.y>this._map.transform.height-Ze?cr=["bottom"]:cr=[],qt.x<Be/2?cr.push("left"):qt.x>this._map.transform.width-Be/2&&cr.push("right"),cr.length===0?ae="bottom":ae=cr.join("-")}var ar=qt.add(be[ae]).round();m.setTransform(this._container,Rh[ae]+" translate("+ar.x+"px,"+ar.y+"px)"),mp(this._container,ae,"popup")}},nt.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var $=this._container.querySelector(av);$&&$.focus()}},nt.prototype._onClose=function(){this.remove()},nt}(i.Evented);function ov(Y){if(Y)if(typeof Y=="number"){var nt=Math.round(Math.sqrt(.5*Math.pow(Y,2)));return{center:new i.Point(0,0),top:new i.Point(0,Y),"top-left":new i.Point(nt,nt),"top-right":new i.Point(-nt,nt),bottom:new i.Point(0,-Y),"bottom-left":new i.Point(nt,-nt),"bottom-right":new i.Point(-nt,-nt),left:new i.Point(Y,0),right:new i.Point(-Y,0)}}else if(Y instanceof i.Point||Array.isArray(Y)){var $=i.Point.convert(Y);return{center:$,top:$,"top-left":$,"top-right":$,bottom:$,"bottom-left":$,"bottom-right":$,left:$,right:$}}else return{center:i.Point.convert(Y.center||[0,0]),top:i.Point.convert(Y.top||[0,0]),"top-left":i.Point.convert(Y["top-left"]||[0,0]),"top-right":i.Point.convert(Y["top-right"]||[0,0]),bottom:i.Point.convert(Y.bottom||[0,0]),"bottom-left":i.Point.convert(Y["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(Y["bottom-right"]||[0,0]),left:i.Point.convert(Y.left||[0,0]),right:i.Point.convert(Y.right||[0,0])};else return ov(new i.Point(0,0))}var lo={version:i.version,supported:M,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:Pd,NavigationControl:Iu,GeolocateControl:ev,AttributionControl:Zi,ScaleControl:Hc,FullscreenControl:kl,Popup:cy,Marker:Cf,Style:Fo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:Ie,clearPrewarmedResources:We,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(Y){i.config.ACCESS_TOKEN=Y},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(Y){i.config.API_URL=Y},get workerCount(){return hr.workerCount},set workerCount(Y){hr.workerCount=Y},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(Y){i.config.MAX_PARALLEL_IMAGE_REQUESTS=Y},clearStorage:function(Y){i.clearTileCache(Y)},workerUrl:""};return lo}),x})},3108:function(X,B,t){X.exports=t(26099)},26099:function(X,B,t){var x=t(64928),E=t(32420),i=t(51160),M=t(76752),m=t(55616),d=t(31264),v=t(47520),r=t(18400),e=t(72512),s=t(76244),n=1073741824;X.exports=function(o,h){h||(h={}),o=v(o,"float64"),h=m(h,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var b=d(h.maxDepth,255),f=d(h.bounds,M(o,2));f[0]===f[2]&&f[2]++,f[1]===f[3]&&f[3]++;var k=l(o,f),a=o.length>>>1,c;h.dtype||(h.dtype="array"),typeof h.dtype=="string"?c=new(e(h.dtype))(a):h.dtype&&(c=h.dtype,Array.isArray(c)&&(c.length=a));for(var p=0;p<a;++p)c[p]=p;var w=[],S=[],_=[],T=[];O(0,0,1,c,0,1);for(var P=0,u=0;u<w.length;u++){var g=w[u];if(c.set)c.set(g,P);else for(var L=0,A=g.length;L<A;L++)c[L+P]=g[L];var R=P+w[u].length;T[u]=[P,R],P=R}return c.range=N,c;function O(I,j,V,W,K,et){if(!W.length)return null;var lt=w[K]||(w[K]=[]),ot=_[K]||(_[K]=[]),q=S[K]||(S[K]=[]),J=lt.length;if(K++,K>b||et>n){for(var it=0;it<W.length;it++)lt.push(W[it]),ot.push(et),q.push(null,null,null,null);return J}if(lt.push(W[0]),ot.push(et),W.length<=1)return q.push(null,null,null,null),J;for(var Z=V*.5,tt=I+Z,st=j+Z,Q=[],G=[],ut=[],at=[],dt=1,gt=W.length;dt<gt;dt++){var wt=W[dt],kt=k[wt*2],Ot=k[wt*2+1];kt<tt?Ot<st?Q.push(wt):G.push(wt):Ot<st?ut.push(wt):at.push(wt)}return et<<=2,q.push(O(I,j,Z,Q,K,et),O(I,st,Z,G,K,et+1),O(tt,j,Z,ut,K,et+2),O(tt,st,Z,at,K,et+3)),J}function N(){for(var I=[],j=arguments.length;j--;)I[j]=arguments[j];var V;if(r(I[I.length-1])){var W=I.pop();!I.length&&(W.x!=null||W.l!=null||W.left!=null)&&(I=[W],V={}),V=m(W,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else V={};I.length||(I=f);var K=i.apply(void 0,I),et=[Math.min(K.x,K.x+K.width),Math.min(K.y,K.y+K.height),Math.max(K.x,K.x+K.width),Math.max(K.y,K.y+K.height)],lt=et[0],ot=et[1],q=et[2],J=et[3],it=l([lt,ot,q,J],f),Z=it[0],tt=it[1],st=it[2],Q=it[3],G=d(V.level,w.length);if(V.d!=null){var ut;typeof V.d=="number"?ut=[V.d,V.d]:V.d.length&&(ut=V.d),G=Math.min(Math.max(Math.ceil(-s(Math.abs(ut[0])/(f[2]-f[0]))),Math.ceil(-s(Math.abs(ut[1])/(f[3]-f[1])))),G)}if(G=Math.min(G,w.length),V.lod)return z(Z,tt,st,Q,G);var at=[];dt(0,0,1,0,0,1);function dt(wt,kt,Ot,bt,_t,mt){if(!(_t===null||mt===null)){var Pt=wt+Ot,Rt=kt+Ot;if(!(Z>Pt||tt>Rt||st<wt||Q<kt)&&!(bt>=G)&&_t!==mt){var Ht=w[bt];mt===void 0&&(mt=Ht.length);for(var Dt=_t;Dt<mt;Dt++){var Xt=Ht[Dt],se=o[Xt*2],Yt=o[Xt*2+1];se>=lt&&se<=q&&Yt>=ot&&Yt<=J&&at.push(Xt)}var ue=S[bt],ie=ue[_t*4+0],fe=ue[_t*4+1],ce=ue[_t*4+2],ye=ue[_t*4+3],de=gt(ue,_t+1),Te=Ot*.5,Et=bt+1;dt(wt,kt,Te,Et,ie,fe||ce||ye||de),dt(wt,kt+Te,Te,Et,fe,ce||ye||de),dt(wt+Te,kt,Te,Et,ce,ye||de),dt(wt+Te,kt+Te,Te,Et,ye,de)}}}function gt(wt,kt){for(var Ot=null,bt=0;Ot===null;)if(Ot=wt[kt*4+bt],bt++,bt>wt.length)return null;return Ot}return at}function z(I,j,V,W,K){for(var et=[],lt=0;lt<K;lt++){var ot=_[lt],q=T[lt][0],J=F(I,j,lt),it=F(V,W,lt),Z=x.ge(ot,J),tt=x.gt(ot,it,Z,ot.length-1);et[lt]=[Z+q,tt+q]}return et}function F(I,j,V){for(var W=1,K=.5,et=.5,lt=.5,ot=0;ot<V;ot++)W<<=2,W+=I<K?j<et?0:1:j<et?2:3,lt*=.5,K+=I<K?-lt:lt,et+=j<et?-lt:lt;return W}};function l(o,h){for(var b=h[0],f=h[1],k=h[2],a=h[3],c=1/(k-b),p=1/(a-f),w=new Array(o.length),S=0,_=o.length/2;S<_;S++)w[2*S]=E((o[2*S]-b)*c,0,1),w[2*S+1]=E((o[2*S+1]-f)*p,0,1);return w}},40440:function(X,B,t){Object.defineProperty(B,"__esModule",{value:!0});var x=t(3256),E=6378137;function i(r){return x.geomReduce(r,function(e,s){return e+M(s)},0)}B.default=i;function M(r){var e=0,s;switch(r.type){case"Polygon":return m(r.coordinates);case"MultiPolygon":for(s=0;s<r.coordinates.length;s++)e+=m(r.coordinates[s]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function m(r){var e=0;if(r&&r.length>0){e+=Math.abs(d(r[0]));for(var s=1;s<r.length;s++)e-=Math.abs(d(r[s]))}return e}function d(r){var e,s,n,l,o,h,b,f=0,k=r.length;if(k>2){for(b=0;b<k;b++)b===k-2?(l=k-2,o=k-1,h=0):b===k-1?(l=k-1,o=0,h=1):(l=b,o=b+1,h=b+2),e=r[l],s=r[o],n=r[h],f+=(v(n[0])-v(e[0]))*Math.sin(v(s[1]));f=f*E*E/2}return f}function v(r){return r*Math.PI/180}},46284:function(X,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(u,g,L){L===void 0&&(L={});var A={type:"Feature"};return(L.id===0||L.id)&&(A.id=L.id),L.bbox&&(A.bbox=L.bbox),A.properties=g||{},A.geometry=u,A}B.feature=t;function x(u,g,L){switch(u){case"Point":return E(g).geometry;case"LineString":return d(g).geometry;case"Polygon":return M(g).geometry;case"MultiPoint":return s(g).geometry;case"MultiLineString":return e(g).geometry;case"MultiPolygon":return n(g).geometry;default:throw new Error(u+" is invalid")}}B.geometry=x;function E(u,g,L){if(L===void 0&&(L={}),!u)throw new Error("coordinates is required");if(!Array.isArray(u))throw new Error("coordinates must be an Array");if(u.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(u[0])||!S(u[1]))throw new Error("coordinates must contain numbers");var A={type:"Point",coordinates:u};return t(A,g,L)}B.point=E;function i(u,g,L){return L===void 0&&(L={}),r(u.map(function(A){return E(A,g)}),L)}B.points=i;function M(u,g,L){L===void 0&&(L={});for(var A=0,R=u;A<R.length;A++){var O=R[A];if(O.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<O[O.length-1].length;N++)if(O[O.length-1][N]!==O[0][N])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:u};return t(z,g,L)}B.polygon=M;function m(u,g,L){return L===void 0&&(L={}),r(u.map(function(A){return M(A,g)}),L)}B.polygons=m;function d(u,g,L){if(L===void 0&&(L={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");var A={type:"LineString",coordinates:u};return t(A,g,L)}B.lineString=d;function v(u,g,L){return L===void 0&&(L={}),r(u.map(function(A){return d(A,g)}),L)}B.lineStrings=v;function r(u,g){g===void 0&&(g={});var L={type:"FeatureCollection"};return g.id&&(L.id=g.id),g.bbox&&(L.bbox=g.bbox),L.features=u,L}B.featureCollection=r;function e(u,g,L){L===void 0&&(L={});var A={type:"MultiLineString",coordinates:u};return t(A,g,L)}B.multiLineString=e;function s(u,g,L){L===void 0&&(L={});var A={type:"MultiPoint",coordinates:u};return t(A,g,L)}B.multiPoint=s;function n(u,g,L){L===void 0&&(L={});var A={type:"MultiPolygon",coordinates:u};return t(A,g,L)}B.multiPolygon=n;function l(u,g,L){L===void 0&&(L={});var A={type:"GeometryCollection",geometries:u};return t(A,g,L)}B.geometryCollection=l;function o(u,g){if(g===void 0&&(g=0),g&&!(g>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,g||0);return Math.round(u*L)/L}B.round=o;function h(u,g){g===void 0&&(g="kilometers");var L=B.factors[g];if(!L)throw new Error(g+" units is invalid");return u*L}B.radiansToLength=h;function b(u,g){g===void 0&&(g="kilometers");var L=B.factors[g];if(!L)throw new Error(g+" units is invalid");return u/L}B.lengthToRadians=b;function f(u,g){return a(b(u,g))}B.lengthToDegrees=f;function k(u){var g=u%360;return g<0&&(g+=360),g}B.bearingToAzimuth=k;function a(u){var g=u%(2*Math.PI);return g*180/Math.PI}B.radiansToDegrees=a;function c(u){var g=u%360;return g*Math.PI/180}B.degreesToRadians=c;function p(u,g,L){if(g===void 0&&(g="kilometers"),L===void 0&&(L="kilometers"),!(u>=0))throw new Error("length must be a positive number");return h(b(u,g),L)}B.convertLength=p;function w(u,g,L){if(g===void 0&&(g="meters"),L===void 0&&(L="kilometers"),!(u>=0))throw new Error("area must be a positive number");var A=B.areaFactors[g];if(!A)throw new Error("invalid original units");var R=B.areaFactors[L];if(!R)throw new Error("invalid final units");return u/A*R}B.convertArea=w;function S(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)}B.isNumber=S;function _(u){return!!u&&u.constructor===Object}B.isObject=_;function T(u){if(!u)throw new Error("bbox is required");if(!Array.isArray(u))throw new Error("bbox must be an Array");if(u.length!==4&&u.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");u.forEach(function(g){if(!S(g))throw new Error("bbox must only contain numbers")})}B.validateBBox=T;function P(u){if(!u)throw new Error("id is required");if(["string","number"].indexOf(typeof u)===-1)throw new Error("id must be a number or a string")}B.validateId=P},3256:function(X,B,t){Object.defineProperty(B,"__esModule",{value:!0});var x=t(46284);function E(c,p,w){if(c!==null)for(var S,_,T,P,u,g,L,A=0,R=0,O,N=c.type,z=N==="FeatureCollection",F=N==="Feature",I=z?c.features.length:1,j=0;j<I;j++){L=z?c.features[j].geometry:F?c.geometry:c,O=L?L.type==="GeometryCollection":!1,u=O?L.geometries.length:1;for(var V=0;V<u;V++){var W=0,K=0;if(P=O?L.geometries[V]:L,P!==null){g=P.coordinates;var et=P.type;switch(A=w&&(et==="Polygon"||et==="MultiPolygon")?1:0,et){case null:break;case"Point":if(p(g,R,j,W,K)===!1)return!1;R++,W++;break;case"LineString":case"MultiPoint":for(S=0;S<g.length;S++){if(p(g[S],R,j,W,K)===!1)return!1;R++,et==="MultiPoint"&&W++}et==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(S=0;S<g.length;S++){for(_=0;_<g[S].length-A;_++){if(p(g[S][_],R,j,W,K)===!1)return!1;R++}et==="MultiLineString"&&W++,et==="Polygon"&&K++}et==="Polygon"&&W++;break;case"MultiPolygon":for(S=0;S<g.length;S++){for(K=0,_=0;_<g[S].length;_++){for(T=0;T<g[S][_].length-A;T++){if(p(g[S][_][T],R,j,W,K)===!1)return!1;R++}K++}W++}break;case"GeometryCollection":for(S=0;S<P.geometries.length;S++)if(E(P.geometries[S],p,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(c,p,w,S){var _=w;return E(c,function(T,P,u,g,L){P===0&&w===void 0?_=T:_=p(_,T,P,u,g,L)},S),_}function M(c,p){var w;switch(c.type){case"FeatureCollection":for(w=0;w<c.features.length&&p(c.features[w].properties,w)!==!1;w++);break;case"Feature":p(c.properties,0);break}}function m(c,p,w){var S=w;return M(c,function(_,T){T===0&&w===void 0?S=_:S=p(S,_,T)}),S}function d(c,p){if(c.type==="Feature")p(c,0);else if(c.type==="FeatureCollection")for(var w=0;w<c.features.length&&p(c.features[w],w)!==!1;w++);}function v(c,p,w){var S=w;return d(c,function(_,T){T===0&&w===void 0?S=_:S=p(S,_,T)}),S}function r(c){var p=[];return E(c,function(w){p.push(w)}),p}function e(c,p){var w,S,_,T,P,u,g,L,A,R,O=0,N=c.type==="FeatureCollection",z=c.type==="Feature",F=N?c.features.length:1;for(w=0;w<F;w++){for(u=N?c.features[w].geometry:z?c.geometry:c,L=N?c.features[w].properties:z?c.properties:{},A=N?c.features[w].bbox:z?c.bbox:void 0,R=N?c.features[w].id:z?c.id:void 0,g=u?u.type==="GeometryCollection":!1,P=g?u.geometries.length:1,_=0;_<P;_++){if(T=g?u.geometries[_]:u,T===null){if(p(null,O,L,A,R)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(T,O,L,A,R)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<T.geometries.length;S++)if(p(T.geometries[S],O,L,A,R)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function s(c,p,w){var S=w;return e(c,function(_,T,P,u,g){T===0&&w===void 0?S=_:S=p(S,_,T,P,u,g)}),S}function n(c,p){e(c,function(w,S,_,T,P){var u=w===null?null:w.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return p(x.feature(w,_,{bbox:T,id:P}),S,0)===!1?!1:void 0}var g;switch(u){case"MultiPoint":g="Point";break;case"MultiLineString":g="LineString";break;case"MultiPolygon":g="Polygon";break}for(var L=0;L<w.coordinates.length;L++){var A=w.coordinates[L],R={type:g,coordinates:A};if(p(x.feature(R,_),S,L)===!1)return!1}})}function l(c,p,w){var S=w;return n(c,function(_,T,P){T===0&&P===0&&w===void 0?S=_:S=p(S,_,T,P)}),S}function o(c,p){n(c,function(w,S,_){var T=0;if(w.geometry){var P=w.geometry.type;if(!(P==="Point"||P==="MultiPoint")){var u,g=0,L=0,A=0;if(E(w,function(R,O,N,z,F){if(u===void 0||S>g||z>L||F>A){u=R,g=S,L=z,A=F,T=0;return}var I=x.lineString([u,R],w.properties);if(p(I,S,_,F,T)===!1)return!1;T++,u=R})===!1)return!1}}})}function h(c,p,w){var S=w,_=!1;return o(c,function(T,P,u,g,L){_===!1&&w===void 0?S=T:S=p(S,T,P,u,g,L),_=!0}),S}function b(c,p){if(!c)throw new Error("geojson is required");n(c,function(w,S,_){if(w.geometry!==null){var T=w.geometry.type,P=w.geometry.coordinates;switch(T){case"LineString":if(p(w,S,_,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<P.length;u++)if(p(x.lineString(P[u],w.properties),S,_,u)===!1)return!1;break}}})}function f(c,p,w){var S=w;return b(c,function(_,T,P,u){T===0&&w===void 0?S=_:S=p(S,_,T,P,u)}),S}function k(c,p){if(p=p||{},!x.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,S=p.multiFeatureIndex||0,_=p.geometryIndex||0,T=p.segmentIndex||0,P=p.properties,u;switch(c.type){case"FeatureCollection":w<0&&(w=c.features.length+w),P=P||c.features[w].properties,u=c.features[w].geometry;break;case"Feature":P=P||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var g=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=g.length+T-1),x.lineString([g[T],g[T+1]],P,p);case"Polygon":return _<0&&(_=g.length+_),T<0&&(T=g[_].length+T-1),x.lineString([g[_][T],g[_][T+1]],P,p);case"MultiLineString":return S<0&&(S=g.length+S),T<0&&(T=g[S].length+T-1),x.lineString([g[S][T],g[S][T+1]],P,p);case"MultiPolygon":return S<0&&(S=g.length+S),_<0&&(_=g[S].length+_),T<0&&(T=g[S][_].length-T-1),x.lineString([g[S][_][T],g[S][_][T+1]],P,p)}throw new Error("geojson is invalid")}function a(c,p){if(p=p||{},!x.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,S=p.multiFeatureIndex||0,_=p.geometryIndex||0,T=p.coordIndex||0,P=p.properties,u;switch(c.type){case"FeatureCollection":w<0&&(w=c.features.length+w),P=P||c.features[w].properties,u=c.features[w].geometry;break;case"Feature":P=P||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var g=u.coordinates;switch(u.type){case"Point":return x.point(g,P,p);case"MultiPoint":return S<0&&(S=g.length+S),x.point(g[S],P,p);case"LineString":return T<0&&(T=g.length+T),x.point(g[T],P,p);case"Polygon":return _<0&&(_=g.length+_),T<0&&(T=g[_].length+T),x.point(g[_][T],P,p);case"MultiLineString":return S<0&&(S=g.length+S),T<0&&(T=g[S].length+T),x.point(g[S][T],P,p);case"MultiPolygon":return S<0&&(S=g.length+S),_<0&&(_=g[S].length+_),T<0&&(T=g[S][_].length-T),x.point(g[S][_][T],P,p)}throw new Error("geojson is invalid")}B.coordEach=E,B.coordReduce=i,B.propEach=M,B.propReduce=m,B.featureEach=d,B.featureReduce=v,B.coordAll=r,B.geomEach=e,B.geomReduce=s,B.flattenEach=n,B.flattenReduce=l,B.segmentEach=o,B.segmentReduce=h,B.lineEach=b,B.lineReduce=f,B.findSegment=k,B.findPoint=a},42428:function(X,B,t){Object.defineProperty(B,"__esModule",{value:!0});var x=t(84880);function E(i){var M=[1/0,1/0,-1/0,-1/0];return x.coordEach(i,function(m){M[0]>m[0]&&(M[0]=m[0]),M[1]>m[1]&&(M[1]=m[1]),M[2]<m[0]&&(M[2]=m[0]),M[3]<m[1]&&(M[3]=m[1])}),M}E.default=E,B.default=E},76796:function(X,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(u,g,L){L===void 0&&(L={});var A={type:"Feature"};return(L.id===0||L.id)&&(A.id=L.id),L.bbox&&(A.bbox=L.bbox),A.properties=g||{},A.geometry=u,A}B.feature=t;function x(u,g,L){switch(u){case"Point":return E(g).geometry;case"LineString":return d(g).geometry;case"Polygon":return M(g).geometry;case"MultiPoint":return s(g).geometry;case"MultiLineString":return e(g).geometry;case"MultiPolygon":return n(g).geometry;default:throw new Error(u+" is invalid")}}B.geometry=x;function E(u,g,L){if(L===void 0&&(L={}),!u)throw new Error("coordinates is required");if(!Array.isArray(u))throw new Error("coordinates must be an Array");if(u.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(u[0])||!S(u[1]))throw new Error("coordinates must contain numbers");var A={type:"Point",coordinates:u};return t(A,g,L)}B.point=E;function i(u,g,L){return L===void 0&&(L={}),r(u.map(function(A){return E(A,g)}),L)}B.points=i;function M(u,g,L){L===void 0&&(L={});for(var A=0,R=u;A<R.length;A++){var O=R[A];if(O.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<O[O.length-1].length;N++)if(O[O.length-1][N]!==O[0][N])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:u};return t(z,g,L)}B.polygon=M;function m(u,g,L){return L===void 0&&(L={}),r(u.map(function(A){return M(A,g)}),L)}B.polygons=m;function d(u,g,L){if(L===void 0&&(L={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");var A={type:"LineString",coordinates:u};return t(A,g,L)}B.lineString=d;function v(u,g,L){return L===void 0&&(L={}),r(u.map(function(A){return d(A,g)}),L)}B.lineStrings=v;function r(u,g){g===void 0&&(g={});var L={type:"FeatureCollection"};return g.id&&(L.id=g.id),g.bbox&&(L.bbox=g.bbox),L.features=u,L}B.featureCollection=r;function e(u,g,L){L===void 0&&(L={});var A={type:"MultiLineString",coordinates:u};return t(A,g,L)}B.multiLineString=e;function s(u,g,L){L===void 0&&(L={});var A={type:"MultiPoint",coordinates:u};return t(A,g,L)}B.multiPoint=s;function n(u,g,L){L===void 0&&(L={});var A={type:"MultiPolygon",coordinates:u};return t(A,g,L)}B.multiPolygon=n;function l(u,g,L){L===void 0&&(L={});var A={type:"GeometryCollection",geometries:u};return t(A,g,L)}B.geometryCollection=l;function o(u,g){if(g===void 0&&(g=0),g&&!(g>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,g||0);return Math.round(u*L)/L}B.round=o;function h(u,g){g===void 0&&(g="kilometers");var L=B.factors[g];if(!L)throw new Error(g+" units is invalid");return u*L}B.radiansToLength=h;function b(u,g){g===void 0&&(g="kilometers");var L=B.factors[g];if(!L)throw new Error(g+" units is invalid");return u/L}B.lengthToRadians=b;function f(u,g){return a(b(u,g))}B.lengthToDegrees=f;function k(u){var g=u%360;return g<0&&(g+=360),g}B.bearingToAzimuth=k;function a(u){var g=u%(2*Math.PI);return g*180/Math.PI}B.radiansToDegrees=a;function c(u){var g=u%360;return g*Math.PI/180}B.degreesToRadians=c;function p(u,g,L){if(g===void 0&&(g="kilometers"),L===void 0&&(L="kilometers"),!(u>=0))throw new Error("length must be a positive number");return h(b(u,g),L)}B.convertLength=p;function w(u,g,L){if(g===void 0&&(g="meters"),L===void 0&&(L="kilometers"),!(u>=0))throw new Error("area must be a positive number");var A=B.areaFactors[g];if(!A)throw new Error("invalid original units");var R=B.areaFactors[L];if(!R)throw new Error("invalid final units");return u/A*R}B.convertArea=w;function S(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)}B.isNumber=S;function _(u){return!!u&&u.constructor===Object}B.isObject=_;function T(u){if(!u)throw new Error("bbox is required");if(!Array.isArray(u))throw new Error("bbox must be an Array");if(u.length!==4&&u.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");u.forEach(function(g){if(!S(g))throw new Error("bbox must only contain numbers")})}B.validateBBox=T;function P(u){if(!u)throw new Error("id is required");if(["string","number"].indexOf(typeof u)===-1)throw new Error("id must be a number or a string")}B.validateId=P},84880:function(X,B,t){Object.defineProperty(B,"__esModule",{value:!0});var x=t(76796);function E(c,p,w){if(c!==null)for(var S,_,T,P,u,g,L,A=0,R=0,O,N=c.type,z=N==="FeatureCollection",F=N==="Feature",I=z?c.features.length:1,j=0;j<I;j++){L=z?c.features[j].geometry:F?c.geometry:c,O=L?L.type==="GeometryCollection":!1,u=O?L.geometries.length:1;for(var V=0;V<u;V++){var W=0,K=0;if(P=O?L.geometries[V]:L,P!==null){g=P.coordinates;var et=P.type;switch(A=w&&(et==="Polygon"||et==="MultiPolygon")?1:0,et){case null:break;case"Point":if(p(g,R,j,W,K)===!1)return!1;R++,W++;break;case"LineString":case"MultiPoint":for(S=0;S<g.length;S++){if(p(g[S],R,j,W,K)===!1)return!1;R++,et==="MultiPoint"&&W++}et==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(S=0;S<g.length;S++){for(_=0;_<g[S].length-A;_++){if(p(g[S][_],R,j,W,K)===!1)return!1;R++}et==="MultiLineString"&&W++,et==="Polygon"&&K++}et==="Polygon"&&W++;break;case"MultiPolygon":for(S=0;S<g.length;S++){for(K=0,_=0;_<g[S].length;_++){for(T=0;T<g[S][_].length-A;T++){if(p(g[S][_][T],R,j,W,K)===!1)return!1;R++}K++}W++}break;case"GeometryCollection":for(S=0;S<P.geometries.length;S++)if(E(P.geometries[S],p,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(c,p,w,S){var _=w;return E(c,function(T,P,u,g,L){P===0&&w===void 0?_=T:_=p(_,T,P,u,g,L)},S),_}function M(c,p){var w;switch(c.type){case"FeatureCollection":for(w=0;w<c.features.length&&p(c.features[w].properties,w)!==!1;w++);break;case"Feature":p(c.properties,0);break}}function m(c,p,w){var S=w;return M(c,function(_,T){T===0&&w===void 0?S=_:S=p(S,_,T)}),S}function d(c,p){if(c.type==="Feature")p(c,0);else if(c.type==="FeatureCollection")for(var w=0;w<c.features.length&&p(c.features[w],w)!==!1;w++);}function v(c,p,w){var S=w;return d(c,function(_,T){T===0&&w===void 0?S=_:S=p(S,_,T)}),S}function r(c){var p=[];return E(c,function(w){p.push(w)}),p}function e(c,p){var w,S,_,T,P,u,g,L,A,R,O=0,N=c.type==="FeatureCollection",z=c.type==="Feature",F=N?c.features.length:1;for(w=0;w<F;w++){for(u=N?c.features[w].geometry:z?c.geometry:c,L=N?c.features[w].properties:z?c.properties:{},A=N?c.features[w].bbox:z?c.bbox:void 0,R=N?c.features[w].id:z?c.id:void 0,g=u?u.type==="GeometryCollection":!1,P=g?u.geometries.length:1,_=0;_<P;_++){if(T=g?u.geometries[_]:u,T===null){if(p(null,O,L,A,R)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(T,O,L,A,R)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<T.geometries.length;S++)if(p(T.geometries[S],O,L,A,R)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function s(c,p,w){var S=w;return e(c,function(_,T,P,u,g){T===0&&w===void 0?S=_:S=p(S,_,T,P,u,g)}),S}function n(c,p){e(c,function(w,S,_,T,P){var u=w===null?null:w.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return p(x.feature(w,_,{bbox:T,id:P}),S,0)===!1?!1:void 0}var g;switch(u){case"MultiPoint":g="Point";break;case"MultiLineString":g="LineString";break;case"MultiPolygon":g="Polygon";break}for(var L=0;L<w.coordinates.length;L++){var A=w.coordinates[L],R={type:g,coordinates:A};if(p(x.feature(R,_),S,L)===!1)return!1}})}function l(c,p,w){var S=w;return n(c,function(_,T,P){T===0&&P===0&&w===void 0?S=_:S=p(S,_,T,P)}),S}function o(c,p){n(c,function(w,S,_){var T=0;if(w.geometry){var P=w.geometry.type;if(!(P==="Point"||P==="MultiPoint")){var u,g=0,L=0,A=0;if(E(w,function(R,O,N,z,F){if(u===void 0||S>g||z>L||F>A){u=R,g=S,L=z,A=F,T=0;return}var I=x.lineString([u,R],w.properties);if(p(I,S,_,F,T)===!1)return!1;T++,u=R})===!1)return!1}}})}function h(c,p,w){var S=w,_=!1;return o(c,function(T,P,u,g,L){_===!1&&w===void 0?S=T:S=p(S,T,P,u,g,L),_=!0}),S}function b(c,p){if(!c)throw new Error("geojson is required");n(c,function(w,S,_){if(w.geometry!==null){var T=w.geometry.type,P=w.geometry.coordinates;switch(T){case"LineString":if(p(w,S,_,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<P.length;u++)if(p(x.lineString(P[u],w.properties),S,_,u)===!1)return!1;break}}})}function f(c,p,w){var S=w;return b(c,function(_,T,P,u){T===0&&w===void 0?S=_:S=p(S,_,T,P,u)}),S}function k(c,p){if(p=p||{},!x.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,S=p.multiFeatureIndex||0,_=p.geometryIndex||0,T=p.segmentIndex||0,P=p.properties,u;switch(c.type){case"FeatureCollection":w<0&&(w=c.features.length+w),P=P||c.features[w].properties,u=c.features[w].geometry;break;case"Feature":P=P||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var g=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=g.length+T-1),x.lineString([g[T],g[T+1]],P,p);case"Polygon":return _<0&&(_=g.length+_),T<0&&(T=g[_].length+T-1),x.lineString([g[_][T],g[_][T+1]],P,p);case"MultiLineString":return S<0&&(S=g.length+S),T<0&&(T=g[S].length+T-1),x.lineString([g[S][T],g[S][T+1]],P,p);case"MultiPolygon":return S<0&&(S=g.length+S),_<0&&(_=g[S].length+_),T<0&&(T=g[S][_].length-T-1),x.lineString([g[S][_][T],g[S][_][T+1]],P,p)}throw new Error("geojson is invalid")}function a(c,p){if(p=p||{},!x.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,S=p.multiFeatureIndex||0,_=p.geometryIndex||0,T=p.coordIndex||0,P=p.properties,u;switch(c.type){case"FeatureCollection":w<0&&(w=c.features.length+w),P=P||c.features[w].properties,u=c.features[w].geometry;break;case"Feature":P=P||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var g=u.coordinates;switch(u.type){case"Point":return x.point(g,P,p);case"MultiPoint":return S<0&&(S=g.length+S),x.point(g[S],P,p);case"LineString":return T<0&&(T=g.length+T),x.point(g[T],P,p);case"Polygon":return _<0&&(_=g.length+_),T<0&&(T=g[_].length+T),x.point(g[_][T],P,p);case"MultiLineString":return S<0&&(S=g.length+S),T<0&&(T=g[S].length+T),x.point(g[S][T],P,p);case"MultiPolygon":return S<0&&(S=g.length+S),_<0&&(_=g[S].length+_),T<0&&(T=g[S][_].length-T),x.point(g[S][_][T],P,p)}throw new Error("geojson is invalid")}B.coordEach=E,B.coordReduce=i,B.propEach=M,B.propReduce=m,B.featureEach=d,B.featureReduce=v,B.coordAll=r,B.geomEach=e,B.geomReduce=s,B.flattenEach=n,B.flattenReduce=l,B.segmentEach=o,B.segmentReduce=h,B.lineEach=b,B.lineReduce=f,B.findSegment=k,B.findPoint=a},77844:function(X,B,t){Object.defineProperty(B,"__esModule",{value:!0});var x=t(43752),E=t(49840);function i(M,m){m===void 0&&(m={});var d=0,v=0,r=0;return x.coordEach(M,function(e){d+=e[0],v+=e[1],r++}),E.point([d/r,v/r],m.properties)}B.default=i},49840:function(X,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(z,F,I){I===void 0&&(I={});var j={type:"Feature"};return(I.id===0||I.id)&&(j.id=I.id),I.bbox&&(j.bbox=I.bbox),j.properties=F||{},j.geometry=z,j}B.feature=t;function x(z,F,I){switch(z){case"Point":return E(F).geometry;case"LineString":return d(F).geometry;case"Polygon":return M(F).geometry;case"MultiPoint":return s(F).geometry;case"MultiLineString":return e(F).geometry;case"MultiPolygon":return n(F).geometry;default:throw new Error(z+" is invalid")}}B.geometry=x;function E(z,F,I){I===void 0&&(I={});var j={type:"Point",coordinates:z};return t(j,F,I)}B.point=E;function i(z,F,I){return I===void 0&&(I={}),r(z.map(function(j){return E(j,F)}),I)}B.points=i;function M(z,F,I){I===void 0&&(I={});for(var j=0,V=z;j<V.length;j++){var W=V[j];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var K=0;K<W[W.length-1].length;K++)if(W[W.length-1][K]!==W[0][K])throw new Error("First and last Position are not equivalent.")}var et={type:"Polygon",coordinates:z};return t(et,F,I)}B.polygon=M;function m(z,F,I){return I===void 0&&(I={}),r(z.map(function(j){return M(j,F)}),I)}B.polygons=m;function d(z,F,I){if(I===void 0&&(I={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var j={type:"LineString",coordinates:z};return t(j,F,I)}B.lineString=d;function v(z,F,I){return I===void 0&&(I={}),r(z.map(function(j){return d(j,F)}),I)}B.lineStrings=v;function r(z,F){F===void 0&&(F={});var I={type:"FeatureCollection"};return F.id&&(I.id=F.id),F.bbox&&(I.bbox=F.bbox),I.features=z,I}B.featureCollection=r;function e(z,F,I){I===void 0&&(I={});var j={type:"MultiLineString",coordinates:z};return t(j,F,I)}B.multiLineString=e;function s(z,F,I){I===void 0&&(I={});var j={type:"MultiPoint",coordinates:z};return t(j,F,I)}B.multiPoint=s;function n(z,F,I){I===void 0&&(I={});var j={type:"MultiPolygon",coordinates:z};return t(j,F,I)}B.multiPolygon=n;function l(z,F,I){I===void 0&&(I={});var j={type:"GeometryCollection",geometries:z};return t(j,F,I)}B.geometryCollection=l;function o(z,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var I=Math.pow(10,F||0);return Math.round(z*I)/I}B.round=o;function h(z,F){F===void 0&&(F="kilometers");var I=B.factors[F];if(!I)throw new Error(F+" units is invalid");return z*I}B.radiansToLength=h;function b(z,F){F===void 0&&(F="kilometers");var I=B.factors[F];if(!I)throw new Error(F+" units is invalid");return z/I}B.lengthToRadians=b;function f(z,F){return a(b(z,F))}B.lengthToDegrees=f;function k(z){var F=z%360;return F<0&&(F+=360),F}B.bearingToAzimuth=k;function a(z){var F=z%(2*Math.PI);return F*180/Math.PI}B.radiansToDegrees=a;function c(z){var F=z%360;return F*Math.PI/180}B.degreesToRadians=c;function p(z,F,I){if(F===void 0&&(F="kilometers"),I===void 0&&(I="kilometers"),!(z>=0))throw new Error("length must be a positive number");return h(b(z,F),I)}B.convertLength=p;function w(z,F,I){if(F===void 0&&(F="meters"),I===void 0&&(I="kilometers"),!(z>=0))throw new Error("area must be a positive number");var j=B.areaFactors[F];if(!j)throw new Error("invalid original units");var V=B.areaFactors[I];if(!V)throw new Error("invalid final units");return z/j*V}B.convertArea=w;function S(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}B.isNumber=S;function _(z){return!!z&&z.constructor===Object}B.isObject=_;function T(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(F){if(!S(F))throw new Error("bbox must only contain numbers")})}B.validateBBox=T;function P(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}B.validateId=P;function u(){throw new Error("method has been renamed to `radiansToDegrees`")}B.radians2degrees=u;function g(){throw new Error("method has been renamed to `degreesToRadians`")}B.degrees2radians=g;function L(){throw new Error("method has been renamed to `lengthToDegrees`")}B.distanceToDegrees=L;function A(){throw new Error("method has been renamed to `lengthToRadians`")}B.distanceToRadians=A;function R(){throw new Error("method has been renamed to `radiansToLength`")}B.radiansToDistance=R;function O(){throw new Error("method has been renamed to `bearingToAzimuth`")}B.bearingToAngle=O;function N(){throw new Error("method has been renamed to `convertLength`")}B.convertDistance=N},43752:function(X,B,t){Object.defineProperty(B,"__esModule",{value:!0});var x=t(49840);function E(c,p,w){if(c!==null)for(var S,_,T,P,u,g,L,A=0,R=0,O,N=c.type,z=N==="FeatureCollection",F=N==="Feature",I=z?c.features.length:1,j=0;j<I;j++){L=z?c.features[j].geometry:F?c.geometry:c,O=L?L.type==="GeometryCollection":!1,u=O?L.geometries.length:1;for(var V=0;V<u;V++){var W=0,K=0;if(P=O?L.geometries[V]:L,P!==null){g=P.coordinates;var et=P.type;switch(A=w&&(et==="Polygon"||et==="MultiPolygon")?1:0,et){case null:break;case"Point":if(p(g,R,j,W,K)===!1)return!1;R++,W++;break;case"LineString":case"MultiPoint":for(S=0;S<g.length;S++){if(p(g[S],R,j,W,K)===!1)return!1;R++,et==="MultiPoint"&&W++}et==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(S=0;S<g.length;S++){for(_=0;_<g[S].length-A;_++){if(p(g[S][_],R,j,W,K)===!1)return!1;R++}et==="MultiLineString"&&W++,et==="Polygon"&&K++}et==="Polygon"&&W++;break;case"MultiPolygon":for(S=0;S<g.length;S++){for(K=0,_=0;_<g[S].length;_++){for(T=0;T<g[S][_].length-A;T++){if(p(g[S][_][T],R,j,W,K)===!1)return!1;R++}K++}W++}break;case"GeometryCollection":for(S=0;S<P.geometries.length;S++)if(E(P.geometries[S],p,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(c,p,w,S){var _=w;return E(c,function(T,P,u,g,L){P===0&&w===void 0?_=T:_=p(_,T,P,u,g,L)},S),_}function M(c,p){var w;switch(c.type){case"FeatureCollection":for(w=0;w<c.features.length&&p(c.features[w].properties,w)!==!1;w++);break;case"Feature":p(c.properties,0);break}}function m(c,p,w){var S=w;return M(c,function(_,T){T===0&&w===void 0?S=_:S=p(S,_,T)}),S}function d(c,p){if(c.type==="Feature")p(c,0);else if(c.type==="FeatureCollection")for(var w=0;w<c.features.length&&p(c.features[w],w)!==!1;w++);}function v(c,p,w){var S=w;return d(c,function(_,T){T===0&&w===void 0?S=_:S=p(S,_,T)}),S}function r(c){var p=[];return E(c,function(w){p.push(w)}),p}function e(c,p){var w,S,_,T,P,u,g,L,A,R,O=0,N=c.type==="FeatureCollection",z=c.type==="Feature",F=N?c.features.length:1;for(w=0;w<F;w++){for(u=N?c.features[w].geometry:z?c.geometry:c,L=N?c.features[w].properties:z?c.properties:{},A=N?c.features[w].bbox:z?c.bbox:void 0,R=N?c.features[w].id:z?c.id:void 0,g=u?u.type==="GeometryCollection":!1,P=g?u.geometries.length:1,_=0;_<P;_++){if(T=g?u.geometries[_]:u,T===null){if(p(null,O,L,A,R)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(T,O,L,A,R)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<T.geometries.length;S++)if(p(T.geometries[S],O,L,A,R)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function s(c,p,w){var S=w;return e(c,function(_,T,P,u,g){T===0&&w===void 0?S=_:S=p(S,_,T,P,u,g)}),S}function n(c,p){e(c,function(w,S,_,T,P){var u=w===null?null:w.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return p(x.feature(w,_,{bbox:T,id:P}),S,0)===!1?!1:void 0}var g;switch(u){case"MultiPoint":g="Point";break;case"MultiLineString":g="LineString";break;case"MultiPolygon":g="Polygon";break}for(var L=0;L<w.coordinates.length;L++){var A=w.coordinates[L],R={type:g,coordinates:A};if(p(x.feature(R,_),S,L)===!1)return!1}})}function l(c,p,w){var S=w;return n(c,function(_,T,P){T===0&&P===0&&w===void 0?S=_:S=p(S,_,T,P)}),S}function o(c,p){n(c,function(w,S,_){var T=0;if(w.geometry){var P=w.geometry.type;if(!(P==="Point"||P==="MultiPoint")){var u,g=0,L=0,A=0;if(E(w,function(R,O,N,z,F){if(u===void 0||S>g||z>L||F>A){u=R,g=S,L=z,A=F,T=0;return}var I=x.lineString([u,R],w.properties);if(p(I,S,_,F,T)===!1)return!1;T++,u=R})===!1)return!1}}})}function h(c,p,w){var S=w,_=!1;return o(c,function(T,P,u,g,L){_===!1&&w===void 0?S=T:S=p(S,T,P,u,g,L),_=!0}),S}function b(c,p){if(!c)throw new Error("geojson is required");n(c,function(w,S,_){if(w.geometry!==null){var T=w.geometry.type,P=w.geometry.coordinates;switch(T){case"LineString":if(p(w,S,_,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<P.length;u++)if(p(x.lineString(P[u],w.properties),S,_,u)===!1)return!1;break}}})}function f(c,p,w){var S=w;return b(c,function(_,T,P,u){T===0&&w===void 0?S=_:S=p(S,_,T,P,u)}),S}function k(c,p){if(p=p||{},!x.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,S=p.multiFeatureIndex||0,_=p.geometryIndex||0,T=p.segmentIndex||0,P=p.properties,u;switch(c.type){case"FeatureCollection":w<0&&(w=c.features.length+w),P=P||c.features[w].properties,u=c.features[w].geometry;break;case"Feature":P=P||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var g=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=g.length+T-1),x.lineString([g[T],g[T+1]],P,p);case"Polygon":return _<0&&(_=g.length+_),T<0&&(T=g[_].length+T-1),x.lineString([g[_][T],g[_][T+1]],P,p);case"MultiLineString":return S<0&&(S=g.length+S),T<0&&(T=g[S].length+T-1),x.lineString([g[S][T],g[S][T+1]],P,p);case"MultiPolygon":return S<0&&(S=g.length+S),_<0&&(_=g[S].length+_),T<0&&(T=g[S][_].length-T-1),x.lineString([g[S][_][T],g[S][_][T+1]],P,p)}throw new Error("geojson is invalid")}function a(c,p){if(p=p||{},!x.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,S=p.multiFeatureIndex||0,_=p.geometryIndex||0,T=p.coordIndex||0,P=p.properties,u;switch(c.type){case"FeatureCollection":w<0&&(w=c.features.length+w),P=P||c.features[w].properties,u=c.features[w].geometry;break;case"Feature":P=P||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var g=u.coordinates;switch(u.type){case"Point":return x.point(g,P,p);case"MultiPoint":return S<0&&(S=g.length+S),x.point(g[S],P,p);case"LineString":return T<0&&(T=g.length+T),x.point(g[T],P,p);case"Polygon":return _<0&&(_=g.length+_),T<0&&(T=g[_].length+T),x.point(g[_][T],P,p);case"MultiLineString":return S<0&&(S=g.length+S),T<0&&(T=g[S].length+T),x.point(g[S][T],P,p);case"MultiPolygon":return S<0&&(S=g.length+S),_<0&&(_=g[S].length+_),T<0&&(T=g[S][_].length-T),x.point(g[S][_][T],P,p)}throw new Error("geojson is invalid")}B.coordEach=E,B.coordReduce=i,B.propEach=M,B.propReduce=m,B.featureEach=d,B.featureReduce=v,B.coordAll=r,B.geomEach=e,B.geomReduce=s,B.flattenEach=n,B.flattenReduce=l,B.segmentEach=o,B.segmentReduce=h,B.lineEach=b,B.lineReduce=f,B.findSegment=k,B.findPoint=a},49972:function(X){X.exports=B;function B(t){var x=0,E=0,i=0,M=0;return t.map(function(m){m=m.slice();var d=m[0],v=d.toUpperCase();if(d!=v)switch(m[0]=v,d){case"a":m[6]+=i,m[7]+=M;break;case"v":m[1]+=M;break;case"h":m[1]+=i;break;default:for(var r=1;r<m.length;)m[r++]+=i,m[r++]+=M}switch(v){case"Z":i=x,M=E;break;case"H":i=m[1];break;case"V":M=m[1];break;case"M":i=x=m[1],M=E=m[2];break;default:i=m[m.length-2],M=m[m.length-1]}return m})}},76752:function(X){X.exports=B;function B(t,x){if(!t||t.length==null)throw Error("Argument should be an array");x==null?x=1:x=Math.floor(x);for(var E=Array(x*2),i=0;i<x;i++){for(var M=-1/0,m=1/0,d=i,v=t.length;d<v;d+=x)t[d]>M&&(M=t[d]),t[d]<m&&(m=t[d]);E[i]=m,E[x+i]=M}return E}},10272:function(X){X.exports=function(B,t,x){if(typeof Array.prototype.findIndex=="function")return B.findIndex(t,x);if(typeof t!="function")throw new TypeError("predicate must be a function");var E=Object(B),i=E.length;if(i===0)return-1;for(var M=0;M<i;M++)if(t.call(x,E[M],M,E))return M;return-1}},71152:function(X,B,t){var x=t(76752);X.exports=E;function E(i,M,m){if(!i||i.length==null)throw Error("Argument should be an array");M==null&&(M=1),m==null&&(m=x(i,M));for(var d=0;d<M;d++){var v=m[M+d],r=m[d],e=d,s=i.length;if(v===1/0&&r===-1/0)for(e=d;e<s;e+=M)i[e]=i[e]===v?1:i[e]===r?0:.5;else if(v===1/0)for(e=d;e<s;e+=M)i[e]=i[e]===v?1:0;else if(r===-1/0)for(e=d;e<s;e+=M)i[e]=i[e]===r?0:1;else{var n=v-r;for(e=d;e<s;e+=M)isNaN(i[e])||(i[e]=n===0?.5:(i[e]-r)/n)}}return i}},67752:function(X){X.exports=function(B,t){var x=typeof B=="number",E=typeof t=="number";x&&!E?(t=B,B=0):!x&&!E&&(B=0,t=0),B=B|0,t=t|0;var i=t-B;if(i<0)throw new Error("array length must be positive");for(var M=new Array(i),m=0,d=B;m<i;m++,d++)M[m]=d;return M}},45408:function(X,B,t){var x=t(4168);function E(K){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(et){return typeof et}:E=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},E(K)}function i(K,et){if(!(K instanceof et))throw new TypeError("Cannot call a class as a function")}var M=t(86832),m=M.codes,d=m.ERR_AMBIGUOUS_ARGUMENT,v=m.ERR_INVALID_ARG_TYPE,r=m.ERR_INVALID_ARG_VALUE,e=m.ERR_INVALID_RETURN_VALUE,s=m.ERR_MISSING_ARGS,n=t(26144),l=t(35840),o=l.inspect,h=t(35840).types,b=h.isPromise,f=h.isRegExp,k=Object.assign?Object.assign:t(60964).assign,a=Object.is?Object.is:t(39896),c,p;function w(){var K=t(25116);c=K.isDeepEqual,p=K.isDeepStrictEqual}var S=!1,_=X.exports=L,T={};function P(K){throw K.message instanceof Error?K.message:new n(K)}function u(K,et,lt,ot,q){var J=arguments.length,it;if(J===0)it="Failed";else if(J===1)lt=K,K=void 0;else{if(S===!1){S=!0;var Z=x.emitWarning?x.emitWarning:console.warn.bind(console);Z("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(ot="!=")}if(lt instanceof Error)throw lt;var tt={actual:K,expected:et,operator:ot===void 0?"fail":ot,stackStartFn:q||u};lt!==void 0&&(tt.message=lt);var st=new n(tt);throw it&&(st.message=it,st.generatedMessage=!0),st}_.fail=u,_.AssertionError=n;function g(K,et,lt,ot){if(!lt){var q=!1;if(et===0)q=!0,ot="No value argument passed to `assert.ok()`";else if(ot instanceof Error)throw ot;var J=new n({actual:lt,expected:!0,message:ot,operator:"==",stackStartFn:K});throw J.generatedMessage=q,J}}function L(){for(var K=arguments.length,et=new Array(K),lt=0;lt<K;lt++)et[lt]=arguments[lt];g.apply(void 0,[L,et.length].concat(et))}_.ok=L,_.equal=function K(et,lt,ot){if(arguments.length<2)throw new s("actual","expected");et!=lt&&P({actual:et,expected:lt,message:ot,operator:"==",stackStartFn:K})},_.notEqual=function K(et,lt,ot){if(arguments.length<2)throw new s("actual","expected");et==lt&&P({actual:et,expected:lt,message:ot,operator:"!=",stackStartFn:K})},_.deepEqual=function K(et,lt,ot){if(arguments.length<2)throw new s("actual","expected");c===void 0&&w(),c(et,lt)||P({actual:et,expected:lt,message:ot,operator:"deepEqual",stackStartFn:K})},_.notDeepEqual=function K(et,lt,ot){if(arguments.length<2)throw new s("actual","expected");c===void 0&&w(),c(et,lt)&&P({actual:et,expected:lt,message:ot,operator:"notDeepEqual",stackStartFn:K})},_.deepStrictEqual=function K(et,lt,ot){if(arguments.length<2)throw new s("actual","expected");c===void 0&&w(),p(et,lt)||P({actual:et,expected:lt,message:ot,operator:"deepStrictEqual",stackStartFn:K})},_.notDeepStrictEqual=A;function A(K,et,lt){if(arguments.length<2)throw new s("actual","expected");c===void 0&&w(),p(K,et)&&P({actual:K,expected:et,message:lt,operator:"notDeepStrictEqual",stackStartFn:A})}_.strictEqual=function K(et,lt,ot){if(arguments.length<2)throw new s("actual","expected");a(et,lt)||P({actual:et,expected:lt,message:ot,operator:"strictEqual",stackStartFn:K})},_.notStrictEqual=function K(et,lt,ot){if(arguments.length<2)throw new s("actual","expected");a(et,lt)&&P({actual:et,expected:lt,message:ot,operator:"notStrictEqual",stackStartFn:K})};var R=function K(et,lt,ot){var q=this;i(this,K),lt.forEach(function(J){J in et&&(ot!==void 0&&typeof ot[J]=="string"&&f(et[J])&&et[J].test(ot[J])?q[J]=ot[J]:q[J]=et[J])})};function O(K,et,lt,ot,q,J){if(!(lt in K)||!p(K[lt],et[lt])){if(!ot){var it=new R(K,q),Z=new R(et,q,K),tt=new n({actual:it,expected:Z,operator:"deepStrictEqual",stackStartFn:J});throw tt.actual=K,tt.expected=et,tt.operator=J.name,tt}P({actual:K,expected:et,message:ot,operator:J.name,stackStartFn:J})}}function N(K,et,lt,ot){if(typeof et!="function"){if(f(et))return et.test(K);if(arguments.length===2)throw new v("expected",["Function","RegExp"],et);if(E(K)!=="object"||K===null){var q=new n({actual:K,expected:et,message:lt,operator:"deepStrictEqual",stackStartFn:ot});throw q.operator=ot.name,q}var J=Object.keys(et);if(et instanceof Error)J.push("name","message");else if(J.length===0)throw new r("error",et,"may not be an empty object");return c===void 0&&w(),J.forEach(function(it){typeof K[it]=="string"&&f(et[it])&&et[it].test(K[it])||O(K,et,it,lt,J,ot)}),!0}return et.prototype!==void 0&&K instanceof et?!0:Error.isPrototypeOf(et)?!1:et.call({},K)===!0}function z(K){if(typeof K!="function")throw new v("fn","Function",K);try{K()}catch(et){return et}return T}function F(K){return b(K)||K!==null&&E(K)==="object"&&typeof K.then=="function"&&typeof K.catch=="function"}function I(K){return Promise.resolve().then(function(){var et;if(typeof K=="function"){if(et=K(),!F(et))throw new e("instance of Promise","promiseFn",et)}else if(F(K))et=K;else throw new v("promiseFn",["Function","Promise"],K);return Promise.resolve().then(function(){return et}).then(function(){return T}).catch(function(lt){return lt})})}function j(K,et,lt,ot){if(typeof lt=="string"){if(arguments.length===4)throw new v("error",["Object","Error","Function","RegExp"],lt);if(E(et)==="object"&&et!==null){if(et.message===lt)throw new d("error/message",'The error message "'.concat(et.message,'" is identical to the message.'))}else if(et===lt)throw new d("error/message",'The error "'.concat(et,'" is identical to the message.'));ot=lt,lt=void 0}else if(lt!=null&&E(lt)!=="object"&&typeof lt!="function")throw new v("error",["Object","Error","Function","RegExp"],lt);if(et===T){var q="";lt&&lt.name&&(q+=" (".concat(lt.name,")")),q+=ot?": ".concat(ot):".";var J=K.name==="rejects"?"rejection":"exception";P({actual:void 0,expected:lt,operator:K.name,message:"Missing expected ".concat(J).concat(q),stackStartFn:K})}if(lt&&!N(et,lt,ot,K))throw et}function V(K,et,lt,ot){if(et!==T){if(typeof lt=="string"&&(ot=lt,lt=void 0),!lt||N(et,lt)){var q=ot?": ".concat(ot):".",J=K.name==="doesNotReject"?"rejection":"exception";P({actual:et,expected:lt,operator:K.name,message:"Got unwanted ".concat(J).concat(q,`
`)+'Actual message: "'.concat(et&&et.message,'"'),stackStartFn:K})}throw et}}_.throws=function K(et){for(var lt=arguments.length,ot=new Array(lt>1?lt-1:0),q=1;q<lt;q++)ot[q-1]=arguments[q];j.apply(void 0,[K,z(et)].concat(ot))},_.rejects=function K(et){for(var lt=arguments.length,ot=new Array(lt>1?lt-1:0),q=1;q<lt;q++)ot[q-1]=arguments[q];return I(et).then(function(J){return j.apply(void 0,[K,J].concat(ot))})},_.doesNotThrow=function K(et){for(var lt=arguments.length,ot=new Array(lt>1?lt-1:0),q=1;q<lt;q++)ot[q-1]=arguments[q];V.apply(void 0,[K,z(et)].concat(ot))},_.doesNotReject=function K(et){for(var lt=arguments.length,ot=new Array(lt>1?lt-1:0),q=1;q<lt;q++)ot[q-1]=arguments[q];return I(et).then(function(J){return V.apply(void 0,[K,J].concat(ot))})},_.ifError=function K(et){if(et!=null){var lt="ifError got unwanted exception: ";E(et)==="object"&&typeof et.message=="string"?et.message.length===0&&et.constructor?lt+=et.constructor.name:lt+=et.message:lt+=o(et);var ot=new n({actual:et,expected:null,operator:"ifError",message:lt,stackStartFn:K}),q=et.stack;if(typeof q=="string"){var J=q.split(`
`);J.shift();for(var it=ot.stack.split(`
`),Z=0;Z<J.length;Z++){var tt=it.indexOf(J[Z]);if(tt!==-1){it=it.slice(0,tt);break}}ot.stack="".concat(it.join(`
`),`
`).concat(J.join(`
`))}throw ot}};function W(){for(var K=arguments.length,et=new Array(K),lt=0;lt<K;lt++)et[lt]=arguments[lt];g.apply(void 0,[W,et.length].concat(et))}_.strict=k(W,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},26144:function(X,B,t){var x=t(4168);function E(z){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{},j=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(j=j.concat(Object.getOwnPropertySymbols(I).filter(function(V){return Object.getOwnPropertyDescriptor(I,V).enumerable}))),j.forEach(function(V){i(z,V,I[V])})}return z}function i(z,F,I){return F in z?Object.defineProperty(z,F,{value:I,enumerable:!0,configurable:!0,writable:!0}):z[F]=I,z}function M(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}function m(z,F){for(var I=0;I<F.length;I++){var j=F[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(z,j.key,j)}}function d(z,F,I){return F&&m(z.prototype,F),I&&m(z,I),z}function v(z,F){return F&&(f(F)==="object"||typeof F=="function")?F:r(z)}function r(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function e(z,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(F&&F.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),F&&h(z,F)}function s(z){var F=typeof Map=="function"?new Map:void 0;return s=function(I){if(I===null||!o(I))return I;if(typeof I!="function")throw new TypeError("Super expression must either be null or a function");if(typeof F<"u"){if(F.has(I))return F.get(I);F.set(I,j)}function j(){return l(I,arguments,b(this).constructor)}return j.prototype=Object.create(I.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),h(j,I)},s(z)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(z,F,I){return n()?l=Reflect.construct:l=function(j,V,W){var K=[null];K.push.apply(K,V);var et=Function.bind.apply(j,K),lt=new et;return W&&h(lt,W.prototype),lt},l.apply(null,arguments)}function o(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function h(z,F){return h=Object.setPrototypeOf||function(I,j){return I.__proto__=j,I},h(z,F)}function b(z){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},b(z)}function f(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(F){return typeof F}:f=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},f(z)}var k=t(35840),a=k.inspect,c=t(86832),p=c.codes.ERR_INVALID_ARG_TYPE;function w(z,F,I){return(I===void 0||I>z.length)&&(I=z.length),z.substring(I-F.length,I)===F}function S(z,F){if(F=Math.floor(F),z.length==0||F==0)return"";var I=z.length*F;for(F=Math.floor(Math.log(F)/Math.log(2));F;)z+=z,F--;return z+=z.substring(0,I-z.length),z}var _="",T="",P="",u="",g={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L=10;function A(z){var F=Object.keys(z),I=Object.create(Object.getPrototypeOf(z));return F.forEach(function(j){I[j]=z[j]}),Object.defineProperty(I,"message",{value:z.message}),I}function R(z){return a(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function O(z,F,I){var j="",V="",W=0,K="",et=!1,lt=R(z),ot=lt.split(`
`),q=R(F).split(`
`),J=0,it="";if(I==="strictEqual"&&f(z)==="object"&&f(F)==="object"&&z!==null&&F!==null&&(I="strictEqualObject"),ot.length===1&&q.length===1&&ot[0]!==q[0]){var Z=ot[0].length+q[0].length;if(Z<=L){if((f(z)!=="object"||z===null)&&(f(F)!=="object"||F===null)&&(z!==0||F!==0))return"".concat(g[I],`

`)+"".concat(ot[0]," !== ").concat(q[0],`
`)}else if(I!=="strictEqualObject"){var tt=x.stderr&&x.stderr.isTTY?x.stderr.columns:80;if(Z<tt){for(;ot[0][J]===q[0][J];)J++;J>2&&(it=`
  `.concat(S(" ",J),"^"),J=0)}}}for(var st=ot[ot.length-1],Q=q[q.length-1];st===Q&&(J++<2?K=`
  `.concat(st).concat(K):j=st,ot.pop(),q.pop(),!(ot.length===0||q.length===0));)st=ot[ot.length-1],Q=q[q.length-1];var G=Math.max(ot.length,q.length);if(G===0){var ut=lt.split(`
`);if(ut.length>30)for(ut[26]="".concat(_,"...").concat(u);ut.length>27;)ut.pop();return"".concat(g.notIdentical,`

`).concat(ut.join(`
`),`
`)}J>3&&(K=`
`.concat(_,"...").concat(u).concat(K),et=!0),j!==""&&(K=`
  `.concat(j).concat(K),j="");var at=0,dt=g[I]+`
`.concat(T,"+ actual").concat(u," ").concat(P,"- expected").concat(u),gt=" ".concat(_,"...").concat(u," Lines skipped");for(J=0;J<G;J++){var wt=J-W;if(ot.length<J+1)wt>1&&J>2&&(wt>4?(V+=`
`.concat(_,"...").concat(u),et=!0):wt>3&&(V+=`
  `.concat(q[J-2]),at++),V+=`
  `.concat(q[J-1]),at++),W=J,j+=`
`.concat(P,"-").concat(u," ").concat(q[J]),at++;else if(q.length<J+1)wt>1&&J>2&&(wt>4?(V+=`
`.concat(_,"...").concat(u),et=!0):wt>3&&(V+=`
  `.concat(ot[J-2]),at++),V+=`
  `.concat(ot[J-1]),at++),W=J,V+=`
`.concat(T,"+").concat(u," ").concat(ot[J]),at++;else{var kt=q[J],Ot=ot[J],bt=Ot!==kt&&(!w(Ot,",")||Ot.slice(0,-1)!==kt);bt&&w(kt,",")&&kt.slice(0,-1)===Ot&&(bt=!1,Ot+=","),bt?(wt>1&&J>2&&(wt>4?(V+=`
`.concat(_,"...").concat(u),et=!0):wt>3&&(V+=`
  `.concat(ot[J-2]),at++),V+=`
  `.concat(ot[J-1]),at++),W=J,V+=`
`.concat(T,"+").concat(u," ").concat(Ot),j+=`
`.concat(P,"-").concat(u," ").concat(kt),at+=2):(V+=j,j="",(wt===1||J===0)&&(V+=`
  `.concat(Ot),at++))}if(at>20&&J<G-2)return"".concat(dt).concat(gt,`
`).concat(V,`
`).concat(_,"...").concat(u).concat(j,`
`)+"".concat(_,"...").concat(u)}return"".concat(dt).concat(et?gt:"",`
`).concat(V).concat(j).concat(K).concat(it)}var N=function(z){e(F,z);function F(I){var j;if(M(this,F),f(I)!=="object"||I===null)throw new p("options","Object",I);var V=I.message,W=I.operator,K=I.stackStartFn,et=I.actual,lt=I.expected,ot=Error.stackTraceLimit;if(Error.stackTraceLimit=0,V!=null)j=v(this,b(F).call(this,String(V)));else if(x.stderr&&x.stderr.isTTY&&(x.stderr&&x.stderr.getColorDepth&&x.stderr.getColorDepth()!==1?(_="\x1B[34m",T="\x1B[32m",u="\x1B[39m",P="\x1B[31m"):(_="",T="",u="",P="")),f(et)==="object"&&et!==null&&f(lt)==="object"&&lt!==null&&"stack"in et&&et instanceof Error&&"stack"in lt&&lt instanceof Error&&(et=A(et),lt=A(lt)),W==="deepStrictEqual"||W==="strictEqual")j=v(this,b(F).call(this,O(et,lt,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var q=g[W],J=R(et).split(`
`);if(W==="notStrictEqual"&&f(et)==="object"&&et!==null&&(q=g.notStrictEqualObject),J.length>30)for(J[26]="".concat(_,"...").concat(u);J.length>27;)J.pop();J.length===1?j=v(this,b(F).call(this,"".concat(q," ").concat(J[0]))):j=v(this,b(F).call(this,"".concat(q,`

`).concat(J.join(`
`),`
`)))}else{var it=R(et),Z="",tt=g[W];W==="notDeepEqual"||W==="notEqual"?(it="".concat(g[W],`

`).concat(it),it.length>1024&&(it="".concat(it.slice(0,1021),"..."))):(Z="".concat(R(lt)),it.length>512&&(it="".concat(it.slice(0,509),"...")),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),W==="deepEqual"||W==="equal"?it="".concat(tt,`

`).concat(it,`

should equal

`):Z=" ".concat(W," ").concat(Z)),j=v(this,b(F).call(this,"".concat(it).concat(Z)))}return Error.stackTraceLimit=ot,j.generatedMessage=!V,Object.defineProperty(r(j),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),j.code="ERR_ASSERTION",j.actual=et,j.expected=lt,j.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(j),K),j.stack,j.name="AssertionError",v(j)}return d(F,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:a.custom,value:function(I,j){return a(this,E({},j,{customInspect:!1,depth:0}))}}]),F}(s(Error));X.exports=N},86832:function(X,B,t){function x(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(k){return typeof k}:x=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},x(f)}function E(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")}function i(f,k){return k&&(x(k)==="object"||typeof k=="function")?k:M(f)}function M(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function m(f){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},m(f)}function d(f,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(k&&k.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),k&&v(f,k)}function v(f,k){return v=Object.setPrototypeOf||function(a,c){return a.__proto__=c,a},v(f,k)}var r={},e,s;function n(f,k,a){a||(a=Error);function c(w,S,_){return typeof k=="string"?k:k(w,S,_)}var p=function(w){d(S,w);function S(_,T,P){var u;return E(this,S),u=i(this,m(S).call(this,c(_,T,P))),u.code=f,u}return S}(a);r[f]=p}function l(f,k){if(Array.isArray(f)){var a=f.length;return f=f.map(function(c){return String(c)}),a>2?"one of ".concat(k," ").concat(f.slice(0,a-1).join(", "),", or ")+f[a-1]:a===2?"one of ".concat(k," ").concat(f[0]," or ").concat(f[1]):"of ".concat(k," ").concat(f[0])}else return"of ".concat(k," ").concat(String(f))}function o(f,k,a){return f.substr(!a||a<0?0:+a,k.length)===k}function h(f,k,a){return(a===void 0||a>f.length)&&(a=f.length),f.substring(a-k.length,a)===k}function b(f,k,a){return typeof a!="number"&&(a=0),a+k.length>f.length?!1:f.indexOf(k,a)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(f,k,a){e===void 0&&(e=t(45408)),e(typeof f=="string","'name' must be a string");var c;typeof k=="string"&&o(k,"not ")?(c="must not be",k=k.replace(/^not /,"")):c="must be";var p;if(h(f," argument"))p="The ".concat(f," ").concat(c," ").concat(l(k,"type"));else{var w=b(f,".")?"property":"argument";p='The "'.concat(f,'" ').concat(w," ").concat(c," ").concat(l(k,"type"))}return p+=". Received type ".concat(x(a)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(f,k){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=t(35840));var c=s.inspect(k);return c.length>128&&(c="".concat(c.slice(0,128),"...")),"The argument '".concat(f,"' ").concat(a,". Received ").concat(c)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(f,k,a){var c;return a&&a.constructor&&a.constructor.name?c="instance of ".concat(a.constructor.name):c="type ".concat(x(a)),"Expected ".concat(f,' to be returned from the "').concat(k,'"')+" function but got ".concat(c,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var f=arguments.length,k=new Array(f),a=0;a<f;a++)k[a]=arguments[a];e===void 0&&(e=t(45408)),e(k.length>0,"At least one arg needs to be specified");var c="The ",p=k.length;switch(k=k.map(function(w){return'"'.concat(w,'"')}),p){case 1:c+="".concat(k[0]," argument");break;case 2:c+="".concat(k[0]," and ").concat(k[1]," arguments");break;default:c+=k.slice(0,p-1).join(", "),c+=", and ".concat(k[p-1]," arguments");break}return"".concat(c," must be specified")},TypeError),X.exports.codes=r},25116:function(X,B,t){function x(_t,mt){return M(_t)||i(_t,mt)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(_t,mt){var Pt=[],Rt=!0,Ht=!1,Dt=void 0;try{for(var Xt=_t[Symbol.iterator](),se;!(Rt=(se=Xt.next()).done)&&(Pt.push(se.value),!(mt&&Pt.length===mt));Rt=!0);}catch(Yt){Ht=!0,Dt=Yt}finally{try{!Rt&&Xt.return!=null&&Xt.return()}finally{if(Ht)throw Dt}}return Pt}function M(_t){if(Array.isArray(_t))return _t}function m(_t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(mt){return typeof mt}:m=function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt},m(_t)}var d=/a/g.flags!==void 0,v=function(_t){var mt=[];return _t.forEach(function(Pt){return mt.push(Pt)}),mt},r=function(_t){var mt=[];return _t.forEach(function(Pt,Rt){return mt.push([Rt,Pt])}),mt},e=Object.is?Object.is:t(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:t(1560);function l(_t){return _t.call.bind(_t)}var o=l(Object.prototype.hasOwnProperty),h=l(Object.prototype.propertyIsEnumerable),b=l(Object.prototype.toString),f=t(35840).types,k=f.isAnyArrayBuffer,a=f.isArrayBufferView,c=f.isDate,p=f.isMap,w=f.isRegExp,S=f.isSet,_=f.isNativeError,T=f.isBoxedPrimitive,P=f.isNumberObject,u=f.isStringObject,g=f.isBooleanObject,L=f.isBigIntObject,A=f.isSymbolObject,R=f.isFloat32Array,O=f.isFloat64Array;function N(_t){if(_t.length===0||_t.length>10)return!0;for(var mt=0;mt<_t.length;mt++){var Pt=_t.charCodeAt(mt);if(Pt<48||Pt>57)return!0}return _t.length===10&&_t>=Math.pow(2,32)}function z(_t){return Object.keys(_t).filter(N).concat(s(_t).filter(Object.prototype.propertyIsEnumerable.bind(_t)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function F(_t,mt){if(_t===mt)return 0;for(var Pt=_t.length,Rt=mt.length,Ht=0,Dt=Math.min(Pt,Rt);Ht<Dt;++Ht)if(_t[Ht]!==mt[Ht]){Pt=_t[Ht],Rt=mt[Ht];break}return Pt<Rt?-1:Rt<Pt?1:0}var I=!0,j=!1,V=0,W=1,K=2,et=3;function lt(_t,mt){return d?_t.source===mt.source&&_t.flags===mt.flags:RegExp.prototype.toString.call(_t)===RegExp.prototype.toString.call(mt)}function ot(_t,mt){if(_t.byteLength!==mt.byteLength)return!1;for(var Pt=0;Pt<_t.byteLength;Pt++)if(_t[Pt]!==mt[Pt])return!1;return!0}function q(_t,mt){return _t.byteLength!==mt.byteLength?!1:F(new Uint8Array(_t.buffer,_t.byteOffset,_t.byteLength),new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength))===0}function J(_t,mt){return _t.byteLength===mt.byteLength&&F(new Uint8Array(_t),new Uint8Array(mt))===0}function it(_t,mt){return P(_t)?P(mt)&&e(Number.prototype.valueOf.call(_t),Number.prototype.valueOf.call(mt)):u(_t)?u(mt)&&String.prototype.valueOf.call(_t)===String.prototype.valueOf.call(mt):g(_t)?g(mt)&&Boolean.prototype.valueOf.call(_t)===Boolean.prototype.valueOf.call(mt):L(_t)?L(mt)&&BigInt.prototype.valueOf.call(_t)===BigInt.prototype.valueOf.call(mt):A(mt)&&Symbol.prototype.valueOf.call(_t)===Symbol.prototype.valueOf.call(mt)}function Z(_t,mt,Pt,Rt){if(_t===mt)return _t!==0?!0:Pt?e(_t,mt):!0;if(Pt){if(m(_t)!=="object")return typeof _t=="number"&&n(_t)&&n(mt);if(m(mt)!=="object"||_t===null||mt===null||Object.getPrototypeOf(_t)!==Object.getPrototypeOf(mt))return!1}else{if(_t===null||m(_t)!=="object")return mt===null||m(mt)!=="object"?_t==mt:!1;if(mt===null||m(mt)!=="object")return!1}var Ht=b(_t),Dt=b(mt);if(Ht!==Dt)return!1;if(Array.isArray(_t)){if(_t.length!==mt.length)return!1;var Xt=z(_t),se=z(mt);return Xt.length!==se.length?!1:st(_t,mt,Pt,Rt,W,Xt)}if(Ht==="[object Object]"&&(!p(_t)&&p(mt)||!S(_t)&&S(mt)))return!1;if(c(_t)){if(!c(mt)||Date.prototype.getTime.call(_t)!==Date.prototype.getTime.call(mt))return!1}else if(w(_t)){if(!w(mt)||!lt(_t,mt))return!1}else if(_(_t)||_t instanceof Error){if(_t.message!==mt.message||_t.name!==mt.name)return!1}else if(a(_t)){if(!Pt&&(R(_t)||O(_t))){if(!ot(_t,mt))return!1}else if(!q(_t,mt))return!1;var Yt=z(_t),ue=z(mt);return Yt.length!==ue.length?!1:st(_t,mt,Pt,Rt,V,Yt)}else{if(S(_t))return!S(mt)||_t.size!==mt.size?!1:st(_t,mt,Pt,Rt,K);if(p(_t))return!p(mt)||_t.size!==mt.size?!1:st(_t,mt,Pt,Rt,et);if(k(_t)){if(!J(_t,mt))return!1}else if(T(_t)&&!it(_t,mt))return!1}return st(_t,mt,Pt,Rt,V)}function tt(_t,mt){return mt.filter(function(Pt){return h(_t,Pt)})}function st(_t,mt,Pt,Rt,Ht,Dt){if(arguments.length===5){Dt=Object.keys(_t);var Xt=Object.keys(mt);if(Dt.length!==Xt.length)return!1}for(var se=0;se<Dt.length;se++)if(!o(mt,Dt[se]))return!1;if(Pt&&arguments.length===5){var Yt=s(_t);if(Yt.length!==0){var ue=0;for(se=0;se<Yt.length;se++){var ie=Yt[se];if(h(_t,ie)){if(!h(mt,ie))return!1;Dt.push(ie),ue++}else if(h(mt,ie))return!1}var fe=s(mt);if(Yt.length!==fe.length&&tt(mt,fe).length!==ue)return!1}else{var ce=s(mt);if(ce.length!==0&&tt(mt,ce).length!==0)return!1}}if(Dt.length===0&&(Ht===V||Ht===W&&_t.length===0||_t.size===0))return!0;if(Rt===void 0)Rt={val1:new Map,val2:new Map,position:0};else{var ye=Rt.val1.get(_t);if(ye!==void 0){var de=Rt.val2.get(mt);if(de!==void 0)return ye===de}Rt.position++}Rt.val1.set(_t,Rt.position),Rt.val2.set(mt,Rt.position);var Te=kt(_t,mt,Pt,Dt,Rt,Ht);return Rt.val1.delete(_t),Rt.val2.delete(mt),Te}function Q(_t,mt,Pt,Rt){for(var Ht=v(_t),Dt=0;Dt<Ht.length;Dt++){var Xt=Ht[Dt];if(Z(mt,Xt,Pt,Rt))return _t.delete(Xt),!0}return!1}function G(_t){switch(m(_t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":_t=+_t;case"number":if(n(_t))return!1}return!0}function ut(_t,mt,Pt){var Rt=G(Pt);return Rt??(mt.has(Rt)&&!_t.has(Rt))}function at(_t,mt,Pt,Rt,Ht){var Dt=G(Pt);if(Dt!=null)return Dt;var Xt=mt.get(Dt);return Xt===void 0&&!mt.has(Dt)||!Z(Rt,Xt,!1,Ht)?!1:!_t.has(Dt)&&Z(Rt,Xt,!1,Ht)}function dt(_t,mt,Pt,Rt){for(var Ht=null,Dt=v(_t),Xt=0;Xt<Dt.length;Xt++){var se=Dt[Xt];if(m(se)==="object"&&se!==null)Ht===null&&(Ht=new Set),Ht.add(se);else if(!mt.has(se)){if(Pt||!ut(_t,mt,se))return!1;Ht===null&&(Ht=new Set),Ht.add(se)}}if(Ht!==null){for(var Yt=v(mt),ue=0;ue<Yt.length;ue++){var ie=Yt[ue];if(m(ie)==="object"&&ie!==null){if(!Q(Ht,ie,Pt,Rt))return!1}else if(!Pt&&!_t.has(ie)&&!Q(Ht,ie,Pt,Rt))return!1}return Ht.size===0}return!0}function gt(_t,mt,Pt,Rt,Ht,Dt){for(var Xt=v(_t),se=0;se<Xt.length;se++){var Yt=Xt[se];if(Z(Pt,Yt,Ht,Dt)&&Z(Rt,mt.get(Yt),Ht,Dt))return _t.delete(Yt),!0}return!1}function wt(_t,mt,Pt,Rt){for(var Ht=null,Dt=r(_t),Xt=0;Xt<Dt.length;Xt++){var se=x(Dt[Xt],2),Yt=se[0],ue=se[1];if(m(Yt)==="object"&&Yt!==null)Ht===null&&(Ht=new Set),Ht.add(Yt);else{var ie=mt.get(Yt);if(ie===void 0&&!mt.has(Yt)||!Z(ue,ie,Pt,Rt)){if(Pt||!at(_t,mt,Yt,ue,Rt))return!1;Ht===null&&(Ht=new Set),Ht.add(Yt)}}}if(Ht!==null){for(var fe=r(mt),ce=0;ce<fe.length;ce++){var ye=x(fe[ce],2),Yt=ye[0],de=ye[1];if(m(Yt)==="object"&&Yt!==null){if(!gt(Ht,_t,Yt,de,Pt,Rt))return!1}else if(!Pt&&(!_t.has(Yt)||!Z(_t.get(Yt),de,!1,Rt))&&!gt(Ht,_t,Yt,de,!1,Rt))return!1}return Ht.size===0}return!0}function kt(_t,mt,Pt,Rt,Ht,Dt){var Xt=0;if(Dt===K){if(!dt(_t,mt,Pt,Ht))return!1}else if(Dt===et){if(!wt(_t,mt,Pt,Ht))return!1}else if(Dt===W)for(;Xt<_t.length;Xt++)if(o(_t,Xt)){if(!o(mt,Xt)||!Z(_t[Xt],mt[Xt],Pt,Ht))return!1}else{if(o(mt,Xt))return!1;for(var se=Object.keys(_t);Xt<se.length;Xt++){var Yt=se[Xt];if(!o(mt,Yt)||!Z(_t[Yt],mt[Yt],Pt,Ht))return!1}return se.length===Object.keys(mt).length}for(Xt=0;Xt<Rt.length;Xt++){var ue=Rt[Xt];if(!Z(_t[ue],mt[ue],Pt,Ht))return!1}return!0}function Ot(_t,mt){return Z(_t,mt,j)}function bt(_t,mt){return Z(_t,mt,I)}X.exports={isDeepEqual:Ot,isDeepStrictEqual:bt}},83160:function(X,B,t){t.r(B),t.d(B,{decode:function(){return m},encode:function(){return M}});for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=typeof Uint8Array>"u"?[]:new Uint8Array(256),i=0;i<x.length;i++)E[x.charCodeAt(i)]=i;var M=function(d){var v=new Uint8Array(d),r,e=v.length,s="";for(r=0;r<e;r+=3)s+=x[v[r]>>2],s+=x[(v[r]&3)<<4|v[r+1]>>4],s+=x[(v[r+1]&15)<<2|v[r+2]>>6],s+=x[v[r+2]&63];return e%3===2?s=s.substring(0,s.length-1)+"=":e%3===1&&(s=s.substring(0,s.length-2)+"=="),s},m=function(d){var v=d.length*.75,r=d.length,e,s=0,n,l,o,h;d[d.length-1]==="="&&(v--,d[d.length-2]==="="&&v--);var b=new ArrayBuffer(v),f=new Uint8Array(b);for(e=0;e<r;e+=4)n=E[d.charCodeAt(e)],l=E[d.charCodeAt(e+1)],o=E[d.charCodeAt(e+2)],h=E[d.charCodeAt(e+3)],f[s++]=n<<2|l>>4,f[s++]=(l&15)<<4|o>>2,f[s++]=(o&3)<<6|h&63;return b}},59968:function(X,B){B.byteLength=v,B.toByteArray=e,B.fromByteArray=l;for(var t=[],x=[],E=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0,m=i.length;M<m;++M)t[M]=i[M],x[i.charCodeAt(M)]=M;x[45]=62,x[95]=63;function d(o){var h=o.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=o.indexOf("=");b===-1&&(b=h);var f=b===h?0:4-b%4;return[b,f]}function v(o){var h=d(o),b=h[0],f=h[1];return(b+f)*3/4-f}function r(o,h,b){return(h+b)*3/4-b}function e(o){var h,b=d(o),f=b[0],k=b[1],a=new E(r(o,f,k)),c=0,p=k>0?f-4:f,w;for(w=0;w<p;w+=4)h=x[o.charCodeAt(w)]<<18|x[o.charCodeAt(w+1)]<<12|x[o.charCodeAt(w+2)]<<6|x[o.charCodeAt(w+3)],a[c++]=h>>16&255,a[c++]=h>>8&255,a[c++]=h&255;return k===2&&(h=x[o.charCodeAt(w)]<<2|x[o.charCodeAt(w+1)]>>4,a[c++]=h&255),k===1&&(h=x[o.charCodeAt(w)]<<10|x[o.charCodeAt(w+1)]<<4|x[o.charCodeAt(w+2)]>>2,a[c++]=h>>8&255,a[c++]=h&255),a}function s(o){return t[o>>18&63]+t[o>>12&63]+t[o>>6&63]+t[o&63]}function n(o,h,b){for(var f,k=[],a=h;a<b;a+=3)f=(o[a]<<16&16711680)+(o[a+1]<<8&65280)+(o[a+2]&255),k.push(s(f));return k.join("")}function l(o){for(var h,b=o.length,f=b%3,k=[],a=16383,c=0,p=b-f;c<p;c+=a)k.push(n(o,c,c+a>p?p:c+a));return f===1?(h=o[b-1],k.push(t[h>>2]+t[h<<4&63]+"==")):f===2&&(h=(o[b-2]<<8)+o[b-1],k.push(t[h>>10]+t[h>>4&63]+t[h<<2&63]+"=")),k.join("")}},64928:function(X){function B(m,d,v,r,e){for(var s=e+1;r<=e;){var n=r+e>>>1,l=m[n],o=v!==void 0?v(l,d):l-d;o>=0?(s=n,e=n-1):r=n+1}return s}function t(m,d,v,r,e){for(var s=e+1;r<=e;){var n=r+e>>>1,l=m[n],o=v!==void 0?v(l,d):l-d;o>0?(s=n,e=n-1):r=n+1}return s}function x(m,d,v,r,e){for(var s=r-1;r<=e;){var n=r+e>>>1,l=m[n],o=v!==void 0?v(l,d):l-d;o<0?(s=n,r=n+1):e=n-1}return s}function E(m,d,v,r,e){for(var s=r-1;r<=e;){var n=r+e>>>1,l=m[n],o=v!==void 0?v(l,d):l-d;o<=0?(s=n,r=n+1):e=n-1}return s}function i(m,d,v,r,e){for(;r<=e;){var s=r+e>>>1,n=m[s],l=v!==void 0?v(n,d):n-d;if(l===0)return s;l<=0?r=s+1:e=s-1}return-1}function M(m,d,v,r,e,s){return typeof v=="function"?s(m,d,v,r===void 0?0:r|0,e===void 0?m.length-1:e|0):s(m,d,void 0,v===void 0?0:v|0,r===void 0?m.length-1:r|0)}X.exports={ge:function(m,d,v,r,e){return M(m,d,v,r,e,B)},gt:function(m,d,v,r,e){return M(m,d,v,r,e,t)},lt:function(m,d,v,r,e){return M(m,d,v,r,e,x)},le:function(m,d,v,r,e){return M(m,d,v,r,e,E)},eq:function(m,d,v,r,e){return M(m,d,v,r,e,i)}}},308:function(X,B){"use restrict";var t=32;B.INT_BITS=t,B.INT_MAX=2147483647,B.INT_MIN=-1<<t-1,B.sign=function(i){return(i>0)-(i<0)},B.abs=function(i){var M=i>>t-1;return(i^M)-M},B.min=function(i,M){return M^(i^M)&-(i<M)},B.max=function(i,M){return i^(i^M)&-(i<M)},B.isPow2=function(i){return!(i&i-1)&&!!i},B.log2=function(i){var M,m;return M=(i>65535)<<4,i>>>=M,m=(i>255)<<3,i>>>=m,M|=m,m=(i>15)<<2,i>>>=m,M|=m,m=(i>3)<<1,i>>>=m,M|=m,M|i>>1},B.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},B.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function x(i){var M=32;return i&=-i,i&&M--,i&65535&&(M-=16),i&16711935&&(M-=8),i&252645135&&(M-=4),i&858993459&&(M-=2),i&1431655765&&(M-=1),M}B.countTrailingZeros=x,B.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},B.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},B.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var E=new Array(256);(function(i){for(var M=0;M<256;++M){var m=M,d=M,v=7;for(m>>>=1;m;m>>>=1)d<<=1,d|=m&1,--v;i[M]=d<<v&255}})(E),B.reverse=function(i){return E[i&255]<<24|E[i>>>8&255]<<16|E[i>>>16&255]<<8|E[i>>>24&255]},B.interleave2=function(i,M){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,M&=65535,M=(M|M<<8)&16711935,M=(M|M<<4)&252645135,M=(M|M<<2)&858993459,M=(M|M<<1)&1431655765,i|M<<1},B.deinterleave2=function(i,M){return i=i>>>M&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},B.interleave3=function(i,M,m){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,M&=1023,M=(M|M<<16)&4278190335,M=(M|M<<8)&251719695,M=(M|M<<4)&3272356035,M=(M|M<<2)&1227133513,i|=M<<1,m&=1023,m=(m|m<<16)&4278190335,m=(m|m<<8)&251719695,m=(m|m<<4)&3272356035,m=(m|m<<2)&1227133513,i|m<<2},B.deinterleave3=function(i,M){return i=i>>>M&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},B.nextCombination=function(i){var M=i|i-1;return M+1|(~M&-~M)-1>>>x(i)+1}},29620:function(X,B,t){var x=t(32420);X.exports=i;var E=1e20;function i(d,v){v||(v={});var r=v.cutoff==null?.25:v.cutoff,e=v.radius==null?8:v.radius,s=v.channel||0,n,l,o,h,b,f,k,a,c,p,w;if(ArrayBuffer.isView(d)||Array.isArray(d)){if(!v.width||!v.height)throw Error("For raw data width and height should be provided by options");n=v.width,l=v.height,h=d,v.stride?f=v.stride:f=Math.floor(d.length/n/l)}else window.HTMLCanvasElement&&d instanceof window.HTMLCanvasElement?(a=d,k=a.getContext("2d"),n=a.width,l=a.height,c=k.getImageData(0,0,n,l),h=c.data,f=4):window.CanvasRenderingContext2D&&d instanceof window.CanvasRenderingContext2D?(a=d.canvas,k=d,n=a.width,l=a.height,c=k.getImageData(0,0,n,l),h=c.data,f=4):window.ImageData&&d instanceof window.ImageData&&(c=d,n=d.width,l=d.height,h=c.data,f=4);if(o=Math.max(n,l),window.Uint8ClampedArray&&h instanceof window.Uint8ClampedArray||window.Uint8Array&&h instanceof window.Uint8Array)for(b=h,h=Array(n*l),p=0,w=b.length;p<w;p++)h[p]=b[p*f+s]/255;else if(f!==1)throw Error("Raw data can have only 1 value per pixel");var S=Array(n*l),_=Array(n*l),T=Array(o),P=Array(o),u=Array(o+1),g=Array(o);for(p=0,w=n*l;p<w;p++){var L=h[p];S[p]=L===1?0:L===0?E:Math.pow(Math.max(0,.5-L),2),_[p]=L===1?E:L===0?0:Math.pow(Math.max(0,L-.5),2)}M(S,n,l,T,P,g,u),M(_,n,l,T,P,g,u);var A=window.Float32Array?new Float32Array(n*l):new Array(n*l);for(p=0,w=n*l;p<w;p++)A[p]=x(1-((S[p]-_[p])/e+r),0,1);return A}function M(d,v,r,e,s,n,l){for(var o=0;o<v;o++){for(var h=0;h<r;h++)e[h]=d[h*v+o];for(m(e,s,n,l,r),h=0;h<r;h++)d[h*v+o]=s[h]}for(h=0;h<r;h++){for(o=0;o<v;o++)e[o]=d[h*v+o];for(m(e,s,n,l,v),o=0;o<v;o++)d[h*v+o]=Math.sqrt(s[o])}}function m(d,v,r,e,s){r[0]=0,e[0]=-E,e[1]=+E;for(var n=1,l=0;n<s;n++){for(var o=(d[n]+n*n-(d[r[l]]+r[l]*r[l]))/(2*n-2*r[l]);o<=e[l];)l--,o=(d[n]+n*n-(d[r[l]]+r[l]*r[l]))/(2*n-2*r[l]);l++,r[l]=n,e[l]=o,e[l+1]=+E}for(n=0,l=0;n<s;n++){for(;e[l+1]<n;)l++;v[n]=(n-r[l])*(n-r[l])+d[r[l]]}}},99676:function(X,B,t){var x=t(53664),E=t(57916),i=E(x("String.prototype.indexOf"));X.exports=function(M,m){var d=x(M,!!m);return typeof d=="function"&&i(M,".prototype.")>-1?E(d):d}},57916:function(X,B,t){var x=t(8844),E=t(53664),i=t(14500),M=E("%TypeError%"),m=E("%Function.prototype.apply%"),d=E("%Function.prototype.call%"),v=E("%Reflect.apply%",!0)||x.call(d,m),r=E("%Object.defineProperty%",!0),e=E("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}X.exports=function(n){if(typeof n!="function")throw new M("a function is required");var l=v(x,d,arguments);return i(l,1+e(0,n.length-(arguments.length-1)),!0)};var s=function(){return v(x,m,arguments)};r?r(X.exports,"apply",{value:s}):X.exports.apply=s},32420:function(X){X.exports=B;function B(t,x,E){return x<E?t<x?x:t>E?E:t:t<E?E:t>x?x:t}},3808:function(X,B,t){var x=t(32420);X.exports=E,X.exports.to=E,X.exports.from=i;function E(M,m){m==null&&(m=!0);var d=M[0],v=M[1],r=M[2],e=M[3];e==null&&(e=m?1:255),m&&(d*=255,v*=255,r*=255,e*=255),d=x(d,0,255)&255,v=x(v,0,255)&255,r=x(r,0,255)&255,e=x(e,0,255)&255;var s=d*16777216+(v<<16)+(r<<8)+e;return s}function i(M,m){M=+M;var d=M>>>24,v=(M&16711680)>>>16,r=(M&65280)>>>8,e=M&255;return m===!1?[d,v,r,e]:[d/255,v/255,r/255,e/255]}},17592:function(X){X.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(X,B,t){var x=t(96824),E=t(32420),i=t(72512);X.exports=function(m,d){(d==="float"||!d)&&(d="array"),d==="uint"&&(d="uint8"),d==="uint_clamped"&&(d="uint8_clamped");var v=i(d),r=new v(4),e=d!=="uint8"&&d!=="uint8_clamped";return(!m.length||typeof m=="string")&&(m=x(m),m[0]/=255,m[1]/=255,m[2]/=255),M(m)?(r[0]=m[0],r[1]=m[1],r[2]=m[2],r[3]=m[3]!=null?m[3]:255,e&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(e?(r[0]=m[0],r[1]=m[1],r[2]=m[2],r[3]=m[3]!=null?m[3]:1):(r[0]=E(Math.floor(m[0]*255),0,255),r[1]=E(Math.floor(m[1]*255),0,255),r[2]=E(Math.floor(m[2]*255),0,255),r[3]=m[3]==null?255:E(Math.floor(m[3]*255),0,255)),r)};function M(m){return!!(m instanceof Uint8Array||m instanceof Uint8ClampedArray||Array.isArray(m)&&(m[0]>1||m[0]===0)&&(m[1]>1||m[1]===0)&&(m[2]>1||m[2]===0)&&(!m[3]||m[3]>1))}},96824:function(X,B,t){var x=t(95532),E=t(53576),i=t(32420);X.exports=function(M){var m,d=x(M);return d.space?(m=Array(3),m[0]=i(d.values[0],0,255),m[1]=i(d.values[1],0,255),m[2]=i(d.values[2],0,255),d.space[0]==="h"&&(m=E.rgb(m)),m.push(i(d.alpha,0,1)),m):[]}},95532:function(X,B,t){var x=t(17592);X.exports=i;var E={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function i(M){var m,d=[],v=1,r;if(typeof M=="string")if(M=M.toLowerCase(),x[M])d=x[M].slice(),r="rgb";else if(M==="transparent")v=0,r="rgb",d=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(M)){var e=M.slice(1),s=e.length,n=s<=4;v=1,n?(d=[parseInt(e[0]+e[0],16),parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16)],s===4&&(v=parseInt(e[3]+e[3],16)/255)):(d=[parseInt(e[0]+e[1],16),parseInt(e[2]+e[3],16),parseInt(e[4]+e[5],16)],s===8&&(v=parseInt(e[6]+e[7],16)/255)),d[0]||(d[0]=0),d[1]||(d[1]=0),d[2]||(d[2]=0),r="rgb"}else if(m=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(M)){var l=m[1],o=l==="rgb",e=l.replace(/a$/,"");r=e;var s=e==="cmyk"?4:e==="gray"?1:3;d=m[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(f,k){if(/%$/.test(f))return k===s?parseFloat(f)/100:e==="rgb"?parseFloat(f)*255/100:parseFloat(f);if(e[k]==="h"){if(/deg$/.test(f))return parseFloat(f);if(E[f]!==void 0)return E[f]}return parseFloat(f)}),l===e&&d.push(1),v=o||d[s]===void 0?1:d[s],d=d.slice(0,s)}else M.length>10&&/[0-9](?:\s|\/)/.test(M)&&(d=M.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),r=M.match(/([a-z])/ig).join("").toLowerCase());else isNaN(M)?Array.isArray(M)||M.length?(d=[M[0],M[1],M[2]],r="rgb",v=M.length===4?M[3]:1):M instanceof Object&&(M.r!=null||M.red!=null||M.R!=null?(r="rgb",d=[M.r||M.red||M.R||0,M.g||M.green||M.G||0,M.b||M.blue||M.B||0]):(r="hsl",d=[M.h||M.hue||M.H||0,M.s||M.saturation||M.S||0,M.l||M.lightness||M.L||M.b||M.brightness]),v=M.a||M.alpha||M.opacity||1,M.opacity!=null&&(v/=100)):(r="rgb",d=[M>>>16,(M&65280)>>>8,M&255]);return{space:r,values:d,alpha:v}}},53576:function(X,B,t){var x=t(19336);X.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(E){var i=E[0]/360,M=E[1]/100,m=E[2]/100,d,v,r,e,s;if(M===0)return s=m*255,[s,s,s];m<.5?v=m*(1+M):v=m+M-m*M,d=2*m-v,e=[0,0,0];for(var n=0;n<3;n++)r=i+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?s=d+(v-d)*6*r:2*r<1?s=v:3*r<2?s=d+(v-d)*(.6666666666666666-r)*6:s=d,e[n]=s*255;return e}},x.hsl=function(E){var i=E[0]/255,M=E[1]/255,m=E[2]/255,d=Math.min(i,M,m),v=Math.max(i,M,m),r=v-d,e,s,n;return v===d?e=0:i===v?e=(M-m)/r:M===v?e=2+(m-i)/r:m===v&&(e=4+(i-M)/r),e=Math.min(e*60,360),e<0&&(e+=360),n=(d+v)/2,v===d?s=0:n<=.5?s=r/(v+d):s=r/(2-v-d),[e,s*100,n*100]}},19336:function(X){X.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(X){X.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(X,B,t){X.exports={parse:t(46416),stringify:t(49395)}},8744:function(X,B,t){var x=t(30584);X.exports={isSize:function(E){return/^[\d\.]/.test(E)||E.indexOf("/")!==-1||x.indexOf(E)!==-1}}},46416:function(X,B,t){var x=t(92384),E=t(68194),i=t(3748),M=t(2904),m=t(47916),d=t(7294),v=t(39956),r=t(8744).isSize;X.exports=s;var e=s.cache={};function s(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(e[l])return e[l];if(l==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(l)!==-1)return e[l]={system:l};for(var o={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=v(l,/\s+/),b;b=h.shift();){if(E.indexOf(b)!==-1)return["style","variant","weight","stretch"].forEach(function(k){o[k]=b}),e[l]=o;if(m.indexOf(b)!==-1){o.style=b;continue}if(b==="normal"||b==="small-caps"){o.variant=b;continue}if(d.indexOf(b)!==-1){o.stretch=b;continue}if(M.indexOf(b)!==-1){o.weight=b;continue}if(r(b)){var f=v(b,"/");if(o.size=f[0],f[1]!=null?o.lineHeight=n(f[1]):h[0]==="/"&&(h.shift(),o.lineHeight=n(h.shift())),!h.length)throw new Error("Missing required font-family.");return o.family=v(h.join(" "),/\s*,\s*/).map(x),e[l]=o}throw new Error("Unknown or unsupported font token: "+b)}throw new Error("Missing required font-size.")}function n(l){var o=parseFloat(l);return o.toString()===l?o:l}},49395:function(X,B,t){var x=t(55616),E=t(8744).isSize,i=l(t(68194)),M=l(t(3748)),m=l(t(2904)),d=l(t(47916)),v=l(t(7294)),r={normal:1,"small-caps":1},e={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};X.exports=function(o){if(o=x(o,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),o.system)return o.system&&n(o.system,M),o.system;if(n(o.style,d),n(o.variant,r),n(o.weight,m),n(o.stretch,v),o.size==null&&(o.size=s.size),typeof o.size=="number"&&(o.size+="px"),!E)throw Error("Bad size value `"+o.size+"`");o.family||(o.family=s.family),Array.isArray(o.family)&&(o.family.length||(o.family=[s.family]),o.family=o.family.map(function(b){return e[b]?b:'"'+b+'"'}).join(", "));var h=[];return h.push(o.style),o.variant!==o.style&&h.push(o.variant),o.weight!==o.variant&&o.weight!==o.style&&h.push(o.weight),o.stretch!==o.weight&&o.stretch!==o.variant&&o.stretch!==o.style&&h.push(o.stretch),h.push(o.size+(o.lineHeight==null||o.lineHeight==="normal"||o.lineHeight+""=="1"?"":"/"+o.lineHeight)),h.push(o.family),h.filter(Boolean).join(" ")};function n(o,h){if(o&&!h[o]&&!i[o])throw Error("Unknown keyword `"+o+"`");return o}function l(o){for(var h={},b=0;b<o.length;b++)h[o[b]]=1;return h}},27940:function(X,B,t){var x=t(81680),E=t(18496),i=t(87396),M=t(95920),m=t(50868),d=t(84323),v=Function.prototype.bind,r=Object.defineProperty,e=Object.prototype.hasOwnProperty,s;s=function(n,l,o){var h=E(l)&&i(l.value),b;return b=M(l),delete b.writable,delete b.value,b.get=function(){return!o.overwriteDefinition&&e.call(this,n)?h:(l.value=v.call(h,o.resolveContext?o.resolveContext(this):this),r(this,n,l),this[n])},b},X.exports=function(n){var l=m(arguments[1]);return x(l.resolveContext)&&i(l.resolveContext),d(n,function(o,h){return s(h,o,l)})}},21092:function(X,B,t){var x=t(81680),E=t(85488),i=t(38452),M=t(50868),m=t(71056),d=X.exports=function(v,r){var e,s,n,l,o;return arguments.length<2||typeof v!="string"?(l=r,r=v,v=null):l=arguments[2],x(v)?(e=m.call(v,"c"),s=m.call(v,"e"),n=m.call(v,"w")):(e=n=!0,s=!1),o={value:r,configurable:e,enumerable:s,writable:n},l?i(M(l),o):o};d.gs=function(v,r,e){var s,n,l,o;return typeof v!="string"?(l=e,e=r,r=v,v=null):l=arguments[3],x(r)?E(r)?x(e)?E(e)||(l=e,e=void 0):e=void 0:(l=r,r=e=void 0):r=void 0,x(v)?(s=m.call(v,"c"),n=m.call(v,"e")):(s=!0,n=!1),o={get:r,set:e,configurable:s,enumerable:n},l?i(M(l),o):o}},84706:function(X,B,t){t.d(B,{XE:function(){return x},kv:function(){return M},mo:function(){return d},Uf:function(){return v},SY:function(){return r},ik:function(){return e},oh:function(){return s}});function x(n,l){return n<l?-1:n>l?1:n>=l?0:NaN}function E(n){return n.length===1&&(n=i(n)),{left:function(l,o,h,b){for(h==null&&(h=0),b==null&&(b=l.length);h<b;){var f=h+b>>>1;n(l[f],o)<0?h=f+1:b=f}return h},right:function(l,o,h,b){for(h==null&&(h=0),b==null&&(b=l.length);h<b;){var f=h+b>>>1;n(l[f],o)>0?b=f:h=f+1}return h}}}function i(n){return function(l,o){return x(n(l),o)}}E(x);function M(n,l){var o=n.length,h=-1,b,f;if(l==null){for(;++h<o;)if((b=n[h])!=null&&b>=b)for(f=b;++h<o;)(b=n[h])!=null&&b>f&&(f=b)}else for(;++h<o;)if((b=l(n[h],h,n))!=null&&b>=b)for(f=b;++h<o;)(b=l(n[h],h,n))!=null&&b>f&&(f=b);return f}function m(n){return n===null?NaN:+n}function d(n,l){var o=n.length,h=o,b=-1,f,k=0;if(l==null)for(;++b<o;)isNaN(f=m(n[b]))?--h:k+=f;else for(;++b<o;)isNaN(f=m(l(n[b],b,n)))?--h:k+=f;if(h)return k/h}function v(n){for(var l=n.length,o,h=-1,b=0,f,k;++h<l;)b+=n[h].length;for(f=new Array(b);--l>=0;)for(k=n[l],o=k.length;--o>=0;)f[--b]=k[o];return f}function r(n,l){var o=n.length,h=-1,b,f;if(l==null){for(;++h<o;)if((b=n[h])!=null&&b>=b)for(f=b;++h<o;)(b=n[h])!=null&&f>b&&(f=b)}else for(;++h<o;)if((b=l(n[h],h,n))!=null&&b>=b)for(f=b;++h<o;)(b=l(n[h],h,n))!=null&&f>b&&(f=b);return f}function e(n,l,o){n=+n,l=+l,o=(b=arguments.length)<2?(l=n,n=0,1):b<3?1:+o;for(var h=-1,b=Math.max(0,Math.ceil((l-n)/o))|0,f=new Array(b);++h<b;)f[h]=n+h*o;return f}function s(n,l){var o=n.length,h=-1,b,f=0;if(l==null)for(;++h<o;)(b=+n[h])&&(f+=b);else for(;++h<o;)(b=+l(n[h],h,n))&&(f+=b);return f}},34712:function(X,B,t){t.d(B,{kH:function(){return M},UJ:function(){return m}});var x="$";function E(){}E.prototype=i.prototype={constructor:E,has:function(l){return x+l in this},get:function(l){return this[x+l]},set:function(l,o){return this[x+l]=o,this},remove:function(l){var o=x+l;return o in this&&delete this[o]},clear:function(){for(var l in this)l[0]===x&&delete this[l]},keys:function(){var l=[];for(var o in this)o[0]===x&&l.push(o.slice(1));return l},values:function(){var l=[];for(var o in this)o[0]===x&&l.push(this[o]);return l},entries:function(){var l=[];for(var o in this)o[0]===x&&l.push({key:o.slice(1),value:this[o]});return l},size:function(){var l=0;for(var o in this)o[0]===x&&++l;return l},empty:function(){for(var l in this)if(l[0]===x)return!1;return!0},each:function(l){for(var o in this)o[0]===x&&l(this[o],o.slice(1),this)}};function i(l,o){var h=new E;if(l instanceof E)l.each(function(c,p){h.set(p,c)});else if(Array.isArray(l)){var b=-1,f=l.length,k;if(o==null)for(;++b<f;)h.set(b,l[b]);else for(;++b<f;)h.set(o(k=l[b],b,l),k)}else if(l)for(var a in l)h.set(a,l[a]);return h}var M=i;function m(){var l=[],o=[],h,b,f;function k(c,p,w,S){if(p>=l.length)return h!=null&&c.sort(h),b!=null?b(c):c;for(var _=-1,T=c.length,P=l[p++],u,g,L=M(),A,R=w();++_<T;)(A=L.get(u=P(g=c[_])+""))?A.push(g):L.set(u,[g]);return L.each(function(O,N){S(R,N,k(O,p,w,S))}),R}function a(c,p){if(++p>l.length)return c;var w,S=o[p-1];return b!=null&&p>=l.length?w=c.entries():(w=[],c.each(function(_,T){w.push({key:T,values:a(_,p)})})),S!=null?w.sort(function(_,T){return S(_.key,T.key)}):w}return f={object:function(c){return k(c,0,d,v)},map:function(c){return k(c,0,r,e)},entries:function(c){return a(k(c,0,r,e),0)},key:function(c){return l.push(c),f},sortKeys:function(c){return o[l.length-1]=c,f},sortValues:function(c){return h=c,f},rollup:function(c){return b=c,f}}}function d(){return{}}function v(l,o,h){l[o]=h}function r(){return M()}function e(l,o,h){l.set(o,h)}function s(){}var n=M.prototype;s.prototype={constructor:s,has:n.has,add:function(l){return l+="",this[x+l]=l,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(X,B,t){t.r(B),t.d(B,{forceCenter:function(){return x},forceCollide:function(){return L},forceLink:function(){return N},forceManyBody:function(){return Xt},forceRadial:function(){return se},forceSimulation:function(){return Dt},forceX:function(){return Yt},forceY:function(){return ue}});function x(ie,fe){var ce;ie==null&&(ie=0),fe==null&&(fe=0);function ye(){var de,Te=ce.length,Et,Vt=0,te=0;for(de=0;de<Te;++de)Et=ce[de],Vt+=Et.x,te+=Et.y;for(Vt=Vt/Te-ie,te=te/Te-fe,de=0;de<Te;++de)Et=ce[de],Et.x-=Vt,Et.y-=te}return ye.initialize=function(de){ce=de},ye.x=function(de){return arguments.length?(ie=+de,ye):ie},ye.y=function(de){return arguments.length?(fe=+de,ye):fe},ye}function E(ie){return function(){return ie}}function i(){return(Math.random()-.5)*1e-6}function M(ie){var fe=+this._x.call(null,ie),ce=+this._y.call(null,ie);return m(this.cover(fe,ce),fe,ce,ie)}function m(ie,fe,ce,ye){if(isNaN(fe)||isNaN(ce))return ie;var de,Te=ie._root,Et={data:ye},Vt=ie._x0,te=ie._y0,Jt=ie._x1,Ut=ie._y1,It,pt,xt,Ct,At,Ft,Wt,Qt;if(!Te)return ie._root=Et,ie;for(;Te.length;)if((At=fe>=(It=(Vt+Jt)/2))?Vt=It:Jt=It,(Ft=ce>=(pt=(te+Ut)/2))?te=pt:Ut=pt,de=Te,!(Te=Te[Wt=Ft<<1|At]))return de[Wt]=Et,ie;if(xt=+ie._x.call(null,Te.data),Ct=+ie._y.call(null,Te.data),fe===xt&&ce===Ct)return Et.next=Te,de?de[Wt]=Et:ie._root=Et,ie;do de=de?de[Wt]=new Array(4):ie._root=new Array(4),(At=fe>=(It=(Vt+Jt)/2))?Vt=It:Jt=It,(Ft=ce>=(pt=(te+Ut)/2))?te=pt:Ut=pt;while((Wt=Ft<<1|At)===(Qt=(Ct>=pt)<<1|xt>=It));return de[Qt]=Te,de[Wt]=Et,ie}function d(ie){var fe,ce,ye=ie.length,de,Te,Et=new Array(ye),Vt=new Array(ye),te=1/0,Jt=1/0,Ut=-1/0,It=-1/0;for(ce=0;ce<ye;++ce)isNaN(de=+this._x.call(null,fe=ie[ce]))||isNaN(Te=+this._y.call(null,fe))||(Et[ce]=de,Vt[ce]=Te,de<te&&(te=de),de>Ut&&(Ut=de),Te<Jt&&(Jt=Te),Te>It&&(It=Te));if(te>Ut||Jt>It)return this;for(this.cover(te,Jt).cover(Ut,It),ce=0;ce<ye;++ce)m(this,Et[ce],Vt[ce],ie[ce]);return this}function v(ie,fe){if(isNaN(ie=+ie)||isNaN(fe=+fe))return this;var ce=this._x0,ye=this._y0,de=this._x1,Te=this._y1;if(isNaN(ce))de=(ce=Math.floor(ie))+1,Te=(ye=Math.floor(fe))+1;else{for(var Et=de-ce,Vt=this._root,te,Jt;ce>ie||ie>=de||ye>fe||fe>=Te;)switch(Jt=(fe<ye)<<1|ie<ce,te=new Array(4),te[Jt]=Vt,Vt=te,Et*=2,Jt){case 0:de=ce+Et,Te=ye+Et;break;case 1:ce=de-Et,Te=ye+Et;break;case 2:de=ce+Et,ye=Te-Et;break;case 3:ce=de-Et,ye=Te-Et;break}this._root&&this._root.length&&(this._root=Vt)}return this._x0=ce,this._y0=ye,this._x1=de,this._y1=Te,this}function r(){var ie=[];return this.visit(function(fe){if(!fe.length)do ie.push(fe.data);while(fe=fe.next)}),ie}function e(ie){return arguments.length?this.cover(+ie[0][0],+ie[0][1]).cover(+ie[1][0],+ie[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(ie,fe,ce,ye,de){this.node=ie,this.x0=fe,this.y0=ce,this.x1=ye,this.y1=de}function n(ie,fe,ce){var ye,de=this._x0,Te=this._y0,Et,Vt,te,Jt,Ut=this._x1,It=this._y1,pt=[],xt=this._root,Ct,At;for(xt&&pt.push(new s(xt,de,Te,Ut,It)),ce==null?ce=1/0:(de=ie-ce,Te=fe-ce,Ut=ie+ce,It=fe+ce,ce*=ce);Ct=pt.pop();)if(!(!(xt=Ct.node)||(Et=Ct.x0)>Ut||(Vt=Ct.y0)>It||(te=Ct.x1)<de||(Jt=Ct.y1)<Te))if(xt.length){var Ft=(Et+te)/2,Wt=(Vt+Jt)/2;pt.push(new s(xt[3],Ft,Wt,te,Jt),new s(xt[2],Et,Wt,Ft,Jt),new s(xt[1],Ft,Vt,te,Wt),new s(xt[0],Et,Vt,Ft,Wt)),(At=(fe>=Wt)<<1|ie>=Ft)&&(Ct=pt[pt.length-1],pt[pt.length-1]=pt[pt.length-1-At],pt[pt.length-1-At]=Ct)}else{var Qt=ie-+this._x.call(null,xt.data),he=fe-+this._y.call(null,xt.data),ve=Qt*Qt+he*he;if(ve<ce){var Je=Math.sqrt(ce=ve);de=ie-Je,Te=fe-Je,Ut=ie+Je,It=fe+Je,ye=xt.data}}return ye}function l(ie){if(isNaN(Ut=+this._x.call(null,ie))||isNaN(It=+this._y.call(null,ie)))return this;var fe,ce=this._root,ye,de,Te,Et=this._x0,Vt=this._y0,te=this._x1,Jt=this._y1,Ut,It,pt,xt,Ct,At,Ft,Wt;if(!ce)return this;if(ce.length)for(;;){if((Ct=Ut>=(pt=(Et+te)/2))?Et=pt:te=pt,(At=It>=(xt=(Vt+Jt)/2))?Vt=xt:Jt=xt,fe=ce,!(ce=ce[Ft=At<<1|Ct]))return this;if(!ce.length)break;(fe[Ft+1&3]||fe[Ft+2&3]||fe[Ft+3&3])&&(ye=fe,Wt=Ft)}for(;ce.data!==ie;)if(de=ce,!(ce=ce.next))return this;return(Te=ce.next)&&delete ce.next,de?(Te?de.next=Te:delete de.next,this):fe?(Te?fe[Ft]=Te:delete fe[Ft],(ce=fe[0]||fe[1]||fe[2]||fe[3])&&ce===(fe[3]||fe[2]||fe[1]||fe[0])&&!ce.length&&(ye?ye[Wt]=ce:this._root=ce),this):(this._root=Te,this)}function o(ie){for(var fe=0,ce=ie.length;fe<ce;++fe)this.remove(ie[fe]);return this}function h(){return this._root}function b(){var ie=0;return this.visit(function(fe){if(!fe.length)do++ie;while(fe=fe.next)}),ie}function f(ie){var fe=[],ce,ye=this._root,de,Te,Et,Vt,te;for(ye&&fe.push(new s(ye,this._x0,this._y0,this._x1,this._y1));ce=fe.pop();)if(!ie(ye=ce.node,Te=ce.x0,Et=ce.y0,Vt=ce.x1,te=ce.y1)&&ye.length){var Jt=(Te+Vt)/2,Ut=(Et+te)/2;(de=ye[3])&&fe.push(new s(de,Jt,Ut,Vt,te)),(de=ye[2])&&fe.push(new s(de,Te,Ut,Jt,te)),(de=ye[1])&&fe.push(new s(de,Jt,Et,Vt,Ut)),(de=ye[0])&&fe.push(new s(de,Te,Et,Jt,Ut))}return this}function k(ie){var fe=[],ce=[],ye;for(this._root&&fe.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));ye=fe.pop();){var de=ye.node;if(de.length){var Te,Et=ye.x0,Vt=ye.y0,te=ye.x1,Jt=ye.y1,Ut=(Et+te)/2,It=(Vt+Jt)/2;(Te=de[0])&&fe.push(new s(Te,Et,Vt,Ut,It)),(Te=de[1])&&fe.push(new s(Te,Ut,Vt,te,It)),(Te=de[2])&&fe.push(new s(Te,Et,It,Ut,Jt)),(Te=de[3])&&fe.push(new s(Te,Ut,It,te,Jt))}ce.push(ye)}for(;ye=ce.pop();)ie(ye.node,ye.x0,ye.y0,ye.x1,ye.y1);return this}function a(ie){return ie[0]}function c(ie){return arguments.length?(this._x=ie,this):this._x}function p(ie){return ie[1]}function w(ie){return arguments.length?(this._y=ie,this):this._y}function S(ie,fe,ce){var ye=new _(fe??a,ce??p,NaN,NaN,NaN,NaN);return ie==null?ye:ye.addAll(ie)}function _(ie,fe,ce,ye,de,Te){this._x=ie,this._y=fe,this._x0=ce,this._y0=ye,this._x1=de,this._y1=Te,this._root=void 0}function T(ie){for(var fe={data:ie.data},ce=fe;ie=ie.next;)ce=ce.next={data:ie.data};return fe}var P=S.prototype=_.prototype;P.copy=function(){var ie=new _(this._x,this._y,this._x0,this._y0,this._x1,this._y1),fe=this._root,ce,ye;if(!fe)return ie;if(!fe.length)return ie._root=T(fe),ie;for(ce=[{source:fe,target:ie._root=new Array(4)}];fe=ce.pop();)for(var de=0;de<4;++de)(ye=fe.source[de])&&(ye.length?ce.push({source:ye,target:fe.target[de]=new Array(4)}):fe.target[de]=T(ye));return ie},P.add=M,P.addAll=d,P.cover=v,P.data=r,P.extent=e,P.find=n,P.remove=l,P.removeAll=o,P.root=h,P.size=b,P.visit=f,P.visitAfter=k,P.x=c,P.y=w;function u(ie){return ie.x+ie.vx}function g(ie){return ie.y+ie.vy}function L(ie){var fe,ce,ye=1,de=1;typeof ie!="function"&&(ie=E(ie==null?1:+ie));function Te(){for(var te,Jt=fe.length,Ut,It,pt,xt,Ct,At,Ft=0;Ft<de;++Ft)for(Ut=S(fe,u,g).visitAfter(Et),te=0;te<Jt;++te)It=fe[te],Ct=ce[It.index],At=Ct*Ct,pt=It.x+It.vx,xt=It.y+It.vy,Ut.visit(Wt);function Wt(Qt,he,ve,Je,Ue){var ke=Qt.data,Le=Qt.r,Ge=Ct+Le;if(ke){if(ke.index>It.index){var mr=pt-ke.x-ke.vx,xe=xt-ke.y-ke.vy,Xe=mr*mr+xe*xe;Xe<Ge*Ge&&(mr===0&&(mr=i(),Xe+=mr*mr),xe===0&&(xe=i(),Xe+=xe*xe),Xe=(Ge-(Xe=Math.sqrt(Xe)))/Xe*ye,It.vx+=(mr*=Xe)*(Ge=(Le*=Le)/(At+Le)),It.vy+=(xe*=Xe)*Ge,ke.vx-=mr*(Ge=1-Ge),ke.vy-=xe*Ge)}return}return he>pt+Ge||Je<pt-Ge||ve>xt+Ge||Ue<xt-Ge}}function Et(te){if(te.data)return te.r=ce[te.data.index];for(var Jt=te.r=0;Jt<4;++Jt)te[Jt]&&te[Jt].r>te.r&&(te.r=te[Jt].r)}function Vt(){if(fe){var te,Jt=fe.length,Ut;for(ce=new Array(Jt),te=0;te<Jt;++te)Ut=fe[te],ce[Ut.index]=+ie(Ut,te,fe)}}return Te.initialize=function(te){fe=te,Vt()},Te.iterations=function(te){return arguments.length?(de=+te,Te):de},Te.strength=function(te){return arguments.length?(ye=+te,Te):ye},Te.radius=function(te){return arguments.length?(ie=typeof te=="function"?te:E(+te),Vt(),Te):ie},Te}var A=t(34712);function R(ie){return ie.index}function O(ie,fe){var ce=ie.get(fe);if(!ce)throw new Error("missing: "+fe);return ce}function N(ie){var fe=R,ce=Ut,ye,de=E(30),Te,Et,Vt,te,Jt=1;ie==null&&(ie=[]);function Ut(At){return 1/Math.min(Vt[At.source.index],Vt[At.target.index])}function It(At){for(var Ft=0,Wt=ie.length;Ft<Jt;++Ft)for(var Qt=0,he,ve,Je,Ue,ke,Le,Ge;Qt<Wt;++Qt)he=ie[Qt],ve=he.source,Je=he.target,Ue=Je.x+Je.vx-ve.x-ve.vx||i(),ke=Je.y+Je.vy-ve.y-ve.vy||i(),Le=Math.sqrt(Ue*Ue+ke*ke),Le=(Le-Te[Qt])/Le*At*ye[Qt],Ue*=Le,ke*=Le,Je.vx-=Ue*(Ge=te[Qt]),Je.vy-=ke*Ge,ve.vx+=Ue*(Ge=1-Ge),ve.vy+=ke*Ge}function pt(){if(Et){var At,Ft=Et.length,Wt=ie.length,Qt=(0,A.kH)(Et,fe),he;for(At=0,Vt=new Array(Ft);At<Wt;++At)he=ie[At],he.index=At,typeof he.source!="object"&&(he.source=O(Qt,he.source)),typeof he.target!="object"&&(he.target=O(Qt,he.target)),Vt[he.source.index]=(Vt[he.source.index]||0)+1,Vt[he.target.index]=(Vt[he.target.index]||0)+1;for(At=0,te=new Array(Wt);At<Wt;++At)he=ie[At],te[At]=Vt[he.source.index]/(Vt[he.source.index]+Vt[he.target.index]);ye=new Array(Wt),xt(),Te=new Array(Wt),Ct()}}function xt(){if(Et)for(var At=0,Ft=ie.length;At<Ft;++At)ye[At]=+ce(ie[At],At,ie)}function Ct(){if(Et)for(var At=0,Ft=ie.length;At<Ft;++At)Te[At]=+de(ie[At],At,ie)}return It.initialize=function(At){Et=At,pt()},It.links=function(At){return arguments.length?(ie=At,pt(),It):ie},It.id=function(At){return arguments.length?(fe=At,It):fe},It.iterations=function(At){return arguments.length?(Jt=+At,It):Jt},It.strength=function(At){return arguments.length?(ce=typeof At=="function"?At:E(+At),xt(),It):ce},It.distance=function(At){return arguments.length?(de=typeof At=="function"?At:E(+At),Ct(),It):de},It}var z={value:function(){}};function F(){for(var ie=0,fe=arguments.length,ce={},ye;ie<fe;++ie){if(!(ye=arguments[ie]+"")||ye in ce||/[\s.]/.test(ye))throw new Error("illegal type: "+ye);ce[ye]=[]}return new I(ce)}function I(ie){this._=ie}function j(ie,fe){return ie.trim().split(/^|\s+/).map(function(ce){var ye="",de=ce.indexOf(".");if(de>=0&&(ye=ce.slice(de+1),ce=ce.slice(0,de)),ce&&!fe.hasOwnProperty(ce))throw new Error("unknown type: "+ce);return{type:ce,name:ye}})}I.prototype=F.prototype={constructor:I,on:function(ie,fe){var ce=this._,ye=j(ie+"",ce),de,Te=-1,Et=ye.length;if(arguments.length<2){for(;++Te<Et;)if((de=(ie=ye[Te]).type)&&(de=V(ce[de],ie.name)))return de;return}if(fe!=null&&typeof fe!="function")throw new Error("invalid callback: "+fe);for(;++Te<Et;)if(de=(ie=ye[Te]).type)ce[de]=W(ce[de],ie.name,fe);else if(fe==null)for(de in ce)ce[de]=W(ce[de],ie.name,null);return this},copy:function(){var ie={},fe=this._;for(var ce in fe)ie[ce]=fe[ce].slice();return new I(ie)},call:function(ie,fe){if((de=arguments.length-2)>0)for(var ce=new Array(de),ye=0,de,Te;ye<de;++ye)ce[ye]=arguments[ye+2];if(!this._.hasOwnProperty(ie))throw new Error("unknown type: "+ie);for(Te=this._[ie],ye=0,de=Te.length;ye<de;++ye)Te[ye].value.apply(fe,ce)},apply:function(ie,fe,ce){if(!this._.hasOwnProperty(ie))throw new Error("unknown type: "+ie);for(var ye=this._[ie],de=0,Te=ye.length;de<Te;++de)ye[de].value.apply(fe,ce)}};function V(ie,fe){for(var ce=0,ye=ie.length,de;ce<ye;++ce)if((de=ie[ce]).name===fe)return de.value}function W(ie,fe,ce){for(var ye=0,de=ie.length;ye<de;++ye)if(ie[ye].name===fe){ie[ye]=z,ie=ie.slice(0,ye).concat(ie.slice(ye+1));break}return ce!=null&&ie.push({name:fe,value:ce}),ie}var K=F,et=0,lt=0,ot=0,q=1e3,J,it,Z=0,tt=0,st=0,Q=typeof performance=="object"&&performance.now?performance:Date,G=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ie){setTimeout(ie,17)};function ut(){return tt||(G(at),tt=Q.now()+st)}function at(){tt=0}function dt(){this._call=this._time=this._next=null}dt.prototype=gt.prototype={constructor:dt,restart:function(ie,fe,ce){if(typeof ie!="function")throw new TypeError("callback is not a function");ce=(ce==null?ut():+ce)+(fe==null?0:+fe),!this._next&&it!==this&&(it?it._next=this:J=this,it=this),this._call=ie,this._time=ce,_t()},stop:function(){this._call&&(this._call=null,this._time=1/0,_t())}};function gt(ie,fe,ce){var ye=new dt;return ye.restart(ie,fe,ce),ye}function wt(){ut(),++et;for(var ie=J,fe;ie;)(fe=tt-ie._time)>=0&&ie._call.call(null,fe),ie=ie._next;--et}function kt(){tt=(Z=Q.now())+st,et=lt=0;try{wt()}finally{et=0,bt(),tt=0}}function Ot(){var ie=Q.now(),fe=ie-Z;fe>q&&(st-=fe,Z=ie)}function bt(){for(var ie,fe=J,ce,ye=1/0;fe;)fe._call?(ye>fe._time&&(ye=fe._time),ie=fe,fe=fe._next):(ce=fe._next,fe._next=null,fe=ie?ie._next=ce:J=ce);it=ie,_t(ye)}function _t(ie){if(!et){lt&&(lt=clearTimeout(lt));var fe=ie-tt;fe>24?(ie<1/0&&(lt=setTimeout(kt,ie-Q.now()-st)),ot&&(ot=clearInterval(ot))):(ot||(Z=Q.now(),ot=setInterval(Ot,q)),et=1,G(kt))}}function mt(ie){return ie.x}function Pt(ie){return ie.y}var Rt=10,Ht=Math.PI*(3-Math.sqrt(5));function Dt(ie){var fe,ce=1,ye=.001,de=1-Math.pow(ye,1/300),Te=0,Et=.6,Vt=(0,A.kH)(),te=gt(Ut),Jt=K("tick","end");ie==null&&(ie=[]);function Ut(){It(),Jt.call("tick",fe),ce<ye&&(te.stop(),Jt.call("end",fe))}function It(Ct){var At,Ft=ie.length,Wt;Ct===void 0&&(Ct=1);for(var Qt=0;Qt<Ct;++Qt)for(ce+=(Te-ce)*de,Vt.each(function(he){he(ce)}),At=0;At<Ft;++At)Wt=ie[At],Wt.fx==null?Wt.x+=Wt.vx*=Et:(Wt.x=Wt.fx,Wt.vx=0),Wt.fy==null?Wt.y+=Wt.vy*=Et:(Wt.y=Wt.fy,Wt.vy=0);return fe}function pt(){for(var Ct=0,At=ie.length,Ft;Ct<At;++Ct){if(Ft=ie[Ct],Ft.index=Ct,Ft.fx!=null&&(Ft.x=Ft.fx),Ft.fy!=null&&(Ft.y=Ft.fy),isNaN(Ft.x)||isNaN(Ft.y)){var Wt=Rt*Math.sqrt(Ct),Qt=Ct*Ht;Ft.x=Wt*Math.cos(Qt),Ft.y=Wt*Math.sin(Qt)}(isNaN(Ft.vx)||isNaN(Ft.vy))&&(Ft.vx=Ft.vy=0)}}function xt(Ct){return Ct.initialize&&Ct.initialize(ie),Ct}return pt(),fe={tick:It,restart:function(){return te.restart(Ut),fe},stop:function(){return te.stop(),fe},nodes:function(Ct){return arguments.length?(ie=Ct,pt(),Vt.each(xt),fe):ie},alpha:function(Ct){return arguments.length?(ce=+Ct,fe):ce},alphaMin:function(Ct){return arguments.length?(ye=+Ct,fe):ye},alphaDecay:function(Ct){return arguments.length?(de=+Ct,fe):+de},alphaTarget:function(Ct){return arguments.length?(Te=+Ct,fe):Te},velocityDecay:function(Ct){return arguments.length?(Et=1-Ct,fe):1-Et},force:function(Ct,At){return arguments.length>1?(At==null?Vt.remove(Ct):Vt.set(Ct,xt(At)),fe):Vt.get(Ct)},find:function(Ct,At,Ft){var Wt=0,Qt=ie.length,he,ve,Je,Ue,ke;for(Ft==null?Ft=1/0:Ft*=Ft,Wt=0;Wt<Qt;++Wt)Ue=ie[Wt],he=Ct-Ue.x,ve=At-Ue.y,Je=he*he+ve*ve,Je<Ft&&(ke=Ue,Ft=Je);return ke},on:function(Ct,At){return arguments.length>1?(Jt.on(Ct,At),fe):Jt.on(Ct)}}}function Xt(){var ie,fe,ce,ye=E(-30),de,Te=1,Et=1/0,Vt=.81;function te(pt){var xt,Ct=ie.length,At=S(ie,mt,Pt).visitAfter(Ut);for(ce=pt,xt=0;xt<Ct;++xt)fe=ie[xt],At.visit(It)}function Jt(){if(ie){var pt,xt=ie.length,Ct;for(de=new Array(xt),pt=0;pt<xt;++pt)Ct=ie[pt],de[Ct.index]=+ye(Ct,pt,ie)}}function Ut(pt){var xt=0,Ct,At,Ft=0,Wt,Qt,he;if(pt.length){for(Wt=Qt=he=0;he<4;++he)(Ct=pt[he])&&(At=Math.abs(Ct.value))&&(xt+=Ct.value,Ft+=At,Wt+=At*Ct.x,Qt+=At*Ct.y);pt.x=Wt/Ft,pt.y=Qt/Ft}else{Ct=pt,Ct.x=Ct.data.x,Ct.y=Ct.data.y;do xt+=de[Ct.data.index];while(Ct=Ct.next)}pt.value=xt}function It(pt,xt,Ct,At){if(!pt.value)return!0;var Ft=pt.x-fe.x,Wt=pt.y-fe.y,Qt=At-xt,he=Ft*Ft+Wt*Wt;if(Qt*Qt/Vt<he)return he<Et&&(Ft===0&&(Ft=i(),he+=Ft*Ft),Wt===0&&(Wt=i(),he+=Wt*Wt),he<Te&&(he=Math.sqrt(Te*he)),fe.vx+=Ft*pt.value*ce/he,fe.vy+=Wt*pt.value*ce/he),!0;if(!(pt.length||he>=Et)){(pt.data!==fe||pt.next)&&(Ft===0&&(Ft=i(),he+=Ft*Ft),Wt===0&&(Wt=i(),he+=Wt*Wt),he<Te&&(he=Math.sqrt(Te*he)));do pt.data!==fe&&(Qt=de[pt.data.index]*ce/he,fe.vx+=Ft*Qt,fe.vy+=Wt*Qt);while(pt=pt.next)}}return te.initialize=function(pt){ie=pt,Jt()},te.strength=function(pt){return arguments.length?(ye=typeof pt=="function"?pt:E(+pt),Jt(),te):ye},te.distanceMin=function(pt){return arguments.length?(Te=pt*pt,te):Math.sqrt(Te)},te.distanceMax=function(pt){return arguments.length?(Et=pt*pt,te):Math.sqrt(Et)},te.theta=function(pt){return arguments.length?(Vt=pt*pt,te):Math.sqrt(Vt)},te}function se(ie,fe,ce){var ye,de=E(.1),Te,Et;typeof ie!="function"&&(ie=E(+ie)),fe==null&&(fe=0),ce==null&&(ce=0);function Vt(Jt){for(var Ut=0,It=ye.length;Ut<It;++Ut){var pt=ye[Ut],xt=pt.x-fe||1e-6,Ct=pt.y-ce||1e-6,At=Math.sqrt(xt*xt+Ct*Ct),Ft=(Et[Ut]-At)*Te[Ut]*Jt/At;pt.vx+=xt*Ft,pt.vy+=Ct*Ft}}function te(){if(ye){var Jt,Ut=ye.length;for(Te=new Array(Ut),Et=new Array(Ut),Jt=0;Jt<Ut;++Jt)Et[Jt]=+ie(ye[Jt],Jt,ye),Te[Jt]=isNaN(Et[Jt])?0:+de(ye[Jt],Jt,ye)}}return Vt.initialize=function(Jt){ye=Jt,te()},Vt.strength=function(Jt){return arguments.length?(de=typeof Jt=="function"?Jt:E(+Jt),te(),Vt):de},Vt.radius=function(Jt){return arguments.length?(ie=typeof Jt=="function"?Jt:E(+Jt),te(),Vt):ie},Vt.x=function(Jt){return arguments.length?(fe=+Jt,Vt):fe},Vt.y=function(Jt){return arguments.length?(ce=+Jt,Vt):ce},Vt}function Yt(ie){var fe=E(.1),ce,ye,de;typeof ie!="function"&&(ie=E(ie==null?0:+ie));function Te(Vt){for(var te=0,Jt=ce.length,Ut;te<Jt;++te)Ut=ce[te],Ut.vx+=(de[te]-Ut.x)*ye[te]*Vt}function Et(){if(ce){var Vt,te=ce.length;for(ye=new Array(te),de=new Array(te),Vt=0;Vt<te;++Vt)ye[Vt]=isNaN(de[Vt]=+ie(ce[Vt],Vt,ce))?0:+fe(ce[Vt],Vt,ce)}}return Te.initialize=function(Vt){ce=Vt,Et()},Te.strength=function(Vt){return arguments.length?(fe=typeof Vt=="function"?Vt:E(+Vt),Et(),Te):fe},Te.x=function(Vt){return arguments.length?(ie=typeof Vt=="function"?Vt:E(+Vt),Et(),Te):ie},Te}function ue(ie){var fe=E(.1),ce,ye,de;typeof ie!="function"&&(ie=E(ie==null?0:+ie));function Te(Vt){for(var te=0,Jt=ce.length,Ut;te<Jt;++te)Ut=ce[te],Ut.vy+=(de[te]-Ut.y)*ye[te]*Vt}function Et(){if(ce){var Vt,te=ce.length;for(ye=new Array(te),de=new Array(te),Vt=0;Vt<te;++Vt)ye[Vt]=isNaN(de[Vt]=+ie(ce[Vt],Vt,ce))?0:+fe(ce[Vt],Vt,ce)}}return Te.initialize=function(Vt){ce=Vt,Et()},Te.strength=function(Vt){return arguments.length?(fe=typeof Vt=="function"?Vt:E(+Vt),Et(),Te):fe},Te.y=function(Vt){return arguments.length?(ie=typeof Vt=="function"?Vt:E(+Vt),Et(),Te):ie},Te}},57624:function(X,B,t){t.d(B,{E9:function(){return c},SO:function(){return k}});function x(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)}function E(w,S){if((_=(w=S?w.toExponential(S-1):w.toExponential()).indexOf("e"))<0)return null;var _,T=w.slice(0,_);return[T.length>1?T[0]+T.slice(2):T,+w.slice(_+1)]}function i(w){return w=E(Math.abs(w)),w?w[1]:NaN}function M(w,S){return function(_,T){for(var P=_.length,u=[],g=0,L=w[0],A=0;P>0&&L>0&&(A+L+1>T&&(L=Math.max(1,T-A)),u.push(_.substring(P-=L,P+L)),!((A+=L+1)>T));)L=w[g=(g+1)%w.length];return u.reverse().join(S)}}function m(w){return function(S){return S.replace(/[0-9]/g,function(_){return w[+_]})}}var d=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function v(w){if(!(S=d.exec(w)))throw new Error("invalid format: "+w);var S;return new r({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}v.prototype=r.prototype;function r(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e(w){t:for(var S=w.length,_=1,T=-1,P;_<S;++_)switch(w[_]){case".":T=P=_;break;case"0":T===0&&(T=_),P=_;break;default:if(!+w[_])break t;T>0&&(T=0);break}return T>0?w.slice(0,T)+w.slice(P+1):w}var s;function n(w,S){var _=E(w,S);if(!_)return w+"";var T=_[0],P=_[1],u=P-(s=Math.max(-8,Math.min(8,Math.floor(P/3)))*3)+1,g=T.length;return u===g?T:u>g?T+new Array(u-g+1).join("0"):u>0?T.slice(0,u)+"."+T.slice(u):"0."+new Array(1-u).join("0")+E(w,Math.max(0,S+u-1))[0]}function l(w,S){var _=E(w,S);if(!_)return w+"";var T=_[0],P=_[1];return P<0?"0."+new Array(-P).join("0")+T:T.length>P+1?T.slice(0,P+1)+"."+T.slice(P+1):T+new Array(P-T.length+2).join("0")}var o={"%":function(w,S){return(w*100).toFixed(S)},b:function(w){return Math.round(w).toString(2)},c:function(w){return w+""},d:x,e:function(w,S){return w.toExponential(S)},f:function(w,S){return w.toFixed(S)},g:function(w,S){return w.toPrecision(S)},o:function(w){return Math.round(w).toString(8)},p:function(w,S){return l(w*100,S)},r:l,s:n,X:function(w){return Math.round(w).toString(16).toUpperCase()},x:function(w){return Math.round(w).toString(16)}};function h(w){return w}var b=Array.prototype.map,f=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function k(w){var S=w.grouping===void 0||w.thousands===void 0?h:M(b.call(w.grouping,Number),w.thousands+""),_=w.currency===void 0?"":w.currency[0]+"",T=w.currency===void 0?"":w.currency[1]+"",P=w.decimal===void 0?".":w.decimal+"",u=w.numerals===void 0?h:m(b.call(w.numerals,String)),g=w.percent===void 0?"%":w.percent+"",L=w.minus===void 0?"-":w.minus+"",A=w.nan===void 0?"NaN":w.nan+"";function R(N){N=v(N);var z=N.fill,F=N.align,I=N.sign,j=N.symbol,V=N.zero,W=N.width,K=N.comma,et=N.precision,lt=N.trim,ot=N.type;ot==="n"?(K=!0,ot="g"):o[ot]||(et===void 0&&(et=12),lt=!0,ot="g"),(V||z==="0"&&F==="=")&&(V=!0,z="0",F="=");var q=j==="$"?_:j==="#"&&/[boxX]/.test(ot)?"0"+ot.toLowerCase():"",J=j==="$"?T:/[%p]/.test(ot)?g:"",it=o[ot],Z=/[defgprs%]/.test(ot);et=et===void 0?6:/[gprs]/.test(ot)?Math.max(1,Math.min(21,et)):Math.max(0,Math.min(20,et));function tt(st){var Q=q,G=J,ut,at,dt;if(ot==="c")G=it(st)+G,st="";else{st=+st;var gt=st<0||1/st<0;if(st=isNaN(st)?A:it(Math.abs(st),et),lt&&(st=e(st)),gt&&+st==0&&I!=="+"&&(gt=!1),Q=(gt?I==="("?I:L:I==="-"||I==="("?"":I)+Q,G=(ot==="s"?f[8+s/3]:"")+G+(gt&&I==="("?")":""),Z){for(ut=-1,at=st.length;++ut<at;)if(dt=st.charCodeAt(ut),48>dt||dt>57){G=(dt===46?P+st.slice(ut+1):st.slice(ut))+G,st=st.slice(0,ut);break}}}K&&!V&&(st=S(st,1/0));var wt=Q.length+st.length+G.length,kt=wt<W?new Array(W-wt+1).join(z):"";switch(K&&V&&(st=S(kt+st,kt.length?W-G.length:1/0),kt=""),F){case"<":st=Q+st+G+kt;break;case"=":st=Q+kt+st+G;break;case"^":st=kt.slice(0,wt=kt.length>>1)+Q+st+G+kt.slice(wt);break;default:st=kt+Q+st+G;break}return u(st)}return tt.toString=function(){return N+""},tt}function O(N,z){var F=R((N=v(N),N.type="f",N)),I=Math.max(-8,Math.min(8,Math.floor(i(z)/3)))*3,j=Math.pow(10,-I),V=f[8+I/3];return function(W){return F(j*W)+V}}return{format:R,formatPrefix:O}}var a,c;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(w){return a=k(w),c=a.format,a.formatPrefix,a}},87108:function(X,B,t){t.r(B),t.d(B,{geoAiry:function(){return V},geoAiryRaw:function(){return j},geoAitoff:function(){return K},geoAitoffRaw:function(){return W},geoArmadillo:function(){return lt},geoArmadilloRaw:function(){return et},geoAugust:function(){return q},geoAugustRaw:function(){return ot},geoBaker:function(){return tt},geoBakerRaw:function(){return Z},geoBerghaus:function(){return G},geoBerghausRaw:function(){return Q},geoBertin1953:function(){return bt},geoBertin1953Raw:function(){return Ot},geoBoggs:function(){return se},geoBoggsRaw:function(){return Xt},geoBonne:function(){return ce},geoBonneRaw:function(){return fe},geoBottomley:function(){return de},geoBottomleyRaw:function(){return ye},geoBromley:function(){return Et},geoBromleyRaw:function(){return Te},geoChamberlin:function(){return At},geoChamberlinAfrica:function(){return Ct},geoChamberlinRaw:function(){return pt},geoCollignon:function(){return Wt},geoCollignonRaw:function(){return Ft},geoCraig:function(){return he},geoCraigRaw:function(){return Qt},geoCraster:function(){return Ue},geoCrasterRaw:function(){return Je},geoCylindricalEqualArea:function(){return Le},geoCylindricalEqualAreaRaw:function(){return ke},geoCylindricalStereographic:function(){return mr},geoCylindricalStereographicRaw:function(){return Ge},geoEckert1:function(){return Xe},geoEckert1Raw:function(){return xe},geoEckert2:function(){return _r},geoEckert2Raw:function(){return Ye},geoEckert3:function(){return re},geoEckert3Raw:function(){return rr},geoEckert4:function(){return me},geoEckert4Raw:function(){return le},geoEckert5:function(){return ze},geoEckert5Raw:function(){return Ee},geoEckert6:function(){return Fe},geoEckert6Raw:function(){return Oe},geoEisenlohr:function(){return or},geoEisenlohrRaw:function(){return Ke},geoFahey:function(){return jt},geoFaheyRaw:function(){return hr},geoFoucaut:function(){return Ce},geoFoucautRaw:function(){return Gt},geoFoucautSinusoidal:function(){return We},geoFoucautSinusoidalRaw:function(){return Ie},geoGilbert:function(){return lr},geoGingery:function(){return zr},geoGingeryRaw:function(){return vr},geoGinzburg4:function(){return sn},geoGinzburg4Raw:function(){return Ir},geoGinzburg5:function(){return kn},geoGinzburg5Raw:function(){return nn},geoGinzburg6:function(){return kr},geoGinzburg6Raw:function(){return Mn},geoGinzburg8:function(){return Vr},geoGinzburg8Raw:function(){return Er},geoGinzburg9:function(){return rn},geoGinzburg9Raw:function(){return qr},geoGringorten:function(){return ai},geoGringortenQuincuncial:function(){return Ph},geoGringortenRaw:function(){return ln},geoGuyou:function(){return vn},geoGuyouRaw:function(){return yr},geoHammer:function(){return gt},geoHammerRaw:function(){return at},geoHammerRetroazimuthal:function(){return Bn},geoHammerRetroazimuthalRaw:function(){return bn},geoHealpix:function(){return fn},geoHealpixRaw:function(){return br},geoHill:function(){return Gr},geoHillRaw:function(){return Mr},geoHomolosine:function(){return Nn},geoHomolosineRaw:function(){return En},geoHufnagel:function(){return di},geoHufnagelRaw:function(){return Dn},geoHyperelliptical:function(){return pa},geoHyperellipticalRaw:function(){return Ci},geoInterrupt:function(){return no},geoInterruptedBoggs:function(){return _c},geoInterruptedHomolosine:function(){return $i},geoInterruptedMollweide:function(){return wc},geoInterruptedMollweideHemispheres:function(){return wo},geoInterruptedQuarticAuthalic:function(){return Ks},geoInterruptedSinuMollweide:function(){return qu},geoInterruptedSinusoidal:function(){return Fl},geoKavrayskiy7:function(){return qa},geoKavrayskiy7Raw:function(){return Ba},geoLagrange:function(){return io},geoLagrangeRaw:function(){return Bl},geoLarrivee:function(){return lf},geoLarriveeRaw:function(){return Bo},geoLaskowski:function(){return gh},geoLaskowskiRaw:function(){return Lo},geoLittrow:function(){return Qa},geoLittrowRaw:function(){return gs},geoLoximuthal:function(){return Ys},geoLoximuthalRaw:function(){return kc},geoMiller:function(){return Tc},geoMillerRaw:function(){return ys},geoModifiedStereographic:function(){return dl},geoModifiedStereographicAlaska:function(){return Mc},geoModifiedStereographicGs48:function(){return _h},geoModifiedStereographicGs50:function(){return wh},geoModifiedStereographicLee:function(){return ff},geoModifiedStereographicMiller:function(){return cf},geoModifiedStereographicRaw:function(){return uf},geoMollweide:function(){return Rt},geoMollweideRaw:function(){return Pt},geoMtFlatPolarParabolic:function(){return hf},geoMtFlatPolarParabolicRaw:function(){return du},geoMtFlatPolarQuartic:function(){return kh},geoMtFlatPolarQuarticRaw:function(){return Ps},geoMtFlatPolarSinusoidal:function(){return pf},geoMtFlatPolarSinusoidalRaw:function(){return Gu},geoNaturalEarth:function(){return df.c},geoNaturalEarth2:function(){return ts},geoNaturalEarth2Raw:function(){return Zu},geoNaturalEarthRaw:function(){return df.g},geoNellHammer:function(){return vl},geoNellHammerRaw:function(){return jl},geoNicolosi:function(){return Ac},geoNicolosiRaw:function(){return ms},geoPatterson:function(){return Ul},geoPattersonRaw:function(){return Ku},geoPeirceQuincuncial:function(){return bf},geoPierceQuincuncial:function(){return bf},geoPolyconic:function(){return Mh},geoPolyconicRaw:function(){return Ju},geoPolyhedral:function(){return da},geoPolyhedralButterfly:function(){return yu},geoPolyhedralCollignon:function(){return ml},geoPolyhedralWaterman:function(){return Qs},geoProject:function(){return Eh},geoQuantize:function(){return _f},geoQuincuncial:function(){return Os},geoRectangularPolyconic:function(){return wf},geoRectangularPolyconicRaw:function(){return Oc},geoRobinson:function(){return $s},geoRobinsonRaw:function(){return os},geoSatellite:function(){return xl},geoSatelliteRaw:function(){return ec},geoSinuMollweide:function(){return An},geoSinuMollweideRaw:function(){return Tn},geoSinusoidal:function(){return ie},geoSinusoidalRaw:function(){return ue},geoStitch:function(){return Tu},geoTimes:function(){return Wa},geoTimesRaw:function(){return rl},geoTwoPointAzimuthal:function(){return ic},geoTwoPointAzimuthalRaw:function(){return Rc},geoTwoPointAzimuthalUsa:function(){return _l},geoTwoPointEquidistant:function(){return Mf},geoTwoPointEquidistantRaw:function(){return Mu},geoTwoPointEquidistantUsa:function(){return Ch},geoVanDerGrinten:function(){return Au},geoVanDerGrinten2:function(){return Af},geoVanDerGrinten2Raw:function(){return $l},geoVanDerGrinten3:function(){return Ih},geoVanDerGrinten3Raw:function(){return nl},geoVanDerGrinten4:function(){return Su},geoVanDerGrinten4Raw:function(){return Co},geoVanDerGrintenRaw:function(){return mo},geoWagner:function(){return il},geoWagner4:function(){return Sf},geoWagner4Raw:function(){return oc},geoWagner6:function(){return Fc},geoWagner6Raw:function(){return Pu},geoWagner7:function(){return Dc},geoWagnerRaw:function(){return Ds},geoWiechel:function(){return Bc},geoWiechelRaw:function(){return wl},geoWinkel3:function(){return Ef},geoWinkel3Raw:function(){return Cu}});var x=t(87952),E=Math.abs,i=Math.atan,M=Math.atan2,m=Math.cos,d=Math.exp,v=Math.floor,r=Math.log,e=Math.max,s=Math.min,n=Math.pow,l=Math.round,o=Math.sign||function(Zt){return Zt>0?1:Zt<0?-1:0},h=Math.sin,b=Math.tan,f=1e-6,k=1e-12,a=Math.PI,c=a/2,p=a/4,w=Math.SQRT1_2,S=R(2),_=R(a),T=a*2,P=180/a,u=a/180;function g(Zt){return Zt?Zt/Math.sin(Zt):1}function L(Zt){return Zt>1?c:Zt<-1?-c:Math.asin(Zt)}function A(Zt){return Zt>1?0:Zt<-1?a:Math.acos(Zt)}function R(Zt){return Zt>0?Math.sqrt(Zt):0}function O(Zt){return Zt=d(2*Zt),(Zt-1)/(Zt+1)}function N(Zt){return(d(Zt)-d(-Zt))/2}function z(Zt){return(d(Zt)+d(-Zt))/2}function F(Zt){return r(Zt+R(Zt*Zt+1))}function I(Zt){return r(Zt+R(Zt*Zt-1))}function j(Zt){var ee=b(Zt/2),pe=2*r(m(Zt/2))/(ee*ee);function _e(Pe,Se){var Ne=m(Pe),ur=m(Se),gr=h(Se),nr=ur*Ne,wr=-((1-nr?r((1+nr)/2)/(1-nr):-.5)+pe/(1+nr));return[wr*ur*h(Pe),wr*gr]}return _e.invert=function(Pe,Se){var Ne=R(Pe*Pe+Se*Se),ur=-Zt/2,gr=50,nr;if(!Ne)return[0,0];do{var wr=ur/2,Cr=m(wr),Fr=h(wr),tn=Fr/Cr,xn=-r(E(Cr));ur-=nr=(2/tn*xn-pe*tn-Ne)/(-xn/(Fr*Fr)+1-pe/(2*Cr*Cr))*(Cr<0?.7:1)}while(E(nr)>f&&--gr>0);var Ln=h(ur);return[M(Pe*Ln,Ne*m(ur)),L(Se*Ln/Ne)]},_e}function V(){var Zt=c,ee=(0,x.U)(j),pe=ee(Zt);return pe.radius=function(_e){return arguments.length?ee(Zt=_e*u):Zt*P},pe.scale(179.976).clipAngle(147)}function W(Zt,ee){var pe=m(ee),_e=g(A(pe*m(Zt/=2)));return[2*pe*h(Zt)*_e,h(ee)*_e]}W.invert=function(Zt,ee){if(!(Zt*Zt+4*ee*ee>a*a+f)){var pe=Zt,_e=ee,Pe=25;do{var Se=h(pe),Ne=h(pe/2),ur=m(pe/2),gr=h(_e),nr=m(_e),wr=h(2*_e),Cr=gr*gr,Fr=nr*nr,tn=Ne*Ne,xn=1-Fr*ur*ur,Ln=xn?A(nr*ur)*R(Cn=1/xn):Cn=0,Cn,Gn=2*Ln*nr*Ne-Zt,Ii=Ln*gr-ee,Oi=Cn*(Fr*tn+Ln*nr*ur*Cr),Di=Cn*(.5*Se*wr-Ln*2*gr*Ne),Hi=Cn*.25*(wr*Ne-Ln*gr*Fr*Se),Wi=Cn*(Cr*ur+Ln*tn*nr),ca=Di*Hi-Wi*Oi;if(!ca)break;var Da=(Ii*Di-Gn*Wi)/ca,ft=(Gn*Hi-Ii*Oi)/ca;pe-=Da,_e-=ft}while((E(Da)>f||E(ft)>f)&&--Pe>0);return[pe,_e]}};function K(){return(0,x.c)(W).scale(152.63)}function et(Zt){var ee=h(Zt),pe=m(Zt),_e=Zt>=0?1:-1,Pe=b(_e*Zt),Se=(1+ee-pe)/2;function Ne(ur,gr){var nr=m(gr),wr=m(ur/=2);return[(1+nr)*h(ur),(_e*gr>-M(wr,Pe)-.001?0:-_e*10)+Se+h(gr)*pe-(1+nr)*ee*wr]}return Ne.invert=function(ur,gr){var nr=0,wr=0,Cr=50;do{var Fr=m(nr),tn=h(nr),xn=m(wr),Ln=h(wr),Cn=1+xn,Gn=Cn*tn-ur,Ii=Se+Ln*pe-Cn*ee*Fr-gr,Oi=Cn*Fr/2,Di=-tn*Ln,Hi=ee*Cn*tn/2,Wi=pe*xn+ee*Fr*Ln,ca=Di*Hi-Wi*Oi,Da=(Ii*Di-Gn*Wi)/ca/2,ft=(Gn*Hi-Ii*Oi)/ca;E(ft)>2&&(ft/=2),nr-=Da,wr-=ft}while((E(Da)>f||E(ft)>f)&&--Cr>0);return _e*wr>-M(m(nr),Pe)-.001?[nr*2,wr]:null},Ne}function lt(){var Zt=20*u,ee=Zt>=0?1:-1,pe=b(ee*Zt),_e=(0,x.U)(et),Pe=_e(Zt),Se=Pe.stream;return Pe.parallel=function(Ne){return arguments.length?(pe=b((ee=(Zt=Ne*u)>=0?1:-1)*Zt),_e(Zt)):Zt*P},Pe.stream=function(Ne){var ur=Pe.rotate(),gr=Se(Ne),nr=(Pe.rotate([0,0]),Se(Ne)),wr=Pe.precision();return Pe.rotate(ur),gr.sphere=function(){nr.polygonStart(),nr.lineStart();for(var Cr=ee*-180;ee*Cr<180;Cr+=ee*90)nr.point(Cr,ee*90);if(Zt)for(;ee*(Cr-=3*ee*wr)>=-180;)nr.point(Cr,ee*-M(m(Cr*u/2),pe)*P);nr.lineEnd(),nr.polygonEnd()},gr},Pe.scale(218.695).center([0,28.0974])}function ot(Zt,ee){var pe=b(ee/2),_e=R(1-pe*pe),Pe=1+_e*m(Zt/=2),Se=h(Zt)*_e/Pe,Ne=pe/Pe,ur=Se*Se,gr=Ne*Ne;return[1.3333333333333333*Se*(3+ur-3*gr),1.3333333333333333*Ne*(3+3*ur-gr)]}ot.invert=function(Zt,ee){if(Zt*=.375,ee*=.375,!Zt&&E(ee)>1)return null;var pe=Zt*Zt,_e=ee*ee,Pe=1+pe+_e,Se=R((Pe-R(Pe*Pe-4*ee*ee))/2),Ne=L(Se)/3,ur=Se?I(E(ee/Se))/3:F(E(Zt))/3,gr=m(Ne),nr=z(ur),wr=nr*nr-gr*gr;return[o(Zt)*2*M(N(ur)*gr,.25-wr),o(ee)*2*M(nr*h(Ne),.25+wr)]};function q(){return(0,x.c)(ot).scale(66.1603)}var J=R(8),it=r(1+S);function Z(Zt,ee){var pe=E(ee);return pe<p?[Zt,r(b(p+ee/2))]:[Zt*m(pe)*(2*S-1/h(pe)),o(ee)*(2*S*(pe-p)-r(b(pe/2)))]}Z.invert=function(Zt,ee){if((Se=E(ee))<it)return[Zt,2*i(d(ee))-c];var pe=p,_e=25,Pe,Se;do{var Ne=m(pe/2),ur=b(pe/2);pe-=Pe=(J*(pe-p)-r(ur)-Se)/(J-Ne*Ne/(2*ur))}while(E(Pe)>k&&--_e>0);return[Zt/(m(pe)*(J-1/h(pe))),o(ee)*pe]};function tt(){return(0,x.c)(Z).scale(112.314)}var st=t(69020);function Q(Zt){var ee=2*a/Zt;function pe(_e,Pe){var Se=(0,st.O)(_e,Pe);if(E(_e)>c){var Ne=M(Se[1],Se[0]),ur=R(Se[0]*Se[0]+Se[1]*Se[1]),gr=ee*l((Ne-c)/ee)+c,nr=M(h(Ne-=gr),2-m(Ne));Ne=gr+L(a/ur*h(nr))-nr,Se[0]=ur*m(Ne),Se[1]=ur*h(Ne)}return Se}return pe.invert=function(_e,Pe){var Se=R(_e*_e+Pe*Pe);if(Se>c){var Ne=M(Pe,_e),ur=ee*l((Ne-c)/ee)+c,gr=Ne>ur?-1:1,nr=Se*m(ur-Ne),wr=1/b(gr*A((nr-a)/R(a*(a-2*nr)+Se*Se)));Ne=ur+2*i((wr+gr*R(wr*wr-3))/3),_e=Se*m(Ne),Pe=Se*h(Ne)}return st.O.invert(_e,Pe)},pe}function G(){var Zt=5,ee=(0,x.U)(Q),pe=ee(Zt),_e=pe.stream,Pe=.01,Se=-m(Pe*u),Ne=h(Pe*u);return pe.lobes=function(ur){return arguments.length?ee(Zt=+ur):Zt},pe.stream=function(ur){var gr=pe.rotate(),nr=_e(ur),wr=(pe.rotate([0,0]),_e(ur));return pe.rotate(gr),nr.sphere=function(){wr.polygonStart(),wr.lineStart();for(var Cr=0,Fr=360/Zt,tn=2*a/Zt,xn=90-180/Zt,Ln=c;Cr<Zt;++Cr,xn-=Fr,Ln-=tn)wr.point(M(Ne*m(Ln),Se)*P,L(Ne*h(Ln))*P),xn<-90?(wr.point(-90,-180-xn-Pe),wr.point(-90,-180-xn+Pe)):(wr.point(90,xn+Pe),wr.point(90,xn-Pe));wr.lineEnd(),wr.polygonEnd()},nr},pe.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ut=t(54724);function at(Zt,ee){if(arguments.length<2&&(ee=Zt),ee===1)return ut.y;if(ee===1/0)return dt;function pe(_e,Pe){var Se=(0,ut.y)(_e/ee,Pe);return Se[0]*=Zt,Se}return pe.invert=function(_e,Pe){var Se=ut.y.invert(_e/Zt,Pe);return Se[0]*=ee,Se},pe}function dt(Zt,ee){return[Zt*m(ee)/m(ee/=2),2*h(ee)]}dt.invert=function(Zt,ee){var pe=2*L(ee/2);return[Zt*m(pe/2)/m(pe),pe]};function gt(){var Zt=2,ee=(0,x.U)(at),pe=ee(Zt);return pe.coefficient=function(_e){return arguments.length?ee(Zt=+_e):Zt},pe.scale(169.529)}function wt(Zt,ee,pe){var _e=100,Pe,Se,Ne;pe=pe===void 0?0:+pe,ee=+ee;do Se=Zt(pe),Ne=Zt(pe+f),Se===Ne&&(Ne=Se+f),pe-=Pe=-1*f*(Se-ee)/(Se-Ne);while(_e-- >0&&E(Pe)>f);return _e<0?NaN:pe}function kt(Zt,ee,pe){return ee===void 0&&(ee=40),pe===void 0&&(pe=k),function(_e,Pe,Se,Ne){var ur,gr,nr;Se=Se===void 0?0:+Se,Ne=Ne===void 0?0:+Ne;for(var wr=0;wr<ee;wr++){var Cr=Zt(Se,Ne),Fr=Cr[0]-_e,tn=Cr[1]-Pe;if(E(Fr)<pe&&E(tn)<pe)break;var xn=Fr*Fr+tn*tn;if(xn>ur){Se-=gr/=2,Ne-=nr/=2;continue}ur=xn;var Ln=(Se>0?-1:1)*pe,Cn=(Ne>0?-1:1)*pe,Gn=Zt(Se+Ln,Ne),Ii=Zt(Se,Ne+Cn),Oi=(Gn[0]-Cr[0])/Ln,Di=(Gn[1]-Cr[1])/Ln,Hi=(Ii[0]-Cr[0])/Cn,Wi=(Ii[1]-Cr[1])/Cn,ca=Wi*Oi-Di*Hi,Da=(E(ca)<.5?.5:1)/ca;if(gr=(tn*Hi-Fr*Wi)*Da,nr=(Fr*Di-tn*Oi)*Da,Se+=gr,Ne+=nr,E(gr)<pe&&E(nr)<pe)break}return[Se,Ne]}}function Ot(){var Zt=at(1.68,2),ee=1.4,pe=12;function _e(Pe,Se){if(Pe+Se<-ee){var Ne=(Pe-Se+1.6)*(Pe+Se+ee)/8;Pe+=Ne,Se-=.8*Ne*h(Se+a/2)}var ur=Zt(Pe,Se),gr=(1-m(Pe*Se))/pe;return ur[1]<0&&(ur[0]*=1+gr),ur[1]>0&&(ur[1]*=1+gr/1.5*ur[0]*ur[0]),ur}return _e.invert=kt(_e),_e}function bt(){return(0,x.c)(Ot()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function _t(Zt,ee){var pe=Zt*h(ee),_e=30,Pe;do ee-=Pe=(ee+h(ee)-pe)/(1+m(ee));while(E(Pe)>f&&--_e>0);return ee/2}function mt(Zt,ee,pe){function _e(Pe,Se){return[Zt*Pe*m(Se=_t(pe,Se)),ee*h(Se)]}return _e.invert=function(Pe,Se){return Se=L(Se/ee),[Pe/(Zt*m(Se)),L((2*Se+h(2*Se))/pe)]},_e}var Pt=mt(S/c,S,a);function Rt(){return(0,x.c)(Pt).scale(169.529)}var Ht=2.00276,Dt=1.11072;function Xt(Zt,ee){var pe=_t(a,ee);return[Ht*Zt/(1/m(ee)+Dt/m(pe)),(ee+S*h(pe))/Ht]}Xt.invert=function(Zt,ee){var pe=Ht*ee,_e=ee<0?-p:p,Pe=25,Se,Ne;do Ne=pe-S*h(_e),_e-=Se=(h(2*_e)+2*_e-a*h(Ne))/(2*m(2*_e)+2+a*m(Ne)*S*m(_e));while(E(Se)>f&&--Pe>0);return Ne=pe-S*h(_e),[Zt*(1/m(Ne)+Dt/m(_e))/Ht,Ne]};function se(){return(0,x.c)(Xt).scale(160.857)}function Yt(Zt){var ee=0,pe=(0,x.U)(Zt),_e=pe(ee);return _e.parallel=function(Pe){return arguments.length?pe(ee=Pe*u):ee*P},_e}function ue(Zt,ee){return[Zt*m(ee),ee]}ue.invert=function(Zt,ee){return[Zt/m(ee),ee]};function ie(){return(0,x.c)(ue).scale(152.63)}function fe(Zt){if(!Zt)return ue;var ee=1/b(Zt);function pe(_e,Pe){var Se=ee+Zt-Pe,Ne=Se&&_e*m(Pe)/Se;return[Se*h(Ne),ee-Se*m(Ne)]}return pe.invert=function(_e,Pe){var Se=R(_e*_e+(Pe=ee-Pe)*Pe),Ne=ee+Zt-Se;return[Se/m(Ne)*M(_e,Pe),Ne]},pe}function ce(){return Yt(fe).scale(123.082).center([0,26.1441]).parallel(45)}function ye(Zt){function ee(pe,_e){var Pe=c-_e,Se=Pe&&pe*Zt*h(Pe)/Pe;return[Pe*h(Se)/Zt,c-Pe*m(Se)]}return ee.invert=function(pe,_e){var Pe=pe*Zt,Se=c-_e,Ne=R(Pe*Pe+Se*Se),ur=M(Pe,Se);return[(Ne?Ne/h(Ne):1)*ur/Zt,c-Ne]},ee}function de(){var Zt=.5,ee=(0,x.U)(ye),pe=ee(Zt);return pe.fraction=function(_e){return arguments.length?ee(Zt=+_e):Zt},pe.scale(158.837)}var Te=mt(1,4/a,a);function Et(){return(0,x.c)(Te).scale(152.63)}var Vt=t(24052),te=t(92992);function Jt(Zt,ee,pe,_e,Pe,Se){var Ne=m(Se),ur;if(E(Zt)>1||E(Se)>1)ur=A(pe*Pe+ee*_e*Ne);else{var gr=h(Zt/2),nr=h(Se/2);ur=2*L(R(gr*gr+ee*_e*nr*nr))}return E(ur)>f?[ur,M(_e*h(Se),ee*Pe-pe*_e*Ne)]:[0,0]}function Ut(Zt,ee,pe){return A((Zt*Zt+ee*ee-pe*pe)/(2*Zt*ee))}function It(Zt){return Zt-2*a*v((Zt+a)/(2*a))}function pt(Zt,ee,pe){for(var _e=[[Zt[0],Zt[1],h(Zt[1]),m(Zt[1])],[ee[0],ee[1],h(ee[1]),m(ee[1])],[pe[0],pe[1],h(pe[1]),m(pe[1])]],Pe=_e[2],Se,Ne=0;Ne<3;++Ne,Pe=Se)Se=_e[Ne],Pe.v=Jt(Se[1]-Pe[1],Pe[3],Pe[2],Se[3],Se[2],Se[0]-Pe[0]),Pe.point=[0,0];var ur=Ut(_e[0].v[0],_e[2].v[0],_e[1].v[0]),gr=Ut(_e[0].v[0],_e[1].v[0],_e[2].v[0]),nr=a-ur;_e[2].point[1]=0,_e[0].point[0]=-(_e[1].point[0]=_e[0].v[0]/2);var wr=[_e[2].point[0]=_e[0].point[0]+_e[2].v[0]*m(ur),2*(_e[0].point[1]=_e[1].point[1]=_e[2].v[0]*h(ur))];function Cr(Fr,tn){var xn=h(tn),Ln=m(tn),Cn=new Array(3),Gn;for(Gn=0;Gn<3;++Gn){var Ii=_e[Gn];if(Cn[Gn]=Jt(tn-Ii[1],Ii[3],Ii[2],Ln,xn,Fr-Ii[0]),!Cn[Gn][0])return Ii.point;Cn[Gn][1]=It(Cn[Gn][1]-Ii.v[1])}var Oi=wr.slice();for(Gn=0;Gn<3;++Gn){var Di=Gn==2?0:Gn+1,Hi=Ut(_e[Gn].v[0],Cn[Gn][0],Cn[Di][0]);Cn[Gn][1]<0&&(Hi=-Hi),Gn?Gn==1?(Hi=gr-Hi,Oi[0]-=Cn[Gn][0]*m(Hi),Oi[1]-=Cn[Gn][0]*h(Hi)):(Hi=nr-Hi,Oi[0]+=Cn[Gn][0]*m(Hi),Oi[1]+=Cn[Gn][0]*h(Hi)):(Oi[0]+=Cn[Gn][0]*m(Hi),Oi[1]-=Cn[Gn][0]*h(Hi))}return Oi[0]/=3,Oi[1]/=3,Oi}return Cr}function xt(Zt){return Zt[0]*=u,Zt[1]*=u,Zt}function Ct(){return At([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function At(Zt,ee,pe){var _e=(0,Vt.c)({type:"MultiPoint",coordinates:[Zt,ee,pe]}),Pe=[-_e[0],-_e[1]],Se=(0,te.c)(Pe),Ne=pt(xt(Se(Zt)),xt(Se(ee)),xt(Se(pe)));Ne.invert=kt(Ne);var ur=(0,x.c)(Ne).rotate(Pe),gr=ur.center;return delete ur.rotate,ur.center=function(nr){return arguments.length?gr(Se(nr)):Se.invert(gr())},ur.clipAngle(90)}function Ft(Zt,ee){var pe=R(1-h(ee));return[2/_*Zt*pe,_*(1-pe)]}Ft.invert=function(Zt,ee){var pe=(pe=ee/_-1)*pe;return[pe>0?Zt*R(a/pe)/2:0,L(1-pe)]};function Wt(){return(0,x.c)(Ft).scale(95.6464).center([0,30])}function Qt(Zt){var ee=b(Zt);function pe(_e,Pe){return[_e,(_e?_e/h(_e):1)*(h(Pe)*m(_e)-ee*m(Pe))]}return pe.invert=ee?function(_e,Pe){_e&&(Pe*=h(_e)/_e);var Se=m(_e);return[_e,2*M(R(Se*Se+ee*ee-Pe*Pe)-Se,ee-Pe)]}:function(_e,Pe){return[_e,L(_e?Pe*b(_e)/_e:Pe)]},pe}function he(){return Yt(Qt).scale(249.828).clipAngle(90)}var ve=R(3);function Je(Zt,ee){return[ve*Zt*(2*m(2*ee/3)-1)/_,ve*_*h(ee/3)]}Je.invert=function(Zt,ee){var pe=3*L(ee/(ve*_));return[_*Zt/(ve*(2*m(2*pe/3)-1)),pe]};function Ue(){return(0,x.c)(Je).scale(156.19)}function ke(Zt){var ee=m(Zt);function pe(_e,Pe){return[_e*ee,h(Pe)/ee]}return pe.invert=function(_e,Pe){return[_e/ee,L(Pe*ee)]},pe}function Le(){return Yt(ke).parallel(38.58).scale(195.044)}function Ge(Zt){var ee=m(Zt);function pe(_e,Pe){return[_e*ee,(1+ee)*b(Pe/2)]}return pe.invert=function(_e,Pe){return[_e/ee,i(Pe/(1+ee))*2]},pe}function mr(){return Yt(Ge).scale(124.75)}function xe(Zt,ee){var pe=R(8/(3*a));return[pe*Zt*(1-E(ee)/a),pe*ee]}xe.invert=function(Zt,ee){var pe=R(8/(3*a)),_e=ee/pe;return[Zt/(pe*(1-E(_e)/a)),_e]};function Xe(){return(0,x.c)(xe).scale(165.664)}function Ye(Zt,ee){var pe=R(4-3*h(E(ee)));return[2/R(6*a)*Zt*pe,o(ee)*R(2*a/3)*(2-pe)]}Ye.invert=function(Zt,ee){var pe=2-E(ee)/R(2*a/3);return[Zt*R(6*a)/(2*pe),o(ee)*L((4-pe*pe)/3)]};function _r(){return(0,x.c)(Ye).scale(165.664)}function rr(Zt,ee){var pe=R(a*(4+a));return[2/pe*Zt*(1+R(1-4*ee*ee/(a*a))),4/pe*ee]}rr.invert=function(Zt,ee){var pe=R(a*(4+a))/2;return[Zt*pe/(1+R(1-ee*ee*(4+a)/(4*a))),ee*pe/2]};function re(){return(0,x.c)(rr).scale(180.739)}function le(Zt,ee){var pe=(2+c)*h(ee);ee/=2;for(var _e=0,Pe=1/0;_e<10&&E(Pe)>f;_e++){var Se=m(ee);ee-=Pe=(ee+h(ee)*(Se+2)-pe)/(2*Se*(1+Se))}return[2/R(a*(4+a))*Zt*(1+m(ee)),2*R(a/(4+a))*h(ee)]}le.invert=function(Zt,ee){var pe=ee*R((4+a)/a)/2,_e=L(pe),Pe=m(_e);return[Zt/(2/R(a*(4+a))*(1+Pe)),L((_e+pe*(Pe+2))/(2+c))]};function me(){return(0,x.c)(le).scale(180.739)}function Ee(Zt,ee){return[Zt*(1+m(ee))/R(2+a),2*ee/R(2+a)]}Ee.invert=function(Zt,ee){var pe=R(2+a),_e=ee*pe/2;return[pe*Zt/(1+m(_e)),_e]};function ze(){return(0,x.c)(Ee).scale(173.044)}function Oe(Zt,ee){for(var pe=(1+c)*h(ee),_e=0,Pe=1/0;_e<10&&E(Pe)>f;_e++)ee-=Pe=(ee+h(ee)-pe)/(1+m(ee));return pe=R(2+a),[Zt*(1+m(ee))/pe,2*ee/pe]}Oe.invert=function(Zt,ee){var pe=1+c,_e=R(pe/2);return[Zt*2*_e/(1+m(ee*=_e)),L((ee+h(ee))/pe)]};function Fe(){return(0,x.c)(Oe).scale(173.044)}var Re=3+2*S;function Ke(Zt,ee){var pe=h(Zt/=2),_e=m(Zt),Pe=R(m(ee)),Se=m(ee/=2),Ne=h(ee)/(Se+S*_e*Pe),ur=R(2/(1+Ne*Ne)),gr=R((S*Se+(_e+pe)*Pe)/(S*Se+(_e-pe)*Pe));return[Re*(ur*(gr-1/gr)-2*r(gr)),Re*(ur*Ne*(gr+1/gr)-2*i(Ne))]}Ke.invert=function(Zt,ee){if(!(Se=ot.invert(Zt/1.2,ee*1.065)))return null;var pe=Se[0],_e=Se[1],Pe=20,Se;Zt/=Re,ee/=Re;do{var Ne=pe/2,ur=_e/2,gr=h(Ne),nr=m(Ne),wr=h(ur),Cr=m(ur),Fr=m(_e),tn=R(Fr),xn=wr/(Cr+S*nr*tn),Ln=xn*xn,Cn=R(2/(1+Ln)),Gn=S*Cr+(nr+gr)*tn,Ii=S*Cr+(nr-gr)*tn,Oi=Gn/Ii,Di=R(Oi),Hi=Di-1/Di,Wi=Di+1/Di,ca=Cn*Hi-2*r(Di)-Zt,Da=Cn*xn*Wi-2*i(xn)-ee,ft=wr&&w*tn*gr*Ln/wr,Tt=(S*nr*Cr+tn)/(2*(Cr+S*nr*tn)*(Cr+S*nr*tn)*tn),zt=-.5*xn*Cn*Cn*Cn,Kt=zt*ft,$t=zt*Tt,oe=(oe=2*Cr+S*tn*(nr-gr))*oe*Di,Me=(S*nr*Cr*tn+Fr)/oe,we=-(S*gr*wr)/(tn*oe),He=Hi*Kt-2*Me/Di+Cn*(Me+Me/Oi),Ve=Hi*$t-2*we/Di+Cn*(we+we/Oi),tr=xn*Wi*Kt-2*ft/(1+Ln)+Cn*Wi*ft+Cn*xn*(Me-Me/Oi),Ar=xn*Wi*$t-2*Tt/(1+Ln)+Cn*Wi*Tt+Cn*xn*(we-we/Oi),Lr=Ve*tr-Ar*He;if(!Lr)break;var Yr=(Da*Ve-ca*Ar)/Lr,on=(ca*tr-Da*He)/Lr;pe-=Yr,_e=e(-c,s(c,_e-on))}while((E(Yr)>f||E(on)>f)&&--Pe>0);return E(E(_e)-c)<f?[0,_e]:Pe&&[pe,_e]};function or(){return(0,x.c)(Ke).scale(62.5271)}var pr=m(35*u);function hr(Zt,ee){var pe=b(ee/2);return[Zt*pr*R(1-pe*pe),(1+pr)*pe]}hr.invert=function(Zt,ee){var pe=ee/(1+pr);return[Zt&&Zt/(pr*R(1-pe*pe)),2*i(pe)]};function jt(){return(0,x.c)(hr).scale(137.152)}function Gt(Zt,ee){var pe=ee/2,_e=m(pe);return[2*Zt/_*m(ee)*_e*_e,_*b(pe)]}Gt.invert=function(Zt,ee){var pe=i(ee/_),_e=m(pe),Pe=2*pe;return[Zt*_/2/(m(Pe)*_e*_e),Pe]};function Ce(){return(0,x.c)(Gt).scale(135.264)}function Ie(Zt){var ee=1-Zt,pe=Se(a,0)[0]-Se(-a,0)[0],_e=Se(0,c)[1]-Se(0,-c)[1],Pe=R(2*_e/pe);function Se(gr,nr){var wr=m(nr),Cr=h(nr);return[wr/(ee+Zt*wr)*gr,ee*nr+Zt*Cr]}function Ne(gr,nr){var wr=Se(gr,nr);return[wr[0]*Pe,wr[1]/Pe]}function ur(gr){return Ne(0,gr)[1]}return Ne.invert=function(gr,nr){var wr=wt(ur,nr),Cr=gr/Pe*(Zt+ee/m(wr));return[Cr,wr]},Ne}function We(){var Zt=.5,ee=(0,x.U)(Ie),pe=ee(Zt);return pe.alpha=function(_e){return arguments.length?ee(Zt=+_e):Zt},pe.scale(168.725)}var $e=t(4888),ir=t(69604);function er(Zt){return[Zt[0]/2,L(b(Zt[1]/2*u))*P]}function De(Zt){return[Zt[0]*2,2*i(h(Zt[1]*u))*P]}function lr(Zt){Zt==null&&(Zt=$e.c);var ee=Zt(),pe=(0,ir.c)().scale(P).precision(0).clipAngle(null).translate([0,0]);function _e(Se){return ee(er(Se))}ee.invert&&(_e.invert=function(Se){return De(ee.invert(Se))}),_e.stream=function(Se){var Ne=ee.stream(Se),ur=pe.stream({point:function(gr,nr){Ne.point(gr/2,L(b(-nr/2*u))*P)},lineStart:function(){Ne.lineStart()},lineEnd:function(){Ne.lineEnd()},polygonStart:function(){Ne.polygonStart()},polygonEnd:function(){Ne.polygonEnd()}});return ur.sphere=Ne.sphere,ur};function Pe(Se){_e[Se]=function(){return arguments.length?(ee[Se].apply(ee,arguments),_e):ee[Se]()}}return _e.rotate=function(Se){return arguments.length?(pe.rotate(Se),_e):pe.rotate()},_e.center=function(Se){return arguments.length?(ee.center(er(Se)),_e):De(ee.center())},Pe("angle"),Pe("clipAngle"),Pe("clipExtent"),Pe("fitExtent"),Pe("fitHeight"),Pe("fitSize"),Pe("fitWidth"),Pe("scale"),Pe("translate"),Pe("precision"),_e.scale(249.5)}function vr(Zt,ee){var pe=2*a/ee,_e=Zt*Zt;function Pe(Se,Ne){var ur=(0,st.O)(Se,Ne),gr=ur[0],nr=ur[1],wr=gr*gr+nr*nr;if(wr>_e){var Cr=R(wr),Fr=M(nr,gr),tn=pe*l(Fr/pe),xn=Fr-tn,Ln=Zt*m(xn),Cn=(Zt*h(xn)-xn*h(Ln))/(c-Ln),Gn=dr(xn,Cn),Ii=(a-Zt)/fr(Gn,Ln,a);gr=Cr;var Oi=50,Di;do gr-=Di=(Zt+fr(Gn,Ln,gr)*Ii-Cr)/(Gn(gr)*Ii);while(E(Di)>f&&--Oi>0);nr=xn*h(gr),gr<c&&(nr-=Cn*(gr-c));var Hi=h(tn),Wi=m(tn);ur[0]=gr*Wi-nr*Hi,ur[1]=gr*Hi+nr*Wi}return ur}return Pe.invert=function(Se,Ne){var ur=Se*Se+Ne*Ne;if(ur>_e){var gr=R(ur),nr=M(Ne,Se),wr=pe*l(nr/pe),Cr=nr-wr;Se=gr*m(Cr),Ne=gr*h(Cr);for(var Fr=Se-c,tn=h(Se),xn=Ne/tn,Ln=Se<c?1/0:0,Cn=10;;){var Gn=Zt*h(xn),Ii=Zt*m(xn),Oi=h(Ii),Di=c-Ii,Hi=(Gn-xn*Oi)/Di,Wi=dr(xn,Hi);if(E(Ln)<k||!--Cn)break;xn-=Ln=(xn*tn-Hi*Fr-Ne)/(tn-Fr*2*(Di*(Ii+xn*Gn*m(Ii)-Oi)-Gn*(Gn-xn*Oi))/(Di*Di))}gr=Zt+fr(Wi,Ii,Se)*(a-Zt)/fr(Wi,Ii,a),nr=wr+xn,Se=gr*m(nr),Ne=gr*h(nr)}return st.O.invert(Se,Ne)},Pe}function dr(Zt,ee){return function(pe){var _e=Zt*m(pe);return pe<c&&(_e-=ee),R(1+_e*_e)}}function fr(Zt,ee,pe){for(var _e=50,Pe=(pe-ee)/_e,Se=Zt(ee)+Zt(pe),Ne=1,ur=ee;Ne<_e;++Ne)Se+=2*Zt(ur+=Pe);return Se*.5*Pe}function zr(){var Zt=6,ee=30*u,pe=m(ee),_e=h(ee),Pe=(0,x.U)(vr),Se=Pe(ee,Zt),Ne=Se.stream,ur=.01,gr=-m(ur*u),nr=h(ur*u);return Se.radius=function(wr){return arguments.length?(pe=m(ee=wr*u),_e=h(ee),Pe(ee,Zt)):ee*P},Se.lobes=function(wr){return arguments.length?Pe(ee,Zt=+wr):Zt},Se.stream=function(wr){var Cr=Se.rotate(),Fr=Ne(wr),tn=(Se.rotate([0,0]),Ne(wr));return Se.rotate(Cr),Fr.sphere=function(){tn.polygonStart(),tn.lineStart();for(var xn=0,Ln=2*a/Zt,Cn=0;xn<Zt;++xn,Cn-=Ln)tn.point(M(nr*m(Cn),gr)*P,L(nr*h(Cn))*P),tn.point(M(_e*m(Cn-Ln/2),pe)*P,L(_e*h(Cn-Ln/2))*P);tn.lineEnd(),tn.polygonEnd()},Fr},Se.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Or(Zt,ee,pe,_e,Pe,Se,Ne,ur){arguments.length<8&&(ur=0);function gr(nr,wr){if(!wr)return[Zt*nr/a,0];var Cr=wr*wr,Fr=Zt+Cr*(ee+Cr*(pe+Cr*_e)),tn=wr*(Pe-1+Cr*(Se-ur+Cr*Ne)),xn=(Fr*Fr+tn*tn)/(2*tn),Ln=nr*L(Fr/xn)/a;return[xn*h(Ln),wr*(1+Cr*ur)+xn*(1-m(Ln))]}return gr.invert=function(nr,wr){var Cr=a*nr/Zt,Fr=wr,tn,xn,Ln=50;do{var Cn=Fr*Fr,Gn=Zt+Cn*(ee+Cn*(pe+Cn*_e)),Ii=Fr*(Pe-1+Cn*(Se-ur+Cn*Ne)),Oi=Gn*Gn+Ii*Ii,Di=2*Ii,Hi=Oi/Di,Wi=Hi*Hi,ca=L(Gn/Hi)/a,Da=Cr*ca,ft=Gn*Gn,Tt=(2*ee+Cn*(4*pe+Cn*6*_e))*Fr,zt=Pe+Cn*(3*Se+Cn*5*Ne),Kt=2*(Gn*Tt+Ii*(zt-1)),$t=2*(zt-1),oe=(Kt*Di-Oi*$t)/(Di*Di),Me=m(Da),we=h(Da),He=Hi*Me,Ve=Hi*we,tr=Cr/a*(1/R(1-ft/Wi))*(Tt*Hi-Gn*oe)/Wi,Ar=Ve-nr,Lr=Fr*(1+Cn*ur)+Hi-He-wr,Yr=oe*we+He*tr,on=He*ca,Pr=1+oe-(oe*Me-Ve*tr),jr=Ve*ca,Zr=Yr*jr-Pr*on;if(!Zr)break;Cr-=tn=(Lr*Yr-Ar*Pr)/Zr,Fr-=xn=(Ar*jr-Lr*on)/Zr}while((E(tn)>f||E(xn)>f)&&--Ln>0);return[Cr,Fr]},gr}var Ir=Or(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function sn(){return(0,x.c)(Ir).scale(149.995)}var nn=Or(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function kn(){return(0,x.c)(nn).scale(153.93)}var Mn=Or(5/6*a,-.62636,-.0344,0,1.3493,-.05524,0,.045);function kr(){return(0,x.c)(Mn).scale(130.945)}function Er(Zt,ee){var pe=Zt*Zt,_e=ee*ee;return[Zt*(1-.162388*_e)*(.87-952426e-9*pe*pe),ee*(1+_e/12)]}Er.invert=function(Zt,ee){var pe=Zt,_e=ee,Pe=50,Se;do{var Ne=_e*_e;_e-=Se=(_e*(1+Ne/12)-ee)/(1+Ne/4)}while(E(Se)>f&&--Pe>0);Pe=50,Zt/=1-.162388*Ne;do{var ur=(ur=pe*pe)*ur;pe-=Se=(pe*(.87-952426e-9*ur)-Zt)/(.87-.00476213*ur)}while(E(Se)>f&&--Pe>0);return[pe,_e]};function Vr(){return(0,x.c)(Er).scale(131.747)}var qr=Or(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function rn(){return(0,x.c)(qr).scale(131.087)}function gn(Zt){var ee=Zt(c,0)[0]-Zt(-c,0)[0];function pe(_e,Pe){var Se=_e>0?-.5:.5,Ne=Zt(_e+Se*a,Pe);return Ne[0]-=Se*ee,Ne}return Zt.invert&&(pe.invert=function(_e,Pe){var Se=_e>0?-.5:.5,Ne=Zt.invert(_e+Se*ee,Pe),ur=Ne[0]-Se*a;return ur<-a?ur+=2*a:ur>a&&(ur-=2*a),Ne[0]=ur,Ne}),pe}function ln(Zt,ee){var pe=o(Zt),_e=o(ee),Pe=m(ee),Se=m(Zt)*Pe,Ne=h(Zt)*Pe,ur=h(_e*ee);Zt=E(M(Ne,ur)),ee=L(Se),E(Zt-c)>f&&(Zt%=c);var gr=zn(Zt>a/4?c-Zt:Zt,ee);return Zt>a/4&&(ur=gr[0],gr[0]=-gr[1],gr[1]=-ur),gr[0]*=pe,gr[1]*=-_e,gr}ln.invert=function(Zt,ee){E(Zt)>1&&(Zt=o(Zt)*2-Zt),E(ee)>1&&(ee=o(ee)*2-ee);var pe=o(Zt),_e=o(ee),Pe=-pe*Zt,Se=-_e*ee,Ne=Se/Pe<1,ur=Rn(Ne?Se:Pe,Ne?Pe:Se),gr=ur[0],nr=ur[1],wr=m(nr);return Ne&&(gr=-c-gr),[pe*(M(h(gr)*wr,-h(nr))+a),_e*L(m(gr)*wr)]};function zn(Zt,ee){if(ee===c)return[0,0];var pe=h(ee),_e=pe*pe,Pe=_e*_e,Se=1+Pe,Ne=1+3*Pe,ur=1-Pe,gr=L(1/R(Se)),nr=ur+_e*Se*gr,wr=(1-pe)/nr,Cr=R(wr),Fr=wr*Se,tn=R(Fr),xn=Cr*ur,Ln,Cn;if(Zt===0)return[0,-(xn+_e*tn)];var Gn=m(ee),Ii=1/Gn,Oi=2*pe*Gn,Di=(-3*_e+gr*Ne)*Oi,Hi=(-nr*Gn-(1-pe)*Di)/(nr*nr),Wi=.5*Hi/Cr,ca=ur*Wi-2*_e*Cr*Oi,Da=_e*Se*Hi+wr*Ne*Oi,ft=-Ii*Oi,Tt=-Ii*Da,zt=-2*Ii*ca,Kt=4*Zt/a,$t;if(Zt>.222*a||ee<a/4&&Zt>.175*a){if(Ln=(xn+_e*R(Fr*(1+Pe)-xn*xn))/(1+Pe),Zt>a/4)return[Ln,Ln];var oe=Ln,Me=.5*Ln;Ln=.5*(Me+oe),Cn=50;do{var we=R(Fr-Ln*Ln),He=Ln*(zt+ft*we)+Tt*L(Ln/tn)-Kt;if(!He)break;He<0?Me=Ln:oe=Ln,Ln=.5*(Me+oe)}while(E(oe-Me)>f&&--Cn>0)}else{Ln=f,Cn=25;do{var Ve=Ln*Ln,tr=R(Fr-Ve),Ar=zt+ft*tr,Lr=Ln*Ar+Tt*L(Ln/tn)-Kt,Yr=Ar+(Tt-ft*Ve)/tr;Ln-=$t=tr?Lr/Yr:0}while(E($t)>f&&--Cn>0)}return[Ln,-xn-_e*R(Fr-Ln*Ln)]}function Rn(Zt,ee){for(var pe=0,_e=1,Pe=.5,Se=50;;){var Ne=Pe*Pe,ur=R(Pe),gr=L(1/R(1+Ne)),nr=1-Ne+Pe*(1+Ne)*gr,wr=(1-ur)/nr,Cr=R(wr),Fr=wr*(1+Ne),tn=Cr*(1-Ne),xn=Fr-Zt*Zt,Ln=R(xn),Cn=ee+tn+Pe*Ln;if(E(_e-pe)<k||--Se===0||Cn===0)break;Cn>0?pe=Pe:_e=Pe,Pe=.5*(pe+_e)}if(!Se)return null;var Gn=L(ur),Ii=m(Gn),Oi=1/Ii,Di=2*ur*Ii,Hi=(-3*Pe+gr*(1+3*Ne))*Di,Wi=(-nr*Ii-(1-ur)*Hi)/(nr*nr),ca=.5*Wi/Cr,Da=(1-Ne)*ca-2*Pe*Cr*Di,ft=-2*Oi*Da,Tt=-Oi*Di,zt=-Oi*(Pe*(1+Ne)*Wi+wr*(1+3*Ne)*Di);return[a/4*(Zt*(ft+Tt*Ln)+zt*L(Zt/R(Fr))),Gn]}function ai(){return(0,x.c)(gn(ln)).scale(239.75)}function fi(Zt,ee,pe){var _e,Pe,Se;return Zt?(_e=mi(Zt,pe),ee?(Pe=mi(ee,1-pe),Se=Pe[1]*Pe[1]+pe*_e[0]*_e[0]*Pe[0]*Pe[0],[[_e[0]*Pe[2]/Se,_e[1]*_e[2]*Pe[0]*Pe[1]/Se],[_e[1]*Pe[1]/Se,-_e[0]*_e[2]*Pe[0]*Pe[2]/Se],[_e[2]*Pe[1]*Pe[2]/Se,-pe*_e[0]*_e[1]*Pe[0]/Se]]):[[_e[0],0],[_e[1],0],[_e[2],0]]):(Pe=mi(ee,1-pe),[[0,Pe[0]/Pe[1]],[1/Pe[1],0],[Pe[2]/Pe[1],0]])}function mi(Zt,ee){var pe,_e,Pe,Se,Ne;if(ee<f)return Se=h(Zt),_e=m(Zt),pe=ee*(Zt-Se*_e)/4,[Se-pe*_e,_e+pe*Se,1-ee*Se*Se/2,Zt-pe];if(ee>=1-f)return pe=(1-ee)/4,_e=z(Zt),Se=O(Zt),Pe=1/_e,Ne=_e*N(Zt),[Se+pe*(Ne-Zt)/(_e*_e),Pe-pe*Se*Pe*(Ne-Zt),Pe+pe*Se*Pe*(Ne+Zt),2*i(d(Zt))-c+pe*(Ne-Zt)/_e];var ur=[1,0,0,0,0,0,0,0,0],gr=[R(ee),0,0,0,0,0,0,0,0],nr=0;for(_e=R(1-ee),Ne=1;E(gr[nr]/ur[nr])>f&&nr<8;)pe=ur[nr++],gr[nr]=(pe-_e)/2,ur[nr]=(pe+_e)/2,_e=R(pe*_e),Ne*=2;Pe=Ne*ur[nr]*Zt;do Se=gr[nr]*h(_e=Pe)/ur[nr],Pe=(L(Se)+Pe)/2;while(--nr);return[h(Pe),Se=m(Pe),Se/m(Pe-_e),Pe]}function li(Zt,ee,pe){var _e=E(Zt),Pe=E(ee),Se=N(Pe);if(_e){var Ne=1/h(_e),ur=1/(b(_e)*b(_e)),gr=-(ur+pe*(Se*Se*Ne*Ne)-1+pe),nr=(pe-1)*ur,wr=(-gr+R(gr*gr-4*nr))/2;return[ri(i(1/R(wr)),pe)*o(Zt),ri(i(R((wr/ur-1)/pe)),1-pe)*o(ee)]}return[0,ri(i(Se),1-pe)*o(ee)]}function ri(Zt,ee){if(!ee)return Zt;if(ee===1)return r(b(Zt/2+p));for(var pe=1,_e=R(1-ee),Pe=R(ee),Se=0;E(Pe)>f;Se++){if(Zt%a){var Ne=i(_e*b(Zt)/pe);Ne<0&&(Ne+=a),Zt+=Ne+~~(Zt/a)*a}else Zt+=Zt;Pe=(pe+_e)/2,_e=R(pe*_e),Pe=((pe=Pe)-_e)/2}return Zt/(n(2,Se)*pe)}function yr(Zt,ee){var pe=(S-1)/(S+1),_e=R(1-pe*pe),Pe=ri(c,_e*_e),Se=-1,Ne=r(b(a/4+E(ee)/2)),ur=d(Se*Ne)/R(pe),gr=en(ur*m(Se*Zt),ur*h(Se*Zt)),nr=li(gr[0],gr[1],_e*_e);return[-nr[1],(ee>=0?1:-1)*(.5*Pe-nr[0])]}function en(Zt,ee){var pe=Zt*Zt,_e=ee+1,Pe=1-pe-ee*ee;return[.5*((Zt>=0?c:-c)-M(Pe,2*Zt)),-.25*r(Pe*Pe+4*pe)+.5*r(_e*_e+pe)]}function Jr(Zt,ee){var pe=ee[0]*ee[0]+ee[1]*ee[1];return[(Zt[0]*ee[0]+Zt[1]*ee[1])/pe,(Zt[1]*ee[0]-Zt[0]*ee[1])/pe]}yr.invert=function(Zt,ee){var pe=(S-1)/(S+1),_e=R(1-pe*pe),Pe=ri(c,_e*_e),Se=-1,Ne=fi(.5*Pe-ee,-Zt,_e*_e),ur=Jr(Ne[0],Ne[1]),gr=M(ur[1],ur[0])/Se;return[gr,2*i(d(.5/Se*r(pe*ur[0]*ur[0]+pe*ur[1]*ur[1])))-c]};function vn(){return(0,x.c)(gn(yr)).scale(151.496)}var Vn=t(61780);function bn(Zt){var ee=h(Zt),pe=m(Zt),_e=In(Zt);_e.invert=In(-Zt);function Pe(Se,Ne){var ur=_e(Se,Ne);Se=ur[0],Ne=ur[1];var gr=h(Ne),nr=m(Ne),wr=m(Se),Cr=A(ee*gr+pe*nr*wr),Fr=h(Cr),tn=E(Fr)>f?Cr/Fr:1;return[tn*pe*h(Se),(E(Se)>c?tn:-tn)*(ee*nr-pe*gr*wr)]}return Pe.invert=function(Se,Ne){var ur=R(Se*Se+Ne*Ne),gr=-h(ur),nr=m(ur),wr=ur*nr,Cr=-Ne*gr,Fr=ur*ee,tn=R(wr*wr+Cr*Cr-Fr*Fr),xn=M(wr*Fr+Cr*tn,Cr*Fr-wr*tn),Ln=(ur>c?-1:1)*M(Se*gr,ur*m(xn)*nr+Ne*h(xn)*gr);return _e.invert(Ln,xn)},Pe}function In(Zt){var ee=h(Zt),pe=m(Zt);return function(_e,Pe){var Se=m(Pe),Ne=m(_e)*Se,ur=h(_e)*Se,gr=h(Pe);return[M(ur,Ne*pe-gr*ee),L(gr*pe+Ne*ee)]}}function Bn(){var Zt=0,ee=(0,x.U)(bn),pe=ee(Zt),_e=pe.rotate,Pe=pe.stream,Se=(0,Vn.c)();return pe.parallel=function(Ne){if(!arguments.length)return Zt*P;var ur=pe.rotate();return ee(Zt=Ne*u).rotate(ur)},pe.rotate=function(Ne){return arguments.length?(_e.call(pe,[Ne[0],Ne[1]-Zt*P]),Se.center([-Ne[0],-Ne[1]]),pe):(Ne=_e.call(pe),Ne[1]+=Zt*P,Ne)},pe.stream=function(Ne){return Ne=Pe(Ne),Ne.sphere=function(){Ne.polygonStart();var ur=.01,gr=Se.radius(90-ur)().coordinates[0],nr=gr.length-1,wr=-1,Cr;for(Ne.lineStart();++wr<nr;)Ne.point((Cr=gr[wr])[0],Cr[1]);for(Ne.lineEnd(),gr=Se.radius(90+ur)().coordinates[0],nr=gr.length-1,Ne.lineStart();--wr>=0;)Ne.point((Cr=gr[wr])[0],Cr[1]);Ne.lineEnd(),Ne.polygonEnd()},Ne},pe.scale(79.4187).parallel(45).clipAngle(179.999)}var Kn=t(84706),pi=t(16016),Ni=3,Tr=L(1-1/Ni)*P,Rr=ke(0);function br(Zt){var ee=Tr*u,pe=Ft(a,ee)[0]-Ft(-a,ee)[0],_e=Rr(0,ee)[1],Pe=Ft(0,ee)[1],Se=_-Pe,Ne=T/Zt,ur=4/T,gr=_e+Se*Se*4/T;function nr(wr,Cr){var Fr,tn=E(Cr);if(tn>ee){var xn=s(Zt-1,e(0,v((wr+a)/Ne)));wr+=a*(Zt-1)/Zt-xn*Ne,Fr=Ft(wr,tn),Fr[0]=Fr[0]*T/pe-T*(Zt-1)/(2*Zt)+xn*T/Zt,Fr[1]=_e+(Fr[1]-Pe)*4*Se/T,Cr<0&&(Fr[1]=-Fr[1])}else Fr=Rr(wr,Cr);return Fr[0]*=ur,Fr[1]/=gr,Fr}return nr.invert=function(wr,Cr){wr/=ur,Cr*=gr;var Fr=E(Cr);if(Fr>_e){var tn=s(Zt-1,e(0,v((wr+a)/Ne)));wr=(wr+a*(Zt-1)/Zt-tn*Ne)*pe/T;var xn=Ft.invert(wr,.25*(Fr-_e)*T/Se+Pe);return xn[0]-=a*(Zt-1)/Zt-tn*Ne,Cr<0&&(xn[1]=-xn[1]),xn}return Rr.invert(wr,Cr)},nr}function Br(Zt,ee){return[Zt,ee&1?90-f:Tr]}function _n(Zt,ee){return[Zt,ee&1?-90+f:-Tr]}function Pn(Zt){return[Zt[0]*(1-f),Zt[1]]}function pn(Zt){var ee=[].concat((0,Kn.ik)(-180,180+Zt/2,Zt).map(Br),(0,Kn.ik)(180,-180-Zt/2,-Zt).map(_n));return{type:"Polygon",coordinates:[Zt===180?ee.map(Pn):ee]}}function fn(){var Zt=4,ee=(0,x.U)(br),pe=ee(Zt),_e=pe.stream;return pe.lobes=function(Pe){return arguments.length?ee(Zt=+Pe):Zt},pe.stream=function(Pe){var Se=pe.rotate(),Ne=_e(Pe),ur=(pe.rotate([0,0]),_e(Pe));return pe.rotate(Se),Ne.sphere=function(){(0,pi.c)(pn(180/Zt),ur)},Ne},pe.scale(239.75)}function Mr(Zt){var ee=1+Zt,pe=h(1/ee),_e=L(pe),Pe=2*R(a/(Se=a+4*_e*ee)),Se,Ne=.5*Pe*(ee+R(Zt*(2+Zt))),ur=Zt*Zt,gr=ee*ee;function nr(wr,Cr){var Fr=1-h(Cr),tn,xn;if(Fr&&Fr<2){var Ln=c-Cr,Cn=25,Gn;do{var Ii=h(Ln),Oi=m(Ln),Di=_e+M(Ii,ee-Oi),Hi=1+gr-2*ee*Oi;Ln-=Gn=(Ln-ur*_e-ee*Ii+Hi*Di-.5*Fr*Se)/(2*ee*Ii*Di)}while(E(Gn)>k&&--Cn>0);tn=Pe*R(Hi),xn=wr*Di/a}else tn=Pe*(Zt+Fr),xn=wr*_e/a;return[tn*h(xn),Ne-tn*m(xn)]}return nr.invert=function(wr,Cr){var Fr=wr*wr+(Cr-=Ne)*Cr,tn=(1+gr-Fr/(Pe*Pe))/(2*ee),xn=A(tn),Ln=h(xn),Cn=_e+M(Ln,ee-tn);return[L(wr/R(Fr))*a/Cn,L(1-2*(xn-ur*_e-ee*Ln+(1+gr-2*ee*tn)*Cn)/Se)]},nr}function Gr(){var Zt=1,ee=(0,x.U)(Mr),pe=ee(Zt);return pe.ratio=function(_e){return arguments.length?ee(Zt=+_e):Zt},pe.scale(167.774).center([0,18.67])}var Nr=.7109889596207567,Kr=.0528035274542;function Tn(Zt,ee){return ee>-Nr?(Zt=Pt(Zt,ee),Zt[1]+=Kr,Zt):ue(Zt,ee)}Tn.invert=function(Zt,ee){return ee>-Nr?Pt.invert(Zt,ee-Kr):ue.invert(Zt,ee)};function An(){return(0,x.c)(Tn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function En(Zt,ee){return E(ee)>Nr?(Zt=Pt(Zt,ee),Zt[1]-=ee>0?Kr:-Kr,Zt):ue(Zt,ee)}En.invert=function(Zt,ee){return E(ee)>Nr?Pt.invert(Zt,ee+(ee>0?Kr:-Kr)):ue.invert(Zt,ee)};function Nn(){return(0,x.c)(En).scale(152.63)}function Dn(Zt,ee,pe,_e){var Pe=R(4*a/(2*pe+(1+Zt-ee/2)*h(2*pe)+(Zt+ee)/2*h(4*pe)+ee/2*h(6*pe))),Se=R(_e*h(pe)*R((1+Zt*m(2*pe)+ee*m(4*pe))/(1+Zt+ee))),Ne=pe*gr(1);function ur(Cr){return R(1+Zt*m(2*Cr)+ee*m(4*Cr))}function gr(Cr){var Fr=Cr*pe;return(2*Fr+(1+Zt-ee/2)*h(2*Fr)+(Zt+ee)/2*h(4*Fr)+ee/2*h(6*Fr))/pe}function nr(Cr){return ur(Cr)*h(Cr)}var wr=function(Cr,Fr){var tn=pe*wt(gr,Ne*h(Fr)/pe,Fr/a);isNaN(tn)&&(tn=pe*o(Fr));var xn=Pe*ur(tn);return[xn*Se*Cr/a*m(tn),xn/Se*h(tn)]};return wr.invert=function(Cr,Fr){var tn=wt(nr,Fr*Se/Pe);return[Cr*a/(m(tn)*Pe*Se*ur(tn)),L(pe*gr(tn/pe)/Ne)]},pe===0&&(Pe=R(_e/a),wr=function(Cr,Fr){return[Cr*Pe,h(Fr)/Pe]},wr.invert=function(Cr,Fr){return[Cr/Pe,L(Fr*Pe)]}),wr}function di(){var Zt=1,ee=0,pe=45*u,_e=2,Pe=(0,x.U)(Dn),Se=Pe(Zt,ee,pe,_e);return Se.a=function(Ne){return arguments.length?Pe(Zt=+Ne,ee,pe,_e):Zt},Se.b=function(Ne){return arguments.length?Pe(Zt,ee=+Ne,pe,_e):ee},Se.psiMax=function(Ne){return arguments.length?Pe(Zt,ee,pe=+Ne*u,_e):pe*P},Se.ratio=function(Ne){return arguments.length?Pe(Zt,ee,pe,_e=+Ne):_e},Se.scale(180.739)}function oi(Zt,ee,pe,_e,Pe,Se,Ne,ur,gr,nr,wr){if(wr.nanEncountered)return NaN;var Cr,Fr,tn,xn,Ln,Cn,Gn,Ii,Oi,Di;if(Cr=pe-ee,Fr=Zt(ee+Cr*.25),tn=Zt(pe-Cr*.25),isNaN(Fr)){wr.nanEncountered=!0;return}if(isNaN(tn)){wr.nanEncountered=!0;return}return xn=Cr*(_e+4*Fr+Pe)/12,Ln=Cr*(Pe+4*tn+Se)/12,Cn=xn+Ln,Di=(Cn-Ne)/15,nr>gr?(wr.maxDepthCount++,Cn+Di):Math.abs(Di)<ur?Cn+Di:(Gn=ee+Cr*.5,Ii=oi(Zt,ee,Gn,_e,Fr,Pe,xn,ur*.5,gr,nr+1,wr),isNaN(Ii)?(wr.nanEncountered=!0,NaN):(Oi=oi(Zt,Gn,pe,Pe,tn,Se,Ln,ur*.5,gr,nr+1,wr),isNaN(Oi)?(wr.nanEncountered=!0,NaN):Ii+Oi))}function hi(Zt,ee,pe,_e,Pe){var Se={maxDepthCount:0,nanEncountered:!1};_e===void 0&&(_e=1e-8),Pe===void 0&&(Pe=20);var Ne=Zt(ee),ur=Zt(.5*(ee+pe)),gr=Zt(pe),nr=(Ne+4*ur+gr)*(pe-ee)/6,wr=oi(Zt,ee,pe,Ne,ur,gr,nr,_e,Pe,1,Se);return wr}function Ci(Zt,ee,pe){function _e(tn){return Zt+(1-Zt)*n(1-n(tn,ee),1/ee)}function Pe(tn){return hi(_e,0,tn,1e-4)}for(var Se=1/Pe(1),Ne=1e3,ur=1.00000001*Se,gr=[],nr=0;nr<=Ne;nr++)gr.push(Pe(nr/Ne)*ur);function wr(tn){var xn=0,Ln=Ne,Cn=Ne>>1;do gr[Cn]>tn?Ln=Cn:xn=Cn,Cn=xn+Ln>>1;while(Cn>xn);var Gn=gr[Cn+1]-gr[Cn];return Gn&&(Gn=(tn-gr[Cn+1])/Gn),(Cn+1+Gn)/Ne}var Cr=2*wr(1)/a*Se/pe,Fr=function(tn,xn){var Ln=wr(E(h(xn))),Cn=_e(Ln)*tn;return Ln/=Cr,[Cn,xn>=0?Ln:-Ln]};return Fr.invert=function(tn,xn){var Ln;return xn*=Cr,E(xn)<1&&(Ln=o(xn)*L(Pe(E(xn))*Se)),[tn/_e(E(xn)),Ln]},Fr}function pa(){var Zt=0,ee=2.5,pe=1.183136,_e=(0,x.U)(Ci),Pe=_e(Zt,ee,pe);return Pe.alpha=function(Se){return arguments.length?_e(Zt=+Se,ee,pe):Zt},Pe.k=function(Se){return arguments.length?_e(Zt,ee=+Se,pe):ee},Pe.gamma=function(Se){return arguments.length?_e(Zt,ee,pe=+Se):pe},Pe.scale(152.63)}function ea(Zt,ee){return E(Zt[0]-ee[0])<f&&E(Zt[1]-ee[1])<f}function Fo(Zt,ee){for(var pe=-1,_e=Zt.length,Pe=Zt[0],Se,Ne,ur,gr=[];++pe<_e;){Se=Zt[pe],Ne=(Se[0]-Pe[0])/ee,ur=(Se[1]-Pe[1])/ee;for(var nr=0;nr<ee;++nr)gr.push([Pe[0]+nr*Ne,Pe[1]+nr*ur]);Pe=Se}return gr.push(Se),gr}function Eo(Zt){var ee=[],pe,_e,Pe,Se,Ne,ur,gr,nr=Zt[0].length;for(gr=0;gr<nr;++gr)pe=Zt[0][gr],_e=pe[0][0],Pe=pe[0][1],Se=pe[1][1],Ne=pe[2][0],ur=pe[2][1],ee.push(Fo([[_e+f,Pe+f],[_e+f,Se-f],[Ne-f,Se-f],[Ne-f,ur+f]],30));for(gr=Zt[1].length-1;gr>=0;--gr)pe=Zt[1][gr],_e=pe[0][0],Pe=pe[0][1],Se=pe[1][1],Ne=pe[2][0],ur=pe[2][1],ee.push(Fo([[Ne-f,ur-f],[Ne-f,Se+f],[_e+f,Se+f],[_e+f,Pe-f]],30));return{type:"Polygon",coordinates:[(0,Kn.Uf)(ee)]}}function no(Zt,ee,pe){var _e,Pe;function Se(gr,nr){for(var wr=nr<0?-1:1,Cr=ee[+(nr<0)],Fr=0,tn=Cr.length-1;Fr<tn&&gr>Cr[Fr][2][0];++Fr);var xn=Zt(gr-Cr[Fr][1][0],nr);return xn[0]+=Zt(Cr[Fr][1][0],wr*nr>wr*Cr[Fr][0][1]?Cr[Fr][0][1]:nr)[0],xn}pe?Se.invert=pe(Se):Zt.invert&&(Se.invert=function(gr,nr){for(var wr=Pe[+(nr<0)],Cr=ee[+(nr<0)],Fr=0,tn=wr.length;Fr<tn;++Fr){var xn=wr[Fr];if(xn[0][0]<=gr&&gr<xn[1][0]&&xn[0][1]<=nr&&nr<xn[1][1]){var Ln=Zt.invert(gr-Zt(Cr[Fr][1][0],0)[0],nr);return Ln[0]+=Cr[Fr][1][0],ea(Se(Ln[0],Ln[1]),[gr,nr])?Ln:null}}});var Ne=(0,x.c)(Se),ur=Ne.stream;return Ne.stream=function(gr){var nr=Ne.rotate(),wr=ur(gr),Cr=(Ne.rotate([0,0]),ur(gr));return Ne.rotate(nr),wr.sphere=function(){(0,pi.c)(_e,Cr)},wr},Ne.lobes=function(gr){return arguments.length?(_e=Eo(gr),ee=gr.map(function(nr){return nr.map(function(wr){return[[wr[0][0]*u,wr[0][1]*u],[wr[1][0]*u,wr[1][1]*u],[wr[2][0]*u,wr[2][1]*u]]})}),Pe=ee.map(function(nr){return nr.map(function(wr){var Cr=Zt(wr[0][0],wr[0][1])[0],Fr=Zt(wr[2][0],wr[2][1])[0],tn=Zt(wr[1][0],wr[0][1])[1],xn=Zt(wr[1][0],wr[1][1])[1],Ln;return tn>xn&&(Ln=tn,tn=xn,xn=Ln),[[Cr,tn],[Fr,xn]]})}),Ne):ee.map(function(nr){return nr.map(function(wr){return[[wr[0][0]*P,wr[0][1]*P],[wr[1][0]*P,wr[1][1]*P],[wr[2][0]*P,wr[2][1]*P]]})})},ee!=null&&Ne.lobes(ee),Ne}var Rl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function _c(){return no(Xt,Rl).scale(160.857)}var sf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function $i(){return no(En,sf).scale(152.63)}var hu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function wc(){return no(Pt,hu).scale(169.529)}var Ja=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function wo(){return no(Pt,Ja).scale(169.529).rotate([20,0])}var Dl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function qu(){return no(Tn,Dl,kt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var za=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Fl(){return no(ue,za).scale(152.63).rotate([-20,0])}function Ba(Zt,ee){return[3/T*Zt*R(a*a/3-ee*ee),ee]}Ba.invert=function(Zt,ee){return[T/3*Zt/R(a*a/3-ee*ee),ee]};function qa(){return(0,x.c)(Ba).scale(158.837)}function Bl(Zt){function ee(pe,_e){if(E(E(_e)-c)<f)return[0,_e<0?-2:2];var Pe=h(_e),Se=n((1+Pe)/(1-Pe),Zt/2),Ne=.5*(Se+1/Se)+m(pe*=Zt);return[2*h(pe)/Ne,(Se-1/Se)/Ne]}return ee.invert=function(pe,_e){var Pe=E(_e);if(E(Pe-2)<f)return pe?null:[0,o(_e)*c];if(Pe>2)return null;pe/=2,_e/=2;var Se=pe*pe,Ne=_e*_e,ur=2*_e/(1+Se+Ne);return ur=n((1+ur)/(1-ur),1/Zt),[M(2*pe,1-Se-Ne)/Zt,L((ur-1)/(ur+1))]},ee}function io(){var Zt=.5,ee=(0,x.U)(Bl),pe=ee(Zt);return pe.spacing=function(_e){return arguments.length?ee(Zt=+_e):Zt},pe.scale(124.75)}var ao=a/S;function Bo(Zt,ee){return[Zt*(1+R(m(ee)))/2,ee/(m(ee/2)*m(Zt/6))]}Bo.invert=function(Zt,ee){var pe=E(Zt),_e=E(ee),Pe=f,Se=c;_e<ao?Se*=_e/ao:Pe+=6*A(ao/_e);for(var Ne=0;Ne<25;Ne++){var ur=h(Se),gr=R(m(Se)),nr=h(Se/2),wr=m(Se/2),Cr=h(Pe/6),Fr=m(Pe/6),tn=.5*Pe*(1+gr)-pe,xn=Se/(wr*Fr)-_e,Ln=gr?-.25*Pe*ur/gr:0,Cn=.5*(1+gr),Gn=(1+.5*Se*nr/wr)/(wr*Fr),Ii=Se/wr*(Cr/6)/(Fr*Fr),Oi=Ln*Ii-Gn*Cn,Di=(tn*Ii-xn*Cn)/Oi,Hi=(xn*Ln-tn*Gn)/Oi;if(Se-=Di,Pe-=Hi,E(Di)<f&&E(Hi)<f)break}return[Zt<0?-Pe:Pe,ee<0?-Se:Se]};function lf(){return(0,x.c)(Bo).scale(97.2672)}function Lo(Zt,ee){var pe=Zt*Zt,_e=ee*ee;return[Zt*(.975534+_e*(-.119161+pe*-.0143059+_e*-.0547009)),ee*(1.00384+pe*(.0802894+_e*-.02855+pe*199025e-9)+_e*(.0998909+_e*-.0491032))]}Lo.invert=function(Zt,ee){var pe=o(Zt)*a,_e=ee/2,Pe=50;do{var Se=pe*pe,Ne=_e*_e,ur=pe*_e,gr=pe*(.975534+Ne*(-.119161+Se*-.0143059+Ne*-.0547009))-Zt,nr=_e*(1.00384+Se*(.0802894+Ne*-.02855+Se*199025e-9)+Ne*(.0998909+Ne*-.0491032))-ee,wr=.975534-Ne*(.119161+3*Se*.0143059+Ne*.0547009),Cr=-ur*(2*.119161+4*.0547009*Ne+2*.0143059*Se),Fr=ur*(2*.0802894+4*199025e-9*Se+2*-.02855*Ne),tn=1.00384+Se*(.0802894+199025e-9*Se)+Ne*(3*(.0998909-.02855*Se)-5*.0491032*Ne),xn=Cr*Fr-tn*wr,Ln=(nr*Cr-gr*tn)/xn,Cn=(gr*Fr-nr*wr)/xn;pe-=Ln,_e-=Cn}while((E(Ln)>f||E(Cn)>f)&&--Pe>0);return Pe&&[pe,_e]};function gh(){return(0,x.c)(Lo).scale(139.98)}function gs(Zt,ee){return[h(Zt)/m(ee),b(ee)*m(Zt)]}gs.invert=function(Zt,ee){var pe=Zt*Zt,_e=ee*ee,Pe=_e+1,Se=pe+Pe,Ne=Zt?w*R((Se-R(Se*Se-4*pe))/pe):1/R(Pe);return[L(Zt*Ne),o(ee)*A(Ne)]};function Qa(){return(0,x.c)(gs).scale(144.049).clipAngle(89.999)}function kc(Zt){var ee=m(Zt),pe=b(p+Zt/2);function _e(Pe,Se){var Ne=Se-Zt,ur=E(Ne)<f?Pe*ee:E(ur=p+Se/2)<f||E(E(ur)-c)<f?0:Pe*Ne/r(b(ur)/pe);return[ur,Ne]}return _e.invert=function(Pe,Se){var Ne,ur=Se+Zt;return[E(Se)<f?Pe/ee:E(Ne=p+ur/2)<f||E(E(Ne)-c)<f?0:Pe*r(b(Ne)/pe)/Se,ur]},_e}function Ys(){return Yt(kc).parallel(40).scale(158.837)}function ys(Zt,ee){return[Zt,1.25*r(b(p+.4*ee))]}ys.invert=function(Zt,ee){return[Zt,2.5*i(d(.8*ee))-.625*a]};function Tc(){return(0,x.c)(ys).scale(108.318)}function uf(Zt){var ee=Zt.length-1;function pe(_e,Pe){for(var Se=m(Pe),Ne=2/(1+Se*m(_e)),ur=Ne*Se*h(_e),gr=Ne*h(Pe),nr=ee,wr=Zt[nr],Cr=wr[0],Fr=wr[1],tn;--nr>=0;)wr=Zt[nr],Cr=wr[0]+ur*(tn=Cr)-gr*Fr,Fr=wr[1]+ur*Fr+gr*tn;return Cr=ur*(tn=Cr)-gr*Fr,Fr=ur*Fr+gr*tn,[Cr,Fr]}return pe.invert=function(_e,Pe){var Se=20,Ne=_e,ur=Pe;do{for(var gr=ee,nr=Zt[gr],wr=nr[0],Cr=nr[1],Fr=0,tn=0,xn;--gr>=0;)nr=Zt[gr],Fr=wr+Ne*(xn=Fr)-ur*tn,tn=Cr+Ne*tn+ur*xn,wr=nr[0]+Ne*(xn=wr)-ur*Cr,Cr=nr[1]+Ne*Cr+ur*xn;Fr=wr+Ne*(xn=Fr)-ur*tn,tn=Cr+Ne*tn+ur*xn,wr=Ne*(xn=wr)-ur*Cr-_e,Cr=Ne*Cr+ur*xn-Pe;var Ln=Fr*Fr+tn*tn,Cn,Gn;Ne-=Cn=(wr*Fr+Cr*tn)/Ln,ur-=Gn=(Cr*Fr-wr*tn)/Ln}while(E(Cn)+E(Gn)>f*f&&--Se>0);if(Se){var Ii=R(Ne*Ne+ur*ur),Oi=2*i(Ii*.5),Di=h(Oi);return[M(Ne*Di,Ii*m(Oi)),Ii?L(ur*Di/Ii):0]}},pe}var yh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Wu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],mh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],xh=[[.9245,0],[0,0],[.01943,0]],bh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Mc(){return dl(yh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function _h(){return dl(Wu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function wh(){return dl(mh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function cf(){return dl(xh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function ff(){return dl(bh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function dl(Zt,ee){var pe=(0,x.c)(uf(Zt)).rotate(ee).clipAngle(90),_e=(0,te.c)(ee),Pe=pe.center;return delete pe.rotate,pe.center=function(Se){return arguments.length?Pe(_e(Se)):_e.invert(Pe())},pe}var Nl=R(6),pu=R(7);function du(Zt,ee){var pe=L(7*h(ee)/(3*Nl));return[Nl*Zt*(2*m(2*pe/3)-1)/pu,9*h(pe/3)/pu]}du.invert=function(Zt,ee){var pe=3*L(ee*pu/9);return[Zt*pu/(Nl*(2*m(2*pe/3)-1)),L(h(pe)*3*Nl/7)]};function hf(){return(0,x.c)(du).scale(164.859)}function Ps(Zt,ee){for(var pe=(1+w)*h(ee),_e=ee,Pe=0,Se;Pe<25&&(_e-=Se=(h(_e/2)+h(_e)-pe)/(.5*m(_e/2)+m(_e)),!(E(Se)<f));Pe++);return[Zt*(1+2*m(_e)/m(_e/2))/(3*S),2*R(3)*h(_e/2)/R(2+S)]}Ps.invert=function(Zt,ee){var pe=ee*R(2+S)/(2*R(3)),_e=2*L(pe);return[3*S*Zt/(1+2*m(_e)/m(_e/2)),L((pe+h(_e))/(1+w))]};function kh(){return(0,x.c)(Ps).scale(188.209)}function Gu(Zt,ee){for(var pe=R(6/(4+a)),_e=(1+a/4)*h(ee),Pe=ee/2,Se=0,Ne;Se<25&&(Pe-=Ne=(Pe/2+h(Pe)-_e)/(.5+m(Pe)),!(E(Ne)<f));Se++);return[pe*(.5+m(Pe))*Zt/1.5,pe*Pe]}Gu.invert=function(Zt,ee){var pe=R(6/(4+a)),_e=ee/pe;return E(E(_e)-c)<f&&(_e=_e<0?-c:c),[1.5*Zt/(pe*(.5+m(_e))),L((_e/2+h(_e))/(1+a/4))]};function pf(){return(0,x.c)(Gu).scale(166.518)}var df=t(47984);function Zu(Zt,ee){var pe=ee*ee,_e=pe*pe,Pe=pe*_e;return[Zt*(.84719-.13063*pe+Pe*Pe*(-.04515+.05494*pe-.02326*_e+.00331*Pe)),ee*(1.01183+_e*_e*(-.02625+.01926*pe-.00396*_e))]}Zu.invert=function(Zt,ee){var pe=ee,_e=25,Pe,Se,Ne,ur;do Se=pe*pe,Ne=Se*Se,pe-=Pe=(pe*(1.01183+Ne*Ne*(-.02625+.01926*Se-.00396*Ne))-ee)/(1.01183+Ne*Ne*(-.23625+.21186*Se+-.05148*Ne));while(E(Pe)>k&&--_e>0);return Se=pe*pe,Ne=Se*Se,ur=Se*Ne,[Zt/(.84719-.13063*Se+ur*ur*(-.04515+.05494*Se-.02326*Ne+.00331*ur)),pe]};function ts(){return(0,x.c)(Zu).scale(175.295)}function jl(Zt,ee){return[Zt*(1+m(ee))/2,2*(ee-b(ee/2))]}jl.invert=function(Zt,ee){for(var pe=ee/2,_e=0,Pe=1/0;_e<10&&E(Pe)>f;++_e){var Se=m(ee/2);ee-=Pe=(ee-b(ee/2)-pe)/(1-.5/(Se*Se))}return[2*Zt/(1+m(ee)),ee]};function vl(){return(0,x.c)(jl).scale(152.63)}var vu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ks(){return no(at(1/0),vu).rotate([20,0]).scale(152.63)}function ms(Zt,ee){var pe=h(ee),_e=m(ee),Pe=o(Zt);if(Zt===0||E(ee)===c)return[0,ee];if(ee===0)return[Zt,0];if(E(Zt)===c)return[Zt*_e,c*pe];var Se=a/(2*Zt)-2*Zt/a,Ne=2*ee/a,ur=(1-Ne*Ne)/(pe-Ne),gr=Se*Se,nr=ur*ur,wr=1+gr/nr,Cr=1+nr/gr,Fr=(Se*pe/ur-Se/2)/wr,tn=(nr*pe/gr+ur/2)/Cr,xn=Fr*Fr+_e*_e/wr,Ln=tn*tn-(nr*pe*pe/gr+ur*pe-1)/Cr;return[c*(Fr+R(xn)*Pe),c*(tn+R(Ln<0?0:Ln)*o(-ee*Se)*Pe)]}ms.invert=function(Zt,ee){Zt/=c,ee/=c;var pe=Zt*Zt,_e=ee*ee,Pe=pe+_e,Se=a*a;return[Zt?(Pe-1+R((1-Pe)*(1-Pe)+4*pe))/(2*Zt)*c:0,wt(function(Ne){return Pe*(a*h(Ne)-2*Ne)*a+4*Ne*Ne*(ee-h(Ne))+2*a*Ne-Se*ee},0)]};function Ac(){return(0,x.c)(ms).scale(127.267)}var Hl=1.0148,es=.23185,Pa=-.14499,Sc=.02406,Th=Hl,Yu=5*es,Vl=7*Pa,Xl=9*Sc,Po=1.790857183;function Ku(Zt,ee){var pe=ee*ee;return[Zt,ee*(Hl+pe*pe*(es+pe*(Pa+Sc*pe)))]}Ku.invert=function(Zt,ee){ee>Po?ee=Po:ee<-Po&&(ee=-Po);var pe=ee,_e;do{var Pe=pe*pe;pe-=_e=(pe*(Hl+Pe*Pe*(es+Pe*(Pa+Sc*Pe)))-ee)/(Th+Pe*Pe*(Yu+Pe*(Vl+Xl*Pe)))}while(E(_e)>f);return[Zt,pe]};function Ul(){return(0,x.c)(Ku).scale(139.319)}function Ju(Zt,ee){if(E(ee)<f)return[Zt,0];var pe=b(ee),_e=Zt*h(ee);return[h(_e)/pe,ee+(1-m(_e))/pe]}Ju.invert=function(Zt,ee){if(E(ee)<f)return[Zt,0];var pe=Zt*Zt+ee*ee,_e=ee*.5,Pe=10,Se;do{var Ne=b(_e),ur=1/m(_e),gr=pe-2*ee*_e+_e*_e;_e-=Se=(Ne*gr+2*(_e-ee))/(2+gr*ur*ur+2*(_e-ee)*Ne)}while(E(Se)>f&&--Pe>0);return Ne=b(_e),[(E(ee)<E(_e+1/Ne)?L(Zt*Ne):o(ee)*o(Zt)*(A(E(Zt*Ne))+c))/h(_e),_e]};function Mh(){return(0,x.c)(Ju).scale(103.74)}var vf=t(13696),Ec=t(27284);function Lc(Zt,ee){var pe=Qu(Zt[1],Zt[0]),_e=Qu(ee[1],ee[0]),Pe=$u(pe,_e),Se=gu(pe)/gu(_e);return ql([1,0,Zt[0][0],0,1,Zt[0][1]],ql([Se,0,0,0,Se,0],ql([m(Pe),h(Pe),0,-h(Pe),m(Pe),0],[1,0,-ee[0][0],0,1,-ee[0][1]])))}function Pc(Zt){var ee=1/(Zt[0]*Zt[4]-Zt[1]*Zt[3]);return[ee*Zt[4],-ee*Zt[1],ee*(Zt[1]*Zt[5]-Zt[2]*Zt[4]),-ee*Zt[3],ee*Zt[0],ee*(Zt[2]*Zt[3]-Zt[0]*Zt[5])]}function ql(Zt,ee){return[Zt[0]*ee[0]+Zt[1]*ee[3],Zt[0]*ee[1]+Zt[1]*ee[4],Zt[0]*ee[2]+Zt[1]*ee[5]+Zt[2],Zt[3]*ee[0]+Zt[4]*ee[3],Zt[3]*ee[1]+Zt[4]*ee[4],Zt[3]*ee[2]+Zt[4]*ee[5]+Zt[5]]}function Qu(Zt,ee){return[Zt[0]-ee[0],Zt[1]-ee[1]]}function gu(Zt){return R(Zt[0]*Zt[0]+Zt[1]*Zt[1])}function $u(Zt,ee){return M(Zt[0]*ee[1]-Zt[1]*ee[0],Zt[0]*ee[0]+Zt[1]*ee[1])}function da(Zt,ee,pe){_e(Zt,{transform:null});function _e(nr,wr){if(nr.edges=Cc(nr.face),wr.face){var Cr=nr.shared=yf(nr.face,wr.face),Fr=Lc(Cr.map(wr.project),Cr.map(nr.project));nr.transform=wr.transform?ql(wr.transform,Fr):Fr;for(var tn=wr.edges,xn=0,Ln=tn.length;xn<Ln;++xn)rs(Cr[0],tn[xn][1])&&rs(Cr[1],tn[xn][0])&&(tn[xn]=nr),rs(Cr[0],tn[xn][0])&&rs(Cr[1],tn[xn][1])&&(tn[xn]=nr);for(tn=nr.edges,xn=0,Ln=tn.length;xn<Ln;++xn)rs(Cr[0],tn[xn][0])&&rs(Cr[1],tn[xn][1])&&(tn[xn]=wr),rs(Cr[0],tn[xn][1])&&rs(Cr[1],tn[xn][0])&&(tn[xn]=wr)}else nr.transform=wr.transform;return nr.children&&nr.children.forEach(function(Cn){_e(Cn,nr)}),nr}function Pe(nr,wr){var Cr=ee(nr,wr),Fr=Cr.project([nr*P,wr*P]),tn;return(tn=Cr.transform)?[tn[0]*Fr[0]+tn[1]*Fr[1]+tn[2],-(tn[3]*Fr[0]+tn[4]*Fr[1]+tn[5])]:(Fr[1]=-Fr[1],Fr)}yl(Zt)&&(Pe.invert=function(nr,wr){var Cr=Se(Zt,[nr,-wr]);return Cr&&(Cr[0]*=u,Cr[1]*=u,Cr)});function Se(nr,wr){var Cr=nr.project.invert,Fr=nr.transform,tn=wr;if(Fr&&(Fr=Pc(Fr),tn=[Fr[0]*tn[0]+Fr[1]*tn[1]+Fr[2],Fr[3]*tn[0]+Fr[4]*tn[1]+Fr[5]]),Cr&&nr===Ne(xn=Cr(tn)))return xn;for(var xn,Ln=nr.children,Cn=0,Gn=Ln&&Ln.length;Cn<Gn;++Cn)if(xn=Se(Ln[Cn],wr))return xn}function Ne(nr){return ee(nr[0]*u,nr[1]*u)}var ur=(0,x.c)(Pe),gr=ur.stream;return ur.stream=function(nr){var wr=ur.rotate(),Cr=gr(nr),Fr=(ur.rotate([0,0]),gr(nr));return ur.rotate(wr),Cr.sphere=function(){Fr.polygonStart(),Fr.lineStart(),gf(Fr,Zt),Fr.lineEnd(),Fr.polygonEnd()},Cr},ur.angle(pe==null?-30:pe*P)}function gf(Zt,ee,pe){var _e,Pe=ee.edges,Se=Pe.length,Ne,ur={type:"MultiPoint",coordinates:ee.face},gr=ee.face.filter(function(Ln){return E(Ln[1])!==90}),nr=(0,vf.c)({type:"MultiPoint",coordinates:gr}),wr=!1,Cr=-1,Fr=nr[1][0]-nr[0][0],tn=Fr===180||Fr===360?[(nr[0][0]+nr[1][0])/2,(nr[0][1]+nr[1][1])/2]:(0,Vt.c)(ur);if(pe)for(;++Cr<Se&&Pe[Cr]!==pe;);++Cr;for(var xn=0;xn<Se;++xn)Ne=Pe[(xn+Cr)%Se],Array.isArray(Ne)?(wr||(Zt.point((_e=(0,Ec.c)(Ne[0],tn)(f))[0],_e[1]),wr=!0),Zt.point((_e=(0,Ec.c)(Ne[1],tn)(f))[0],_e[1])):(wr=!1,Ne!==pe&&gf(Zt,Ne,ee))}function rs(Zt,ee){return Zt&&ee&&Zt[0]===ee[0]&&Zt[1]===ee[1]}function yf(Zt,ee){for(var pe,_e,Pe=Zt.length,Se=null,Ne=0;Ne<Pe;++Ne){pe=Zt[Ne];for(var ur=ee.length;--ur>=0;)if(_e=ee[ur],pe[0]===_e[0]&&pe[1]===_e[1]){if(Se)return[Se,pe];Se=pe}}}function Cc(Zt){for(var ee=Zt.length,pe=[],_e=Zt[ee-1],Pe=0;Pe<ee;++Pe)pe.push([_e,_e=Zt[Pe]]);return pe}function yl(Zt){return Zt.project.invert||Zt.children&&Zt.children.some(yl)}var Js=t(53285),tc=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ra=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Zt){return Zt.map(function(ee){return tc[ee]})});function yu(Zt){Zt=Zt||function(pe){var _e=(0,Vt.c)({type:"MultiPoint",coordinates:pe});return(0,Js.c)().scale(1).translate([0,0]).rotate([-_e[0],-_e[1]])};var ee=Ra.map(function(pe){return{face:pe,project:Zt(pe)}});return[-1,0,0,1,0,1,4,5].forEach(function(pe,_e){var Pe=ee[pe];Pe&&(Pe.children||(Pe.children=[])).push(ee[_e])}),da(ee[0],function(pe,_e){return ee[pe<-a/2?_e<0?6:4:pe<0?_e<0?2:0:pe<a/2?_e<0?3:1:_e<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ns=2/R(3);function Cs(Zt,ee){var pe=Ft(Zt,ee);return[pe[0]*ns,pe[1]]}Cs.invert=function(Zt,ee){return Ft.invert(Zt/ns,ee)};function ml(Zt){Zt=Zt||function(pe){var _e=(0,Vt.c)({type:"MultiPoint",coordinates:pe});return(0,x.c)(Cs).translate([0,0]).scale(1).rotate(_e[1]>0?[-_e[0],0]:[180-_e[0],180])};var ee=Ra.map(function(pe){return{face:pe,project:Zt(pe)}});return[-1,0,0,1,0,1,4,5].forEach(function(pe,_e){var Pe=ee[pe];Pe&&(Pe.children||(Pe.children=[])).push(ee[_e])}),da(ee[0],function(pe,_e){return ee[pe<-a/2?_e<0?6:4:pe<0?_e<0?2:0:pe<a/2?_e<0?3:1:_e<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Qs(Zt){Zt=Zt||function(Ne){var ur=Ne.length===6?(0,Vt.c)({type:"MultiPoint",coordinates:Ne}):Ne[0];return(0,Js.c)().scale(1).translate([0,0]).rotate([-ur[0],-ur[1]])};var ee=Ra.map(function(Ne){for(var ur=Ne.map(Uo),gr=ur.length,nr=ur[gr-1],wr,Cr=[],Fr=0;Fr<gr;++Fr)wr=ur[Fr],Cr.push(as([nr[0]*.9486832980505138+wr[0]*.31622776601683794,nr[1]*.9486832980505138+wr[1]*.31622776601683794,nr[2]*.9486832980505138+wr[2]*.31622776601683794]),as([wr[0]*.9486832980505138+nr[0]*.31622776601683794,wr[1]*.9486832980505138+nr[1]*.31622776601683794,wr[2]*.9486832980505138+nr[2]*.31622776601683794])),nr=wr;return Cr}),pe=[],_e=[-1,0,0,1,0,1,4,5];ee.forEach(function(Ne,ur){for(var gr=Ra[ur],nr=gr.length,wr=pe[ur]=[],Cr=0;Cr<nr;++Cr)ee.push([gr[Cr],Ne[(Cr*2+2)%(2*nr)],Ne[(Cr*2+1)%(2*nr)]]),_e.push(ur),wr.push(Is(Uo(Ne[(Cr*2+2)%(2*nr)]),Uo(Ne[(Cr*2+1)%(2*nr)])))});var Pe=ee.map(function(Ne){return{project:Zt(Ne),face:Ne}});_e.forEach(function(Ne,ur){var gr=Pe[Ne];gr&&(gr.children||(gr.children=[])).push(Pe[ur])});function Se(Ne,ur){var gr=m(ur),nr=[gr*m(Ne),gr*h(Ne),h(ur)],wr=Ne<-a/2?ur<0?6:4:Ne<0?ur<0?2:0:Ne<a/2?ur<0?3:1:ur<0?7:5,Cr=pe[wr];return Pe[is(Cr[0],nr)<0?8+3*wr:is(Cr[1],nr)<0?8+3*wr+1:is(Cr[2],nr)<0?8+3*wr+2:wr]}return da(Pe[0],Se).angle(-30).scale(110.625).center([0,45])}function is(Zt,ee){for(var pe=0,_e=Zt.length,Pe=0;pe<_e;++pe)Pe+=Zt[pe]*ee[pe];return Pe}function Is(Zt,ee){return[Zt[1]*ee[2]-Zt[2]*ee[1],Zt[2]*ee[0]-Zt[0]*ee[2],Zt[0]*ee[1]-Zt[1]*ee[0]]}function as(Zt){return[M(Zt[1],Zt[0])*P,L(e(-1,s(1,Zt[2])))*P]}function Uo(Zt){var ee=Zt[0]*u,pe=Zt[1]*u,_e=m(pe);return[_e*m(ee),_e*h(ee),h(pe)]}function mu(){}function Ah(Zt){if((pe=Zt.length)<4)return!1;for(var ee=0,pe,_e=Zt[pe-1][1]*Zt[0][0]-Zt[pe-1][0]*Zt[0][1];++ee<pe;)_e+=Zt[ee-1][1]*Zt[ee][0]-Zt[ee-1][0]*Zt[ee][1];return _e<=0}function Sh(Zt,ee){for(var pe=ee[0],_e=ee[1],Pe=!1,Se=0,Ne=Zt.length,ur=Ne-1;Se<Ne;ur=Se++){var gr=Zt[Se],nr=gr[0],wr=gr[1],Cr=Zt[ur],Fr=Cr[0],tn=Cr[1];wr>_e^tn>_e&&pe<(Fr-nr)*(_e-wr)/(tn-wr)+nr&&(Pe=!Pe)}return Pe}function Eh(Zt,ee){var pe=ee.stream,_e;if(!pe)throw new Error("invalid projection");switch(Zt&&Zt.type){case"Feature":_e=Ic;break;case"FeatureCollection":_e=Lh;break;default:_e=Wl;break}return _e(Zt,pe)}function Lh(Zt,ee){return{type:"FeatureCollection",features:Zt.features.map(function(pe){return Ic(pe,ee)})}}function Ic(Zt,ee){return{type:"Feature",id:Zt.id,properties:Zt.properties,geometry:Wl(Zt.geometry,ee)}}function mf(Zt,ee){return{type:"GeometryCollection",geometries:Zt.geometries.map(function(pe){return Wl(pe,ee)})}}function Wl(Zt,ee){if(!Zt)return null;if(Zt.type==="GeometryCollection")return mf(Zt,ee);var pe;switch(Zt.type){case"Point":pe=Gl;break;case"MultiPoint":pe=Gl;break;case"LineString":pe=xf;break;case"MultiLineString":pe=xf;break;case"Polygon":pe=xu;break;case"MultiPolygon":pe=xu;break;case"Sphere":pe=xu;break;default:return null}return(0,pi.c)(Zt,ee(pe)),pe.result()}var $a=[],No=[],Gl={point:function(Zt,ee){$a.push([Zt,ee])},result:function(){var Zt=$a.length?$a.length<2?{type:"Point",coordinates:$a[0]}:{type:"MultiPoint",coordinates:$a}:null;return $a=[],Zt}},xf={lineStart:mu,point:function(Zt,ee){$a.push([Zt,ee])},lineEnd:function(){$a.length&&(No.push($a),$a=[])},result:function(){var Zt=No.length?No.length<2?{type:"LineString",coordinates:No[0]}:{type:"MultiLineString",coordinates:No}:null;return No=[],Zt}},xu={polygonStart:mu,lineStart:mu,point:function(Zt,ee){$a.push([Zt,ee])},lineEnd:function(){var Zt=$a.length;if(Zt){do $a.push($a[0].slice());while(++Zt<4);No.push($a),$a=[]}},polygonEnd:mu,result:function(){if(!No.length)return null;var Zt=[],ee=[];return No.forEach(function(pe){Ah(pe)?Zt.push([pe]):ee.push(pe)}),ee.forEach(function(pe){var _e=pe[0];Zt.some(function(Pe){if(Sh(Pe[0],_e))return Pe.push(pe),!0})||Zt.push([pe])}),No=[],Zt.length?Zt.length>1?{type:"MultiPolygon",coordinates:Zt}:{type:"Polygon",coordinates:Zt[0]}:null}};function Os(Zt){var ee=Zt(c,0)[0]-Zt(-c,0)[0];function pe(_e,Pe){var Se=E(_e)<c,Ne=Zt(Se?_e:_e>0?_e-a:_e+a,Pe),ur=(Ne[0]-Ne[1])*w,gr=(Ne[0]+Ne[1])*w;if(Se)return[ur,gr];var nr=ee*w,wr=ur>0^gr>0?-1:1;return[wr*ur-o(gr)*nr,wr*gr-o(ur)*nr]}return Zt.invert&&(pe.invert=function(_e,Pe){var Se=(_e+Pe)*w,Ne=(Pe-_e)*w,ur=E(Se)<.5*ee&&E(Ne)<.5*ee;if(!ur){var gr=ee*w,nr=Se>0^Ne>0?-1:1,wr=-nr*_e+(Ne>0?1:-1)*gr,Cr=-nr*Pe+(Se>0?1:-1)*gr;Se=(-wr-Cr)*w,Ne=(wr-Cr)*w}var Fr=Zt.invert(Se,Ne);return ur||(Fr[0]+=Se>0?a:-a),Fr}),(0,x.c)(pe).rotate([-90,-90,45]).clipAngle(179.999)}function Ph(){return Os(ln).scale(176.423)}function bf(){return Os(yr).scale(111.48)}function _f(Zt,ee){if(!(0<=(ee=+ee)&&ee<=20))throw new Error("invalid digits");function pe(nr){var wr=nr.length,Cr=2,Fr=new Array(wr);for(Fr[0]=+nr[0].toFixed(ee),Fr[1]=+nr[1].toFixed(ee);Cr<wr;)Fr[Cr]=nr[Cr],++Cr;return Fr}function _e(nr){return nr.map(pe)}function Pe(nr){for(var wr=pe(nr[0]),Cr=[wr],Fr=1;Fr<nr.length;Fr++){var tn=pe(nr[Fr]);(tn.length>2||tn[0]!=wr[0]||tn[1]!=wr[1])&&(Cr.push(tn),wr=tn)}return Cr.length===1&&nr.length>1&&Cr.push(pe(nr[nr.length-1])),Cr}function Se(nr){return nr.map(Pe)}function Ne(nr){if(nr==null)return nr;var wr;switch(nr.type){case"GeometryCollection":wr={type:"GeometryCollection",geometries:nr.geometries.map(Ne)};break;case"Point":wr={type:"Point",coordinates:pe(nr.coordinates)};break;case"MultiPoint":wr={type:nr.type,coordinates:_e(nr.coordinates)};break;case"LineString":wr={type:nr.type,coordinates:Pe(nr.coordinates)};break;case"MultiLineString":case"Polygon":wr={type:nr.type,coordinates:Se(nr.coordinates)};break;case"MultiPolygon":wr={type:"MultiPolygon",coordinates:nr.coordinates.map(Se)};break;default:return nr}return nr.bbox!=null&&(wr.bbox=nr.bbox),wr}function ur(nr){var wr={type:"Feature",properties:nr.properties,geometry:Ne(nr.geometry)};return nr.id!=null&&(wr.id=nr.id),nr.bbox!=null&&(wr.bbox=nr.bbox),wr}if(Zt!=null)switch(Zt.type){case"Feature":return ur(Zt);case"FeatureCollection":{var gr={type:"FeatureCollection",features:Zt.features.map(ur)};return Zt.bbox!=null&&(gr.bbox=Zt.bbox),gr}default:return Ne(Zt)}return Zt}function Oc(Zt){var ee=h(Zt);function pe(_e,Pe){var Se=ee?b(_e*ee/2)/ee:_e/2;if(!Pe)return[2*Se,-Zt];var Ne=2*i(Se*h(Pe)),ur=1/b(Pe);return[h(Ne)*ur,Pe+(1-m(Ne))*ur-Zt]}return pe.invert=function(_e,Pe){if(E(Pe+=Zt)<f)return[ee?2*i(ee*_e/2)/ee:_e,0];var Se=_e*_e+Pe*Pe,Ne=0,ur=10,gr;do{var nr=b(Ne),wr=1/m(Ne),Cr=Se-2*Pe*Ne+Ne*Ne;Ne-=gr=(nr*Cr+2*(Ne-Pe))/(2+Cr*wr*wr+2*(Ne-Pe)*nr)}while(E(gr)>f&&--ur>0);var Fr=_e*(nr=b(Ne)),tn=b(E(Pe)<E(Ne+1/nr)?L(Fr)*.5:A(Fr)*.5+a/4)/h(Ne);return[ee?2*i(ee*tn)/ee:2*tn,Ne]},pe}function wf(){return Yt(Oc).scale(131.215)}var ko=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];ko.forEach(function(Zt){Zt[1]*=1.0144});function os(Zt,ee){var pe=s(18,E(ee)*36/a),_e=v(pe),Pe=pe-_e,Se=(Cr=ko[_e])[0],Ne=Cr[1],ur=(Cr=ko[++_e])[0],gr=Cr[1],nr=(Cr=ko[s(19,++_e)])[0],wr=Cr[1],Cr;return[Zt*(ur+Pe*(nr-Se)/2+Pe*Pe*(nr-2*ur+Se)/2),(ee>0?c:-c)*(gr+Pe*(wr-Ne)/2+Pe*Pe*(wr-2*gr+Ne)/2)]}os.invert=function(Zt,ee){var pe=ee/c,_e=pe*90,Pe=s(18,E(_e/5)),Se=e(0,v(Pe));do{var Ne=ko[Se][1],ur=ko[Se+1][1],gr=ko[s(19,Se+2)][1],nr=gr-Ne,wr=gr-2*ur+Ne,Cr=2*(E(pe)-ur)/nr,Fr=wr/nr,tn=Cr*(1-Fr*Cr*(1-2*Fr*Cr));if(tn>=0||Se===1){_e=(ee>=0?5:-5)*(tn+Pe);var xn=50,Ln;do Pe=s(18,E(_e)/5),Se=v(Pe),tn=Pe-Se,Ne=ko[Se][1],ur=ko[Se+1][1],gr=ko[s(19,Se+2)][1],_e-=(Ln=(ee>=0?c:-c)*(ur+tn*(gr-Ne)/2+tn*tn*(gr-2*ur+Ne)/2)-ee)*P;while(E(Ln)>k&&--xn>0);break}}while(--Se>=0);var Cn=ko[Se][0],Gn=ko[Se+1][0],Ii=ko[s(19,Se+2)][0];return[Zt/(Gn+tn*(Ii-Cn)/2+tn*tn*(Ii-2*Gn+Cn)/2),_e*u]};function $s(){return(0,x.c)(os).scale(152.63)}function Zl(Zt){function ee(pe,_e){var Pe=m(_e),Se=(Zt-1)/(Zt-Pe*m(pe));return[Se*Pe*h(pe),Se*h(_e)]}return ee.invert=function(pe,_e){var Pe=pe*pe+_e*_e,Se=R(Pe),Ne=(Zt-R(1-Pe*(Zt+1)/(Zt-1)))/((Zt-1)/Se+Se/(Zt-1));return[M(pe*Ne,Se*R(1-Ne*Ne)),Se?L(_e*Ne/Se):0]},ee}function ec(Zt,ee){var pe=Zl(Zt);if(!ee)return pe;var _e=m(ee),Pe=h(ee);function Se(Ne,ur){var gr=pe(Ne,ur),nr=gr[1],wr=nr*Pe/(Zt-1)+_e;return[gr[0]*_e/wr,nr/wr]}return Se.invert=function(Ne,ur){var gr=(Zt-1)/(Zt-1-ur*Pe);return pe.invert(gr*Ne,gr*ur*_e)},Se}function xl(){var Zt=2,ee=0,pe=(0,x.U)(ec),_e=pe(Zt,ee);return _e.distance=function(Pe){return arguments.length?pe(Zt=+Pe,ee):Zt},_e.tilt=function(Pe){return arguments.length?pe(Zt,ee=Pe*u):ee*P},_e.scale(432.147).clipAngle(A(1/Zt)*P-1e-6)}var bl=1e-4,kf=1e4,zs=-180,Yl=zs+bl,tl=180,Rs=tl-bl,bu=-90,Kl=bu+bl,ua=90,Jl=ua-bl;function rc(Zt){return Zt.length>0}function Tf(Zt){return Math.floor(Zt*kf)/kf}function Ql(Zt){return Zt===bu||Zt===ua?[0,Zt]:[zs,Tf(Zt)]}function _u(Zt){var ee=Zt[0],pe=Zt[1],_e=!1;return ee<=Yl?(ee=zs,_e=!0):ee>=Rs&&(ee=tl,_e=!0),pe<=Kl?(pe=bu,_e=!0):pe>=Jl&&(pe=ua,_e=!0),_e?[ee,pe]:Zt}function nc(Zt){return Zt.map(_u)}function zc(Zt,ee,pe){for(var _e=0,Pe=Zt.length;_e<Pe;++_e){var Se=Zt[_e].slice();pe.push({index:-1,polygon:ee,ring:Se});for(var Ne=0,ur=Se.length;Ne<ur;++Ne){var gr=Se[Ne],nr=gr[0],wr=gr[1];if(nr<=Yl||nr>=Rs||wr<=Kl||wr>=Jl){Se[Ne]=_u(gr);for(var Cr=Ne+1;Cr<ur;++Cr){var Fr=Se[Cr],tn=Fr[0],xn=Fr[1];if(tn>Yl&&tn<Rs&&xn>Kl&&xn<Jl)break}if(Cr===Ne+1)continue;if(Ne){var Ln={index:-1,polygon:ee,ring:Se.slice(0,Ne+1)};Ln.ring[Ln.ring.length-1]=Ql(wr),pe[pe.length-1]=Ln}else pe.pop();if(Cr>=ur)break;pe.push({index:-1,polygon:ee,ring:Se=Se.slice(Cr-1)}),Se[0]=Ql(Se[0][1]),Ne=-1,ur=Se.length}}}}function wu(Zt){var ee,pe=Zt.length,_e={},Pe={},Se,Ne,ur,gr,nr;for(ee=0;ee<pe;++ee){if(Se=Zt[ee],Ne=Se.ring[0],gr=Se.ring[Se.ring.length-1],Ne[0]===gr[0]&&Ne[1]===gr[1]){Se.polygon.push(Se.ring),Zt[ee]=null;continue}Se.index=ee,_e[Ne]=Pe[gr]=Se}for(ee=0;ee<pe;++ee)if(Se=Zt[ee],Se){if(Ne=Se.ring[0],gr=Se.ring[Se.ring.length-1],ur=Pe[Ne],nr=_e[gr],delete _e[Ne],delete Pe[gr],Ne[0]===gr[0]&&Ne[1]===gr[1]){Se.polygon.push(Se.ring);continue}ur?(delete Pe[Ne],delete _e[ur.ring[0]],ur.ring.pop(),Zt[ur.index]=null,Se={index:-1,polygon:ur.polygon,ring:ur.ring.concat(Se.ring)},ur===nr?Se.polygon.push(Se.ring):(Se.index=pe++,Zt.push(_e[Se.ring[0]]=Pe[Se.ring[Se.ring.length-1]]=Se))):nr?(delete _e[gr],delete Pe[nr.ring[nr.ring.length-1]],Se.ring.pop(),Se={index:pe++,polygon:nr.polygon,ring:Se.ring.concat(nr.ring)},Zt[nr.index]=null,Zt.push(_e[Se.ring[0]]=Pe[Se.ring[Se.ring.length-1]]=Se)):(Se.ring.push(Se.ring[0]),Se.polygon.push(Se.ring))}}function ku(Zt){var ee={type:"Feature",geometry:el(Zt.geometry)};return Zt.id!=null&&(ee.id=Zt.id),Zt.bbox!=null&&(ee.bbox=Zt.bbox),Zt.properties!=null&&(ee.properties=Zt.properties),ee}function el(Zt){if(Zt==null)return Zt;var ee,pe,_e,Pe;switch(Zt.type){case"GeometryCollection":ee={type:"GeometryCollection",geometries:Zt.geometries.map(el)};break;case"Point":ee={type:"Point",coordinates:_u(Zt.coordinates)};break;case"MultiPoint":case"LineString":ee={type:Zt.type,coordinates:nc(Zt.coordinates)};break;case"MultiLineString":ee={type:"MultiLineString",coordinates:Zt.coordinates.map(nc)};break;case"Polygon":{var Se=[];zc(Zt.coordinates,Se,pe=[]),wu(pe),ee={type:"Polygon",coordinates:Se};break}case"MultiPolygon":{pe=[],_e=-1,Pe=Zt.coordinates.length;for(var Ne=new Array(Pe);++_e<Pe;)zc(Zt.coordinates[_e],Ne[_e]=[],pe);wu(pe),ee={type:"MultiPolygon",coordinates:Ne.filter(rc)};break}default:return Zt}return Zt.bbox!=null&&(ee.bbox=Zt.bbox),ee}function Tu(Zt){if(Zt==null)return Zt;switch(Zt.type){case"Feature":return ku(Zt);case"FeatureCollection":{var ee={type:"FeatureCollection",features:Zt.features.map(ku)};return Zt.bbox!=null&&(ee.bbox=Zt.bbox),ee}default:return el(Zt)}}function rl(Zt,ee){var pe=b(ee/2),_e=h(p*pe);return[Zt*(.74482-.34588*_e*_e),1.70711*pe]}rl.invert=function(Zt,ee){var pe=ee/1.70711,_e=h(p*pe);return[Zt/(.74482-.34588*_e*_e),2*i(pe)]};function Wa(){return(0,x.c)(rl).scale(146.153)}function xs(Zt,ee,pe){var _e=(0,Ec.c)(ee,pe),Pe=_e(.5),Se=(0,te.c)([-Pe[0],-Pe[1]])(ee),Ne=_e.distance/2,ur=-L(h(Se[1]*u)/h(Ne)),gr=[-Pe[0],-Pe[1],-(Se[0]>0?a-ur:ur)*P],nr=(0,x.c)(Zt(Ne)).rotate(gr),wr=(0,te.c)(gr),Cr=nr.center;return delete nr.rotate,nr.center=function(Fr){return arguments.length?Cr(wr(Fr)):wr.invert(Cr())},nr.clipAngle(90)}function Rc(Zt){var ee=m(Zt);function pe(_e,Pe){var Se=(0,Js.Y)(_e,Pe);return Se[0]*=ee,Se}return pe.invert=function(_e,Pe){return Js.Y.invert(_e/ee,Pe)},pe}function _l(){return ic([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ic(Zt,ee){return xs(Rc,Zt,ee)}function Mu(Zt){if(!(Zt*=2))return st.O;var ee=-Zt/2,pe=-ee,_e=Zt*Zt,Pe=b(pe),Se=.5/h(pe);function Ne(ur,gr){var nr=A(m(gr)*m(ur-ee)),wr=A(m(gr)*m(ur-pe)),Cr=gr<0?-1:1;return nr*=nr,wr*=wr,[(nr-wr)/(2*Zt),Cr*R(4*_e*wr-(_e-nr+wr)*(_e-nr+wr))/(2*Zt)]}return Ne.invert=function(ur,gr){var nr=gr*gr,wr=m(R(nr+(Fr=ur+ee)*Fr)),Cr=m(R(nr+(Fr=ur+pe)*Fr)),Fr,tn;return[M(tn=wr-Cr,Fr=(wr+Cr)*Pe),(gr<0?-1:1)*A(R(Fr*Fr+tn*tn)*Se)]},Ne}function Ch(){return Mf([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Mf(Zt,ee){return xs(Mu,Zt,ee)}function mo(Zt,ee){if(E(ee)<f)return[Zt,0];var pe=E(ee/c),_e=L(pe);if(E(Zt)<f||E(E(ee)-c)<f)return[0,o(ee)*a*b(_e/2)];var Pe=m(_e),Se=E(a/Zt-Zt/a)/2,Ne=Se*Se,ur=Pe/(pe+Pe-1),gr=ur*(2/pe-1),nr=gr*gr,wr=nr+Ne,Cr=ur-nr,Fr=Ne+ur;return[o(Zt)*a*(Se*Cr+R(Ne*Cr*Cr-wr*(ur*ur-nr)))/wr,o(ee)*a*(gr*Fr-Se*R((Ne+1)*wr-Fr*Fr))/wr]}mo.invert=function(Zt,ee){if(E(ee)<f)return[Zt,0];if(E(Zt)<f)return[0,c*h(2*i(ee/a))];var pe=(Zt/=a)*Zt,_e=(ee/=a)*ee,Pe=pe+_e,Se=Pe*Pe,Ne=-E(ee)*(1+Pe),ur=Ne-2*_e+pe,gr=-2*Ne+1+2*_e+Se,nr=_e/gr+(2*ur*ur*ur/(gr*gr*gr)-9*Ne*ur/(gr*gr))/27,wr=(Ne-ur*ur/(3*gr))/gr,Cr=2*R(-wr/3),Fr=A(3*nr/(wr*Cr))/3;return[a*(Pe-1+R(1+2*(pe-_e)+Se))/(2*Zt),o(ee)*a*(-Cr*m(Fr+a/3)-ur/(3*gr))]};function Au(){return(0,x.c)(mo).scale(79.4183)}function $l(Zt,ee){if(E(ee)<f)return[Zt,0];var pe=E(ee/c),_e=L(pe);if(E(Zt)<f||E(E(ee)-c)<f)return[0,o(ee)*a*b(_e/2)];var Pe=m(_e),Se=E(a/Zt-Zt/a)/2,Ne=Se*Se,ur=Pe*(R(1+Ne)-Se*Pe)/(1+Ne*pe*pe);return[o(Zt)*a*ur,o(ee)*a*R(1-ur*(2*Se+ur))]}$l.invert=function(Zt,ee){if(!Zt)return[0,c*h(2*i(ee/a))];var pe=E(Zt/a),_e=(1-pe*pe-(ee/=a)*ee)/(2*pe),Pe=_e*_e,Se=R(Pe+1);return[o(Zt)*a*(Se-_e),o(ee)*c*h(2*M(R((1-2*_e*pe)*(_e+Se)-pe),R(Se+_e+pe)))]};function Af(){return(0,x.c)($l).scale(79.4183)}function nl(Zt,ee){if(E(ee)<f)return[Zt,0];var pe=ee/c,_e=L(pe);if(E(Zt)<f||E(E(ee)-c)<f)return[0,a*b(_e/2)];var Pe=(a/Zt-Zt/a)/2,Se=pe/(1+m(_e));return[a*(o(Zt)*R(Pe*Pe+1-Se*Se)-Pe),a*Se]}nl.invert=function(Zt,ee){if(!ee)return[Zt,0];var pe=ee/a,_e=(a*a*(1-pe*pe)-Zt*Zt)/(2*a*Zt);return[Zt?a*(o(Zt)*R(_e*_e+1)-_e):0,c*h(2*i(pe))]};function Ih(){return(0,x.c)(nl).scale(79.4183)}function Co(Zt,ee){if(!ee)return[Zt,0];var pe=E(ee);if(!Zt||pe===c)return[0,ee];var _e=pe/c,Pe=_e*_e,Se=(8*_e-Pe*(Pe+2)-5)/(2*Pe*(_e-1)),Ne=Se*Se,ur=_e*Se,gr=Pe+Ne+2*ur,nr=_e+3*Se,wr=Zt/c,Cr=wr+1/wr,Fr=o(E(Zt)-c)*R(Cr*Cr-4),tn=Fr*Fr,xn=gr*(Pe+Ne*tn-1)+(1-Pe)*(Pe*(nr*nr+4*Ne)+12*ur*Ne+4*Ne*Ne),Ln=(Fr*(gr+Ne-1)+2*R(xn))/(4*gr+tn);return[o(Zt)*c*Ln,o(ee)*c*R(1+Fr*E(Ln)-Ln*Ln)]}Co.invert=function(Zt,ee){var pe;if(!Zt||!ee)return[Zt,ee];ee/=a;var _e=o(Zt)*Zt/c,Pe=(_e*_e-1+4*ee*ee)/E(_e),Se=Pe*Pe,Ne=2*ee,ur=50;do{var gr=Ne*Ne,nr=(8*Ne-gr*(gr+2)-5)/(2*gr*(Ne-1)),wr=(3*Ne-gr*Ne-10)/(2*gr*Ne),Cr=nr*nr,Fr=Ne*nr,tn=Ne+nr,xn=tn*tn,Ln=Ne+3*nr,Cn=xn*(gr+Cr*Se-1)+(1-gr)*(gr*(Ln*Ln+4*Cr)+Cr*(12*Fr+4*Cr)),Gn=-2*tn*(4*Fr*Cr+(1-4*gr+3*gr*gr)*(1+wr)+Cr*(-6+14*gr-Se+(-8+8*gr-2*Se)*wr)+Fr*(-8+12*gr+(-10+10*gr-Se)*wr)),Ii=R(Cn),Oi=Pe*(xn+Cr-1)+2*Ii-_e*(4*xn+Se),Di=Pe*(2*nr*wr+2*tn*(1+wr))+Gn/Ii-8*tn*(Pe*(-1+Cr+xn)+2*Ii)*(1+wr)/(Se+4*xn);Ne-=pe=Oi/Di}while(pe>f&&--ur>0);return[o(Zt)*(R(Pe*Pe+4)+Pe)*a/4,c*Ne]};function Su(){return(0,x.c)(Co).scale(127.16)}function ac(Zt,ee,pe,_e,Pe){function Se(Ne,ur){var gr=pe*h(_e*ur),nr=R(1-gr*gr),wr=R(2/(1+nr*m(Ne*=Pe)));return[Zt*nr*wr*h(Ne),ee*gr*wr]}return Se.invert=function(Ne,ur){var gr=Ne/Zt,nr=ur/ee,wr=R(gr*gr+nr*nr),Cr=2*L(wr/2);return[M(Ne*b(Cr),Zt*wr)/Pe,wr&&L(ur*h(Cr)/(ee*pe*wr))/_e]},Se}function Ds(Zt,ee,pe,_e){var Pe=a/3;Zt=e(Zt,f),ee=e(ee,f),Zt=s(Zt,c),ee=s(ee,a-f),pe=e(pe,0),pe=s(pe,100-f),_e=e(_e,f);var Se=pe/100+1,Ne=_e/100,ur=A(Se*m(Pe))/Pe,gr=h(Zt)/h(ur*c),nr=ee/a,wr=R(Ne*h(Zt/2)/h(ee/2)),Cr=wr/R(nr*gr*ur),Fr=1/(wr*R(nr*gr*ur));return ac(Cr,Fr,gr,ur,nr)}function il(){var Zt=65*u,ee=60*u,pe=20,_e=200,Pe=(0,x.U)(Ds),Se=Pe(Zt,ee,pe,_e);return Se.poleline=function(Ne){return arguments.length?Pe(Zt=+Ne*u,ee,pe,_e):Zt*P},Se.parallels=function(Ne){return arguments.length?Pe(Zt,ee=+Ne*u,pe,_e):ee*P},Se.inflation=function(Ne){return arguments.length?Pe(Zt,ee,pe=+Ne,_e):pe},Se.ratio=function(Ne){return arguments.length?Pe(Zt,ee,pe,_e=+Ne):_e},Se.scale(163.775)}function Dc(){return il().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Eu=4*a+3*R(3),Lu=2*R(2*a*R(3)/Eu),oc=mt(Lu*R(3)/a,Lu,Eu/6);function Sf(){return(0,x.c)(oc).scale(176.84)}function Pu(Zt,ee){return[Zt*R(1-3*ee*ee/(a*a)),ee]}Pu.invert=function(Zt,ee){return[Zt/R(1-3*ee*ee/(a*a)),ee]};function Fc(){return(0,x.c)(Pu).scale(152.63)}function wl(Zt,ee){var pe=m(ee),_e=m(Zt)*pe,Pe=1-_e,Se=m(Zt=M(h(Zt)*pe,-h(ee))),Ne=h(Zt);return pe=R(1-_e*_e),[Ne*pe-Se*Pe,-Se*pe-Ne*Pe]}wl.invert=function(Zt,ee){var pe=(Zt*Zt+ee*ee)/-2,_e=R(-pe*(2+pe)),Pe=ee*pe+Zt*_e,Se=Zt*pe-ee*_e,Ne=R(Se*Se+Pe*Pe);return[M(_e*Pe,Ne*(1+pe)),Ne?-L(_e*Se/Ne):0]};function Bc(){return(0,x.c)(wl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Cu(Zt,ee){var pe=W(Zt,ee);return[(pe[0]+Zt/c)/2,(pe[1]+ee)/2]}Cu.invert=function(Zt,ee){var pe=Zt,_e=ee,Pe=25;do{var Se=m(_e),Ne=h(_e),ur=h(2*_e),gr=Ne*Ne,nr=Se*Se,wr=h(pe),Cr=m(pe/2),Fr=h(pe/2),tn=Fr*Fr,xn=1-nr*Cr*Cr,Ln=xn?A(Se*Cr)*R(Cn=1/xn):Cn=0,Cn,Gn=.5*(2*Ln*Se*Fr+pe/c)-Zt,Ii=.5*(Ln*Ne+_e)-ee,Oi=.5*Cn*(nr*tn+Ln*Se*Cr*gr)+.5/c,Di=Cn*(wr*ur/4-Ln*Ne*Fr),Hi=.125*Cn*(ur*Fr-Ln*Ne*nr*wr),Wi=.5*Cn*(gr*Cr+Ln*tn*Se)+.5,ca=Di*Hi-Wi*Oi,Da=(Ii*Di-Gn*Wi)/ca,ft=(Gn*Hi-Ii*Oi)/ca;pe-=Da,_e-=ft}while((E(Da)>f||E(ft)>f)&&--Pe>0);return[pe,_e]};function Ef(){return(0,x.c)(Cu).scale(158.837)}},88728:function(X,B,t){t.d(B,{c:function(){return x}});function x(){return new E}function E(){this.reset()}E.prototype={constructor:E,reset:function(){this.s=this.t=0},add:function(m){M(i,m,this.t),M(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new E;function M(m,d,v){var r=m.s=d+v,e=r-d,s=r-e;m.t=d-s+(v-e)}},95384:function(X,B,t){t.d(B,{cp:function(){return k},mQ:function(){return m},oB:function(){return l}});var x=t(88728),E=t(64528),i=t(70932),M=t(16016),m=(0,x.c)(),d=(0,x.c)(),v,r,e,s,n,l={point:i.c,lineStart:i.c,lineEnd:i.c,polygonStart:function(){m.reset(),l.lineStart=o,l.lineEnd=h},polygonEnd:function(){var a=+m;d.add(a<0?E.kD+a:a),this.lineStart=this.lineEnd=this.point=i.c},sphere:function(){d.add(E.kD)}};function o(){l.point=b}function h(){f(v,r)}function b(a,c){l.point=f,v=a,r=c,a*=E.qw,c*=E.qw,e=a,s=(0,E.W8)(c=c/2+E.wL),n=(0,E.g$)(c)}function f(a,c){a*=E.qw,c*=E.qw,c=c/2+E.wL;var p=a-e,w=p>=0?1:-1,S=w*p,_=(0,E.W8)(c),T=(0,E.g$)(c),P=n*T,u=s*_+P*(0,E.W8)(S),g=P*w*(0,E.g$)(S);m.add((0,E.WE)(g,u)),e=a,s=_,n=T}function k(a){return d.reset(),(0,M.c)(a,l),d*2}},13696:function(X,B,t){t.d(B,{c:function(){return L}});var x=t(88728),E=t(95384),i=t(84220),M=t(64528),m=t(16016),d,v,r,e,s,n,l,o,h=(0,x.c)(),b,f,k={point:a,lineStart:p,lineEnd:w,polygonStart:function(){k.point=S,k.lineStart=_,k.lineEnd=T,h.reset(),E.oB.polygonStart()},polygonEnd:function(){E.oB.polygonEnd(),k.point=a,k.lineStart=p,k.lineEnd=w,E.mQ<0?(d=-(r=180),v=-(e=90)):h>M.Gg?e=90:h<-M.Gg&&(v=-90),f[0]=d,f[1]=r},sphere:function(){d=-(r=180),v=-(e=90)}};function a(A,R){b.push(f=[d=A,r=A]),R<v&&(v=R),R>e&&(e=R)}function c(A,R){var O=(0,i.ux)([A*M.qw,R*M.qw]);if(o){var N=(0,i.CW)(o,O),z=[N[1],-N[0],0],F=(0,i.CW)(z,N);(0,i.cJ)(F),F=(0,i.G)(F);var I=A-s,j=I>0?1:-1,V=F[0]*M.oh*j,W,K=(0,M.a2)(I)>180;K^(j*s<V&&V<j*A)?(W=F[1]*M.oh,W>e&&(e=W)):(V=(V+360)%360-180,K^(j*s<V&&V<j*A)?(W=-F[1]*M.oh,W<v&&(v=W)):(R<v&&(v=R),R>e&&(e=R))),K?A<s?P(d,A)>P(d,r)&&(r=A):P(A,r)>P(d,r)&&(d=A):r>=d?(A<d&&(d=A),A>r&&(r=A)):A>s?P(d,A)>P(d,r)&&(r=A):P(A,r)>P(d,r)&&(d=A)}else b.push(f=[d=A,r=A]);R<v&&(v=R),R>e&&(e=R),o=O,s=A}function p(){k.point=c}function w(){f[0]=d,f[1]=r,k.point=a,o=null}function S(A,R){if(o){var O=A-s;h.add((0,M.a2)(O)>180?O+(O>0?360:-360):O)}else n=A,l=R;E.oB.point(A,R),c(A,R)}function _(){E.oB.lineStart()}function T(){S(n,l),E.oB.lineEnd(),(0,M.a2)(h)>M.Gg&&(d=-(r=180)),f[0]=d,f[1]=r,o=null}function P(A,R){return(R-=A)<0?R+360:R}function u(A,R){return A[0]-R[0]}function g(A,R){return A[0]<=A[1]?A[0]<=R&&R<=A[1]:R<A[0]||A[1]<R}function L(A){var R,O,N,z,F,I,j;if(e=r=-(d=v=1/0),b=[],(0,m.c)(A,k),O=b.length){for(b.sort(u),R=1,N=b[0],F=[N];R<O;++R)z=b[R],g(N,z[0])||g(N,z[1])?(P(N[0],z[1])>P(N[0],N[1])&&(N[1]=z[1]),P(z[0],N[1])>P(N[0],N[1])&&(N[0]=z[0])):F.push(N=z);for(I=-1/0,O=F.length-1,R=0,N=F[O];R<=O;N=z,++R)z=F[R],(j=P(N[1],z[0]))>I&&(I=j,d=z[0],r=N[1])}return b=f=null,d===1/0||v===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,v],[r,e]]}},84220:function(X,B,t){t.d(B,{CW:function(){return m},Ez:function(){return M},G:function(){return E},cJ:function(){return r},mg:function(){return d},ux:function(){return i},wx:function(){return v}});var x=t(64528);function E(e){return[(0,x.WE)(e[1],e[0]),(0,x.qR)(e[2])]}function i(e){var s=e[0],n=e[1],l=(0,x.W8)(n);return[l*(0,x.W8)(s),l*(0,x.g$)(s),(0,x.g$)(n)]}function M(e,s){return e[0]*s[0]+e[1]*s[1]+e[2]*s[2]}function m(e,s){return[e[1]*s[2]-e[2]*s[1],e[2]*s[0]-e[0]*s[2],e[0]*s[1]-e[1]*s[0]]}function d(e,s){e[0]+=s[0],e[1]+=s[1],e[2]+=s[2]}function v(e,s){return[e[0]*s,e[1]*s,e[2]*s]}function r(e){var s=(0,x._I)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=s,e[1]/=s,e[2]/=s}},24052:function(X,B,t){t.d(B,{c:function(){return O}});var x=t(64528),E=t(70932),i=t(16016),M,m,d,v,r,e,s,n,l,o,h,b,f,k,a,c,p={sphere:E.c,point:w,lineStart:_,lineEnd:u,polygonStart:function(){p.lineStart=g,p.lineEnd=L},polygonEnd:function(){p.lineStart=_,p.lineEnd=u}};function w(N,z){N*=x.qw,z*=x.qw;var F=(0,x.W8)(z);S(F*(0,x.W8)(N),F*(0,x.g$)(N),(0,x.g$)(z))}function S(N,z,F){++M,d+=(N-d)/M,v+=(z-v)/M,r+=(F-r)/M}function _(){p.point=T}function T(N,z){N*=x.qw,z*=x.qw;var F=(0,x.W8)(z);k=F*(0,x.W8)(N),a=F*(0,x.g$)(N),c=(0,x.g$)(z),p.point=P,S(k,a,c)}function P(N,z){N*=x.qw,z*=x.qw;var F=(0,x.W8)(z),I=F*(0,x.W8)(N),j=F*(0,x.g$)(N),V=(0,x.g$)(z),W=(0,x.WE)((0,x._I)((W=a*V-c*j)*W+(W=c*I-k*V)*W+(W=k*j-a*I)*W),k*I+a*j+c*V);m+=W,e+=W*(k+(k=I)),s+=W*(a+(a=j)),n+=W*(c+(c=V)),S(k,a,c)}function u(){p.point=w}function g(){p.point=A}function L(){R(b,f),p.point=w}function A(N,z){b=N,f=z,N*=x.qw,z*=x.qw,p.point=R;var F=(0,x.W8)(z);k=F*(0,x.W8)(N),a=F*(0,x.g$)(N),c=(0,x.g$)(z),S(k,a,c)}function R(N,z){N*=x.qw,z*=x.qw;var F=(0,x.W8)(z),I=F*(0,x.W8)(N),j=F*(0,x.g$)(N),V=(0,x.g$)(z),W=a*V-c*j,K=c*I-k*V,et=k*j-a*I,lt=(0,x._I)(W*W+K*K+et*et),ot=(0,x.qR)(lt),q=lt&&-ot/lt;l+=q*W,o+=q*K,h+=q*et,m+=ot,e+=ot*(k+(k=I)),s+=ot*(a+(a=j)),n+=ot*(c+(c=V)),S(k,a,c)}function O(N){M=m=d=v=r=e=s=n=l=o=h=0,(0,i.c)(N,p);var z=l,F=o,I=h,j=z*z+F*F+I*I;return j<x.a8&&(z=e,F=s,I=n,m<x.Gg&&(z=d,F=v,I=r),j=z*z+F*F+I*I,j<x.a8)?[NaN,NaN]:[(0,x.WE)(F,z)*x.oh,(0,x.qR)(I/(0,x._I)(j))*x.oh]}},61780:function(X,B,t){t.d(B,{Q:function(){return m},c:function(){return v}});var x=t(84220);function E(r){return function(){return r}}var i=t(64528),M=t(92992);function m(r,e,s,n,l,o){if(s){var h=(0,i.W8)(e),b=(0,i.g$)(e),f=n*s;l==null?(l=e+n*i.kD,o=e-f/2):(l=d(h,l),o=d(h,o),(n>0?l<o:l>o)&&(l+=n*i.kD));for(var k,a=l;n>0?a>o:a<o;a-=f)k=(0,x.G)([h,-b*(0,i.W8)(a),-b*(0,i.g$)(a)]),r.point(k[0],k[1])}}function d(r,e){e=(0,x.ux)(e),e[0]-=r,(0,x.cJ)(e);var s=(0,i.mE)(-e[1]);return((-e[2]<0?-s:s)+i.kD-i.Gg)%i.kD}function v(){var r=E([0,0]),e=E(90),s=E(6),n,l,o={point:h};function h(f,k){n.push(f=l(f,k)),f[0]*=i.oh,f[1]*=i.oh}function b(){var f=r.apply(this,arguments),k=e.apply(this,arguments)*i.qw,a=s.apply(this,arguments)*i.qw;return n=[],l=(0,M.O)(-f[0]*i.qw,-f[1]*i.qw,0).invert,m(o,k,a,1),f={type:"Polygon",coordinates:[n]},n=l=null,f}return b.center=function(f){return arguments.length?(r=typeof f=="function"?f:E([+f[0],+f[1]]),b):r},b.radius=function(f){return arguments.length?(e=typeof f=="function"?f:E(+f),b):e},b.precision=function(f){return arguments.length?(s=typeof f=="function"?f:E(+f),b):s},b}},78284:function(X,B,t){var x=t(14229),E=t(64528);B.c=(0,x.c)(function(){return!0},i,m,[-E.pi,-E.or]);function i(d){var v=NaN,r=NaN,e=NaN,s;return{lineStart:function(){d.lineStart(),s=1},point:function(n,l){var o=n>0?E.pi:-E.pi,h=(0,E.a2)(n-v);(0,E.a2)(h-E.pi)<E.Gg?(d.point(v,r=(r+l)/2>0?E.or:-E.or),d.point(e,r),d.lineEnd(),d.lineStart(),d.point(o,r),d.point(n,r),s=0):e!==o&&h>=E.pi&&((0,E.a2)(v-e)<E.Gg&&(v-=e*E.Gg),(0,E.a2)(n-o)<E.Gg&&(n-=o*E.Gg),r=M(v,r,n,l),d.point(e,r),d.lineEnd(),d.lineStart(),d.point(o,r),s=0),d.point(v=n,r=l),e=o},lineEnd:function(){d.lineEnd(),v=r=NaN},clean:function(){return 2-s}}}function M(d,v,r,e){var s,n,l=(0,E.g$)(d-r);return(0,E.a2)(l)>E.Gg?(0,E.MQ)(((0,E.g$)(v)*(n=(0,E.W8)(e))*(0,E.g$)(r)-(0,E.g$)(e)*(s=(0,E.W8)(v))*(0,E.g$)(d))/(s*n*l)):(v+e)/2}function m(d,v,r,e){var s;if(d==null)s=r*E.or,e.point(-E.pi,s),e.point(0,s),e.point(E.pi,s),e.point(E.pi,0),e.point(E.pi,-s),e.point(0,-s),e.point(-E.pi,-s),e.point(-E.pi,0),e.point(-E.pi,s);else if((0,E.a2)(d[0]-v[0])>E.Gg){var n=d[0]<v[0]?E.pi:-E.pi;s=r*n/2,e.point(-n,s),e.point(0,s),e.point(n,s)}else e.point(v[0],v[1])}},97208:function(X,B,t){t.d(B,{c:function(){return E}});var x=t(70932);function E(){var i=[],M;return{point:function(m,d,v){M.push([m,d,v])},lineStart:function(){i.push(M=[])},lineEnd:x.c,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var m=i;return i=[],M=null,m}}}},2728:function(X,B,t){t.d(B,{c:function(){return d}});var x=t(84220),E=t(61780),i=t(64528),M=t(41860),m=t(14229);function d(v){var r=(0,i.W8)(v),e=6*i.qw,s=r>0,n=(0,i.a2)(r)>i.Gg;function l(k,a,c,p){(0,E.Q)(p,v,e,c,k,a)}function o(k,a){return(0,i.W8)(k)*(0,i.W8)(a)>r}function h(k){var a,c,p,w,S;return{lineStart:function(){w=p=!1,S=1},point:function(_,T){var P=[_,T],u,g=o(_,T),L=s?g?0:f(_,T):g?f(_+(_<0?i.pi:-i.pi),T):0;if(!a&&(w=p=g)&&k.lineStart(),g!==p&&(u=b(a,P),(!u||(0,M.c)(a,u)||(0,M.c)(P,u))&&(P[2]=1)),g!==p)S=0,g?(k.lineStart(),u=b(P,a),k.point(u[0],u[1])):(u=b(a,P),k.point(u[0],u[1],2),k.lineEnd()),a=u;else if(n&&a&&s^g){var A;!(L&c)&&(A=b(P,a,!0))&&(S=0,s?(k.lineStart(),k.point(A[0][0],A[0][1]),k.point(A[1][0],A[1][1]),k.lineEnd()):(k.point(A[1][0],A[1][1]),k.lineEnd(),k.lineStart(),k.point(A[0][0],A[0][1],3)))}g&&(!a||!(0,M.c)(a,P))&&k.point(P[0],P[1]),a=P,p=g,c=L},lineEnd:function(){p&&k.lineEnd(),a=null},clean:function(){return S|(w&&p)<<1}}}function b(k,a,c){var p=(0,x.ux)(k),w=(0,x.ux)(a),S=[1,0,0],_=(0,x.CW)(p,w),T=(0,x.Ez)(_,_),P=_[0],u=T-P*P;if(!u)return!c&&k;var g=r*T/u,L=-r*P/u,A=(0,x.CW)(S,_),R=(0,x.wx)(S,g),O=(0,x.wx)(_,L);(0,x.mg)(R,O);var N=A,z=(0,x.Ez)(R,N),F=(0,x.Ez)(N,N),I=z*z-F*((0,x.Ez)(R,R)-1);if(!(I<0)){var j=(0,i._I)(I),V=(0,x.wx)(N,(-z-j)/F);if((0,x.mg)(V,R),V=(0,x.G)(V),!c)return V;var W=k[0],K=a[0],et=k[1],lt=a[1],ot;K<W&&(ot=W,W=K,K=ot);var q=K-W,J=(0,i.a2)(q-i.pi)<i.Gg,it=J||q<i.Gg;if(!J&&lt<et&&(ot=et,et=lt,lt=ot),it?J?et+lt>0^V[1]<((0,i.a2)(V[0]-W)<i.Gg?et:lt):et<=V[1]&&V[1]<=lt:q>i.pi^(W<=V[0]&&V[0]<=K)){var Z=(0,x.wx)(N,(-z+j)/F);return(0,x.mg)(Z,R),[V,(0,x.G)(Z)]}}}function f(k,a){var c=s?v:i.pi-v,p=0;return k<-c?p|=1:k>c&&(p|=2),a<-c?p|=4:a>c&&(p|=8),p}return(0,m.c)(o,h,l,s?[0,-v]:[-i.pi,v-i.pi])}},14229:function(X,B,t){t.d(B,{c:function(){return d}});var x=t(97208),E=t(32232),i=t(64528),M=t(58196),m=t(84706);function d(e,s,n,l){return function(o){var h=s(o),b=(0,x.c)(),f=s(b),k=!1,a,c,p,w={point:S,lineStart:T,lineEnd:P,polygonStart:function(){w.point=u,w.lineStart=g,w.lineEnd=L,c=[],a=[]},polygonEnd:function(){w.point=S,w.lineStart=T,w.lineEnd=P,c=(0,m.Uf)(c);var A=(0,M.c)(a,l);c.length?(k||(o.polygonStart(),k=!0),(0,E.c)(c,r,A,n,o)):A&&(k||(o.polygonStart(),k=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),k&&(o.polygonEnd(),k=!1),c=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function S(A,R){e(A,R)&&o.point(A,R)}function _(A,R){h.point(A,R)}function T(){w.point=_,h.lineStart()}function P(){w.point=S,h.lineEnd()}function u(A,R){p.push([A,R]),f.point(A,R)}function g(){f.lineStart(),p=[]}function L(){u(p[0][0],p[0][1]),f.lineEnd();var A=f.clean(),R=b.result(),O,N=R.length,z,F,I;if(p.pop(),a.push(p),p=null,!!N){if(A&1){if(F=R[0],(z=F.length-1)>0){for(k||(o.polygonStart(),k=!0),o.lineStart(),O=0;O<z;++O)o.point((I=F[O])[0],I[1]);o.lineEnd()}return}N>1&&A&2&&R.push(R.pop().concat(R.shift())),c.push(R.filter(v))}}return w}}function v(e){return e.length>1}function r(e,s){return((e=e.x)[0]<0?e[1]-i.or-i.Gg:i.or-e[1])-((s=s.x)[0]<0?s[1]-i.or-i.Gg:i.or-s[1])}},21676:function(X,B,t){t.d(B,{c:function(){return r}});var x=t(64528),E=t(97208);function i(e,s,n,l,o,h){var b=e[0],f=e[1],k=s[0],a=s[1],c=0,p=1,w=k-b,S=a-f,_;if(_=n-b,!(!w&&_>0)){if(_/=w,w<0){if(_<c)return;_<p&&(p=_)}else if(w>0){if(_>p)return;_>c&&(c=_)}if(_=o-b,!(!w&&_<0)){if(_/=w,w<0){if(_>p)return;_>c&&(c=_)}else if(w>0){if(_<c)return;_<p&&(p=_)}if(_=l-f,!(!S&&_>0)){if(_/=S,S<0){if(_<c)return;_<p&&(p=_)}else if(S>0){if(_>p)return;_>c&&(c=_)}if(_=h-f,!(!S&&_<0)){if(_/=S,S<0){if(_>p)return;_>c&&(c=_)}else if(S>0){if(_<c)return;_<p&&(p=_)}return c>0&&(e[0]=b+c*w,e[1]=f+c*S),p<1&&(s[0]=b+p*w,s[1]=f+p*S),!0}}}}}var M=t(32232),m=t(84706),d=1e9,v=-d;function r(e,s,n,l){function o(a,c){return e<=a&&a<=n&&s<=c&&c<=l}function h(a,c,p,w){var S=0,_=0;if(a==null||(S=b(a,p))!==(_=b(c,p))||k(a,c)<0^p>0)do w.point(S===0||S===3?e:n,S>1?l:s);while((S=(S+p+4)%4)!==_);else w.point(c[0],c[1])}function b(a,c){return(0,x.a2)(a[0]-e)<x.Gg?c>0?0:3:(0,x.a2)(a[0]-n)<x.Gg?c>0?2:1:(0,x.a2)(a[1]-s)<x.Gg?c>0?1:0:c>0?3:2}function f(a,c){return k(a.x,c.x)}function k(a,c){var p=b(a,1),w=b(c,1);return p!==w?p-w:p===0?c[1]-a[1]:p===1?a[0]-c[0]:p===2?a[1]-c[1]:c[0]-a[0]}return function(a){var c=a,p=(0,E.c)(),w,S,_,T,P,u,g,L,A,R,O,N={point:z,lineStart:V,lineEnd:W,polygonStart:I,polygonEnd:j};function z(et,lt){o(et,lt)&&c.point(et,lt)}function F(){for(var et=0,lt=0,ot=S.length;lt<ot;++lt)for(var q=S[lt],J=1,it=q.length,Z=q[0],tt,st,Q=Z[0],G=Z[1];J<it;++J)tt=Q,st=G,Z=q[J],Q=Z[0],G=Z[1],st<=l?G>l&&(Q-tt)*(l-st)>(G-st)*(e-tt)&&++et:G<=l&&(Q-tt)*(l-st)<(G-st)*(e-tt)&&--et;return et}function I(){c=p,w=[],S=[],O=!0}function j(){var et=F(),lt=O&&et,ot=(w=(0,m.Uf)(w)).length;(lt||ot)&&(a.polygonStart(),lt&&(a.lineStart(),h(null,null,1,a),a.lineEnd()),ot&&(0,M.c)(w,f,et,h,a),a.polygonEnd()),c=a,w=S=_=null}function V(){N.point=K,S&&S.push(_=[]),R=!0,A=!1,g=L=NaN}function W(){w&&(K(T,P),u&&A&&p.rejoin(),w.push(p.result())),N.point=z,A&&c.lineEnd()}function K(et,lt){var ot=o(et,lt);if(S&&_.push([et,lt]),R)T=et,P=lt,u=ot,R=!1,ot&&(c.lineStart(),c.point(et,lt));else if(ot&&A)c.point(et,lt);else{var q=[g=Math.max(v,Math.min(d,g)),L=Math.max(v,Math.min(d,L))],J=[et=Math.max(v,Math.min(d,et)),lt=Math.max(v,Math.min(d,lt))];i(q,J,e,s,n,l)?(A||(c.lineStart(),c.point(q[0],q[1])),c.point(J[0],J[1]),ot||c.lineEnd(),O=!1):ot&&(c.lineStart(),c.point(et,lt),O=!1)}g=et,L=lt,A=ot}return N}}},32232:function(X,B,t){t.d(B,{c:function(){return M}});var x=t(41860),E=t(64528);function i(d,v,r,e){this.x=d,this.z=v,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function M(d,v,r,e,s){var n=[],l=[],o,h;if(d.forEach(function(p){if(!((w=p.length-1)<=0)){var w,S=p[0],_=p[w],T;if((0,x.c)(S,_)){if(!S[2]&&!_[2]){for(s.lineStart(),o=0;o<w;++o)s.point((S=p[o])[0],S[1]);s.lineEnd();return}_[0]+=2*E.Gg}n.push(T=new i(S,p,null,!0)),l.push(T.o=new i(S,null,T,!1)),n.push(T=new i(_,p,null,!1)),l.push(T.o=new i(_,null,T,!0))}}),!!n.length){for(l.sort(v),m(n),m(l),o=0,h=l.length;o<h;++o)l[o].e=r=!r;for(var b=n[0],f,k;;){for(var a=b,c=!0;a.v;)if((a=a.n)===b)return;f=a.z,s.lineStart();do{if(a.v=a.o.v=!0,a.e){if(c)for(o=0,h=f.length;o<h;++o)s.point((k=f[o])[0],k[1]);else e(a.x,a.n.x,1,s);a=a.n}else{if(c)for(f=a.p.z,o=f.length-1;o>=0;--o)s.point((k=f[o])[0],k[1]);else e(a.x,a.p.x,-1,s);a=a.p}a=a.o,f=a.z,c=!c}while(!a.v);s.lineEnd()}}}function m(d){if(v=d.length){for(var v,r=0,e=d[0],s;++r<v;)e.n=s=d[r],s.p=e,e=s;e.n=s=d[0],s.p=e}}},68120:function(X,B,t){t.d(B,{c:function(){return x}});function x(E,i){function M(m,d){return m=E(m,d),i(m[0],m[1])}return E.invert&&i.invert&&(M.invert=function(m,d){return m=i.invert(m,d),m&&E.invert(m[0],m[1])}),M}},7376:function(X,B,t){t.d(B,{c:function(){return x}});function x(E){return E}},83356:function(X,B,t){t.r(B),t.d(B,{geoAlbers:function(){return _r},geoAlbersUsa:function(){return le},geoArea:function(){return x.cp},geoAzimuthalEqualArea:function(){return me.c},geoAzimuthalEqualAreaRaw:function(){return me.y},geoAzimuthalEquidistant:function(){return Ee.c},geoAzimuthalEquidistantRaw:function(){return Ee.O},geoBounds:function(){return E.c},geoCentroid:function(){return i.c},geoCircle:function(){return M.c},geoClipAntimeridian:function(){return m.c},geoClipCircle:function(){return d.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return v.c},geoConicConformal:function(){return pr},geoConicConformalRaw:function(){return or},geoConicEqualArea:function(){return Ye},geoConicEqualAreaRaw:function(){return Xe},geoConicEquidistant:function(){return Gt},geoConicEquidistantRaw:function(){return jt},geoContains:function(){return I},geoDistance:function(){return u},geoEqualEarth:function(){return lr},geoEqualEarthRaw:function(){return De},geoEquirectangular:function(){return hr.c},geoEquirectangularRaw:function(){return hr.u},geoGnomonic:function(){return vr.c},geoGnomonicRaw:function(){return vr.Y},geoGraticule:function(){return K},geoGraticule10:function(){return et},geoIdentity:function(){return fr},geoInterpolate:function(){return lt.c},geoLength:function(){return _},geoMercator:function(){return Fe},geoMercatorRaw:function(){return Oe},geoNaturalEarth1:function(){return zr.c},geoNaturalEarth1Raw:function(){return zr.g},geoOrthographic:function(){return Or.c},geoOrthographicRaw:function(){return Or.t},geoPath:function(){return Le},geoProjection:function(){return Ge.c},geoProjectionMutator:function(){return Ge.U},geoRotation:function(){return ze.c},geoStereographic:function(){return nn},geoStereographicRaw:function(){return sn},geoStream:function(){return o.c},geoTransform:function(){return dr.c},geoTransverseMercator:function(){return Mn},geoTransverseMercatorRaw:function(){return kn}});var x=t(95384),E=t(13696),i=t(24052),M=t(61780),m=t(78284),d=t(2728),v=t(21676);function r(){var kr=0,Er=0,Vr=960,qr=500,rn,gn,ln;return ln={stream:function(zn){return rn&&gn===zn?rn:rn=(0,v.c)(kr,Er,Vr,qr)(gn=zn)},extent:function(zn){return arguments.length?(kr=+zn[0][0],Er=+zn[0][1],Vr=+zn[1][0],qr=+zn[1][1],rn=gn=null,ln):[[kr,Er],[Vr,qr]]}}}var e=t(58196),s=t(88728),n=t(64528),l=t(70932),o=t(16016),h=(0,s.c)(),b,f,k,a={sphere:l.c,point:l.c,lineStart:c,lineEnd:l.c,polygonStart:l.c,polygonEnd:l.c};function c(){a.point=w,a.lineEnd=p}function p(){a.point=a.lineEnd=l.c}function w(kr,Er){kr*=n.qw,Er*=n.qw,b=kr,f=(0,n.g$)(Er),k=(0,n.W8)(Er),a.point=S}function S(kr,Er){kr*=n.qw,Er*=n.qw;var Vr=(0,n.g$)(Er),qr=(0,n.W8)(Er),rn=(0,n.a2)(kr-b),gn=(0,n.W8)(rn),ln=(0,n.g$)(rn),zn=qr*ln,Rn=k*Vr-f*qr*gn,ai=f*Vr+k*qr*gn;h.add((0,n.WE)((0,n._I)(zn*zn+Rn*Rn),ai)),b=kr,f=Vr,k=qr}function _(kr){return h.reset(),(0,o.c)(kr,a),+h}var T=[null,null],P={type:"LineString",coordinates:T};function u(kr,Er){return T[0]=kr,T[1]=Er,_(P)}var g={Feature:function(kr,Er){return A(kr.geometry,Er)},FeatureCollection:function(kr,Er){for(var Vr=kr.features,qr=-1,rn=Vr.length;++qr<rn;)if(A(Vr[qr].geometry,Er))return!0;return!1}},L={Sphere:function(){return!0},Point:function(kr,Er){return R(kr.coordinates,Er)},MultiPoint:function(kr,Er){for(var Vr=kr.coordinates,qr=-1,rn=Vr.length;++qr<rn;)if(R(Vr[qr],Er))return!0;return!1},LineString:function(kr,Er){return O(kr.coordinates,Er)},MultiLineString:function(kr,Er){for(var Vr=kr.coordinates,qr=-1,rn=Vr.length;++qr<rn;)if(O(Vr[qr],Er))return!0;return!1},Polygon:function(kr,Er){return N(kr.coordinates,Er)},MultiPolygon:function(kr,Er){for(var Vr=kr.coordinates,qr=-1,rn=Vr.length;++qr<rn;)if(N(Vr[qr],Er))return!0;return!1},GeometryCollection:function(kr,Er){for(var Vr=kr.geometries,qr=-1,rn=Vr.length;++qr<rn;)if(A(Vr[qr],Er))return!0;return!1}};function A(kr,Er){return kr&&L.hasOwnProperty(kr.type)?L[kr.type](kr,Er):!1}function R(kr,Er){return u(kr,Er)===0}function O(kr,Er){for(var Vr,qr,rn,gn=0,ln=kr.length;gn<ln;gn++){if(qr=u(kr[gn],Er),qr===0||gn>0&&(rn=u(kr[gn],kr[gn-1]),rn>0&&Vr<=rn&&qr<=rn&&(Vr+qr-rn)*(1-Math.pow((Vr-qr)/rn,2))<n.a8*rn))return!0;Vr=qr}return!1}function N(kr,Er){return!!(0,e.c)(kr.map(z),F(Er))}function z(kr){return kr=kr.map(F),kr.pop(),kr}function F(kr){return[kr[0]*n.qw,kr[1]*n.qw]}function I(kr,Er){return(kr&&g.hasOwnProperty(kr.type)?g[kr.type]:A)(kr,Er)}var j=t(84706);function V(kr,Er,Vr){var qr=(0,j.ik)(kr,Er-n.Gg,Vr).concat(Er);return function(rn){return qr.map(function(gn){return[rn,gn]})}}function W(kr,Er,Vr){var qr=(0,j.ik)(kr,Er-n.Gg,Vr).concat(Er);return function(rn){return qr.map(function(gn){return[gn,rn]})}}function K(){var kr,Er,Vr,qr,rn,gn,ln,zn,Rn=10,ai=Rn,fi=90,mi=360,li,ri,yr,en,Jr=2.5;function vn(){return{type:"MultiLineString",coordinates:Vn()}}function Vn(){return(0,j.ik)((0,n.Km)(qr/fi)*fi,Vr,fi).map(yr).concat((0,j.ik)((0,n.Km)(zn/mi)*mi,ln,mi).map(en)).concat((0,j.ik)((0,n.Km)(Er/Rn)*Rn,kr,Rn).filter(function(bn){return(0,n.a2)(bn%fi)>n.Gg}).map(li)).concat((0,j.ik)((0,n.Km)(gn/ai)*ai,rn,ai).filter(function(bn){return(0,n.a2)(bn%mi)>n.Gg}).map(ri))}return vn.lines=function(){return Vn().map(function(bn){return{type:"LineString",coordinates:bn}})},vn.outline=function(){return{type:"Polygon",coordinates:[yr(qr).concat(en(ln).slice(1),yr(Vr).reverse().slice(1),en(zn).reverse().slice(1))]}},vn.extent=function(bn){return arguments.length?vn.extentMajor(bn).extentMinor(bn):vn.extentMinor()},vn.extentMajor=function(bn){return arguments.length?(qr=+bn[0][0],Vr=+bn[1][0],zn=+bn[0][1],ln=+bn[1][1],qr>Vr&&(bn=qr,qr=Vr,Vr=bn),zn>ln&&(bn=zn,zn=ln,ln=bn),vn.precision(Jr)):[[qr,zn],[Vr,ln]]},vn.extentMinor=function(bn){return arguments.length?(Er=+bn[0][0],kr=+bn[1][0],gn=+bn[0][1],rn=+bn[1][1],Er>kr&&(bn=Er,Er=kr,kr=bn),gn>rn&&(bn=gn,gn=rn,rn=bn),vn.precision(Jr)):[[Er,gn],[kr,rn]]},vn.step=function(bn){return arguments.length?vn.stepMajor(bn).stepMinor(bn):vn.stepMinor()},vn.stepMajor=function(bn){return arguments.length?(fi=+bn[0],mi=+bn[1],vn):[fi,mi]},vn.stepMinor=function(bn){return arguments.length?(Rn=+bn[0],ai=+bn[1],vn):[Rn,ai]},vn.precision=function(bn){return arguments.length?(Jr=+bn,li=V(gn,rn,90),ri=W(Er,kr,Jr),yr=V(zn,ln,90),en=W(qr,Vr,Jr),vn):Jr},vn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function et(){return K()()}var lt=t(27284),ot=t(7376),q=(0,s.c)(),J=(0,s.c)(),it,Z,tt,st,Q={point:l.c,lineStart:l.c,lineEnd:l.c,polygonStart:function(){Q.lineStart=G,Q.lineEnd=dt},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=l.c,q.add((0,n.a2)(J)),J.reset()},result:function(){var kr=q/2;return q.reset(),kr}};function G(){Q.point=ut}function ut(kr,Er){Q.point=at,it=tt=kr,Z=st=Er}function at(kr,Er){J.add(st*kr-tt*Er),tt=kr,st=Er}function dt(){at(it,Z)}var gt=Q,wt=t(73784),kt=0,Ot=0,bt=0,_t=0,mt=0,Pt=0,Rt=0,Ht=0,Dt=0,Xt,se,Yt,ue,ie={point:fe,lineStart:ce,lineEnd:Te,polygonStart:function(){ie.lineStart=Et,ie.lineEnd=Vt},polygonEnd:function(){ie.point=fe,ie.lineStart=ce,ie.lineEnd=Te},result:function(){var kr=Dt?[Rt/Dt,Ht/Dt]:Pt?[_t/Pt,mt/Pt]:bt?[kt/bt,Ot/bt]:[NaN,NaN];return kt=Ot=bt=_t=mt=Pt=Rt=Ht=Dt=0,kr}};function fe(kr,Er){kt+=kr,Ot+=Er,++bt}function ce(){ie.point=ye}function ye(kr,Er){ie.point=de,fe(Yt=kr,ue=Er)}function de(kr,Er){var Vr=kr-Yt,qr=Er-ue,rn=(0,n._I)(Vr*Vr+qr*qr);_t+=rn*(Yt+kr)/2,mt+=rn*(ue+Er)/2,Pt+=rn,fe(Yt=kr,ue=Er)}function Te(){ie.point=fe}function Et(){ie.point=te}function Vt(){Jt(Xt,se)}function te(kr,Er){ie.point=Jt,fe(Xt=Yt=kr,se=ue=Er)}function Jt(kr,Er){var Vr=kr-Yt,qr=Er-ue,rn=(0,n._I)(Vr*Vr+qr*qr);_t+=rn*(Yt+kr)/2,mt+=rn*(ue+Er)/2,Pt+=rn,rn=ue*kr-Yt*Er,Rt+=rn*(Yt+kr),Ht+=rn*(ue+Er),Dt+=rn*3,fe(Yt=kr,ue=Er)}var Ut=ie;function It(kr){this._context=kr}It.prototype={_radius:4.5,pointRadius:function(kr){return this._radius=kr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(kr,Er){switch(this._point){case 0:{this._context.moveTo(kr,Er),this._point=1;break}case 1:{this._context.lineTo(kr,Er);break}default:{this._context.moveTo(kr+this._radius,Er),this._context.arc(kr,Er,this._radius,0,n.kD);break}}},result:l.c};var pt=(0,s.c)(),xt,Ct,At,Ft,Wt,Qt={point:l.c,lineStart:function(){Qt.point=he},lineEnd:function(){xt&&ve(Ct,At),Qt.point=l.c},polygonStart:function(){xt=!0},polygonEnd:function(){xt=null},result:function(){var kr=+pt;return pt.reset(),kr}};function he(kr,Er){Qt.point=ve,Ct=Ft=kr,At=Wt=Er}function ve(kr,Er){Ft-=kr,Wt-=Er,pt.add((0,n._I)(Ft*Ft+Wt*Wt)),Ft=kr,Wt=Er}var Je=Qt;function Ue(){this._string=[]}Ue.prototype={_radius:4.5,_circle:ke(4.5),pointRadius:function(kr){return(kr=+kr)!==this._radius&&(this._radius=kr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(kr,Er){switch(this._point){case 0:{this._string.push("M",kr,",",Er),this._point=1;break}case 1:{this._string.push("L",kr,",",Er);break}default:{this._circle==null&&(this._circle=ke(this._radius)),this._string.push("M",kr,",",Er,this._circle);break}}},result:function(){if(this._string.length){var kr=this._string.join("");return this._string=[],kr}else return null}};function ke(kr){return"m0,"+kr+"a"+kr+","+kr+" 0 1,1 0,"+-2*kr+"a"+kr+","+kr+" 0 1,1 0,"+2*kr+"z"}function Le(kr,Er){var Vr=4.5,qr,rn;function gn(ln){return ln&&(typeof Vr=="function"&&rn.pointRadius(+Vr.apply(this,arguments)),(0,o.c)(ln,qr(rn))),rn.result()}return gn.area=function(ln){return(0,o.c)(ln,qr(gt)),gt.result()},gn.measure=function(ln){return(0,o.c)(ln,qr(Je)),Je.result()},gn.bounds=function(ln){return(0,o.c)(ln,qr(wt.c)),wt.c.result()},gn.centroid=function(ln){return(0,o.c)(ln,qr(Ut)),Ut.result()},gn.projection=function(ln){return arguments.length?(qr=ln==null?(kr=null,ot.c):(kr=ln).stream,gn):kr},gn.context=function(ln){return arguments.length?(rn=ln==null?(Er=null,new Ue):new It(Er=ln),typeof Vr!="function"&&rn.pointRadius(Vr),gn):Er},gn.pointRadius=function(ln){return arguments.length?(Vr=typeof ln=="function"?ln:(rn.pointRadius(+ln),+ln),gn):Vr},gn.projection(kr).context(Er)}var Ge=t(87952);function mr(kr){var Er=0,Vr=n.pi/3,qr=(0,Ge.U)(kr),rn=qr(Er,Vr);return rn.parallels=function(gn){return arguments.length?qr(Er=gn[0]*n.qw,Vr=gn[1]*n.qw):[Er*n.oh,Vr*n.oh]},rn}function xe(kr){var Er=(0,n.W8)(kr);function Vr(qr,rn){return[qr*Er,(0,n.g$)(rn)/Er]}return Vr.invert=function(qr,rn){return[qr/Er,(0,n.qR)(rn*Er)]},Vr}function Xe(kr,Er){var Vr=(0,n.g$)(kr),qr=(Vr+(0,n.g$)(Er))/2;if((0,n.a2)(qr)<n.Gg)return xe(kr);var rn=1+Vr*(2*qr-Vr),gn=(0,n._I)(rn)/qr;function ln(zn,Rn){var ai=(0,n._I)(rn-2*qr*(0,n.g$)(Rn))/qr;return[ai*(0,n.g$)(zn*=qr),gn-ai*(0,n.W8)(zn)]}return ln.invert=function(zn,Rn){var ai=gn-Rn,fi=(0,n.WE)(zn,(0,n.a2)(ai))*(0,n.kq)(ai);return ai*qr<0&&(fi-=n.pi*(0,n.kq)(zn)*(0,n.kq)(ai)),[fi/qr,(0,n.qR)((rn-(zn*zn+ai*ai)*qr*qr)/(2*qr))]},ln}function Ye(){return mr(Xe).scale(155.424).center([0,33.6442])}function _r(){return Ye().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var rr=t(86420);function re(kr){var Er=kr.length;return{point:function(Vr,qr){for(var rn=-1;++rn<Er;)kr[rn].point(Vr,qr)},sphere:function(){for(var Vr=-1;++Vr<Er;)kr[Vr].sphere()},lineStart:function(){for(var Vr=-1;++Vr<Er;)kr[Vr].lineStart()},lineEnd:function(){for(var Vr=-1;++Vr<Er;)kr[Vr].lineEnd()},polygonStart:function(){for(var Vr=-1;++Vr<Er;)kr[Vr].polygonStart()},polygonEnd:function(){for(var Vr=-1;++Vr<Er;)kr[Vr].polygonEnd()}}}function le(){var kr,Er,Vr=_r(),qr,rn=Ye().rotate([154,0]).center([-2,58.5]).parallels([55,65]),gn,ln=Ye().rotate([157,0]).center([-3,19.9]).parallels([8,18]),zn,Rn,ai={point:function(li,ri){Rn=[li,ri]}};function fi(li){var ri=li[0],yr=li[1];return Rn=null,qr.point(ri,yr),Rn||(gn.point(ri,yr),Rn)||(zn.point(ri,yr),Rn)}fi.invert=function(li){var ri=Vr.scale(),yr=Vr.translate(),en=(li[0]-yr[0])/ri,Jr=(li[1]-yr[1])/ri;return(Jr>=.12&&Jr<.234&&en>=-.425&&en<-.214?rn:Jr>=.166&&Jr<.234&&en>=-.214&&en<-.115?ln:Vr).invert(li)},fi.stream=function(li){return kr&&Er===li?kr:kr=re([Vr.stream(Er=li),rn.stream(li),ln.stream(li)])},fi.precision=function(li){return arguments.length?(Vr.precision(li),rn.precision(li),ln.precision(li),mi()):Vr.precision()},fi.scale=function(li){return arguments.length?(Vr.scale(li),rn.scale(li*.35),ln.scale(li),fi.translate(Vr.translate())):Vr.scale()},fi.translate=function(li){if(!arguments.length)return Vr.translate();var ri=Vr.scale(),yr=+li[0],en=+li[1];return qr=Vr.translate(li).clipExtent([[yr-.455*ri,en-.238*ri],[yr+.455*ri,en+.238*ri]]).stream(ai),gn=rn.translate([yr-.307*ri,en+.201*ri]).clipExtent([[yr-.425*ri+n.Gg,en+.12*ri+n.Gg],[yr-.214*ri-n.Gg,en+.234*ri-n.Gg]]).stream(ai),zn=ln.translate([yr-.205*ri,en+.212*ri]).clipExtent([[yr-.214*ri+n.Gg,en+.166*ri+n.Gg],[yr-.115*ri-n.Gg,en+.234*ri-n.Gg]]).stream(ai),mi()},fi.fitExtent=function(li,ri){return(0,rr.QX)(fi,li,ri)},fi.fitSize=function(li,ri){return(0,rr.UV)(fi,li,ri)},fi.fitWidth=function(li,ri){return(0,rr.Qx)(fi,li,ri)},fi.fitHeight=function(li,ri){return(0,rr.OW)(fi,li,ri)};function mi(){return kr=Er=null,fi}return fi.scale(1070)}var me=t(54724),Ee=t(69020),ze=t(92992);function Oe(kr,Er){return[kr,(0,n.Yz)((0,n.a6)((n.or+Er)/2))]}Oe.invert=function(kr,Er){return[kr,2*(0,n.MQ)((0,n.oN)(Er))-n.or]};function Fe(){return Re(Oe).scale(961/n.kD)}function Re(kr){var Er=(0,Ge.c)(kr),Vr=Er.center,qr=Er.scale,rn=Er.translate,gn=Er.clipExtent,ln=null,zn,Rn,ai;Er.scale=function(mi){return arguments.length?(qr(mi),fi()):qr()},Er.translate=function(mi){return arguments.length?(rn(mi),fi()):rn()},Er.center=function(mi){return arguments.length?(Vr(mi),fi()):Vr()},Er.clipExtent=function(mi){return arguments.length?(mi==null?ln=zn=Rn=ai=null:(ln=+mi[0][0],zn=+mi[0][1],Rn=+mi[1][0],ai=+mi[1][1]),fi()):ln==null?null:[[ln,zn],[Rn,ai]]};function fi(){var mi=n.pi*qr(),li=Er((0,ze.c)(Er.rotate()).invert([0,0]));return gn(ln==null?[[li[0]-mi,li[1]-mi],[li[0]+mi,li[1]+mi]]:kr===Oe?[[Math.max(li[0]-mi,ln),zn],[Math.min(li[0]+mi,Rn),ai]]:[[ln,Math.max(li[1]-mi,zn)],[Rn,Math.min(li[1]+mi,ai)]])}return fi()}function Ke(kr){return(0,n.a6)((n.or+kr)/2)}function or(kr,Er){var Vr=(0,n.W8)(kr),qr=kr===Er?(0,n.g$)(kr):(0,n.Yz)(Vr/(0,n.W8)(Er))/(0,n.Yz)(Ke(Er)/Ke(kr)),rn=Vr*(0,n.g3)(Ke(kr),qr)/qr;if(!qr)return Oe;function gn(ln,zn){rn>0?zn<-n.or+n.Gg&&(zn=-n.or+n.Gg):zn>n.or-n.Gg&&(zn=n.or-n.Gg);var Rn=rn/(0,n.g3)(Ke(zn),qr);return[Rn*(0,n.g$)(qr*ln),rn-Rn*(0,n.W8)(qr*ln)]}return gn.invert=function(ln,zn){var Rn=rn-zn,ai=(0,n.kq)(qr)*(0,n._I)(ln*ln+Rn*Rn),fi=(0,n.WE)(ln,(0,n.a2)(Rn))*(0,n.kq)(Rn);return Rn*qr<0&&(fi-=n.pi*(0,n.kq)(ln)*(0,n.kq)(Rn)),[fi/qr,2*(0,n.MQ)((0,n.g3)(rn/ai,1/qr))-n.or]},gn}function pr(){return mr(or).scale(109.5).parallels([30,30])}var hr=t(69604);function jt(kr,Er){var Vr=(0,n.W8)(kr),qr=kr===Er?(0,n.g$)(kr):(Vr-(0,n.W8)(Er))/(Er-kr),rn=Vr/qr+kr;if((0,n.a2)(qr)<n.Gg)return hr.u;function gn(ln,zn){var Rn=rn-zn,ai=qr*ln;return[Rn*(0,n.g$)(ai),rn-Rn*(0,n.W8)(ai)]}return gn.invert=function(ln,zn){var Rn=rn-zn,ai=(0,n.WE)(ln,(0,n.a2)(Rn))*(0,n.kq)(Rn);return Rn*qr<0&&(ai-=n.pi*(0,n.kq)(ln)*(0,n.kq)(Rn)),[ai/qr,rn-(0,n.kq)(qr)*(0,n._I)(ln*ln+Rn*Rn)]},gn}function Gt(){return mr(jt).scale(131.154).center([0,13.9389])}var Ce=1.340264,Ie=-.081106,We=893e-6,$e=.003796,ir=(0,n._I)(3)/2,er=12;function De(kr,Er){var Vr=(0,n.qR)(ir*(0,n.g$)(Er)),qr=Vr*Vr,rn=qr*qr*qr;return[kr*(0,n.W8)(Vr)/(ir*(Ce+3*Ie*qr+rn*(7*We+9*$e*qr))),Vr*(Ce+Ie*qr+rn*(We+$e*qr))]}De.invert=function(kr,Er){for(var Vr=Er,qr=Vr*Vr,rn=qr*qr*qr,gn=0,ln,zn,Rn;gn<er&&(zn=Vr*(Ce+Ie*qr+rn*(We+$e*qr))-Er,Rn=Ce+3*Ie*qr+rn*(7*We+9*$e*qr),Vr-=ln=zn/Rn,qr=Vr*Vr,rn=qr*qr*qr,!((0,n.a2)(ln)<n.a8));++gn);return[ir*kr*(Ce+3*Ie*qr+rn*(7*We+9*$e*qr))/(0,n.W8)(Vr),(0,n.qR)((0,n.g$)(Vr)/ir)]};function lr(){return(0,Ge.c)(De).scale(177.158)}var vr=t(53285),dr=t(15196);function fr(){var kr=1,Er=0,Vr=0,qr=1,rn=1,gn=0,ln,zn,Rn=null,ai,fi,mi,li=1,ri=1,yr=(0,dr.s)({point:function(In,Bn){var Kn=bn([In,Bn]);this.stream.point(Kn[0],Kn[1])}}),en=ot.c,Jr,vn;function Vn(){return li=kr*qr,ri=kr*rn,Jr=vn=null,bn}function bn(In){var Bn=In[0]*li,Kn=In[1]*ri;if(gn){var pi=Kn*ln-Bn*zn;Bn=Bn*ln+Kn*zn,Kn=pi}return[Bn+Er,Kn+Vr]}return bn.invert=function(In){var Bn=In[0]-Er,Kn=In[1]-Vr;if(gn){var pi=Kn*ln+Bn*zn;Bn=Bn*ln-Kn*zn,Kn=pi}return[Bn/li,Kn/ri]},bn.stream=function(In){return Jr&&vn===In?Jr:Jr=yr(en(vn=In))},bn.postclip=function(In){return arguments.length?(en=In,Rn=ai=fi=mi=null,Vn()):en},bn.clipExtent=function(In){return arguments.length?(en=In==null?(Rn=ai=fi=mi=null,ot.c):(0,v.c)(Rn=+In[0][0],ai=+In[0][1],fi=+In[1][0],mi=+In[1][1]),Vn()):Rn==null?null:[[Rn,ai],[fi,mi]]},bn.scale=function(In){return arguments.length?(kr=+In,Vn()):kr},bn.translate=function(In){return arguments.length?(Er=+In[0],Vr=+In[1],Vn()):[Er,Vr]},bn.angle=function(In){return arguments.length?(gn=In%360*n.qw,zn=(0,n.g$)(gn),ln=(0,n.W8)(gn),Vn()):gn*n.oh},bn.reflectX=function(In){return arguments.length?(qr=In?-1:1,Vn()):qr<0},bn.reflectY=function(In){return arguments.length?(rn=In?-1:1,Vn()):rn<0},bn.fitExtent=function(In,Bn){return(0,rr.QX)(bn,In,Bn)},bn.fitSize=function(In,Bn){return(0,rr.UV)(bn,In,Bn)},bn.fitWidth=function(In,Bn){return(0,rr.Qx)(bn,In,Bn)},bn.fitHeight=function(In,Bn){return(0,rr.OW)(bn,In,Bn)},bn}var zr=t(47984),Or=t(4888),Ir=t(62280);function sn(kr,Er){var Vr=(0,n.W8)(Er),qr=1+(0,n.W8)(kr)*Vr;return[Vr*(0,n.g$)(kr)/qr,(0,n.g$)(Er)/qr]}sn.invert=(0,Ir.g)(function(kr){return 2*(0,n.MQ)(kr)});function nn(){return(0,Ge.c)(sn).scale(250).clipAngle(142)}function kn(kr,Er){return[(0,n.Yz)((0,n.a6)((n.or+Er)/2)),-kr]}kn.invert=function(kr,Er){return[-Er,2*(0,n.MQ)((0,n.oN)(kr))-n.or]};function Mn(){var kr=Re(kn),Er=kr.center,Vr=kr.rotate;return kr.center=function(qr){return arguments.length?Er([-qr[1],qr[0]]):(qr=Er(),[qr[1],-qr[0]])},kr.rotate=function(qr){return arguments.length?Vr([qr[0],qr[1],qr.length>2?qr[2]+90:90]):(qr=Vr(),[qr[0],qr[1],qr[2]-90])},Vr([0,0,90]).scale(159.155)}},27284:function(X,B,t){t.d(B,{c:function(){return E}});var x=t(64528);function E(i,M){var m=i[0]*x.qw,d=i[1]*x.qw,v=M[0]*x.qw,r=M[1]*x.qw,e=(0,x.W8)(d),s=(0,x.g$)(d),n=(0,x.W8)(r),l=(0,x.g$)(r),o=e*(0,x.W8)(m),h=e*(0,x.g$)(m),b=n*(0,x.W8)(v),f=n*(0,x.g$)(v),k=2*(0,x.qR)((0,x._I)((0,x.SD)(r-d)+e*n*(0,x.SD)(v-m))),a=(0,x.g$)(k),c=k?function(p){var w=(0,x.g$)(p*=k)/a,S=(0,x.g$)(k-p)/a,_=S*o+w*b,T=S*h+w*f,P=S*s+w*l;return[(0,x.WE)(T,_)*x.oh,(0,x.WE)(P,(0,x._I)(_*_+T*T))*x.oh]}:function(){return[m*x.oh,d*x.oh]};return c.distance=k,c}},64528:function(X,B,t){t.d(B,{Gg:function(){return x},Km:function(){return o},MQ:function(){return s},SD:function(){return _},W8:function(){return l},WE:function(){return n},Yz:function(){return b},_I:function(){return c},a2:function(){return e},a6:function(){return p},a8:function(){return E},g$:function(){return k},g3:function(){return f},kD:function(){return d},kq:function(){return a},mE:function(){return w},oN:function(){return h},oh:function(){return v},or:function(){return M},pi:function(){return i},qR:function(){return S},qw:function(){return r},wL:function(){return m}});var x=1e-6,E=1e-12,i=Math.PI,M=i/2,m=i/4,d=i*2,v=180/i,r=i/180,e=Math.abs,s=Math.atan,n=Math.atan2,l=Math.cos,o=Math.ceil,h=Math.exp,b=Math.log,f=Math.pow,k=Math.sin,a=Math.sign||function(T){return T>0?1:T<0?-1:0},c=Math.sqrt,p=Math.tan;function w(T){return T>1?0:T<-1?i:Math.acos(T)}function S(T){return T>1?M:T<-1?-M:Math.asin(T)}function _(T){return(T=k(T/2))*T}},70932:function(X,B,t){t.d(B,{c:function(){return x}});function x(){}},73784:function(X,B,t){var x=t(70932),E=1/0,i=E,M=-E,m=M,d={point:v,lineStart:x.c,lineEnd:x.c,polygonStart:x.c,polygonEnd:x.c,result:function(){var r=[[E,i],[M,m]];return M=m=-(i=E=1/0),r}};function v(r,e){r<E&&(E=r),r>M&&(M=r),e<i&&(i=e),e>m&&(m=e)}B.c=d},41860:function(X,B,t){t.d(B,{c:function(){return E}});var x=t(64528);function E(i,M){return(0,x.a2)(i[0]-M[0])<x.Gg&&(0,x.a2)(i[1]-M[1])<x.Gg}},58196:function(X,B,t){t.d(B,{c:function(){return d}});var x=t(88728),E=t(84220),i=t(64528),M=(0,x.c)();function m(v){return(0,i.a2)(v[0])<=i.pi?v[0]:(0,i.kq)(v[0])*(((0,i.a2)(v[0])+i.pi)%i.kD-i.pi)}function d(v,r){var e=m(r),s=r[1],n=(0,i.g$)(s),l=[(0,i.g$)(e),-(0,i.W8)(e),0],o=0,h=0;M.reset(),n===1?s=i.or+i.Gg:n===-1&&(s=-i.or-i.Gg);for(var b=0,f=v.length;b<f;++b)if(a=(k=v[b]).length)for(var k,a,c=k[a-1],p=m(c),w=c[1]/2+i.wL,S=(0,i.g$)(w),_=(0,i.W8)(w),T=0;T<a;++T,p=u,S=L,_=A,c=P){var P=k[T],u=m(P),g=P[1]/2+i.wL,L=(0,i.g$)(g),A=(0,i.W8)(g),R=u-p,O=R>=0?1:-1,N=O*R,z=N>i.pi,F=S*L;if(M.add((0,i.WE)(F*O*(0,i.g$)(N),_*A+F*(0,i.W8)(N))),o+=z?R+O*i.kD:R,z^p>=e^u>=e){var I=(0,E.CW)((0,E.ux)(c),(0,E.ux)(P));(0,E.cJ)(I);var j=(0,E.CW)(l,I);(0,E.cJ)(j);var V=(z^R>=0?-1:1)*(0,i.qR)(j[2]);(s>V||s===V&&(I[0]||I[1]))&&(h+=z^R>=0?1:-1)}}return(o<-i.Gg||o<i.Gg&&M<-i.Gg)^h&1}},62280:function(X,B,t){t.d(B,{a:function(){return E},g:function(){return i}});var x=t(64528);function E(M){return function(m,d){var v=(0,x.W8)(m),r=(0,x.W8)(d),e=M(v*r);return[e*r*(0,x.g$)(m),e*(0,x.g$)(d)]}}function i(M){return function(m,d){var v=(0,x._I)(m*m+d*d),r=M(v),e=(0,x.g$)(r),s=(0,x.W8)(r);return[(0,x.WE)(m*e,v*s),(0,x.qR)(v&&d*e/v)]}}},54724:function(X,B,t){t.d(B,{c:function(){return m},y:function(){return M}});var x=t(64528),E=t(62280),i=t(87952),M=(0,E.a)(function(d){return(0,x._I)(2/(1+d))});M.invert=(0,E.g)(function(d){return 2*(0,x.qR)(d/2)});function m(){return(0,i.c)(M).scale(124.75).clipAngle(179.999)}},69020:function(X,B,t){t.d(B,{O:function(){return M},c:function(){return m}});var x=t(64528),E=t(62280),i=t(87952),M=(0,E.a)(function(d){return(d=(0,x.mE)(d))&&d/(0,x.g$)(d)});M.invert=(0,E.g)(function(d){return d});function m(){return(0,i.c)(M).scale(79.4188).clipAngle(179.999)}},69604:function(X,B,t){t.d(B,{c:function(){return i},u:function(){return E}});var x=t(87952);function E(M,m){return[M,m]}E.invert=E;function i(){return(0,x.c)(E).scale(152.63)}},86420:function(X,B,t){t.d(B,{OW:function(){return v},QX:function(){return M},Qx:function(){return d},UV:function(){return m}});var x=t(16016),E=t(73784);function i(r,e,s){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,x.c)(s,r.stream(E.c)),e(E.c.result()),n!=null&&r.clipExtent(n),r}function M(r,e,s){return i(r,function(n){var l=e[1][0]-e[0][0],o=e[1][1]-e[0][1],h=Math.min(l/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),b=+e[0][0]+(l-h*(n[1][0]+n[0][0]))/2,f=+e[0][1]+(o-h*(n[1][1]+n[0][1]))/2;r.scale(150*h).translate([b,f])},s)}function m(r,e,s){return M(r,[[0,0],e],s)}function d(r,e,s){return i(r,function(n){var l=+e,o=l/(n[1][0]-n[0][0]),h=(l-o*(n[1][0]+n[0][0]))/2,b=-o*n[0][1];r.scale(150*o).translate([h,b])},s)}function v(r,e,s){return i(r,function(n){var l=+e,o=l/(n[1][1]-n[0][1]),h=-o*n[0][0],b=(l-o*(n[1][1]+n[0][1]))/2;r.scale(150*o).translate([h,b])},s)}},53285:function(X,B,t){t.d(B,{Y:function(){return M},c:function(){return m}});var x=t(64528),E=t(62280),i=t(87952);function M(d,v){var r=(0,x.W8)(v),e=(0,x.W8)(d)*r;return[r*(0,x.g$)(d)/e,(0,x.g$)(v)/e]}M.invert=(0,E.g)(x.MQ);function m(){return(0,i.c)(M).scale(144.049).clipAngle(60)}},87952:function(X,B,t){t.d(B,{c:function(){return p},U:function(){return w}});var x=t(78284),E=t(2728),i=t(21676),M=t(68120),m=t(7376),d=t(64528),v=t(92992),r=t(15196),e=t(86420),s=t(84220),n=16,l=(0,d.W8)(30*d.qw);function o(S,_){return+_?b(S,_):h(S)}function h(S){return(0,r.s)({point:function(_,T){_=S(_,T),this.stream.point(_[0],_[1])}})}function b(S,_){function T(P,u,g,L,A,R,O,N,z,F,I,j,V,W){var K=O-P,et=N-u,lt=K*K+et*et;if(lt>4*_&&V--){var ot=L+F,q=A+I,J=R+j,it=(0,d._I)(ot*ot+q*q+J*J),Z=(0,d.qR)(J/=it),tt=(0,d.a2)((0,d.a2)(J)-1)<d.Gg||(0,d.a2)(g-z)<d.Gg?(g+z)/2:(0,d.WE)(q,ot),st=S(tt,Z),Q=st[0],G=st[1],ut=Q-P,at=G-u,dt=et*ut-K*at;(dt*dt/lt>_||(0,d.a2)((K*ut+et*at)/lt-.5)>.3||L*F+A*I+R*j<l)&&(T(P,u,g,L,A,R,Q,G,tt,ot/=it,q/=it,J,V,W),W.point(Q,G),T(Q,G,tt,ot,q,J,O,N,z,F,I,j,V,W))}}return function(P){var u,g,L,A,R,O,N,z,F,I,j,V,W={point:K,lineStart:et,lineEnd:ot,polygonStart:function(){P.polygonStart(),W.lineStart=q},polygonEnd:function(){P.polygonEnd(),W.lineStart=et}};function K(Z,tt){Z=S(Z,tt),P.point(Z[0],Z[1])}function et(){z=NaN,W.point=lt,P.lineStart()}function lt(Z,tt){var st=(0,s.ux)([Z,tt]),Q=S(Z,tt);T(z,F,N,I,j,V,z=Q[0],F=Q[1],N=Z,I=st[0],j=st[1],V=st[2],n,P),P.point(z,F)}function ot(){W.point=K,P.lineEnd()}function q(){et(),W.point=J,W.lineEnd=it}function J(Z,tt){lt(u=Z,tt),g=z,L=F,A=I,R=j,O=V,W.point=lt}function it(){T(z,F,N,I,j,V,g,L,u,A,R,O,n,P),W.lineEnd=ot,ot()}return W}}var f=(0,r.s)({point:function(S,_){this.stream.point(S*d.qw,_*d.qw)}});function k(S){return(0,r.s)({point:function(_,T){var P=S(_,T);return this.stream.point(P[0],P[1])}})}function a(S,_,T,P,u){function g(L,A){return L*=P,A*=u,[_+S*L,T-S*A]}return g.invert=function(L,A){return[(L-_)/S*P,(T-A)/S*u]},g}function c(S,_,T,P,u,g){var L=(0,d.W8)(g),A=(0,d.g$)(g),R=L*S,O=A*S,N=L/S,z=A/S,F=(A*T-L*_)/S,I=(A*_+L*T)/S;function j(V,W){return V*=P,W*=u,[R*V-O*W+_,T-O*V-R*W]}return j.invert=function(V,W){return[P*(N*V-z*W+F),u*(I-z*V-N*W)]},j}function p(S){return w(function(){return S})()}function w(S){var _,T=150,P=480,u=250,g=0,L=0,A=0,R=0,O=0,N,z=0,F=1,I=1,j=null,V=x.c,W=null,K,et,lt,ot=m.c,q=.5,J,it,Z,tt,st;function Q(dt){return Z(dt[0]*d.qw,dt[1]*d.qw)}function G(dt){return dt=Z.invert(dt[0],dt[1]),dt&&[dt[0]*d.oh,dt[1]*d.oh]}Q.stream=function(dt){return tt&&st===dt?tt:tt=f(k(N)(V(J(ot(st=dt)))))},Q.preclip=function(dt){return arguments.length?(V=dt,j=void 0,at()):V},Q.postclip=function(dt){return arguments.length?(ot=dt,W=K=et=lt=null,at()):ot},Q.clipAngle=function(dt){return arguments.length?(V=+dt?(0,E.c)(j=dt*d.qw):(j=null,x.c),at()):j*d.oh},Q.clipExtent=function(dt){return arguments.length?(ot=dt==null?(W=K=et=lt=null,m.c):(0,i.c)(W=+dt[0][0],K=+dt[0][1],et=+dt[1][0],lt=+dt[1][1]),at()):W==null?null:[[W,K],[et,lt]]},Q.scale=function(dt){return arguments.length?(T=+dt,ut()):T},Q.translate=function(dt){return arguments.length?(P=+dt[0],u=+dt[1],ut()):[P,u]},Q.center=function(dt){return arguments.length?(g=dt[0]%360*d.qw,L=dt[1]%360*d.qw,ut()):[g*d.oh,L*d.oh]},Q.rotate=function(dt){return arguments.length?(A=dt[0]%360*d.qw,R=dt[1]%360*d.qw,O=dt.length>2?dt[2]%360*d.qw:0,ut()):[A*d.oh,R*d.oh,O*d.oh]},Q.angle=function(dt){return arguments.length?(z=dt%360*d.qw,ut()):z*d.oh},Q.reflectX=function(dt){return arguments.length?(F=dt?-1:1,ut()):F<0},Q.reflectY=function(dt){return arguments.length?(I=dt?-1:1,ut()):I<0},Q.precision=function(dt){return arguments.length?(J=o(it,q=dt*dt),at()):(0,d._I)(q)},Q.fitExtent=function(dt,gt){return(0,e.QX)(Q,dt,gt)},Q.fitSize=function(dt,gt){return(0,e.UV)(Q,dt,gt)},Q.fitWidth=function(dt,gt){return(0,e.Qx)(Q,dt,gt)},Q.fitHeight=function(dt,gt){return(0,e.OW)(Q,dt,gt)};function ut(){var dt=c(T,0,0,F,I,z).apply(null,_(g,L)),gt=(z?c:a)(T,P-dt[0],u-dt[1],F,I,z);return N=(0,v.O)(A,R,O),it=(0,M.c)(_,gt),Z=(0,M.c)(N,it),J=o(it,q),at()}function at(){return tt=st=null,Q}return function(){return _=S.apply(this,arguments),Q.invert=_.invert&&G,ut()}}},47984:function(X,B,t){t.d(B,{c:function(){return M},g:function(){return i}});var x=t(87952),E=t(64528);function i(m,d){var v=d*d,r=v*v;return[m*(.8707-.131979*v+r*(-.013791+r*(.003971*v-.001529*r))),d*(1.007226+v*(.015085+r*(-.044475+.028874*v-.005916*r)))]}i.invert=function(m,d){var v=d,r=25,e;do{var s=v*v,n=s*s;v-=e=(v*(1.007226+s*(.015085+n*(-.044475+.028874*s-.005916*n)))-d)/(1.007226+s*(.045255+n*(-.311325+.259866*s-.06507600000000001*n)))}while((0,E.a2)(e)>E.Gg&&--r>0);return[m/(.8707+(s=v*v)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),v]};function M(){return(0,x.c)(i).scale(175.295)}},4888:function(X,B,t){t.d(B,{c:function(){return m},t:function(){return M}});var x=t(64528),E=t(62280),i=t(87952);function M(d,v){return[(0,x.W8)(v)*(0,x.g$)(d),(0,x.g$)(v)]}M.invert=(0,E.g)(x.qR);function m(){return(0,i.c)(M).scale(249.5).clipAngle(90+x.Gg)}},92992:function(X,B,t){t.d(B,{O:function(){return M},c:function(){return r}});var x=t(68120),E=t(64528);function i(e,s){return[(0,E.a2)(e)>E.pi?e+Math.round(-e/E.kD)*E.kD:e,s]}i.invert=i;function M(e,s,n){return(e%=E.kD)?s||n?(0,x.c)(d(e),v(s,n)):d(e):s||n?v(s,n):i}function m(e){return function(s,n){return s+=e,[s>E.pi?s-E.kD:s<-E.pi?s+E.kD:s,n]}}function d(e){var s=m(e);return s.invert=m(-e),s}function v(e,s){var n=(0,E.W8)(e),l=(0,E.g$)(e),o=(0,E.W8)(s),h=(0,E.g$)(s);function b(f,k){var a=(0,E.W8)(k),c=(0,E.W8)(f)*a,p=(0,E.g$)(f)*a,w=(0,E.g$)(k),S=w*n+c*l;return[(0,E.WE)(p*o-S*h,c*n-w*l),(0,E.qR)(S*o+p*h)]}return b.invert=function(f,k){var a=(0,E.W8)(k),c=(0,E.W8)(f)*a,p=(0,E.g$)(f)*a,w=(0,E.g$)(k),S=w*o-p*h;return[(0,E.WE)(p*o+w*h,c*n+S*l),(0,E.qR)(S*n-c*l)]},b}function r(e){e=M(e[0]*E.qw,e[1]*E.qw,e.length>2?e[2]*E.qw:0);function s(n){return n=e(n[0]*E.qw,n[1]*E.qw),n[0]*=E.oh,n[1]*=E.oh,n}return s.invert=function(n){return n=e.invert(n[0]*E.qw,n[1]*E.qw),n[0]*=E.oh,n[1]*=E.oh,n},s}},16016:function(X,B,t){t.d(B,{c:function(){return d}});function x(v,r){v&&i.hasOwnProperty(v.type)&&i[v.type](v,r)}var E={Feature:function(v,r){x(v.geometry,r)},FeatureCollection:function(v,r){for(var e=v.features,s=-1,n=e.length;++s<n;)x(e[s].geometry,r)}},i={Sphere:function(v,r){r.sphere()},Point:function(v,r){v=v.coordinates,r.point(v[0],v[1],v[2])},MultiPoint:function(v,r){for(var e=v.coordinates,s=-1,n=e.length;++s<n;)v=e[s],r.point(v[0],v[1],v[2])},LineString:function(v,r){M(v.coordinates,r,0)},MultiLineString:function(v,r){for(var e=v.coordinates,s=-1,n=e.length;++s<n;)M(e[s],r,0)},Polygon:function(v,r){m(v.coordinates,r)},MultiPolygon:function(v,r){for(var e=v.coordinates,s=-1,n=e.length;++s<n;)m(e[s],r)},GeometryCollection:function(v,r){for(var e=v.geometries,s=-1,n=e.length;++s<n;)x(e[s],r)}};function M(v,r,e){var s=-1,n=v.length-e,l;for(r.lineStart();++s<n;)l=v[s],r.point(l[0],l[1],l[2]);r.lineEnd()}function m(v,r){var e=-1,s=v.length;for(r.polygonStart();++e<s;)M(v[e],r,1);r.polygonEnd()}function d(v,r){v&&E.hasOwnProperty(v.type)?E[v.type](v,r):x(v,r)}},15196:function(X,B,t){t.d(B,{c:function(){return x},s:function(){return E}});function x(M){return{stream:E(M)}}function E(M){return function(m){var d=new i;for(var v in M)d[v]=M[v];return d.stream=m,d}}function i(){}i.prototype={constructor:i,point:function(M,m){this.stream.point(M,m)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(X,B,t){t.r(B),t.d(B,{cluster:function(){return r},hierarchy:function(){return S},pack:function(){return G},packEnclose:function(){return R},packSiblings:function(){return J},partition:function(){return kt},stratify:function(){return Rt},tree:function(){return ce},treemap:function(){return Vt},treemapBinary:function(){return te},treemapDice:function(){return wt},treemapResquarify:function(){return Ut},treemapSlice:function(){return ye},treemapSliceDice:function(){return Jt},treemapSquarify:function(){return Et}});function x(It,pt){return It.parent===pt.parent?1:2}function E(It){return It.reduce(i,0)/It.length}function i(It,pt){return It+pt.x}function M(It){return 1+It.reduce(m,0)}function m(It,pt){return Math.max(It,pt.y)}function d(It){for(var pt;pt=It.children;)It=pt[0];return It}function v(It){for(var pt;pt=It.children;)It=pt[pt.length-1];return It}function r(){var It=x,pt=1,xt=1,Ct=!1;function At(Ft){var Wt,Qt=0;Ft.eachAfter(function(ke){var Le=ke.children;Le?(ke.x=E(Le),ke.y=M(Le)):(ke.x=Wt?Qt+=It(ke,Wt):0,ke.y=0,Wt=ke)});var he=d(Ft),ve=v(Ft),Je=he.x-It(he,ve)/2,Ue=ve.x+It(ve,he)/2;return Ft.eachAfter(Ct?function(ke){ke.x=(ke.x-Ft.x)*pt,ke.y=(Ft.y-ke.y)*xt}:function(ke){ke.x=(ke.x-Je)/(Ue-Je)*pt,ke.y=(1-(Ft.y?ke.y/Ft.y:1))*xt})}return At.separation=function(Ft){return arguments.length?(It=Ft,At):It},At.size=function(Ft){return arguments.length?(Ct=!1,pt=+Ft[0],xt=+Ft[1],At):Ct?null:[pt,xt]},At.nodeSize=function(Ft){return arguments.length?(Ct=!0,pt=+Ft[0],xt=+Ft[1],At):Ct?[pt,xt]:null},At}function e(It){var pt=0,xt=It.children,Ct=xt&&xt.length;if(!Ct)pt=1;else for(;--Ct>=0;)pt+=xt[Ct].value;It.value=pt}function s(){return this.eachAfter(e)}function n(It){var pt=this,xt,Ct=[pt],At,Ft,Wt;do for(xt=Ct.reverse(),Ct=[];pt=xt.pop();)if(It(pt),At=pt.children,At)for(Ft=0,Wt=At.length;Ft<Wt;++Ft)Ct.push(At[Ft]);while(Ct.length);return this}function l(It){for(var pt=this,xt=[pt],Ct,At;pt=xt.pop();)if(It(pt),Ct=pt.children,Ct)for(At=Ct.length-1;At>=0;--At)xt.push(Ct[At]);return this}function o(It){for(var pt=this,xt=[pt],Ct=[],At,Ft,Wt;pt=xt.pop();)if(Ct.push(pt),At=pt.children,At)for(Ft=0,Wt=At.length;Ft<Wt;++Ft)xt.push(At[Ft]);for(;pt=Ct.pop();)It(pt);return this}function h(It){return this.eachAfter(function(pt){for(var xt=+It(pt.data)||0,Ct=pt.children,At=Ct&&Ct.length;--At>=0;)xt+=Ct[At].value;pt.value=xt})}function b(It){return this.eachBefore(function(pt){pt.children&&pt.children.sort(It)})}function f(It){for(var pt=this,xt=k(pt,It),Ct=[pt];pt!==xt;)pt=pt.parent,Ct.push(pt);for(var At=Ct.length;It!==xt;)Ct.splice(At,0,It),It=It.parent;return Ct}function k(It,pt){if(It===pt)return It;var xt=It.ancestors(),Ct=pt.ancestors(),At=null;for(It=xt.pop(),pt=Ct.pop();It===pt;)At=It,It=xt.pop(),pt=Ct.pop();return At}function a(){for(var It=this,pt=[It];It=It.parent;)pt.push(It);return pt}function c(){var It=[];return this.each(function(pt){It.push(pt)}),It}function p(){var It=[];return this.eachBefore(function(pt){pt.children||It.push(pt)}),It}function w(){var It=this,pt=[];return It.each(function(xt){xt!==It&&pt.push({source:xt.parent,target:xt})}),pt}function S(It,pt){var xt=new g(It),Ct=+It.value&&(xt.value=It.value),At,Ft=[xt],Wt,Qt,he,ve;for(pt==null&&(pt=T);At=Ft.pop();)if(Ct&&(At.value=+At.data.value),(Qt=pt(At.data))&&(ve=Qt.length))for(At.children=new Array(ve),he=ve-1;he>=0;--he)Ft.push(Wt=At.children[he]=new g(Qt[he])),Wt.parent=At,Wt.depth=At.depth+1;return xt.eachBefore(u)}function _(){return S(this).eachBefore(P)}function T(It){return It.children}function P(It){It.data=It.data.data}function u(It){var pt=0;do It.height=pt;while((It=It.parent)&&It.height<++pt)}function g(It){this.data=It,this.depth=this.height=0,this.parent=null}g.prototype=S.prototype={constructor:g,count:s,each:n,eachAfter:o,eachBefore:l,sum:h,sort:b,path:f,ancestors:a,descendants:c,leaves:p,links:w,copy:_};var L=Array.prototype.slice;function A(It){for(var pt=It.length,xt,Ct;pt;)Ct=Math.random()*pt--|0,xt=It[pt],It[pt]=It[Ct],It[Ct]=xt;return It}function R(It){for(var pt=0,xt=(It=A(L.call(It))).length,Ct=[],At,Ft;pt<xt;)At=It[pt],Ft&&z(Ft,At)?++pt:(Ft=I(Ct=O(Ct,At)),pt=0);return Ft}function O(It,pt){var xt,Ct;if(F(pt,It))return[pt];for(xt=0;xt<It.length;++xt)if(N(pt,It[xt])&&F(V(It[xt],pt),It))return[It[xt],pt];for(xt=0;xt<It.length-1;++xt)for(Ct=xt+1;Ct<It.length;++Ct)if(N(V(It[xt],It[Ct]),pt)&&N(V(It[xt],pt),It[Ct])&&N(V(It[Ct],pt),It[xt])&&F(W(It[xt],It[Ct],pt),It))return[It[xt],It[Ct],pt];throw new Error}function N(It,pt){var xt=It.r-pt.r,Ct=pt.x-It.x,At=pt.y-It.y;return xt<0||xt*xt<Ct*Ct+At*At}function z(It,pt){var xt=It.r-pt.r+1e-6,Ct=pt.x-It.x,At=pt.y-It.y;return xt>0&&xt*xt>Ct*Ct+At*At}function F(It,pt){for(var xt=0;xt<pt.length;++xt)if(!z(It,pt[xt]))return!1;return!0}function I(It){switch(It.length){case 1:return j(It[0]);case 2:return V(It[0],It[1]);case 3:return W(It[0],It[1],It[2])}}function j(It){return{x:It.x,y:It.y,r:It.r}}function V(It,pt){var xt=It.x,Ct=It.y,At=It.r,Ft=pt.x,Wt=pt.y,Qt=pt.r,he=Ft-xt,ve=Wt-Ct,Je=Qt-At,Ue=Math.sqrt(he*he+ve*ve);return{x:(xt+Ft+he/Ue*Je)/2,y:(Ct+Wt+ve/Ue*Je)/2,r:(Ue+At+Qt)/2}}function W(It,pt,xt){var Ct=It.x,At=It.y,Ft=It.r,Wt=pt.x,Qt=pt.y,he=pt.r,ve=xt.x,Je=xt.y,Ue=xt.r,ke=Ct-Wt,Le=Ct-ve,Ge=At-Qt,mr=At-Je,xe=he-Ft,Xe=Ue-Ft,Ye=Ct*Ct+At*At-Ft*Ft,_r=Ye-Wt*Wt-Qt*Qt+he*he,rr=Ye-ve*ve-Je*Je+Ue*Ue,re=Le*Ge-ke*mr,le=(Ge*rr-mr*_r)/(re*2)-Ct,me=(mr*xe-Ge*Xe)/re,Ee=(Le*_r-ke*rr)/(re*2)-At,ze=(ke*Xe-Le*xe)/re,Oe=me*me+ze*ze-1,Fe=2*(Ft+le*me+Ee*ze),Re=le*le+Ee*Ee-Ft*Ft,Ke=-(Oe?(Fe+Math.sqrt(Fe*Fe-4*Oe*Re))/(2*Oe):Re/Fe);return{x:Ct+le+me*Ke,y:At+Ee+ze*Ke,r:Ke}}function K(It,pt,xt){var Ct=It.x-pt.x,At,Ft,Wt=It.y-pt.y,Qt,he,ve=Ct*Ct+Wt*Wt;ve?(Ft=pt.r+xt.r,Ft*=Ft,he=It.r+xt.r,he*=he,Ft>he?(At=(ve+he-Ft)/(2*ve),Qt=Math.sqrt(Math.max(0,he/ve-At*At)),xt.x=It.x-At*Ct-Qt*Wt,xt.y=It.y-At*Wt+Qt*Ct):(At=(ve+Ft-he)/(2*ve),Qt=Math.sqrt(Math.max(0,Ft/ve-At*At)),xt.x=pt.x+At*Ct-Qt*Wt,xt.y=pt.y+At*Wt+Qt*Ct)):(xt.x=pt.x+xt.r,xt.y=pt.y)}function et(It,pt){var xt=It.r+pt.r-1e-6,Ct=pt.x-It.x,At=pt.y-It.y;return xt>0&&xt*xt>Ct*Ct+At*At}function lt(It){var pt=It._,xt=It.next._,Ct=pt.r+xt.r,At=(pt.x*xt.r+xt.x*pt.r)/Ct,Ft=(pt.y*xt.r+xt.y*pt.r)/Ct;return At*At+Ft*Ft}function ot(It){this._=It,this.next=null,this.previous=null}function q(It){if(!(At=It.length))return 0;var pt,xt,Ct,At,Ft,Wt,Qt,he,ve,Je,Ue;if(pt=It[0],pt.x=0,pt.y=0,!(At>1))return pt.r;if(xt=It[1],pt.x=-xt.r,xt.x=pt.r,xt.y=0,!(At>2))return pt.r+xt.r;K(xt,pt,Ct=It[2]),pt=new ot(pt),xt=new ot(xt),Ct=new ot(Ct),pt.next=Ct.previous=xt,xt.next=pt.previous=Ct,Ct.next=xt.previous=pt;t:for(Qt=3;Qt<At;++Qt){K(pt._,xt._,Ct=It[Qt]),Ct=new ot(Ct),he=xt.next,ve=pt.previous,Je=xt._.r,Ue=pt._.r;do if(Je<=Ue){if(et(he._,Ct._)){xt=he,pt.next=xt,xt.previous=pt,--Qt;continue t}Je+=he._.r,he=he.next}else{if(et(ve._,Ct._)){pt=ve,pt.next=xt,xt.previous=pt,--Qt;continue t}Ue+=ve._.r,ve=ve.previous}while(he!==ve.next);for(Ct.previous=pt,Ct.next=xt,pt.next=xt.previous=xt=Ct,Ft=lt(pt);(Ct=Ct.next)!==xt;)(Wt=lt(Ct))<Ft&&(pt=Ct,Ft=Wt);xt=pt.next}for(pt=[xt._],Ct=xt;(Ct=Ct.next)!==xt;)pt.push(Ct._);for(Ct=R(pt),Qt=0;Qt<At;++Qt)pt=It[Qt],pt.x-=Ct.x,pt.y-=Ct.y;return Ct.r}function J(It){return q(It),It}function it(It){return It==null?null:Z(It)}function Z(It){if(typeof It!="function")throw new Error;return It}function tt(){return 0}function st(It){return function(){return It}}function Q(It){return Math.sqrt(It.value)}function G(){var It=null,pt=1,xt=1,Ct=tt;function At(Ft){return Ft.x=pt/2,Ft.y=xt/2,It?Ft.eachBefore(ut(It)).eachAfter(at(Ct,.5)).eachBefore(dt(1)):Ft.eachBefore(ut(Q)).eachAfter(at(tt,1)).eachAfter(at(Ct,Ft.r/Math.min(pt,xt))).eachBefore(dt(Math.min(pt,xt)/(2*Ft.r))),Ft}return At.radius=function(Ft){return arguments.length?(It=it(Ft),At):It},At.size=function(Ft){return arguments.length?(pt=+Ft[0],xt=+Ft[1],At):[pt,xt]},At.padding=function(Ft){return arguments.length?(Ct=typeof Ft=="function"?Ft:st(+Ft),At):Ct},At}function ut(It){return function(pt){pt.children||(pt.r=Math.max(0,+It(pt)||0))}}function at(It,pt){return function(xt){if(Ct=xt.children){var Ct,At,Ft=Ct.length,Wt=It(xt)*pt||0,Qt;if(Wt)for(At=0;At<Ft;++At)Ct[At].r+=Wt;if(Qt=q(Ct),Wt)for(At=0;At<Ft;++At)Ct[At].r-=Wt;xt.r=Qt+Wt}}}function dt(It){return function(pt){var xt=pt.parent;pt.r*=It,xt&&(pt.x=xt.x+It*pt.x,pt.y=xt.y+It*pt.y)}}function gt(It){It.x0=Math.round(It.x0),It.y0=Math.round(It.y0),It.x1=Math.round(It.x1),It.y1=Math.round(It.y1)}function wt(It,pt,xt,Ct,At){for(var Ft=It.children,Wt,Qt=-1,he=Ft.length,ve=It.value&&(Ct-pt)/It.value;++Qt<he;)Wt=Ft[Qt],Wt.y0=xt,Wt.y1=At,Wt.x0=pt,Wt.x1=pt+=Wt.value*ve}function kt(){var It=1,pt=1,xt=0,Ct=!1;function At(Wt){var Qt=Wt.height+1;return Wt.x0=Wt.y0=xt,Wt.x1=It,Wt.y1=pt/Qt,Wt.eachBefore(Ft(pt,Qt)),Ct&&Wt.eachBefore(gt),Wt}function Ft(Wt,Qt){return function(he){he.children&&wt(he,he.x0,Wt*(he.depth+1)/Qt,he.x1,Wt*(he.depth+2)/Qt);var ve=he.x0,Je=he.y0,Ue=he.x1-xt,ke=he.y1-xt;Ue<ve&&(ve=Ue=(ve+Ue)/2),ke<Je&&(Je=ke=(Je+ke)/2),he.x0=ve,he.y0=Je,he.x1=Ue,he.y1=ke}}return At.round=function(Wt){return arguments.length?(Ct=!!Wt,At):Ct},At.size=function(Wt){return arguments.length?(It=+Wt[0],pt=+Wt[1],At):[It,pt]},At.padding=function(Wt){return arguments.length?(xt=+Wt,At):xt},At}var Ot="$",bt={depth:-1},_t={};function mt(It){return It.id}function Pt(It){return It.parentId}function Rt(){var It=mt,pt=Pt;function xt(Ct){var At,Ft,Wt=Ct.length,Qt,he,ve,Je=new Array(Wt),Ue,ke,Le={};for(Ft=0;Ft<Wt;++Ft)At=Ct[Ft],ve=Je[Ft]=new g(At),(Ue=It(At,Ft,Ct))!=null&&(Ue+="")&&(ke=Ot+(ve.id=Ue),Le[ke]=ke in Le?_t:ve);for(Ft=0;Ft<Wt;++Ft)if(ve=Je[Ft],Ue=pt(Ct[Ft],Ft,Ct),Ue==null||!(Ue+="")){if(Qt)throw new Error("multiple roots");Qt=ve}else{if(he=Le[Ot+Ue],!he)throw new Error("missing: "+Ue);if(he===_t)throw new Error("ambiguous: "+Ue);he.children?he.children.push(ve):he.children=[ve],ve.parent=he}if(!Qt)throw new Error("no root");if(Qt.parent=bt,Qt.eachBefore(function(Ge){Ge.depth=Ge.parent.depth+1,--Wt}).eachBefore(u),Qt.parent=null,Wt>0)throw new Error("cycle");return Qt}return xt.id=function(Ct){return arguments.length?(It=Z(Ct),xt):It},xt.parentId=function(Ct){return arguments.length?(pt=Z(Ct),xt):pt},xt}function Ht(It,pt){return It.parent===pt.parent?1:2}function Dt(It){var pt=It.children;return pt?pt[0]:It.t}function Xt(It){var pt=It.children;return pt?pt[pt.length-1]:It.t}function se(It,pt,xt){var Ct=xt/(pt.i-It.i);pt.c-=Ct,pt.s+=xt,It.c+=Ct,pt.z+=xt,pt.m+=xt}function Yt(It){for(var pt=0,xt=0,Ct=It.children,At=Ct.length,Ft;--At>=0;)Ft=Ct[At],Ft.z+=pt,Ft.m+=pt,pt+=Ft.s+(xt+=Ft.c)}function ue(It,pt,xt){return It.a.parent===pt.parent?It.a:xt}function ie(It,pt){this._=It,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=pt}ie.prototype=Object.create(g.prototype);function fe(It){for(var pt=new ie(It,0),xt,Ct=[pt],At,Ft,Wt,Qt;xt=Ct.pop();)if(Ft=xt._.children)for(xt.children=new Array(Qt=Ft.length),Wt=Qt-1;Wt>=0;--Wt)Ct.push(At=xt.children[Wt]=new ie(Ft[Wt],Wt)),At.parent=xt;return(pt.parent=new ie(null,0)).children=[pt],pt}function ce(){var It=Ht,pt=1,xt=1,Ct=null;function At(ve){var Je=fe(ve);if(Je.eachAfter(Ft),Je.parent.m=-Je.z,Je.eachBefore(Wt),Ct)ve.eachBefore(he);else{var Ue=ve,ke=ve,Le=ve;ve.eachBefore(function(Ye){Ye.x<Ue.x&&(Ue=Ye),Ye.x>ke.x&&(ke=Ye),Ye.depth>Le.depth&&(Le=Ye)});var Ge=Ue===ke?1:It(Ue,ke)/2,mr=Ge-Ue.x,xe=pt/(ke.x+Ge+mr),Xe=xt/(Le.depth||1);ve.eachBefore(function(Ye){Ye.x=(Ye.x+mr)*xe,Ye.y=Ye.depth*Xe})}return ve}function Ft(ve){var Je=ve.children,Ue=ve.parent.children,ke=ve.i?Ue[ve.i-1]:null;if(Je){Yt(ve);var Le=(Je[0].z+Je[Je.length-1].z)/2;ke?(ve.z=ke.z+It(ve._,ke._),ve.m=ve.z-Le):ve.z=Le}else ke&&(ve.z=ke.z+It(ve._,ke._));ve.parent.A=Qt(ve,ke,ve.parent.A||Ue[0])}function Wt(ve){ve._.x=ve.z+ve.parent.m,ve.m+=ve.parent.m}function Qt(ve,Je,Ue){if(Je){for(var ke=ve,Le=ve,Ge=Je,mr=ke.parent.children[0],xe=ke.m,Xe=Le.m,Ye=Ge.m,_r=mr.m,rr;Ge=Xt(Ge),ke=Dt(ke),Ge&&ke;)mr=Dt(mr),Le=Xt(Le),Le.a=ve,rr=Ge.z+Ye-ke.z-xe+It(Ge._,ke._),rr>0&&(se(ue(Ge,ve,Ue),ve,rr),xe+=rr,Xe+=rr),Ye+=Ge.m,xe+=ke.m,_r+=mr.m,Xe+=Le.m;Ge&&!Xt(Le)&&(Le.t=Ge,Le.m+=Ye-Xe),ke&&!Dt(mr)&&(mr.t=ke,mr.m+=xe-_r,Ue=ve)}return Ue}function he(ve){ve.x*=pt,ve.y=ve.depth*xt}return At.separation=function(ve){return arguments.length?(It=ve,At):It},At.size=function(ve){return arguments.length?(Ct=!1,pt=+ve[0],xt=+ve[1],At):Ct?null:[pt,xt]},At.nodeSize=function(ve){return arguments.length?(Ct=!0,pt=+ve[0],xt=+ve[1],At):Ct?[pt,xt]:null},At}function ye(It,pt,xt,Ct,At){for(var Ft=It.children,Wt,Qt=-1,he=Ft.length,ve=It.value&&(At-xt)/It.value;++Qt<he;)Wt=Ft[Qt],Wt.x0=pt,Wt.x1=Ct,Wt.y0=xt,Wt.y1=xt+=Wt.value*ve}var de=(1+Math.sqrt(5))/2;function Te(It,pt,xt,Ct,At,Ft){for(var Wt=[],Qt=pt.children,he,ve,Je=0,Ue=0,ke=Qt.length,Le,Ge,mr=pt.value,xe,Xe,Ye,_r,rr,re,le;Je<ke;){Le=At-xt,Ge=Ft-Ct;do xe=Qt[Ue++].value;while(!xe&&Ue<ke);for(Xe=Ye=xe,re=Math.max(Ge/Le,Le/Ge)/(mr*It),le=xe*xe*re,rr=Math.max(Ye/le,le/Xe);Ue<ke;++Ue){if(xe+=ve=Qt[Ue].value,ve<Xe&&(Xe=ve),ve>Ye&&(Ye=ve),le=xe*xe*re,_r=Math.max(Ye/le,le/Xe),_r>rr){xe-=ve;break}rr=_r}Wt.push(he={value:xe,dice:Le<Ge,children:Qt.slice(Je,Ue)}),he.dice?wt(he,xt,Ct,At,mr?Ct+=Ge*xe/mr:Ft):ye(he,xt,Ct,mr?xt+=Le*xe/mr:At,Ft),mr-=xe,Je=Ue}return Wt}var Et=function It(pt){function xt(Ct,At,Ft,Wt,Qt){Te(pt,Ct,At,Ft,Wt,Qt)}return xt.ratio=function(Ct){return It((Ct=+Ct)>1?Ct:1)},xt}(de);function Vt(){var It=Et,pt=!1,xt=1,Ct=1,At=[0],Ft=tt,Wt=tt,Qt=tt,he=tt,ve=tt;function Je(ke){return ke.x0=ke.y0=0,ke.x1=xt,ke.y1=Ct,ke.eachBefore(Ue),At=[0],pt&&ke.eachBefore(gt),ke}function Ue(ke){var Le=At[ke.depth],Ge=ke.x0+Le,mr=ke.y0+Le,xe=ke.x1-Le,Xe=ke.y1-Le;xe<Ge&&(Ge=xe=(Ge+xe)/2),Xe<mr&&(mr=Xe=(mr+Xe)/2),ke.x0=Ge,ke.y0=mr,ke.x1=xe,ke.y1=Xe,ke.children&&(Le=At[ke.depth+1]=Ft(ke)/2,Ge+=ve(ke)-Le,mr+=Wt(ke)-Le,xe-=Qt(ke)-Le,Xe-=he(ke)-Le,xe<Ge&&(Ge=xe=(Ge+xe)/2),Xe<mr&&(mr=Xe=(mr+Xe)/2),It(ke,Ge,mr,xe,Xe))}return Je.round=function(ke){return arguments.length?(pt=!!ke,Je):pt},Je.size=function(ke){return arguments.length?(xt=+ke[0],Ct=+ke[1],Je):[xt,Ct]},Je.tile=function(ke){return arguments.length?(It=Z(ke),Je):It},Je.padding=function(ke){return arguments.length?Je.paddingInner(ke).paddingOuter(ke):Je.paddingInner()},Je.paddingInner=function(ke){return arguments.length?(Ft=typeof ke=="function"?ke:st(+ke),Je):Ft},Je.paddingOuter=function(ke){return arguments.length?Je.paddingTop(ke).paddingRight(ke).paddingBottom(ke).paddingLeft(ke):Je.paddingTop()},Je.paddingTop=function(ke){return arguments.length?(Wt=typeof ke=="function"?ke:st(+ke),Je):Wt},Je.paddingRight=function(ke){return arguments.length?(Qt=typeof ke=="function"?ke:st(+ke),Je):Qt},Je.paddingBottom=function(ke){return arguments.length?(he=typeof ke=="function"?ke:st(+ke),Je):he},Je.paddingLeft=function(ke){return arguments.length?(ve=typeof ke=="function"?ke:st(+ke),Je):ve},Je}function te(It,pt,xt,Ct,At){var Ft=It.children,Wt,Qt=Ft.length,he,ve=new Array(Qt+1);for(ve[0]=he=Wt=0;Wt<Qt;++Wt)ve[Wt+1]=he+=Ft[Wt].value;Je(0,Qt,It.value,pt,xt,Ct,At);function Je(Ue,ke,Le,Ge,mr,xe,Xe){if(Ue>=ke-1){var Ye=Ft[Ue];Ye.x0=Ge,Ye.y0=mr,Ye.x1=xe,Ye.y1=Xe;return}for(var _r=ve[Ue],rr=Le/2+_r,re=Ue+1,le=ke-1;re<le;){var me=re+le>>>1;ve[me]<rr?re=me+1:le=me}rr-ve[re-1]<ve[re]-rr&&Ue+1<re&&--re;var Ee=ve[re]-_r,ze=Le-Ee;if(xe-Ge>Xe-mr){var Oe=(Ge*ze+xe*Ee)/Le;Je(Ue,re,Ee,Ge,mr,Oe,Xe),Je(re,ke,ze,Oe,mr,xe,Xe)}else{var Fe=(mr*ze+Xe*Ee)/Le;Je(Ue,re,Ee,Ge,mr,xe,Fe),Je(re,ke,ze,Ge,Fe,xe,Xe)}}}function Jt(It,pt,xt,Ct,At){(It.depth&1?ye:wt)(It,pt,xt,Ct,At)}var Ut=function It(pt){function xt(Ct,At,Ft,Wt,Qt){if((he=Ct._squarify)&&he.ratio===pt)for(var he,ve,Je,Ue,ke=-1,Le,Ge=he.length,mr=Ct.value;++ke<Ge;){for(ve=he[ke],Je=ve.children,Ue=ve.value=0,Le=Je.length;Ue<Le;++Ue)ve.value+=Je[Ue].value;ve.dice?wt(ve,At,Ft,Wt,Ft+=(Qt-Ft)*ve.value/mr):ye(ve,At,Ft,At+=(Wt-At)*ve.value/mr,Qt),mr-=ve.value}else Ct._squarify=he=Te(pt,Ct,At,Ft,Wt,Qt),he.ratio=pt}return xt.ratio=function(Ct){return It((Ct=+Ct)>1?Ct:1)},xt}(de)},10132:function(X,B,t){t.d(B,{ak:function(){return f}});var x=Math.PI,E=2*x,i=1e-6,M=E-i;function m(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function d(){return new m}m.prototype=d.prototype={constructor:m,moveTo:function(k,a){this._+="M"+(this._x0=this._x1=+k)+","+(this._y0=this._y1=+a)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(k,a){this._+="L"+(this._x1=+k)+","+(this._y1=+a)},quadraticCurveTo:function(k,a,c,p){this._+="Q"+ +k+","+ +a+","+(this._x1=+c)+","+(this._y1=+p)},bezierCurveTo:function(k,a,c,p,w,S){this._+="C"+ +k+","+ +a+","+ +c+","+ +p+","+(this._x1=+w)+","+(this._y1=+S)},arcTo:function(k,a,c,p,w){k=+k,a=+a,c=+c,p=+p,w=+w;var S=this._x1,_=this._y1,T=c-k,P=p-a,u=S-k,g=_-a,L=u*u+g*g;if(w<0)throw new Error("negative radius: "+w);if(this._x1===null)this._+="M"+(this._x1=k)+","+(this._y1=a);else if(L>i)if(!(Math.abs(g*T-P*u)>i)||!w)this._+="L"+(this._x1=k)+","+(this._y1=a);else{var A=c-S,R=p-_,O=T*T+P*P,N=A*A+R*R,z=Math.sqrt(O),F=Math.sqrt(L),I=w*Math.tan((x-Math.acos((O+L-N)/(2*z*F)))/2),j=I/F,V=I/z;Math.abs(j-1)>i&&(this._+="L"+(k+j*u)+","+(a+j*g)),this._+="A"+w+","+w+",0,0,"+ +(g*A>u*R)+","+(this._x1=k+V*T)+","+(this._y1=a+V*P)}},arc:function(k,a,c,p,w,S){k=+k,a=+a,c=+c,S=!!S;var _=c*Math.cos(p),T=c*Math.sin(p),P=k+_,u=a+T,g=1^S,L=S?p-w:w-p;if(c<0)throw new Error("negative radius: "+c);this._x1===null?this._+="M"+P+","+u:(Math.abs(this._x1-P)>i||Math.abs(this._y1-u)>i)&&(this._+="L"+P+","+u),c&&(L<0&&(L=L%E+E),L>M?this._+="A"+c+","+c+",0,1,"+g+","+(k-_)+","+(a-T)+"A"+c+","+c+",0,1,"+g+","+(this._x1=P)+","+(this._y1=u):L>i&&(this._+="A"+c+","+c+",0,"+ +(L>=x)+","+g+","+(this._x1=k+c*Math.cos(w))+","+(this._y1=a+c*Math.sin(w))))},rect:function(k,a,c,p){this._+="M"+(this._x0=this._x1=+k)+","+(this._y0=this._y1=+a)+"h"+ +c+"v"+ +p+"h"+-c+"Z"},toString:function(){return this._}};var v=d,r=Array.prototype.slice;function e(k){return function(){return k}}function s(k){return k[0]}function n(k){return k[1]}function l(k){return k.source}function o(k){return k.target}function h(k){var a=l,c=o,p=s,w=n,S=null;function _(){var T,P=r.call(arguments),u=a.apply(this,P),g=c.apply(this,P);if(S||(S=T=v()),k(S,+p.apply(this,(P[0]=u,P)),+w.apply(this,P),+p.apply(this,(P[0]=g,P)),+w.apply(this,P)),T)return S=null,T+""||null}return _.source=function(T){return arguments.length?(a=T,_):a},_.target=function(T){return arguments.length?(c=T,_):c},_.x=function(T){return arguments.length?(p=typeof T=="function"?T:e(+T),_):p},_.y=function(T){return arguments.length?(w=typeof T=="function"?T:e(+T),_):w},_.context=function(T){return arguments.length?(S=T??null,_):S},_}function b(k,a,c,p,w){k.moveTo(a,c),k.bezierCurveTo(a=(a+p)/2,c,a,w,p,w)}function f(){return h(b)}},94336:function(X,B,t){t.d(B,{Yn:function(){return te},m_:function(){return s},E9:function(){return Jt}});var x=t(8208),E=t(58931),i=t(46192),M=t(68936),m=t(32171),d=t(53528);function v(It){if(0<=It.y&&It.y<100){var pt=new Date(-1,It.m,It.d,It.H,It.M,It.S,It.L);return pt.setFullYear(It.y),pt}return new Date(It.y,It.m,It.d,It.H,It.M,It.S,It.L)}function r(It){if(0<=It.y&&It.y<100){var pt=new Date(Date.UTC(-1,It.m,It.d,It.H,It.M,It.S,It.L));return pt.setUTCFullYear(It.y),pt}return new Date(Date.UTC(It.y,It.m,It.d,It.H,It.M,It.S,It.L))}function e(It,pt,xt){return{y:It,m:pt,d:xt,H:0,M:0,S:0,L:0}}function s(It){var pt=It.dateTime,xt=It.date,Ct=It.time,At=It.periods,Ft=It.days,Wt=It.shortDays,Qt=It.months,he=It.shortMonths,ve=k(At),Je=a(At),Ue=k(Ft),ke=a(Ft),Le=k(Wt),Ge=a(Wt),mr=k(Qt),xe=a(Qt),Xe=k(he),Ye=a(he),_r={a:jt,A:Gt,b:Ce,B:Ie,c:null,d:K,e:K,f:J,H:et,I:lt,j:ot,L:q,m:it,M:Z,p:We,q:$e,Q:Te,s:Et,S:tt,u:st,U:Q,V:G,w:ut,W:at,x:null,X:null,y:dt,Y:gt,Z:wt,"%":de},rr={a:ir,A:er,b:De,B:lr,c:null,d:kt,e:kt,f:Pt,H:Ot,I:bt,j:_t,L:mt,m:Rt,M:Ht,p:vr,q:dr,Q:Te,s:Et,S:Dt,u:Xt,U:se,V:Yt,w:ue,W:ie,x:null,X:null,y:fe,Y:ce,Z:ye,"%":de},re={a:Oe,A:Fe,b:Re,B:Ke,c:or,d:A,e:A,f:I,H:O,I:O,j:R,L:F,m:L,M:N,p:ze,q:g,Q:V,s:W,S:z,u:p,U:w,V:S,w:c,W:_,x:pr,X:hr,y:P,Y:T,Z:u,"%":j};_r.x=le(xt,_r),_r.X=le(Ct,_r),_r.c=le(pt,_r),rr.x=le(xt,rr),rr.X=le(Ct,rr),rr.c=le(pt,rr);function le(fr,zr){return function(Or){var Ir=[],sn=-1,nn=0,kn=fr.length,Mn,kr,Er;for(Or instanceof Date||(Or=new Date(+Or));++sn<kn;)fr.charCodeAt(sn)===37&&(Ir.push(fr.slice(nn,sn)),(kr=n[Mn=fr.charAt(++sn)])!=null?Mn=fr.charAt(++sn):kr=Mn==="e"?" ":"0",(Er=zr[Mn])&&(Mn=Er(Or,kr)),Ir.push(Mn),nn=sn+1);return Ir.push(fr.slice(nn,sn)),Ir.join("")}}function me(fr,zr){return function(Or){var Ir=e(1900,void 0,1),sn=Ee(Ir,fr,Or+="",0),nn,kn;if(sn!=Or.length)return null;if("Q"in Ir)return new Date(Ir.Q);if("s"in Ir)return new Date(Ir.s*1e3+("L"in Ir?Ir.L:0));if(zr&&!("Z"in Ir)&&(Ir.Z=0),"p"in Ir&&(Ir.H=Ir.H%12+Ir.p*12),Ir.m===void 0&&(Ir.m="q"in Ir?Ir.q:0),"V"in Ir){if(Ir.V<1||Ir.V>53)return null;"w"in Ir||(Ir.w=1),"Z"in Ir?(nn=r(e(Ir.y,0,1)),kn=nn.getUTCDay(),nn=kn>4||kn===0?x.ot.ceil(nn):(0,x.ot)(nn),nn=E.c.offset(nn,(Ir.V-1)*7),Ir.y=nn.getUTCFullYear(),Ir.m=nn.getUTCMonth(),Ir.d=nn.getUTCDate()+(Ir.w+6)%7):(nn=v(e(Ir.y,0,1)),kn=nn.getDay(),nn=kn>4||kn===0?i.qT.ceil(nn):(0,i.qT)(nn),nn=M.c.offset(nn,(Ir.V-1)*7),Ir.y=nn.getFullYear(),Ir.m=nn.getMonth(),Ir.d=nn.getDate()+(Ir.w+6)%7)}else("W"in Ir||"U"in Ir)&&("w"in Ir||(Ir.w="u"in Ir?Ir.u%7:"W"in Ir?1:0),kn="Z"in Ir?r(e(Ir.y,0,1)).getUTCDay():v(e(Ir.y,0,1)).getDay(),Ir.m=0,Ir.d="W"in Ir?(Ir.w+6)%7+Ir.W*7-(kn+5)%7:Ir.w+Ir.U*7-(kn+6)%7);return"Z"in Ir?(Ir.H+=Ir.Z/100|0,Ir.M+=Ir.Z%100,r(Ir)):v(Ir)}}function Ee(fr,zr,Or,Ir){for(var sn=0,nn=zr.length,kn=Or.length,Mn,kr;sn<nn;){if(Ir>=kn)return-1;if(Mn=zr.charCodeAt(sn++),Mn===37){if(Mn=zr.charAt(sn++),kr=re[Mn in n?zr.charAt(sn++):Mn],!kr||(Ir=kr(fr,Or,Ir))<0)return-1}else if(Mn!=Or.charCodeAt(Ir++))return-1}return Ir}function ze(fr,zr,Or){var Ir=ve.exec(zr.slice(Or));return Ir?(fr.p=Je[Ir[0].toLowerCase()],Or+Ir[0].length):-1}function Oe(fr,zr,Or){var Ir=Le.exec(zr.slice(Or));return Ir?(fr.w=Ge[Ir[0].toLowerCase()],Or+Ir[0].length):-1}function Fe(fr,zr,Or){var Ir=Ue.exec(zr.slice(Or));return Ir?(fr.w=ke[Ir[0].toLowerCase()],Or+Ir[0].length):-1}function Re(fr,zr,Or){var Ir=Xe.exec(zr.slice(Or));return Ir?(fr.m=Ye[Ir[0].toLowerCase()],Or+Ir[0].length):-1}function Ke(fr,zr,Or){var Ir=mr.exec(zr.slice(Or));return Ir?(fr.m=xe[Ir[0].toLowerCase()],Or+Ir[0].length):-1}function or(fr,zr,Or){return Ee(fr,pt,zr,Or)}function pr(fr,zr,Or){return Ee(fr,xt,zr,Or)}function hr(fr,zr,Or){return Ee(fr,Ct,zr,Or)}function jt(fr){return Wt[fr.getDay()]}function Gt(fr){return Ft[fr.getDay()]}function Ce(fr){return he[fr.getMonth()]}function Ie(fr){return Qt[fr.getMonth()]}function We(fr){return At[+(fr.getHours()>=12)]}function $e(fr){return 1+~~(fr.getMonth()/3)}function ir(fr){return Wt[fr.getUTCDay()]}function er(fr){return Ft[fr.getUTCDay()]}function De(fr){return he[fr.getUTCMonth()]}function lr(fr){return Qt[fr.getUTCMonth()]}function vr(fr){return At[+(fr.getUTCHours()>=12)]}function dr(fr){return 1+~~(fr.getUTCMonth()/3)}return{format:function(fr){var zr=le(fr+="",_r);return zr.toString=function(){return fr},zr},parse:function(fr){var zr=me(fr+="",!1);return zr.toString=function(){return fr},zr},utcFormat:function(fr){var zr=le(fr+="",rr);return zr.toString=function(){return fr},zr},utcParse:function(fr){var zr=me(fr+="",!0);return zr.toString=function(){return fr},zr}}}var n={"-":"",_:" ",0:"0"},l=/^\s*\d+/,o=/^%/,h=/[\\^$*+?|[\]().{}]/g;function b(It,pt,xt){var Ct=It<0?"-":"",At=(Ct?-It:It)+"",Ft=At.length;return Ct+(Ft<xt?new Array(xt-Ft+1).join(pt)+At:At)}function f(It){return It.replace(h,"\\$&")}function k(It){return new RegExp("^(?:"+It.map(f).join("|")+")","i")}function a(It){for(var pt={},xt=-1,Ct=It.length;++xt<Ct;)pt[It[xt].toLowerCase()]=xt;return pt}function c(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+1));return Ct?(It.w=+Ct[0],xt+Ct[0].length):-1}function p(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+1));return Ct?(It.u=+Ct[0],xt+Ct[0].length):-1}function w(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.U=+Ct[0],xt+Ct[0].length):-1}function S(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.V=+Ct[0],xt+Ct[0].length):-1}function _(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.W=+Ct[0],xt+Ct[0].length):-1}function T(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+4));return Ct?(It.y=+Ct[0],xt+Ct[0].length):-1}function P(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.y=+Ct[0]+(+Ct[0]>68?1900:2e3),xt+Ct[0].length):-1}function u(It,pt,xt){var Ct=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(pt.slice(xt,xt+6));return Ct?(It.Z=Ct[1]?0:-(Ct[2]+(Ct[3]||"00")),xt+Ct[0].length):-1}function g(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+1));return Ct?(It.q=Ct[0]*3-3,xt+Ct[0].length):-1}function L(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.m=Ct[0]-1,xt+Ct[0].length):-1}function A(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.d=+Ct[0],xt+Ct[0].length):-1}function R(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+3));return Ct?(It.m=0,It.d=+Ct[0],xt+Ct[0].length):-1}function O(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.H=+Ct[0],xt+Ct[0].length):-1}function N(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.M=+Ct[0],xt+Ct[0].length):-1}function z(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+2));return Ct?(It.S=+Ct[0],xt+Ct[0].length):-1}function F(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+3));return Ct?(It.L=+Ct[0],xt+Ct[0].length):-1}function I(It,pt,xt){var Ct=l.exec(pt.slice(xt,xt+6));return Ct?(It.L=Math.floor(Ct[0]/1e3),xt+Ct[0].length):-1}function j(It,pt,xt){var Ct=o.exec(pt.slice(xt,xt+1));return Ct?xt+Ct[0].length:-1}function V(It,pt,xt){var Ct=l.exec(pt.slice(xt));return Ct?(It.Q=+Ct[0],xt+Ct[0].length):-1}function W(It,pt,xt){var Ct=l.exec(pt.slice(xt));return Ct?(It.s=+Ct[0],xt+Ct[0].length):-1}function K(It,pt){return b(It.getDate(),pt,2)}function et(It,pt){return b(It.getHours(),pt,2)}function lt(It,pt){return b(It.getHours()%12||12,pt,2)}function ot(It,pt){return b(1+M.c.count((0,m.c)(It),It),pt,3)}function q(It,pt){return b(It.getMilliseconds(),pt,3)}function J(It,pt){return q(It,pt)+"000"}function it(It,pt){return b(It.getMonth()+1,pt,2)}function Z(It,pt){return b(It.getMinutes(),pt,2)}function tt(It,pt){return b(It.getSeconds(),pt,2)}function st(It){var pt=It.getDay();return pt===0?7:pt}function Q(It,pt){return b(i.uU.count((0,m.c)(It)-1,It),pt,2)}function G(It,pt){var xt=It.getDay();return It=xt>=4||xt===0?(0,i.kD)(It):i.kD.ceil(It),b(i.kD.count((0,m.c)(It),It)+((0,m.c)(It).getDay()===4),pt,2)}function ut(It){return It.getDay()}function at(It,pt){return b(i.qT.count((0,m.c)(It)-1,It),pt,2)}function dt(It,pt){return b(It.getFullYear()%100,pt,2)}function gt(It,pt){return b(It.getFullYear()%1e4,pt,4)}function wt(It){var pt=It.getTimezoneOffset();return(pt>0?"-":(pt*=-1,"+"))+b(pt/60|0,"0",2)+b(pt%60,"0",2)}function kt(It,pt){return b(It.getUTCDate(),pt,2)}function Ot(It,pt){return b(It.getUTCHours(),pt,2)}function bt(It,pt){return b(It.getUTCHours()%12||12,pt,2)}function _t(It,pt){return b(1+E.c.count((0,d.c)(It),It),pt,3)}function mt(It,pt){return b(It.getUTCMilliseconds(),pt,3)}function Pt(It,pt){return mt(It,pt)+"000"}function Rt(It,pt){return b(It.getUTCMonth()+1,pt,2)}function Ht(It,pt){return b(It.getUTCMinutes(),pt,2)}function Dt(It,pt){return b(It.getUTCSeconds(),pt,2)}function Xt(It){var pt=It.getUTCDay();return pt===0?7:pt}function se(It,pt){return b(x.EV.count((0,d.c)(It)-1,It),pt,2)}function Yt(It,pt){var xt=It.getUTCDay();return It=xt>=4||xt===0?(0,x.yA)(It):x.yA.ceil(It),b(x.yA.count((0,d.c)(It),It)+((0,d.c)(It).getUTCDay()===4),pt,2)}function ue(It){return It.getUTCDay()}function ie(It,pt){return b(x.ot.count((0,d.c)(It)-1,It),pt,2)}function fe(It,pt){return b(It.getUTCFullYear()%100,pt,2)}function ce(It,pt){return b(It.getUTCFullYear()%1e4,pt,4)}function ye(){return"+0000"}function de(){return"%"}function Te(It){return+It}function Et(It){return Math.floor(+It/1e3)}var Vt,te,Jt;Ut({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ut(It){return Vt=s(It),te=Vt.format,Vt.parse,Jt=Vt.utcFormat,Vt.utcParse,Vt}},68936:function(X,B,t){t.d(B,{m:function(){return M}});var x=t(81628),E=t(69792),i=(0,x.c)(function(m){m.setHours(0,0,0,0)},function(m,d){m.setDate(m.getDate()+d)},function(m,d){return(d-m-(d.getTimezoneOffset()-m.getTimezoneOffset())*E.iy)/E.SK},function(m){return m.getDate()-1});B.c=i;var M=i.range},69792:function(X,B,t){t.d(B,{KK:function(){return m},SK:function(){return M},cg:function(){return i},iy:function(){return E},yc:function(){return x}});var x=1e3,E=6e4,i=36e5,M=864e5,m=6048e5},73220:function(X,B,t){t.r(B),t.d(B,{timeDay:function(){return b.c},timeDays:function(){return b.m},timeFriday:function(){return f.iB},timeFridays:function(){return f.sJ},timeHour:function(){return o},timeHours:function(){return h},timeInterval:function(){return x.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return M},timeMinute:function(){return s},timeMinutes:function(){return n},timeMonday:function(){return f.qT},timeMondays:function(){return f.QP},timeMonth:function(){return a},timeMonths:function(){return c},timeSaturday:function(){return f.Wc},timeSaturdays:function(){return f.aI},timeSecond:function(){return v},timeSeconds:function(){return r},timeSunday:function(){return f.uU},timeSundays:function(){return f.Ab},timeThursday:function(){return f.kD},timeThursdays:function(){return f.eC},timeTuesday:function(){return f.Mf},timeTuesdays:function(){return f.Oc},timeWednesday:function(){return f.eg},timeWednesdays:function(){return f.sn},timeWeek:function(){return f.uU},timeWeeks:function(){return f.Ab},timeYear:function(){return p.c},timeYears:function(){return p.Q},utcDay:function(){return g.c},utcDays:function(){return g.o},utcFriday:function(){return L.od},utcFridays:function(){return L.iG},utcHour:function(){return P},utcHours:function(){return u},utcMillisecond:function(){return i},utcMilliseconds:function(){return M},utcMinute:function(){return S},utcMinutes:function(){return _},utcMonday:function(){return L.ot},utcMondays:function(){return L.iO},utcMonth:function(){return R},utcMonths:function(){return O},utcSaturday:function(){return L.Ad},utcSaturdays:function(){return L.K8},utcSecond:function(){return v},utcSeconds:function(){return r},utcSunday:function(){return L.EV},utcSundays:function(){return L.Wq},utcThursday:function(){return L.yA},utcThursdays:function(){return L.ob},utcTuesday:function(){return L.sG},utcTuesdays:function(){return L.kl},utcWednesday:function(){return L._6},utcWednesdays:function(){return L.W_},utcWeek:function(){return L.EV},utcWeeks:function(){return L.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var x=t(81628),E=(0,x.c)(function(){},function(z,F){z.setTime(+z+F)},function(z,F){return F-z});E.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,x.c)(function(F){F.setTime(Math.floor(F/z)*z)},function(F,I){F.setTime(+F+I*z)},function(F,I){return(I-F)/z}):E};var i=E,M=E.range,m=t(69792),d=(0,x.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,F){z.setTime(+z+F*m.yc)},function(z,F){return(F-z)/m.yc},function(z){return z.getUTCSeconds()}),v=d,r=d.range,e=(0,x.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*m.yc)},function(z,F){z.setTime(+z+F*m.iy)},function(z,F){return(F-z)/m.iy},function(z){return z.getMinutes()}),s=e,n=e.range,l=(0,x.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*m.yc-z.getMinutes()*m.iy)},function(z,F){z.setTime(+z+F*m.cg)},function(z,F){return(F-z)/m.cg},function(z){return z.getHours()}),o=l,h=l.range,b=t(68936),f=t(46192),k=(0,x.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,F){z.setMonth(z.getMonth()+F)},function(z,F){return F.getMonth()-z.getMonth()+(F.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),a=k,c=k.range,p=t(32171),w=(0,x.c)(function(z){z.setUTCSeconds(0,0)},function(z,F){z.setTime(+z+F*m.iy)},function(z,F){return(F-z)/m.iy},function(z){return z.getUTCMinutes()}),S=w,_=w.range,T=(0,x.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,F){z.setTime(+z+F*m.cg)},function(z,F){return(F-z)/m.cg},function(z){return z.getUTCHours()}),P=T,u=T.range,g=t(58931),L=t(8208),A=(0,x.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCMonth(z.getUTCMonth()+F)},function(z,F){return F.getUTCMonth()-z.getUTCMonth()+(F.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),R=A,O=A.range,N=t(53528)},81628:function(X,B,t){t.d(B,{c:function(){return i}});var x=new Date,E=new Date;function i(M,m,d,v){function r(e){return M(e=arguments.length===0?new Date:new Date(+e)),e}return r.floor=function(e){return M(e=new Date(+e)),e},r.ceil=function(e){return M(e=new Date(e-1)),m(e,1),M(e),e},r.round=function(e){var s=r(e),n=r.ceil(e);return e-s<n-e?s:n},r.offset=function(e,s){return m(e=new Date(+e),s==null?1:Math.floor(s)),e},r.range=function(e,s,n){var l=[],o;if(e=r.ceil(e),n=n==null?1:Math.floor(n),!(e<s)||!(n>0))return l;do l.push(o=new Date(+e)),m(e,n),M(e);while(o<e&&e<s);return l},r.filter=function(e){return i(function(s){if(s>=s)for(;M(s),!e(s);)s.setTime(s-1)},function(s,n){if(s>=s)if(n<0)for(;++n<=0;)for(;m(s,-1),!e(s););else for(;--n>=0;)for(;m(s,1),!e(s););})},d&&(r.count=function(e,s){return x.setTime(+e),E.setTime(+s),M(x),M(E),Math.floor(d(x,E))},r.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?r.filter(v?function(s){return v(s)%e===0}:function(s){return r.count(0,s)%e===0}):r}),r}},58931:function(X,B,t){t.d(B,{o:function(){return M}});var x=t(81628),E=t(69792),i=(0,x.c)(function(m){m.setUTCHours(0,0,0,0)},function(m,d){m.setUTCDate(m.getUTCDate()+d)},function(m,d){return(d-m)/E.SK},function(m){return m.getUTCDate()-1});B.c=i;var M=i.range},8208:function(X,B,t){t.d(B,{Ad:function(){return s},EV:function(){return M},K8:function(){return k},W_:function(){return h},Wq:function(){return n},_6:function(){return v},iG:function(){return f},iO:function(){return l},kl:function(){return o},ob:function(){return b},od:function(){return e},ot:function(){return m},sG:function(){return d},yA:function(){return r}});var x=t(81628),E=t(69792);function i(a){return(0,x.c)(function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+7-a)%7),c.setUTCHours(0,0,0,0)},function(c,p){c.setUTCDate(c.getUTCDate()+p*7)},function(c,p){return(p-c)/E.KK})}var M=i(0),m=i(1),d=i(2),v=i(3),r=i(4),e=i(5),s=i(6),n=M.range,l=m.range,o=d.range,h=v.range,b=r.range,f=e.range,k=s.range},53528:function(X,B,t){t.d(B,{i:function(){return i}});var x=t(81628),E=(0,x.c)(function(M){M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,m){M.setUTCFullYear(M.getUTCFullYear()+m)},function(M,m){return m.getUTCFullYear()-M.getUTCFullYear()},function(M){return M.getUTCFullYear()});E.every=function(M){return!isFinite(M=Math.floor(M))||!(M>0)?null:(0,x.c)(function(m){m.setUTCFullYear(Math.floor(m.getUTCFullYear()/M)*M),m.setUTCMonth(0,1),m.setUTCHours(0,0,0,0)},function(m,d){m.setUTCFullYear(m.getUTCFullYear()+d*M)})},B.c=E;var i=E.range},46192:function(X,B,t){t.d(B,{Ab:function(){return n},Mf:function(){return d},Oc:function(){return o},QP:function(){return l},Wc:function(){return s},aI:function(){return k},eC:function(){return b},eg:function(){return v},iB:function(){return e},kD:function(){return r},qT:function(){return m},sJ:function(){return f},sn:function(){return h},uU:function(){return M}});var x=t(81628),E=t(69792);function i(a){return(0,x.c)(function(c){c.setDate(c.getDate()-(c.getDay()+7-a)%7),c.setHours(0,0,0,0)},function(c,p){c.setDate(c.getDate()+p*7)},function(c,p){return(p-c-(p.getTimezoneOffset()-c.getTimezoneOffset())*E.iy)/E.KK})}var M=i(0),m=i(1),d=i(2),v=i(3),r=i(4),e=i(5),s=i(6),n=M.range,l=m.range,o=d.range,h=v.range,b=r.range,f=e.range,k=s.range},32171:function(X,B,t){t.d(B,{Q:function(){return i}});var x=t(81628),E=(0,x.c)(function(M){M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,m){M.setFullYear(M.getFullYear()+m)},function(M,m){return m.getFullYear()-M.getFullYear()},function(M){return M.getFullYear()});E.every=function(M){return!isFinite(M=Math.floor(M))||!(M>0)?null:(0,x.c)(function(m){m.setFullYear(Math.floor(m.getFullYear()/M)*M),m.setMonth(0,1),m.setHours(0,0,0,0)},function(m,d){m.setFullYear(m.getFullYear()+d*M)})},B.c=E;var i=E.range},64348:function(X,B,t){var x=t(39640)(),E=t(53664),i=x&&E("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch{i=!1}var M=E("%SyntaxError%"),m=E("%TypeError%"),d=t(2304);X.exports=function(v,r,e){if(!v||typeof v!="object"&&typeof v!="function")throw new m("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new m("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new m("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new m("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new m("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new m("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,h=!!d&&d(v,r);if(i)i(v,r,{configurable:l===null&&h?h.configurable:!l,enumerable:s===null&&h?h.enumerable:!s,value:e,writable:n===null&&h?h.writable:!n});else if(o||!s&&!n&&!l)v[r]=e;else throw new M("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(X,B,t){var x=t(41820),E=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,M=Array.prototype.concat,m=Object.defineProperty,d=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},v=t(39640)(),r=m&&v,e=function(n,l,o,h){if(l in n){if(h===!0){if(n[l]===o)return}else if(!d(h)||!h())return}r?m(n,l,{configurable:!0,enumerable:!1,value:o,writable:!0}):n[l]=o},s=function(n,l){var o=arguments.length>2?arguments[2]:{},h=x(l);E&&(h=M.call(h,Object.getOwnPropertySymbols(l)));for(var b=0;b<h.length;b+=1)e(n,h[b],l[h[b]],o[h[b]])};s.supportsDescriptors=!!r,X.exports=s},31264:function(X){X.exports=function(){for(var B=0;B<arguments.length;B++)if(arguments[B]!==void 0)return arguments[B]}},63768:function(X){X.exports=E;var B=E.canvas=document.createElement("canvas"),t=B.getContext("2d"),x=i([32,126]);E.createPairs=i,E.ascii=x;function E(M,m){Array.isArray(M)&&(M=M.join(", "));var d={},v,r=16,e=.05;m&&(m.length===2&&typeof m[0]=="number"?v=i(m):Array.isArray(m)?v=m:(m.o?v=i(m.o):m.pairs&&(v=m.pairs),m.fontSize&&(r=m.fontSize),m.threshold!=null&&(e=m.threshold))),v||(v=x),t.font=r+"px "+M;for(var s=0;s<v.length;s++){var n=v[s],l=t.measureText(n[0]).width+t.measureText(n[1]).width,o=t.measureText(n).width;if(Math.abs(l-o)>r*e){var h=(o-l)/r;d[n]=h*1e3}}return d}function i(M){for(var m=[],d=M[0];d<=M[1];d++)for(var v=String.fromCharCode(d),r=M[0];r<M[1];r++){var e=String.fromCharCode(r),s=v+e;m.push(s)}return m}},22235:function(X,B,t){var x=t(49972),E=t(48816),i={M:"moveTo",C:"bezierCurveTo"};X.exports=function(M,m){M.beginPath(),E(x(m)).forEach(function(d){var v=d[0],r=d.slice(1);M[i[v]].apply(M,r)}),M.closePath()}},72512:function(X){X.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(X){function B(E,i,M){var m=E[M]|0;if(m<=0)return[];var d=new Array(m),v;if(M===E.length-1)for(v=0;v<m;++v)d[v]=i;else for(v=0;v<m;++v)d[v]=B(E,i,M+1);return d}function t(E,i){var M,m;for(M=new Array(E),m=0;m<E;++m)M[m]=i;return M}function x(E,i){switch(typeof i>"u"&&(i=0),typeof E){case"number":if(E>0)return t(E|0,i);break;case"object":if(typeof E.length=="number")return B(E,i,0);break}return[]}X.exports=x},28912:function(X){X.exports=B,X.exports.default=B;function B(O,N,z){z=z||2;var F=N&&N.length,I=F?N[0]*z:O.length,j=t(O,0,I,z,!0),V=[];if(!j||j.next===j.prev)return V;var W,K,et,lt,ot,q,J;if(F&&(j=v(O,N,j,z)),O.length>80*z){W=et=O[0],K=lt=O[1];for(var it=z;it<I;it+=z)ot=O[it],q=O[it+1],ot<W&&(W=ot),q<K&&(K=q),ot>et&&(et=ot),q>lt&&(lt=q);J=Math.max(et-W,lt-K),J=J!==0?1/J:0}return E(j,V,z,W,K,J),V}function t(O,N,z,F,I){var j,V;if(I===R(O,N,z,F)>0)for(j=N;j<z;j+=F)V=g(j,O[j],O[j+1],V);else for(j=z-F;j>=N;j-=F)V=g(j,O[j],O[j+1],V);return V&&c(V,V.next)&&(L(V),V=V.next),V}function x(O,N){if(!O)return O;N||(N=O);var z=O,F;do if(F=!1,!z.steiner&&(c(z,z.next)||a(z.prev,z,z.next)===0)){if(L(z),z=N=z.prev,z===z.next)break;F=!0}else z=z.next;while(F||z!==N);return N}function E(O,N,z,F,I,j,V){if(O){!V&&j&&l(O,F,I,j);for(var W=O,K,et;O.prev!==O.next;){if(K=O.prev,et=O.next,j?M(O,F,I,j):i(O)){N.push(K.i/z),N.push(O.i/z),N.push(et.i/z),L(O),O=et.next,W=et.next;continue}if(O=et,O===W){V?V===1?(O=m(x(O),N,z),E(O,N,z,F,I,j,2)):V===2&&d(O,N,z,F,I,j):E(x(O),N,z,F,I,j,1);break}}}}function i(O){var N=O.prev,z=O,F=O.next;if(a(N,z,F)>=0)return!1;for(var I=O.next.next;I!==O.prev;){if(f(N.x,N.y,z.x,z.y,F.x,F.y,I.x,I.y)&&a(I.prev,I,I.next)>=0)return!1;I=I.next}return!0}function M(O,N,z,F){var I=O.prev,j=O,V=O.next;if(a(I,j,V)>=0)return!1;for(var W=I.x<j.x?I.x<V.x?I.x:V.x:j.x<V.x?j.x:V.x,K=I.y<j.y?I.y<V.y?I.y:V.y:j.y<V.y?j.y:V.y,et=I.x>j.x?I.x>V.x?I.x:V.x:j.x>V.x?j.x:V.x,lt=I.y>j.y?I.y>V.y?I.y:V.y:j.y>V.y?j.y:V.y,ot=h(W,K,N,z,F),q=h(et,lt,N,z,F),J=O.prevZ,it=O.nextZ;J&&J.z>=ot&&it&&it.z<=q;){if(J!==O.prev&&J!==O.next&&f(I.x,I.y,j.x,j.y,V.x,V.y,J.x,J.y)&&a(J.prev,J,J.next)>=0||(J=J.prevZ,it!==O.prev&&it!==O.next&&f(I.x,I.y,j.x,j.y,V.x,V.y,it.x,it.y)&&a(it.prev,it,it.next)>=0))return!1;it=it.nextZ}for(;J&&J.z>=ot;){if(J!==O.prev&&J!==O.next&&f(I.x,I.y,j.x,j.y,V.x,V.y,J.x,J.y)&&a(J.prev,J,J.next)>=0)return!1;J=J.prevZ}for(;it&&it.z<=q;){if(it!==O.prev&&it!==O.next&&f(I.x,I.y,j.x,j.y,V.x,V.y,it.x,it.y)&&a(it.prev,it,it.next)>=0)return!1;it=it.nextZ}return!0}function m(O,N,z){var F=O;do{var I=F.prev,j=F.next.next;!c(I,j)&&p(I,F,F.next,j)&&T(I,j)&&T(j,I)&&(N.push(I.i/z),N.push(F.i/z),N.push(j.i/z),L(F),L(F.next),F=O=j),F=F.next}while(F!==O);return x(F)}function d(O,N,z,F,I,j){var V=O;do{for(var W=V.next.next;W!==V.prev;){if(V.i!==W.i&&k(V,W)){var K=u(V,W);V=x(V,V.next),K=x(K,K.next),E(V,N,z,F,I,j),E(K,N,z,F,I,j);return}W=W.next}V=V.next}while(V!==O)}function v(O,N,z,F){var I=[],j,V,W,K,et;for(j=0,V=N.length;j<V;j++)W=N[j]*F,K=j<V-1?N[j+1]*F:O.length,et=t(O,W,K,F,!1),et===et.next&&(et.steiner=!0),I.push(b(et));for(I.sort(r),j=0;j<I.length;j++)e(I[j],z),z=x(z,z.next);return z}function r(O,N){return O.x-N.x}function e(O,N){if(N=s(O,N),N){var z=u(N,O);x(N,N.next),x(z,z.next)}}function s(O,N){var z=N,F=O.x,I=O.y,j=-1/0,V;do{if(I<=z.y&&I>=z.next.y&&z.next.y!==z.y){var W=z.x+(I-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(W<=F&&W>j){if(j=W,W===F){if(I===z.y)return z;if(I===z.next.y)return z.next}V=z.x<z.next.x?z:z.next}}z=z.next}while(z!==N);if(!V)return null;if(F===j)return V;var K=V,et=V.x,lt=V.y,ot=1/0,q;z=V;do F>=z.x&&z.x>=et&&F!==z.x&&f(I<lt?F:j,I,et,lt,I<lt?j:F,I,z.x,z.y)&&(q=Math.abs(I-z.y)/(F-z.x),T(z,O)&&(q<ot||q===ot&&(z.x>V.x||z.x===V.x&&n(V,z)))&&(V=z,ot=q)),z=z.next;while(z!==K);return V}function n(O,N){return a(O.prev,O,N.prev)<0&&a(N.next,O,O.next)<0}function l(O,N,z,F){var I=O;do I.z===null&&(I.z=h(I.x,I.y,N,z,F)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next;while(I!==O);I.prevZ.nextZ=null,I.prevZ=null,o(I)}function o(O){var N,z,F,I,j,V,W,K,et=1;do{for(z=O,O=null,j=null,V=0;z;){for(V++,F=z,W=0,N=0;N<et&&(W++,F=F.nextZ,!!F);N++);for(K=et;W>0||K>0&&F;)W!==0&&(K===0||!F||z.z<=F.z)?(I=z,z=z.nextZ,W--):(I=F,F=F.nextZ,K--),j?j.nextZ=I:O=I,I.prevZ=j,j=I;z=F}j.nextZ=null,et*=2}while(V>1);return O}function h(O,N,z,F,I){return O=32767*(O-z)*I,N=32767*(N-F)*I,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,O|N<<1}function b(O){var N=O,z=O;do(N.x<z.x||N.x===z.x&&N.y<z.y)&&(z=N),N=N.next;while(N!==O);return z}function f(O,N,z,F,I,j,V,W){return(I-V)*(N-W)-(O-V)*(j-W)>=0&&(O-V)*(F-W)-(z-V)*(N-W)>=0&&(z-V)*(j-W)-(I-V)*(F-W)>=0}function k(O,N){return O.next.i!==N.i&&O.prev.i!==N.i&&!_(O,N)&&(T(O,N)&&T(N,O)&&P(O,N)&&(a(O.prev,O,N.prev)||a(O,N.prev,N))||c(O,N)&&a(O.prev,O,O.next)>0&&a(N.prev,N,N.next)>0)}function a(O,N,z){return(N.y-O.y)*(z.x-N.x)-(N.x-O.x)*(z.y-N.y)}function c(O,N){return O.x===N.x&&O.y===N.y}function p(O,N,z,F){var I=S(a(O,N,z)),j=S(a(O,N,F)),V=S(a(z,F,O)),W=S(a(z,F,N));return!!(I!==j&&V!==W||I===0&&w(O,z,N)||j===0&&w(O,F,N)||V===0&&w(z,O,F)||W===0&&w(z,N,F))}function w(O,N,z){return N.x<=Math.max(O.x,z.x)&&N.x>=Math.min(O.x,z.x)&&N.y<=Math.max(O.y,z.y)&&N.y>=Math.min(O.y,z.y)}function S(O){return O>0?1:O<0?-1:0}function _(O,N){var z=O;do{if(z.i!==O.i&&z.next.i!==O.i&&z.i!==N.i&&z.next.i!==N.i&&p(z,z.next,O,N))return!0;z=z.next}while(z!==O);return!1}function T(O,N){return a(O.prev,O,O.next)<0?a(O,N,O.next)>=0&&a(O,O.prev,N)>=0:a(O,N,O.prev)<0||a(O,O.next,N)<0}function P(O,N){var z=O,F=!1,I=(O.x+N.x)/2,j=(O.y+N.y)/2;do z.y>j!=z.next.y>j&&z.next.y!==z.y&&I<(z.next.x-z.x)*(j-z.y)/(z.next.y-z.y)+z.x&&(F=!F),z=z.next;while(z!==O);return F}function u(O,N){var z=new A(O.i,O.x,O.y),F=new A(N.i,N.x,N.y),I=O.next,j=N.prev;return O.next=N,N.prev=O,z.next=I,I.prev=z,F.next=z,z.prev=F,j.next=F,F.prev=j,F}function g(O,N,z,F){var I=new A(O,N,z);return F?(I.next=F.next,I.prev=F,F.next.prev=I,F.next=I):(I.prev=I,I.next=I),I}function L(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function A(O,N,z){this.i=O,this.x=N,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}B.deviation=function(O,N,z,F){var I=N&&N.length,j=I?N[0]*z:O.length,V=Math.abs(R(O,0,j,z));if(I)for(var W=0,K=N.length;W<K;W++){var et=N[W]*z,lt=W<K-1?N[W+1]*z:O.length;V-=Math.abs(R(O,et,lt,z))}var ot=0;for(W=0;W<F.length;W+=3){var q=F[W]*z,J=F[W+1]*z,it=F[W+2]*z;ot+=Math.abs((O[q]-O[it])*(O[J+1]-O[q+1])-(O[q]-O[J])*(O[it+1]-O[q+1]))}return V===0&&ot===0?0:Math.abs((ot-V)/V)};function R(O,N,z,F){for(var I=0,j=N,V=z-F;j<z;j+=F)I+=(O[V]-O[j])*(O[j+1]+O[V+1]),V=j;return I}B.flatten=function(O){for(var N=O[0][0].length,z={vertices:[],holes:[],dimensions:N},F=0,I=0;I<O.length;I++){for(var j=0;j<O[I].length;j++)for(var V=0;V<N;V++)z.vertices.push(O[I][j][V]);I>0&&(F+=O[I-1].length,z.holes.push(F))}return z}},6688:function(X,B,t){var x=t(78484);X.exports=function(E,i){var M=[],m=[],d=[],v={},r=[],e;function s(p){d[p]=!1,v.hasOwnProperty(p)&&Object.keys(v[p]).forEach(function(w){delete v[p][w],d[w]&&s(w)})}function n(p){var w=!1;m.push(p),d[p]=!0;var S,_;for(S=0;S<r[p].length;S++)_=r[p][S],_===e?(l(e,m),w=!0):d[_]||(w=n(_));if(w)s(p);else for(S=0;S<r[p].length;S++){_=r[p][S];var T=v[_];T||(T={},v[_]=T),T[_]=!0}return m.pop(),w}function l(p,w){var S=[].concat(w).concat(p);i?i(n):M.push(S)}function o(p){for(var w=0;w<E.length;w++)w<p&&(E[w]=[]),E[w]=E[w].filter(function(S){return S>=p})}function h(p){o(p);for(var w=E,S=x(w),_=S.components.filter(function(R){return R.length>1}),T=1/0,P,u=0;u<_.length;u++)for(var g=0;g<_[u].length;g++)_[u][g]<T&&(T=_[u][g],P=u);var L=_[P];if(!L)return!1;var A=E.map(function(R,O){return L.indexOf(O)===-1?[]:R.filter(function(N){return L.indexOf(N)!==-1})});return{leastVertex:T,adjList:A}}e=0;for(var b=E.length;e<b;){var f=h(e);if(e=f.leastVertex,r=f.adjList,r){for(var k=0;k<r.length;k++)for(var a=0;a<r[k].length;a++){var c=r[k][a];d[+c]=!1,v[c]={}}n(e),e=e+1}else e=b}if(!i)return M}},41476:function(X,B,t){var x=t(9252);X.exports=function(){return x(this).length=0,this}},74772:function(X,B,t){X.exports=t(44716)()?Array.from:t(80816)},44716:function(X){X.exports=function(){var B=Array.from,t,x;return typeof B!="function"?!1:(t=["raz","dwa"],x=B(t),!!(x&&x!==t&&x[1]==="dwa"))}},80816:function(X,B,t){var x=t(92664).iterator,E=t(60948),i=t(17024),M=t(81304),m=t(34044),d=t(9252),v=t(42584),r=t(29768),e=Array.isArray,s=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;X.exports=function(o){var h=arguments[1],b=arguments[2],f,k,a,c,p,w,S,_,T,P;if(o=Object(d(o)),v(h)&&m(h),!this||this===Array||!i(this)){if(!h){if(E(o))return p=o.length,p!==1?Array.apply(null,o):(c=new Array(1),c[0]=o[0],c);if(e(o)){for(c=new Array(p=o.length),k=0;k<p;++k)c[k]=o[k];return c}}c=[]}else f=this;if(!e(o)){if((T=o[x])!==void 0){for(S=m(T).call(o),f&&(c=new f),_=S.next(),k=0;!_.done;)P=h?s.call(h,b,_.value,k):_.value,f?(n.value=P,l(c,k,n)):c[k]=P,_=S.next(),++k;p=k}else if(r(o)){for(p=o.length,f&&(c=new f),k=0,a=0;k<p;++k)P=o[k],k+1<p&&(w=P.charCodeAt(0),w>=55296&&w<=56319&&(P+=o[++k])),P=h?s.call(h,b,P,a):P,f?(n.value=P,l(c,a,n)):c[a]=P,++a;p=a}}if(p===void 0)for(p=M(o.length),f&&(c=new f(p)),k=0;k<p;++k)P=h?s.call(h,b,o[k],k):o[k],f?(n.value=P,l(c,k,n)):c[k]=P;return f&&(n.value=null,c.length=p),c}},60948:function(X){var B=Object.prototype.toString,t=B.call(function(){return arguments}());X.exports=function(x){return B.call(x)===t}},17024:function(X){var B=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);X.exports=function(x){return typeof x=="function"&&t(B.call(x))}},33208:function(X){X.exports=function(){}},85608:function(X,B,t){X.exports=t(37328)()?Math.sign:t(92928)},37328:function(X){X.exports=function(){var B=Math.sign;return typeof B!="function"?!1:B(10)===1&&B(-20)===-1}},92928:function(X){X.exports=function(B){return B=Number(B),isNaN(B)||B===0?B:B>0?1:-1}},96936:function(X,B,t){var x=t(85608),E=Math.abs,i=Math.floor;X.exports=function(M){return isNaN(M)?0:(M=Number(M),M===0||!isFinite(M)?M:x(M)*i(E(M)))}},81304:function(X,B,t){var x=t(96936),E=Math.max;X.exports=function(i){return E(0,x(i))}},14428:function(X,B,t){var x=t(34044),E=t(9252),i=Function.prototype.bind,M=Function.prototype.call,m=Object.keys,d=Object.prototype.propertyIsEnumerable;X.exports=function(v,r){return function(e,s){var n,l=arguments[2],o=arguments[3];return e=Object(E(e)),x(s),n=m(e),o&&n.sort(typeof o=="function"?i.call(o,e):void 0),typeof v!="function"&&(v=n[v]),M.call(v,n,function(h,b){return d.call(e,h)?M.call(s,l,e[h],h,e,b):r})}}},38452:function(X,B,t){X.exports=t(96276)()?Object.assign:t(81892)},96276:function(X){X.exports=function(){var B=Object.assign,t;return typeof B!="function"?!1:(t={foo:"raz"},B(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},81892:function(X,B,t){var x=t(54768),E=t(9252),i=Math.max;X.exports=function(M,m){var d,v,r=i(arguments.length,2),e;for(M=Object(E(M)),e=function(s){try{M[s]=m[s]}catch(n){d||(d=n)}},v=1;v<r;++v)m=arguments[v],x(m).forEach(e);if(d!==void 0)throw d;return M}},95920:function(X,B,t){var x=t(74772),E=t(38452),i=t(9252);X.exports=function(M){var m=Object(i(M)),d=arguments[1],v=Object(arguments[2]);if(m!==M&&!d)return m;var r={};return d?x(d,function(e){(v.ensure||e in M)&&(r[e]=M[e])}):E(r,M),r}},14452:function(X,B,t){var x=Object.create,E;t(63092)()||(E=t(8672)),X.exports=function(){var i,M,m;return!E||E.level!==1?x:(i={},M={},m={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(d){if(d==="__proto__"){M[d]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}M[d]=m}),Object.defineProperties(i,M),Object.defineProperty(E,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(d,v){return x(d===null?i:d,v)})}()},42748:function(X,B,t){X.exports=t(14428)("forEach")},69127:function(X,B,t){var x=t(42584),E={function:!0,object:!0};X.exports=function(i){return x(i)&&E[typeof i]||!1}},42584:function(X,B,t){var x=t(33208)();X.exports=function(E){return E!==x&&E!==null}},54768:function(X,B,t){X.exports=t(87888)()?Object.keys:t(89592)},87888:function(X){X.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(X,B,t){var x=t(42584),E=Object.keys;X.exports=function(i){return E(x(i)?Object(i):i)}},84323:function(X,B,t){var x=t(34044),E=t(42748),i=Function.prototype.call;X.exports=function(M,m){var d={},v=arguments[2];return x(m),E(M,function(r,e,s,n){d[e]=i.call(m,v,r,e,s,n)}),d}},50868:function(X,B,t){var x=t(42584),E=Array.prototype.forEach,i=Object.create,M=function(m,d){var v;for(v in m)d[v]=m[v]};X.exports=function(m){var d=i(null);return E.call(arguments,function(v){x(v)&&M(Object(v),d)}),d}},69932:function(X,B,t){X.exports=t(63092)()?Object.setPrototypeOf:t(8672)},63092:function(X){var B=Object.create,t=Object.getPrototypeOf,x={};X.exports=function(){var E=Object.setPrototypeOf,i=arguments[0]||B;return typeof E!="function"?!1:t(E(i(null),x))===x}},8672:function(X,B,t){var x=t(69127),E=t(9252),i=Object.prototype.isPrototypeOf,M=Object.defineProperty,m={configurable:!0,enumerable:!1,writable:!0,value:void 0},d;d=function(v,r){if(E(v),r===null||x(r))return v;throw new TypeError("Prototype must be null or an object")},X.exports=function(v){var r,e;return v?(v.level===2?v.set?(e=v.set,r=function(s,n){return e.call(d(s,n),n),s}):r=function(s,n){return d(s,n).__proto__=n,s}:r=function s(n,l){var o;return d(n,l),o=i.call(s.nullPolyfill,n),o&&delete s.nullPolyfill.__proto__,l===null&&(l=s.nullPolyfill),n.__proto__=l,o&&M(s.nullPolyfill,"__proto__",m),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:v.level})):null}(function(){var v=Object.create(null),r={},e,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{e=s.set,e.call(v,r)}catch{}if(Object.getPrototypeOf(v)===r)return{set:e,level:2}}return v.__proto__=r,Object.getPrototypeOf(v)===r?{level:2}:(v={},v.__proto__=r,Object.getPrototypeOf(v)===r?{level:1}:!1)}()),t(14452)},34044:function(X){X.exports=function(B){if(typeof B!="function")throw new TypeError(B+" is not a function");return B}},92584:function(X,B,t){var x=t(69127);X.exports=function(E){if(!x(E))throw new TypeError(E+" is not an Object");return E}},9252:function(X,B,t){var x=t(42584);X.exports=function(E){if(!x(E))throw new TypeError("Cannot use null or undefined");return E}},71056:function(X,B,t){X.exports=t(42976)()?String.prototype.contains:t(93040)},42976:function(X){var B="razdwatrzy";X.exports=function(){return typeof B.contains!="function"?!1:B.contains("dwa")===!0&&B.contains("foo")===!1}},93040:function(X){var B=String.prototype.indexOf;X.exports=function(t){return B.call(this,t,arguments[1])>-1}},29768:function(X){var B=Object.prototype.toString,t=B.call("");X.exports=function(x){return typeof x=="string"||x&&typeof x=="object"&&(x instanceof String||B.call(x)===t)||!1}},82252:function(X){var B=Object.create(null),t=Math.random;X.exports=function(){var x;do x=t().toString(36).slice(2);while(B[x]);return x}},52104:function(X,B,t){var x=t(69932),E=t(71056),i=t(21092),M=t(92664),m=t(85512),d=Object.defineProperty,v;v=X.exports=function(r,e){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");m.call(this,r),e?E.call(e,"key+value")?e="key+value":E.call(e,"key")?e="key":e="value":e="value",d(this,"__kind__",i("",e))},x&&x(v,m),delete v.prototype.constructor,v.prototype=Object.create(m.prototype,{_resolve:i(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),d(v.prototype,M.toStringTag,i("c","Array Iterator"))},76024:function(X,B,t){var x=t(60948),E=t(34044),i=t(29768),M=t(76252),m=Array.isArray,d=Function.prototype.call,v=Array.prototype.some;X.exports=function(r,e){var s,n=arguments[2],l,o,h,b,f,k,a;if(m(r)||x(r)?s="array":i(r)?s="string":r=M(r),E(e),o=function(){h=!0},s==="array"){v.call(r,function(c){return d.call(e,n,c,o),h});return}if(s==="string"){for(f=r.length,b=0;b<f&&(k=r[b],b+1<f&&(a=k.charCodeAt(0),a>=55296&&a<=56319&&(k+=r[++b])),d.call(e,n,k,o),!h);++b);return}for(l=r.next();!l.done;){if(d.call(e,n,l.value,o),h)return;l=r.next()}}},76252:function(X,B,t){var x=t(60948),E=t(29768),i=t(52104),M=t(80940),m=t(52891),d=t(92664).iterator;X.exports=function(v){return typeof m(v)[d]=="function"?v[d]():x(v)?new i(v):E(v)?new M(v):new i(v)}},85512:function(X,B,t){var x=t(41476),E=t(38452),i=t(34044),M=t(9252),m=t(21092),d=t(27940),v=t(92664),r=Object.defineProperty,e=Object.defineProperties,s;X.exports=s=function(n,l){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");e(this,{__list__:m("w",M(n)),__context__:m("w",l),__nextIndex__:m("w",0)}),l&&(i(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete s.prototype.constructor,e(s.prototype,E({_next:m(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:m(function(){return this._createResult(this._next())}),_createResult:m(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:m(function(n){return this.__list__[n]}),_unBind:m(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:m(function(){return"[object "+(this[v.toStringTag]||"Object")+"]"})},d({_onAdd:m(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",m("c",[n]));return}this.__redo__.forEach(function(l,o){l>=n&&(this.__redo__[o]=++l)},this),this.__redo__.push(n)}}),_onDelete:m(function(n){var l;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(l=this.__redo__.indexOf(n),l!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(o,h){o>n&&(this.__redo__[h]=--o)},this)))}),_onClear:m(function(){this.__redo__&&x.call(this.__redo__),this.__nextIndex__=0})}))),r(s.prototype,v.iterator,m(function(){return this}))},76368:function(X,B,t){var x=t(60948),E=t(42584),i=t(29768),M=t(92664).iterator,m=Array.isArray;X.exports=function(d){return E(d)?m(d)||i(d)||x(d)?!0:typeof d[M]=="function":!1}},80940:function(X,B,t){var x=t(69932),E=t(21092),i=t(92664),M=t(85512),m=Object.defineProperty,d;d=X.exports=function(v){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");v=String(v),M.call(this,v),m(this,"__length__",E("",v.length))},x&&x(d,M),delete d.prototype.constructor,d.prototype=Object.create(M.prototype,{_next:E(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:E(function(v){var r=this.__list__[v],e;return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),m(d.prototype,i.toStringTag,E("c","String Iterator"))},52891:function(X,B,t){var x=t(76368);X.exports=function(E){if(!x(E))throw new TypeError(E+" is not iterable");return E}},60964:function(X){function B(x,E){if(x==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(x),M=1;M<arguments.length;M++){var m=arguments[M];if(m!=null)for(var d=Object.keys(Object(m)),v=0,r=d.length;v<r;v++){var e=d[v],s=Object.getOwnPropertyDescriptor(m,e);s!==void 0&&s.enumerable&&(i[e]=m[e])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}X.exports={assign:B,polyfill:t}},92664:function(X,B,t){X.exports=t(43580)()?t(12296).Symbol:t(18376)},43580:function(X,B,t){var x=t(12296),E={object:!0,symbol:!0};X.exports=function(){var i=x.Symbol,M;if(typeof i!="function")return!1;M=i("test symbol");try{String(M)}catch{return!1}return!(!E[typeof i.iterator]||!E[typeof i.toPrimitive]||!E[typeof i.toStringTag])}},53908:function(X){X.exports=function(B){return B?typeof B=="symbol"?!0:!B.constructor||B.constructor.name!=="Symbol"?!1:B[B.constructor.toStringTag]==="Symbol":!1}},96863:function(X,B,t){var x=t(21092),E=Object.create,i=Object.defineProperty,M=Object.prototype,m=E(null);X.exports=function(d){for(var v=0,r,e;m[d+(v||"")];)++v;return d+=v||"",m[d]=!0,r="@@"+d,i(M,r,x.gs(null,function(s){e||(e=!0,i(this,r,x(s)),e=!1)})),r}},53540:function(X,B,t){var x=t(21092),E=t(12296).Symbol;X.exports=function(i){return Object.defineProperties(i,{hasInstance:x("",E&&E.hasInstance||i("hasInstance")),isConcatSpreadable:x("",E&&E.isConcatSpreadable||i("isConcatSpreadable")),iterator:x("",E&&E.iterator||i("iterator")),match:x("",E&&E.match||i("match")),replace:x("",E&&E.replace||i("replace")),search:x("",E&&E.search||i("search")),species:x("",E&&E.species||i("species")),split:x("",E&&E.split||i("split")),toPrimitive:x("",E&&E.toPrimitive||i("toPrimitive")),toStringTag:x("",E&&E.toStringTag||i("toStringTag")),unscopables:x("",E&&E.unscopables||i("unscopables"))})}},73852:function(X,B,t){var x=t(21092),E=t(63948),i=Object.create(null);X.exports=function(M){return Object.defineProperties(M,{for:x(function(m){return i[m]?i[m]:i[m]=M(String(m))}),keyFor:x(function(m){var d;E(m);for(d in i)if(i[d]===m)return d})})}},18376:function(X,B,t){var x=t(21092),E=t(63948),i=t(12296).Symbol,M=t(96863),m=t(53540),d=t(73852),v=Object.create,r=Object.defineProperties,e=Object.defineProperty,s,n,l;if(typeof i=="function")try{String(i()),l=!0}catch{}else i=null;n=function(o){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return s(o)},X.exports=s=function o(h){var b;if(this instanceof o)throw new TypeError("Symbol is not a constructor");return l?i(h):(b=v(n.prototype),h=h===void 0?"":String(h),r(b,{__description__:x("",h),__name__:x("",M(h))}))},m(s),d(s),r(n.prototype,{constructor:x(s),toString:x("",function(){return this.__name__})}),r(s.prototype,{toString:x(function(){return"Symbol ("+E(this).__description__+")"}),valueOf:x(function(){return E(this)})}),e(s.prototype,s.toPrimitive,x("",function(){var o=E(this);return typeof o=="symbol"?o:o.toString()})),e(s.prototype,s.toStringTag,x("c","Symbol")),e(n.prototype,s.toStringTag,x("c",s.prototype[s.toStringTag])),e(n.prototype,s.toPrimitive,x("c",s.prototype[s.toPrimitive]))},63948:function(X,B,t){var x=t(53908);X.exports=function(E){if(!x(E))throw new TypeError(E+" is not a symbol");return E}},60463:function(X,B,t){X.exports=t(96979)()?WeakMap:t(64864)},96979:function(X){X.exports=function(){var B,t;if(typeof WeakMap!="function")return!1;try{B=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(B)!=="[object WeakMap]"||typeof B.set!="function"||B.set({},1)!==B||typeof B.delete!="function"||typeof B.has!="function"||B.get(t)!=="one")}},69876:function(X){X.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(X,B,t){var x=t(42584),E=t(69932),i=t(92584),M=t(9252),m=t(82252),d=t(21092),v=t(76252),r=t(76024),e=t(92664).toStringTag,s=t(69876),n=Array.isArray,l=Object.defineProperty,o=Object.prototype.hasOwnProperty,h=Object.getPrototypeOf,b;X.exports=b=function(){var f=arguments[0],k;if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");return k=s&&E&&WeakMap!==b?E(new WeakMap,h(this)):this,x(f)&&(n(f)||(f=v(f))),l(k,"__weakMapData__",d("c","$weakMap$"+m())),f&&r(f,function(a){M(a),k.set(a[0],a[1])}),k},s&&(E&&E(b,WeakMap),b.prototype=Object.create(WeakMap.prototype,{constructor:d(b)})),Object.defineProperties(b.prototype,{delete:d(function(f){return o.call(i(f),this.__weakMapData__)?(delete f[this.__weakMapData__],!0):!1}),get:d(function(f){if(o.call(i(f),this.__weakMapData__))return f[this.__weakMapData__]}),has:d(function(f){return o.call(i(f),this.__weakMapData__)}),set:d(function(f,k){return l(i(f),this.__weakMapData__,d("c",k)),this}),toString:d(function(){return"[object WeakMap]"})}),l(b.prototype,e,d("c","WeakMap"))},61252:function(X){var B=typeof Reflect=="object"?Reflect:null,t=B&&typeof B.apply=="function"?B.apply:function(c,p,w){return Function.prototype.apply.call(c,p,w)},x;B&&typeof B.ownKeys=="function"?x=B.ownKeys:Object.getOwnPropertySymbols?x=function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:x=function(c){return Object.getOwnPropertyNames(c)};function E(c){console&&console.warn&&console.warn(c)}var i=Number.isNaN||function(c){return c!==c};function M(){M.init.call(this)}X.exports=M,X.exports.once=f,M.EventEmitter=M,M.prototype._events=void 0,M.prototype._eventsCount=0,M.prototype._maxListeners=void 0;var m=10;function d(c){if(typeof c!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c)}Object.defineProperty(M,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(c){if(typeof c!="number"||c<0||i(c))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+c+".");m=c}}),M.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},M.prototype.setMaxListeners=function(c){if(typeof c!="number"||c<0||i(c))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+c+".");return this._maxListeners=c,this};function v(c){return c._maxListeners===void 0?M.defaultMaxListeners:c._maxListeners}M.prototype.getMaxListeners=function(){return v(this)},M.prototype.emit=function(c){for(var p=[],w=1;w<arguments.length;w++)p.push(arguments[w]);var S=c==="error",_=this._events;if(_!==void 0)S=S&&_.error===void 0;else if(!S)return!1;if(S){var T;if(p.length>0&&(T=p[0]),T instanceof Error)throw T;var P=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw P.context=T,P}var u=_[c];if(u===void 0)return!1;if(typeof u=="function")t(u,this,p);else for(var g=u.length,L=o(u,g),w=0;w<g;++w)t(L[w],this,p);return!0};function r(c,p,w,S){var _,T,P;if(d(w),T=c._events,T===void 0?(T=c._events=Object.create(null),c._eventsCount=0):(T.newListener!==void 0&&(c.emit("newListener",p,w.listener?w.listener:w),T=c._events),P=T[p]),P===void 0)P=T[p]=w,++c._eventsCount;else if(typeof P=="function"?P=T[p]=S?[w,P]:[P,w]:S?P.unshift(w):P.push(w),_=v(c),_>0&&P.length>_&&!P.warned){P.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=c,u.type=p,u.count=P.length,E(u)}return c}M.prototype.addListener=function(c,p){return r(this,c,p,!1)},M.prototype.on=M.prototype.addListener,M.prototype.prependListener=function(c,p){return r(this,c,p,!0)};function e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(c,p,w){var S={fired:!1,wrapFn:void 0,target:c,type:p,listener:w},_=e.bind(S);return _.listener=w,S.wrapFn=_,_}M.prototype.once=function(c,p){return d(p),this.on(c,s(this,c,p)),this},M.prototype.prependOnceListener=function(c,p){return d(p),this.prependListener(c,s(this,c,p)),this},M.prototype.removeListener=function(c,p){var w,S,_,T,P;if(d(p),S=this._events,S===void 0)return this;if(w=S[c],w===void 0)return this;if(w===p||w.listener===p)--this._eventsCount===0?this._events=Object.create(null):(delete S[c],S.removeListener&&this.emit("removeListener",c,w.listener||p));else if(typeof w!="function"){for(_=-1,T=w.length-1;T>=0;T--)if(w[T]===p||w[T].listener===p){P=w[T].listener,_=T;break}if(_<0)return this;_===0?w.shift():h(w,_),w.length===1&&(S[c]=w[0]),S.removeListener!==void 0&&this.emit("removeListener",c,P||p)}return this},M.prototype.off=M.prototype.removeListener,M.prototype.removeAllListeners=function(c){var p,w,S;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[c]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[c]),this;if(arguments.length===0){var _=Object.keys(w),T;for(S=0;S<_.length;++S)T=_[S],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(p=w[c],typeof p=="function")this.removeListener(c,p);else if(p!==void 0)for(S=p.length-1;S>=0;S--)this.removeListener(c,p[S]);return this};function n(c,p,w){var S=c._events;if(S===void 0)return[];var _=S[p];return _===void 0?[]:typeof _=="function"?w?[_.listener||_]:[_]:w?b(_):o(_,_.length)}M.prototype.listeners=function(c){return n(this,c,!0)},M.prototype.rawListeners=function(c){return n(this,c,!1)},M.listenerCount=function(c,p){return typeof c.listenerCount=="function"?c.listenerCount(p):l.call(c,p)},M.prototype.listenerCount=l;function l(c){var p=this._events;if(p!==void 0){var w=p[c];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}M.prototype.eventNames=function(){return this._eventsCount>0?x(this._events):[]};function o(c,p){for(var w=new Array(p),S=0;S<p;++S)w[S]=c[S];return w}function h(c,p){for(;p+1<c.length;p++)c[p]=c[p+1];c.pop()}function b(c){for(var p=new Array(c.length),w=0;w<p.length;++w)p[w]=c[w].listener||c[w];return p}function f(c,p){return new Promise(function(w,S){function _(P){c.removeListener(p,T),S(P)}function T(){typeof c.removeListener=="function"&&c.removeListener("error",_),w([].slice.call(arguments))}a(c,p,T,{once:!0}),p!=="error"&&k(c,_,{once:!0})})}function k(c,p,w){typeof c.on=="function"&&a(c,"error",p,w)}function a(c,p,w,S){if(typeof c.on=="function")S.once?c.once(p,w):c.on(p,w);else if(typeof c.addEventListener=="function")c.addEventListener(p,function _(T){S.once&&c.removeEventListener(p,_),w(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof c)}},39072:function(X){var B=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};X.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},12296:function(X,B,t){X.exports=t(45072)()?globalThis:t(39072)},45072:function(X){X.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(X,B,t){var x=t(94576);X.exports=function(E){var i=typeof E;if(i==="string"){var M=E;if(E=+E,E===0&&x(M))return!1}else if(i!=="number")return!1;return E-E<1}},47520:function(X,B,t){var x=t(72512);X.exports=E;function E(i,M,m){if(!i)throw new TypeError("must specify data as first parameter");if(m=+(m||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var d=i[0].length,v=i.length*d,r,e,s,n;(!M||typeof M=="string")&&(M=new(x(M||"float32"))(v+m));var l=M.length-m;if(v!==l)throw new Error("source length "+v+" ("+d+"x"+i.length+") does not match destination length "+l);for(r=0,s=m;r<i.length;r++)for(e=0;e<d;e++)M[s++]=i[r][e]===null?NaN:i[r][e]}else if(!M||typeof M=="string"){var o=x(M||"float32");if(Array.isArray(i)||M==="array")for(M=new o(i.length+m),r=0,s=m,n=M.length;s<n;s++,r++)M[s]=i[r]===null?NaN:i[r];else m===0?M=new o(i):(M=new o(i.length+m),M.set(i,m))}else M.set(i,m);return M}},33888:function(X,B,t){var x=t(49395),E=[32,126];X.exports=i;function i(M){M=M||{};var m=M.shape?M.shape:M.canvas?[M.canvas.width,M.canvas.height]:[512,512],d=M.canvas||document.createElement("canvas"),v=M.font,r=typeof M.step=="number"?[M.step,M.step]:M.step||[32,32],e=M.chars||E;if(v&&typeof v!="string"&&(v=x(v)),!Array.isArray(e))e=String(e).split("");else if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"){for(var s=[],n=e[0],l=0;n<=e[1];n++)s[l++]=String.fromCharCode(n);e=s}m=m.slice(),d.width=m[0],d.height=m[1];var o=d.getContext("2d");o.fillStyle="#000",o.fillRect(0,0,d.width,d.height),o.font=v,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";for(var h=r[0]/2,b=r[1]/2,n=0;n<e.length;n++)o.fillText(e[n],h,b),(h+=r[0])>m[0]-r[0]/2&&(h=r[0]/2,b+=r[1]);return d}},71920:function(X){X.exports=B,B.canvas=document.createElement("canvas"),B.cache={};function B(e,M){M||(M={}),(typeof e=="string"||Array.isArray(e))&&(M.family=e);var m=Array.isArray(M.family)?M.family.join(", "):M.family;if(!m)throw Error("`family` must be defined");var d=M.size||M.fontSize||M.em||48,v=M.weight||M.fontWeight||"",r=M.style||M.fontStyle||"",e=[r,v,d].join(" ")+"px "+m,s=M.origin||"top";if(B.cache[m]&&d<=B.cache[m].em)return t(B.cache[m],s);var n=M.canvas||B.canvas,l=n.getContext("2d"),o={upper:M.upper!==void 0?M.upper:"H",lower:M.lower!==void 0?M.lower:"x",descent:M.descent!==void 0?M.descent:"p",ascent:M.ascent!==void 0?M.ascent:"h",tittle:M.tittle!==void 0?M.tittle:"i",overshoot:M.overshoot!==void 0?M.overshoot:"O"},h=Math.ceil(d*1.5);n.height=h,n.width=h*.5,l.font=e;var b="H",f={top:0};l.clearRect(0,0,h,h),l.textBaseline="top",l.fillStyle="black",l.fillText(b,0,0);var k=x(l.getImageData(0,0,h,h));l.clearRect(0,0,h,h),l.textBaseline="bottom",l.fillText(b,0,h);var a=x(l.getImageData(0,0,h,h));f.lineHeight=f.bottom=h-a+k,l.clearRect(0,0,h,h),l.textBaseline="alphabetic",l.fillText(b,0,h);var c=x(l.getImageData(0,0,h,h)),p=h-c-1+k;f.baseline=f.alphabetic=p,l.clearRect(0,0,h,h),l.textBaseline="middle",l.fillText(b,0,h*.5);var w=x(l.getImageData(0,0,h,h));f.median=f.middle=h-w-1+k-h*.5,l.clearRect(0,0,h,h),l.textBaseline="hanging",l.fillText(b,0,h*.5);var S=x(l.getImageData(0,0,h,h));f.hanging=h-S-1+k-h*.5,l.clearRect(0,0,h,h),l.textBaseline="ideographic",l.fillText(b,0,h);var _=x(l.getImageData(0,0,h,h));if(f.ideographic=h-_-1+k,o.upper&&(l.clearRect(0,0,h,h),l.textBaseline="top",l.fillText(o.upper,0,0),f.upper=x(l.getImageData(0,0,h,h)),f.capHeight=f.baseline-f.upper),o.lower&&(l.clearRect(0,0,h,h),l.textBaseline="top",l.fillText(o.lower,0,0),f.lower=x(l.getImageData(0,0,h,h)),f.xHeight=f.baseline-f.lower),o.tittle&&(l.clearRect(0,0,h,h),l.textBaseline="top",l.fillText(o.tittle,0,0),f.tittle=x(l.getImageData(0,0,h,h))),o.ascent&&(l.clearRect(0,0,h,h),l.textBaseline="top",l.fillText(o.ascent,0,0),f.ascent=x(l.getImageData(0,0,h,h))),o.descent&&(l.clearRect(0,0,h,h),l.textBaseline="top",l.fillText(o.descent,0,0),f.descent=E(l.getImageData(0,0,h,h))),o.overshoot){l.clearRect(0,0,h,h),l.textBaseline="top",l.fillText(o.overshoot,0,0);var T=E(l.getImageData(0,0,h,h));f.overshoot=T-p}for(var P in f)f[P]/=d;return f.em=d,B.cache[m]=f,t(f,s)}function t(i,M){var m={};typeof M=="string"&&(M=i[M]);for(var d in i)d!=="em"&&(m[d]=i[d]-M);return m}function x(i){for(var M=i.height,m=i.data,d=3;d<m.length;d+=4)if(m[d]!==0)return Math.floor((d-3)*.25/M)}function E(i){for(var M=i.height,m=i.data,d=m.length-1;d>0;d-=4)if(m[d]!==0)return Math.floor((d-3)*.25/M)}},46492:function(X,B,t){var x=t(90720),E=Object.prototype.toString,i=Object.prototype.hasOwnProperty,M=function(r,e,s){for(var n=0,l=r.length;n<l;n++)i.call(r,n)&&(s==null?e(r[n],n,r):e.call(s,r[n],n,r))},m=function(r,e,s){for(var n=0,l=r.length;n<l;n++)s==null?e(r.charAt(n),n,r):e.call(s,r.charAt(n),n,r)},d=function(r,e,s){for(var n in r)i.call(r,n)&&(s==null?e(r[n],n,r):e.call(s,r[n],n,r))},v=function(r,e,s){if(!x(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=s),E.call(r)==="[object Array]"?M(r,e,n):typeof r=="string"?m(r,e,n):d(r,e,n)};X.exports=v},74336:function(X){var B="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,x=Math.max,E="[object Function]",i=function(d,v){for(var r=[],e=0;e<d.length;e+=1)r[e]=d[e];for(var s=0;s<v.length;s+=1)r[s+d.length]=v[s];return r},M=function(d,v){for(var r=[],e=v||0,s=0;e<d.length;e+=1,s+=1)r[s]=d[e];return r},m=function(d,v){for(var r="",e=0;e<d.length;e+=1)r+=d[e],e+1<d.length&&(r+=v);return r};X.exports=function(d){var v=this;if(typeof v!="function"||t.apply(v)!==E)throw new TypeError(B+v);for(var r=M(arguments,1),e,s=function(){if(this instanceof e){var b=v.apply(this,i(r,arguments));return Object(b)===b?b:this}return v.apply(d,i(r,arguments))},n=x(0,v.length-r.length),l=[],o=0;o<n;o++)l[o]="$"+o;if(e=Function("binder","return function ("+m(l,",")+"){ return binder.apply(this,arguments); }")(s),v.prototype){var h=function(){};h.prototype=v.prototype,e.prototype=new h,h.prototype=null}return e}},8844:function(X,B,t){var x=t(74336);X.exports=Function.prototype.bind||x},13380:function(X){X.exports=B;function B(t,x){if(typeof t!="string")throw new TypeError("must specify type string");if(x=x||{},typeof document>"u"&&!x.canvas)return null;var E=x.canvas||document.createElement("canvas");typeof x.width=="number"&&(E.width=x.width),typeof x.height=="number"&&(E.height=x.height);var i=x,M;try{var m=[t];t.indexOf("webgl")===0&&m.push("experimental-"+t);for(var d=0;d<m.length;d++)if(M=E.getContext(m[d],i),M)return M}catch{M=null}return M||null}},53664:function(X,B,t){var x,E=SyntaxError,i=Function,M=TypeError,m=function(A){try{return i('"use strict"; return ('+A+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var v=function(){throw new M},r=d?function(){try{return arguments.callee,v}catch{try{return d(arguments,"callee").get}catch{return v}}}():v,e=t(71080)(),s=t(69572)(),n=Object.getPrototypeOf||(s?function(A){return A.__proto__}:null),l={},o=typeof Uint8Array>"u"||!n?x:n(Uint8Array),h={"%AggregateError%":typeof AggregateError>"u"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?x:ArrayBuffer,"%ArrayIteratorPrototype%":e&&n?n([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?x:Atomics,"%BigInt%":typeof BigInt>"u"?x:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?x:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?x:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?x:Float32Array,"%Float64Array%":typeof Float64Array>"u"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?x:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?x:Int8Array,"%Int16Array%":typeof Int16Array>"u"?x:Int16Array,"%Int32Array%":typeof Int32Array>"u"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e&&n?n(n([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map>"u"?x:Map,"%MapIteratorPrototype%":typeof Map>"u"||!e||!n?x:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?x:Promise,"%Proxy%":typeof Proxy>"u"?x:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?x:Set,"%SetIteratorPrototype%":typeof Set>"u"||!e||!n?x:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e&&n?n(""[Symbol.iterator]()):x,"%Symbol%":e?Symbol:x,"%SyntaxError%":E,"%ThrowTypeError%":r,"%TypedArray%":o,"%TypeError%":M,"%Uint8Array%":typeof Uint8Array>"u"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?x:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?x:WeakMap,"%WeakRef%":typeof WeakRef>"u"?x:WeakRef,"%WeakSet%":typeof WeakSet>"u"?x:WeakSet};if(n)try{null.error}catch(A){var b=n(n(A));h["%Error.prototype%"]=b}var f=function A(R){var O;if(R==="%AsyncFunction%")O=m("async function () {}");else if(R==="%GeneratorFunction%")O=m("function* () {}");else if(R==="%AsyncGeneratorFunction%")O=m("async function* () {}");else if(R==="%AsyncGenerator%"){var N=A("%AsyncGeneratorFunction%");N&&(O=N.prototype)}else if(R==="%AsyncIteratorPrototype%"){var z=A("%AsyncGenerator%");z&&n&&(O=n(z.prototype))}return h[R]=O,O},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},a=t(8844),c=t(92064),p=a.call(Function.call,Array.prototype.concat),w=a.call(Function.apply,Array.prototype.splice),S=a.call(Function.call,String.prototype.replace),_=a.call(Function.call,String.prototype.slice),T=a.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,u=/\\(\\)?/g,g=function(A){var R=_(A,0,1),O=_(A,-1);if(R==="%"&&O!=="%")throw new E("invalid intrinsic syntax, expected closing `%`");if(O==="%"&&R!=="%")throw new E("invalid intrinsic syntax, expected opening `%`");var N=[];return S(A,P,function(z,F,I,j){N[N.length]=I?S(j,u,"$1"):F||z}),N},L=function(A,R){var O=A,N;if(c(k,O)&&(N=k[O],O="%"+N[0]+"%"),c(h,O)){var z=h[O];if(z===l&&(z=f(O)),typeof z>"u"&&!R)throw new M("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:N,name:O,value:z}}throw new E("intrinsic "+A+" does not exist!")};X.exports=function(A,R){if(typeof A!="string"||A.length===0)throw new M("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof R!="boolean")throw new M('"allowMissing" argument must be a boolean');if(T(/^%?[^%]*%?$/,A)===null)throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=g(A),N=O.length>0?O[0]:"",z=L("%"+N+"%",R),F=z.name,I=z.value,j=!1,V=z.alias;V&&(N=V[0],w(O,p([0,1],V)));for(var W=1,K=!0;W<O.length;W+=1){var et=O[W],lt=_(et,0,1),ot=_(et,-1);if((lt==='"'||lt==="'"||lt==="`"||ot==='"'||ot==="'"||ot==="`")&&lt!==ot)throw new E("property names with quotes must have matching quotes");if((et==="constructor"||!K)&&(j=!0),N+="."+et,F="%"+N+"%",c(h,F))I=h[F];else if(I!=null){if(!(et in I)){if(!R)throw new M("base intrinsic for "+A+" exists, but the property is not available.");return}if(d&&W+1>=O.length){var q=d(I,et);K=!!q,K&&"get"in q&&!("originalValue"in q.get)?I=q.get:I=I[et]}else K=c(I,et),I=I[et];K&&!j&&(h[F]=I)}}return I}},12408:function(X){X.exports=B;function B(t,x){var E=x[0],i=x[1],M=x[2],m=x[3],d=x[4],v=x[5],r=x[6],e=x[7],s=x[8],n=x[9],l=x[10],o=x[11],h=x[12],b=x[13],f=x[14],k=x[15];return t[0]=v*(l*k-o*f)-n*(r*k-e*f)+b*(r*o-e*l),t[1]=-(i*(l*k-o*f)-n*(M*k-m*f)+b*(M*o-m*l)),t[2]=i*(r*k-e*f)-v*(M*k-m*f)+b*(M*e-m*r),t[3]=-(i*(r*o-e*l)-v*(M*o-m*l)+n*(M*e-m*r)),t[4]=-(d*(l*k-o*f)-s*(r*k-e*f)+h*(r*o-e*l)),t[5]=E*(l*k-o*f)-s*(M*k-m*f)+h*(M*o-m*l),t[6]=-(E*(r*k-e*f)-d*(M*k-m*f)+h*(M*e-m*r)),t[7]=E*(r*o-e*l)-d*(M*o-m*l)+s*(M*e-m*r),t[8]=d*(n*k-o*b)-s*(v*k-e*b)+h*(v*o-e*n),t[9]=-(E*(n*k-o*b)-s*(i*k-m*b)+h*(i*o-m*n)),t[10]=E*(v*k-e*b)-d*(i*k-m*b)+h*(i*e-m*v),t[11]=-(E*(v*o-e*n)-d*(i*o-m*n)+s*(i*e-m*v)),t[12]=-(d*(n*f-l*b)-s*(v*f-r*b)+h*(v*l-r*n)),t[13]=E*(n*f-l*b)-s*(i*f-M*b)+h*(i*l-M*n),t[14]=-(E*(v*f-r*b)-d*(i*f-M*b)+h*(i*r-M*v)),t[15]=E*(v*l-r*n)-d*(i*l-M*n)+s*(i*r-M*v),t}},76860:function(X){X.exports=B;function B(t){var x=new Float32Array(16);return x[0]=t[0],x[1]=t[1],x[2]=t[2],x[3]=t[3],x[4]=t[4],x[5]=t[5],x[6]=t[6],x[7]=t[7],x[8]=t[8],x[9]=t[9],x[10]=t[10],x[11]=t[11],x[12]=t[12],x[13]=t[13],x[14]=t[14],x[15]=t[15],x}},64492:function(X){X.exports=B;function B(t,x){return t[0]=x[0],t[1]=x[1],t[2]=x[2],t[3]=x[3],t[4]=x[4],t[5]=x[5],t[6]=x[6],t[7]=x[7],t[8]=x[8],t[9]=x[9],t[10]=x[10],t[11]=x[11],t[12]=x[12],t[13]=x[13],t[14]=x[14],t[15]=x[15],t}},54212:function(X){X.exports=B;function B(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},70800:function(X){X.exports=B;function B(t){var x=t[0],E=t[1],i=t[2],M=t[3],m=t[4],d=t[5],v=t[6],r=t[7],e=t[8],s=t[9],n=t[10],l=t[11],o=t[12],h=t[13],b=t[14],f=t[15],k=x*d-E*m,a=x*v-i*m,c=x*r-M*m,p=E*v-i*d,w=E*r-M*d,S=i*r-M*v,_=e*h-s*o,T=e*b-n*o,P=e*f-l*o,u=s*b-n*h,g=s*f-l*h,L=n*f-l*b;return k*L-a*g+c*u+p*P-w*T+S*_}},61784:function(X){X.exports=B;function B(t,x){var E=x[0],i=x[1],M=x[2],m=x[3],d=E+E,v=i+i,r=M+M,e=E*d,s=i*d,n=i*v,l=M*d,o=M*v,h=M*r,b=m*d,f=m*v,k=m*r;return t[0]=1-n-h,t[1]=s+k,t[2]=l-f,t[3]=0,t[4]=s-k,t[5]=1-e-h,t[6]=o+b,t[7]=0,t[8]=l+f,t[9]=o-b,t[10]=1-e-n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},91616:function(X){X.exports=B;function B(t,x,E){var i,M,m,d=E[0],v=E[1],r=E[2],e=Math.sqrt(d*d+v*v+r*r);return Math.abs(e)<1e-6?null:(e=1/e,d*=e,v*=e,r*=e,i=Math.sin(x),M=Math.cos(x),m=1-M,t[0]=d*d*m+M,t[1]=v*d*m+r*i,t[2]=r*d*m-v*i,t[3]=0,t[4]=d*v*m-r*i,t[5]=v*v*m+M,t[6]=r*v*m+d*i,t[7]=0,t[8]=d*r*m+v*i,t[9]=v*r*m-d*i,t[10]=r*r*m+M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},51944:function(X){X.exports=B;function B(t,x,E){var i=x[0],M=x[1],m=x[2],d=x[3],v=i+i,r=M+M,e=m+m,s=i*v,n=i*r,l=i*e,o=M*r,h=M*e,b=m*e,f=d*v,k=d*r,a=d*e;return t[0]=1-(o+b),t[1]=n+a,t[2]=l-k,t[3]=0,t[4]=n-a,t[5]=1-(s+b),t[6]=h+f,t[7]=0,t[8]=l+k,t[9]=h-f,t[10]=1-(s+o),t[11]=0,t[12]=E[0],t[13]=E[1],t[14]=E[2],t[15]=1,t}},69444:function(X){X.exports=B;function B(t,x){return t[0]=x[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=x[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=x[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},48268:function(X){X.exports=B;function B(t,x){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=x[0],t[13]=x[1],t[14]=x[2],t[15]=1,t}},21856:function(X){X.exports=B;function B(t,x){var E=Math.sin(x),i=Math.cos(x);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=E,t[7]=0,t[8]=0,t[9]=-E,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},79216:function(X){X.exports=B;function B(t,x){var E=Math.sin(x),i=Math.cos(x);return t[0]=i,t[1]=0,t[2]=-E,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=E,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},57736:function(X){X.exports=B;function B(t,x){var E=Math.sin(x),i=Math.cos(x);return t[0]=i,t[1]=E,t[2]=0,t[3]=0,t[4]=-E,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},38848:function(X){X.exports=B;function B(t,x,E,i,M,m,d){var v=1/(E-x),r=1/(M-i),e=1/(m-d);return t[0]=m*2*v,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=m*2*r,t[6]=0,t[7]=0,t[8]=(E+x)*v,t[9]=(M+i)*r,t[10]=(d+m)*e,t[11]=-1,t[12]=0,t[13]=0,t[14]=d*m*2*e,t[15]=0,t}},36635:function(X){X.exports=B;function B(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},36524:function(X,B,t){X.exports={create:t(54212),clone:t(76860),copy:t(64492),identity:t(36635),transpose:t(86520),invert:t(4308),adjoint:t(12408),determinant:t(70800),multiply:t(80944),translate:t(35176),scale:t(68152),rotate:t(30016),rotateX:t(15456),rotateY:t(64840),rotateZ:t(4192),fromRotation:t(91616),fromRotationTranslation:t(51944),fromScaling:t(69444),fromTranslation:t(48268),fromXRotation:t(21856),fromYRotation:t(79216),fromZRotation:t(57736),fromQuat:t(61784),frustum:t(38848),perspective:t(51296),perspectiveFromFieldOfView:t(63688),ortho:t(97688),lookAt:t(56508),str:t(89412)}},4308:function(X){X.exports=B;function B(t,x){var E=x[0],i=x[1],M=x[2],m=x[3],d=x[4],v=x[5],r=x[6],e=x[7],s=x[8],n=x[9],l=x[10],o=x[11],h=x[12],b=x[13],f=x[14],k=x[15],a=E*v-i*d,c=E*r-M*d,p=E*e-m*d,w=i*r-M*v,S=i*e-m*v,_=M*e-m*r,T=s*b-n*h,P=s*f-l*h,u=s*k-o*h,g=n*f-l*b,L=n*k-o*b,A=l*k-o*f,R=a*A-c*L+p*g+w*u-S*P+_*T;return R?(R=1/R,t[0]=(v*A-r*L+e*g)*R,t[1]=(M*L-i*A-m*g)*R,t[2]=(b*_-f*S+k*w)*R,t[3]=(l*S-n*_-o*w)*R,t[4]=(r*u-d*A-e*P)*R,t[5]=(E*A-M*u+m*P)*R,t[6]=(f*p-h*_-k*c)*R,t[7]=(s*_-l*p+o*c)*R,t[8]=(d*L-v*u+e*T)*R,t[9]=(i*u-E*L-m*T)*R,t[10]=(h*S-b*p+k*a)*R,t[11]=(n*p-s*S-o*a)*R,t[12]=(v*P-d*g-r*T)*R,t[13]=(E*g-i*P+M*T)*R,t[14]=(b*c-h*w-f*a)*R,t[15]=(s*w-n*c+l*a)*R,t):null}},56508:function(X,B,t){var x=t(36635);X.exports=E;function E(i,M,m,d){var v,r,e,s,n,l,o,h,b,f,k=M[0],a=M[1],c=M[2],p=d[0],w=d[1],S=d[2],_=m[0],T=m[1],P=m[2];return Math.abs(k-_)<1e-6&&Math.abs(a-T)<1e-6&&Math.abs(c-P)<1e-6?x(i):(o=k-_,h=a-T,b=c-P,f=1/Math.sqrt(o*o+h*h+b*b),o*=f,h*=f,b*=f,v=w*b-S*h,r=S*o-p*b,e=p*h-w*o,f=Math.sqrt(v*v+r*r+e*e),f?(f=1/f,v*=f,r*=f,e*=f):(v=0,r=0,e=0),s=h*e-b*r,n=b*v-o*e,l=o*r-h*v,f=Math.sqrt(s*s+n*n+l*l),f?(f=1/f,s*=f,n*=f,l*=f):(s=0,n=0,l=0),i[0]=v,i[1]=s,i[2]=o,i[3]=0,i[4]=r,i[5]=n,i[6]=h,i[7]=0,i[8]=e,i[9]=l,i[10]=b,i[11]=0,i[12]=-(v*k+r*a+e*c),i[13]=-(s*k+n*a+l*c),i[14]=-(o*k+h*a+b*c),i[15]=1,i)}},80944:function(X){X.exports=B;function B(t,x,E){var i=x[0],M=x[1],m=x[2],d=x[3],v=x[4],r=x[5],e=x[6],s=x[7],n=x[8],l=x[9],o=x[10],h=x[11],b=x[12],f=x[13],k=x[14],a=x[15],c=E[0],p=E[1],w=E[2],S=E[3];return t[0]=c*i+p*v+w*n+S*b,t[1]=c*M+p*r+w*l+S*f,t[2]=c*m+p*e+w*o+S*k,t[3]=c*d+p*s+w*h+S*a,c=E[4],p=E[5],w=E[6],S=E[7],t[4]=c*i+p*v+w*n+S*b,t[5]=c*M+p*r+w*l+S*f,t[6]=c*m+p*e+w*o+S*k,t[7]=c*d+p*s+w*h+S*a,c=E[8],p=E[9],w=E[10],S=E[11],t[8]=c*i+p*v+w*n+S*b,t[9]=c*M+p*r+w*l+S*f,t[10]=c*m+p*e+w*o+S*k,t[11]=c*d+p*s+w*h+S*a,c=E[12],p=E[13],w=E[14],S=E[15],t[12]=c*i+p*v+w*n+S*b,t[13]=c*M+p*r+w*l+S*f,t[14]=c*m+p*e+w*o+S*k,t[15]=c*d+p*s+w*h+S*a,t}},97688:function(X){X.exports=B;function B(t,x,E,i,M,m,d){var v=1/(x-E),r=1/(i-M),e=1/(m-d);return t[0]=-2*v,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*e,t[11]=0,t[12]=(x+E)*v,t[13]=(M+i)*r,t[14]=(d+m)*e,t[15]=1,t}},51296:function(X){X.exports=B;function B(t,x,E,i,M){var m=1/Math.tan(x/2),d=1/(i-M);return t[0]=m/E,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(M+i)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*M*i*d,t[15]=0,t}},63688:function(X){X.exports=B;function B(t,x,E,i){var M=Math.tan(x.upDegrees*Math.PI/180),m=Math.tan(x.downDegrees*Math.PI/180),d=Math.tan(x.leftDegrees*Math.PI/180),v=Math.tan(x.rightDegrees*Math.PI/180),r=2/(d+v),e=2/(M+m);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=-((d-v)*r*.5),t[9]=(M-m)*e*.5,t[10]=i/(E-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*E/(E-i),t[15]=0,t}},30016:function(X){X.exports=B;function B(t,x,E,i){var M=i[0],m=i[1],d=i[2],v=Math.sqrt(M*M+m*m+d*d),r,e,s,n,l,o,h,b,f,k,a,c,p,w,S,_,T,P,u,g,L,A,R,O;return Math.abs(v)<1e-6?null:(v=1/v,M*=v,m*=v,d*=v,r=Math.sin(E),e=Math.cos(E),s=1-e,n=x[0],l=x[1],o=x[2],h=x[3],b=x[4],f=x[5],k=x[6],a=x[7],c=x[8],p=x[9],w=x[10],S=x[11],_=M*M*s+e,T=m*M*s+d*r,P=d*M*s-m*r,u=M*m*s-d*r,g=m*m*s+e,L=d*m*s+M*r,A=M*d*s+m*r,R=m*d*s-M*r,O=d*d*s+e,t[0]=n*_+b*T+c*P,t[1]=l*_+f*T+p*P,t[2]=o*_+k*T+w*P,t[3]=h*_+a*T+S*P,t[4]=n*u+b*g+c*L,t[5]=l*u+f*g+p*L,t[6]=o*u+k*g+w*L,t[7]=h*u+a*g+S*L,t[8]=n*A+b*R+c*O,t[9]=l*A+f*R+p*O,t[10]=o*A+k*R+w*O,t[11]=h*A+a*R+S*O,x!==t&&(t[12]=x[12],t[13]=x[13],t[14]=x[14],t[15]=x[15]),t)}},15456:function(X){X.exports=B;function B(t,x,E){var i=Math.sin(E),M=Math.cos(E),m=x[4],d=x[5],v=x[6],r=x[7],e=x[8],s=x[9],n=x[10],l=x[11];return x!==t&&(t[0]=x[0],t[1]=x[1],t[2]=x[2],t[3]=x[3],t[12]=x[12],t[13]=x[13],t[14]=x[14],t[15]=x[15]),t[4]=m*M+e*i,t[5]=d*M+s*i,t[6]=v*M+n*i,t[7]=r*M+l*i,t[8]=e*M-m*i,t[9]=s*M-d*i,t[10]=n*M-v*i,t[11]=l*M-r*i,t}},64840:function(X){X.exports=B;function B(t,x,E){var i=Math.sin(E),M=Math.cos(E),m=x[0],d=x[1],v=x[2],r=x[3],e=x[8],s=x[9],n=x[10],l=x[11];return x!==t&&(t[4]=x[4],t[5]=x[5],t[6]=x[6],t[7]=x[7],t[12]=x[12],t[13]=x[13],t[14]=x[14],t[15]=x[15]),t[0]=m*M-e*i,t[1]=d*M-s*i,t[2]=v*M-n*i,t[3]=r*M-l*i,t[8]=m*i+e*M,t[9]=d*i+s*M,t[10]=v*i+n*M,t[11]=r*i+l*M,t}},4192:function(X){X.exports=B;function B(t,x,E){var i=Math.sin(E),M=Math.cos(E),m=x[0],d=x[1],v=x[2],r=x[3],e=x[4],s=x[5],n=x[6],l=x[7];return x!==t&&(t[8]=x[8],t[9]=x[9],t[10]=x[10],t[11]=x[11],t[12]=x[12],t[13]=x[13],t[14]=x[14],t[15]=x[15]),t[0]=m*M+e*i,t[1]=d*M+s*i,t[2]=v*M+n*i,t[3]=r*M+l*i,t[4]=e*M-m*i,t[5]=s*M-d*i,t[6]=n*M-v*i,t[7]=l*M-r*i,t}},68152:function(X){X.exports=B;function B(t,x,E){var i=E[0],M=E[1],m=E[2];return t[0]=x[0]*i,t[1]=x[1]*i,t[2]=x[2]*i,t[3]=x[3]*i,t[4]=x[4]*M,t[5]=x[5]*M,t[6]=x[6]*M,t[7]=x[7]*M,t[8]=x[8]*m,t[9]=x[9]*m,t[10]=x[10]*m,t[11]=x[11]*m,t[12]=x[12],t[13]=x[13],t[14]=x[14],t[15]=x[15],t}},89412:function(X){X.exports=B;function B(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},35176:function(X){X.exports=B;function B(t,x,E){var i=E[0],M=E[1],m=E[2],d,v,r,e,s,n,l,o,h,b,f,k;return x===t?(t[12]=x[0]*i+x[4]*M+x[8]*m+x[12],t[13]=x[1]*i+x[5]*M+x[9]*m+x[13],t[14]=x[2]*i+x[6]*M+x[10]*m+x[14],t[15]=x[3]*i+x[7]*M+x[11]*m+x[15]):(d=x[0],v=x[1],r=x[2],e=x[3],s=x[4],n=x[5],l=x[6],o=x[7],h=x[8],b=x[9],f=x[10],k=x[11],t[0]=d,t[1]=v,t[2]=r,t[3]=e,t[4]=s,t[5]=n,t[6]=l,t[7]=o,t[8]=h,t[9]=b,t[10]=f,t[11]=k,t[12]=d*i+s*M+h*m+x[12],t[13]=v*i+n*M+b*m+x[13],t[14]=r*i+l*M+f*m+x[14],t[15]=e*i+o*M+k*m+x[15]),t}},86520:function(X){X.exports=B;function B(t,x){if(t===x){var E=x[1],i=x[2],M=x[3],m=x[6],d=x[7],v=x[11];t[1]=x[4],t[2]=x[8],t[3]=x[12],t[4]=E,t[6]=x[9],t[7]=x[13],t[8]=i,t[9]=m,t[11]=x[14],t[12]=M,t[13]=d,t[14]=v}else t[0]=x[0],t[1]=x[4],t[2]=x[8],t[3]=x[12],t[4]=x[1],t[5]=x[5],t[6]=x[9],t[7]=x[13],t[8]=x[2],t[9]=x[6],t[10]=x[10],t[11]=x[14],t[12]=x[3],t[13]=x[7],t[14]=x[11],t[15]=x[15];return t}},23352:function(X,B,t){var x=t(42771),E=t(55616),i=t(28624),M=t(55212),m=t(60463),d=t(72160),v=t(33888),r=t(14144),e=t(51160),s=t(58908),n=t(65819),l=t(23464),o=t(63768),h=t(50896),b=t(71920),f=t(47520),k=t(308),a=k.nextPow2,c=new m,p=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(p=!0),document.body.removeChild(w)}var S=function(T){_(T)?(T={regl:T},this.gl=T.regl._gl):this.gl=M(T),this.shader=c.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=T.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),c.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(T)?T:{})};S.prototype.createShader=function(){var T=this.regl,P=T({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:T.prop("count"),offset:T.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:T.this("sizeBuffer")},width:{offset:0,stride:8,buffer:T.this("sizeBuffer")},char:T.this("charBuffer"),position:T.this("position")},uniforms:{atlasSize:function(g,L){return[L.atlas.width,L.atlas.height]},atlasDim:function(g,L){return[L.atlas.cols,L.atlas.rows]},atlas:function(g,L){return L.atlas.texture},charStep:function(g,L){return L.atlas.step},em:function(g,L){return L.atlas.em},color:T.prop("color"),opacity:T.prop("opacity"),viewport:T.this("viewportArray"),scale:T.this("scale"),align:T.prop("align"),baseline:T.prop("baseline"),translate:T.this("translate"),positionOffset:T.prop("positionOffset")},primitive:"points",viewport:T.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),u={};return{regl:T,draw:P,atlas:u}},S.prototype.update=function(T){var P=this;if(typeof T=="string")T={text:T};else if(!T)return;T=E(T,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),T.opacity!=null&&(Array.isArray(T.opacity)?this.opacity=T.opacity.map(function(Ht){return parseFloat(Ht)}):this.opacity=parseFloat(T.opacity)),T.viewport!=null&&(this.viewport=e(T.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),T.kerning!=null&&(this.kerning=T.kerning),T.offset!=null&&(typeof T.offset=="number"&&(T.offset=[T.offset,0]),this.positionOffset=f(T.offset)),T.direction&&(this.direction=T.direction),T.range&&(this.range=T.range,this.scale=[1/(T.range[2]-T.range[0]),1/(T.range[3]-T.range[1])],this.translate=[-T.range[0],-T.range[1]]),T.scale&&(this.scale=T.scale),T.translate&&(this.translate=T.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!T.font&&(T.font=S.baseFontSize+"px sans-serif");var u=!1,g=!1;if(T.font&&(Array.isArray(T.font)?T.font:[T.font]).forEach(function(Ht,Dt){if(typeof Ht=="string")try{Ht=x.parse(Ht)}catch{Ht=x.parse(S.baseFontSize+"px "+Ht)}else Ht=x.parse(x.stringify(Ht));var Xt=x.stringify({size:S.baseFontSize,family:Ht.family,stretch:p?Ht.stretch:void 0,variant:Ht.variant,weight:Ht.weight,style:Ht.style}),se=n(Ht.size),Yt=Math.round(se[0]*l(se[1]));if(Yt!==P.fontSize[Dt]&&(g=!0,P.fontSize[Dt]=Yt),(!P.font[Dt]||Xt!=P.font[Dt].baseString)&&(u=!0,P.font[Dt]=S.fonts[Xt],!P.font[Dt])){var ue=Ht.family.join(", "),ie=[Ht.style];Ht.style!=Ht.variant&&ie.push(Ht.variant),Ht.variant!=Ht.weight&&ie.push(Ht.weight),p&&Ht.weight!=Ht.stretch&&ie.push(Ht.stretch),P.font[Dt]={baseString:Xt,family:ue,weight:Ht.weight,stretch:Ht.stretch,style:Ht.style,variant:Ht.variant,width:{},kerning:{},metrics:b(ue,{origin:"top",fontSize:S.baseFontSize,fontStyle:ie.join(" ")})},S.fonts[Xt]=P.font[Dt]}}),(u||g)&&this.font.forEach(function(Ht,Dt){var Xt=x.stringify({size:P.fontSize[Dt],family:Ht.family,stretch:p?Ht.stretch:void 0,variant:Ht.variant,weight:Ht.weight,style:Ht.style});if(P.fontAtlas[Dt]=P.shader.atlas[Xt],!P.fontAtlas[Dt]){var se=Ht.metrics;P.shader.atlas[Xt]=P.fontAtlas[Dt]={fontString:Xt,step:Math.ceil(P.fontSize[Dt]*se.bottom*.5)*2,em:P.fontSize[Dt],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:P.regl.texture()}}T.text==null&&(T.text=P.text)}),typeof T.text=="string"&&T.position&&T.position.length>2){for(var L=Array(T.position.length*.5),A=0;A<L.length;A++)L[A]=T.text;T.text=L}var R;if(T.text!=null||u){if(this.textOffsets=[0],Array.isArray(T.text)){this.count=T.text[0].length,this.counts=[this.count];for(var O=1;O<T.text.length;O++)this.textOffsets[O]=this.textOffsets[O-1]+T.text[O-1].length,this.count+=T.text[O].length,this.counts.push(T.text[O].length);this.text=T.text.join("")}else this.text=T.text,this.count=this.text.length,this.counts=[this.count];R=[],this.font.forEach(function(Ht,Dt){S.atlasContext.font=Ht.baseString;for(var Xt=P.fontAtlas[Dt],se=0;se<P.text.length;se++){var Yt=P.text.charAt(se);if(Xt.ids[Yt]==null&&(Xt.ids[Yt]=Xt.chars.length,Xt.chars.push(Yt),R.push(Yt)),Ht.width[Yt]==null&&(Ht.width[Yt]=S.atlasContext.measureText(Yt).width/S.baseFontSize,P.kerning)){var ue=[];for(var ie in Ht.width)ue.push(ie+Yt,Yt+ie);h(Ht.kerning,o(Ht.family,{pairs:ue}))}}})}if(T.position)if(T.position.length>2){for(var N=!T.position[0].length,z=r.mallocFloat(this.count*2),F=0,I=0;F<this.counts.length;F++){var j=this.counts[F];if(N)for(var V=0;V<j;V++)z[I++]=T.position[F*2],z[I++]=T.position[F*2+1];else for(var W=0;W<j;W++)z[I++]=T.position[F][0],z[I++]=T.position[F][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),r.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:T.position};if(T.text||u){var K=r.mallocUint8(this.count),et=r.mallocFloat(this.count*2);this.textWidth=[];for(var lt=0,ot=0;lt<this.counts.length;lt++){for(var q=this.counts[lt],J=this.font[lt]||this.font[0],it=this.fontAtlas[lt]||this.fontAtlas[0],Z=0;Z<q;Z++){var tt=this.text.charAt(ot),st=this.text.charAt(ot-1);if(K[ot]=it.ids[tt],et[ot*2]=J.width[tt],Z){var Q=et[ot*2-2],G=et[ot*2],ut=et[ot*2-1],at=ut+Q*.5+G*.5;if(this.kerning){var dt=J.kerning[st+tt];dt&&(at+=dt*.001)}et[ot*2+1]=at}else et[ot*2+1]=et[ot*2]*.5;ot++}this.textWidth.push(et.length?et[ot*2-2]*.5+et[ot*2-1]:0)}T.align||(T.align=this.align),this.charBuffer({data:K,type:"uint8",usage:"stream"}),this.sizeBuffer({data:et,type:"float",usage:"stream"}),r.freeUint8(K),r.freeFloat(et),R.length&&this.font.forEach(function(Ht,Dt){var Xt=P.fontAtlas[Dt],se=Xt.step,Yt=Math.floor(S.maxAtlasSize/se),ue=Math.min(Yt,Xt.chars.length),ie=Math.ceil(Xt.chars.length/ue),fe=a(ue*se),ce=a(ie*se);Xt.width=fe,Xt.height=ce,Xt.rows=ie,Xt.cols=ue,Xt.em&&Xt.texture({data:v({canvas:S.atlasCanvas,font:Xt.fontString,chars:Xt.chars,shape:[fe,ce],step:[se,se]})})})}if(T.align&&(this.align=T.align,this.alignOffset=this.textWidth.map(function(Ht,Dt){var Xt=Array.isArray(P.align)?P.align.length>1?P.align[Dt]:P.align[0]:P.align;if(typeof Xt=="number")return Xt;switch(Xt){case"right":case"end":return-Ht;case"center":case"centre":case"middle":return-Ht*.5}return 0})),this.baseline==null&&T.baseline==null&&(T.baseline=0),T.baseline!=null&&(this.baseline=T.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Ht,Dt){var Xt=(P.font[Dt]||P.font[0]).metrics,se=0;return se+=Xt.bottom*.5,typeof Ht=="number"?se+=Ht-Xt.baseline:se+=-Xt[Ht],se*=-1,se})),T.color!=null)if(T.color||(T.color="transparent"),typeof T.color=="string"||!isNaN(T.color))this.color=d(T.color,"uint8");else{var gt;if(typeof T.color[0]=="number"&&T.color.length>this.counts.length){var wt=T.color.length;gt=r.mallocUint8(wt);for(var kt=(T.color.subarray||T.color.slice).bind(T.color),Ot=0;Ot<wt;Ot+=4)gt.set(d(kt(Ot,Ot+4),"uint8"),Ot)}else{var bt=T.color.length;gt=r.mallocUint8(bt*4);for(var _t=0;_t<bt;_t++)gt.set(d(T.color[_t]||0,"uint8"),_t*4)}this.color=gt}if(T.position||T.text||T.color||T.baseline||T.align||T.font||T.offset||T.opacity){var mt=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(mt){var Pt=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Pt);for(var Rt=0;Rt<this.batch.length;Rt++)this.batch[Rt]={count:this.counts.length>1?this.counts[Rt]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Rt]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Rt*4,Rt*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Rt]:this.opacity,baseline:this.baselineOffset[Rt]!=null?this.baselineOffset[Rt]:this.baselineOffset[0],align:this.align?this.alignOffset[Rt]!=null?this.alignOffset[Rt]:this.alignOffset[0]:0,atlas:this.fontAtlas[Rt]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Rt*2,Rt*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},S.prototype.destroy=function(){},S.prototype.kerning=!0,S.prototype.position={constant:new Float32Array(2)},S.prototype.translate=null,S.prototype.scale=null,S.prototype.font=null,S.prototype.text="",S.prototype.positionOffset=[0,0],S.prototype.opacity=1,S.prototype.color=new Uint8Array([0,0,0,255]),S.prototype.alignOffset=[0,0],S.maxAtlasSize=1024,S.atlasCanvas=document.createElement("canvas"),S.atlasContext=S.atlasCanvas.getContext("2d",{alpha:!1}),S.baseFontSize=64,S.fonts={};function _(T){return typeof T=="function"&&T._gl&&T.prop&&T.texture&&T.buffer}X.exports=S},55212:function(X,B,t){var x=t(55616);X.exports=function(v){if(v?typeof v=="string"&&(v={container:v}):v={},i(v)?v={container:v}:M(v)?v={container:v}:m(v)?v={gl:v}:v=x(v,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),v.pixelRatio||(v.pixelRatio=t.g.pixelRatio||1),v.gl)return v.gl;if(v.canvas&&(v.container=v.canvas.parentNode),v.container){if(typeof v.container=="string"){var r=document.querySelector(v.container);if(!r)throw Error("Element "+v.container+" is not found");v.container=r}i(v.container)?(v.canvas=v.container,v.container=v.canvas.parentNode):v.canvas||(v.canvas=d(),v.container.appendChild(v.canvas),E(v))}else if(!v.canvas)if(typeof document<"u")v.container=document.body||document.documentElement,v.canvas=d(),v.container.appendChild(v.canvas),E(v);else throw Error("Not DOM environment. Use headless-gl.");return v.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(e){try{v.gl=v.canvas.getContext(e,v.attrs)}catch{}return v.gl}),v.gl};function E(v){if(v.container)if(v.container==document.body)document.body.style.width||(v.canvas.width=v.width||v.pixelRatio*t.g.innerWidth),document.body.style.height||(v.canvas.height=v.height||v.pixelRatio*t.g.innerHeight);else{var r=v.container.getBoundingClientRect();v.canvas.width=v.width||r.right-r.left,v.canvas.height=v.height||r.bottom-r.top}}function i(v){return typeof v.getContext=="function"&&"width"in v&&"height"in v}function M(v){return typeof v.nodeName=="string"&&typeof v.appendChild=="function"&&typeof v.getBoundingClientRect=="function"}function m(v){return typeof v.drawArrays=="function"||typeof v.drawElements=="function"}function d(){var v=document.createElement("canvas");return v.style.position="absolute",v.style.top=0,v.style.left=0,v}},26444:function(X){X.exports=function(B){typeof B=="string"&&(B=[B]);for(var t=[].slice.call(arguments,1),x=[],E=0;E<B.length-1;E++)x.push(B[E],t[E]||"");return x.push(B[E]),x.join("")}},2304:function(X,B,t){var x=t(53664),E=x("%Object.getOwnPropertyDescriptor%",!0);if(E)try{E([],"length")}catch{E=null}X.exports=E},52264:function(X,B,t){var x=t(24200),E;typeof t.g.matchMedia=="function"?E=!t.g.matchMedia("(hover: none)").matches:E=x,X.exports=E},89184:function(X,B,t){var x=t(24200);function E(){var i=!1;try{var M=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,M),window.removeEventListener("test",null,M)}catch{i=!1}return i}X.exports=x&&E()},39640:function(X,B,t){var x=t(53664),E=x("%Object.defineProperty%",!0),i=function(){if(E)try{return E({},"a",{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return E([],"length",{value:1}).length!==1}catch{return!0}},X.exports=i},69572:function(X){var B={foo:{}},t=Object;X.exports=function(){return{__proto__:B}.foo===B.foo&&!({__proto__:null}instanceof t)}},71080:function(X,B,t){var x=typeof Symbol<"u"&&Symbol,E=t(89320);X.exports=function(){return typeof x!="function"||typeof Symbol!="function"||typeof x("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:E()}},89320:function(X){X.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var B={},t=Symbol("test"),x=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(x)!=="[object Symbol]")return!1;var E=42;B[t]=E;for(t in B)return!1;if(typeof Object.keys=="function"&&Object.keys(B).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(B).length!==0)return!1;var i=Object.getOwnPropertySymbols(B);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(B,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var M=Object.getOwnPropertyDescriptor(B,t);if(M.value!==E||M.enumerable!==!0)return!1}return!0}},46672:function(X,B,t){var x=t(89320);X.exports=function(){return x()&&!!Symbol.toStringTag}},92064:function(X,B,t){var x=Function.prototype.call,E=Object.prototype.hasOwnProperty,i=t(8844);X.exports=i.call(x,E)},35984:function(X,B){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */B.read=function(t,x,E,i,M){var m,d,v=M*8-i-1,r=(1<<v)-1,e=r>>1,s=-7,n=E?M-1:0,l=E?-1:1,o=t[x+n];for(n+=l,m=o&(1<<-s)-1,o>>=-s,s+=v;s>0;m=m*256+t[x+n],n+=l,s-=8);for(d=m&(1<<-s)-1,m>>=-s,s+=i;s>0;d=d*256+t[x+n],n+=l,s-=8);if(m===0)m=1-e;else{if(m===r)return d?NaN:(o?-1:1)*(1/0);d=d+Math.pow(2,i),m=m-e}return(o?-1:1)*d*Math.pow(2,m-i)},B.write=function(t,x,E,i,M,m){var d,v,r,e=m*8-M-1,s=(1<<e)-1,n=s>>1,l=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,o=i?0:m-1,h=i?1:-1,b=x<0||x===0&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(v=isNaN(x)?1:0,d=s):(d=Math.floor(Math.log(x)/Math.LN2),x*(r=Math.pow(2,-d))<1&&(d--,r*=2),d+n>=1?x+=l/r:x+=l*Math.pow(2,1-n),x*r>=2&&(d++,r/=2),d+n>=s?(v=0,d=s):d+n>=1?(v=(x*r-1)*Math.pow(2,M),d=d+n):(v=x*Math.pow(2,n-1)*Math.pow(2,M),d=0));M>=8;t[E+o]=v&255,o+=h,v/=256,M-=8);for(d=d<<M|v,e+=M;e>0;t[E+o]=d&255,o+=h,d/=256,e-=8);t[E+o-h]|=b*128}},6768:function(X){typeof Object.create=="function"?X.exports=function(B,t){t&&(B.super_=t,B.prototype=Object.create(t.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}))}:X.exports=function(B,t){if(t){B.super_=t;var x=function(){};x.prototype=t.prototype,B.prototype=new x,B.prototype.constructor=B}}},91148:function(X,B,t){var x=t(46672)(),E=t(99676),i=E("Object.prototype.toString"),M=function(v){return x&&v&&typeof v=="object"&&Symbol.toStringTag in v?!1:i(v)==="[object Arguments]"},m=function(v){return M(v)?!0:v!==null&&typeof v=="object"&&typeof v.length=="number"&&v.length>=0&&i(v)!=="[object Array]"&&i(v.callee)==="[object Function]"},d=function(){return M(arguments)}();M.isLegacyArguments=m,X.exports=d?M:m},24200:function(X){X.exports=!0},90720:function(X){var B=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,x,E;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{x=Object.defineProperty({},"length",{get:function(){throw E}}),E={},t(function(){throw 42},null,x)}catch(k){k!==E&&(t=null)}else t=null;var i=/^\s*class\b/,M=function(k){try{var a=B.call(k);return i.test(a)}catch{return!1}},m=function(k){try{return M(k)?!1:(B.call(k),!0)}catch{return!1}},d=Object.prototype.toString,v="[object Object]",r="[object Function]",e="[object GeneratorFunction]",s="[object HTMLAllCollection]",n="[object HTML document.all class]",l="[object HTMLCollection]",o=typeof Symbol=="function"&&!!Symbol.toStringTag,h=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var f=document.all;d.call(f)===d.call(document.all)&&(b=function(k){if((h||!k)&&(typeof k>"u"||typeof k=="object"))try{var a=d.call(k);return(a===s||a===n||a===l||a===v)&&k("")==null}catch{}return!1})}X.exports=t?function(k){if(b(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;try{t(k,null,x)}catch(a){if(a!==E)return!1}return!M(k)&&m(k)}:function(k){if(b(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;if(o)return m(k);if(M(k))return!1;var a=d.call(k);return a!==r&&a!==e&&!/^\[object HTML/.test(a)?!1:m(k)}},84420:function(X,B,t){var x=Object.prototype.toString,E=Function.prototype.toString,i=/^\s*(?:function)?\*/,M=t(46672)(),m=Object.getPrototypeOf,d=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch{}},v;X.exports=function(r){if(typeof r!="function")return!1;if(i.test(E.call(r)))return!0;if(!M){var e=x.call(r);return e==="[object GeneratorFunction]"}if(!m)return!1;if(typeof v>"u"){var s=d();v=s?m(s):!1}return m(r)===v}},96604:function(X){X.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(X){X.exports=function(B){return B!==B}},1560:function(X,B,t){var x=t(57916),E=t(81288),i=t(85992),M=t(57740),m=t(59736),d=x(M(),Number);E(d,{getPolyfill:M,implementation:i,shim:m}),X.exports=d},57740:function(X,B,t){var x=t(85992);X.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:x}},59736:function(X,B,t){var x=t(81288),E=t(57740);X.exports=function(){var i=E();return x(Number,{isNaN:i},{isNaN:function(){return Number.isNaN!==i}}),i}},18400:function(X){X.exports=function(B){var t=typeof B;return B!==null&&(t==="object"||t==="function")}},58908:function(X){var B=Object.prototype.toString;X.exports=function(t){var x;return B.call(t)==="[object Object]"&&(x=Object.getPrototypeOf(t),x===null||x===Object.getPrototypeOf({}))}},94576:function(X){X.exports=function(B){for(var t=B.length,x,E=0;E<t;E++)if(x=B.charCodeAt(E),(x<9||x>13)&&x!==32&&x!==133&&x!==160&&x!==5760&&x!==6158&&(x<8192||x>8205)&&x!==8232&&x!==8233&&x!==8239&&x!==8287&&x!==8288&&x!==12288&&x!==65279)return!1;return!0}},53520:function(X){X.exports=function(B){return typeof B!="string"?!1:(B=B.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(B)&&/[\dz]$/i.test(B)&&B.length>4))}},7728:function(X,B,t){var x=t(46492),E=t(63436),i=t(99676),M=i("Object.prototype.toString"),m=t(46672)(),d=t(2304),v=typeof globalThis>"u"?t.g:globalThis,r=E(),e=i("Array.prototype.indexOf",!0)||function(h,b){for(var f=0;f<h.length;f+=1)if(h[f]===b)return f;return-1},s=i("String.prototype.slice"),n={},l=Object.getPrototypeOf;m&&d&&l&&x(r,function(h){var b=new v[h];if(Symbol.toStringTag in b){var f=l(b),k=d(f,Symbol.toStringTag);if(!k){var a=l(f);k=d(a,Symbol.toStringTag)}n[h]=k.get}});var o=function(h){var b=!1;return x(n,function(f,k){if(!b)try{b=f.call(h)===k}catch{}}),b};X.exports=function(h){if(!h||typeof h!="object")return!1;if(!m||!(Symbol.toStringTag in h)){var b=s(M(h),8,-1);return e(r,b)>-1}return d?o(h):!1}},76244:function(X){X.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},62644:function(X,B,t){X.exports=E;var x=t(93784);function E(i,M){M||(M=i,i=window);var m=0,d=0,v=0,r={shift:!1,alt:!1,control:!1,meta:!1},e=!1;function s(w){var S=!1;return"altKey"in w&&(S=S||w.altKey!==r.alt,r.alt=!!w.altKey),"shiftKey"in w&&(S=S||w.shiftKey!==r.shift,r.shift=!!w.shiftKey),"ctrlKey"in w&&(S=S||w.ctrlKey!==r.control,r.control=!!w.ctrlKey),"metaKey"in w&&(S=S||w.metaKey!==r.meta,r.meta=!!w.metaKey),S}function n(w,S){var _=x.x(S),T=x.y(S);"buttons"in S&&(w=S.buttons|0),(w!==m||_!==d||T!==v||s(S))&&(m=w|0,d=_||0,v=T||0,M&&M(m,d,v,r))}function l(w){n(0,w)}function o(){(m||d||v||r.shift||r.alt||r.meta||r.control)&&(d=v=0,m=0,r.shift=r.alt=r.control=r.meta=!1,M&&M(0,0,0,r))}function h(w){s(w)&&M&&M(m,d,v,r)}function b(w){x.buttons(w)===0?n(0,w):n(m,w)}function f(w){n(m|x.buttons(w),w)}function k(w){n(m&~x.buttons(w),w)}function a(){e||(e=!0,i.addEventListener("mousemove",b),i.addEventListener("mousedown",f),i.addEventListener("mouseup",k),i.addEventListener("mouseleave",l),i.addEventListener("mouseenter",l),i.addEventListener("mouseout",l),i.addEventListener("mouseover",l),i.addEventListener("blur",o),i.addEventListener("keyup",h),i.addEventListener("keydown",h),i.addEventListener("keypress",h),i!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}function c(){e&&(e=!1,i.removeEventListener("mousemove",b),i.removeEventListener("mousedown",f),i.removeEventListener("mouseup",k),i.removeEventListener("mouseleave",l),i.removeEventListener("mouseenter",l),i.removeEventListener("mouseout",l),i.removeEventListener("mouseover",l),i.removeEventListener("blur",o),i.removeEventListener("keyup",h),i.removeEventListener("keydown",h),i.removeEventListener("keypress",h),i!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",h),window.removeEventListener("keydown",h),window.removeEventListener("keypress",h)))}a();var p={element:i};return Object.defineProperties(p,{enabled:{get:function(){return e},set:function(w){w?a():c()},enumerable:!0},buttons:{get:function(){return m},enumerable:!0},x:{get:function(){return d},enumerable:!0},y:{get:function(){return v},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),p}},29128:function(X){var B={left:0,top:0};X.exports=t;function t(E,i,M){i=i||E.currentTarget||E.srcElement,Array.isArray(M)||(M=[0,0]);var m=E.clientX||0,d=E.clientY||0,v=x(i);return M[0]=m-v.left,M[1]=d-v.top,M}function x(E){return E===window||E===document||E===document.body?B:E.getBoundingClientRect()}},93784:function(X,B){function t(M){if(typeof M=="object"){if("buttons"in M)return M.buttons;if("which"in M){var m=M.which;if(m===2)return 4;if(m===3)return 2;if(m>0)return 1<<m-1}else if("button"in M){var m=M.button;if(m===1)return 4;if(m===2)return 2;if(m>=0)return 1<<m}}return 0}B.buttons=t;function x(M){return M.target||M.srcElement||window}B.element=x;function E(M){if(typeof M=="object"){if("offsetX"in M)return M.offsetX;var m=x(M),d=m.getBoundingClientRect();return M.clientX-d.left}return 0}B.x=E;function i(M){if(typeof M=="object"){if("offsetY"in M)return M.offsetY;var m=x(M),d=m.getBoundingClientRect();return M.clientY-d.top}return 0}B.y=i},97264:function(X,B,t){var x=t(23464);X.exports=E;function E(i,M,m){typeof i=="function"&&(m=!!M,M=i,i=window);var d=x("ex",i),v=function(r){m&&r.preventDefault();var e=r.deltaX||0,s=r.deltaY||0,n=r.deltaZ||0,l=r.deltaMode,o=1;switch(l){case 1:o=d;break;case 2:o=window.innerHeight;break}if(e*=o,s*=o,n*=o,e||s||n)return M(e,s,n,r)};return i.addEventListener("wheel",v),v}},88324:function(X,B,t){var x;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(E,i,M){i[E]=i[E]||M(),X.exports?X.exports=i[E]:(x=(function(){return i[E]}).call(B,t,B,X),x!==void 0&&(X.exports=x))})("Promise",typeof t.g<"u"?t.g:this,function(){var E,i,M,m=Object.prototype.toString,d=typeof setImmediate<"u"?function(a){return setImmediate(a)}:setTimeout;try{Object.defineProperty({},"x",{}),E=function(a,c,p,w){return Object.defineProperty(a,c,{value:p,writable:!0,configurable:w!==!1})}}catch{E=function(a,c,p){return a[c]=p,a}}M=function(){var a,c,p;function w(S,_){this.fn=S,this.self=_,this.next=void 0}return{add:function(S,_){p=new w(S,_),c?c.next=p:a=p,c=p,p=void 0},drain:function(){var S=a;for(a=c=i=void 0;S;)S.fn.call(S.self),S=S.next}}}();function v(a,c){M.add(a,c),i||(i=d(M.drain))}function r(a){var c,p=typeof a;return a!=null&&(p=="object"||p=="function")&&(c=a.then),typeof c=="function"?c:!1}function e(){for(var a=0;a<this.chain.length;a++)s(this,this.state===1?this.chain[a].success:this.chain[a].failure,this.chain[a]);this.chain.length=0}function s(a,c,p){var w,S;try{c===!1?p.reject(a.msg):(c===!0?w=a.msg:w=c.call(void 0,a.msg),w===p.promise?p.reject(TypeError("Promise-chain cycle")):(S=r(w))?S.call(w,p.resolve,p.reject):p.resolve(w))}catch(_){p.reject(_)}}function n(a){var c,p=this;if(!p.triggered){p.triggered=!0,p.def&&(p=p.def);try{(c=r(a))?v(function(){var w=new h(p);try{c.call(a,function(){n.apply(w,arguments)},function(){l.apply(w,arguments)})}catch(S){l.call(w,S)}}):(p.msg=a,p.state=1,p.chain.length>0&&v(e,p))}catch(w){l.call(new h(p),w)}}}function l(a){var c=this;c.triggered||(c.triggered=!0,c.def&&(c=c.def),c.msg=a,c.state=2,c.chain.length>0&&v(e,c))}function o(a,c,p,w){for(var S=0;S<c.length;S++)(function(_){a.resolve(c[_]).then(function(T){p(_,T)},w)})(S)}function h(a){this.def=a,this.triggered=!1}function b(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(a){if(typeof a!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var c=new b(this);this.then=function(p,w){var S={success:typeof p=="function"?p:!0,failure:typeof w=="function"?w:!1};return S.promise=new this.constructor(function(_,T){if(typeof _!="function"||typeof T!="function")throw TypeError("Not a function");S.resolve=_,S.reject=T}),c.chain.push(S),c.state!==0&&v(e,c),S.promise},this.catch=function(p){return this.then(void 0,p)};try{a.call(void 0,function(p){n.call(c,p)},function(p){l.call(c,p)})}catch(p){l.call(c,p)}}var k=E({},"constructor",f,!1);return f.prototype=k,E(k,"__NPO__",0,!1),E(f,"resolve",function(a){var c=this;return a&&typeof a=="object"&&a.__NPO__===1?a:new c(function(p,w){if(typeof p!="function"||typeof w!="function")throw TypeError("Not a function");p(a)})}),E(f,"reject",function(a){return new this(function(c,p){if(typeof c!="function"||typeof p!="function")throw TypeError("Not a function");p(a)})}),E(f,"all",function(a){var c=this;return m.call(a)!="[object Array]"?c.reject(TypeError("Not an array")):a.length===0?c.resolve([]):new c(function(p,w){if(typeof p!="function"||typeof w!="function")throw TypeError("Not a function");var S=a.length,_=Array(S),T=0;o(c,a,function(P,u){_[P]=u,++T===S&&p(_)},w)})}),E(f,"race",function(a){var c=this;return m.call(a)!="[object Array]"?c.reject(TypeError("Not an array")):new c(function(p,w){if(typeof p!="function"||typeof w!="function")throw TypeError("Not a function");o(c,a,function(S,_){p(_)},w)})}),f})},48816:function(X){var B=Math.PI,t=d(120);X.exports=x;function x(v){for(var r,e=[],s=0,n=0,l=0,o=0,h=null,b=null,f=0,k=0,a=0,c=v.length;a<c;a++){var p=v[a],w=p[0];switch(w){case"M":l=p[1],o=p[2];break;case"A":p=M(f,k,p[1],p[2],d(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(e.push(p.splice(0,7)),p.unshift("C"));break;case"S":var S=f,_=k;(r=="C"||r=="S")&&(S+=S-s,_+=_-n),p=["C",S,_,p[1],p[2],p[3],p[4]];break;case"T":r=="Q"||r=="T"?(h=f*2-h,b=k*2-b):(h=f,b=k),p=i(f,k,h,b,p[1],p[2]);break;case"Q":h=p[1],b=p[2],p=i(f,k,p[1],p[2],p[3],p[4]);break;case"L":p=E(f,k,p[1],p[2]);break;case"H":p=E(f,k,p[1],k);break;case"V":p=E(f,k,f,p[1]);break;case"Z":p=E(f,k,l,o);break}r=w,f=p[p.length-2],k=p[p.length-1],p.length>4?(s=p[p.length-4],n=p[p.length-3]):(s=f,n=k),e.push(p)}return e}function E(v,r,e,s){return["C",v,r,e,s,e,s]}function i(v,r,e,s,n,l){return["C",v/3+.6666666666666666*e,r/3+.6666666666666666*s,n/3+.6666666666666666*e,l/3+.6666666666666666*s,n,l]}function M(v,r,e,s,n,l,o,h,b,f){if(f)u=f[0],g=f[1],T=f[2],P=f[3];else{var k=m(v,r,-n);v=k.x,r=k.y,k=m(h,b,-n),h=k.x,b=k.y;var a=(v-h)/2,c=(r-b)/2,p=a*a/(e*e)+c*c/(s*s);p>1&&(p=Math.sqrt(p),e=p*e,s=p*s);var w=e*e,S=s*s,_=(l==o?-1:1)*Math.sqrt(Math.abs((w*S-w*c*c-S*a*a)/(w*c*c+S*a*a)));_==1/0&&(_=1);var T=_*e*c/s+(v+h)/2,P=_*-s*a/e+(r+b)/2,u=Math.asin(((r-P)/s).toFixed(9)),g=Math.asin(((b-P)/s).toFixed(9));u=v<T?B-u:u,g=h<T?B-g:g,u<0&&(u=B*2+u),g<0&&(g=B*2+g),o&&u>g&&(u=u-B*2),!o&&g>u&&(g=g-B*2)}if(Math.abs(g-u)>t){var L=g,A=h,R=b;g=u+t*(o&&g>u?1:-1),h=T+e*Math.cos(g),b=P+s*Math.sin(g);var O=M(h,b,e,s,n,0,o,A,R,[g,L,T,P])}var N=Math.tan((g-u)/4),z=4/3*e*N,F=4/3*s*N,I=[2*v-(v+z*Math.sin(u)),2*r-(r-F*Math.cos(u)),h+z*Math.sin(g),b-F*Math.cos(g),h,b];if(f)return I;O&&(I=I.concat(O));for(var j=0;j<I.length;){var V=m(I[j],I[j+1],n);I[j++]=V.x,I[j++]=V.y}return I}function m(v,r,e){return{x:v*Math.cos(e)-r*Math.sin(e),y:v*Math.sin(e)+r*Math.cos(e)}}function d(v){return v*(B/180)}},50896:function(X){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var B=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function E(M){if(M==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(M)}function i(){try{if(!Object.assign)return!1;var M=new String("abc");if(M[5]="de",Object.getOwnPropertyNames(M)[0]==="5")return!1;for(var m={},d=0;d<10;d++)m["_"+String.fromCharCode(d)]=d;var v=Object.getOwnPropertyNames(m).map(function(e){return m[e]});if(v.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}X.exports=i()?Object.assign:function(M,m){for(var d,v=E(M),r,e=1;e<arguments.length;e++){d=Object(arguments[e]);for(var s in d)t.call(d,s)&&(v[s]=d[s]);if(B){r=B(d);for(var n=0;n<r.length;n++)x.call(d,r[n])&&(v[r[n]]=d[r[n]])}}return v}},76835:function(X){var B=function(t){return t!==t};X.exports=function(t,x){return t===0&&x===0?1/t===1/x:!!(t===x||B(t)&&B(x))}},39896:function(X,B,t){var x=t(81288),E=t(57916),i=t(76835),M=t(66148),m=t(16408),d=E(M(),Object);x(d,{getPolyfill:M,implementation:i,shim:m}),X.exports=d},66148:function(X,B,t){var x=t(76835);X.exports=function(){return typeof Object.is=="function"?Object.is:x}},16408:function(X,B,t){var x=t(66148),E=t(81288);X.exports=function(){var i=x();return E(Object,{is:i},{is:function(){return Object.is!==i}}),i}},32764:function(X,B,t){var x;if(!Object.keys){var E=Object.prototype.hasOwnProperty,i=Object.prototype.toString,M=t(97344),m=Object.prototype.propertyIsEnumerable,d=!m.call({toString:null},"toString"),v=m.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(o){var h=o.constructor;return h&&h.prototype===o},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var o in window)try{if(!s["$"+o]&&E.call(window,o)&&window[o]!==null&&typeof window[o]=="object")try{e(window[o])}catch{return!0}}catch{return!0}return!1}(),l=function(o){if(typeof window>"u"||!n)return e(o);try{return e(o)}catch{return!1}};x=function(o){var h=o!==null&&typeof o=="object",b=i.call(o)==="[object Function]",f=M(o),k=h&&i.call(o)==="[object String]",a=[];if(!h&&!b&&!f)throw new TypeError("Object.keys called on a non-object");var c=v&&b;if(k&&o.length>0&&!E.call(o,0))for(var p=0;p<o.length;++p)a.push(String(p));if(f&&o.length>0)for(var w=0;w<o.length;++w)a.push(String(w));else for(var S in o)!(c&&S==="prototype")&&E.call(o,S)&&a.push(String(S));if(d)for(var _=l(o),T=0;T<r.length;++T)!(_&&r[T]==="constructor")&&E.call(o,r[T])&&a.push(r[T]);return a}}X.exports=x},41820:function(X,B,t){var x=Array.prototype.slice,E=t(97344),i=Object.keys,M=i?function(d){return i(d)}:t(32764),m=Object.keys;M.shim=function(){if(Object.keys){var d=function(){var v=Object.keys(arguments);return v&&v.length===arguments.length}(1,2);d||(Object.keys=function(v){return E(v)?m(x.call(v)):m(v)})}else Object.keys=M;return Object.keys||M},X.exports=M},97344:function(X){var B=Object.prototype.toString;X.exports=function(t){var x=B.call(t),E=x==="[object Arguments]";return E||(E=x!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&B.call(t.callee)==="[object Function]"),E}},32868:function(X){function B(E,i){if(typeof E!="string")return[E];var M=[E];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var m=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],d=i.escape||"___",v=!!i.flat;m.forEach(function(s){var n=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),l=[];function o(h,b,f){var k=M.push(h.slice(s[0].length,-s[1].length))-1;return l.push(k),d+k+d}M.forEach(function(h,b){for(var f,k=0;h!=f;)if(f=h,h=h.replace(n,o),k++>1e4)throw Error("References have circular dependency. Please, check them.");M[b]=h}),l=l.reverse(),M=M.map(function(h){return l.forEach(function(b){h=h.replace(new RegExp("(\\"+d+b+"\\"+d+")","g"),s[0]+"$1"+s[1])}),h})});var r=new RegExp("\\"+d+"([0-9]+)\\"+d);function e(s,n,l){for(var o=[],h,b=0;h=r.exec(s);){if(b++>1e4)throw Error("Circular references in parenthesis");o.push(s.slice(0,h.index)),o.push(e(n[h[1]],n)),s=s.slice(h.index+h[0].length)}return o.push(s),o}return v?M:e(M[0],M)}function t(E,i){if(i&&i.flat){var M=i&&i.escape||"___",m=E[0],d;if(!m)return"";for(var v=new RegExp("\\"+M+"([0-9]+)\\"+M),r=0;m!=d;){if(r++>1e4)throw Error("Circular references in "+E);d=m,m=m.replace(v,e)}return m}return E.reduce(function s(n,l){return Array.isArray(l)&&(l=l.reduce(s,"")),n+l},"");function e(s,n){if(E[n]==null)throw Error("Reference "+n+"is undefined");return E[n]}}function x(E,i){return Array.isArray(E)?t(E,i):B(E,i)}x.parse=B,x.stringify=t,X.exports=x},51160:function(X,B,t){var x=t(55616);X.exports=E;function E(i){var M;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?M={width:i[0],height:i[0],x:0,y:0}:i.length===2?M={width:i[0],height:i[1],x:0,y:0}:M={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=x(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),M={x:i.left||0,y:i.top||0},i.width==null?i.right?M.width=i.right-M.x:M.width=0:M.width=i.width,i.height==null?i.bottom?M.height=i.bottom-M.y:M.height=0:M.height=i.height),M}},21984:function(X){X.exports=x;var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function x(M){var m=[];return M.replace(t,function(d,v,r){var e=v.toLowerCase();for(r=i(r),e=="m"&&r.length>2&&(m.push([v].concat(r.splice(0,2))),e="l",v=v=="m"?"l":"L");;){if(r.length==B[e])return r.unshift(v),m.push(r);if(r.length<B[e])throw new Error("malformed path data");m.push([v].concat(r.splice(0,B[e])))}}),m}var E=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(M){var m=M.match(E);return m?m.map(Number):[]}},65819:function(X){X.exports=function(B,t){t||(t=[0,""]),B=String(B);var x=parseFloat(B,10);return t[0]=x,t[1]=B.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},41984:function(X,B,t){var x=t(4168);(function(){var E,i,M,m,d,v;typeof performance<"u"&&performance!==null&&performance.now?X.exports=function(){return performance.now()}:typeof x<"u"&&x!==null&&x.hrtime?(X.exports=function(){return(E()-d)/1e6},i=x.hrtime,E=function(){var r;return r=i(),r[0]*1e9+r[1]},m=E(),v=x.uptime()*1e9,d=m-v):Date.now?(X.exports=function(){return Date.now()-M},M=Date.now()):(X.exports=function(){return new Date().getTime()-M},M=new Date().getTime())}).call(this)},55616:function(X){X.exports=function(x,E,i){var M={},m,d;if(typeof E=="string"&&(E=t(E)),Array.isArray(E)){var v={};for(d=0;d<E.length;d++)v[E[d]]=!0;E=v}for(m in E)E[m]=t(E[m]);var r={};for(m in E){var e=E[m];if(Array.isArray(e))for(d=0;d<e.length;d++){var s=e[d];if(i&&(r[s]=!0),s in x){if(M[m]=x[s],i)for(var n=d;n<e.length;n++)r[e[n]]=!0;break}}else m in x&&(E[m]&&(M[m]=x[m]),i&&(r[m]=!0))}if(i)for(m in x)r[m]||(M[m]=x[m]);return M};var B={};function t(x){return B[x]?B[x]:(typeof x=="string"&&(x=B[x]=x.split(/\s*,\s*|\s+/)),x)}},61456:function(X){X.exports=function(B,t,x,E){var i=B[0],M=B[1],m=!1;x===void 0&&(x=0),E===void 0&&(E=t.length);for(var d=E-x,v=0,r=d-1;v<d;r=v++){var e=t[v+x][0],s=t[v+x][1],n=t[r+x][0],l=t[r+x][1],o=s>M!=l>M&&i<(n-e)*(M-s)/(l-s)+e;o&&(m=!m)}return m}},14756:function(X,B,t){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var x=t(7688),E=t(28648),i=t(72200),M=t(11403),m=t(82368),d=t(17792),v=!1,r=E(),e;e={buildLog:function(n){return n===!0?v=x():n===!1&&(v=!1),v===!1?!1:v.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var l=i(!0,r,v);return n.regions.forEach(l.addRegion),{segments:l.calculate(n.inverted),inverted:n.inverted}},combine:function(n,l){var o=i(!1,r,v);return{combined:o.calculate(n.segments,n.inverted,l.segments,l.inverted),inverted1:n.inverted,inverted2:l.inverted}},selectUnion:function(n){return{segments:m.union(n.combined,v),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:m.intersect(n.combined,v),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:m.difference(n.combined,v),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:m.differenceRev(n.combined,v),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:m.xor(n.combined,v),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:M(n.segments,r,v),inverted:n.inverted}},polygonFromGeoJSON:function(n){return d.toPolygon(e,n)},polygonToGeoJSON:function(n){return d.fromPolygon(e,r,n)},union:function(n,l){return s(n,l,e.selectUnion)},intersect:function(n,l){return s(n,l,e.selectIntersect)},difference:function(n,l){return s(n,l,e.selectDifference)},differenceRev:function(n,l){return s(n,l,e.selectDifferenceRev)},xor:function(n,l){return s(n,l,e.selectXor)}};function s(n,l,o){var h=e.segments(n),b=e.segments(l),f=e.combine(h,b),k=o(f);return e.polygon(k)}typeof window=="object"&&(window.PolyBool=e),X.exports=e},7688:function(X){function B(){var t,x=0,E=!1;function i(M,m){return t.list.push({type:M,data:m?JSON.parse(JSON.stringify(m)):void 0}),t}return t={list:[],segmentId:function(){return x++},checkIntersection:function(M,m){return i("check",{seg1:M,seg2:m})},segmentChop:function(M,m){return i("div_seg",{seg:M,pt:m}),i("chop",{seg:M,pt:m})},statusRemove:function(M){return i("pop_seg",{seg:M})},segmentUpdate:function(M){return i("seg_update",{seg:M})},segmentNew:function(M,m){return i("new_seg",{seg:M,primary:m})},segmentRemove:function(M){return i("rem_seg",{seg:M})},tempStatus:function(M,m,d){return i("temp_status",{seg:M,above:m,below:d})},rewind:function(M){return i("rewind",{seg:M})},status:function(M,m,d){return i("status",{seg:M,above:m,below:d})},vert:function(M){return M===E?t:(E=M,i("vert",{x:M}))},log:function(M){return typeof M!="string"&&(M=JSON.stringify(M,!1,"  ")),i("log",{txt:M})},reset:function(){return i("reset")},selected:function(M){return i("selected",{segs:M})},chainStart:function(M){return i("chain_start",{seg:M})},chainRemoveHead:function(M,m){return i("chain_rem_head",{index:M,pt:m})},chainRemoveTail:function(M,m){return i("chain_rem_tail",{index:M,pt:m})},chainNew:function(M,m){return i("chain_new",{pt1:M,pt2:m})},chainMatch:function(M){return i("chain_match",{index:M})},chainClose:function(M){return i("chain_close",{index:M})},chainAddHead:function(M,m){return i("chain_add_head",{index:M,pt:m})},chainAddTail:function(M,m){return i("chain_add_tail",{index:M,pt:m})},chainConnect:function(M,m){return i("chain_con",{index1:M,index2:m})},chainReverse:function(M){return i("chain_rev",{index:M})},chainJoin:function(M,m){return i("chain_join",{index1:M,index2:m})},done:function(){return i("done")}},t}X.exports=B},28648:function(X){function B(t){typeof t!="number"&&(t=1e-10);var x={epsilon:function(E){return typeof E=="number"&&(t=E),t},pointAboveOrOnLine:function(E,i,M){var m=i[0],d=i[1],v=M[0],r=M[1],e=E[0],s=E[1];return(v-m)*(s-d)-(r-d)*(e-m)>=-t},pointBetween:function(E,i,M){var m=E[1]-i[1],d=M[0]-i[0],v=E[0]-i[0],r=M[1]-i[1],e=v*d+m*r;if(e<t)return!1;var s=d*d+r*r;return!(e-s>-t)},pointsSameX:function(E,i){return Math.abs(E[0]-i[0])<t},pointsSameY:function(E,i){return Math.abs(E[1]-i[1])<t},pointsSame:function(E,i){return x.pointsSameX(E,i)&&x.pointsSameY(E,i)},pointsCompare:function(E,i){return x.pointsSameX(E,i)?x.pointsSameY(E,i)?0:E[1]<i[1]?-1:1:E[0]<i[0]?-1:1},pointsCollinear:function(E,i,M){var m=E[0]-i[0],d=E[1]-i[1],v=i[0]-M[0],r=i[1]-M[1];return Math.abs(m*r-v*d)<t},linesIntersect:function(E,i,M,m){var d=i[0]-E[0],v=i[1]-E[1],r=m[0]-M[0],e=m[1]-M[1],s=d*e-v*r;if(Math.abs(s)<t)return!1;var n=E[0]-M[0],l=E[1]-M[1],o=(r*l-e*n)/s,h=(d*l-v*n)/s,b={alongA:0,alongB:0,pt:[E[0]+o*d,E[1]+o*v]};return o<=-t?b.alongA=-2:o<t?b.alongA=-1:o-1<=-t?b.alongA=0:o-1<t?b.alongA=1:b.alongA=2,h<=-t?b.alongB=-2:h<t?b.alongB=-1:h-1<=-t?b.alongB=0:h-1<t?b.alongB=1:b.alongB=2,b},pointInsideRegion:function(E,i){for(var M=E[0],m=E[1],d=i[i.length-1][0],v=i[i.length-1][1],r=!1,e=0;e<i.length;e++){var s=i[e][0],n=i[e][1];n-m>t!=v-m>t&&(d-s)*(m-n)/(v-n)+s-M>t&&(r=!r),d=s,v=n}return r}};return x}X.exports=B},17792:function(X){var B={toPolygon:function(t,x){function E(m){if(m.length<=0)return t.segments({inverted:!1,regions:[]});function d(e){var s=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[s]})}for(var v=d(m[0]),r=1;r<m.length;r++)v=t.selectDifference(t.combine(v,d(m[r])));return v}if(x.type==="Polygon")return t.polygon(E(x.coordinates));if(x.type==="MultiPolygon"){for(var i=t.segments({inverted:!1,regions:[]}),M=0;M<x.coordinates.length;M++)i=t.selectUnion(t.combine(i,E(x.coordinates[M])));return t.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,x,E){E=t.polygon(t.segments(E));function i(o,h){return x.pointInsideRegion([(o[0][0]+o[1][0])*.5,(o[0][1]+o[1][1])*.5],h)}function M(o){return{region:o,children:[]}}var m=M(null);function d(o,h){for(var b=0;b<o.children.length;b++){var f=o.children[b];if(i(h,f.region)){d(f,h);return}}for(var k=M(h),b=0;b<o.children.length;b++){var f=o.children[b];i(f.region,h)&&(k.children.push(f),o.children.splice(b,1),b--)}o.children.push(k)}for(var v=0;v<E.regions.length;v++){var r=E.regions[v];r.length<3||d(m,r)}function e(o,h){for(var b=0,f=o[o.length-1][0],k=o[o.length-1][1],a=[],c=0;c<o.length;c++){var p=o[c][0],w=o[c][1];a.push([p,w]),b+=w*f-p*k,f=p,k=w}var S=b<0;return S!==h&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var s=[];function n(o){var h=[e(o.region,!1)];s.push(h);for(var b=0;b<o.children.length;b++)h.push(l(o.children[b]))}function l(o){for(var h=0;h<o.children.length;h++)n(o.children[h]);return e(o.region,!0)}for(var v=0;v<m.children.length;v++)n(m.children[v]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};X.exports=B},72200:function(X,B,t){var x=t(48088);function E(i,M,m){function d(k,a){return{id:m?m.segmentId():-1,start:k,end:a,myFill:{above:null,below:null},otherFill:null}}function v(k,a,c){return{id:m?m.segmentId():-1,start:k,end:a,myFill:{above:c.myFill.above,below:c.myFill.below},otherFill:null}}var r=x.create();function e(k,a,c,p,w,S){var _=M.pointsCompare(a,w);return _!==0?_:M.pointsSame(c,S)?0:k!==p?k?1:-1:M.pointAboveOrOnLine(c,p?w:S,p?S:w)?1:-1}function s(k,a){r.insertBefore(k,function(c){var p=e(k.isStart,k.pt,a,c.isStart,c.pt,c.other.pt);return p<0})}function n(k,a){var c=x.node({isStart:!0,pt:k.start,seg:k,primary:a,other:null,status:null});return s(c,k.end),c}function l(k,a,c){var p=x.node({isStart:!1,pt:a.end,seg:a,primary:c,other:k,status:null});k.other=p,s(p,k.pt)}function o(k,a){var c=n(k,a);return l(c,k,a),c}function h(k,a){m&&m.segmentChop(k.seg,a),k.other.remove(),k.seg.end=a,k.other.pt=a,s(k.other,k.pt)}function b(k,a){var c=v(a,k.seg.end,k.seg);return h(k,a),o(c,k.primary)}function f(k,a){var c=x.create();function p(z,F){var I=z.seg.start,j=z.seg.end,V=F.seg.start,W=F.seg.end;return M.pointsCollinear(I,V,W)?M.pointsCollinear(j,V,W)||M.pointAboveOrOnLine(j,V,W)?1:-1:M.pointAboveOrOnLine(I,V,W)?1:-1}function w(z){return c.findTransition(function(F){var I=p(z,F.ev);return I>0})}function S(z,F){var I=z.seg,j=F.seg,V=I.start,W=I.end,K=j.start,et=j.end;m&&m.checkIntersection(I,j);var lt=M.linesIntersect(V,W,K,et);if(lt===!1){if(!M.pointsCollinear(V,W,K)||M.pointsSame(V,et)||M.pointsSame(W,K))return!1;var ot=M.pointsSame(V,K),q=M.pointsSame(W,et);if(ot&&q)return F;var J=!ot&&M.pointBetween(V,K,et),it=!q&&M.pointBetween(W,K,et);if(ot)return it?b(F,W):b(z,et),F;J&&(q||(it?b(F,W):b(z,et)),b(F,V))}else lt.alongA===0&&(lt.alongB===-1?b(z,K):lt.alongB===0?b(z,lt.pt):lt.alongB===1&&b(z,et)),lt.alongB===0&&(lt.alongA===-1?b(F,V):lt.alongA===0?b(F,lt.pt):lt.alongA===1&&b(F,W));return!1}for(var _=[];!r.isEmpty();){var T=r.getHead();if(m&&m.vert(T.pt[0]),T.isStart){let z=function(){if(u){var F=S(T,u);if(F)return F}return g?S(T,g):!1};m&&m.segmentNew(T.seg,T.primary);var P=w(T),u=P.before?P.before.ev:null,g=P.after?P.after.ev:null;m&&m.tempStatus(T.seg,u?u.seg:!1,g?g.seg:!1);var L=z();if(L){if(i){var A;T.seg.myFill.below===null?A=!0:A=T.seg.myFill.above!==T.seg.myFill.below,A&&(L.seg.myFill.above=!L.seg.myFill.above)}else L.seg.otherFill=T.seg.myFill;m&&m.segmentUpdate(L.seg),T.other.remove(),T.remove()}if(r.getHead()!==T){m&&m.rewind(T.seg);continue}if(i){var A;T.seg.myFill.below===null?A=!0:A=T.seg.myFill.above!==T.seg.myFill.below,g?T.seg.myFill.below=g.seg.myFill.above:T.seg.myFill.below=k,A?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){var R;g?T.primary===g.primary?R=g.seg.otherFill.above:R=g.seg.myFill.above:R=T.primary?a:k,T.seg.otherFill={above:R,below:R}}m&&m.status(T.seg,u?u.seg:!1,g?g.seg:!1),T.other.status=P.insert(x.node({ev:T}))}else{var O=T.status;if(O===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(c.exists(O.prev)&&c.exists(O.next)&&S(O.prev.ev,O.next.ev),m&&m.statusRemove(O.ev.seg),O.remove(),!T.primary){var N=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=N}_.push(T.seg)}r.getHead().remove()}return m&&m.done(),_}return i?{addRegion:function(k){for(var a,c=k[k.length-1],p=0;p<k.length;p++){a=c,c=k[p];var w=M.pointsCompare(a,c);w!==0&&o(d(w<0?a:c,w<0?c:a),!0)}},calculate:function(k){return f(k,!1)}}:{calculate:function(k,a,c,p){return k.forEach(function(w){o(v(w.start,w.end,w),!0)}),c.forEach(function(w){o(v(w.start,w.end,w),!1)}),f(a,p)}}}X.exports=E},48088:function(X){var B={create:function(){var t={root:{root:!0,next:null},exists:function(x){return!(x===null||x===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(x,E){for(var i=t.root,M=t.root.next;M!==null;){if(E(M)){x.prev=M.prev,x.next=M,M.prev.next=x,M.prev=x;return}i=M,M=M.next}i.next=x,x.prev=i,x.next=null},findTransition:function(x){for(var E=t.root,i=t.root.next;i!==null&&!x(i);)E=i,i=i.next;return{before:E===t.root?null:E,after:i,insert:function(M){return M.prev=E,M.next=i,E.next=M,i!==null&&(i.prev=M),M}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};X.exports=B},11403:function(X){function B(t,x,E){var i=[],M=[];return t.forEach(function(m){var d=m.start,v=m.end;if(x.pointsSame(d,v)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}E&&E.chainStart(m);var r={index:0,matches_head:!1,matches_pt1:!1},e={index:0,matches_head:!1,matches_pt1:!1},s=r;function n(L,A,R){return s.index=L,s.matches_head=A,s.matches_pt1=R,s===r?(s=e,!1):(s=null,!0)}for(var l=0;l<i.length;l++){var o=i[l],h=o[0];o[1];var b=o[o.length-1];if(o[o.length-2],x.pointsSame(h,d)){if(n(l,!0,!0))break}else if(x.pointsSame(h,v)){if(n(l,!0,!1))break}else if(x.pointsSame(b,d)){if(n(l,!1,!0))break}else if(x.pointsSame(b,v)&&n(l,!1,!1))break}if(s===r){i.push([d,v]),E&&E.chainNew(d,v);return}if(s===e){E&&E.chainMatch(r.index);var f=r.index,k=r.matches_pt1?v:d,a=r.matches_head,o=i[f],c=a?o[0]:o[o.length-1],p=a?o[1]:o[o.length-2],w=a?o[o.length-1]:o[0],S=a?o[o.length-2]:o[1];if(x.pointsCollinear(p,c,k)&&(a?(E&&E.chainRemoveHead(r.index,k),o.shift()):(E&&E.chainRemoveTail(r.index,k),o.pop()),c=p),x.pointsSame(w,k)){i.splice(f,1),x.pointsCollinear(S,w,c)&&(a?(E&&E.chainRemoveTail(r.index,c),o.pop()):(E&&E.chainRemoveHead(r.index,c),o.shift())),E&&E.chainClose(r.index),M.push(o);return}a?(E&&E.chainAddHead(r.index,k),o.unshift(k)):(E&&E.chainAddTail(r.index,k),o.push(k));return}function _(L){E&&E.chainReverse(L),i[L].reverse()}function T(L,A){var R=i[L],O=i[A],N=R[R.length-1],z=R[R.length-2],F=O[0],I=O[1];x.pointsCollinear(z,N,F)&&(E&&E.chainRemoveTail(L,N),R.pop(),N=z),x.pointsCollinear(N,F,I)&&(E&&E.chainRemoveHead(A,F),O.shift()),E&&E.chainJoin(L,A),i[L]=R.concat(O),i.splice(A,1)}var P=r.index,u=e.index;E&&E.chainConnect(P,u);var g=i[P].length<i[u].length;r.matches_head?e.matches_head?g?(_(P),T(P,u)):(_(u),T(u,P)):T(u,P):e.matches_head?T(P,u):g?(_(P),T(u,P)):(_(u),T(P,u))}),M}X.exports=B},82368:function(X){function B(x,E,i){var M=[];return x.forEach(function(m){var d=(m.myFill.above?8:0)+(m.myFill.below?4:0)+(m.otherFill&&m.otherFill.above?2:0)+(m.otherFill&&m.otherFill.below?1:0);E[d]!==0&&M.push({id:i?i.segmentId():-1,start:m.start,end:m.end,myFill:{above:E[d]===1,below:E[d]===2},otherFill:null})}),i&&i.selected(M),M}var t={union:function(x,E){return B(x,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(x,E){return B(x,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(x,E){return B(x,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(x,E){return B(x,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(x,E){return B(x,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}};X.exports=t},9696:function(X,B,t){var x=t(29936).Transform,E=t(55619);function i(){x.call(this,{readableObjectMode:!0})}i.prototype=Object.create(x.prototype),i.prototype.constructor=i,E(i.prototype),B.gS=function(m,d,v){for(var r=d,e=0;e<v.length;)if(m[r++]!==v[e++])return!1;return!0},B.wR=function(m,d){var v=[],r=0;if(d&&d==="hex")for(;r<m.length;)v.push(parseInt(m.slice(r,r+2),16)),r+=2;else for(;r<m.length;r++)v.push(m.charCodeAt(r)&255);return v},B.Bz=function(m,d){return m[d]|m[d+1]<<8},B.eW=function(m,d){return m[d+1]|m[d]<<8},B.st=function(m,d){return m[d]|m[d+1]<<8|m[d+2]<<16|m[d+3]*16777216},B.eI=function(m,d){return m[d+3]|m[d+2]<<8|m[d+1]<<16|m[d]*16777216};function M(m,d,v){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=m,d&&(this.code=d),v&&(this.statusCode=v)}M.prototype=Object.create(Error.prototype),M.prototype.constructor=M},11688:function(X){function B(E,i){var M=new Error(E);return M.code=i,M}function t(E){try{return decodeURIComponent(escape(E))}catch{return E}}function x(E,i,M){this.input=E.subarray(i,M),this.start=i;var m=String.fromCharCode.apply(null,this.input.subarray(0,4));if(m!=="II*\0"&&m!=="MM\0*")throw B("invalid TIFF signature","EBADDATA");this.big_endian=m[0]==="M"}x.prototype.each=function(E){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var M=this.ifds_to_read.shift();M.offset&&this.scan_ifd(M.id,M.offset,E)}},x.prototype.read_uint16=function(E){var i=this.input;if(E+2>i.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?i[E]*256+i[E+1]:i[E]+i[E+1]*256},x.prototype.read_uint32=function(E){var i=this.input;if(E+4>i.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?i[E]*16777216+i[E+1]*65536+i[E+2]*256+i[E+3]:i[E]+i[E+1]*256+i[E+2]*65536+i[E+3]*16777216},x.prototype.is_subifd_link=function(E,i){return E===0&&i===34665||E===0&&i===34853||E===34665&&i===40965},x.prototype.exif_format_length=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},x.prototype.exif_format_read=function(E,i){var M;switch(E){case 1:case 2:return M=this.input[i],M;case 6:return M=this.input[i],M|(M&128)*33554430;case 3:return M=this.read_uint16(i),M;case 8:return M=this.read_uint16(i),M|(M&32768)*131070;case 4:return M=this.read_uint32(i),M;case 9:return M=this.read_uint32(i),M|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},x.prototype.scan_ifd=function(E,i,M){var m=this.read_uint16(i);i+=2;for(var d=0;d<m;d++){var v=this.read_uint16(i),r=this.read_uint16(i+2),e=this.read_uint32(i+4),s=this.exif_format_length(r),n=e*s,l=n<=4?i+8:this.read_uint32(i+8),o=!1;if(l+n>this.input.length)throw B("unexpected EOF","EBADDATA");for(var h=[],b=l,f=0;f<e;f++,b+=s){var k=this.exif_format_read(r,b);if(k===null){h=null;break}h.push(k)}Array.isArray(h)&&r===2&&(h=t(String.fromCharCode.apply(null,h)),h&&h[h.length-1]==="\0"&&(h=h.slice(0,-1))),this.is_subifd_link(E,v)&&Array.isArray(h)&&Number.isInteger(h[0])&&h[0]>0&&(this.ifds_to_read.push({id:v,offset:h[0]}),o=!0);var a={is_big_endian:this.big_endian,ifd:E,tag:v,format:r,count:e,entry_offset:i+this.start,data_length:n,data_offset:l+this.start,value:h,is_subifd_link:o};if(M(a)===!1){this.aborted=!0;return}i+=12}E===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},X.exports.ExifParser=x,X.exports.get_orientation=function(E){var i=0;try{return new x(E,0,E.length).each(function(M){if(M.ifd===0&&M.tag===274&&Array.isArray(M.value))return i=M.value[0],!1}),i}catch{return-1}}},44600:function(X,B,t){var x=t(9696).eW,E=t(9696).eI;function i(n,l){if(n.length<4+l)return null;var o=E(n,l);return n.length<o+l||o<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(l+4,l+8)),data:n.slice(l+8,l+o),end:l+o}}X.exports.unbox=i;function M(n,l){for(var o=0;;){var h=i(n,o);if(!h)break;switch(h.boxtype){case"ispe":l.sizes.push({width:E(h.data,4),height:E(h.data,8)});break;case"irot":l.transforms.push({type:"irot",value:h.data[0]&3});break;case"imir":l.transforms.push({type:"imir",value:h.data[0]&1});break}o=h.end}}function m(n,l,o){for(var h=0,b=0;b<o;b++)h=h*256+(n[l+b]||0);return h}function d(n,l){for(var o=n[4]>>4&15,h=n[4]&15,b=n[5]>>4&15,f=x(n,6),k=8,a=0;a<f;a++){var c=x(n,k);k+=2;var p=x(n,k);k+=2;var w=m(n,k,b);k+=b;var S=x(n,k);if(k+=2,p===0&&S===1){var _=m(n,k,o),T=m(n,k+o,h);l.item_loc[c]={length:T,offset:_+w}}k+=S*(o+h)}}function v(n,l){for(var o=x(n,4),h=6,b=0;b<o;b++){var f=i(n,h);if(!f)break;if(f.boxtype==="infe"){for(var k=x(f.data,4),a="",c=8;c<f.data.length&&f.data[c];c++)a+=String.fromCharCode(f.data[c]);l.item_inf[a]=k}h=f.end}}function r(n,l){for(var o=0;;){var h=i(n,o);if(!h)break;h.boxtype==="ipco"&&M(h.data,l),o=h.end}}function e(n,l){for(var o=4;;){var h=i(n,o);if(!h)break;h.boxtype==="iprp"&&r(h.data,l),h.boxtype==="iloc"&&d(h.data,l),h.boxtype==="iinf"&&v(h.data,l),o=h.end}}function s(n){var l=n.reduce(function(b,f){return b.width>f.width||b.width===f.width&&b.height>f.height?b:f}),o=n.reduce(function(b,f){return b.height>f.height||b.height===f.height&&b.width>f.width?b:f}),h;return l.width>o.height||l.width===o.height&&l.height>o.width?h=l:h=o,h}X.exports.readSizeFromMeta=function(n){var l={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(e(n,l),!!l.sizes.length){var o=s(l.sizes),h=1;l.transforms.forEach(function(f){var k={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},a={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(f.type==="imir"&&(f.value===0?h=a[h]:(h=a[h],h=k[h],h=k[h])),f.type==="irot")for(var c=0;c<f.value;c++)h=k[h]});var b=null;return l.item_inf.Exif&&(b=l.item_loc[l.item_inf.Exif]),{width:o.width,height:o.height,orientation:l.transforms.length?h:null,variants:l.sizes,exif_location:b}}},X.exports.getMimeType=function(n){var l=String.fromCharCode.apply(null,n.slice(0,4)),o={};o[l]=!0;for(var h=8;h<n.length;h+=4)o[String.fromCharCode.apply(null,n.slice(h,h+4))]=!0;if(!(!o.mif1&&!o.msf1&&!o.miaf))return l==="avif"||l==="avis"||l==="avio"?{type:"avif",mime:"image/avif"}:l==="heic"||l==="heix"?{type:"heic",mime:"image/heic"}:l==="hevc"||l==="hevx"?{type:"heic",mime:"image/heic-sequence"}:o.avif||o.avis?{type:"avif",mime:"image/avif"}:o.heic||o.heix||o.hevc||o.hevx||o.heis?o.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(X,B,t){var x=t(9696).wR,E=t(9696).gS,i=t(9696).eI,M=t(44600),m=t(11688),d=x("ftyp");X.exports=function(v){if(E(v,4,d)){var r=M.unbox(v,0);if(r){var e=M.getMimeType(r.data);if(e){for(var s,n=r.end;;){var l=M.unbox(v,n);if(!l)break;if(n=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){s=l.data;break}}if(s){var o=M.readSizeFromMeta(s);if(o){var h={width:o.width,height:o.height,type:e.type,mime:e.mime,wUnits:"px",hUnits:"px"};if(o.variants.length>1&&(h.variants=o.variants),o.orientation&&(h.orientation=o.orientation),o.exif_location&&o.exif_location.offset+o.exif_location.length<=v.length){var b=i(v,o.exif_location.offset),f=v.slice(o.exif_location.offset+b+4,o.exif_location.offset+o.exif_location.length),k=m.get_orientation(f);k>0&&(h.orientation=k)}return h}}}}}}},38728:function(X,B,t){var x=t(9696).wR,E=t(9696).gS,i=t(9696).Bz,M=x("BM");X.exports=function(m){if(!(m.length<26)&&E(m,0,M))return{width:i(m,18),height:i(m,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(X,B,t){var x=t(9696).wR,E=t(9696).gS,i=t(9696).Bz,M=x("GIF87a"),m=x("GIF89a");X.exports=function(d){if(!(d.length<10)&&!(!E(d,0,M)&&!E(d,0,m)))return{width:i(d,6),height:i(d,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(X,B,t){var x=t(9696).Bz,E=0,i=1,M=16;X.exports=function(m){var d=x(m,0),v=x(m,2),r=x(m,4);if(!(d!==E||v!==i||!r)){for(var e=[],s={width:0,height:0},n=0;n<r;n++){var l=m[6+M*n]||256,o=m[6+M*n+1]||256,h={width:l,height:o};e.push(h),(l>s.width||o>s.height)&&(s=h)}return{width:s.width,height:s.height,variants:e,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(X,B,t){var x=t(9696).eW,E=t(9696).wR,i=t(9696).gS,M=t(11688),m=E("Exif\0\0");X.exports=function(d){if(!(d.length<2)&&!(d[0]!==255||d[1]!==216||d[2]!==255))for(var v=2;;){for(;;){if(d.length-v<2)return;if(d[v++]===255)break}for(var r=d[v++],e;r===255;)r=d[v++];if(208<=r&&r<=217||r===1)e=0;else if(192<=r&&r<=254){if(d.length-v<2)return;e=x(d,v)-2,v+=2}else return;if(r===217||r===218)return;var s;if(r===225&&e>=10&&i(d,v,m)&&(s=M.get_orientation(d.slice(v+6,v+e))),e>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(d.length-v<e)return;var n={width:x(d,v+3),height:x(d,v+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}v+=e}}},37276:function(X,B,t){var x=t(9696).wR,E=t(9696).gS,i=t(9696).eI,M=x(`PNG\r

`),m=x("IHDR");X.exports=function(d){if(!(d.length<24)&&E(d,0,M)&&E(d,12,m))return{width:i(d,16),height:i(d,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(X,B,t){var x=t(9696).wR,E=t(9696).gS,i=t(9696).eI,M=x("8BPS\0");X.exports=function(m){if(!(m.length<22)&&E(m,0,M))return{width:i(m,18),height:i(m,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(X){function B(s){return s===32||s===9||s===13||s===10}function t(s){return typeof s=="number"&&isFinite(s)&&s>0}function x(s){var n=0,l=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(n=3);n<l&&B(s[n]);)n++;return n===l?!1:s[n]===60}var E=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,M=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,m=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,d=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,v=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(s){var n=s.match(M),l=s.match(m),o=s.match(d);return{width:n&&(n[1]||n[2]),height:l&&(l[1]||l[2]),viewbox:o&&(o[1]||o[2])}}function e(s){return v.test(s)?s.match(v)[0]:"px"}X.exports=function(s){if(x(s)){for(var n="",l=0;l<s.length;l++)n+=String.fromCharCode(s[l]);var o=(n.match(E)||[""])[0];if(i.test(o)){var h=r(o),b=parseFloat(h.width),f=parseFloat(h.height);if(h.width&&h.height)return!t(b)||!t(f)?void 0:{width:b,height:f,type:"svg",mime:"image/svg+xml",wUnits:e(h.width),hUnits:e(h.height)};var k=(h.viewbox||"").split(" "),a={width:k[2],height:k[3]},c=parseFloat(a.width),p=parseFloat(a.height);if(!(!t(c)||!t(p))&&e(a.width)===e(a.height)){var w=c/p;return h.width?t(b)?{width:b,height:b/w,type:"svg",mime:"image/svg+xml",wUnits:e(h.width),hUnits:e(h.width)}:void 0:h.height?t(f)?{width:f*w,height:f,type:"svg",mime:"image/svg+xml",wUnits:e(h.height),hUnits:e(h.height)}:void 0:{width:c,height:p,type:"svg",mime:"image/svg+xml",wUnits:e(a.width),hUnits:e(a.height)}}}}}},98792:function(X,B,t){var x=t(9696).wR,E=t(9696).gS,i=t(9696).Bz,M=t(9696).eW,m=t(9696).st,d=t(9696).eI,v=x("II*\0"),r=x("MM\0*");function e(l,o,h){return h?M(l,o):i(l,o)}function s(l,o,h){return h?d(l,o):m(l,o)}function n(l,o,h){var b=e(l,o+2,h),f=s(l,o+4,h);return f!==1||b!==3&&b!==4?null:b===3?e(l,o+8,h):s(l,o+8,h)}X.exports=function(l){if(!(l.length<8)&&!(!E(l,0,v)&&!E(l,0,r))){var o=l[0]===77,h=s(l,4,o)-8;if(!(h<0)){var b=h+8;if(!(l.length-b<2)){var f=e(l,b+0,o)*12;if(!(f<=0)&&(b+=2,!(l.length-b<f))){var k,a,c,p;for(k=0;k<f;k+=12)p=e(l,b+k,o),p===256?a=n(l,b+k,o):p===257&&(c=n(l,b+k,o));if(a&&c)return{width:a,height:c,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(X,B,t){var x=t(9696).wR,E=t(9696).gS,i=t(9696).Bz,M=t(9696).st,m=t(11688),d=x("RIFF"),v=x("WEBP");function r(n,l){if(!(n[l+3]!==157||n[l+4]!==1||n[l+5]!==42))return{width:i(n,l+6)&16383,height:i(n,l+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function e(n,l){if(n[l]===47){var o=M(n,l+1);return{width:(o&16383)+1,height:(o>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(n,l){return{width:(n[l+6]<<16|n[l+5]<<8|n[l+4])+1,height:(n[l+9]<<l|n[l+8]<<8|n[l+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}X.exports=function(n){if(!(n.length<16)&&!(!E(n,0,d)&&!E(n,8,v))){var l=12,o=null,h=0,b=M(n,4)+8;if(!(b>n.length)){for(;l+8<b;){if(n[l]===0){l++;continue}var f=String.fromCharCode.apply(null,n.slice(l,l+4)),k=M(n,l+4);f==="VP8 "&&k>=10?o=o||r(n,l+8):f==="VP8L"&&k>=9?o=o||e(n,l+8):f==="VP8X"&&k>=10?o=o||s(n,l+8):f==="EXIF"&&(h=m.get_orientation(n.slice(l+8,l+8+k)),l=1/0),l+=8+k}if(o)return h>0&&(o.orientation=h),o}}}},87480:function(X,B,t){X.exports={avif:t(40528),bmp:t(38728),gif:t(5588),ico:t(41924),jpeg:t(87968),png:t(37276),psd:t(90328),svg:t(16024),tiff:t(98792),webp:t(20704)}},19480:function(X,B,t){var x=t(87480);function E(i){for(var M=Object.keys(x),m=0;m<M.length;m++){var d=x[M[m]](i);if(d)return d}return null}X.exports=function(i){return E(i)},X.exports.parsers=x},4168:function(X){var B=X.exports={},t,x;function E(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=E}catch{t=E}try{typeof clearTimeout=="function"?x=clearTimeout:x=i}catch{x=i}})();function M(h){if(t===setTimeout)return setTimeout(h,0);if((t===E||!t)&&setTimeout)return t=setTimeout,setTimeout(h,0);try{return t(h,0)}catch{try{return t.call(null,h,0)}catch{return t.call(this,h,0)}}}function m(h){if(x===clearTimeout)return clearTimeout(h);if((x===i||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(h);try{return x(h)}catch{try{return x.call(null,h)}catch{return x.call(this,h)}}}var d=[],v=!1,r,e=-1;function s(){!v||!r||(v=!1,r.length?d=r.concat(d):e=-1,d.length&&n())}function n(){if(!v){var h=M(s);v=!0;for(var b=d.length;b;){for(r=d,d=[];++e<b;)r&&r[e].run();e=-1,b=d.length}r=null,v=!1,m(h)}}B.nextTick=function(h){var b=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)b[f-1]=arguments[f];d.push(new l(h,b)),d.length===1&&!v&&M(n)};function l(h,b){this.fun=h,this.array=b}l.prototype.run=function(){this.fun.apply(null,this.array)},B.title="browser",B.browser=!0,B.env={},B.argv=[],B.version="",B.versions={};function o(){}B.on=o,B.addListener=o,B.once=o,B.off=o,B.removeListener=o,B.removeAllListeners=o,B.emit=o,B.prependListener=o,B.prependOnceListener=o,B.listeners=function(h){return[]},B.binding=function(h){throw new Error("process.binding is not supported")},B.cwd=function(){return"/"},B.chdir=function(h){throw new Error("process.chdir is not supported")},B.umask=function(){return 0}},3951:function(X,B,t){for(var x=t(41984),E=typeof window>"u"?t.g:window,i=["moz","webkit"],M="AnimationFrame",m=E["request"+M],d=E["cancel"+M]||E["cancelRequest"+M],v=0;!m&&v<i.length;v++)m=E[i[v]+"Request"+M],d=E[i[v]+"Cancel"+M]||E[i[v]+"CancelRequest"+M];if(!m||!d){var r=0,e=0,s=[],n=1e3/60;m=function(l){if(s.length===0){var o=x(),h=Math.max(0,n-(o-r));r=h+o,setTimeout(function(){var b=s.slice(0);s.length=0;for(var f=0;f<b.length;f++)if(!b[f].cancelled)try{b[f].callback(r)}catch(k){setTimeout(function(){throw k},0)}},Math.round(h))}return s.push({handle:++e,callback:l,cancelled:!1}),e},d=function(l){for(var o=0;o<s.length;o++)s[o].handle===l&&(s[o].cancelled=!0)}}X.exports=function(l){return m.call(E,l)},X.exports.cancel=function(){d.apply(E,arguments)},X.exports.polyfill=function(l){l||(l=E),l.requestAnimationFrame=m,l.cancelAnimationFrame=d}},24544:function(X,B,t){var x=t(76752),E=t(72160),i=t(45223),M=t(55616),m=t(50896),d=t(47520),v=t(37816),r=v.float32,e=v.fract32;X.exports=n;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(l,o){if(typeof l=="function"?(o||(o={}),o.regl=l):o=l,o.length&&(o.positions=o),l=o.regl,!l.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var h=l._gl,b,f,k,a,c,p,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},S=[];return a=l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),f=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),k=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),c=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=l.buffer({usage:"static",type:"float",data:s}),u(o),b=l({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:l.prop("range"),lineWidth:l.prop("lineWidth"),capSize:l.prop("capSize"),opacity:l.prop("opacity"),scale:l.prop("scale"),translate:l.prop("translate"),scaleFract:l.prop("scaleFract"),translateFract:l.prop("translateFract"),viewport:function(L,A){return[A.viewport.x,A.viewport.y,L.viewportWidth,L.viewportHeight]}},attributes:{color:{buffer:a,offset:function(L,A){return A.offset*4},divisor:1},position:{buffer:f,offset:function(L,A){return A.offset*8},divisor:1},positionFract:{buffer:k,offset:function(L,A){return A.offset*8},divisor:1},error:{buffer:c,offset:function(L,A){return A.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:l.prop("viewport")},viewport:l.prop("viewport"),stencil:!1,instances:l.prop("count"),count:s.length}),m(_,{update:u,draw:T,destroy:g,regl:l,gl:h,canvas:h.canvas,groups:S}),_;function _(L){L?u(L):L===null&&g(),T()}function T(L){if(typeof L=="number")return P(L);L&&!Array.isArray(L)&&(L=[L]),l._refresh(),S.forEach(function(A,R){if(A){if(L&&(L[R]?A.draw=!0:A.draw=!1),!A.draw){A.draw=!0;return}P(R)}})}function P(L){typeof L=="number"&&(L=S[L]),L!=null&&L&&L.count&&L.color&&L.opacity&&L.positions&&L.positions.length>1&&(L.scaleRatio=[L.scale[0]*L.viewport.width,L.scale[1]*L.viewport.height],b(L),L.after&&L.after(L))}function u(L){if(L){L.length!=null?typeof L[0]=="number"&&(L=[{positions:L}]):Array.isArray(L)||(L=[L]);var A=0,R=0;if(_.groups=S=L.map(function(V,W){var K=S[W];if(V)typeof V=="function"?V={after:V}:typeof V[0]=="number"&&(V={positions:V});else return K;return V=M(V,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),K||(S[W]=K={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},V=m({},w,V)),i(K,V,[{lineWidth:function(et){return+et*.5},capSize:function(et){return+et*.5},opacity:parseFloat,errors:function(et){return et=d(et),R+=et.length,et},positions:function(et,lt){return et=d(et,"float64"),lt.count=Math.floor(et.length/2),lt.bounds=x(et,2),lt.offset=A,A+=lt.count,et}},{color:function(et,lt){var ot=lt.count;if(et||(et="transparent"),!Array.isArray(et)||typeof et[0]=="number"){var q=et;et=Array(ot);for(var J=0;J<ot;J++)et[J]=q}if(et.length<ot)throw Error("Not enough colors");for(var it=new Uint8Array(ot*4),Z=0;Z<ot;Z++){var tt=E(et[Z],"uint8");it.set(tt,Z*4)}return it},range:function(et,lt,ot){var q=lt.bounds;return et||(et=q),lt.scale=[1/(et[2]-et[0]),1/(et[3]-et[1])],lt.translate=[-et[0],-et[1]],lt.scaleFract=e(lt.scale),lt.translateFract=e(lt.translate),et},viewport:function(et){var lt;return Array.isArray(et)?lt={x:et[0],y:et[1],width:et[2]-et[0],height:et[3]-et[1]}:et?(lt={x:et.x||et.left||0,y:et.y||et.top||0},et.right?lt.width=et.right-lt.x:lt.width=et.w||et.width||0,et.bottom?lt.height=et.bottom-lt.y:lt.height=et.h||et.height||0):lt={x:0,y:0,width:h.drawingBufferWidth,height:h.drawingBufferHeight},lt}}]),K}),A||R){var O=S.reduce(function(V,W,K){return V+(W?W.count:0)},0),N=new Float64Array(O*2),z=new Uint8Array(O*4),F=new Float32Array(O*4);S.forEach(function(V,W){if(V){var K=V.positions,et=V.count,lt=V.offset,ot=V.color,q=V.errors;et&&(z.set(ot,lt*4),F.set(q,lt*4),N.set(K,lt*2))}});var I=r(N);f(I);var j=e(N,I);k(j),a(z),c(F)}}}function g(){f.destroy(),k.destroy(),a.destroy(),c.destroy(),p.destroy()}}},13472:function(X,B,t){var x=t(72160),E=t(76752),i=t(50896),M=t(55616),m=t(47520),d=t(28912),v=t(71152),r=t(37816),e=r.float32,s=r.fract32,n=t(60463),l=t(51160),o=t(10272),h=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,b=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,f=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,k=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,a=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,c=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;X.exports=p;function p(w,S){if(!(this instanceof p))return new p(w,S);if(typeof w=="function"?(S||(S={}),S.regl=w):S=w,S.length&&(S.positions=S),w=S.regl,!w.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=w._gl,this.regl=w,this.passes=[],this.shaders=p.shaders.has(w)?p.shaders.get(w):p.shaders.set(w,p.createShaders(w)).get(w),this.update(S)}p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new n,p.createShaders=function(w){var S=w.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),_={primitive:"triangle strip",instances:w.prop("count"),count:4,offset:0,uniforms:{miterMode:function(g,L){return L.join==="round"?2:1},miterLimit:w.prop("miterLimit"),scale:w.prop("scale"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),thickness:w.prop("thickness"),dashTexture:w.prop("dashTexture"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),dashLength:w.prop("dashLength"),viewport:function(g,L){return[L.viewport.x,L.viewport.y,g.viewportWidth,g.viewportHeight]},depth:w.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(g,L){return!L.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:w.prop("viewport")},viewport:w.prop("viewport")},T=w(i({vert:h,frag:b,attributes:{lineEnd:{buffer:S,divisor:0,stride:8,offset:0},lineTop:{buffer:S,divisor:0,stride:8,offset:4},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},_)),P;try{P=w(i({cull:{enable:!0,face:"back"},vert:a,frag:c,attributes:{lineEnd:{buffer:S,divisor:0,stride:8,offset:0},lineTop:{buffer:S,divisor:0,stride:8,offset:4},aColor:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:w.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},_))}catch{P=T}var u=w({primitive:"triangle",elements:function(g,L){return L.triangles},offset:0,vert:f,frag:k,uniforms:{scale:w.prop("scale"),color:w.prop("fill"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),viewport:function(g,L){return[L.viewport.x,L.viewport.y,g.viewportWidth,g.viewportHeight]}},attributes:{position:{buffer:w.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8}},blend:_.blend,depth:{enable:!1},scissor:_.scissor,stencil:_.stencil,viewport:_.viewport});return{fill:u,rect:T,miter:P}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var w,S=[],_=arguments.length;_--;)S[_]=arguments[_];S.length&&(w=this).update.apply(w,S),this.draw()},p.prototype.draw=function(){for(var w=this,S=[],_=arguments.length;_--;)S[_]=arguments[_];return(S.length?S:this.passes).forEach(function(T,P){var u;if(T&&Array.isArray(T))return(u=w).draw.apply(u,T);typeof T=="number"&&(T=w.passes[T]),T&&T.count>1&&T.opacity&&(w.regl._refresh(),T.fill&&T.triangles&&T.triangles.length>2&&w.shaders.fill(T),T.thickness&&(T.scale[0]*T.viewport.width>p.precisionThreshold||T.scale[1]*T.viewport.height>p.precisionThreshold||T.join==="rect"||!T.join&&(T.thickness<=2||T.count>=p.maxPoints)?w.shaders.rect(T):w.shaders.miter(T)))}),this},p.prototype.update=function(w){var S=this;if(w){w.length!=null?typeof w[0]=="number"&&(w=[{positions:w}]):Array.isArray(w)||(w=[w]);var _=this,T=_.regl,P=_.gl;if(w.forEach(function(R,O){var N=S.passes[O];if(R!==void 0){if(R===null){S.passes[O]=null;return}if(typeof R[0]=="number"&&(R={positions:R}),R=M(R,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(S.passes[O]=N={id:O,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:T.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:T.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:T.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:T.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},R=i({},p.defaults,R)),R.thickness!=null&&(N.thickness=parseFloat(R.thickness)),R.opacity!=null&&(N.opacity=parseFloat(R.opacity)),R.miterLimit!=null&&(N.miterLimit=parseFloat(R.miterLimit)),R.overlay!=null&&(N.overlay=!!R.overlay,O<p.maxLines&&(N.depth=2*(p.maxLines-1-O%p.maxLines)/p.maxLines-1)),R.join!=null&&(N.join=R.join),R.hole!=null&&(N.hole=R.hole),R.fill!=null&&(N.fill=R.fill?x(R.fill,"uint8"):null),R.viewport!=null&&(N.viewport=l(R.viewport)),N.viewport||(N.viewport=l([P.drawingBufferWidth,P.drawingBufferHeight])),R.close!=null&&(N.close=R.close),R.positions===null&&(R.positions=[]),R.positions){var z,F;if(R.positions.x&&R.positions.y){var I=R.positions.x,j=R.positions.y;F=N.count=Math.max(I.length,j.length),z=new Float64Array(F*2);for(var V=0;V<F;V++)z[V*2]=I[V],z[V*2+1]=j[V]}else z=m(R.positions,"float64"),F=N.count=Math.floor(z.length/2);var W=N.bounds=E(z,2);if(N.fill){for(var K=[],et={},lt=0,ot=0,q=0,J=N.count;ot<J;ot++){var it=z[ot*2],Z=z[ot*2+1];isNaN(it)||isNaN(Z)||it==null||Z==null?(it=z[lt*2],Z=z[lt*2+1],et[ot]=lt):lt=ot,K[q++]=it,K[q++]=Z}if(R.splitNull){N.count-1 in et||(et[N.count]=N.count-1);var tt=Object.keys(et).map(Number).sort(function(At,Ft){return At-Ft}),st=[],Q=0,G=N.hole!=null?N.hole[0]:null;if(G!=null){var ut=o(tt,function(At){return At>=G});tt=tt.slice(0,ut),tt.push(G)}for(var at=function(At){var Ft=K.slice(Q*2,tt[At]*2).concat(G?K.slice(G*2):[]),Wt=(N.hole||[]).map(function(he){return he-G+(tt[At]-Q)}),Qt=d(Ft,Wt);Qt=Qt.map(function(he){return he+Q+(he+Q<tt[At]?0:G-tt[At])}),st.push.apply(st,Qt),Q=tt[At]+1},dt=0;dt<tt.length;dt++)at(dt);for(var gt=0,wt=st.length;gt<wt;gt++)et[st[gt]]!=null&&(st[gt]=et[st[gt]]);N.triangles=st}else{for(var kt=d(K,N.hole||[]),Ot=0,bt=kt.length;Ot<bt;Ot++)et[kt[Ot]]!=null&&(kt[Ot]=et[kt[Ot]]);N.triangles=kt}}var _t=new Float64Array(z);v(_t,2,W);var mt=new Float64Array(F*2+6);N.close?z[0]===z[F*2-2]&&z[1]===z[F*2-1]?(mt[0]=_t[F*2-4],mt[1]=_t[F*2-3]):(mt[0]=_t[F*2-2],mt[1]=_t[F*2-1]):(mt[0]=_t[0],mt[1]=_t[1]),mt.set(_t,2),N.close?z[0]===z[F*2-2]&&z[1]===z[F*2-1]?(mt[F*2+2]=_t[2],mt[F*2+3]=_t[3],N.count-=1):(mt[F*2+2]=_t[0],mt[F*2+3]=_t[1],mt[F*2+4]=_t[2],mt[F*2+5]=_t[3]):(mt[F*2+2]=_t[F*2-2],mt[F*2+3]=_t[F*2-1],mt[F*2+4]=_t[F*2-2],mt[F*2+5]=_t[F*2-1]);var Pt=e(mt);N.positionBuffer(Pt);var Rt=s(mt,Pt);N.positionFractBuffer(Rt)}if(R.range?N.range=R.range:N.range||(N.range=N.bounds),(R.range||R.positions)&&N.count){var Ht=N.bounds,Dt=Ht[2]-Ht[0],Xt=Ht[3]-Ht[1],se=N.range[2]-N.range[0],Yt=N.range[3]-N.range[1];N.scale=[Dt/se,Xt/Yt],N.translate=[-N.range[0]/se+Ht[0]/se||0,-N.range[1]/Yt+Ht[1]/Yt||0],N.scaleFract=s(N.scale),N.translateFract=s(N.translate)}if(R.dashes){var ue=0,ie;if(!R.dashes||R.dashes.length<2)ue=1,ie=new Uint8Array([255,255,255,255,255,255,255,255]);else{ue=0;for(var fe=0;fe<R.dashes.length;++fe)ue+=R.dashes[fe];ie=new Uint8Array(ue*p.dashMult);for(var ce=0,ye=255,de=0;de<2;de++)for(var Te=0;Te<R.dashes.length;++Te){for(var Et=0,Vt=R.dashes[Te]*p.dashMult*.5;Et<Vt;++Et)ie[ce++]=ye;ye^=255}}N.dashLength=ue,N.dashTexture({channels:1,data:ie,width:ie.length,height:1,mag:"linear",min:"linear"},0,0)}if(R.color){var te=N.count,Jt=R.color;Jt||(Jt="transparent");var Ut=new Uint8Array(te*4+4);if(!Array.isArray(Jt)||typeof Jt[0]=="number")for(var It=x(Jt,"uint8"),pt=0;pt<te+1;pt++)Ut.set(It,pt*4);else{for(var xt=0;xt<te;xt++){var Ct=x(Jt[xt],"uint8");Ut.set(Ct,xt*4)}Ut.set(x(Jt[0],"uint8"),te*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:Ut})}}}),w.length<this.passes.length){for(var u=w.length;u<this.passes.length;u++){var g=this.passes[u];g&&(g.colorBuffer.destroy(),g.positionBuffer.destroy(),g.dashTexture.destroy())}this.passes.length=w.length}for(var L=[],A=0;A<this.passes.length;A++)this.passes[A]!==null&&L.push(this.passes[A]);return this.passes=L,this}},p.prototype.destroy=function(){return this.passes.forEach(function(w){w.colorBuffer.destroy(),w.positionBuffer.destroy(),w.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(X,B,t){function x(g,L){var A=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(A!=null){var R,O,N,z,F=[],I=!0,j=!1;try{if(N=(A=A.call(g)).next,L===0){if(Object(A)!==A)return;I=!1}else for(;!(I=(R=N.call(A)).done)&&(F.push(R.value),F.length!==L);I=!0);}catch(V){j=!0,O=V}finally{try{if(!I&&A.return!=null&&(z=A.return(),Object(z)!==z))return}finally{if(j)throw O}}return F}}function E(g,L){return m(g)||x(g,L)||v(g,L)||s()}function i(g){return M(g)||d(g)||v(g)||e()}function M(g){if(Array.isArray(g))return r(g)}function m(g){if(Array.isArray(g))return g}function d(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function v(g,L){if(g){if(typeof g=="string")return r(g,L);var A=Object.prototype.toString.call(g).slice(8,-1);if(A==="Object"&&g.constructor&&(A=g.constructor.name),A==="Map"||A==="Set")return Array.from(g);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return r(g,L)}}function r(g,L){(L==null||L>g.length)&&(L=g.length);for(var A=0,R=new Array(L);A<L;A++)R[A]=g[A];return R}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=t(72160),l=t(76752),o=t(3808),h=t(3108),b=t(50896),f=t(26444),k=t(55616),a=t(45223),c=t(47520),p=t(96604),w=t(37816),S=t(51160),_=T;function T(g,L){var A=this;if(!(this instanceof T))return new T(g,L);typeof g=="function"?(L||(L={}),L.regl=g):(L=g,g=null),L&&L.length&&(L.positions=L),g=L.regl;var R=g._gl,O,N=[],z={},F=[],I=[null],j=[null],V=255,W=100;this.tooManyColors=p,O=g.texture({data:new Uint8Array(V*4),width:V,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),b(this,{regl:g,gl:R,groups:F,markerCache:j,markerTextures:I,palette:N,paletteIds:z,paletteTexture:O,maxColors:V,maxSize:W,canvas:R.canvas}),this.update(L);var K={uniforms:{constPointSize:!!L.constPointSize,opacity:g.prop("opacity"),paletteSize:function(ot,q){return[A.tooManyColors?0:V,O.height]},pixelRatio:g.context("pixelRatio"),scale:g.prop("scale"),scaleFract:g.prop("scaleFract"),translate:g.prop("translate"),translateFract:g.prop("translateFract"),markerTexture:g.prop("markerTexture"),paletteTexture:O},attributes:{x:function(ot,q){return q.xAttr||{buffer:q.positionBuffer,stride:8,offset:0}},y:function(ot,q){return q.yAttr||{buffer:q.positionBuffer,stride:8,offset:4}},xFract:function(ot,q){return q.xAttr?{constant:[0,0]}:{buffer:q.positionFractBuffer,stride:8,offset:0}},yFract:function(ot,q){return q.yAttr?{constant:[0,0]}:{buffer:q.positionFractBuffer,stride:8,offset:4}},size:function(ot,q){return q.size.length?{buffer:q.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(q.size*255/A.maxSize)]}},borderSize:function(ot,q){return q.borderSize.length?{buffer:q.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(q.borderSize*255/A.maxSize)]}},colorId:function(ot,q){return q.color.length?{buffer:q.colorBuffer,stride:A.tooManyColors?8:4,offset:0}:{constant:A.tooManyColors?N.slice(q.color*4,q.color*4+4):[q.color]}},borderColorId:function(ot,q){return q.borderColor.length?{buffer:q.colorBuffer,stride:A.tooManyColors?8:4,offset:A.tooManyColors?4:2}:{constant:A.tooManyColors?N.slice(q.borderColor*4,q.borderColor*4+4):[q.borderColor]}},isActive:function(ot,q){return q.activation===!0?{constant:[1]}:q.activation?q.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:g.prop("viewport")},viewport:g.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:g.prop("elements"),count:g.prop("count"),offset:g.prop("offset"),primitive:"points"},et=b({},K);et.frag=f([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),et.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=g(et);var lt=b({},K);lt.frag=f([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),lt.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(lt.frag=lt.frag.replace("smoothstep","smoothStep"),et.frag=et.frag.replace("smoothstep","smoothStep")),this.drawCircle=g(lt)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var g=this,L=arguments.length,A=new Array(L),R=0;R<L;R++)A[R]=arguments[R];var O=this.groups;if(A.length===1&&Array.isArray(A[0])&&(A[0][0]===null||Array.isArray(A[0][0]))&&(A=A[0]),this.regl._refresh(),A.length)for(var N=0;N<A.length;N++)this.drawItem(N,A[N]);else O.forEach(function(z,F){g.drawItem(F)});return this},T.prototype.drawItem=function(g,L){var A=this.groups,R=A[g];if(typeof L=="number"&&(g=L,R=A[L],L=null),!!(R&&R.count&&R.opacity)){R.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,R,L));for(var O=[],N=1;N<R.activation.length;N++)!R.activation[N]||R.activation[N]!==!0&&!R.activation[N].data.length||O.push.apply(O,i(this.getMarkerDrawOptions(N,R,L)));O.length&&this.drawMarker(O)}},T.prototype.getMarkerDrawOptions=function(g,L,A){var R=L.range,O=L.tree,N=L.viewport,z=L.activation,F=L.selectionBuffer,I=L.count;if(this.regl,!O)return A?[b({},L,{markerTexture:this.markerTextures[g],activation:z[g],count:A.length,elements:A,offset:0})]:[b({},L,{markerTexture:this.markerTextures[g],activation:z[g],offset:0})];var j=[],V=O.range(R,{lod:!0,px:[(R[2]-R[0])/N.width,(R[3]-R[1])/N.height]});if(A){for(var W=z[g],K=W.data,et=new Uint8Array(I),lt=0;lt<A.length;lt++){var ot=A[lt];et[ot]=K?K[ot]:1}F.subdata(et)}for(var q=V.length;q--;){var J=E(V[q],2),it=J[0],Z=J[1];j.push(b({},L,{markerTexture:this.markerTextures[g],activation:A?F:z[g],offset:it,count:Z-it}))}return j},T.prototype.update=function(){for(var g=this,L=arguments.length,A=new Array(L),R=0;R<L;R++)A[R]=arguments[R];if(A.length){A.length===1&&Array.isArray(A[0])&&(A=A[0]);var O=this.groups,N=this.gl,z=this.regl,F=this.maxSize,I=this.maxColors,j=this.palette;this.groups=O=A.map(function(V,W){var K=O[W];if(V===void 0)return K;V===null?V={positions:null}:typeof V=="function"?V={ondraw:V}:typeof V[0]=="number"&&(V={positions:V}),V=k(V,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),V.positions===null&&(V.positions=[]),V.tooManyColors!=null&&(g.tooManyColors=V.tooManyColors),K||(O[W]=K={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},V=b({},T.defaults,V)),V.positions&&!("marker"in V)&&(V.marker=K.marker,delete K.marker),V.marker&&!("positions"in V)&&(V.positions=K.positions,delete K.positions);var et=0,lt=0;if(a(K,V,[{snap:!0,size:function(_t,mt){return _t==null&&(_t=T.defaults.size),et+=_t&&_t.length?1:0,_t},borderSize:function(_t,mt){return _t==null&&(_t=T.defaults.borderSize),et+=_t&&_t.length?1:0,_t},opacity:parseFloat,color:function(_t,mt){return _t==null&&(_t=T.defaults.color),_t=g.updateColor(_t),lt++,_t},borderColor:function(_t,mt){return _t==null&&(_t=T.defaults.borderColor),_t=g.updateColor(_t),lt++,_t},bounds:function(_t,mt,Pt){return"range"in Pt||(Pt.range=null),_t},positions:function(_t,mt,Pt){var Rt=mt.snap,Ht=mt.positionBuffer,Dt=mt.positionFractBuffer,Xt=mt.selectionBuffer;if(_t.x||_t.y)return _t.x.length?mt.xAttr={buffer:z.buffer(_t.x),offset:0,stride:4,count:_t.x.length}:mt.xAttr={buffer:_t.x.buffer,offset:_t.x.offset*4||0,stride:(_t.x.stride||1)*4,count:_t.x.count},_t.y.length?mt.yAttr={buffer:z.buffer(_t.y),offset:0,stride:4,count:_t.y.length}:mt.yAttr={buffer:_t.y.buffer,offset:_t.y.offset*4||0,stride:(_t.y.stride||1)*4,count:_t.y.count},mt.count=Math.max(mt.xAttr.count,mt.yAttr.count),_t;_t=c(_t,"float64");var se=mt.count=Math.floor(_t.length/2),Yt=mt.bounds=se?l(_t,2):null;if(!Pt.range&&!mt.range&&(delete mt.range,Pt.range=Yt),!Pt.marker&&!mt.marker&&(delete mt.marker,Pt.marker=null),Rt&&(Rt===!0||se>Rt)?mt.tree=h(_t,{bounds:Yt}):Rt&&Rt.length&&(mt.tree=Rt),mt.tree){var ue={primitive:"points",usage:"static",data:mt.tree,type:"uint32"};mt.elements?mt.elements(ue):mt.elements=z.elements(ue)}var ie=w.float32(_t);Ht({data:ie,usage:"dynamic"});var fe=w.fract32(_t,ie);return Dt({data:fe,usage:"dynamic"}),Xt({data:new Uint8Array(se),type:"uint8",usage:"stream"}),_t}},{marker:function(_t,mt,Pt){var Rt=mt.activation;if(Rt.forEach(function(fe){return fe&&fe.destroy&&fe.destroy()}),Rt.length=0,!_t||typeof _t[0]=="number"){var Ht=g.addMarker(_t);Rt[Ht]=!0}else{for(var Dt=[],Xt=0,se=Math.min(_t.length,mt.count);Xt<se;Xt++){var Yt=g.addMarker(_t[Xt]);Dt[Yt]||(Dt[Yt]=new Uint8Array(mt.count)),Dt[Yt][Xt]=1}for(var ue=0;ue<Dt.length;ue++)if(Dt[ue]){var ie={data:Dt[ue],type:"uint8",usage:"static"};Rt[ue]?Rt[ue](ie):Rt[ue]=z.buffer(ie),Rt[ue].data=Dt[ue]}}return _t},range:function(_t,mt,Pt){var Rt=mt.bounds;if(Rt)return _t||(_t=Rt),mt.scale=[1/(_t[2]-_t[0]),1/(_t[3]-_t[1])],mt.translate=[-_t[0],-_t[1]],mt.scaleFract=w.fract(mt.scale),mt.translateFract=w.fract(mt.translate),_t},viewport:function(_t){var mt=S(_t||[N.drawingBufferWidth,N.drawingBufferHeight]);return mt}}]),et){var ot=K,q=ot.count,J=ot.size,it=ot.borderSize,Z=ot.sizeBuffer,tt=new Uint8Array(q*2);if(J.length||it.length)for(var st=0;st<q;st++)tt[st*2]=Math.round((J[st]==null?J:J[st])*255/F),tt[st*2+1]=Math.round((it[st]==null?it:it[st])*255/F);Z({data:tt,usage:"dynamic"})}if(lt){var Q=K,G=Q.count,ut=Q.color,at=Q.borderColor,dt=Q.colorBuffer,gt;if(g.tooManyColors){if(ut.length||at.length){gt=new Uint8Array(G*8);for(var wt=0;wt<G;wt++){var kt=ut[wt];gt[wt*8]=j[kt*4],gt[wt*8+1]=j[kt*4+1],gt[wt*8+2]=j[kt*4+2],gt[wt*8+3]=j[kt*4+3];var Ot=at[wt];gt[wt*8+4]=j[Ot*4],gt[wt*8+5]=j[Ot*4+1],gt[wt*8+6]=j[Ot*4+2],gt[wt*8+7]=j[Ot*4+3]}}}else if(ut.length||at.length){gt=new Uint8Array(G*4+2);for(var bt=0;bt<G;bt++)ut[bt]!=null&&(gt[bt*4]=ut[bt]%I,gt[bt*4+1]=Math.floor(ut[bt]/I)),at[bt]!=null&&(gt[bt*4+2]=at[bt]%I,gt[bt*4+3]=Math.floor(at[bt]/I))}dt({data:gt||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return K})}},T.prototype.addMarker=function(g){var L=this.markerTextures,A=this.regl,R=this.markerCache,O=g==null?0:R.indexOf(g);if(O>=0)return O;var N;if(g instanceof Uint8Array||g instanceof Uint8ClampedArray)N=g;else{N=new Uint8Array(g.length);for(var z=0,F=g.length;z<F;z++)N[z]=g[z]*255}var I=Math.floor(Math.sqrt(N.length));return O=L.length,R.push(g),L.push(A.texture({channels:1,data:N,radius:I,mag:"linear",min:"linear"})),O},T.prototype.updateColor=function(g){var L=this.paletteIds,A=this.palette,R=this.maxColors;Array.isArray(g)||(g=[g]);var O=[];if(typeof g[0]=="number"){var N=[];if(Array.isArray(g))for(var z=0;z<g.length;z+=4)N.push(g.slice(z,z+4));else for(var F=0;F<g.length;F+=4)N.push(g.subarray(F,F+4));g=N}for(var I=0;I<g.length;I++){var j=g[I];j=n(j,"uint8");var V=o(j,!1);if(L[V]==null){var W=A.length;L[V]=Math.floor(W/4),A[W]=j[0],A[W+1]=j[1],A[W+2]=j[2],A[W+3]=j[3]}O[I]=L[V]}return!this.tooManyColors&&A.length>R*4&&(this.tooManyColors=!0),this.updatePalette(A),O.length===1?O[0]:O},T.prototype.updatePalette=function(g){if(!this.tooManyColors){var L=this.maxColors,A=this.paletteTexture,R=Math.ceil(g.length*.25/L);if(R>1){g=g.slice();for(var O=g.length*.25%L;O<R*L;O++)g.push(0,0,0,0)}A.height<R&&A.resize(L,R),A.subimage({width:Math.min(g.length*.25,L),height:R,data:g},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(g){g.sizeBuffer.destroy(),g.positionBuffer.destroy(),g.positionFractBuffer.destroy(),g.colorBuffer.destroy(),g.activation.forEach(function(L){return L&&L.destroy&&L.destroy()}),g.selectionBuffer.destroy(),g.elements&&g.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(g){return g&&g.destroy&&g.destroy()}),this};var P=t(50896),u=function(g,L){var A=new _(g,L),R=A.render.bind(A);return P(R,{render:R,update:A.update.bind(A),draw:A.draw.bind(A),destroy:A.destroy.bind(A),regl:A.regl,gl:A.gl,canvas:A.gl.canvas,groups:A.groups,markers:A.markerCache,palette:A.palette}),R};X.exports=u},55795:function(X,B,t){var x=t(38540),E=t(55616),i=t(76752),M=t(3951),m=t(67752),d=t(51160),v=t(47520);X.exports=r;function r(l,o){if(!(this instanceof r))return new r(l);this.traces=[],this.passes={},this.regl=l,this.scatter=x(l),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var l=this,o,h=[],b=arguments.length;b--;)h[b]=arguments[b];return h.length&&(o=this).update.apply(o,h),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=M(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,M(function(){l.dirty=!1})),this)},r.prototype.update=function(){for(var l,o=[],h=arguments.length;h--;)o[h]=arguments[h];if(o.length){for(var b=0;b<o.length;b++)this.updateItem(b,o[b]);this.traces=this.traces.filter(Boolean);for(var f=[],k=0,a=0;a<this.traces.length;a++){for(var c=this.traces[a],p=this.traces[a].passes,w=0;w<p.length;w++)f.push(this.passes[p[w]]);c.passOffset=k,k+=c.passes.length}return(l=this.scatter).update.apply(l,f),this}},r.prototype.updateItem=function(l,o){var h=this,b=h.regl;if(o===null)return this.traces[l]=null,this;if(!o)return this;var f=E(o,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),k=this.traces[l]||(this.traces[l]={id:l,buffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:d([b._gl.drawingBufferWidth,b._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(f.color!=null&&(k.color=f.color),f.size!=null&&(k.size=f.size),f.marker!=null&&(k.marker=f.marker),f.borderColor!=null&&(k.borderColor=f.borderColor),f.borderSize!=null&&(k.borderSize=f.borderSize),f.opacity!=null&&(k.opacity=f.opacity),f.viewport&&(k.viewport=d(f.viewport)),f.diagonal!=null&&(k.diagonal=f.diagonal),f.upper!=null&&(k.upper=f.upper),f.lower!=null&&(k.lower=f.lower),f.data){k.buffer(v(f.data)),k.columns=f.data.length,k.count=f.data[0].length,k.bounds=[];for(var a=0;a<k.columns;a++)k.bounds[a]=i(f.data[a],1)}var c;f.range&&(k.range=f.range,c=k.range&&typeof k.range[0]!="number"),f.domain&&(k.domain=f.domain);var p=!1;f.padding!=null&&(Array.isArray(f.padding)&&f.padding.length===k.columns&&typeof f.padding[f.padding.length-1]=="number"?(k.padding=f.padding.map(n),p=!0):k.padding=n(f.padding));var w=k.columns,S=k.count,_=k.viewport.width,T=k.viewport.height,P=k.viewport.x,u=k.viewport.y,g=_/w,L=T/w;k.passes=[];for(var A=0;A<w;A++)for(var R=0;R<w;R++)if(!(!k.diagonal&&R===A)&&!(!k.upper&&A>R)&&!(!k.lower&&A<R)){var O=e(k.id,A,R),N=this.passes[O]||(this.passes[O]={});if(f.data&&(f.transpose?N.positions={x:{buffer:k.buffer,offset:R,count:S,stride:w},y:{buffer:k.buffer,offset:A,count:S,stride:w}}:N.positions={x:{buffer:k.buffer,offset:R*S,count:S},y:{buffer:k.buffer,offset:A*S,count:S}},N.bounds=s(k.bounds,A,R)),f.domain||f.viewport||f.data){var z=p?s(k.padding,A,R):k.padding;if(k.domain){var F=s(k.domain,A,R),I=F[0],j=F[1],V=F[2],W=F[3];N.viewport=[P+I*_+z[0],u+j*T+z[1],P+V*_-z[2],u+W*T-z[3]]}else N.viewport=[P+R*g+g*z[0],u+A*L+L*z[1],P+(R+1)*g-g*z[2],u+(A+1)*L-L*z[3]]}f.color&&(N.color=k.color),f.size&&(N.size=k.size),f.marker&&(N.marker=k.marker),f.borderSize&&(N.borderSize=k.borderSize),f.borderColor&&(N.borderColor=k.borderColor),f.opacity&&(N.opacity=k.opacity),f.range&&(N.range=c?s(k.range,A,R):k.range||N.bounds),k.passes.push(O)}return this},r.prototype.draw=function(){for(var l,o=[],h=arguments.length;h--;)o[h]=arguments[h];if(!o.length)this.scatter.draw();else{for(var b=[],f=0;f<o.length;f++)if(typeof o[f]=="number"){var k=this.traces[o[f]],a=k.passes,c=k.passOffset;b.push.apply(b,m(c,c+a.length))}else if(o[f].length){var p=o[f],w=this.traces[f],S=w.passes,_=w.passOffset;S=S.map(function(T,P){b[_+P]=p})}(l=this.scatter).draw.apply(l,b)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function e(l,o,h){var b=l.id!=null?l.id:l,f=o,k=h,a=b<<16|(f&255)<<8|k&255;return a}function s(l,o,h){var b,f,k,a,c=l[o],p=l[h];return c.length>2?(c[0],c[2],b=c[1],f=c[3]):c.length?(b=c[0],f=c[1]):(c.x,b=c.y,c.x+c.width,f=c.y+c.height),p.length>2?(k=p[0],a=p[2],p[1],p[3]):p.length?(k=p[0],a=p[1]):(k=p.x,p.y,a=p.x+p.width,p.y+p.height),[k,b,a,f]}function n(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var o=d(l);return[o.x,o.y,o.x+o.width,o.y+o.height]}},28624:function(X){(function(B,t){X.exports=t()})(this,function(){function B(xe,Xe){this.id=dt++,this.type=xe,this.data=Xe}function t(xe){if(xe.length===0)return[];var Xe=xe.charAt(0),Ye=xe.charAt(xe.length-1);if(1<xe.length&&Xe===Ye&&(Xe==='"'||Xe==="'"))return['"'+xe.substr(1,xe.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Xe=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(xe))return t(xe.substr(0,Xe.index)).concat(t(Xe[1])).concat(t(xe.substr(Xe.index+Xe[0].length)));if(Xe=xe.split("."),Xe.length===1)return['"'+xe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(xe=[],Ye=0;Ye<Xe.length;++Ye)xe=xe.concat(t(Xe[Ye]));return xe}function x(xe){return"["+t(xe).join("][")+"]"}function E(xe,Xe){if(typeof xe=="function")return new B(0,xe);if(typeof xe=="number"||typeof xe=="boolean")return new B(5,xe);if(Array.isArray(xe))return new B(6,xe.map(function(Ye,_r){return E(Ye)}));if(xe instanceof B)return xe}function i(){var xe={"":0},Xe=[""];return{id:function(Ye){var _r=xe[Ye];return _r||(_r=xe[Ye]=Xe.length,Xe.push(Ye),_r)},str:function(Ye){return Xe[Ye]}}}function M(xe,Xe,Ye){function _r(){var le=window.innerWidth,me=window.innerHeight;xe!==document.body&&(me=rr.getBoundingClientRect(),le=me.right-me.left,me=me.bottom-me.top),rr.width=Ye*le,rr.height=Ye*me}var rr=document.createElement("canvas");at(rr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),xe.appendChild(rr),xe===document.body&&(rr.style.position="absolute",at(xe.style,{margin:0,padding:0}));var re;return xe!==document.body&&typeof ResizeObserver=="function"?(re=new ResizeObserver(function(){setTimeout(_r)}),re.observe(xe)):window.addEventListener("resize",_r,!1),_r(),{canvas:rr,onDestroy:function(){re?re.disconnect():window.removeEventListener("resize",_r),xe.removeChild(rr)}}}function m(xe,Xe){function Ye(_r){try{return xe.getContext(_r,Xe)}catch{return null}}return Ye("webgl")||Ye("experimental-webgl")||Ye("webgl-experimental")}function d(xe){return typeof xe=="string"?xe.split():xe}function v(xe){return typeof xe=="string"?document.querySelector(xe):xe}function r(xe){var Xe=xe||{},Ye,_r,rr,re;xe={};var le=[],me=[],Ee=typeof window>"u"?1:window.devicePixelRatio,ze=!1,Oe={},Fe=function(Ke){},Re=function(){};if(typeof Xe=="string"?Ye=document.querySelector(Xe):typeof Xe=="object"&&(typeof Xe.nodeName=="string"&&typeof Xe.appendChild=="function"&&typeof Xe.getBoundingClientRect=="function"?Ye=Xe:typeof Xe.drawArrays=="function"||typeof Xe.drawElements=="function"?(re=Xe,rr=re.canvas):("gl"in Xe?re=Xe.gl:"canvas"in Xe?rr=v(Xe.canvas):"container"in Xe&&(_r=v(Xe.container)),"attributes"in Xe&&(xe=Xe.attributes),"extensions"in Xe&&(le=d(Xe.extensions)),"optionalExtensions"in Xe&&(me=d(Xe.optionalExtensions)),"onDone"in Xe&&(Fe=Xe.onDone),"profile"in Xe&&(ze=!!Xe.profile),"pixelRatio"in Xe&&(Ee=+Xe.pixelRatio),"cachedCode"in Xe&&(Oe=Xe.cachedCode))),Ye&&(Ye.nodeName.toLowerCase()==="canvas"?rr=Ye:_r=Ye),!re){if(!rr){if(Ye=M(_r||document.body,Fe,Ee),!Ye)return null;rr=Ye.canvas,Re=Ye.onDestroy}xe.premultipliedAlpha===void 0&&(xe.premultipliedAlpha=!0),re=m(rr,xe)}return re?{gl:re,canvas:rr,container:_r,extensions:le,optionalExtensions:me,pixelRatio:Ee,profile:ze,cachedCode:Oe,onDone:Fe,onDestroy:Re}:(Re(),Fe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function e(xe,Xe){function Ye(le){le=le.toLowerCase();var me;try{me=_r[le]=xe.getExtension(le)}catch{}return!!me}for(var _r={},rr=0;rr<Xe.extensions.length;++rr){var re=Xe.extensions[rr];if(!Ye(re))return Xe.onDestroy(),Xe.onDone('"'+re+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Xe.optionalExtensions.forEach(Ye),{extensions:_r,restore:function(){Object.keys(_r).forEach(function(le){if(_r[le]&&!Ye(le))throw Error("(regl): error restoring extension "+le)})}}}function s(xe,Xe){for(var Ye=Array(xe),_r=0;_r<xe;++_r)Ye[_r]=Xe(_r);return Ye}function n(xe){var Xe,Ye;return Xe=(65535<xe)<<4,xe>>>=Xe,Ye=(255<xe)<<3,xe>>>=Ye,Xe|=Ye,Ye=(15<xe)<<2,xe>>>=Ye,Xe|=Ye,Ye=(3<xe)<<1,Xe|Ye|xe>>>Ye>>1}function l(){function xe(_r){t:{for(var rr=16;268435456>=rr;rr*=16)if(_r<=rr){_r=rr;break t}_r=0}return rr=Ye[n(_r)>>2],0<rr.length?rr.pop():new ArrayBuffer(_r)}function Xe(_r){Ye[n(_r.byteLength)>>2].push(_r)}var Ye=s(8,function(){return[]});return{alloc:xe,free:Xe,allocType:function(_r,rr){var re=null;switch(_r){case 5120:re=new Int8Array(xe(rr),0,rr);break;case 5121:re=new Uint8Array(xe(rr),0,rr);break;case 5122:re=new Int16Array(xe(2*rr),0,rr);break;case 5123:re=new Uint16Array(xe(2*rr),0,rr);break;case 5124:re=new Int32Array(xe(4*rr),0,rr);break;case 5125:re=new Uint32Array(xe(4*rr),0,rr);break;case 5126:re=new Float32Array(xe(4*rr),0,rr);break;default:return null}return re.length!==rr?re.subarray(0,rr):re},freeType:function(_r){Xe(_r.buffer)}}}function o(xe){return!!xe&&typeof xe=="object"&&Array.isArray(xe.shape)&&Array.isArray(xe.stride)&&typeof xe.offset=="number"&&xe.shape.length===xe.stride.length&&(Array.isArray(xe.data)||_t(xe.data))}function h(xe,Xe,Ye,_r,rr,re){for(var le=0;le<Xe;++le)for(var me=xe[le],Ee=0;Ee<Ye;++Ee)for(var ze=me[Ee],Oe=0;Oe<_r;++Oe)rr[re++]=ze[Oe]}function b(xe,Xe,Ye,_r,rr){for(var re=1,le=Ye+1;le<Xe.length;++le)re*=Xe[le];var me=Xe[Ye];if(Xe.length-Ye===4){var Ee=Xe[Ye+1],ze=Xe[Ye+2];for(Xe=Xe[Ye+3],le=0;le<me;++le)h(xe[le],Ee,ze,Xe,_r,rr),rr+=re}else for(le=0;le<me;++le)b(xe[le],Xe,Ye+1,_r,rr),rr+=re}function f(xe){return Rt[Object.prototype.toString.call(xe)]|0}function k(xe,Xe){for(var Ye=0;Ye<Xe.length;++Ye)xe[Ye]=Xe[Ye]}function a(xe,Xe,Ye,_r,rr,re,le){for(var me=0,Ee=0;Ee<Ye;++Ee)for(var ze=0;ze<_r;++ze)xe[me++]=Xe[rr*Ee+re*ze+le]}function c(xe,Xe,Ye,_r){function rr(Fe){this.id=Ee++,this.buffer=xe.createBuffer(),this.type=Fe,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Ye.profile&&(this.stats={size:0})}function re(Fe,Re,Ke){Fe.byteLength=Re.byteLength,xe.bufferData(Fe.type,Re,Ke)}function le(Fe,Re,Ke,or,pr,hr){if(Fe.usage=Ke,Array.isArray(Re)){if(Fe.dtype=or||5126,0<Re.length)if(Array.isArray(Re[0])){pr=se(Re);for(var jt=or=1;jt<pr.length;++jt)or*=pr[jt];Fe.dimension=or,Re=Xt(Re,pr,Fe.dtype),re(Fe,Re,Ke),hr?Fe.persistentData=Re:Ot.freeType(Re)}else typeof Re[0]=="number"?(Fe.dimension=pr,pr=Ot.allocType(Fe.dtype,Re.length),k(pr,Re),re(Fe,pr,Ke),hr?Fe.persistentData=pr:Ot.freeType(pr)):_t(Re[0])&&(Fe.dimension=Re[0].length,Fe.dtype=or||f(Re[0])||5126,Re=Xt(Re,[Re.length,Re[0].length],Fe.dtype),re(Fe,Re,Ke),hr?Fe.persistentData=Re:Ot.freeType(Re))}else if(_t(Re))Fe.dtype=or||f(Re),Fe.dimension=pr,re(Fe,Re,Ke),hr&&(Fe.persistentData=new Uint8Array(new Uint8Array(Re.buffer)));else if(o(Re)){pr=Re.shape;var Gt=Re.stride,jt=Re.offset,Ce=0,Ie=0,We=0,$e=0;pr.length===1?(Ce=pr[0],Ie=1,We=Gt[0],$e=0):pr.length===2&&(Ce=pr[0],Ie=pr[1],We=Gt[0],$e=Gt[1]),Fe.dtype=or||f(Re.data)||5126,Fe.dimension=Ie,pr=Ot.allocType(Fe.dtype,Ce*Ie),a(pr,Re.data,Ce,Ie,We,$e,jt),re(Fe,pr,Ke),hr?Fe.persistentData=pr:Ot.freeType(pr)}else Re instanceof ArrayBuffer&&(Fe.dtype=5121,Fe.dimension=pr,re(Fe,Re,Ke),hr&&(Fe.persistentData=new Uint8Array(new Uint8Array(Re))))}function me(Fe){Xe.bufferCount--,_r(Fe),xe.deleteBuffer(Fe.buffer),Fe.buffer=null,delete ze[Fe.id]}var Ee=0,ze={};rr.prototype.bind=function(){xe.bindBuffer(this.type,this.buffer)},rr.prototype.destroy=function(){me(this)};var Oe=[];return Ye.profile&&(Xe.getTotalBufferSize=function(){var Fe=0;return Object.keys(ze).forEach(function(Re){Fe+=ze[Re].stats.size}),Fe}),{create:function(Fe,Re,Ke,or){function pr(jt){var Gt=35044,Ce=null,Ie=0,We=0,$e=1;return Array.isArray(jt)||_t(jt)||o(jt)||jt instanceof ArrayBuffer?Ce=jt:typeof jt=="number"?Ie=jt|0:jt&&("data"in jt&&(Ce=jt.data),"usage"in jt&&(Gt=Dt[jt.usage]),"type"in jt&&(We=Ht[jt.type]),"dimension"in jt&&($e=jt.dimension|0),"length"in jt&&(Ie=jt.length|0)),hr.bind(),Ce?le(hr,Ce,Gt,We,$e,or):(Ie&&xe.bufferData(hr.type,Ie,Gt),hr.dtype=We||5121,hr.usage=Gt,hr.dimension=$e,hr.byteLength=Ie),Ye.profile&&(hr.stats.size=hr.byteLength*Yt[hr.dtype]),pr}Xe.bufferCount++;var hr=new rr(Re);return ze[hr.id]=hr,Ke||pr(Fe),pr._reglType="buffer",pr._buffer=hr,pr.subdata=function(jt,Gt){var Ce=(Gt||0)|0,Ie;if(hr.bind(),_t(jt)||jt instanceof ArrayBuffer)xe.bufferSubData(hr.type,Ce,jt);else if(Array.isArray(jt)){if(0<jt.length)if(typeof jt[0]=="number"){var We=Ot.allocType(hr.dtype,jt.length);k(We,jt),xe.bufferSubData(hr.type,Ce,We),Ot.freeType(We)}else(Array.isArray(jt[0])||_t(jt[0]))&&(Ie=se(jt),We=Xt(jt,Ie,hr.dtype),xe.bufferSubData(hr.type,Ce,We),Ot.freeType(We))}else if(o(jt)){Ie=jt.shape;var $e=jt.stride,ir=We=0,er=0,De=0;Ie.length===1?(We=Ie[0],ir=1,er=$e[0],De=0):Ie.length===2&&(We=Ie[0],ir=Ie[1],er=$e[0],De=$e[1]),Ie=Array.isArray(jt.data)?hr.dtype:f(jt.data),Ie=Ot.allocType(Ie,We*ir),a(Ie,jt.data,We,ir,er,De,jt.offset),xe.bufferSubData(hr.type,Ce,Ie),Ot.freeType(Ie)}return pr},Ye.profile&&(pr.stats=hr.stats),pr.destroy=function(){me(hr)},pr},createStream:function(Fe,Re){var Ke=Oe.pop();return Ke||(Ke=new rr(Fe)),Ke.bind(),le(Ke,Re,35040,0,1,!1),Ke},destroyStream:function(Fe){Oe.push(Fe)},clear:function(){mt(ze).forEach(me),Oe.forEach(me)},getBuffer:function(Fe){return Fe&&Fe._buffer instanceof rr?Fe._buffer:null},restore:function(){mt(ze).forEach(function(Fe){Fe.buffer=xe.createBuffer(),xe.bindBuffer(Fe.type,Fe.buffer),xe.bufferData(Fe.type,Fe.persistentData||Fe.byteLength,Fe.usage)})},_initBuffer:le}}function p(xe,Xe,Ye,_r){function rr(Fe){this.id=Ee++,me[this.id]=this,this.buffer=Fe,this.primType=4,this.type=this.vertCount=0}function re(Fe,Re,Ke,or,pr,hr,jt){Fe.buffer.bind();var Gt;if(Re?((Gt=jt)||_t(Re)&&(!o(Re)||_t(Re.data))||(Gt=Xe.oes_element_index_uint?5125:5123),Ye._initBuffer(Fe.buffer,Re,Ke,Gt,3)):(xe.bufferData(34963,hr,Ke),Fe.buffer.dtype=Gt||5121,Fe.buffer.usage=Ke,Fe.buffer.dimension=3,Fe.buffer.byteLength=hr),Gt=jt,!jt){switch(Fe.buffer.dtype){case 5121:case 5120:Gt=5121;break;case 5123:case 5122:Gt=5123;break;case 5125:case 5124:Gt=5125}Fe.buffer.dtype=Gt}Fe.type=Gt,Re=pr,0>Re&&(Re=Fe.buffer.byteLength,Gt===5123?Re>>=1:Gt===5125&&(Re>>=2)),Fe.vertCount=Re,Re=or,0>or&&(Re=4,or=Fe.buffer.dimension,or===1&&(Re=0),or===2&&(Re=1),or===3&&(Re=4)),Fe.primType=Re}function le(Fe){_r.elementsCount--,delete me[Fe.id],Fe.buffer.destroy(),Fe.buffer=null}var me={},Ee=0,ze={uint8:5121,uint16:5123};Xe.oes_element_index_uint&&(ze.uint32=5125),rr.prototype.bind=function(){this.buffer.bind()};var Oe=[];return{create:function(Fe,Re){function Ke(hr){if(hr)if(typeof hr=="number")or(hr),pr.primType=4,pr.vertCount=hr|0,pr.type=5121;else{var jt=null,Gt=35044,Ce=-1,Ie=-1,We=0,$e=0;Array.isArray(hr)||_t(hr)||o(hr)?jt=hr:("data"in hr&&(jt=hr.data),"usage"in hr&&(Gt=Dt[hr.usage]),"primitive"in hr&&(Ce=ue[hr.primitive]),"count"in hr&&(Ie=hr.count|0),"type"in hr&&($e=ze[hr.type]),"length"in hr?We=hr.length|0:(We=Ie,$e===5123||$e===5122?We*=2:($e===5125||$e===5124)&&(We*=4))),re(pr,jt,Gt,Ce,Ie,We,$e)}else or(),pr.primType=4,pr.vertCount=0,pr.type=5121;return Ke}var or=Ye.create(null,34963,!0),pr=new rr(or._buffer);return _r.elementsCount++,Ke(Fe),Ke._reglType="elements",Ke._elements=pr,Ke.subdata=function(hr,jt){return or.subdata(hr,jt),Ke},Ke.destroy=function(){le(pr)},Ke},createStream:function(Fe){var Re=Oe.pop();return Re||(Re=new rr(Ye.create(null,34963,!0,!1)._buffer)),re(Re,Fe,35040,-1,-1,0,0),Re},destroyStream:function(Fe){Oe.push(Fe)},getElements:function(Fe){return typeof Fe=="function"&&Fe._elements instanceof rr?Fe._elements:null},clear:function(){mt(me).forEach(le)}}}function w(xe){for(var Xe=Ot.allocType(5123,xe.length),Ye=0;Ye<xe.length;++Ye)if(isNaN(xe[Ye]))Xe[Ye]=65535;else if(xe[Ye]===1/0)Xe[Ye]=31744;else if(xe[Ye]===-1/0)Xe[Ye]=64512;else{ie[0]=xe[Ye];var re=fe[0],_r=re>>>31<<15,rr=(re<<1>>>24)-127,re=re>>13&1023;Xe[Ye]=-24>rr?_r:-14>rr?_r+(re+1024>>-14-rr):15<rr?_r+31744:_r+(rr+15<<10)+re}return Xe}function S(xe){return Array.isArray(xe)||_t(xe)}function _(xe){return"[object "+xe+"]"}function T(xe){return Array.isArray(xe)&&(xe.length===0||typeof xe[0]=="number")}function P(xe){return!!(Array.isArray(xe)&&xe.length!==0&&S(xe[0]))}function u(xe){return Object.prototype.toString.call(xe)}function g(xe){if(!xe)return!1;var Xe=u(xe);return 0<=It.indexOf(Xe)?!0:T(xe)||P(xe)||o(xe)}function L(xe,Xe){xe.type===36193?(xe.data=w(Xe),Ot.freeType(Xe)):xe.data=Xe}function A(xe,Xe,Ye,_r,rr,re){if(xe=typeof xt[xe]<"u"?xt[xe]:de[xe]*pt[Xe],re&&(xe*=6),rr){for(_r=0;1<=Ye;)_r+=xe*Ye*Ye,Ye/=2;return _r}return xe*Ye*_r}function R(xe,Xe,Ye,_r,rr,re,le){function me(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ee(yr,en){yr.internalformat=en.internalformat,yr.format=en.format,yr.type=en.type,yr.compressed=en.compressed,yr.premultiplyAlpha=en.premultiplyAlpha,yr.flipY=en.flipY,yr.unpackAlignment=en.unpackAlignment,yr.colorSpace=en.colorSpace,yr.width=en.width,yr.height=en.height,yr.channels=en.channels}function ze(yr,en){if(typeof en=="object"&&en){"premultiplyAlpha"in en&&(yr.premultiplyAlpha=en.premultiplyAlpha),"flipY"in en&&(yr.flipY=en.flipY),"alignment"in en&&(yr.unpackAlignment=en.alignment),"colorSpace"in en&&(yr.colorSpace=sn[en.colorSpace]),"type"in en&&(yr.type=nn[en.type]);var Jr=yr.width,vn=yr.height,Vn=yr.channels,bn=!1;"shape"in en?(Jr=en.shape[0],vn=en.shape[1],en.shape.length===3&&(Vn=en.shape[2],bn=!0)):("radius"in en&&(Jr=vn=en.radius),"width"in en&&(Jr=en.width),"height"in en&&(vn=en.height),"channels"in en&&(Vn=en.channels,bn=!0)),yr.width=Jr|0,yr.height=vn|0,yr.channels=Vn|0,Jr=!1,"format"in en&&(Jr=en.format,vn=yr.internalformat=kn[Jr],yr.format=zn[vn],Jr in nn&&!("type"in en)&&(yr.type=nn[Jr]),Jr in Mn&&(yr.compressed=!0),Jr=!0),!bn&&Jr?yr.channels=de[yr.format]:bn&&!Jr&&yr.channels!==ye[yr.format]&&(yr.format=yr.internalformat=ye[yr.channels])}}function Oe(yr){xe.pixelStorei(37440,yr.flipY),xe.pixelStorei(37441,yr.premultiplyAlpha),xe.pixelStorei(37443,yr.colorSpace),xe.pixelStorei(3317,yr.unpackAlignment)}function Fe(){me.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Re(yr,en){var Jr=null;if(g(en)?Jr=en:en&&(ze(yr,en),"x"in en&&(yr.xOffset=en.x|0),"y"in en&&(yr.yOffset=en.y|0),g(en.data)&&(Jr=en.data)),en.copy){var vn=rr.viewportWidth,Vn=rr.viewportHeight;yr.width=yr.width||vn-yr.xOffset,yr.height=yr.height||Vn-yr.yOffset,yr.needsCopy=!0}else if(!Jr)yr.width=yr.width||1,yr.height=yr.height||1,yr.channels=yr.channels||4;else if(_t(Jr))yr.channels=yr.channels||4,yr.data=Jr,"type"in en||yr.type!==5121||(yr.type=Rt[Object.prototype.toString.call(Jr)]|0);else if(T(Jr)){switch(yr.channels=yr.channels||4,vn=Jr,Vn=vn.length,yr.type){case 5121:case 5123:case 5125:case 5126:Vn=Ot.allocType(yr.type,Vn),Vn.set(vn),yr.data=Vn;break;case 36193:yr.data=w(vn)}yr.alignment=1,yr.needsFree=!0}else if(o(Jr)){vn=Jr.data,Array.isArray(vn)||yr.type!==5121||(yr.type=Rt[Object.prototype.toString.call(vn)]|0);var Vn=Jr.shape,bn=Jr.stride,In,Bn,Kn,pi;Vn.length===3?(Kn=Vn[2],pi=bn[2]):pi=Kn=1,In=Vn[0],Bn=Vn[1],Vn=bn[0],bn=bn[1],yr.alignment=1,yr.width=In,yr.height=Bn,yr.channels=Kn,yr.format=yr.internalformat=ye[Kn],yr.needsFree=!0,In=pi,Jr=Jr.offset,Kn=yr.width,pi=yr.height,Bn=yr.channels;for(var Ni=Ot.allocType(yr.type===36193?5126:yr.type,Kn*pi*Bn),Tr=0,Rr=0;Rr<pi;++Rr)for(var br=0;br<Kn;++br)for(var Br=0;Br<Bn;++Br)Ni[Tr++]=vn[Vn*br+bn*Rr+In*Br+Jr];L(yr,Ni)}else if(u(Jr)===Te||u(Jr)===Et||u(Jr)===Vt)u(Jr)===Te||u(Jr)===Et?yr.element=Jr:yr.element=Jr.canvas,yr.width=yr.element.width,yr.height=yr.element.height,yr.channels=4;else if(u(Jr)===te)yr.element=Jr,yr.width=Jr.width,yr.height=Jr.height,yr.channels=4;else if(u(Jr)===Jt)yr.element=Jr,yr.width=Jr.naturalWidth,yr.height=Jr.naturalHeight,yr.channels=4;else if(u(Jr)===Ut)yr.element=Jr,yr.width=Jr.videoWidth,yr.height=Jr.videoHeight,yr.channels=4;else if(P(Jr)){for(vn=yr.width||Jr[0].length,Vn=yr.height||Jr.length,bn=yr.channels,bn=S(Jr[0][0])?bn||Jr[0][0].length:bn||1,In=Pt.shape(Jr),Kn=1,pi=0;pi<In.length;++pi)Kn*=In[pi];Kn=Ot.allocType(yr.type===36193?5126:yr.type,Kn),Pt.flatten(Jr,In,"",Kn),L(yr,Kn),yr.alignment=1,yr.width=vn,yr.height=Vn,yr.channels=bn,yr.format=yr.internalformat=ye[bn],yr.needsFree=!0}}function Ke(yr,en,Jr,vn,Vn){var bn=yr.element,In=yr.data,Bn=yr.internalformat,Kn=yr.format,pi=yr.type,Ni=yr.width,Tr=yr.height;Oe(yr),bn?xe.texSubImage2D(en,Vn,Jr,vn,Kn,pi,bn):yr.compressed?xe.compressedTexSubImage2D(en,Vn,Jr,vn,Bn,Ni,Tr,In):yr.needsCopy?(_r(),xe.copyTexSubImage2D(en,Vn,Jr,vn,yr.xOffset,yr.yOffset,Ni,Tr)):xe.texSubImage2D(en,Vn,Jr,vn,Ni,Tr,Kn,pi,In)}function or(){return Rn.pop()||new Fe}function pr(yr){yr.needsFree&&Ot.freeType(yr.data),Fe.call(yr),Rn.push(yr)}function hr(){me.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function jt(yr,en,Jr){var vn=yr.images[0]=or();yr.mipmask=1,vn.width=yr.width=en,vn.height=yr.height=Jr,vn.channels=yr.channels=4}function Gt(yr,en){var Jr=null;if(g(en))Jr=yr.images[0]=or(),Ee(Jr,yr),Re(Jr,en),yr.mipmask=1;else if(ze(yr,en),Array.isArray(en.mipmap))for(var vn=en.mipmap,Vn=0;Vn<vn.length;++Vn)Jr=yr.images[Vn]=or(),Ee(Jr,yr),Jr.width>>=Vn,Jr.height>>=Vn,Re(Jr,vn[Vn]),yr.mipmask|=1<<Vn;else Jr=yr.images[0]=or(),Ee(Jr,yr),Re(Jr,en),yr.mipmask=1;Ee(yr,yr.images[0])}function Ce(yr,en){for(var Jr=yr.images,vn=0;vn<Jr.length&&Jr[vn];++vn){var Vn=Jr[vn],bn=en,In=vn,Bn=Vn.element,Kn=Vn.data,pi=Vn.internalformat,Ni=Vn.format,Tr=Vn.type,Rr=Vn.width,br=Vn.height;Oe(Vn),Bn?xe.texImage2D(bn,In,Ni,Ni,Tr,Bn):Vn.compressed?xe.compressedTexImage2D(bn,In,pi,Rr,br,0,Kn):Vn.needsCopy?(_r(),xe.copyTexImage2D(bn,In,Ni,Vn.xOffset,Vn.yOffset,Rr,br,0)):xe.texImage2D(bn,In,Ni,Rr,br,0,Ni,Tr,Kn||null)}}function Ie(){var yr=ai.pop()||new hr;me.call(yr);for(var en=yr.mipmask=0;16>en;++en)yr.images[en]=null;return yr}function We(yr){for(var en=yr.images,Jr=0;Jr<en.length;++Jr)en[Jr]&&pr(en[Jr]),en[Jr]=null;ai.push(yr)}function $e(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ir(yr,en){"min"in en&&(yr.minFilter=Ir[en.min],0<=ce.indexOf(yr.minFilter)&&!("faces"in en)&&(yr.genMipmaps=!0)),"mag"in en&&(yr.magFilter=Or[en.mag]);var Jr=yr.wrapS,vn=yr.wrapT;if("wrap"in en){var Vn=en.wrap;typeof Vn=="string"?Jr=vn=zr[Vn]:Array.isArray(Vn)&&(Jr=zr[Vn[0]],vn=zr[Vn[1]])}else"wrapS"in en&&(Jr=zr[en.wrapS]),"wrapT"in en&&(vn=zr[en.wrapT]);if(yr.wrapS=Jr,yr.wrapT=vn,"anisotropic"in en&&(yr.anisotropic=en.anisotropic),"mipmap"in en){switch(Jr=!1,typeof en.mipmap){case"string":yr.mipmapHint=fr[en.mipmap],Jr=yr.genMipmaps=!0;break;case"boolean":Jr=yr.genMipmaps=en.mipmap;break;case"object":yr.genMipmaps=!1,Jr=!0}!Jr||"min"in en||(yr.minFilter=9984)}}function er(yr,en){xe.texParameteri(en,10241,yr.minFilter),xe.texParameteri(en,10240,yr.magFilter),xe.texParameteri(en,10242,yr.wrapS),xe.texParameteri(en,10243,yr.wrapT),Xe.ext_texture_filter_anisotropic&&xe.texParameteri(en,34046,yr.anisotropic),yr.genMipmaps&&(xe.hint(33170,yr.mipmapHint),xe.generateMipmap(en))}function De(yr){me.call(this),this.mipmask=0,this.internalformat=6408,this.id=fi++,this.refCount=1,this.target=yr,this.texture=xe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new $e,le.profile&&(this.stats={size:0})}function lr(yr){xe.activeTexture(33984),xe.bindTexture(yr.target,yr.texture)}function vr(){var yr=ri[0];yr?xe.bindTexture(yr.target,yr.texture):xe.bindTexture(3553,null)}function dr(yr){var en=yr.texture,Jr=yr.unit,vn=yr.target;0<=Jr&&(xe.activeTexture(33984+Jr),xe.bindTexture(vn,null),ri[Jr]=null),xe.deleteTexture(en),yr.texture=null,yr.params=null,yr.pixels=null,yr.refCount=0,delete mi[yr.id],re.textureCount--}var fr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},zr={repeat:10497,clamp:33071,mirror:33648},Or={nearest:9728,linear:9729},Ir=at({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Or),sn={none:0,browser:37444},nn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},kn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Mn={};Xe.ext_srgb&&(kn.srgb=35904,kn.srgba=35906),Xe.oes_texture_float&&(nn.float32=nn.float=5126),Xe.oes_texture_half_float&&(nn.float16=nn["half float"]=36193),Xe.webgl_depth_texture&&(at(kn,{depth:6402,"depth stencil":34041}),at(nn,{uint16:5123,uint32:5125,"depth stencil":34042})),Xe.webgl_compressed_texture_s3tc&&at(Mn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Xe.webgl_compressed_texture_atc&&at(Mn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Xe.webgl_compressed_texture_pvrtc&&at(Mn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Xe.webgl_compressed_texture_etc1&&(Mn["rgb etc1"]=36196);var kr=Array.prototype.slice.call(xe.getParameter(34467));Object.keys(Mn).forEach(function(yr){var en=Mn[yr];0<=kr.indexOf(en)&&(kn[yr]=en)});var Er=Object.keys(kn);Ye.textureFormats=Er;var Vr=[];Object.keys(kn).forEach(function(yr){Vr[kn[yr]]=yr});var qr=[];Object.keys(nn).forEach(function(yr){qr[nn[yr]]=yr});var rn=[];Object.keys(Or).forEach(function(yr){rn[Or[yr]]=yr});var gn=[];Object.keys(Ir).forEach(function(yr){gn[Ir[yr]]=yr});var ln=[];Object.keys(zr).forEach(function(yr){ln[zr[yr]]=yr});var zn=Er.reduce(function(yr,en){var Jr=kn[en];return Jr===6409||Jr===6406||Jr===6409||Jr===6410||Jr===6402||Jr===34041||Xe.ext_srgb&&(Jr===35904||Jr===35906)?yr[Jr]=Jr:Jr===32855||0<=en.indexOf("rgba")?yr[Jr]=6408:yr[Jr]=6407,yr},{}),Rn=[],ai=[],fi=0,mi={},li=Ye.maxTextureUnits,ri=Array(li).map(function(){return null});return at(De.prototype,{bind:function(){this.bindCount+=1;var yr=this.unit;if(0>yr){for(var en=0;en<li;++en){var Jr=ri[en];if(Jr){if(0<Jr.bindCount)continue;Jr.unit=-1}ri[en]=this,yr=en;break}le.profile&&re.maxTextureUnits<yr+1&&(re.maxTextureUnits=yr+1),this.unit=yr,xe.activeTexture(33984+yr),xe.bindTexture(this.target,this.texture)}return yr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&dr(this)}}),le.profile&&(re.getTotalTextureSize=function(){var yr=0;return Object.keys(mi).forEach(function(en){yr+=mi[en].stats.size}),yr}),{create2D:function(yr,en){function Jr(Vn,bn){var In=vn.texInfo;$e.call(In);var Bn=Ie();return typeof Vn=="number"?typeof bn=="number"?jt(Bn,Vn|0,bn|0):jt(Bn,Vn|0,Vn|0):Vn?(ir(In,Vn),Gt(Bn,Vn)):jt(Bn,1,1),In.genMipmaps&&(Bn.mipmask=(Bn.width<<1)-1),vn.mipmask=Bn.mipmask,Ee(vn,Bn),vn.internalformat=Bn.internalformat,Jr.width=Bn.width,Jr.height=Bn.height,lr(vn),Ce(Bn,3553),er(In,3553),vr(),We(Bn),le.profile&&(vn.stats.size=A(vn.internalformat,vn.type,Bn.width,Bn.height,In.genMipmaps,!1)),Jr.format=Vr[vn.internalformat],Jr.type=qr[vn.type],Jr.mag=rn[In.magFilter],Jr.min=gn[In.minFilter],Jr.wrapS=ln[In.wrapS],Jr.wrapT=ln[In.wrapT],Jr}var vn=new De(3553);return mi[vn.id]=vn,re.textureCount++,Jr(yr,en),Jr.subimage=function(Vn,bn,In,Bn){bn|=0,In|=0,Bn|=0;var Kn=or();return Ee(Kn,vn),Kn.width=0,Kn.height=0,Re(Kn,Vn),Kn.width=Kn.width||(vn.width>>Bn)-bn,Kn.height=Kn.height||(vn.height>>Bn)-In,lr(vn),Ke(Kn,3553,bn,In,Bn),vr(),pr(Kn),Jr},Jr.resize=function(Vn,bn){var In=Vn|0,Bn=bn|0||In;if(In===vn.width&&Bn===vn.height)return Jr;Jr.width=vn.width=In,Jr.height=vn.height=Bn,lr(vn);for(var Kn=0;vn.mipmask>>Kn;++Kn){var pi=In>>Kn,Ni=Bn>>Kn;if(!pi||!Ni)break;xe.texImage2D(3553,Kn,vn.format,pi,Ni,0,vn.format,vn.type,null)}return vr(),le.profile&&(vn.stats.size=A(vn.internalformat,vn.type,In,Bn,!1,!1)),Jr},Jr._reglType="texture2d",Jr._texture=vn,le.profile&&(Jr.stats=vn.stats),Jr.destroy=function(){vn.decRef()},Jr},createCube:function(yr,en,Jr,vn,Vn,bn){function In(pi,Ni,Tr,Rr,br,Br){var _n,Pn=Bn.texInfo;for($e.call(Pn),_n=0;6>_n;++_n)Kn[_n]=Ie();if(typeof pi=="number"||!pi)for(pi=pi|0||1,_n=0;6>_n;++_n)jt(Kn[_n],pi,pi);else if(typeof pi=="object")if(Ni)Gt(Kn[0],pi),Gt(Kn[1],Ni),Gt(Kn[2],Tr),Gt(Kn[3],Rr),Gt(Kn[4],br),Gt(Kn[5],Br);else if(ir(Pn,pi),ze(Bn,pi),"faces"in pi)for(pi=pi.faces,_n=0;6>_n;++_n)Ee(Kn[_n],Bn),Gt(Kn[_n],pi[_n]);else for(_n=0;6>_n;++_n)Gt(Kn[_n],pi);for(Ee(Bn,Kn[0]),Bn.mipmask=Pn.genMipmaps?(Kn[0].width<<1)-1:Kn[0].mipmask,Bn.internalformat=Kn[0].internalformat,In.width=Kn[0].width,In.height=Kn[0].height,lr(Bn),_n=0;6>_n;++_n)Ce(Kn[_n],34069+_n);for(er(Pn,34067),vr(),le.profile&&(Bn.stats.size=A(Bn.internalformat,Bn.type,In.width,In.height,Pn.genMipmaps,!0)),In.format=Vr[Bn.internalformat],In.type=qr[Bn.type],In.mag=rn[Pn.magFilter],In.min=gn[Pn.minFilter],In.wrapS=ln[Pn.wrapS],In.wrapT=ln[Pn.wrapT],_n=0;6>_n;++_n)We(Kn[_n]);return In}var Bn=new De(34067);mi[Bn.id]=Bn,re.cubeCount++;var Kn=Array(6);return In(yr,en,Jr,vn,Vn,bn),In.subimage=function(pi,Ni,Tr,Rr,br){Tr|=0,Rr|=0,br|=0;var Br=or();return Ee(Br,Bn),Br.width=0,Br.height=0,Re(Br,Ni),Br.width=Br.width||(Bn.width>>br)-Tr,Br.height=Br.height||(Bn.height>>br)-Rr,lr(Bn),Ke(Br,34069+pi,Tr,Rr,br),vr(),pr(Br),In},In.resize=function(pi){if(pi|=0,pi!==Bn.width){In.width=Bn.width=pi,In.height=Bn.height=pi,lr(Bn);for(var Ni=0;6>Ni;++Ni)for(var Tr=0;Bn.mipmask>>Tr;++Tr)xe.texImage2D(34069+Ni,Tr,Bn.format,pi>>Tr,pi>>Tr,0,Bn.format,Bn.type,null);return vr(),le.profile&&(Bn.stats.size=A(Bn.internalformat,Bn.type,In.width,In.height,!1,!0)),In}},In._reglType="textureCube",In._texture=Bn,le.profile&&(In.stats=Bn.stats),In.destroy=function(){Bn.decRef()},In},clear:function(){for(var yr=0;yr<li;++yr)xe.activeTexture(33984+yr),xe.bindTexture(3553,null),ri[yr]=null;mt(mi).forEach(dr),re.cubeCount=0,re.textureCount=0},getTexture:function(yr){return null},restore:function(){for(var yr=0;yr<li;++yr){var en=ri[yr];en&&(en.bindCount=0,en.unit=-1,ri[yr]=null)}mt(mi).forEach(function(Jr){Jr.texture=xe.createTexture(),xe.bindTexture(Jr.target,Jr.texture);for(var vn=0;32>vn;++vn)if(Jr.mipmask&1<<vn)if(Jr.target===3553)xe.texImage2D(3553,vn,Jr.internalformat,Jr.width>>vn,Jr.height>>vn,0,Jr.internalformat,Jr.type,null);else for(var Vn=0;6>Vn;++Vn)xe.texImage2D(34069+Vn,vn,Jr.internalformat,Jr.width>>vn,Jr.height>>vn,0,Jr.internalformat,Jr.type,null);er(Jr.texInfo,Jr.target)})},refresh:function(){for(var yr=0;yr<li;++yr){var en=ri[yr];en&&(en.bindCount=0,en.unit=-1,ri[yr]=null),xe.activeTexture(33984+yr),xe.bindTexture(3553,null),xe.bindTexture(34067,null)}}}}function O(xe,Xe,Ye,_r,rr,re){function le(De,lr,vr){this.target=De,this.texture=lr,this.renderbuffer=vr;var dr=De=0;lr?(De=lr.width,dr=lr.height):vr&&(De=vr.width,dr=vr.height),this.width=De,this.height=dr}function me(De){De&&(De.texture&&De.texture._texture.decRef(),De.renderbuffer&&De.renderbuffer._renderbuffer.decRef())}function Ee(De,lr,vr){De&&(De.texture?De.texture._texture.refCount+=1:De.renderbuffer._renderbuffer.refCount+=1)}function ze(De,lr){lr&&(lr.texture?xe.framebufferTexture2D(36160,De,lr.target,lr.texture._texture.texture,0):xe.framebufferRenderbuffer(36160,De,36161,lr.renderbuffer._renderbuffer.renderbuffer))}function Oe(De){var lr=3553,vr=null,dr=null,fr=De;return typeof De=="object"&&(fr=De.data,"target"in De&&(lr=De.target|0)),De=fr._reglType,De==="texture2d"||De==="textureCube"?vr=fr:De==="renderbuffer"&&(dr=fr,lr=36161),new le(lr,vr,dr)}function Fe(De,lr,vr,dr,fr){return vr?(De=_r.create2D({width:De,height:lr,format:dr,type:fr}),De._texture.refCount=0,new le(3553,De,null)):(De=rr.create({width:De,height:lr,format:dr}),De._renderbuffer.refCount=0,new le(36161,null,De))}function Re(De){return De&&(De.texture||De.renderbuffer)}function Ke(De,lr,vr){De&&(De.texture?De.texture.resize(lr,vr):De.renderbuffer&&De.renderbuffer.resize(lr,vr),De.width=lr,De.height=vr)}function or(){this.id=ir++,er[this.id]=this,this.framebuffer=xe.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function pr(De){De.colorAttachments.forEach(me),me(De.depthAttachment),me(De.stencilAttachment),me(De.depthStencilAttachment)}function hr(De){xe.deleteFramebuffer(De.framebuffer),De.framebuffer=null,re.framebufferCount--,delete er[De.id]}function jt(De){var lr;xe.bindFramebuffer(36160,De.framebuffer);var vr=De.colorAttachments;for(lr=0;lr<vr.length;++lr)ze(36064+lr,vr[lr]);for(lr=vr.length;lr<Ye.maxColorAttachments;++lr)xe.framebufferTexture2D(36160,36064+lr,3553,null,0);xe.framebufferTexture2D(36160,33306,3553,null,0),xe.framebufferTexture2D(36160,36096,3553,null,0),xe.framebufferTexture2D(36160,36128,3553,null,0),ze(36096,De.depthAttachment),ze(36128,De.stencilAttachment),ze(33306,De.depthStencilAttachment),xe.checkFramebufferStatus(36160),xe.isContextLost(),xe.bindFramebuffer(36160,Ce.next?Ce.next.framebuffer:null),Ce.cur=Ce.next,xe.getError()}function Gt(De,lr){function vr(fr,zr){var Or,Ir=0,sn=0,nn=!0,kn=!0;Or=null;var Mn=!0,kr="rgba",Er="uint8",Vr=1,qr=null,rn=null,gn=null,ln=!1;typeof fr=="number"?(Ir=fr|0,sn=zr|0||Ir):fr?("shape"in fr?(sn=fr.shape,Ir=sn[0],sn=sn[1]):("radius"in fr&&(Ir=sn=fr.radius),"width"in fr&&(Ir=fr.width),"height"in fr&&(sn=fr.height)),("color"in fr||"colors"in fr)&&(Or=fr.color||fr.colors),Or||("colorCount"in fr&&(Vr=fr.colorCount|0),"colorTexture"in fr&&(Mn=!!fr.colorTexture,kr="rgba4"),"colorType"in fr&&(Er=fr.colorType,!Mn)&&(Er==="half float"||Er==="float16"?kr="rgba16f":(Er==="float"||Er==="float32")&&(kr="rgba32f")),"colorFormat"in fr&&(kr=fr.colorFormat,0<=Ie.indexOf(kr)?Mn=!0:0<=We.indexOf(kr)&&(Mn=!1))),("depthTexture"in fr||"depthStencilTexture"in fr)&&(ln=!(!fr.depthTexture&&!fr.depthStencilTexture)),"depth"in fr&&(typeof fr.depth=="boolean"?nn=fr.depth:(qr=fr.depth,kn=!1)),"stencil"in fr&&(typeof fr.stencil=="boolean"?kn=fr.stencil:(rn=fr.stencil,nn=!1)),"depthStencil"in fr&&(typeof fr.depthStencil=="boolean"?nn=kn=fr.depthStencil:(gn=fr.depthStencil,kn=nn=!1))):Ir=sn=1;var zn=null,Rn=null,ai=null,fi=null;if(Array.isArray(Or))zn=Or.map(Oe);else if(Or)zn=[Oe(Or)];else for(zn=Array(Vr),Or=0;Or<Vr;++Or)zn[Or]=Fe(Ir,sn,Mn,kr,Er);for(Ir=Ir||zn[0].width,sn=sn||zn[0].height,qr?Rn=Oe(qr):nn&&!kn&&(Rn=Fe(Ir,sn,ln,"depth","uint32")),rn?ai=Oe(rn):kn&&!nn&&(ai=Fe(Ir,sn,!1,"stencil","uint8")),gn?fi=Oe(gn):!qr&&!rn&&kn&&nn&&(fi=Fe(Ir,sn,ln,"depth stencil","depth stencil")),nn=null,Or=0;Or<zn.length;++Or)Ee(zn[Or]),zn[Or]&&zn[Or].texture&&(kn=Ft[zn[Or].texture._texture.format]*Wt[zn[Or].texture._texture.type],nn===null&&(nn=kn));return Ee(Rn),Ee(ai),Ee(fi),pr(dr),dr.width=Ir,dr.height=sn,dr.colorAttachments=zn,dr.depthAttachment=Rn,dr.stencilAttachment=ai,dr.depthStencilAttachment=fi,vr.color=zn.map(Re),vr.depth=Re(Rn),vr.stencil=Re(ai),vr.depthStencil=Re(fi),vr.width=dr.width,vr.height=dr.height,jt(dr),vr}var dr=new or;return re.framebufferCount++,vr(De,lr),at(vr,{resize:function(fr,zr){var Or=Math.max(fr|0,1),Ir=Math.max(zr|0||Or,1);if(Or===dr.width&&Ir===dr.height)return vr;for(var sn=dr.colorAttachments,nn=0;nn<sn.length;++nn)Ke(sn[nn],Or,Ir);return Ke(dr.depthAttachment,Or,Ir),Ke(dr.stencilAttachment,Or,Ir),Ke(dr.depthStencilAttachment,Or,Ir),dr.width=vr.width=Or,dr.height=vr.height=Ir,jt(dr),vr},_reglType:"framebuffer",_framebuffer:dr,destroy:function(){hr(dr),pr(dr)},use:function(fr){Ce.setFBO({framebuffer:vr},fr)}})}var Ce={cur:null,next:null,dirty:!1,setFBO:null},Ie=["rgba"],We=["rgba4","rgb565","rgb5 a1"];Xe.ext_srgb&&We.push("srgba"),Xe.ext_color_buffer_half_float&&We.push("rgba16f","rgb16f"),Xe.webgl_color_buffer_float&&We.push("rgba32f");var $e=["uint8"];Xe.oes_texture_half_float&&$e.push("half float","float16"),Xe.oes_texture_float&&$e.push("float","float32");var ir=0,er={};return at(Ce,{getFramebuffer:function(De){return typeof De=="function"&&De._reglType==="framebuffer"&&(De=De._framebuffer,De instanceof or)?De:null},create:Gt,createCube:function(De){function lr(dr){var fr,zr={color:null},Or=0,Ir=null;fr="rgba";var sn="uint8",nn=1;if(typeof dr=="number"?Or=dr|0:dr?("shape"in dr?Or=dr.shape[0]:("radius"in dr&&(Or=dr.radius|0),"width"in dr?Or=dr.width|0:"height"in dr&&(Or=dr.height|0)),("color"in dr||"colors"in dr)&&(Ir=dr.color||dr.colors),Ir||("colorCount"in dr&&(nn=dr.colorCount|0),"colorType"in dr&&(sn=dr.colorType),"colorFormat"in dr&&(fr=dr.colorFormat)),"depth"in dr&&(zr.depth=dr.depth),"stencil"in dr&&(zr.stencil=dr.stencil),"depthStencil"in dr&&(zr.depthStencil=dr.depthStencil)):Or=1,Ir)if(Array.isArray(Ir))for(dr=[],fr=0;fr<Ir.length;++fr)dr[fr]=Ir[fr];else dr=[Ir];else for(dr=Array(nn),Ir={radius:Or,format:fr,type:sn},fr=0;fr<nn;++fr)dr[fr]=_r.createCube(Ir);for(zr.color=Array(dr.length),fr=0;fr<dr.length;++fr)nn=dr[fr],Or=Or||nn.width,zr.color[fr]={target:34069,data:dr[fr]};for(fr=0;6>fr;++fr){for(nn=0;nn<dr.length;++nn)zr.color[nn].target=34069+fr;0<fr&&(zr.depth=vr[0].depth,zr.stencil=vr[0].stencil,zr.depthStencil=vr[0].depthStencil),vr[fr]?vr[fr](zr):vr[fr]=Gt(zr)}return at(lr,{width:Or,height:Or,color:dr})}var vr=Array(6);return lr(De),at(lr,{faces:vr,resize:function(dr){var fr=dr|0;if(fr===lr.width)return lr;var zr=lr.color;for(dr=0;dr<zr.length;++dr)zr[dr].resize(fr);for(dr=0;6>dr;++dr)vr[dr].resize(fr);return lr.width=lr.height=fr,lr},_reglType:"framebufferCube",destroy:function(){vr.forEach(function(dr){dr.destroy()})}})},clear:function(){mt(er).forEach(hr)},restore:function(){Ce.cur=null,Ce.next=null,Ce.dirty=!0,mt(er).forEach(function(De){De.framebuffer=xe.createFramebuffer(),jt(De)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(xe,Xe,Ye,_r,rr,re,le){function me(jt){if(jt!==hr.currentVAO){var Gt=Xe.oes_vertex_array_object;jt?Gt.bindVertexArrayOES(jt.vao):Gt.bindVertexArrayOES(null),hr.currentVAO=jt}}function Ee(jt){if(jt!==hr.currentVAO){if(jt)jt.bindAttrs();else{for(var Gt=Xe.angle_instanced_arrays,Ce=0;Ce<Ke.length;++Ce){var Ie=Ke[Ce];Ie.buffer?(xe.enableVertexAttribArray(Ce),Ie.buffer.bind(),xe.vertexAttribPointer(Ce,Ie.size,Ie.type,Ie.normalized,Ie.stride,Ie.offfset),Gt&&Ie.divisor&&Gt.vertexAttribDivisorANGLE(Ce,Ie.divisor)):(xe.disableVertexAttribArray(Ce),xe.vertexAttrib4f(Ce,Ie.x,Ie.y,Ie.z,Ie.w))}le.elements?xe.bindBuffer(34963,le.elements.buffer.buffer):xe.bindBuffer(34963,null)}hr.currentVAO=jt}}function ze(){mt(pr).forEach(function(jt){jt.destroy()})}function Oe(){this.id=++or,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var jt=Xe.oes_vertex_array_object;this.vao=jt?jt.createVertexArrayOES():null,pr[this.id]=this,this.buffers=[]}function Fe(){Xe.oes_vertex_array_object&&mt(pr).forEach(function(jt){jt.refresh()})}var Re=Ye.maxAttributes,Ke=Array(Re);for(Ye=0;Ye<Re;++Ye)Ke[Ye]=new N;var or=0,pr={},hr={Record:N,scope:{},state:Ke,currentVAO:null,targetVAO:null,restore:Xe.oes_vertex_array_object?Fe:function(){},createVAO:function(jt){function Gt(Ie){var We;Array.isArray(Ie)?(We=Ie,Ce.elements&&Ce.ownsElements&&Ce.elements.destroy(),Ce.elements=null,Ce.ownsElements=!1,Ce.offset=0,Ce.count=0,Ce.instances=-1,Ce.primitive=4):(Ie.elements?(We=Ie.elements,Ce.ownsElements?(typeof We=="function"&&We._reglType==="elements"?Ce.elements.destroy():Ce.elements(We),Ce.ownsElements=!1):re.getElements(Ie.elements)?(Ce.elements=Ie.elements,Ce.ownsElements=!1):(Ce.elements=re.create(Ie.elements),Ce.ownsElements=!0)):(Ce.elements=null,Ce.ownsElements=!1),We=Ie.attributes,Ce.offset=0,Ce.count=-1,Ce.instances=-1,Ce.primitive=4,Ce.elements&&(Ce.count=Ce.elements._elements.vertCount,Ce.primitive=Ce.elements._elements.primType),"offset"in Ie&&(Ce.offset=Ie.offset|0),"count"in Ie&&(Ce.count=Ie.count|0),"instances"in Ie&&(Ce.instances=Ie.instances|0),"primitive"in Ie&&(Ce.primitive=ue[Ie.primitive])),Ie={};var $e=Ce.attributes;$e.length=We.length;for(var ir=0;ir<We.length;++ir){var er=We[ir],De=$e[ir]=new N,lr=er.data||er;if(Array.isArray(lr)||_t(lr)||o(lr)){var vr;Ce.buffers[ir]&&(vr=Ce.buffers[ir],_t(lr)&&vr._buffer.byteLength>=lr.byteLength?vr.subdata(lr):(vr.destroy(),Ce.buffers[ir]=null)),Ce.buffers[ir]||(vr=Ce.buffers[ir]=rr.create(er,34962,!1,!0)),De.buffer=rr.getBuffer(vr),De.size=De.buffer.dimension|0,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1,Ie[ir]=1}else rr.getBuffer(er)?(De.buffer=rr.getBuffer(er),De.size=De.buffer.dimension|0,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1):rr.getBuffer(er.buffer)?(De.buffer=rr.getBuffer(er.buffer),De.size=(+er.size||De.buffer.dimension)|0,De.normalized=!!er.normalized||!1,De.type="type"in er?Ht[er.type]:De.buffer.dtype,De.offset=(er.offset||0)|0,De.stride=(er.stride||0)|0,De.divisor=(er.divisor||0)|0,De.state=1):"x"in er&&(De.x=+er.x||0,De.y=+er.y||0,De.z=+er.z||0,De.w=+er.w||0,De.state=2)}for(vr=0;vr<Ce.buffers.length;++vr)!Ie[vr]&&Ce.buffers[vr]&&(Ce.buffers[vr].destroy(),Ce.buffers[vr]=null);return Ce.refresh(),Gt}var Ce=new Oe;return _r.vaoCount+=1,Gt.destroy=function(){for(var Ie=0;Ie<Ce.buffers.length;++Ie)Ce.buffers[Ie]&&Ce.buffers[Ie].destroy();Ce.buffers.length=0,Ce.ownsElements&&(Ce.elements.destroy(),Ce.elements=null,Ce.ownsElements=!1),Ce.destroy()},Gt._vao=Ce,Gt._reglType="vao",Gt(jt)},getVAO:function(jt){return typeof jt=="function"&&jt._vao?jt._vao:null},destroyBuffer:function(jt){for(var Gt=0;Gt<Ke.length;++Gt){var Ce=Ke[Gt];Ce.buffer===jt&&(xe.disableVertexAttribArray(Gt),Ce.buffer=null)}},setVAO:Xe.oes_vertex_array_object?me:Ee,clear:Xe.oes_vertex_array_object?ze:function(){}};return Oe.prototype.bindAttrs=function(){for(var jt=Xe.angle_instanced_arrays,Gt=this.attributes,Ce=0;Ce<Gt.length;++Ce){var Ie=Gt[Ce];Ie.buffer?(xe.enableVertexAttribArray(Ce),xe.bindBuffer(34962,Ie.buffer.buffer),xe.vertexAttribPointer(Ce,Ie.size,Ie.type,Ie.normalized,Ie.stride,Ie.offset),jt&&Ie.divisor&&jt.vertexAttribDivisorANGLE(Ce,Ie.divisor)):(xe.disableVertexAttribArray(Ce),xe.vertexAttrib4f(Ce,Ie.x,Ie.y,Ie.z,Ie.w))}for(jt=Gt.length;jt<Re;++jt)xe.disableVertexAttribArray(jt);(jt=re.getElements(this.elements))?xe.bindBuffer(34963,jt.buffer.buffer):xe.bindBuffer(34963,null)},Oe.prototype.refresh=function(){var jt=Xe.oes_vertex_array_object;jt&&(jt.bindVertexArrayOES(this.vao),this.bindAttrs(),hr.currentVAO=null,jt.bindVertexArrayOES(null))},Oe.prototype.destroy=function(){if(this.vao){var jt=Xe.oes_vertex_array_object;this===hr.currentVAO&&(hr.currentVAO=null,jt.bindVertexArrayOES(null)),jt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),pr[this.id]&&(delete pr[this.id],--_r.vaoCount)},hr}function F(xe,Xe,Ye,_r){function rr(or,pr,hr,jt){this.name=or,this.id=pr,this.location=hr,this.info=jt}function re(or,pr){for(var hr=0;hr<or.length;++hr)if(or[hr].id===pr.id){or[hr].location=pr.location;return}or.push(pr)}function le(or,pr,hr){hr=or===35632?ze:Oe;var jt=hr[pr];if(!jt){var Gt=Xe.str(pr),jt=xe.createShader(or);xe.shaderSource(jt,Gt),xe.compileShader(jt),hr[pr]=jt}return jt}function me(or,pr){this.id=Ke++,this.fragId=or,this.vertId=pr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,_r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ee(or,pr,hr){var jt;jt=le(35632,or.fragId);var Gt=le(35633,or.vertId);if(pr=or.program=xe.createProgram(),xe.attachShader(pr,jt),xe.attachShader(pr,Gt),hr)for(jt=0;jt<hr.length;++jt)Gt=hr[jt],xe.bindAttribLocation(pr,Gt[0],Gt[1]);xe.linkProgram(pr),Gt=xe.getProgramParameter(pr,35718),_r.profile&&(or.stats.uniformsCount=Gt);var Ce=or.uniforms;for(jt=0;jt<Gt;++jt)if(hr=xe.getActiveUniform(pr,jt))if(1<hr.size)for(var Ie=0;Ie<hr.size;++Ie){var We=hr.name.replace("[0]","["+Ie+"]");re(Ce,new rr(We,Xe.id(We),xe.getUniformLocation(pr,We),hr))}else re(Ce,new rr(hr.name,Xe.id(hr.name),xe.getUniformLocation(pr,hr.name),hr));for(Gt=xe.getProgramParameter(pr,35721),_r.profile&&(or.stats.attributesCount=Gt),or=or.attributes,jt=0;jt<Gt;++jt)(hr=xe.getActiveAttrib(pr,jt))&&re(or,new rr(hr.name,Xe.id(hr.name),xe.getAttribLocation(pr,hr.name),hr))}var ze={},Oe={},Fe={},Re=[],Ke=0;return _r.profile&&(Ye.getMaxUniformsCount=function(){var or=0;return Re.forEach(function(pr){pr.stats.uniformsCount>or&&(or=pr.stats.uniformsCount)}),or},Ye.getMaxAttributesCount=function(){var or=0;return Re.forEach(function(pr){pr.stats.attributesCount>or&&(or=pr.stats.attributesCount)}),or}),{clear:function(){var or=xe.deleteShader.bind(xe);mt(ze).forEach(or),ze={},mt(Oe).forEach(or),Oe={},Re.forEach(function(pr){xe.deleteProgram(pr.program)}),Re.length=0,Fe={},Ye.shaderCount=0},program:function(or,pr,hr,jt){var Gt=Fe[pr];Gt||(Gt=Fe[pr]={});var Ce=Gt[or];if(Ce&&(Ce.refCount++,!jt))return Ce;var Ie=new me(pr,or);return Ye.shaderCount++,Ee(Ie,hr,jt),Ce||(Gt[or]=Ie),Re.push(Ie),at(Ie,{destroy:function(){if(Ie.refCount--,0>=Ie.refCount){xe.deleteProgram(Ie.program);var We=Re.indexOf(Ie);Re.splice(We,1),Ye.shaderCount--}0>=Gt[Ie.vertId].refCount&&(xe.deleteShader(Oe[Ie.vertId]),delete Oe[Ie.vertId],delete Fe[Ie.fragId][Ie.vertId]),Object.keys(Fe[Ie.fragId]).length||(xe.deleteShader(ze[Ie.fragId]),delete ze[Ie.fragId],delete Fe[Ie.fragId])}})},restore:function(){ze={},Oe={};for(var or=0;or<Re.length;++or)Ee(Re[or],null,Re[or].attributes.map(function(pr){return[pr.location,pr.name]}))},shader:le,frag:-1,vert:-1}}function I(xe,Xe,Ye,_r,rr,re,le){function me(ze){var Oe;Oe=Xe.next===null?5121:Xe.next.colorAttachments[0].texture._texture.type;var Fe=0,Re=0,Ke=_r.framebufferWidth,or=_r.framebufferHeight,pr=null;return _t(ze)?pr=ze:ze&&(Fe=ze.x|0,Re=ze.y|0,Ke=(ze.width||_r.framebufferWidth-Fe)|0,or=(ze.height||_r.framebufferHeight-Re)|0,pr=ze.data||null),Ye(),ze=Ke*or*4,pr||(Oe===5121?pr=new Uint8Array(ze):Oe===5126&&(pr=pr||new Float32Array(ze))),xe.pixelStorei(3333,4),xe.readPixels(Fe,Re,Ke,or,6408,Oe,pr),pr}function Ee(ze){var Oe;return Xe.setFBO({framebuffer:ze.framebuffer},function(){Oe=me(ze)}),Oe}return function(ze){return ze&&"framebuffer"in ze?Ee(ze):me(ze)}}function j(xe){for(var Xe=Array(xe.length>>2),_r=0;_r<Xe.length;_r++)Xe[_r]=0;for(_r=0;_r<8*xe.length;_r+=8)Xe[_r>>5]|=(xe.charCodeAt(_r/8)&255)<<24-_r%32;var Ye=8*xe.length;xe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var _r=Array(64),rr,re,le,me,Ee,ze,Oe,Fe,Re,Ke,or;for(Xe[Ye>>5]|=128<<24-Ye%32,Xe[(Ye+64>>9<<4)+15]=Ye,Fe=0;Fe<Xe.length;Fe+=16){for(Ye=xe[0],rr=xe[1],re=xe[2],le=xe[3],me=xe[4],Ee=xe[5],ze=xe[6],Oe=xe[7],Re=0;64>Re;Re++){if(16>Re)_r[Re]=Xe[Re+Fe];else{Ke=Re,or=_r[Re-2],or=K(or,17)^K(or,19)^or>>>10,or=et(or,_r[Re-7]);var pr;pr=_r[Re-15],pr=K(pr,7)^K(pr,18)^pr>>>3,_r[Ke]=et(et(or,pr),_r[Re-16])}Ke=me,Ke=K(Ke,6)^K(Ke,11)^K(Ke,25),Ke=et(et(et(et(Oe,Ke),me&Ee^~me&ze),Qt[Re]),_r[Re]),Oe=Ye,Oe=K(Oe,2)^K(Oe,13)^K(Oe,22),or=et(Oe,Ye&rr^Ye&re^rr&re),Oe=ze,ze=Ee,Ee=me,me=et(le,Ke),le=re,re=rr,rr=Ye,Ye=et(Ke,or)}xe[0]=et(Ye,xe[0]),xe[1]=et(rr,xe[1]),xe[2]=et(re,xe[2]),xe[3]=et(le,xe[3]),xe[4]=et(me,xe[4]),xe[5]=et(Ee,xe[5]),xe[6]=et(ze,xe[6]),xe[7]=et(Oe,xe[7])}for(Xe="",_r=0;_r<32*xe.length;_r+=8)Xe+=String.fromCharCode(xe[_r>>5]>>>24-_r%32&255);return Xe}function V(xe){for(var Xe="",Ye,_r=0;_r<xe.length;_r++)Ye=xe.charCodeAt(_r),Xe+="0123456789abcdef".charAt(Ye>>>4&15)+"0123456789abcdef".charAt(Ye&15);return Xe}function W(xe){for(var Xe="",Ye=-1,_r,rr;++Ye<xe.length;)_r=xe.charCodeAt(Ye),rr=Ye+1<xe.length?xe.charCodeAt(Ye+1):0,55296<=_r&&56319>=_r&&56320<=rr&&57343>=rr&&(_r=65536+((_r&1023)<<10)+(rr&1023),Ye++),127>=_r?Xe+=String.fromCharCode(_r):2047>=_r?Xe+=String.fromCharCode(192|_r>>>6&31,128|_r&63):65535>=_r?Xe+=String.fromCharCode(224|_r>>>12&15,128|_r>>>6&63,128|_r&63):2097151>=_r&&(Xe+=String.fromCharCode(240|_r>>>18&7,128|_r>>>12&63,128|_r>>>6&63,128|_r&63));return Xe}function K(xe,Xe){return xe>>>Xe|xe<<32-Xe}function et(xe,Xe){var Ye=(xe&65535)+(Xe&65535);return(xe>>16)+(Xe>>16)+(Ye>>16)<<16|Ye&65535}function lt(xe){return Array.prototype.slice.call(xe)}function ot(xe){return lt(xe).join("")}function q(xe){function Xe(){var Oe=[],Fe=[];return at(function(){Oe.push.apply(Oe,lt(arguments))},{def:function(){var Re="v"+rr++;return Fe.push(Re),0<arguments.length&&(Oe.push(Re,"="),Oe.push.apply(Oe,lt(arguments)),Oe.push(";")),Re},toString:function(){return ot([0<Fe.length?"var "+Fe.join(",")+";":"",ot(Oe)])}})}function Ye(){function Oe(pr,hr){Re(pr,hr,"=",Fe.def(pr,hr),";")}var Fe=Xe(),Re=Xe(),Ke=Fe.toString,or=Re.toString;return at(function(){Fe.apply(Fe,lt(arguments))},{def:Fe.def,entry:Fe,exit:Re,save:Oe,set:function(pr,hr,jt){Oe(pr,hr),Fe(pr,hr,"=",jt,";")},toString:function(){return Ke()+or()}})}var _r=xe&&xe.cache,rr=0,re=[],le=[],me=[],Ee=Xe(),ze={};return{global:Ee,link:function(Oe,Fe){var Re=Fe&&Fe.stable;if(!Re){for(var Ke=0;Ke<le.length;++Ke)if(le[Ke]===Oe&&!me[Ke])return re[Ke]}return Ke="g"+rr++,re.push(Ke),le.push(Oe),me.push(Re),Ke},block:Xe,proc:function(Oe,Fe){function Re(){var hr="a"+Ke.length;return Ke.push(hr),hr}var Ke=[];Fe=Fe||0;for(var or=0;or<Fe;++or)Re();var or=Ye(),pr=or.toString;return ze[Oe]=at(or,{arg:Re,toString:function(){return ot(["function(",Ke.join(),"){",pr(),"}"])}})},scope:Ye,cond:function(){var Oe=ot(arguments),Fe=Ye(),Re=Ye(),Ke=Fe.toString,or=Re.toString;return at(Fe,{then:function(){return Fe.apply(Fe,lt(arguments)),this},else:function(){return Re.apply(Re,lt(arguments)),this},toString:function(){var pr=or();return pr&&(pr="else{"+pr+"}"),ot(["if(",Oe,"){",Ke(),"}",pr])}})},compile:function(){var Oe=['"use strict";',Ee,"return {"];Object.keys(ze).forEach(function(Ke){Oe.push('"',Ke,'":',ze[Ke].toString(),",")}),Oe.push("}");var Fe=ot(Oe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Re;return _r&&(Re=V(j(W(Fe))),_r[Re])?_r[Re].apply(null,le):(Fe=Function.apply(null,re.concat(Fe)),_r&&(_r[Re]=Fe),Fe.apply(null,le))}}}function J(xe){return Array.isArray(xe)||_t(xe)||o(xe)}function it(xe){return xe.sort(function(Xe,Ye){return Xe==="viewport"?-1:Ye==="viewport"?1:Xe<Ye?-1:1})}function Z(xe,Xe,Ye,_r){this.thisDep=xe,this.contextDep=Xe,this.propDep=Ye,this.append=_r}function tt(xe){return xe&&!(xe.thisDep||xe.contextDep||xe.propDep)}function st(xe){return new Z(!1,!1,!1,xe)}function Q(xe,Xe){var Ye=xe.type;if(Ye===0)return Ye=xe.data.length,new Z(!0,1<=Ye,2<=Ye,Xe);if(Ye===4)return Ye=xe.data,new Z(Ye.thisDep,Ye.contextDep,Ye.propDep,Xe);if(Ye===5)return new Z(!1,!1,!1,Xe);if(Ye===6){for(var _r=Ye=!1,rr=!1,re=0;re<xe.data.length;++re){var le=xe.data[re];le.type===1?rr=!0:le.type===2?_r=!0:le.type===3?Ye=!0:le.type===0?(Ye=!0,le=le.data,1<=le&&(_r=!0),2<=le&&(rr=!0)):le.type===4&&(Ye=Ye||le.data.thisDep,_r=_r||le.data.contextDep,rr=rr||le.data.propDep)}return new Z(Ye,_r,rr,Xe)}return new Z(Ye===3,Ye===2,Ye===1,Xe)}function G(xe,Xe,Ye,_r,rr,re,le,me,Ee,ze,Oe,Fe,Re,Ke,or,pr){function hr(Tr){return Tr.replace(".","_")}function jt(Tr,Rr,br){var Br=hr(Tr);bn.push(Tr),Vn[Br]=vn[Br]=!!br,In[Br]=Rr}function Gt(Tr,Rr,br){var Br=hr(Tr);bn.push(Tr),Array.isArray(br)?(vn[Br]=br.slice(),Vn[Br]=br.slice()):vn[Br]=Vn[Br]=br,Bn[Br]=Rr}function Ce(){var Tr=q({cache:or}),Rr=Tr.link,br=Tr.global;Tr.id=Ni++,Tr.batchId="0";var Br=Rr(Kn),_n=Tr.shared={props:"a0"};Object.keys(Kn).forEach(function(Gr){_n[Gr]=br.def(Br,".",Gr)});var Pn=Tr.next={},pn=Tr.current={};Object.keys(Bn).forEach(function(Gr){Array.isArray(vn[Gr])&&(Pn[Gr]=br.def(_n.next,".",Gr),pn[Gr]=br.def(_n.current,".",Gr))});var fn=Tr.constants={};Object.keys(pi).forEach(function(Gr){fn[Gr]=br.def(JSON.stringify(pi[Gr]))}),Tr.invoke=function(Gr,Nr){switch(Nr.type){case 0:var Kr=["this",_n.context,_n.props,Tr.batchId];return Gr.def(Rr(Nr.data),".call(",Kr.slice(0,Math.max(Nr.data.length+1,4)),")");case 1:return Gr.def(_n.props,Nr.data);case 2:return Gr.def(_n.context,Nr.data);case 3:return Gr.def("this",Nr.data);case 4:return Nr.data.append(Tr,Gr),Nr.data.ref;case 5:return Nr.data.toString();case 6:return Nr.data.map(function(Tn){return Tr.invoke(Gr,Tn)})}},Tr.attribCache={};var Mr={};return Tr.scopeAttrib=function(Gr){if(Gr=Xe.id(Gr),Gr in Mr)return Mr[Gr];var Nr=ze.scope[Gr];return Nr||(Nr=ze.scope[Gr]=new li),Mr[Gr]=Rr(Nr)},Tr}function Ie(Tr){var Rr=Tr.static;Tr=Tr.dynamic;var br;if("profile"in Rr){var Br=!!Rr.profile;br=st(function(Pn,pn){return Br}),br.enable=Br}else if("profile"in Tr){var _n=Tr.profile;br=Q(_n,function(Pn,pn){return Pn.invoke(pn,_n)})}return br}function We(Tr,Rr){var br=Tr.static,Br=Tr.dynamic;if("framebuffer"in br){var _n=br.framebuffer;return _n?(_n=me.getFramebuffer(_n),st(function(pn,fn){var Mr=pn.link(_n),Gr=pn.shared;return fn.set(Gr.framebuffer,".next",Mr),Gr=Gr.context,fn.set(Gr,".framebufferWidth",Mr+".width"),fn.set(Gr,".framebufferHeight",Mr+".height"),Mr})):st(function(pn,fn){var Mr=pn.shared;return fn.set(Mr.framebuffer,".next","null"),Mr=Mr.context,fn.set(Mr,".framebufferWidth",Mr+".drawingBufferWidth"),fn.set(Mr,".framebufferHeight",Mr+".drawingBufferHeight"),"null"})}if("framebuffer"in Br){var Pn=Br.framebuffer;return Q(Pn,function(pn,fn){var Nr=pn.invoke(fn,Pn),Mr=pn.shared,Gr=Mr.framebuffer,Nr=fn.def(Gr,".getFramebuffer(",Nr,")");return fn.set(Gr,".next",Nr),Mr=Mr.context,fn.set(Mr,".framebufferWidth",Nr+"?"+Nr+".width:"+Mr+".drawingBufferWidth"),fn.set(Mr,".framebufferHeight",Nr+"?"+Nr+".height:"+Mr+".drawingBufferHeight"),Nr})}return null}function $e(Tr,Rr,br){function Br(fn){if(fn in _n){var Mr=_n[fn];fn=!0;var Gr=Mr.x|0,Nr=Mr.y|0,Kr,Tn;return"width"in Mr?Kr=Mr.width|0:fn=!1,"height"in Mr?Tn=Mr.height|0:fn=!1,new Z(!fn&&Rr&&Rr.thisDep,!fn&&Rr&&Rr.contextDep,!fn&&Rr&&Rr.propDep,function(En,Nn){var Dn=En.shared.context,di=Kr;"width"in Mr||(di=Nn.def(Dn,".","framebufferWidth","-",Gr));var oi=Tn;return"height"in Mr||(oi=Nn.def(Dn,".","framebufferHeight","-",Nr)),[Gr,Nr,di,oi]})}if(fn in Pn){var An=Pn[fn];return fn=Q(An,function(En,Nn){var Ci=En.invoke(Nn,An),Dn=En.shared.context,di=Nn.def(Ci,".x|0"),oi=Nn.def(Ci,".y|0"),hi=Nn.def('"width" in ',Ci,"?",Ci,".width|0:","(",Dn,".","framebufferWidth","-",di,")"),Ci=Nn.def('"height" in ',Ci,"?",Ci,".height|0:","(",Dn,".","framebufferHeight","-",oi,")");return[di,oi,hi,Ci]}),Rr&&(fn.thisDep=fn.thisDep||Rr.thisDep,fn.contextDep=fn.contextDep||Rr.contextDep,fn.propDep=fn.propDep||Rr.propDep),fn}return Rr?new Z(Rr.thisDep,Rr.contextDep,Rr.propDep,function(En,Nn){var Dn=En.shared.context;return[0,0,Nn.def(Dn,".","framebufferWidth"),Nn.def(Dn,".","framebufferHeight")]}):null}var _n=Tr.static,Pn=Tr.dynamic;if(Tr=Br("viewport")){var pn=Tr;Tr=new Z(Tr.thisDep,Tr.contextDep,Tr.propDep,function(fn,Mr){var Gr=pn.append(fn,Mr),Nr=fn.shared.context;return Mr.set(Nr,".viewportWidth",Gr[2]),Mr.set(Nr,".viewportHeight",Gr[3]),Gr})}return{viewport:Tr,scissor_box:Br("scissor.box")}}function ir(Tr,Rr){var br=Tr.static;if(typeof br.frag=="string"&&typeof br.vert=="string"){if(0<Object.keys(Rr.dynamic).length)return null;var br=Rr.static,Br=Object.keys(br);if(0<Br.length&&typeof br[Br[0]]=="number"){for(var _n=[],Pn=0;Pn<Br.length;++Pn)_n.push([br[Br[Pn]]|0,Br[Pn]]);return _n}}return null}function er(Tr,Rr,br){function Br(Gr){if(Gr in _n){var Nr=Xe.id(_n[Gr]);return Gr=st(function(){return Nr}),Gr.id=Nr,Gr}if(Gr in Pn){var Kr=Pn[Gr];return Q(Kr,function(Tn,An){var En=Tn.invoke(An,Kr);return An.def(Tn.shared.strings,".id(",En,")")})}return null}var _n=Tr.static,Pn=Tr.dynamic,pn=Br("frag"),fn=Br("vert"),Mr=null;return tt(pn)&&tt(fn)?(Mr=Oe.program(fn.id,pn.id,null,br),Tr=st(function(Gr,Nr){return Gr.link(Mr)})):Tr=new Z(pn&&pn.thisDep||fn&&fn.thisDep,pn&&pn.contextDep||fn&&fn.contextDep,pn&&pn.propDep||fn&&fn.propDep,function(Gr,Nr){var Kr=Gr.shared.shader,Tn;Tn=pn?pn.append(Gr,Nr):Nr.def(Kr,".","frag");var An;return An=fn?fn.append(Gr,Nr):Nr.def(Kr,".","vert"),Nr.def(Kr+".program("+An+","+Tn+")")}),{frag:pn,vert:fn,progVar:Tr,program:Mr}}function De(Tr,Rr){function br(En,Nn){if(En in Br){var Dn=Br[En]|0;return Nn?Pn.offset=Dn:Pn.instances=Dn,st(function(oi,hi){return Nn&&(oi.OFFSET=Dn),Dn})}if(En in _n){var di=_n[En];return Q(di,function(oi,hi){var Ci=oi.invoke(hi,di);return Nn&&(oi.OFFSET=Ci),Ci})}if(Nn){if(Mr)return st(function(oi,hi){return oi.OFFSET=0});if(pn)return new Z(fn.thisDep,fn.contextDep,fn.propDep,function(oi,hi){return hi.def(oi.shared.vao+".currentVAO?"+oi.shared.vao+".currentVAO.offset:0")})}else if(pn)return new Z(fn.thisDep,fn.contextDep,fn.propDep,function(oi,hi){return hi.def(oi.shared.vao+".currentVAO?"+oi.shared.vao+".currentVAO.instances:-1")});return null}var Br=Tr.static,_n=Tr.dynamic,Pn={},pn=!1,fn=function(){if("vao"in Br){var En=Br.vao;return En!==null&&ze.getVAO(En)===null&&(En=ze.createVAO(En)),pn=!0,Pn.vao=En,st(function(Dn){var di=ze.getVAO(En);return di?Dn.link(di):"null"})}if("vao"in _n){pn=!0;var Nn=_n.vao;return Q(Nn,function(Dn,di){var oi=Dn.invoke(di,Nn);return di.def(Dn.shared.vao+".getVAO("+oi+")")})}return null}(),Mr=!1,Gr=function(){if("elements"in Br){var En=Br.elements;if(Pn.elements=En,J(En)){var Nn=Pn.elements=re.create(En,!0),En=re.getElements(Nn);Mr=!0}else En&&(En=re.getElements(En),Mr=!0);return Nn=st(function(di,oi){if(En){var hi=di.link(En);return di.ELEMENTS=hi}return di.ELEMENTS=null}),Nn.value=En,Nn}if("elements"in _n){Mr=!0;var Dn=_n.elements;return Q(Dn,function(di,oi){var hi=di.shared,pa=hi.isBufferArgs,hi=hi.elements,ea=di.invoke(oi,Dn),Ci=oi.def("null"),pa=oi.def(pa,"(",ea,")"),ea=di.cond(pa).then(Ci,"=",hi,".createStream(",ea,");").else(Ci,"=",hi,".getElements(",ea,");");return oi.entry(ea),oi.exit(di.cond(pa).then(hi,".destroyStream(",Ci,");")),di.ELEMENTS=Ci})}return pn?new Z(fn.thisDep,fn.contextDep,fn.propDep,function(di,oi){return oi.def(di.shared.vao+".currentVAO?"+di.shared.elements+".getElements("+di.shared.vao+".currentVAO.elements):null")}):null}(),Nr=br("offset",!0),Kr=function(){if("primitive"in Br){var En=Br.primitive;return Pn.primitive=En,st(function(Dn,di){return ue[En]})}if("primitive"in _n){var Nn=_n.primitive;return Q(Nn,function(Dn,di){var oi=Dn.constants.primTypes,hi=Dn.invoke(di,Nn);return di.def(oi,"[",hi,"]")})}return Mr?tt(Gr)?Gr.value?st(function(Dn,di){return di.def(Dn.ELEMENTS,".primType")}):st(function(){return 4}):new Z(Gr.thisDep,Gr.contextDep,Gr.propDep,function(Dn,di){var oi=Dn.ELEMENTS;return di.def(oi,"?",oi,".primType:",4)}):pn?new Z(fn.thisDep,fn.contextDep,fn.propDep,function(Dn,di){return di.def(Dn.shared.vao+".currentVAO?"+Dn.shared.vao+".currentVAO.primitive:4")}):null}(),Tn=function(){if("count"in Br){var En=Br.count|0;return Pn.count=En,st(function(){return En})}if("count"in _n){var Nn=_n.count;return Q(Nn,function(Dn,di){return Dn.invoke(di,Nn)})}return Mr?tt(Gr)?Gr?Nr?new Z(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Dn,di){return di.def(Dn.ELEMENTS,".vertCount-",Dn.OFFSET)}):st(function(Dn,di){return di.def(Dn.ELEMENTS,".vertCount")}):st(function(){return-1}):new Z(Gr.thisDep||Nr.thisDep,Gr.contextDep||Nr.contextDep,Gr.propDep||Nr.propDep,function(Dn,di){var oi=Dn.ELEMENTS;return Dn.OFFSET?di.def(oi,"?",oi,".vertCount-",Dn.OFFSET,":-1"):di.def(oi,"?",oi,".vertCount:-1")}):pn?new Z(fn.thisDep,fn.contextDep,fn.propDep,function(Dn,di){return di.def(Dn.shared.vao,".currentVAO?",Dn.shared.vao,".currentVAO.count:-1")}):null}(),An=br("instances",!1);return{elements:Gr,primitive:Kr,count:Tn,instances:An,offset:Nr,vao:fn,vaoActive:pn,elementsActive:Mr,static:Pn}}function lr(Tr,Rr){var br=Tr.static,Br=Tr.dynamic,_n={};return bn.forEach(function(Pn){function pn(Mr,Gr){if(Pn in br){var Nr=Mr(br[Pn]);_n[fn]=st(function(){return Nr})}else if(Pn in Br){var Kr=Br[Pn];_n[fn]=Q(Kr,function(Tn,An){return Gr(Tn,An,Tn.invoke(An,Kr))})}}var fn=hr(Pn);switch(Pn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return pn(function(Mr){return Mr},function(Mr,Gr,Nr){return Nr});case"depth.func":return pn(function(Mr){return Ue[Mr]},function(Mr,Gr,Nr){return Gr.def(Mr.constants.compareFuncs,"[",Nr,"]")});case"depth.range":return pn(function(Mr){return Mr},function(Mr,Gr,Nr){return Mr=Gr.def("+",Nr,"[0]"),Gr=Gr.def("+",Nr,"[1]"),[Mr,Gr]});case"blend.func":return pn(function(Mr){return[Je["srcRGB"in Mr?Mr.srcRGB:Mr.src],Je["dstRGB"in Mr?Mr.dstRGB:Mr.dst],Je["srcAlpha"in Mr?Mr.srcAlpha:Mr.src],Je["dstAlpha"in Mr?Mr.dstAlpha:Mr.dst]]},function(Mr,Gr,Nr){function Kr(Nn,Dn){return Gr.def('"',Nn,Dn,'" in ',Nr,"?",Nr,".",Nn,Dn,":",Nr,".",Nn)}Mr=Mr.constants.blendFuncs;var Tn=Kr("src","RGB"),En=Kr("dst","RGB"),Tn=Gr.def(Mr,"[",Tn,"]"),An=Gr.def(Mr,"[",Kr("src","Alpha"),"]"),En=Gr.def(Mr,"[",En,"]");return Mr=Gr.def(Mr,"[",Kr("dst","Alpha"),"]"),[Tn,En,An,Mr]});case"blend.equation":return pn(function(Mr){if(typeof Mr=="string")return[ri[Mr],ri[Mr]];if(typeof Mr=="object")return[ri[Mr.rgb],ri[Mr.alpha]]},function(Mr,Gr,Nr){var Kr=Mr.constants.blendEquations,Tn=Gr.def(),An=Gr.def();return Mr=Mr.cond("typeof ",Nr,'==="string"'),Mr.then(Tn,"=",An,"=",Kr,"[",Nr,"];"),Mr.else(Tn,"=",Kr,"[",Nr,".rgb];",An,"=",Kr,"[",Nr,".alpha];"),Gr(Mr),[Tn,An]});case"blend.color":return pn(function(Mr){return s(4,function(Gr){return+Mr[Gr]})},function(Mr,Gr,Nr){return s(4,function(Kr){return Gr.def("+",Nr,"[",Kr,"]")})});case"stencil.mask":return pn(function(Mr){return Mr|0},function(Mr,Gr,Nr){return Gr.def(Nr,"|0")});case"stencil.func":return pn(function(Mr){return[Ue[Mr.cmp||"keep"],Mr.ref||0,"mask"in Mr?Mr.mask:-1]},function(Mr,Gr,Nr){Mr=Gr.def('"cmp" in ',Nr,"?",Mr.constants.compareFuncs,"[",Nr,".cmp]",":",7680);var Kr=Gr.def(Nr,".ref|0");return Gr=Gr.def('"mask" in ',Nr,"?",Nr,".mask|0:-1"),[Mr,Kr,Gr]});case"stencil.opFront":case"stencil.opBack":return pn(function(Mr){return[Pn==="stencil.opBack"?1029:1028,ke[Mr.fail||"keep"],ke[Mr.zfail||"keep"],ke[Mr.zpass||"keep"]]},function(Mr,Gr,Nr){function Kr(An){return Gr.def('"',An,'" in ',Nr,"?",Tn,"[",Nr,".",An,"]:",7680)}var Tn=Mr.constants.stencilOps;return[Pn==="stencil.opBack"?1029:1028,Kr("fail"),Kr("zfail"),Kr("zpass")]});case"polygonOffset.offset":return pn(function(Mr){return[Mr.factor|0,Mr.units|0]},function(Mr,Gr,Nr){return Mr=Gr.def(Nr,".factor|0"),Gr=Gr.def(Nr,".units|0"),[Mr,Gr]});case"cull.face":return pn(function(Mr){var Gr=0;return Mr==="front"?Gr=1028:Mr==="back"&&(Gr=1029),Gr},function(Mr,Gr,Nr){return Gr.def(Nr,'==="front"?',1028,":",1029)});case"lineWidth":return pn(function(Mr){return Mr},function(Mr,Gr,Nr){return Nr});case"frontFace":return pn(function(Mr){return Le[Mr]},function(Mr,Gr,Nr){return Gr.def(Nr+'==="cw"?2304:2305')});case"colorMask":return pn(function(Mr){return Mr.map(function(Gr){return!!Gr})},function(Mr,Gr,Nr){return s(4,function(Kr){return"!!"+Nr+"["+Kr+"]"})});case"sample.coverage":return pn(function(Mr){return["value"in Mr?Mr.value:1,!!Mr.invert]},function(Mr,Gr,Nr){return Mr=Gr.def('"value" in ',Nr,"?+",Nr,".value:1"),Gr=Gr.def("!!",Nr,".invert"),[Mr,Gr]})}}),_n}function vr(Tr,Rr){var br=Tr.static,Br=Tr.dynamic,_n={};return Object.keys(br).forEach(function(Pn){var pn=br[Pn],fn;if(typeof pn=="number"||typeof pn=="boolean")fn=st(function(){return pn});else if(typeof pn=="function"){var Mr=pn._reglType;Mr==="texture2d"||Mr==="textureCube"?fn=st(function(Gr){return Gr.link(pn)}):(Mr==="framebuffer"||Mr==="framebufferCube")&&(fn=st(function(Gr){return Gr.link(pn.color[0])}))}else S(pn)&&(fn=st(function(Gr){return Gr.global.def("[",s(pn.length,function(Nr){return pn[Nr]}),"]")}));fn.value=pn,_n[Pn]=fn}),Object.keys(Br).forEach(function(Pn){var pn=Br[Pn];_n[Pn]=Q(pn,function(fn,Mr){return fn.invoke(Mr,pn)})}),_n}function dr(Tr,Rr){var br=Tr.static,Br=Tr.dynamic,_n={};return Object.keys(br).forEach(function(Pn){var pn=br[Pn],fn=Xe.id(Pn),Mr=new li;if(J(pn))Mr.state=1,Mr.buffer=rr.getBuffer(rr.create(pn,34962,!1,!0)),Mr.type=0;else{var Gr=rr.getBuffer(pn);if(Gr)Mr.state=1,Mr.buffer=Gr,Mr.type=0;else if("constant"in pn){var Nr=pn.constant;Mr.buffer="null",Mr.state=2,typeof Nr=="number"?Mr.x=Nr:he.forEach(function(Dn,di){di<Nr.length&&(Mr[Dn]=Nr[di])})}else{var Gr=J(pn.buffer)?rr.getBuffer(rr.create(pn.buffer,34962,!1,!0)):rr.getBuffer(pn.buffer),Kr=pn.offset|0,Tn=pn.stride|0,An=pn.size|0,En=!!pn.normalized,Nn=0;"type"in pn&&(Nn=Ht[pn.type]),pn=pn.divisor|0,Mr.buffer=Gr,Mr.state=1,Mr.size=An,Mr.normalized=En,Mr.type=Nn||Gr.dtype,Mr.offset=Kr,Mr.stride=Tn,Mr.divisor=pn}}_n[Pn]=st(function(Dn,di){var oi=Dn.attribCache;if(fn in oi)return oi[fn];var hi={isStream:!1};return Object.keys(Mr).forEach(function(Ci){hi[Ci]=Mr[Ci]}),Mr.buffer&&(hi.buffer=Dn.link(Mr.buffer),hi.type=hi.type||hi.buffer+".dtype"),oi[fn]=hi})}),Object.keys(Br).forEach(function(Pn){var pn=Br[Pn];_n[Pn]=Q(pn,function(fn,Mr){function Gr(oi){Mr(En[oi],"=",Nr,".",oi,"|0;")}var Nr=fn.invoke(Mr,pn),An=fn.shared,Kr=fn.constants,Tn=An.isBufferArgs,An=An.buffer,En={isStream:Mr.def(!1)},Nn=new li;Nn.state=1,Object.keys(Nn).forEach(function(oi){En[oi]=Mr.def(""+Nn[oi])});var Dn=En.buffer,di=En.type;return Mr("if(",Tn,"(",Nr,")){",En.isStream,"=true;",Dn,"=",An,".createStream(",34962,",",Nr,");",di,"=",Dn,".dtype;","}else{",Dn,"=",An,".getBuffer(",Nr,");","if(",Dn,"){",di,"=",Dn,".dtype;",'}else if("constant" in ',Nr,"){",En.state,"=",2,";","if(typeof "+Nr+'.constant === "number"){',En[he[0]],"=",Nr,".constant;",he.slice(1).map(function(oi){return En[oi]}).join("="),"=0;","}else{",he.map(function(oi,hi){return En[oi]+"="+Nr+".constant.length>"+hi+"?"+Nr+".constant["+hi+"]:0;"}).join(""),"}}else{","if(",Tn,"(",Nr,".buffer)){",Dn,"=",An,".createStream(",34962,",",Nr,".buffer);","}else{",Dn,"=",An,".getBuffer(",Nr,".buffer);","}",di,'="type" in ',Nr,"?",Kr.glTypes,"[",Nr,".type]:",Dn,".dtype;",En.normalized,"=!!",Nr,".normalized;"),Gr("size"),Gr("offset"),Gr("stride"),Gr("divisor"),Mr("}}"),Mr.exit("if(",En.isStream,"){",An,".destroyStream(",Dn,");","}"),En})}),_n}function fr(Tr){var Rr=Tr.static,br=Tr.dynamic,Br={};return Object.keys(Rr).forEach(function(_n){var Pn=Rr[_n];Br[_n]=st(function(pn,fn){return typeof Pn=="number"||typeof Pn=="boolean"?""+Pn:pn.link(Pn)})}),Object.keys(br).forEach(function(_n){var Pn=br[_n];Br[_n]=Q(Pn,function(pn,fn){return pn.invoke(fn,Pn)})}),Br}function zr(Tr,Rr,br,Br,_n){function Pn(Nn){var Dn=fn[Nn];Dn&&(Gr[Nn]=Dn)}var pn=ir(Tr,Rr),Tn=We(Tr),fn=$e(Tr,Tn),Mr=De(Tr),Gr=lr(Tr),Nr=er(Tr,_n,pn);Pn("viewport"),Pn(hr("scissor.box"));var Kr=0<Object.keys(Gr).length,Tn={framebuffer:Tn,draw:Mr,shader:Nr,state:Gr,dirty:Kr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Tn.profile=Ie(Tr),Tn.uniforms=vr(br),Tn.drawVAO=Tn.scopeVAO=Mr.vao,!Tn.drawVAO&&Nr.program&&!pn&&Ye.angle_instanced_arrays&&Mr.static.elements){var An=!0;if(Tr=Nr.program.attributes.map(function(Nn){return Nn=Rr.static[Nn],An=An&&!!Nn,Nn}),An&&0<Tr.length){var En=ze.getVAO(ze.createVAO({attributes:Tr,elements:Mr.static.elements}));Tn.drawVAO=new Z(null,null,null,function(Nn,Dn){return Nn.link(En)}),Tn.useVAO=!0}}return pn?Tn.useVAO=!0:Tn.attributes=dr(Rr),Tn.context=fr(Br),Tn}function Or(Tr,Rr,br){var Br=Tr.shared.context,_n=Tr.scope();Object.keys(br).forEach(function(Pn){Rr.save(Br,"."+Pn);var pn=br[Pn].append(Tr,Rr);Array.isArray(pn)?_n(Br,".",Pn,"=[",pn.join(),"];"):_n(Br,".",Pn,"=",pn,";")}),Rr(_n)}function Ir(Tr,Rr,br,Br){var fn=Tr.shared,_n=fn.gl,Pn=fn.framebuffer,pn;en&&(pn=Rr.def(fn.extensions,".webgl_draw_buffers"));var Mr=Tr.constants,fn=Mr.drawBuffer,Mr=Mr.backBuffer;Tr=br?br.append(Tr,Rr):Rr.def(Pn,".next"),Br||Rr("if(",Tr,"!==",Pn,".cur){"),Rr("if(",Tr,"){",_n,".bindFramebuffer(",36160,",",Tr,".framebuffer);"),en&&Rr(pn,".drawBuffersWEBGL(",fn,"[",Tr,".colorAttachments.length]);"),Rr("}else{",_n,".bindFramebuffer(",36160,",null);"),en&&Rr(pn,".drawBuffersWEBGL(",Mr,");"),Rr("}",Pn,".cur=",Tr,";"),Br||Rr("}")}function sn(Tr,Rr,br){var Br=Tr.shared,_n=Br.gl,Pn=Tr.current,pn=Tr.next,fn=Br.current,Mr=Br.next,Gr=Tr.cond(fn,".dirty");bn.forEach(function(Nr){if(Nr=hr(Nr),!(Nr in br.state)){var Kr,Tn;if(Nr in pn){Kr=pn[Nr],Tn=Pn[Nr];var An=s(vn[Nr].length,function(En){return Gr.def(Kr,"[",En,"]")});Gr(Tr.cond(An.map(function(En,Nn){return En+"!=="+Tn+"["+Nn+"]"}).join("||")).then(_n,".",Bn[Nr],"(",An,");",An.map(function(En,Nn){return Tn+"["+Nn+"]="+En}).join(";"),";"))}else Kr=Gr.def(Mr,".",Nr),An=Tr.cond(Kr,"!==",fn,".",Nr),Gr(An),Nr in In?An(Tr.cond(Kr).then(_n,".enable(",In[Nr],");").else(_n,".disable(",In[Nr],");"),fn,".",Nr,"=",Kr,";"):An(_n,".",Bn[Nr],"(",Kr,");",fn,".",Nr,"=",Kr,";")}}),Object.keys(br.state).length===0&&Gr(fn,".dirty=false;"),Rr(Gr)}function nn(Tr,Rr,br,Br){var _n=Tr.shared,Pn=Tr.current,pn=_n.current,fn=_n.gl,Mr;it(Object.keys(br)).forEach(function(Gr){var Nr=br[Gr];if(!Br||Br(Nr)){var Kr=Nr.append(Tr,Rr);if(In[Gr]){var Tn=In[Gr];tt(Nr)?(Mr=Tr.link(Kr,{stable:!0}),Rr(Tr.cond(Mr).then(fn,".enable(",Tn,");").else(fn,".disable(",Tn,");")),Rr(pn,".",Gr,"=",Mr,";")):(Rr(Tr.cond(Kr).then(fn,".enable(",Tn,");").else(fn,".disable(",Tn,");")),Rr(pn,".",Gr,"=",Kr,";"))}else if(S(Kr)){var An=Pn[Gr];Rr(fn,".",Bn[Gr],"(",Kr,");",Kr.map(function(En,Nn){return An+"["+Nn+"]="+En}).join(";"),";")}else tt(Nr)?(Mr=Tr.link(Kr,{stable:!0}),Rr(fn,".",Bn[Gr],"(",Mr,");",pn,".",Gr,"=",Mr,";")):Rr(fn,".",Bn[Gr],"(",Kr,");",pn,".",Gr,"=",Kr,";")}})}function kn(Tr,Rr){yr&&(Tr.instancing=Rr.def(Tr.shared.extensions,".angle_instanced_arrays"))}function Mn(Tr,Rr,br,Br,_n){function Pn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function pn(Nn){An=Rr.def(),Nn(An,"=",Pn(),";"),typeof _n=="string"?Nn(Nr,".count+=",_n,";"):Nn(Nr,".count++;"),Ke&&(Br?(En=Rr.def(),Nn(En,"=",Tn,".getNumPendingQueries();")):Nn(Tn,".beginQuery(",Nr,");"))}function fn(Nn){Nn(Nr,".cpuTime+=",Pn(),"-",An,";"),Ke&&(Br?Nn(Tn,".pushScopeStats(",En,",",Tn,".getNumPendingQueries(),",Nr,");"):Nn(Tn,".endQuery();"))}function Mr(Nn){var Dn=Rr.def(Kr,".profile");Rr(Kr,".profile=",Nn,";"),Rr.exit(Kr,".profile=",Dn,";")}var Gr=Tr.shared,Nr=Tr.stats,Kr=Gr.current,Tn=Gr.timer;br=br.profile;var An,En;if(br){if(tt(br)){br.enable?(pn(Rr),fn(Rr.exit),Mr("true")):Mr("false");return}br=br.append(Tr,Rr),Mr(br)}else br=Rr.def(Kr,".profile");Gr=Tr.block(),pn(Gr),Rr("if(",br,"){",Gr,"}"),Tr=Tr.block(),fn(Tr),Rr.exit("if(",br,"){",Tr,"}")}function kr(Tr,Rr,br,Br,_n){function Pn(Mr){switch(Mr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function pn(Mr,Gr,Nr){function Kr(){Rr("if(!",Nn,".buffer){",An,".enableVertexAttribArray(",En,");}");var hi=Nr.type,Ci;Ci=Nr.size?Rr.def(Nr.size,"||",Gr):Gr,Rr("if(",Nn,".type!==",hi,"||",Nn,".size!==",Ci,"||",oi.map(function(pa){return Nn+"."+pa+"!=="+Nr[pa]}).join("||"),"){",An,".bindBuffer(",34962,",",Dn,".buffer);",An,".vertexAttribPointer(",[En,Ci,hi,Nr.normalized,Nr.stride,Nr.offset],");",Nn,".type=",hi,";",Nn,".size=",Ci,";",oi.map(function(pa){return Nn+"."+pa+"="+Nr[pa]+";"}).join(""),"}"),yr&&(hi=Nr.divisor,Rr("if(",Nn,".divisor!==",hi,"){",Tr.instancing,".vertexAttribDivisorANGLE(",[En,hi],");",Nn,".divisor=",hi,";}"))}function Tn(){Rr("if(",Nn,".buffer){",An,".disableVertexAttribArray(",En,");",Nn,".buffer=null;","}if(",he.map(function(hi,Ci){return Nn+"."+hi+"!=="+di[Ci]}).join("||"),"){",An,".vertexAttrib4f(",En,",",di,");",he.map(function(hi,Ci){return Nn+"."+hi+"="+di[Ci]+";"}).join(""),"}")}var An=fn.gl,En=Rr.def(Mr,".location"),Nn=Rr.def(fn.attributes,"[",En,"]");Mr=Nr.state;var Dn=Nr.buffer,di=[Nr.x,Nr.y,Nr.z,Nr.w],oi=["buffer","normalized","offset","stride"];Mr===1?Kr():Mr===2?Tn():(Rr("if(",Mr,"===",1,"){"),Kr(),Rr("}else{"),Tn(),Rr("}"))}var fn=Tr.shared;Br.forEach(function(Mr){var Gr=Mr.name,Nr=br.attributes[Gr],Kr;if(Nr){if(!_n(Nr))return;Kr=Nr.append(Tr,Rr)}else{if(!_n(Ge))return;var Tn=Tr.scopeAttrib(Gr);Kr={},Object.keys(new li).forEach(function(An){Kr[An]=Rr.def(Tn,".",An)})}pn(Tr.link(Mr),Pn(Mr.info.type),Kr)})}function Er(Tr,Rr,br,Br,_n,Pn){for(var pn=Tr.shared,fn=pn.gl,Mr,Gr=0;Gr<Br.length;++Gr){var An=Br[Gr],Nr=An.name,Kr=An.info.type,Tn=br.uniforms[Nr],An=Tr.link(An)+".location",En;if(Tn){if(!_n(Tn))continue;if(tt(Tn)){if(Nr=Tn.value,Kr===35678||Kr===35680)Kr=Tr.link(Nr._texture||Nr.color[0]._texture),Rr(fn,".uniform1i(",An,",",Kr+".bind());"),Rr.exit(Kr,".unbind();");else if(Kr===35674||Kr===35675||Kr===35676)Nr=Tr.global.def("new Float32Array(["+Array.prototype.slice.call(Nr)+"])"),Tn=2,Kr===35675?Tn=3:Kr===35676&&(Tn=4),Rr(fn,".uniformMatrix",Tn,"fv(",An,",false,",Nr,");");else{switch(Kr){case 5126:Mr="1f";break;case 35664:Mr="2f";break;case 35665:Mr="3f";break;case 35666:Mr="4f";break;case 35670:Mr="1i";break;case 5124:Mr="1i";break;case 35671:Mr="2i";break;case 35667:Mr="2i";break;case 35672:Mr="3i";break;case 35668:Mr="3i";break;case 35673:Mr="4i";break;case 35669:Mr="4i"}Rr(fn,".uniform",Mr,"(",An,",",S(Nr)?Array.prototype.slice.call(Nr):Nr,");")}continue}else En=Tn.append(Tr,Rr)}else{if(!_n(Ge))continue;En=Rr.def(pn.uniforms,"[",Xe.id(Nr),"]")}switch(Kr===35678?Rr("if(",En,"&&",En,'._reglType==="framebuffer"){',En,"=",En,".color[0];","}"):Kr===35680&&Rr("if(",En,"&&",En,'._reglType==="framebufferCube"){',En,"=",En,".color[0];","}"),Nr=1,Kr){case 35678:case 35680:Kr=Rr.def(En,"._texture"),Rr(fn,".uniform1i(",An,",",Kr,".bind());"),Rr.exit(Kr,".unbind();");continue;case 5124:case 35670:Mr="1i";break;case 35667:case 35671:Mr="2i",Nr=2;break;case 35668:case 35672:Mr="3i",Nr=3;break;case 35669:case 35673:Mr="4i",Nr=4;break;case 5126:Mr="1f";break;case 35664:Mr="2f",Nr=2;break;case 35665:Mr="3f",Nr=3;break;case 35666:Mr="4f",Nr=4;break;case 35674:Mr="Matrix2fv";break;case 35675:Mr="Matrix3fv";break;case 35676:Mr="Matrix4fv"}if(Mr.charAt(0)==="M"){Rr(fn,".uniform",Mr,"(",An,",");var An=Math.pow(Kr-35674+2,2),Nn=Tr.global.def("new Float32Array(",An,")");Array.isArray(En)?Rr("false,(",s(An,function(oi){return Nn+"["+oi+"]="+En[oi]}),",",Nn,")"):Rr("false,(Array.isArray(",En,")||",En," instanceof Float32Array)?",En,":(",s(An,function(oi){return Nn+"["+oi+"]="+En+"["+oi+"]"}),",",Nn,")"),Rr(");")}else{if(1<Nr){for(var Kr=[],Dn=[],Tn=0;Tn<Nr;++Tn)Array.isArray(En)?Dn.push(En[Tn]):Dn.push(Rr.def(En+"["+Tn+"]")),Pn&&Kr.push(Rr.def());Pn&&Rr("if(!",Tr.batchId,"||",Kr.map(function(di,oi){return di+"!=="+Dn[oi]}).join("||"),"){",Kr.map(function(di,oi){return di+"="+Dn[oi]+";"}).join("")),Rr(fn,".uniform",Mr,"(",An,",",Dn.join(","),");")}else Pn&&(Kr=Rr.def(),Rr("if(!",Tr.batchId,"||",Kr,"!==",En,"){",Kr,"=",En,";")),Rr(fn,".uniform",Mr,"(",An,",",En,");");Pn&&Rr("}")}}}function Vr(Tr,Rr,br,Br){function _n(hi){var Ci=Nr[hi];return Ci?Ci.contextDep&&Br.contextDynamic||Ci.propDep?Ci.append(Tr,br):Ci.append(Tr,Rr):Rr.def(Gr,".",hi)}function Pn(){function hi(){br(Dn,".drawElementsInstancedANGLE(",[Tn,En,di,An+"<<(("+di+"-5121)>>1)",Nn],");")}function Ci(){br(Dn,".drawArraysInstancedANGLE(",[Tn,An,En,Nn],");")}Kr&&Kr!=="null"?oi?hi():(br("if(",Kr,"){"),hi(),br("}else{"),Ci(),br("}")):Ci()}function pn(){function hi(){br(Mr+".drawElements("+[Tn,En,di,An+"<<(("+di+"-5121)>>1)"]+");")}function Ci(){br(Mr+".drawArrays("+[Tn,An,En]+");")}Kr&&Kr!=="null"?oi?hi():(br("if(",Kr,"){"),hi(),br("}else{"),Ci(),br("}")):Ci()}var fn=Tr.shared,Mr=fn.gl,Gr=fn.draw,Nr=Br.draw,Kr=function(){var hi=Nr.elements,Ci=Rr;return hi?((hi.contextDep&&Br.contextDynamic||hi.propDep)&&(Ci=br),hi=hi.append(Tr,Ci),Nr.elementsActive&&Ci("if("+hi+")"+Mr+".bindBuffer(34963,"+hi+".buffer.buffer);")):(hi=Ci.def(),Ci(hi,"=",Gr,".","elements",";","if(",hi,"){",Mr,".bindBuffer(",34963,",",hi,".buffer.buffer);}","else if(",fn.vao,".currentVAO){",hi,"=",Tr.shared.elements+".getElements("+fn.vao,".currentVAO.elements);",Jr?"":"if("+hi+")"+Mr+".bindBuffer(34963,"+hi+".buffer.buffer);","}")),hi}(),Tn=_n("primitive"),An=_n("offset"),En=function(){var hi=Nr.count,Ci=Rr;return hi?((hi.contextDep&&Br.contextDynamic||hi.propDep)&&(Ci=br),hi=hi.append(Tr,Ci)):hi=Ci.def(Gr,".","count"),hi}();if(typeof En=="number"){if(En===0)return}else br("if(",En,"){"),br.exit("}");var Nn,Dn;yr&&(Nn=_n("instances"),Dn=Tr.instancing);var di=Kr+".type",oi=Nr.elements&&tt(Nr.elements)&&!Nr.vaoActive;yr&&(typeof Nn!="number"||0<=Nn)?typeof Nn=="string"?(br("if(",Nn,">0){"),Pn(),br("}else if(",Nn,"<0){"),pn(),br("}")):Pn():pn()}function qr(Tr,Rr,br,Br,_n){return Rr=Ce(),_n=Rr.proc("body",_n),yr&&(Rr.instancing=_n.def(Rr.shared.extensions,".angle_instanced_arrays")),Tr(Rr,_n,br,Br),Rr.compile().body}function rn(Tr,Rr,br,Br){kn(Tr,Rr),br.useVAO?br.drawVAO?Rr(Tr.shared.vao,".setVAO(",br.drawVAO.append(Tr,Rr),");"):Rr(Tr.shared.vao,".setVAO(",Tr.shared.vao,".targetVAO);"):(Rr(Tr.shared.vao,".setVAO(null);"),kr(Tr,Rr,br,Br.attributes,function(){return!0})),Er(Tr,Rr,br,Br.uniforms,function(){return!0},!1),Vr(Tr,Rr,Rr,br)}function gn(Tr,Rr){var br=Tr.proc("draw",1);kn(Tr,br),Or(Tr,br,Rr.context),Ir(Tr,br,Rr.framebuffer),sn(Tr,br,Rr),nn(Tr,br,Rr.state),Mn(Tr,br,Rr,!1,!0);var Br=Rr.shader.progVar.append(Tr,br);if(br(Tr.shared.gl,".useProgram(",Br,".program);"),Rr.shader.program)rn(Tr,br,Rr,Rr.shader.program);else{br(Tr.shared.vao,".setVAO(null);");var _n=Tr.global.def("{}"),Pn=br.def(Br,".id"),pn=br.def(_n,"[",Pn,"]");br(Tr.cond(pn).then(pn,".call(this,a0);").else(pn,"=",_n,"[",Pn,"]=",Tr.link(function(fn){return qr(rn,Tr,Rr,fn,1)}),"(",Br,");",pn,".call(this,a0);"))}0<Object.keys(Rr.state).length&&br(Tr.shared.current,".dirty=true;"),Tr.shared.vao&&br(Tr.shared.vao,".setVAO(null);")}function ln(Tr,Rr,br,Br){function _n(){return!0}Tr.batchId="a1",kn(Tr,Rr),kr(Tr,Rr,br,Br.attributes,_n),Er(Tr,Rr,br,Br.uniforms,_n,!1),Vr(Tr,Rr,Rr,br)}function zn(Tr,Rr,br,Br){function _n(Kr){return Kr.contextDep&&pn||Kr.propDep}function Pn(Kr){return!_n(Kr)}kn(Tr,Rr);var pn=br.contextDep,fn=Rr.def(),Mr=Rr.def();Tr.shared.props=Mr,Tr.batchId=fn;var Gr=Tr.scope(),Nr=Tr.scope();Rr(Gr.entry,"for(",fn,"=0;",fn,"<","a1",";++",fn,"){",Mr,"=","a0","[",fn,"];",Nr,"}",Gr.exit),br.needsContext&&Or(Tr,Nr,br.context),br.needsFramebuffer&&Ir(Tr,Nr,br.framebuffer),nn(Tr,Nr,br.state,_n),br.profile&&_n(br.profile)&&Mn(Tr,Nr,br,!1,!0),Br?(br.useVAO?br.drawVAO?_n(br.drawVAO)?Nr(Tr.shared.vao,".setVAO(",br.drawVAO.append(Tr,Nr),");"):Gr(Tr.shared.vao,".setVAO(",br.drawVAO.append(Tr,Gr),");"):Gr(Tr.shared.vao,".setVAO(",Tr.shared.vao,".targetVAO);"):(Gr(Tr.shared.vao,".setVAO(null);"),kr(Tr,Gr,br,Br.attributes,Pn),kr(Tr,Nr,br,Br.attributes,_n)),Er(Tr,Gr,br,Br.uniforms,Pn,!1),Er(Tr,Nr,br,Br.uniforms,_n,!0),Vr(Tr,Gr,Nr,br)):(Rr=Tr.global.def("{}"),Br=br.shader.progVar.append(Tr,Nr),Mr=Nr.def(Br,".id"),Gr=Nr.def(Rr,"[",Mr,"]"),Nr(Tr.shared.gl,".useProgram(",Br,".program);","if(!",Gr,"){",Gr,"=",Rr,"[",Mr,"]=",Tr.link(function(Kr){return qr(ln,Tr,br,Kr,2)}),"(",Br,");}",Gr,".call(this,a0[",fn,"],",fn,");"))}function Rn(Tr,Rr){function br(Gr){return Gr.contextDep&&_n||Gr.propDep}var Br=Tr.proc("batch",2);Tr.batchId="0",kn(Tr,Br);var _n=!1,Pn=!0;Object.keys(Rr.context).forEach(function(Gr){_n=_n||Rr.context[Gr].propDep}),_n||(Or(Tr,Br,Rr.context),Pn=!1);var pn=Rr.framebuffer,fn=!1;if(pn?(pn.propDep?_n=fn=!0:pn.contextDep&&_n&&(fn=!0),fn||Ir(Tr,Br,pn)):Ir(Tr,Br,null),Rr.state.viewport&&Rr.state.viewport.propDep&&(_n=!0),sn(Tr,Br,Rr),nn(Tr,Br,Rr.state,function(Gr){return!br(Gr)}),Rr.profile&&br(Rr.profile)||Mn(Tr,Br,Rr,!1,"a1"),Rr.contextDep=_n,Rr.needsContext=Pn,Rr.needsFramebuffer=fn,Pn=Rr.shader.progVar,Pn.contextDep&&_n||Pn.propDep)zn(Tr,Br,Rr,null);else if(Pn=Pn.append(Tr,Br),Br(Tr.shared.gl,".useProgram(",Pn,".program);"),Rr.shader.program)zn(Tr,Br,Rr,Rr.shader.program);else{Br(Tr.shared.vao,".setVAO(null);");var pn=Tr.global.def("{}"),fn=Br.def(Pn,".id"),Mr=Br.def(pn,"[",fn,"]");Br(Tr.cond(Mr).then(Mr,".call(this,a0,a1);").else(Mr,"=",pn,"[",fn,"]=",Tr.link(function(Kr){return qr(zn,Tr,Rr,Kr,2)}),"(",Pn,");",Mr,".call(this,a0,a1);"))}0<Object.keys(Rr.state).length&&Br(Tr.shared.current,".dirty=true;"),Tr.shared.vao&&Br(Tr.shared.vao,".setVAO(null);")}function ai(Tr,Rr){function br(fn){var Mr=Rr.shader[fn];Mr&&(Mr=Mr.append(Tr,Br),isNaN(Mr)?Br.set(_n.shader,"."+fn,Mr):Br.set(_n.shader,"."+fn,Tr.link(Mr,{stable:!0})))}var Br=Tr.proc("scope",3);Tr.batchId="a2";var _n=Tr.shared,Pn=_n.current;if(Or(Tr,Br,Rr.context),Rr.framebuffer&&Rr.framebuffer.append(Tr,Br),it(Object.keys(Rr.state)).forEach(function(fn){var Mr=Rr.state[fn],Gr=Mr.append(Tr,Br);S(Gr)?Gr.forEach(function(Nr,Kr){isNaN(Nr)?Br.set(Tr.next[fn],"["+Kr+"]",Nr):Br.set(Tr.next[fn],"["+Kr+"]",Tr.link(Nr,{stable:!0}))}):tt(Mr)?Br.set(_n.next,"."+fn,Tr.link(Gr,{stable:!0})):Br.set(_n.next,"."+fn,Gr)}),Mn(Tr,Br,Rr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(fn){var Mr=Rr.draw[fn];Mr&&(Mr=Mr.append(Tr,Br),isNaN(Mr)?Br.set(_n.draw,"."+fn,Mr):Br.set(_n.draw,"."+fn,Tr.link(Mr),{stable:!0}))}),Object.keys(Rr.uniforms).forEach(function(fn){var Mr=Rr.uniforms[fn].append(Tr,Br);Array.isArray(Mr)&&(Mr="["+Mr.map(function(Gr){return isNaN(Gr)?Gr:Tr.link(Gr,{stable:!0})})+"]"),Br.set(_n.uniforms,"["+Tr.link(Xe.id(fn),{stable:!0})+"]",Mr)}),Object.keys(Rr.attributes).forEach(function(fn){var Mr=Rr.attributes[fn].append(Tr,Br),Gr=Tr.scopeAttrib(fn);Object.keys(new li).forEach(function(Nr){Br.set(Gr,"."+Nr,Mr[Nr])})}),Rr.scopeVAO){var pn=Rr.scopeVAO.append(Tr,Br);isNaN(pn)?Br.set(_n.vao,".targetVAO",pn):Br.set(_n.vao,".targetVAO",Tr.link(pn,{stable:!0}))}br("vert"),br("frag"),0<Object.keys(Rr.state).length&&(Br(Pn,".dirty=true;"),Br.exit(Pn,".dirty=true;")),Br("a1(",Tr.shared.context,",a0,",Tr.batchId,");")}function fi(Tr){if(typeof Tr=="object"&&!S(Tr)){for(var Rr=Object.keys(Tr),br=0;br<Rr.length;++br)if(gt.isDynamic(Tr[Rr[br]]))return!0;return!1}}function mi(Tr,Rr,br){function Br(Kr,Tn){pn.forEach(function(An){var En=_n[An];gt.isDynamic(En)&&(En=Kr.invoke(Tn,En),Tn(Nr,".",An,"=",En,";"))})}var _n=Rr.static[br];if(_n&&fi(_n)){var Pn=Tr.global,pn=Object.keys(_n),fn=!1,Mr=!1,Gr=!1,Nr=Tr.global.def("{}");pn.forEach(function(Kr){var Tn=_n[Kr];if(gt.isDynamic(Tn))typeof Tn=="function"&&(Tn=_n[Kr]=gt.unbox(Tn)),Kr=Q(Tn,null),fn=fn||Kr.thisDep,Gr=Gr||Kr.propDep,Mr=Mr||Kr.contextDep;else{switch(Pn(Nr,".",Kr,"="),typeof Tn){case"number":Pn(Tn);break;case"string":Pn('"',Tn,'"');break;case"object":Array.isArray(Tn)&&Pn("[",Tn.join(),"]");break;default:Pn(Tr.link(Tn))}Pn(";")}}),Rr.dynamic[br]=new gt.DynamicVariable(4,{thisDep:fn,contextDep:Mr,propDep:Gr,ref:Nr,append:Br}),delete Rr.static[br]}}var li=ze.Record,ri={add:32774,subtract:32778,"reverse subtract":32779};Ye.ext_blend_minmax&&(ri.min=32775,ri.max=32776);var yr=Ye.angle_instanced_arrays,en=Ye.webgl_draw_buffers,Jr=Ye.oes_vertex_array_object,vn={dirty:!0,profile:pr.profile},Vn={},bn=[],In={},Bn={};jt("dither",3024),jt("blend.enable",3042),Gt("blend.color","blendColor",[0,0,0,0]),Gt("blend.equation","blendEquationSeparate",[32774,32774]),Gt("blend.func","blendFuncSeparate",[1,0,1,0]),jt("depth.enable",2929,!0),Gt("depth.func","depthFunc",513),Gt("depth.range","depthRange",[0,1]),Gt("depth.mask","depthMask",!0),Gt("colorMask","colorMask",[!0,!0,!0,!0]),jt("cull.enable",2884),Gt("cull.face","cullFace",1029),Gt("frontFace","frontFace",2305),Gt("lineWidth","lineWidth",1),jt("polygonOffset.enable",32823),Gt("polygonOffset.offset","polygonOffset",[0,0]),jt("sample.alpha",32926),jt("sample.enable",32928),Gt("sample.coverage","sampleCoverage",[1,!1]),jt("stencil.enable",2960),Gt("stencil.mask","stencilMask",-1),Gt("stencil.func","stencilFunc",[519,0,-1]),Gt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Gt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),jt("scissor.enable",3089),Gt("scissor.box","scissor",[0,0,xe.drawingBufferWidth,xe.drawingBufferHeight]),Gt("viewport","viewport",[0,0,xe.drawingBufferWidth,xe.drawingBufferHeight]);var Kn={gl:xe,context:Re,strings:Xe,next:Vn,current:vn,draw:Fe,elements:re,buffer:rr,shader:Oe,attributes:ze.state,vao:ze,uniforms:Ee,framebuffer:me,extensions:Ye,timer:Ke,isBufferArgs:J},pi={primTypes:ue,compareFuncs:Ue,blendFuncs:Je,blendEquations:ri,stencilOps:ke,glTypes:Ht,orientationType:Le};en&&(pi.backBuffer=[1029],pi.drawBuffer=s(_r.maxDrawbuffers,function(Tr){return Tr===0?[0]:s(Tr,function(Rr){return 36064+Rr})}));var Ni=0;return{next:Vn,current:vn,procs:function(){var Tr=Ce(),Rr=Tr.proc("poll"),br=Tr.proc("refresh"),Br=Tr.block();Rr(Br),br(Br);var Mr=Tr.shared,_n=Mr.gl,Pn=Mr.next,pn=Mr.current;Br(pn,".dirty=false;"),Ir(Tr,Rr),Ir(Tr,br,null,!0);var fn;yr&&(fn=Tr.link(yr)),Ye.oes_vertex_array_object&&br(Tr.link(Ye.oes_vertex_array_object),".bindVertexArrayOES(null);");var Mr=br.def(Mr.attributes),Gr=br.def(0),Nr=Tr.cond(Gr,".buffer");Nr.then(_n,".enableVertexAttribArray(i);",_n,".bindBuffer(",34962,",",Gr,".buffer.buffer);",_n,".vertexAttribPointer(i,",Gr,".size,",Gr,".type,",Gr,".normalized,",Gr,".stride,",Gr,".offset);").else(_n,".disableVertexAttribArray(i);",_n,".vertexAttrib4f(i,",Gr,".x,",Gr,".y,",Gr,".z,",Gr,".w);",Gr,".buffer=null;");var Kr=Tr.link(_r.maxAttributes,{stable:!0});return br("for(var i=0;i<",Kr,";++i){",Gr,"=",Mr,"[i];",Nr,"}"),yr&&br("for(var i=0;i<",Kr,";++i){",fn,".vertexAttribDivisorANGLE(i,",Mr,"[i].divisor);","}"),br(Tr.shared.vao,".currentVAO=null;",Tr.shared.vao,".setVAO(",Tr.shared.vao,".targetVAO);"),Object.keys(In).forEach(function(Tn){var An=In[Tn],En=Br.def(Pn,".",Tn),Nn=Tr.block();Nn("if(",En,"){",_n,".enable(",An,")}else{",_n,".disable(",An,")}",pn,".",Tn,"=",En,";"),br(Nn),Rr("if(",En,"!==",pn,".",Tn,"){",Nn,"}")}),Object.keys(Bn).forEach(function(Tn){var An=Bn[Tn],En=vn[Tn],Nn,Dn,di=Tr.block();di(_n,".",An,"("),S(En)?(An=En.length,Nn=Tr.global.def(Pn,".",Tn),Dn=Tr.global.def(pn,".",Tn),di(s(An,function(oi){return Nn+"["+oi+"]"}),");",s(An,function(oi){return Dn+"["+oi+"]="+Nn+"["+oi+"];"}).join("")),Rr("if(",s(An,function(oi){return Nn+"["+oi+"]!=="+Dn+"["+oi+"]"}).join("||"),"){",di,"}")):(Nn=Br.def(Pn,".",Tn),Dn=Br.def(pn,".",Tn),di(Nn,");",pn,".",Tn,"=",Nn,";"),Rr("if(",Nn,"!==",Dn,"){",di,"}")),br(di)}),Tr.compile()}(),compile:function(Tr,Rr,br,Br,_n){var Pn=Ce();Pn.stats=Pn.link(_n),Object.keys(Rr.static).forEach(function(fn){mi(Pn,Rr,fn)}),ve.forEach(function(fn){mi(Pn,Tr,fn)});var pn=zr(Tr,Rr,br,Br,Pn);return pn.shader.program&&(pn.shader.program.attributes.sort(function(fn,Mr){return fn.name<Mr.name?-1:1}),pn.shader.program.uniforms.sort(function(fn,Mr){return fn.name<Mr.name?-1:1})),gn(Pn,pn),ai(Pn,pn),Rn(Pn,pn),at(Pn.compile(),{destroy:function(){pn.shader.program.destroy()}})}}}function ut(xe,Xe){for(var Ye=0;Ye<xe.length;++Ye)if(xe[Ye]===Xe)return Ye;return-1}var at=function(xe,Xe){for(var Ye=Object.keys(Xe),_r=0;_r<Ye.length;++_r)xe[Ye[_r]]=Xe[Ye[_r]];return xe},dt=0,gt={DynamicVariable:B,define:function(xe,Xe){return new B(xe,x(Xe+""))},isDynamic:function(xe){return typeof xe=="function"&&!xe._reglType||xe instanceof B},unbox:E,accessor:x},wt={next:typeof requestAnimationFrame=="function"?function(xe){return requestAnimationFrame(xe)}:function(xe){return setTimeout(xe,16)},cancel:typeof cancelAnimationFrame=="function"?function(xe){return cancelAnimationFrame(xe)}:clearTimeout},kt=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ot=l();Ot.zero=l();var bt=function(xe,Xe){var Ye=1;Xe.ext_texture_filter_anisotropic&&(Ye=xe.getParameter(34047));var _r=1,rr=1;Xe.webgl_draw_buffers&&(_r=xe.getParameter(34852),rr=xe.getParameter(36063));var re=!!Xe.oes_texture_float;if(re){re=xe.createTexture(),xe.bindTexture(3553,re),xe.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var le=xe.createFramebuffer();if(xe.bindFramebuffer(36160,le),xe.framebufferTexture2D(36160,36064,3553,re,0),xe.bindTexture(3553,null),xe.checkFramebufferStatus(36160)!==36053)re=!1;else{xe.viewport(0,0,1,1),xe.clearColor(1,0,0,1),xe.clear(16384);var me=Ot.allocType(5126,4);xe.readPixels(0,0,1,1,6408,5126,me),xe.getError()?re=!1:(xe.deleteFramebuffer(le),xe.deleteTexture(re),re=me[0]===1),Ot.freeType(me)}}return me=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(me=xe.createTexture(),le=Ot.allocType(5121,36),xe.activeTexture(33984),xe.bindTexture(34067,me),xe.texImage2D(34069,0,6408,3,3,0,6408,5121,le),Ot.freeType(le),xe.bindTexture(34067,null),xe.deleteTexture(me),me=!xe.getError()),{colorBits:[xe.getParameter(3410),xe.getParameter(3411),xe.getParameter(3412),xe.getParameter(3413)],depthBits:xe.getParameter(3414),stencilBits:xe.getParameter(3415),subpixelBits:xe.getParameter(3408),extensions:Object.keys(Xe).filter(function(Ee){return!!Xe[Ee]}),maxAnisotropic:Ye,maxDrawbuffers:_r,maxColorAttachments:rr,pointSizeDims:xe.getParameter(33901),lineWidthDims:xe.getParameter(33902),maxViewportDims:xe.getParameter(3386),maxCombinedTextureUnits:xe.getParameter(35661),maxCubeMapSize:xe.getParameter(34076),maxRenderbufferSize:xe.getParameter(34024),maxTextureUnits:xe.getParameter(34930),maxTextureSize:xe.getParameter(3379),maxAttributes:xe.getParameter(34921),maxVertexUniforms:xe.getParameter(36347),maxVertexTextureUnits:xe.getParameter(35660),maxVaryingVectors:xe.getParameter(36348),maxFragmentUniforms:xe.getParameter(36349),glsl:xe.getParameter(35724),renderer:xe.getParameter(7937),vendor:xe.getParameter(7936),version:xe.getParameter(7938),readFloat:re,npotTextureCube:me}},_t=function(xe){return xe instanceof Uint8Array||xe instanceof Uint16Array||xe instanceof Uint32Array||xe instanceof Int8Array||xe instanceof Int16Array||xe instanceof Int32Array||xe instanceof Float32Array||xe instanceof Float64Array||xe instanceof Uint8ClampedArray},mt=function(xe){return Object.keys(xe).map(function(Xe){return xe[Xe]})},Pt={shape:function(xe){for(var Xe=[];xe.length;xe=xe[0])Xe.push(xe.length);return Xe},flatten:function(xe,Xe,Ye,_r){var rr=1;if(Xe.length)for(var re=0;re<Xe.length;++re)rr*=Xe[re];else rr=0;switch(Ye=_r||Ot.allocType(Ye,rr),Xe.length){case 0:break;case 1:for(_r=Xe[0],Xe=0;Xe<_r;++Xe)Ye[Xe]=xe[Xe];break;case 2:for(_r=Xe[0],Xe=Xe[1],re=rr=0;re<_r;++re)for(var le=xe[re],me=0;me<Xe;++me)Ye[rr++]=le[me];break;case 3:h(xe,Xe[0],Xe[1],Xe[2],Ye,0);break;default:b(xe,Xe,0,Ye,0)}return Ye}},Rt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ht={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Dt={dynamic:35048,stream:35040,static:35044},Xt=Pt.flatten,se=Pt.shape,Yt=[];Yt[5120]=1,Yt[5122]=2,Yt[5124]=4,Yt[5121]=1,Yt[5123]=2,Yt[5125]=4,Yt[5126]=4;var ue={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ie=new Float32Array(1),fe=new Uint32Array(ie.buffer),ce=[9984,9986,9985,9987],ye=[0,6409,6410,6407,6408],de={};de[6409]=de[6406]=de[6402]=1,de[34041]=de[6410]=2,de[6407]=de[35904]=3,de[6408]=de[35906]=4;var Te=_("HTMLCanvasElement"),Et=_("OffscreenCanvas"),Vt=_("CanvasRenderingContext2D"),te=_("ImageBitmap"),Jt=_("HTMLImageElement"),Ut=_("HTMLVideoElement"),It=Object.keys(Rt).concat([Te,Et,Vt,te,Jt,Ut]),pt=[];pt[5121]=1,pt[5126]=4,pt[36193]=2,pt[5123]=2,pt[5125]=4;var xt=[];xt[32854]=2,xt[32855]=2,xt[36194]=2,xt[34041]=4,xt[33776]=.5,xt[33777]=.5,xt[33778]=1,xt[33779]=1,xt[35986]=.5,xt[35987]=1,xt[34798]=1,xt[35840]=.5,xt[35841]=.25,xt[35842]=.5,xt[35843]=.25,xt[36196]=.5;var Ct=[];Ct[32854]=2,Ct[32855]=2,Ct[36194]=2,Ct[33189]=2,Ct[36168]=1,Ct[34041]=4,Ct[35907]=4,Ct[34836]=16,Ct[34842]=8,Ct[34843]=6;var At=function(xe,Xe,Ye,_r,rr){function re(Fe){this.id=ze++,this.refCount=1,this.renderbuffer=Fe,this.format=32854,this.height=this.width=0,rr.profile&&(this.stats={size:0})}function le(Fe){var Re=Fe.renderbuffer;xe.bindRenderbuffer(36161,null),xe.deleteRenderbuffer(Re),Fe.renderbuffer=null,Fe.refCount=0,delete Oe[Fe.id],_r.renderbufferCount--}var me={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Xe.ext_srgb&&(me.srgba=35907),Xe.ext_color_buffer_half_float&&(me.rgba16f=34842,me.rgb16f=34843),Xe.webgl_color_buffer_float&&(me.rgba32f=34836);var Ee=[];Object.keys(me).forEach(function(Fe){Ee[me[Fe]]=Fe});var ze=0,Oe={};return re.prototype.decRef=function(){0>=--this.refCount&&le(this)},rr.profile&&(_r.getTotalRenderbufferSize=function(){var Fe=0;return Object.keys(Oe).forEach(function(Re){Fe+=Oe[Re].stats.size}),Fe}),{create:function(Fe,Re){function Ke(pr,hr){var jt=0,Gt=0,Ce=32854;if(typeof pr=="object"&&pr?("shape"in pr?(Gt=pr.shape,jt=Gt[0]|0,Gt=Gt[1]|0):("radius"in pr&&(jt=Gt=pr.radius|0),"width"in pr&&(jt=pr.width|0),"height"in pr&&(Gt=pr.height|0)),"format"in pr&&(Ce=me[pr.format])):typeof pr=="number"?(jt=pr|0,Gt=typeof hr=="number"?hr|0:jt):pr||(jt=Gt=1),jt!==or.width||Gt!==or.height||Ce!==or.format)return Ke.width=or.width=jt,Ke.height=or.height=Gt,or.format=Ce,xe.bindRenderbuffer(36161,or.renderbuffer),xe.renderbufferStorage(36161,Ce,jt,Gt),rr.profile&&(or.stats.size=Ct[or.format]*or.width*or.height),Ke.format=Ee[or.format],Ke}var or=new re(xe.createRenderbuffer());return Oe[or.id]=or,_r.renderbufferCount++,Ke(Fe,Re),Ke.resize=function(pr,hr){var jt=pr|0,Gt=hr|0||jt;return jt===or.width&&Gt===or.height||(Ke.width=or.width=jt,Ke.height=or.height=Gt,xe.bindRenderbuffer(36161,or.renderbuffer),xe.renderbufferStorage(36161,or.format,jt,Gt),rr.profile&&(or.stats.size=Ct[or.format]*or.width*or.height)),Ke},Ke._reglType="renderbuffer",Ke._renderbuffer=or,rr.profile&&(Ke.stats=or.stats),Ke.destroy=function(){or.decRef()},Ke},clear:function(){mt(Oe).forEach(le)},restore:function(){mt(Oe).forEach(function(Fe){Fe.renderbuffer=xe.createRenderbuffer(),xe.bindRenderbuffer(36161,Fe.renderbuffer),xe.renderbufferStorage(36161,Fe.format,Fe.width,Fe.height)}),xe.bindRenderbuffer(36161,null)}}},Ft=[];Ft[6408]=4,Ft[6407]=3;var Wt=[];Wt[5121]=1,Wt[5126]=4,Wt[36193]=2;var Qt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],he=["x","y","z","w"],ve="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Je={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ue={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ke={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Le={cw:2304,ccw:2305},Ge=new Z(!1,!1,!1,function(){}),mr=function(xe,Xe){function Ye(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function _r(Oe,Fe,Re){var Ke=le.pop()||new Ye;Ke.startQueryIndex=Oe,Ke.endQueryIndex=Fe,Ke.sum=0,Ke.stats=Re,me.push(Ke)}if(!Xe.ext_disjoint_timer_query)return null;var rr=[],re=[],le=[],me=[],Ee=[],ze=[];return{beginQuery:function(Oe){var Fe=rr.pop()||Xe.ext_disjoint_timer_query.createQueryEXT();Xe.ext_disjoint_timer_query.beginQueryEXT(35007,Fe),re.push(Fe),_r(re.length-1,re.length,Oe)},endQuery:function(){Xe.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:_r,update:function(){var Oe,Fe;if(Oe=re.length,Oe!==0){ze.length=Math.max(ze.length,Oe+1),Ee.length=Math.max(Ee.length,Oe+1),Ee[0]=0;var Re=ze[0]=0;for(Fe=Oe=0;Fe<re.length;++Fe){var Ke=re[Fe];Xe.ext_disjoint_timer_query.getQueryObjectEXT(Ke,34919)?(Re+=Xe.ext_disjoint_timer_query.getQueryObjectEXT(Ke,34918),rr.push(Ke)):re[Oe++]=Ke,Ee[Fe+1]=Re,ze[Fe+1]=Oe}for(re.length=Oe,Fe=Oe=0;Fe<me.length;++Fe){var Re=me[Fe],or=Re.startQueryIndex,Ke=Re.endQueryIndex;Re.sum+=Ee[Ke]-Ee[or],or=ze[or],Ke=ze[Ke],Ke===or?(Re.stats.gpuTime+=Re.sum/1e6,le.push(Re)):(Re.startQueryIndex=or,Re.endQueryIndex=Ke,me[Oe++]=Re)}me.length=Oe}},getNumPendingQueries:function(){return re.length},clear:function(){rr.push.apply(rr,re);for(var Oe=0;Oe<rr.length;Oe++)Xe.ext_disjoint_timer_query.deleteQueryEXT(rr[Oe]);re.length=0,rr.length=0},restore:function(){re.length=0,rr.length=0}}};return function(xe){function Xe(){if(Mn.length===0)Ce&&Ce.update(),qr=null;else{qr=wt.next(Xe),Oe();for(var gn=Mn.length-1;0<=gn;--gn){var ln=Mn[gn];ln&&ln($e,null,0)}Ke.flush(),Ce&&Ce.update()}}function Ye(){!qr&&0<Mn.length&&(qr=wt.next(Xe))}function _r(){qr&&(wt.cancel(Xe),qr=null)}function rr(gn){gn.preventDefault(),_r(),kr.forEach(function(ln){ln()})}function re(gn){Ke.getError(),pr.restore(),dr.restore(),De.restore(),fr.restore(),zr.restore(),Or.restore(),vr.restore(),Ce&&Ce.restore(),Ir.procs.refresh(),Ye(),Er.forEach(function(ln){ln()})}function le(gn){function ln(vn,Vn){var bn={},In={};return Object.keys(vn).forEach(function(Bn){var Kn=vn[Bn];if(gt.isDynamic(Kn))In[Bn]=gt.unbox(Kn,Bn);else{if(Vn&&Array.isArray(Kn)){for(var pi=0;pi<Kn.length;++pi)if(gt.isDynamic(Kn[pi])){In[Bn]=gt.unbox(Kn,Bn);return}}bn[Bn]=Kn}}),{dynamic:In,static:bn}}function zn(vn){for(;Jr.length<vn;)Jr.push(null);return Jr}var Rn=ln(gn.context||{},!0),ai=ln(gn.uniforms||{},!0),fi=ln(gn.attributes||{},!1);gn=ln(function(vn){function Vn(In){if(In in bn){var Bn=bn[In];delete bn[In],Object.keys(Bn).forEach(function(Kn){bn[In+"."+Kn]=Bn[Kn]})}}var bn=at({},vn);return delete bn.uniforms,delete bn.attributes,delete bn.context,delete bn.vao,"stencil"in bn&&bn.stencil.op&&(bn.stencil.opBack=bn.stencil.opFront=bn.stencil.op,delete bn.stencil.op),Vn("blend"),Vn("depth"),Vn("cull"),Vn("stencil"),Vn("polygonOffset"),Vn("scissor"),Vn("sample"),"vao"in vn&&(bn.vao=vn.vao),bn}(gn),!1);var mi={gpuTime:0,cpuTime:0,count:0},li=Ir.compile(gn,fi,ai,Rn,mi),ri=li.draw,yr=li.batch,en=li.scope,Jr=[];return at(function(vn,Vn){var bn;if(typeof vn=="function")return en.call(this,null,vn,0);if(typeof Vn=="function")if(typeof vn=="number")for(bn=0;bn<vn;++bn)en.call(this,null,Vn,bn);else if(Array.isArray(vn))for(bn=0;bn<vn.length;++bn)en.call(this,vn[bn],Vn,bn);else return en.call(this,vn,Vn,0);else if(typeof vn=="number"){if(0<vn)return yr.call(this,zn(vn|0),vn|0)}else if(Array.isArray(vn)){if(vn.length)return yr.call(this,vn,vn.length)}else return ri.call(this,vn)},{stats:mi,destroy:function(){li.destroy()}})}function me(gn,ln){var zn=0;Ir.procs.poll();var Rn=ln.color;Rn&&(Ke.clearColor(+Rn[0]||0,+Rn[1]||0,+Rn[2]||0,+Rn[3]||0),zn|=16384),"depth"in ln&&(Ke.clearDepth(+ln.depth),zn|=256),"stencil"in ln&&(Ke.clearStencil(ln.stencil|0),zn|=1024),Ke.clear(zn)}function Ee(gn){return Mn.push(gn),Ye(),{cancel:function(){function ln(){var Rn=ut(Mn,ln);Mn[Rn]=Mn[Mn.length-1],--Mn.length,0>=Mn.length&&_r()}var zn=ut(Mn,gn);Mn[zn]=ln}}}function ze(){var gn=nn.viewport,ln=nn.scissor_box;gn[0]=gn[1]=ln[0]=ln[1]=0,$e.viewportWidth=$e.framebufferWidth=$e.drawingBufferWidth=gn[2]=ln[2]=Ke.drawingBufferWidth,$e.viewportHeight=$e.framebufferHeight=$e.drawingBufferHeight=gn[3]=ln[3]=Ke.drawingBufferHeight}function Oe(){$e.tick+=1,$e.time=Re(),ze(),Ir.procs.poll()}function Fe(){fr.refresh(),ze(),Ir.procs.refresh(),Ce&&Ce.update()}function Re(){return(kt()-Ie)/1e3}if(xe=r(xe),!xe)return null;var Ke=xe.gl,or=Ke.getContextAttributes();Ke.isContextLost();var pr=e(Ke,xe);if(!pr)return null;var sn=i(),hr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},jt=xe.cachedCode||{},Gt=pr.extensions,Ce=mr(Ke,Gt),Ie=kt(),ir=Ke.drawingBufferWidth,We=Ke.drawingBufferHeight,$e={tick:0,time:0,viewportWidth:ir,viewportHeight:We,framebufferWidth:ir,framebufferHeight:We,drawingBufferWidth:ir,drawingBufferHeight:We,pixelRatio:xe.pixelRatio},ir={elements:null,primitive:4,count:-1,offset:0,instances:-1},er=bt(Ke,Gt),De=c(Ke,hr,xe,function(gn){return vr.destroyBuffer(gn)}),lr=p(Ke,Gt,De,hr),vr=z(Ke,Gt,er,hr,De,lr,ir),dr=F(Ke,sn,hr,xe),fr=R(Ke,Gt,er,function(){Ir.procs.poll()},$e,hr,xe),zr=At(Ke,Gt,er,hr,xe),Or=O(Ke,Gt,er,fr,zr,hr),Ir=G(Ke,sn,Gt,er,De,lr,fr,Or,{},vr,dr,ir,$e,Ce,jt,xe),sn=I(Ke,Or,Ir.procs.poll,$e),nn=Ir.next,kn=Ke.canvas,Mn=[],kr=[],Er=[],Vr=[xe.onDestroy],qr=null;kn&&(kn.addEventListener("webglcontextlost",rr,!1),kn.addEventListener("webglcontextrestored",re,!1));var rn=Or.setFBO=le({framebuffer:gt.define.call(null,1,"framebuffer")});return Fe(),or=at(le,{clear:function(gn){if("framebuffer"in gn)if(gn.framebuffer&&gn.framebuffer_reglType==="framebufferCube")for(var ln=0;6>ln;++ln)rn(at({framebuffer:gn.framebuffer.faces[ln]},gn),me);else rn(gn,me);else me(null,gn)},prop:gt.define.bind(null,1),context:gt.define.bind(null,2),this:gt.define.bind(null,3),draw:le({}),buffer:function(gn){return De.create(gn,34962,!1,!1)},elements:function(gn){return lr.create(gn,!1)},texture:fr.create2D,cube:fr.createCube,renderbuffer:zr.create,framebuffer:Or.create,framebufferCube:Or.createCube,vao:vr.createVAO,attributes:or,frame:Ee,on:function(gn,ln){var zn;switch(gn){case"frame":return Ee(ln);case"lost":zn=kr;break;case"restore":zn=Er;break;case"destroy":zn=Vr}return zn.push(ln),{cancel:function(){for(var Rn=0;Rn<zn.length;++Rn)if(zn[Rn]===ln){zn[Rn]=zn[zn.length-1],zn.pop();break}}}},limits:er,hasExtension:function(gn){return 0<=er.extensions.indexOf(gn.toLowerCase())},read:sn,destroy:function(){Mn.length=0,_r(),kn&&(kn.removeEventListener("webglcontextlost",rr),kn.removeEventListener("webglcontextrestored",re)),dr.clear(),Or.clear(),zr.clear(),vr.clear(),fr.clear(),lr.clear(),De.clear(),Ce&&Ce.clear(),Vr.forEach(function(gn){gn()})},_gl:Ke,_refresh:Fe,poll:function(){Oe(),Ce&&Ce.update()},now:Re,stats:hr,getCachedCode:function(){return jt},preloadCachedCode:function(gn){Object.entries(gn).forEach(function(ln){jt[ln[0]]=ln[1]})}}),xe.onDone(null,or),or}})},30456:function(X,B,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var x=t(33576),E=x.Buffer;function i(m,d){for(var v in m)d[v]=m[v]}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?X.exports=x:(i(x,B),B.Buffer=M);function M(m,d,v){return E(m,d,v)}M.prototype=Object.create(E.prototype),i(E,M),M.from=function(m,d,v){if(typeof m=="number")throw new TypeError("Argument must not be a number");return E(m,d,v)},M.alloc=function(m,d,v){if(typeof m!="number")throw new TypeError("Argument must be a number");var r=E(m);return d!==void 0?typeof v=="string"?r.fill(d,v):r.fill(d):r.fill(0),r},M.allocUnsafe=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return E(m)},M.allocUnsafeSlow=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return x.SlowBuffer(m)}},14500:function(X,B,t){var x=t(53664),E=t(64348),i=t(39640)(),M=t(2304),m=x("%TypeError%"),d=x("%Math.floor%");X.exports=function(v,r){if(typeof v!="function")throw new m("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||d(r)!==r)throw new m("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],s=!0,n=!0;if("length"in v&&M){var l=M(v,"length");l&&!l.configurable&&(s=!1),l&&!l.writable&&(n=!1)}return(s||n||!e)&&(i?E(v,"length",r,!0,!0):E(v,"length",r)),v}},29936:function(X,B,t){X.exports=i;var x=t(61252).EventEmitter,E=t(6768);E(i,x),i.Readable=t(12348),i.Writable=t(11288),i.Duplex=t(15316),i.Transform=t(22477),i.PassThrough=t(27136),i.finished=t(15932),i.pipeline=t(38180),i.Stream=i;function i(){x.call(this)}i.prototype.pipe=function(M,m){var d=this;function v(h){M.writable&&M.write(h)===!1&&d.pause&&d.pause()}d.on("data",v);function r(){d.readable&&d.resume&&d.resume()}M.on("drain",r),!M._isStdio&&(!m||m.end!==!1)&&(d.on("end",s),d.on("close",n));var e=!1;function s(){e||(e=!0,M.end())}function n(){e||(e=!0,typeof M.destroy=="function"&&M.destroy())}function l(h){if(o(),x.listenerCount(this,"error")===0)throw h}d.on("error",l),M.on("error",l);function o(){d.removeListener("data",v),M.removeListener("drain",r),d.removeListener("end",s),d.removeListener("close",n),d.removeListener("error",l),M.removeListener("error",l),d.removeListener("end",o),d.removeListener("close",o),M.removeListener("close",o)}return d.on("end",o),d.on("close",o),M.on("close",o),M.emit("pipe",d),M}},92784:function(X){function B(d,v){d.prototype=Object.create(v.prototype),d.prototype.constructor=d,d.__proto__=v}var t={};function x(d,v,r){r||(r=Error);function e(n,l,o){return typeof v=="string"?v:v(n,l,o)}var s=function(n){B(l,n);function l(o,h,b){return n.call(this,e(o,h,b))||this}return l}(r);s.prototype.name=r.name,s.prototype.code=d,t[d]=s}function E(d,v){if(Array.isArray(d)){var r=d.length;return d=d.map(function(e){return String(e)}),r>2?"one of ".concat(v," ").concat(d.slice(0,r-1).join(", "),", or ")+d[r-1]:r===2?"one of ".concat(v," ").concat(d[0]," or ").concat(d[1]):"of ".concat(v," ").concat(d[0])}else return"of ".concat(v," ").concat(String(d))}function i(d,v,r){return d.substr(!r||r<0?0:+r,v.length)===v}function M(d,v,r){return(r===void 0||r>d.length)&&(r=d.length),d.substring(r-v.length,r)===v}function m(d,v,r){return typeof r!="number"&&(r=0),r+v.length>d.length?!1:d.indexOf(v,r)!==-1}x("ERR_INVALID_OPT_VALUE",function(d,v){return'The value "'+v+'" is invalid for option "'+d+'"'},TypeError),x("ERR_INVALID_ARG_TYPE",function(d,v,r){var e;typeof v=="string"&&i(v,"not ")?(e="must not be",v=v.replace(/^not /,"")):e="must be";var s;if(M(d," argument"))s="The ".concat(d," ").concat(e," ").concat(E(v,"type"));else{var n=m(d,".")?"property":"argument";s='The "'.concat(d,'" ').concat(n," ").concat(e," ").concat(E(v,"type"))}return s+=". Received type ".concat(typeof r),s},TypeError),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),x("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),x("ERR_STREAM_PREMATURE_CLOSE","Premature close"),x("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),x("ERR_STREAM_WRITE_AFTER_END","write after end"),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),X.exports.i=t},15316:function(X,B,t){var x=t(4168),E=Object.keys||function(n){var l=[];for(var o in n)l.push(o);return l};X.exports=r;var i=t(12348),M=t(11288);t(6768)(r,i);for(var m=E(M.prototype),d=0;d<m.length;d++){var v=m[d];r.prototype[v]||(r.prototype[v]=M.prototype[v])}function r(n){if(!(this instanceof r))return new r(n);i.call(this,n),M.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||x.nextTick(s,this)}function s(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},27136:function(X,B,t){X.exports=E;var x=t(22477);t(6768)(E,x);function E(i){if(!(this instanceof E))return new E(i);x.call(this,i)}E.prototype._transform=function(i,M,m){m(null,i)}},12348:function(X,B,t){var x=t(4168);X.exports=g;var E;g.ReadableState=u,t(61252).EventEmitter;var i=function(Q,G){return Q.listeners(G).length},M=t(4776),m=t(33576).Buffer,d=t.g.Uint8Array||function(){};function v(Q){return m.from(Q)}function r(Q){return m.isBuffer(Q)||Q instanceof d}var e=t(19768),s;e&&e.debuglog?s=e.debuglog("stream"):s=function(){};var n=t(47264),l=t(55324),o=t(24888),h=o.getHighWaterMark,b=t(92784).i,f=b.ERR_INVALID_ARG_TYPE,k=b.ERR_STREAM_PUSH_AFTER_EOF,a=b.ERR_METHOD_NOT_IMPLEMENTED,c=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,w,S;t(6768)(g,M);var _=l.errorOrDestroy,T=["error","close","destroy","pause","resume"];function P(Q,G,ut){if(typeof Q.prependListener=="function")return Q.prependListener(G,ut);!Q._events||!Q._events[G]?Q.on(G,ut):Array.isArray(Q._events[G])?Q._events[G].unshift(ut):Q._events[G]=[ut,Q._events[G]]}function u(Q,G,ut){E=E||t(15316),Q=Q||{},typeof ut!="boolean"&&(ut=G instanceof E),this.objectMode=!!Q.objectMode,ut&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=h(this,Q,"readableHighWaterMark",ut),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(p||(p=t(86032).o),this.decoder=new p(Q.encoding),this.encoding=Q.encoding)}function g(Q){if(E=E||t(15316),!(this instanceof g))return new g(Q);var G=this instanceof E;this._readableState=new u(Q,this,G),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),M.call(this)}Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Q){this._readableState&&(this._readableState.destroyed=Q)}}),g.prototype.destroy=l.destroy,g.prototype._undestroy=l.undestroy,g.prototype._destroy=function(Q,G){G(Q)},g.prototype.push=function(Q,G){var ut=this._readableState,at;return ut.objectMode?at=!0:typeof Q=="string"&&(G=G||ut.defaultEncoding,G!==ut.encoding&&(Q=m.from(Q,G),G=""),at=!0),L(this,Q,G,!1,at)},g.prototype.unshift=function(Q){return L(this,Q,null,!0,!1)};function L(Q,G,ut,at,dt){s("readableAddChunk",G);var gt=Q._readableState;if(G===null)gt.reading=!1,F(Q,gt);else{var wt;if(dt||(wt=R(gt,G)),wt)_(Q,wt);else if(gt.objectMode||G&&G.length>0)if(typeof G!="string"&&!gt.objectMode&&Object.getPrototypeOf(G)!==m.prototype&&(G=v(G)),at)gt.endEmitted?_(Q,new c):A(Q,gt,G,!0);else if(gt.ended)_(Q,new k);else{if(gt.destroyed)return!1;gt.reading=!1,gt.decoder&&!ut?(G=gt.decoder.write(G),gt.objectMode||G.length!==0?A(Q,gt,G,!1):V(Q,gt)):A(Q,gt,G,!1)}else at||(gt.reading=!1,V(Q,gt))}return!gt.ended&&(gt.length<gt.highWaterMark||gt.length===0)}function A(Q,G,ut,at){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,Q.emit("data",ut)):(G.length+=G.objectMode?1:ut.length,at?G.buffer.unshift(ut):G.buffer.push(ut),G.needReadable&&I(Q)),V(Q,G)}function R(Q,G){var ut;return!r(G)&&typeof G!="string"&&G!==void 0&&!Q.objectMode&&(ut=new f("chunk",["string","Buffer","Uint8Array"],G)),ut}g.prototype.isPaused=function(){return this._readableState.flowing===!1},g.prototype.setEncoding=function(Q){p||(p=t(86032).o);var G=new p(Q);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var ut=this._readableState.buffer.head,at="";ut!==null;)at+=G.write(ut.data),ut=ut.next;return this._readableState.buffer.clear(),at!==""&&this._readableState.buffer.push(at),this._readableState.length=at.length,this};var O=1073741824;function N(Q){return Q>=O?Q=O:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function z(Q,G){return Q<=0||G.length===0&&G.ended?0:G.objectMode?1:Q!==Q?G.flowing&&G.length?G.buffer.head.data.length:G.length:(Q>G.highWaterMark&&(G.highWaterMark=N(Q)),Q<=G.length?Q:G.ended?G.length:(G.needReadable=!0,0))}g.prototype.read=function(Q){s("read",Q),Q=parseInt(Q,10);var G=this._readableState,ut=Q;if(Q!==0&&(G.emittedReadable=!1),Q===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return s("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?Z(this):I(this),null;if(Q=z(Q,G),Q===0&&G.ended)return G.length===0&&Z(this),null;var at=G.needReadable;s("need readable",at),(G.length===0||G.length-Q<G.highWaterMark)&&(at=!0,s("length less than watermark",at)),G.ended||G.reading?(at=!1,s("reading or ended",at)):at&&(s("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(Q=z(ut,G)));var dt;return Q>0?dt=it(Q,G):dt=null,dt===null?(G.needReadable=G.length<=G.highWaterMark,Q=0):(G.length-=Q,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),ut!==Q&&G.ended&&Z(this)),dt!==null&&this.emit("data",dt),dt};function F(Q,G){if(s("onEofChunk"),!G.ended){if(G.decoder){var ut=G.decoder.end();ut&&ut.length&&(G.buffer.push(ut),G.length+=G.objectMode?1:ut.length)}G.ended=!0,G.sync?I(Q):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,j(Q)))}}function I(Q){var G=Q._readableState;s("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(s("emitReadable",G.flowing),G.emittedReadable=!0,x.nextTick(j,Q))}function j(Q){var G=Q._readableState;s("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(Q.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,J(Q)}function V(Q,G){G.readingMore||(G.readingMore=!0,x.nextTick(W,Q,G))}function W(Q,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var ut=G.length;if(s("maybeReadMore read 0"),Q.read(0),ut===G.length)break}G.readingMore=!1}g.prototype._read=function(Q){_(this,new a("_read()"))},g.prototype.pipe=function(Q,G){var ut=this,at=this._readableState;switch(at.pipesCount){case 0:at.pipes=Q;break;case 1:at.pipes=[at.pipes,Q];break;default:at.pipes.push(Q);break}at.pipesCount+=1,s("pipe count=%d opts=%j",at.pipesCount,G);var dt=(!G||G.end!==!1)&&Q!==x.stdout&&Q!==x.stderr,gt=dt?kt:Dt;at.endEmitted?x.nextTick(gt):ut.once("end",gt),Q.on("unpipe",wt);function wt(Xt,se){s("onunpipe"),Xt===ut&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,_t())}function kt(){s("onend"),Q.end()}var Ot=K(ut);Q.on("drain",Ot);var bt=!1;function _t(){s("cleanup"),Q.removeListener("close",Rt),Q.removeListener("finish",Ht),Q.removeListener("drain",Ot),Q.removeListener("error",Pt),Q.removeListener("unpipe",wt),ut.removeListener("end",kt),ut.removeListener("end",Dt),ut.removeListener("data",mt),bt=!0,at.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&Ot()}ut.on("data",mt);function mt(Xt){s("ondata");var se=Q.write(Xt);s("dest.write",se),se===!1&&((at.pipesCount===1&&at.pipes===Q||at.pipesCount>1&&st(at.pipes,Q)!==-1)&&!bt&&(s("false write response, pause",at.awaitDrain),at.awaitDrain++),ut.pause())}function Pt(Xt){s("onerror",Xt),Dt(),Q.removeListener("error",Pt),i(Q,"error")===0&&_(Q,Xt)}P(Q,"error",Pt);function Rt(){Q.removeListener("finish",Ht),Dt()}Q.once("close",Rt);function Ht(){s("onfinish"),Q.removeListener("close",Rt),Dt()}Q.once("finish",Ht);function Dt(){s("unpipe"),ut.unpipe(Q)}return Q.emit("pipe",ut),at.flowing||(s("pipe resume"),ut.resume()),Q};function K(Q){return function(){var G=Q._readableState;s("pipeOnDrain",G.awaitDrain),G.awaitDrain&&G.awaitDrain--,G.awaitDrain===0&&i(Q,"data")&&(G.flowing=!0,J(Q))}}g.prototype.unpipe=function(Q){var G=this._readableState,ut={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return Q&&Q!==G.pipes?this:(Q||(Q=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,Q&&Q.emit("unpipe",this,ut),this);if(!Q){var at=G.pipes,dt=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var gt=0;gt<dt;gt++)at[gt].emit("unpipe",this,{hasUnpiped:!1});return this}var wt=st(G.pipes,Q);return wt===-1?this:(G.pipes.splice(wt,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),Q.emit("unpipe",this,ut),this)},g.prototype.on=function(Q,G){var ut=M.prototype.on.call(this,Q,G),at=this._readableState;return Q==="data"?(at.readableListening=this.listenerCount("readable")>0,at.flowing!==!1&&this.resume()):Q==="readable"&&!at.endEmitted&&!at.readableListening&&(at.readableListening=at.needReadable=!0,at.flowing=!1,at.emittedReadable=!1,s("on readable",at.length,at.reading),at.length?I(this):at.reading||x.nextTick(lt,this)),ut},g.prototype.addListener=g.prototype.on,g.prototype.removeListener=function(Q,G){var ut=M.prototype.removeListener.call(this,Q,G);return Q==="readable"&&x.nextTick(et,this),ut},g.prototype.removeAllListeners=function(Q){var G=M.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&x.nextTick(et,this),G};function et(Q){var G=Q._readableState;G.readableListening=Q.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function lt(Q){s("readable nexttick read 0"),Q.read(0)}g.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(s("resume"),Q.flowing=!Q.readableListening,ot(this,Q)),Q.paused=!1,this};function ot(Q,G){G.resumeScheduled||(G.resumeScheduled=!0,x.nextTick(q,Q,G))}function q(Q,G){s("resume",G.reading),G.reading||Q.read(0),G.resumeScheduled=!1,Q.emit("resume"),J(Q),G.flowing&&!G.reading&&Q.read(0)}g.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(Q){var G=Q._readableState;for(s("flow",G.flowing);G.flowing&&Q.read()!==null;);}g.prototype.wrap=function(Q){var G=this,ut=this._readableState,at=!1;Q.on("end",function(){if(s("wrapped end"),ut.decoder&&!ut.ended){var wt=ut.decoder.end();wt&&wt.length&&G.push(wt)}G.push(null)}),Q.on("data",function(wt){if(s("wrapped data"),ut.decoder&&(wt=ut.decoder.write(wt)),!(ut.objectMode&&wt==null)&&!(!ut.objectMode&&(!wt||!wt.length))){var kt=G.push(wt);kt||(at=!0,Q.pause())}});for(var dt in Q)this[dt]===void 0&&typeof Q[dt]=="function"&&(this[dt]=function(wt){return function(){return Q[wt].apply(Q,arguments)}}(dt));for(var gt=0;gt<T.length;gt++)Q.on(T[gt],this.emit.bind(this,T[gt]));return this._read=function(wt){s("wrapped _read",wt),at&&(at=!1,Q.resume())},this},typeof Symbol=="function"&&(g.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=t(60328)),w(this)}),Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(g.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(g.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Q){this._readableState&&(this._readableState.flowing=Q)}}),g._fromList=it,Object.defineProperty(g.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function it(Q,G){if(G.length===0)return null;var ut;return G.objectMode?ut=G.buffer.shift():!Q||Q>=G.length?(G.decoder?ut=G.buffer.join(""):G.buffer.length===1?ut=G.buffer.first():ut=G.buffer.concat(G.length),G.buffer.clear()):ut=G.buffer.consume(Q,G.decoder),ut}function Z(Q){var G=Q._readableState;s("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,x.nextTick(tt,G,Q))}function tt(Q,G){if(s("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,G.readable=!1,G.emit("end"),Q.autoDestroy)){var ut=G._writableState;(!ut||ut.autoDestroy&&ut.finished)&&G.destroy()}}typeof Symbol=="function"&&(g.from=function(Q,G){return S===void 0&&(S=t(90555)),S(g,Q,G)});function st(Q,G){for(var ut=0,at=Q.length;ut<at;ut++)if(Q[ut]===G)return ut;return-1}},22477:function(X,B,t){X.exports=r;var x=t(92784).i,E=x.ERR_METHOD_NOT_IMPLEMENTED,i=x.ERR_MULTIPLE_CALLBACK,M=x.ERR_TRANSFORM_ALREADY_TRANSFORMING,m=x.ERR_TRANSFORM_WITH_LENGTH_0,d=t(15316);t(6768)(r,d);function v(n,l){var o=this._transformState;o.transforming=!1;var h=o.writecb;if(h===null)return this.emit("error",new i);o.writechunk=null,o.writecb=null,l!=null&&this.push(l),h(n);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);d.call(this,n),this._transformState={afterTransform:v.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",e)}function e(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(l,o){s(n,l,o)}):s(this,null,null)}r.prototype.push=function(n,l){return this._transformState.needTransform=!1,d.prototype.push.call(this,n,l)},r.prototype._transform=function(n,l,o){o(new E("_transform()"))},r.prototype._write=function(n,l,o){var h=this._transformState;if(h.writecb=o,h.writechunk=n,h.writeencoding=l,!h.transforming){var b=this._readableState;(h.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},r.prototype._read=function(n){var l=this._transformState;l.writechunk!==null&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},r.prototype._destroy=function(n,l){d.prototype._destroy.call(this,n,function(o){l(o)})};function s(n,l,o){if(l)return n.emit("error",l);if(o!=null&&n.push(o),n._writableState.length)throw new m;if(n._transformState.transforming)throw new M;return n.push(null)}},11288:function(X,B,t){var x=t(4168);X.exports=u;function E(J){var it=this;this.next=null,this.entry=null,this.finish=function(){q(it,J)}}var i;u.WritableState=T;var M={deprecate:t(96656)},m=t(4776),d=t(33576).Buffer,v=t.g.Uint8Array||function(){};function r(J){return d.from(J)}function e(J){return d.isBuffer(J)||J instanceof v}var s=t(55324),n=t(24888),l=n.getHighWaterMark,o=t(92784).i,h=o.ERR_INVALID_ARG_TYPE,b=o.ERR_METHOD_NOT_IMPLEMENTED,f=o.ERR_MULTIPLE_CALLBACK,k=o.ERR_STREAM_CANNOT_PIPE,a=o.ERR_STREAM_DESTROYED,c=o.ERR_STREAM_NULL_VALUES,p=o.ERR_STREAM_WRITE_AFTER_END,w=o.ERR_UNKNOWN_ENCODING,S=s.errorOrDestroy;t(6768)(u,m);function _(){}function T(J,it,Z){i=i||t(15316),J=J||{},typeof Z!="boolean"&&(Z=it instanceof i),this.objectMode=!!J.objectMode,Z&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=l(this,J,"writableHighWaterMark",Z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var tt=J.decodeStrings===!1;this.decodeStrings=!tt,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(st){F(it,st)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}T.prototype.getBuffer=function(){for(var J=this.bufferedRequest,it=[];J;)it.push(J),J=J.next;return it},function(){try{Object.defineProperty(T.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var P;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(J){return P.call(this,J)?!0:this!==u?!1:J&&J._writableState instanceof T}})):P=function(J){return J instanceof this};function u(J){i=i||t(15316);var it=this instanceof i;if(!it&&!P.call(u,this))return new u(J);this._writableState=new T(J,this,it),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),m.call(this)}u.prototype.pipe=function(){S(this,new k)};function g(J,it){var Z=new p;S(J,Z),x.nextTick(it,Z)}function L(J,it,Z,tt){var st;return Z===null?st=new c:typeof Z!="string"&&!it.objectMode&&(st=new h("chunk",["string","Buffer"],Z)),st?(S(J,st),x.nextTick(tt,st),!1):!0}u.prototype.write=function(J,it,Z){var tt=this._writableState,st=!1,Q=!tt.objectMode&&e(J);return Q&&!d.isBuffer(J)&&(J=r(J)),typeof it=="function"&&(Z=it,it=null),Q?it="buffer":it||(it=tt.defaultEncoding),typeof Z!="function"&&(Z=_),tt.ending?g(this,Z):(Q||L(this,tt,J,Z))&&(tt.pendingcb++,st=R(this,tt,Q,J,it,Z)),st},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&V(this,J))},u.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new w(J);return this._writableState.defaultEncoding=J,this},Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function A(J,it,Z){return!J.objectMode&&J.decodeStrings!==!1&&typeof it=="string"&&(it=d.from(it,Z)),it}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(J,it,Z,tt,st,Q){if(!Z){var G=A(it,tt,st);tt!==G&&(Z=!0,st="buffer",tt=G)}var ut=it.objectMode?1:tt.length;it.length+=ut;var at=it.length<it.highWaterMark;if(at||(it.needDrain=!0),it.writing||it.corked){var dt=it.lastBufferedRequest;it.lastBufferedRequest={chunk:tt,encoding:st,isBuf:Z,callback:Q,next:null},dt?dt.next=it.lastBufferedRequest:it.bufferedRequest=it.lastBufferedRequest,it.bufferedRequestCount+=1}else O(J,it,!1,ut,tt,st,Q);return at}function O(J,it,Z,tt,st,Q,G){it.writelen=tt,it.writecb=G,it.writing=!0,it.sync=!0,it.destroyed?it.onwrite(new a("write")):Z?J._writev(st,it.onwrite):J._write(st,Q,it.onwrite),it.sync=!1}function N(J,it,Z,tt,st){--it.pendingcb,Z?(x.nextTick(st,tt),x.nextTick(lt,J,it),J._writableState.errorEmitted=!0,S(J,tt)):(st(tt),J._writableState.errorEmitted=!0,S(J,tt),lt(J,it))}function z(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function F(J,it){var Z=J._writableState,tt=Z.sync,st=Z.writecb;if(typeof st!="function")throw new f;if(z(Z),it)N(J,Z,tt,it,st);else{var Q=W(Z)||J.destroyed;!Q&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&V(J,Z),tt?x.nextTick(I,J,Z,Q,st):I(J,Z,Q,st)}}function I(J,it,Z,tt){Z||j(J,it),it.pendingcb--,tt(),lt(J,it)}function j(J,it){it.length===0&&it.needDrain&&(it.needDrain=!1,J.emit("drain"))}function V(J,it){it.bufferProcessing=!0;var Z=it.bufferedRequest;if(J._writev&&Z&&Z.next){var tt=it.bufferedRequestCount,st=new Array(tt),Q=it.corkedRequestsFree;Q.entry=Z;for(var G=0,ut=!0;Z;)st[G]=Z,Z.isBuf||(ut=!1),Z=Z.next,G+=1;st.allBuffers=ut,O(J,it,!0,it.length,st,"",Q.finish),it.pendingcb++,it.lastBufferedRequest=null,Q.next?(it.corkedRequestsFree=Q.next,Q.next=null):it.corkedRequestsFree=new E(it),it.bufferedRequestCount=0}else{for(;Z;){var at=Z.chunk,dt=Z.encoding,gt=Z.callback,wt=it.objectMode?1:at.length;if(O(J,it,!1,wt,at,dt,gt),Z=Z.next,it.bufferedRequestCount--,it.writing)break}Z===null&&(it.lastBufferedRequest=null)}it.bufferedRequest=Z,it.bufferProcessing=!1}u.prototype._write=function(J,it,Z){Z(new b("_write()"))},u.prototype._writev=null,u.prototype.end=function(J,it,Z){var tt=this._writableState;return typeof J=="function"?(Z=J,J=null,it=null):typeof it=="function"&&(Z=it,it=null),J!=null&&this.write(J,it),tt.corked&&(tt.corked=1,this.uncork()),tt.ending||ot(this,tt,Z),this},Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,it){J._final(function(Z){it.pendingcb--,Z&&S(J,Z),it.prefinished=!0,J.emit("prefinish"),lt(J,it)})}function et(J,it){!it.prefinished&&!it.finalCalled&&(typeof J._final=="function"&&!it.destroyed?(it.pendingcb++,it.finalCalled=!0,x.nextTick(K,J,it)):(it.prefinished=!0,J.emit("prefinish")))}function lt(J,it){var Z=W(it);if(Z&&(et(J,it),it.pendingcb===0&&(it.finished=!0,J.emit("finish"),it.autoDestroy))){var tt=J._readableState;(!tt||tt.autoDestroy&&tt.endEmitted)&&J.destroy()}return Z}function ot(J,it,Z){it.ending=!0,lt(J,it),Z&&(it.finished?x.nextTick(Z):J.once("finish",Z)),it.ended=!0,J.writable=!1}function q(J,it,Z){var tt=J.entry;for(J.entry=null;tt;){var st=tt.callback;it.pendingcb--,st(Z),tt=tt.next}it.corkedRequestsFree.next=J}Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(J){this._writableState&&(this._writableState.destroyed=J)}}),u.prototype.destroy=s.destroy,u.prototype._undestroy=s.undestroy,u.prototype._destroy=function(J,it){it(J)}},60328:function(X,B,t){var x=t(4168),E;function i(c,p,w){return p in c?Object.defineProperty(c,p,{value:w,enumerable:!0,configurable:!0,writable:!0}):c[p]=w,c}var M=t(15932),m=Symbol("lastResolve"),d=Symbol("lastReject"),v=Symbol("error"),r=Symbol("ended"),e=Symbol("lastPromise"),s=Symbol("handlePromise"),n=Symbol("stream");function l(c,p){return{value:c,done:p}}function o(c){var p=c[m];if(p!==null){var w=c[n].read();w!==null&&(c[e]=null,c[m]=null,c[d]=null,p(l(w,!1)))}}function h(c){x.nextTick(o,c)}function b(c,p){return function(w,S){c.then(function(){if(p[r]){w(l(void 0,!0));return}p[s](w,S)},S)}}var f=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((E={get stream(){return this[n]},next:function(){var c=this,p=this[v];if(p!==null)return Promise.reject(p);if(this[r])return Promise.resolve(l(void 0,!0));if(this[n].destroyed)return new Promise(function(T,P){x.nextTick(function(){c[v]?P(c[v]):T(l(void 0,!0))})});var w=this[e],S;if(w)S=new Promise(b(w,this));else{var _=this[n].read();if(_!==null)return Promise.resolve(l(_,!1));S=new Promise(this[s])}return this[e]=S,S}},i(E,Symbol.asyncIterator,function(){return this}),i(E,"return",function(){var c=this;return new Promise(function(p,w){c[n].destroy(null,function(S){if(S){w(S);return}p(l(void 0,!0))})})}),E),f),a=function(c){var p,w=Object.create(k,(p={},i(p,n,{value:c,writable:!0}),i(p,m,{value:null,writable:!0}),i(p,d,{value:null,writable:!0}),i(p,v,{value:null,writable:!0}),i(p,r,{value:c._readableState.endEmitted,writable:!0}),i(p,s,{value:function(S,_){var T=w[n].read();T?(w[e]=null,w[m]=null,w[d]=null,S(l(T,!1))):(w[m]=S,w[d]=_)},writable:!0}),p));return w[e]=null,M(c,function(S){if(S&&S.code!=="ERR_STREAM_PREMATURE_CLOSE"){var _=w[d];_!==null&&(w[e]=null,w[m]=null,w[d]=null,_(S)),w[v]=S;return}var T=w[m];T!==null&&(w[e]=null,w[m]=null,w[d]=null,T(l(void 0,!0))),w[r]=!0}),c.on("readable",h.bind(null,w)),w};X.exports=a},47264:function(X,B,t){function x(o,h){var b=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);h&&(f=f.filter(function(k){return Object.getOwnPropertyDescriptor(o,k).enumerable})),b.push.apply(b,f)}return b}function E(o){for(var h=1;h<arguments.length;h++){var b=arguments[h]!=null?arguments[h]:{};h%2?x(Object(b),!0).forEach(function(f){i(o,f,b[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(b)):x(Object(b)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(b,f))})}return o}function i(o,h,b){return h in o?Object.defineProperty(o,h,{value:b,enumerable:!0,configurable:!0,writable:!0}):o[h]=b,o}function M(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function m(o,h){for(var b=0;b<h.length;b++){var f=h[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}function d(o,h,b){return h&&m(o.prototype,h),b&&m(o,b),o}var v=t(33576),r=v.Buffer,e=t(21576),s=e.inspect,n=s&&s.custom||"inspect";function l(o,h,b){r.prototype.copy.call(o,h,b)}X.exports=function(){function o(){M(this,o),this.head=null,this.tail=null,this.length=0}return d(o,[{key:"push",value:function(h){var b={data:h,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(h){var b={data:h,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(this.length===0)return"";for(var b=this.head,f=""+b.data;b=b.next;)f+=h+b.data;return f}},{key:"concat",value:function(h){if(this.length===0)return r.alloc(0);for(var b=r.allocUnsafe(h>>>0),f=this.head,k=0;f;)l(f.data,b,k),k+=f.data.length,f=f.next;return b}},{key:"consume",value:function(h,b){var f;return h<this.head.data.length?(f=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):h===this.head.data.length?f=this.shift():f=b?this._getString(h):this._getBuffer(h),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var b=this.head,f=1,k=b.data;for(h-=k.length;b=b.next;){var a=b.data,c=h>a.length?a.length:h;if(c===a.length?k+=a:k+=a.slice(0,h),h-=c,h===0){c===a.length?(++f,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=a.slice(c));break}++f}return this.length-=f,k}},{key:"_getBuffer",value:function(h){var b=r.allocUnsafe(h),f=this.head,k=1;for(f.data.copy(b),h-=f.data.length;f=f.next;){var a=f.data,c=h>a.length?a.length:h;if(a.copy(b,b.length-h,0,c),h-=c,h===0){c===a.length?(++k,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=a.slice(c));break}++k}return this.length-=k,b}},{key:n,value:function(h,b){return s(this,E({},b,{depth:0,customInspect:!1}))}}]),o}()},55324:function(X,B,t){var x=t(4168);function E(r,e){var s=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,x.nextTick(d,this,r)):x.nextTick(d,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(o){!e&&o?s._writableState?s._writableState.errorEmitted?x.nextTick(M,s):(s._writableState.errorEmitted=!0,x.nextTick(i,s,o)):x.nextTick(i,s,o):e?(x.nextTick(M,s),e(o)):x.nextTick(M,s)}),this)}function i(r,e){d(r,e),M(r)}function M(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function m(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(r,e){r.emit("error",e)}function v(r,e){var s=r._readableState,n=r._writableState;s&&s.autoDestroy||n&&n.autoDestroy?r.destroy(e):r.emit("error",e)}X.exports={destroy:E,undestroy:m,errorOrDestroy:v}},15932:function(X,B,t){var x=t(92784).i.ERR_STREAM_PREMATURE_CLOSE;function E(d){var v=!1;return function(){if(!v){v=!0;for(var r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];d.apply(this,e)}}}function i(){}function M(d){return d.setHeader&&typeof d.abort=="function"}function m(d,v,r){if(typeof v=="function")return m(d,null,v);v||(v={}),r=E(r||i);var e=v.readable||v.readable!==!1&&d.readable,s=v.writable||v.writable!==!1&&d.writable,n=function(){d.writable||o()},l=d._writableState&&d._writableState.finished,o=function(){s=!1,l=!0,e||r.call(d)},h=d._readableState&&d._readableState.endEmitted,b=function(){e=!1,h=!0,s||r.call(d)},f=function(c){r.call(d,c)},k=function(){var c;if(e&&!h)return(!d._readableState||!d._readableState.ended)&&(c=new x),r.call(d,c);if(s&&!l)return(!d._writableState||!d._writableState.ended)&&(c=new x),r.call(d,c)},a=function(){d.req.on("finish",o)};return M(d)?(d.on("complete",o),d.on("abort",k),d.req?a():d.on("request",a)):s&&!d._writableState&&(d.on("end",n),d.on("close",n)),d.on("end",b),d.on("finish",o),v.error!==!1&&d.on("error",f),d.on("close",k),function(){d.removeListener("complete",o),d.removeListener("abort",k),d.removeListener("request",a),d.req&&d.req.removeListener("finish",o),d.removeListener("end",n),d.removeListener("close",n),d.removeListener("finish",o),d.removeListener("end",b),d.removeListener("error",f),d.removeListener("close",k)}}X.exports=m},90555:function(X){X.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(X,B,t){var x;function E(o){var h=!1;return function(){h||(h=!0,o.apply(void 0,arguments))}}var i=t(92784).i,M=i.ERR_MISSING_ARGS,m=i.ERR_STREAM_DESTROYED;function d(o){if(o)throw o}function v(o){return o.setHeader&&typeof o.abort=="function"}function r(o,h,b,f){f=E(f);var k=!1;o.on("close",function(){k=!0}),x===void 0&&(x=t(15932)),x(o,{readable:h,writable:b},function(c){if(c)return f(c);k=!0,f()});var a=!1;return function(c){if(!k&&!a){if(a=!0,v(o))return o.abort();if(typeof o.destroy=="function")return o.destroy();f(c||new m("pipe"))}}}function e(o){o()}function s(o,h){return o.pipe(h)}function n(o){return!o.length||typeof o[o.length-1]!="function"?d:o.pop()}function l(){for(var o=arguments.length,h=new Array(o),b=0;b<o;b++)h[b]=arguments[b];var f=n(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new M("streams");var k,a=h.map(function(c,p){var w=p<h.length-1,S=p>0;return r(c,w,S,function(_){k||(k=_),_&&a.forEach(e),!w&&(a.forEach(e),f(k))})});return h.reduce(s)}X.exports=l},24888:function(X,B,t){var x=t(92784).i.ERR_INVALID_OPT_VALUE;function E(M,m,d){return M.highWaterMark!=null?M.highWaterMark:m?M[d]:null}function i(M,m,d,v){var r=E(m,v,d);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var e=v?d:"highWaterMark";throw new x(e,r)}return Math.floor(r)}return M.objectMode?16:16384}X.exports={getHighWaterMark:i}},4776:function(X,B,t){X.exports=t(61252).EventEmitter},86032:function(X,B,t){var x=t(30456).Buffer,E=x.isEncoding||function(a){switch(a=""+a,a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(a){if(!a)return"utf8";for(var c;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(c)return;a=(""+a).toLowerCase(),c=!0}}function M(a){var c=i(a);if(typeof c!="string"&&(x.isEncoding===E||!E(a)))throw new Error("Unknown encoding: "+a);return c||a}B.o=m;function m(a){this.encoding=M(a);var c;switch(this.encoding){case"utf16le":this.text=l,this.end=o,c=4;break;case"utf8":this.fillLast=e,c=4;break;case"base64":this.text=h,this.end=b,c=3;break;default:this.write=f,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=x.allocUnsafe(c)}m.prototype.write=function(a){if(a.length===0)return"";var c,p;if(this.lastNeed){if(c=this.fillLast(a),c===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<a.length?c?c+this.text(a,p):this.text(a,p):c||""},m.prototype.end=n,m.prototype.text=s,m.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length};function d(a){return a<=127?0:a>>5===6?2:a>>4===14?3:a>>3===30?4:a>>6===2?-1:-2}function v(a,c,p){var w=c.length-1;if(w<p)return 0;var S=d(c[w]);return S>=0?(S>0&&(a.lastNeed=S-1),S):--w<p||S===-2?0:(S=d(c[w]),S>=0?(S>0&&(a.lastNeed=S-2),S):--w<p||S===-2?0:(S=d(c[w]),S>=0?(S>0&&(S===2?S=0:a.lastNeed=S-3),S):0))}function r(a,c,p){if((c[0]&192)!==128)return a.lastNeed=0,"�";if(a.lastNeed>1&&c.length>1){if((c[1]&192)!==128)return a.lastNeed=1,"�";if(a.lastNeed>2&&c.length>2&&(c[2]&192)!==128)return a.lastNeed=2,"�"}}function e(a){var c=this.lastTotal-this.lastNeed,p=r(this,a);if(p!==void 0)return p;if(this.lastNeed<=a.length)return a.copy(this.lastChar,c,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,c,0,a.length),this.lastNeed-=a.length}function s(a,c){var p=v(this,a,c);if(!this.lastNeed)return a.toString("utf8",c);this.lastTotal=p;var w=a.length-(p-this.lastNeed);return a.copy(this.lastChar,0,w),a.toString("utf8",c,w)}function n(a){var c=a&&a.length?this.write(a):"";return this.lastNeed?c+"�":c}function l(a,c){if((a.length-c)%2===0){var p=a.toString("utf16le",c);if(p){var w=p.charCodeAt(p.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",c,a.length-1)}function o(a){var c=a&&a.length?this.write(a):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return c+this.lastChar.toString("utf16le",0,p)}return c}function h(a,c){var p=(a.length-c)%3;return p===0?a.toString("base64",c):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",c,a.length-p))}function b(a){var c=a&&a.length?this.write(a):"";return this.lastNeed?c+this.lastChar.toString("base64",0,3-this.lastNeed):c}function f(a){return a.toString(this.encoding)}function k(a){return a&&a.length?this.write(a):""}},55619:function(X,B,t){var x=t(45408),E=t(86844)("stream-parser");X.exports=v;var i=-1,M=0,m=1,d=2;function v(a){var c=a&&typeof a._transform=="function",p=a&&typeof a._write=="function";if(!c&&!p)throw new Error("must pass a Writable or Transform stream in");E("extending Parser into stream"),a._bytes=e,a._skipBytes=s,c&&(a._passthrough=n),c?a._transform=o:a._write=l}function r(a){E("initializing parser stream"),a._parserBytesLeft=0,a._parserBuffers=[],a._parserBuffered=0,a._parserState=i,a._parserCallback=null,typeof a.push=="function"&&(a._parserOutput=a.push.bind(a)),a._parserInit=!0}function e(a,c){x(!this._parserCallback,'there is already a "callback" set!'),x(isFinite(a)&&a>0,'can only buffer a finite number of bytes > 0, got "'+a+'"'),this._parserInit||r(this),E("buffering %o bytes",a),this._parserBytesLeft=a,this._parserCallback=c,this._parserState=M}function s(a,c){x(!this._parserCallback,'there is already a "callback" set!'),x(a>0,'can only skip > 0 bytes, got "'+a+'"'),this._parserInit||r(this),E("skipping %o bytes",a),this._parserBytesLeft=a,this._parserCallback=c,this._parserState=m}function n(a,c){x(!this._parserCallback,'There is already a "callback" set!'),x(a>0,'can only pass through > 0 bytes, got "'+a+'"'),this._parserInit||r(this),E("passing through %o bytes",a),this._parserBytesLeft=a,this._parserCallback=c,this._parserState=d}function l(a,c,p){this._parserInit||r(this),E("write(%o bytes)",a.length),typeof c=="function"&&(p=c),f(this,a,null,p)}function o(a,c,p){this._parserInit||r(this),E("transform(%o bytes)",a.length),typeof c!="function"&&(c=this._parserOutput),f(this,a,c,p)}function h(a,c,p,w){return a._parserBytesLeft<=0?w(new Error("got data but not currently parsing anything")):c.length<=a._parserBytesLeft?function(){return b(a,c,p,w)}:function(){var S=c.slice(0,a._parserBytesLeft);return b(a,S,p,function(_){if(_)return w(_);if(c.length>S.length)return function(){return h(a,c.slice(S.length),p,w)}})}}function b(a,c,p,w){if(a._parserBytesLeft-=c.length,E("%o bytes left for stream piece",a._parserBytesLeft),a._parserState===M?(a._parserBuffers.push(c),a._parserBuffered+=c.length):a._parserState===d&&p(c),a._parserBytesLeft===0){var S=a._parserCallback;if(S&&a._parserState===M&&a._parserBuffers.length>1&&(c=Buffer.concat(a._parserBuffers,a._parserBuffered)),a._parserState!==M&&(c=null),a._parserCallback=null,a._parserBuffered=0,a._parserState=i,a._parserBuffers.splice(0),S){var _=[];c&&_.push(c),p&&_.push(p);var T=S.length>_.length;T&&_.push(k(w));var P=S.apply(a,_);if(!T||w===P)return w}}else return w}var f=k(h);function k(a){return function(){for(var c=a.apply(this,arguments);typeof c=="function";)c=c();return c}}},86844:function(X,B,t){var x=t(4168);B=X.exports=t(89416),B.log=M,B.formatArgs=i,B.save=m,B.load=d,B.useColors=E,B.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:v(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function E(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}B.formatters.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function i(r){var e=this.useColors;if(r[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+r[0]+(e?"%c ":" ")+"+"+B.humanize(this.diff),!!e){var s="color: "+this.color;r.splice(1,0,s,"color: inherit");var n=0,l=0;r[0].replace(/%[a-zA-Z%]/g,function(o){o!=="%%"&&(n++,o==="%c"&&(l=n))}),r.splice(l,0,s)}}function M(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function m(r){try{r==null?B.storage.removeItem("debug"):B.storage.debug=r}catch{}}function d(){var r;try{r=B.storage.debug}catch{}return!r&&typeof x<"u"&&"env"in x&&(r=x.env.DEBUG),r}B.enable(d());function v(){try{return window.localStorage}catch{}}},89416:function(X,B,t){B=X.exports=i.debug=i.default=i,B.coerce=v,B.disable=m,B.enable=M,B.enabled=d,B.humanize=t(93744),B.names=[],B.skips=[],B.formatters={};var x;function E(r){var e=0,s;for(s in r)e=(e<<5)-e+r.charCodeAt(s),e|=0;return B.colors[Math.abs(e)%B.colors.length]}function i(r){function e(){if(e.enabled){var s=e,n=+new Date,l=n-(x||n);s.diff=l,s.prev=x,s.curr=n,x=n;for(var o=new Array(arguments.length),h=0;h<o.length;h++)o[h]=arguments[h];o[0]=B.coerce(o[0]),typeof o[0]!="string"&&o.unshift("%O");var b=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(k,a){if(k==="%%")return k;b++;var c=B.formatters[a];if(typeof c=="function"){var p=o[b];k=c.call(s,p),o.splice(b,1),b--}return k}),B.formatArgs.call(s,o);var f=e.log||B.log||console.log.bind(console);f.apply(s,o)}}return e.namespace=r,e.enabled=B.enabled(r),e.useColors=B.useColors(),e.color=E(r),typeof B.init=="function"&&B.init(e),e}function M(r){B.save(r),B.names=[],B.skips=[];for(var e=(typeof r=="string"?r:"").split(/[\s,]+/),s=e.length,n=0;n<s;n++)e[n]&&(r=e[n].replace(/\*/g,".*?"),r[0]==="-"?B.skips.push(new RegExp("^"+r.substr(1)+"$")):B.names.push(new RegExp("^"+r+"$")))}function m(){B.enable("")}function d(r){var e,s;for(e=0,s=B.skips.length;e<s;e++)if(B.skips[e].test(r))return!1;for(e=0,s=B.names.length;e<s;e++)if(B.names[e].test(r))return!0;return!1}function v(r){return r instanceof Error?r.stack||r.message:r}},93744:function(X){var B=1e3,t=B*60,x=t*60,E=x*24,i=E*365.25;X.exports=function(r,e){e=e||{};var s=typeof r;if(s==="string"&&r.length>0)return M(r);if(s==="number"&&isNaN(r)===!1)return e.long?d(r):m(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function M(r){if(r=String(r),!(r.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(e){var s=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*i;case"days":case"day":case"d":return s*E;case"hours":case"hour":case"hrs":case"hr":case"h":return s*x;case"minutes":case"minute":case"mins":case"min":case"m":return s*t;case"seconds":case"second":case"secs":case"sec":case"s":return s*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function m(r){return r>=E?Math.round(r/E)+"d":r>=x?Math.round(r/x)+"h":r>=t?Math.round(r/t)+"m":r>=B?Math.round(r/B)+"s":r+"ms"}function d(r){return v(r,E,"day")||v(r,x,"hour")||v(r,t,"minute")||v(r,B,"second")||r+" ms"}function v(r,e,s){if(!(r<e))return r<e*1.5?Math.floor(r/e)+" "+s:Math.ceil(r/e)+" "+s+"s"}},39956:function(X,B,t){var x=t(32868);X.exports=function(E,i,M){if(E==null)throw Error("First argument should be a string");if(i==null)throw Error("Separator should be a string or a RegExp");M?(typeof M=="string"||Array.isArray(M))&&(M={ignore:M}):M={},M.escape==null&&(M.escape=!0),M.ignore==null?M.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof M.ignore=="string"&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(l){return l.length===1&&(l=l+l),l}));var m=x.parse(E,{flat:!0,brackets:M.ignore}),d=m[0],v=d.split(i);if(M.escape){for(var r=[],e=0;e<v.length;e++){var s=v[e],n=v[e+1];s[s.length-1]==="\\"&&s[s.length-2]!=="\\"?(r.push(s+i+n),e++):r.push(s)}v=r}for(var e=0;e<v.length;e++)m[0]=v[e],v[e]=x.stringify(m,{flat:!0});return v}},78484:function(X){X.exports=B;function B(t){for(var x=t.length,E=new Array(x),i=new Array(x),M=new Array(x),m=new Array(x),d=new Array(x),v=new Array(x),r=0;r<x;++r)E[r]=-1,i[r]=0,M[r]=!1,m[r]=0,d[r]=-1,v[r]=[];var e=0,s=[],n=[];function l(f){var k=[f],a=[f];for(E[f]=i[f]=e,M[f]=!0,e+=1;a.length>0;){f=a[a.length-1];var c=t[f];if(m[f]<c.length){for(var p=m[f];p<c.length;++p){var w=c[p];if(E[w]<0){E[w]=i[w]=e,M[w]=!0,e+=1,k.push(w),a.push(w);break}else M[w]&&(i[f]=Math.min(i[f],i[w])|0);d[w]>=0&&v[f].push(d[w])}m[f]=p}else{if(i[f]===E[f]){for(var S=[],_=[],T=0,p=k.length-1;p>=0;--p){var P=k[p];if(M[P]=!1,S.push(P),_.push(v[P]),T+=v[P].length,d[P]=s.length,P===f){k.length=p;break}}s.push(S);for(var u=new Array(T),p=0;p<_.length;p++)for(var g=0;g<_[p].length;g++)u[--T]=_[p][g];n.push(u)}a.pop()}}}for(var r=0;r<x;++r)E[r]<0&&l(r);for(var o,r=0;r<n.length;r++){var h=n[r];if(h.length!==0){h.sort(function(k,a){return k-a}),o=[h[0]];for(var b=1;b<h.length;b++)h[b]!==h[b-1]&&o.push(h[b]);n[r]=o}}return{components:s,adjacencyList:n}}},92848:function(X,B,t){t.r(B);var x=function(){function r(e,s){var n=[],l=!0,o=!1,h=void 0;try{for(var b=e[Symbol.iterator](),f;!(l=(f=b.next()).done)&&(n.push(f.value),!(s&&n.length===s));l=!0);}catch(k){o=!0,h=k}finally{try{!l&&b.return&&b.return()}finally{if(o)throw h}}return n}return function(e,s){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=Math.PI*2,i=function(r,e,s,n,l,o,h){var b=r.x,f=r.y;b*=e,f*=s;var k=n*b-l*f,a=l*b+n*f;return{x:k+o,y:a+h}},M=function(r,e){var s=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=Math.cos(r),l=Math.sin(r),o=Math.cos(r+e),h=Math.sin(r+e);return[{x:n-l*s,y:l+n*s},{x:o+h*s,y:h-o*s},{x:o,y:h}]},m=function(r,e,s,n){var l=r*n-e*s<0?-1:1,o=r*s+e*n;return o>1&&(o=1),o<-1&&(o=-1),l*Math.acos(o)},d=function(r,e,s,n,l,o,h,b,f,k,a,c){var p=Math.pow(l,2),w=Math.pow(o,2),S=Math.pow(a,2),_=Math.pow(c,2),T=p*w-p*_-w*S;T<0&&(T=0),T/=p*_+w*S,T=Math.sqrt(T)*(h===b?-1:1);var P=T*l/o*c,u=T*-o/l*a,g=k*P-f*u+(r+s)/2,L=f*P+k*u+(e+n)/2,A=(a-P)/l,R=(c-u)/o,O=(-a-P)/l,N=(-c-u)/o,z=m(1,0,A,R),F=m(A,R,O,N);return b===0&&F>0&&(F-=E),b===1&&F<0&&(F+=E),[g,L,z,F]},v=function(r){var e=r.px,s=r.py,n=r.cx,l=r.cy,o=r.rx,h=r.ry,b=r.xAxisRotation,f=b===void 0?0:b,k=r.largeArcFlag,a=k===void 0?0:k,c=r.sweepFlag,p=c===void 0?0:c,w=[];if(o===0||h===0)return[];var S=Math.sin(f*E/360),_=Math.cos(f*E/360),T=_*(e-n)/2+S*(s-l)/2,P=-S*(e-n)/2+_*(s-l)/2;if(T===0&&P===0)return[];o=Math.abs(o),h=Math.abs(h);var u=Math.pow(T,2)/Math.pow(o,2)+Math.pow(P,2)/Math.pow(h,2);u>1&&(o*=Math.sqrt(u),h*=Math.sqrt(u));var g=d(e,s,n,l,o,h,a,p,S,_,T,P),L=x(g,4),A=L[0],R=L[1],O=L[2],N=L[3],z=Math.abs(N)/(E/4);Math.abs(1-z)<1e-7&&(z=1);var F=Math.max(Math.ceil(z),1);N/=F;for(var I=0;I<F;I++)w.push(M(O,N)),O+=N;return w.map(function(j){var V=i(j[0],o,h,_,S,A,R),W=V.x,K=V.y,et=i(j[1],o,h,_,S,A,R),lt=et.x,ot=et.y,q=i(j[2],o,h,_,S,A,R),J=q.x,it=q.y;return{x1:W,y1:K,x2:lt,y2:ot,x:J,y:it}})};B.default=v},74840:function(X,B,t){var x=t(21984),E=t(49972),i=t(41976),M=t(53520),m=t(45408);X.exports=d;function d(v){if(Array.isArray(v)&&v.length===1&&typeof v[0]=="string"&&(v=v[0]),typeof v=="string"&&(m(M(v),"String is not an SVG path."),v=x(v)),m(Array.isArray(v),"Argument should be a string or an array of path segments."),v=E(v),v=i(v),!v.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],e=0,s=v.length;e<s;e++)for(var n=v[e].slice(1),l=0;l<n.length;l+=2)n[l+0]<r[0]&&(r[0]=n[l+0]),n[l+1]<r[1]&&(r[1]=n[l+1]),n[l+0]>r[2]&&(r[2]=n[l+0]),n[l+1]>r[3]&&(r[3]=n[l+1]);return r}},41976:function(X,B,t){X.exports=E;var x=t(92848);function E(m){for(var d,v=[],r=0,e=0,s=0,n=0,l=null,o=null,h=0,b=0,f=0,k=m.length;f<k;f++){var a=m[f],c=a[0];switch(c){case"M":s=a[1],n=a[2];break;case"A":var p=x({px:h,py:b,cx:a[6],cy:a[7],rx:a[1],ry:a[2],xAxisRotation:a[3],largeArcFlag:a[4],sweepFlag:a[5]});if(!p.length)continue;for(var w=0,S;w<p.length;w++)S=p[w],a=["C",S.x1,S.y1,S.x2,S.y2,S.x,S.y],w<p.length-1&&v.push(a);break;case"S":var _=h,T=b;(d=="C"||d=="S")&&(_+=_-r,T+=T-e),a=["C",_,T,a[1],a[2],a[3],a[4]];break;case"T":d=="Q"||d=="T"?(l=h*2-l,o=b*2-o):(l=h,o=b),a=M(h,b,l,o,a[1],a[2]);break;case"Q":l=a[1],o=a[2],a=M(h,b,a[1],a[2],a[3],a[4]);break;case"L":a=i(h,b,a[1],a[2]);break;case"H":a=i(h,b,a[1],b);break;case"V":a=i(h,b,h,a[1]);break;case"Z":a=i(h,b,s,n);break}d=c,h=a[a.length-2],b=a[a.length-1],a.length>4?(r=a[a.length-4],e=a[a.length-3]):(r=h,e=b),v.push(a)}return v}function i(m,d,v,r){return["C",m,d,v,r,v,r]}function M(m,d,v,r,e,s){return["C",m/3+.6666666666666666*v,d/3+.6666666666666666*r,e/3+.6666666666666666*v,s/3+.6666666666666666*r,e,s]}},20472:function(X,B,t){var x=t(74840),E=t(21984),i=t(22235),M=t(53520),m=t(29620),d=document.createElement("canvas"),v=d.getContext("2d");X.exports=r;function r(n,l){if(!M(n))throw Error("Argument should be valid svg path string");l||(l={});var o,h;l.shape?(o=l.shape[0],h=l.shape[1]):(o=d.width=l.w||l.width||200,h=d.height=l.h||l.height||200);var b=Math.min(o,h),f=l.stroke||0,k=l.viewbox||l.viewBox||x(n),a=[o/(k[2]-k[0]),h/(k[3]-k[1])],c=Math.min(a[0]||0,a[1]||0)/2;if(v.fillStyle="black",v.fillRect(0,0,o,h),v.fillStyle="white",f&&(typeof f!="number"&&(f=1),f>0?v.strokeStyle="white":v.strokeStyle="black",v.lineWidth=Math.abs(f)),v.translate(o*.5,h*.5),v.scale(c,c),s()){var p=new Path2D(n);v.fill(p),f&&v.stroke(p)}else{var w=E(n);i(v,w),v.fill(),f&&v.stroke()}v.setTransform(1,0,0,1,0,0);var S=m(v,{cutoff:l.cutoff!=null?l.cutoff:.5,radius:l.radius!=null?l.radius:b*.5});return S}var e;function s(){if(e!=null)return e;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return e=!1;var l=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(l);var o=n.getImageData(0,0,1,1);return e=o&&o.data&&o.data[3]===255}},49760:function(X,B,t){var x;(function(E){var i=/^\s+/,M=/\s+$/,m=0,d=E.round,v=E.min,r=E.max,e=E.random;function s(G,ut){if(G=G||"",ut=ut||{},G instanceof s)return G;if(!(this instanceof s))return new s(G,ut);var at=n(G);this._originalInput=G,this._r=at.r,this._g=at.g,this._b=at.b,this._a=at.a,this._roundA=d(100*this._a)/100,this._format=ut.format||at.format,this._gradientType=ut.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=at.ok,this._tc_id=m++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var G=this.toRgb();return(G.r*299+G.g*587+G.b*114)/1e3},getLuminance:function(){var G=this.toRgb(),ut,at,dt,gt,wt,kt;return ut=G.r/255,at=G.g/255,dt=G.b/255,ut<=.03928?gt=ut/12.92:gt=E.pow((ut+.055)/1.055,2.4),at<=.03928?wt=at/12.92:wt=E.pow((at+.055)/1.055,2.4),dt<=.03928?kt=dt/12.92:kt=E.pow((dt+.055)/1.055,2.4),.2126*gt+.7152*wt+.0722*kt},setAlpha:function(G){return this._a=j(G),this._roundA=d(100*this._a)/100,this},toHsv:function(){var G=b(this._r,this._g,this._b);return{h:G.h*360,s:G.s,v:G.v,a:this._a}},toHsvString:function(){var G=b(this._r,this._g,this._b),ut=d(G.h*360),at=d(G.s*100),dt=d(G.v*100);return this._a==1?"hsv("+ut+", "+at+"%, "+dt+"%)":"hsva("+ut+", "+at+"%, "+dt+"%, "+this._roundA+")"},toHsl:function(){var G=o(this._r,this._g,this._b);return{h:G.h*360,s:G.s,l:G.l,a:this._a}},toHslString:function(){var G=o(this._r,this._g,this._b),ut=d(G.h*360),at=d(G.s*100),dt=d(G.l*100);return this._a==1?"hsl("+ut+", "+at+"%, "+dt+"%)":"hsla("+ut+", "+at+"%, "+dt+"%, "+this._roundA+")"},toHex:function(G){return k(this._r,this._g,this._b,G)},toHexString:function(G){return"#"+this.toHex(G)},toHex8:function(G){return a(this._r,this._g,this._b,this._a,G)},toHex8String:function(G){return"#"+this.toHex8(G)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(V(this._r,255)*100)+"%",g:d(V(this._g,255)*100)+"%",b:d(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(V(this._r,255)*100)+"%, "+d(V(this._g,255)*100)+"%, "+d(V(this._b,255)*100)+"%)":"rgba("+d(V(this._r,255)*100)+"%, "+d(V(this._g,255)*100)+"%, "+d(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[k(this._r,this._g,this._b,!0)]||!1},toFilter:function(G){var ut="#"+c(this._r,this._g,this._b,this._a),at=ut,dt=this._gradientType?"GradientType = 1, ":"";if(G){var gt=s(G);at="#"+c(gt._r,gt._g,gt._b,gt._a)}return"progid:DXImageTransform.Microsoft.gradient("+dt+"startColorstr="+ut+",endColorstr="+at+")"},toString:function(G){var ut=!!G;G=G||this._format;var at=!1,dt=this._a<1&&this._a>=0,gt=!ut&&dt&&(G==="hex"||G==="hex6"||G==="hex3"||G==="hex4"||G==="hex8"||G==="name");return gt?G==="name"&&this._a===0?this.toName():this.toRgbString():(G==="rgb"&&(at=this.toRgbString()),G==="prgb"&&(at=this.toPercentageRgbString()),(G==="hex"||G==="hex6")&&(at=this.toHexString()),G==="hex3"&&(at=this.toHexString(!0)),G==="hex4"&&(at=this.toHex8String(!0)),G==="hex8"&&(at=this.toHex8String()),G==="name"&&(at=this.toName()),G==="hsl"&&(at=this.toHslString()),G==="hsv"&&(at=this.toHsvString()),at||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(G,ut){var at=G.apply(null,[this].concat([].slice.call(ut)));return this._r=at._r,this._g=at._g,this._b=at._b,this.setAlpha(at._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(u,arguments)},_applyCombination:function(G,ut){return G.apply(null,[this].concat([].slice.call(ut)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(A,arguments)}},s.fromRatio=function(G,ut){if(typeof G=="object"){var at={};for(var dt in G)G.hasOwnProperty(dt)&&(dt==="a"?at[dt]=G[dt]:at[dt]=q(G[dt]));G=at}return s(G,ut)};function n(G){var ut={r:0,g:0,b:0},at=1,dt=null,gt=null,wt=null,kt=!1,Ot=!1;return typeof G=="string"&&(G=st(G)),typeof G=="object"&&(tt(G.r)&&tt(G.g)&&tt(G.b)?(ut=l(G.r,G.g,G.b),kt=!0,Ot=String(G.r).substr(-1)==="%"?"prgb":"rgb"):tt(G.h)&&tt(G.s)&&tt(G.v)?(dt=q(G.s),gt=q(G.v),ut=f(G.h,dt,gt),kt=!0,Ot="hsv"):tt(G.h)&&tt(G.s)&&tt(G.l)&&(dt=q(G.s),wt=q(G.l),ut=h(G.h,dt,wt),kt=!0,Ot="hsl"),G.hasOwnProperty("a")&&(at=G.a)),at=j(at),{ok:kt,format:G.format||Ot,r:v(255,r(ut.r,0)),g:v(255,r(ut.g,0)),b:v(255,r(ut.b,0)),a:at}}function l(G,ut,at){return{r:V(G,255)*255,g:V(ut,255)*255,b:V(at,255)*255}}function o(G,ut,at){G=V(G,255),ut=V(ut,255),at=V(at,255);var dt=r(G,ut,at),gt=v(G,ut,at),wt,kt,Ot=(dt+gt)/2;if(dt==gt)wt=kt=0;else{var bt=dt-gt;switch(kt=Ot>.5?bt/(2-dt-gt):bt/(dt+gt),dt){case G:wt=(ut-at)/bt+(ut<at?6:0);break;case ut:wt=(at-G)/bt+2;break;case at:wt=(G-ut)/bt+4;break}wt/=6}return{h:wt,s:kt,l:Ot}}function h(G,ut,at){var dt,gt,wt;G=V(G,360),ut=V(ut,100),at=V(at,100);function kt(_t,mt,Pt){return Pt<0&&(Pt+=1),Pt>1&&(Pt-=1),Pt<.16666666666666666?_t+(mt-_t)*6*Pt:Pt<.5?mt:Pt<.6666666666666666?_t+(mt-_t)*(.6666666666666666-Pt)*6:_t}if(ut===0)dt=gt=wt=at;else{var Ot=at<.5?at*(1+ut):at+ut-at*ut,bt=2*at-Ot;dt=kt(bt,Ot,G+.3333333333333333),gt=kt(bt,Ot,G),wt=kt(bt,Ot,G-.3333333333333333)}return{r:dt*255,g:gt*255,b:wt*255}}function b(G,ut,at){G=V(G,255),ut=V(ut,255),at=V(at,255);var dt=r(G,ut,at),gt=v(G,ut,at),wt,kt,Ot=dt,bt=dt-gt;if(kt=dt===0?0:bt/dt,dt==gt)wt=0;else{switch(dt){case G:wt=(ut-at)/bt+(ut<at?6:0);break;case ut:wt=(at-G)/bt+2;break;case at:wt=(G-ut)/bt+4;break}wt/=6}return{h:wt,s:kt,v:Ot}}function f(G,ut,at){G=V(G,360)*6,ut=V(ut,100),at=V(at,100);var dt=E.floor(G),gt=G-dt,wt=at*(1-ut),kt=at*(1-gt*ut),Ot=at*(1-(1-gt)*ut),bt=dt%6,_t=[at,kt,wt,wt,Ot,at][bt],mt=[Ot,at,at,kt,wt,wt][bt],Pt=[wt,wt,Ot,at,at,kt][bt];return{r:_t*255,g:mt*255,b:Pt*255}}function k(G,ut,at,dt){var gt=[ot(d(G).toString(16)),ot(d(ut).toString(16)),ot(d(at).toString(16))];return dt&&gt[0].charAt(0)==gt[0].charAt(1)&&gt[1].charAt(0)==gt[1].charAt(1)&&gt[2].charAt(0)==gt[2].charAt(1)?gt[0].charAt(0)+gt[1].charAt(0)+gt[2].charAt(0):gt.join("")}function a(G,ut,at,dt,gt){var wt=[ot(d(G).toString(16)),ot(d(ut).toString(16)),ot(d(at).toString(16)),ot(J(dt))];return gt&&wt[0].charAt(0)==wt[0].charAt(1)&&wt[1].charAt(0)==wt[1].charAt(1)&&wt[2].charAt(0)==wt[2].charAt(1)&&wt[3].charAt(0)==wt[3].charAt(1)?wt[0].charAt(0)+wt[1].charAt(0)+wt[2].charAt(0)+wt[3].charAt(0):wt.join("")}function c(G,ut,at,dt){var gt=[ot(J(dt)),ot(d(G).toString(16)),ot(d(ut).toString(16)),ot(d(at).toString(16))];return gt.join("")}s.equals=function(G,ut){return!G||!ut?!1:s(G).toRgbString()==s(ut).toRgbString()},s.random=function(){return s.fromRatio({r:e(),g:e(),b:e()})};function p(G,ut){ut=ut===0?0:ut||10;var at=s(G).toHsl();return at.s-=ut/100,at.s=W(at.s),s(at)}function w(G,ut){ut=ut===0?0:ut||10;var at=s(G).toHsl();return at.s+=ut/100,at.s=W(at.s),s(at)}function S(G){return s(G).desaturate(100)}function _(G,ut){ut=ut===0?0:ut||10;var at=s(G).toHsl();return at.l+=ut/100,at.l=W(at.l),s(at)}function T(G,ut){ut=ut===0?0:ut||10;var at=s(G).toRgb();return at.r=r(0,v(255,at.r-d(255*-(ut/100)))),at.g=r(0,v(255,at.g-d(255*-(ut/100)))),at.b=r(0,v(255,at.b-d(255*-(ut/100)))),s(at)}function P(G,ut){ut=ut===0?0:ut||10;var at=s(G).toHsl();return at.l-=ut/100,at.l=W(at.l),s(at)}function u(G,ut){var at=s(G).toHsl(),dt=(at.h+ut)%360;return at.h=dt<0?360+dt:dt,s(at)}function g(G){var ut=s(G).toHsl();return ut.h=(ut.h+180)%360,s(ut)}function L(G){var ut=s(G).toHsl(),at=ut.h;return[s(G),s({h:(at+120)%360,s:ut.s,l:ut.l}),s({h:(at+240)%360,s:ut.s,l:ut.l})]}function A(G){var ut=s(G).toHsl(),at=ut.h;return[s(G),s({h:(at+90)%360,s:ut.s,l:ut.l}),s({h:(at+180)%360,s:ut.s,l:ut.l}),s({h:(at+270)%360,s:ut.s,l:ut.l})]}function R(G){var ut=s(G).toHsl(),at=ut.h;return[s(G),s({h:(at+72)%360,s:ut.s,l:ut.l}),s({h:(at+216)%360,s:ut.s,l:ut.l})]}function O(G,ut,at){ut=ut||6,at=at||30;var dt=s(G).toHsl(),gt=360/at,wt=[s(G)];for(dt.h=(dt.h-(gt*ut>>1)+720)%360;--ut;)dt.h=(dt.h+gt)%360,wt.push(s(dt));return wt}function N(G,ut){ut=ut||6;for(var at=s(G).toHsv(),dt=at.h,gt=at.s,wt=at.v,kt=[],Ot=1/ut;ut--;)kt.push(s({h:dt,s:gt,v:wt})),wt=(wt+Ot)%1;return kt}s.mix=function(G,ut,at){at=at===0?0:at||50;var dt=s(G).toRgb(),gt=s(ut).toRgb(),wt=at/100,kt={r:(gt.r-dt.r)*wt+dt.r,g:(gt.g-dt.g)*wt+dt.g,b:(gt.b-dt.b)*wt+dt.b,a:(gt.a-dt.a)*wt+dt.a};return s(kt)},s.readability=function(G,ut){var at=s(G),dt=s(ut);return(E.max(at.getLuminance(),dt.getLuminance())+.05)/(E.min(at.getLuminance(),dt.getLuminance())+.05)},s.isReadable=function(G,ut,at){var dt=s.readability(G,ut),gt,wt;switch(wt=!1,gt=Q(at),gt.level+gt.size){case"AAsmall":case"AAAlarge":wt=dt>=4.5;break;case"AAlarge":wt=dt>=3;break;case"AAAsmall":wt=dt>=7;break}return wt},s.mostReadable=function(G,ut,at){var dt=null,gt=0,wt,kt,Ot,bt;at=at||{},kt=at.includeFallbackColors,Ot=at.level,bt=at.size;for(var _t=0;_t<ut.length;_t++)wt=s.readability(G,ut[_t]),wt>gt&&(gt=wt,dt=s(ut[_t]));return s.isReadable(G,dt,{level:Ot,size:bt})||!kt?dt:(at.includeFallbackColors=!1,s.mostReadable(G,["#fff","#000"],at))};var z=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=s.hexNames=I(z);function I(G){var ut={};for(var at in G)G.hasOwnProperty(at)&&(ut[G[at]]=at);return ut}function j(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function V(G,ut){et(G)&&(G="100%");var at=lt(G);return G=v(ut,r(0,parseFloat(G))),at&&(G=parseInt(G*ut,10)/100),E.abs(G-ut)<1e-6?1:G%ut/parseFloat(ut)}function W(G){return v(1,r(0,G))}function K(G){return parseInt(G,16)}function et(G){return typeof G=="string"&&G.indexOf(".")!=-1&&parseFloat(G)===1}function lt(G){return typeof G=="string"&&G.indexOf("%")!=-1}function ot(G){return G.length==1?"0"+G:""+G}function q(G){return G<=1&&(G=G*100+"%"),G}function J(G){return E.round(parseFloat(G)*255).toString(16)}function it(G){return K(G)/255}var Z=function(){var G="[-\\+]?\\d+%?",ut="[-\\+]?\\d*\\.\\d+%?",at="(?:"+ut+")|(?:"+G+")",dt="[\\s|\\(]+("+at+")[,|\\s]+("+at+")[,|\\s]+("+at+")\\s*\\)?",gt="[\\s|\\(]+("+at+")[,|\\s]+("+at+")[,|\\s]+("+at+")[,|\\s]+("+at+")\\s*\\)?";return{CSS_UNIT:new RegExp(at),rgb:new RegExp("rgb"+dt),rgba:new RegExp("rgba"+gt),hsl:new RegExp("hsl"+dt),hsla:new RegExp("hsla"+gt),hsv:new RegExp("hsv"+dt),hsva:new RegExp("hsva"+gt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function tt(G){return!!Z.CSS_UNIT.exec(G)}function st(G){G=G.replace(i,"").replace(M,"").toLowerCase();var ut=!1;if(z[G])G=z[G],ut=!0;else if(G=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var at;return(at=Z.rgb.exec(G))?{r:at[1],g:at[2],b:at[3]}:(at=Z.rgba.exec(G))?{r:at[1],g:at[2],b:at[3],a:at[4]}:(at=Z.hsl.exec(G))?{h:at[1],s:at[2],l:at[3]}:(at=Z.hsla.exec(G))?{h:at[1],s:at[2],l:at[3],a:at[4]}:(at=Z.hsv.exec(G))?{h:at[1],s:at[2],v:at[3]}:(at=Z.hsva.exec(G))?{h:at[1],s:at[2],v:at[3],a:at[4]}:(at=Z.hex8.exec(G))?{r:K(at[1]),g:K(at[2]),b:K(at[3]),a:it(at[4]),format:ut?"name":"hex8"}:(at=Z.hex6.exec(G))?{r:K(at[1]),g:K(at[2]),b:K(at[3]),format:ut?"name":"hex"}:(at=Z.hex4.exec(G))?{r:K(at[1]+""+at[1]),g:K(at[2]+""+at[2]),b:K(at[3]+""+at[3]),a:it(at[4]+""+at[4]),format:ut?"name":"hex8"}:(at=Z.hex3.exec(G))?{r:K(at[1]+""+at[1]),g:K(at[2]+""+at[2]),b:K(at[3]+""+at[3]),format:ut?"name":"hex"}:!1}function Q(G){var ut,at;return G=G||{level:"AA",size:"small"},ut=(G.level||"AA").toUpperCase(),at=(G.size||"small").toLowerCase(),ut!=="AA"&&ut!=="AAA"&&(ut="AA"),at!=="small"&&at!=="large"&&(at="small"),{level:ut,size:at}}X.exports?X.exports=s:(x=(function(){return s}).call(B,t,B,X),x!==void 0&&(X.exports=x))})(Math)},37816:function(X){X.exports=x,X.exports.float32=X.exports.float=x,X.exports.fract32=X.exports.fract=t;var B=new Float32Array(1);function t(E,i){if(E.length){if(E instanceof Float32Array)return new Float32Array(E.length);i instanceof Float32Array||(i=x(E));for(var M=0,m=i.length;M<m;M++)i[M]=E[M]-i[M];return i}return x(E-x(E))}function x(E){return E.length?E instanceof Float32Array?E:new Float32Array(E):(B[0]=E,B[0])}},23464:function(X,B,t){var x=t(65819);X.exports=m;var E=96;function i(d,v){var r=x(getComputedStyle(d).getPropertyValue(v));return r[0]*m(r[1],d)}function M(d,v){var r=document.createElement("div");r.style["font-size"]="128"+d,v.appendChild(r);var e=i(r,"font-size")/128;return v.removeChild(r),e}function m(d,v){switch(v=v||document.body,d=(d||"px").trim().toLowerCase(),(v===window||v===document)&&(v=document.body),d){case"%":return v.clientHeight/100;case"ch":case"ex":return M(d,v);case"em":return i(v,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return E;case"cm":return E/2.54;case"mm":return E/25.4;case"pt":return E/72;case"pc":return E/6}return 1}},55712:function(X,B,t){t.d(B,{NO:function(){return M}});function x(v,r){for(var e,s=v.length,n=s-r;n<--s;)e=v[n],v[n++]=v[s],v[s]=e}function E(v){return v}function i(v){if(v==null)return E;var r,e,s=v.scale[0],n=v.scale[1],l=v.translate[0],o=v.translate[1];return function(h,b){b||(r=e=0);var f=2,k=h.length,a=new Array(k);for(a[0]=(r+=h[0])*s+l,a[1]=(e+=h[1])*n+o;f<k;)a[f]=h[f],++f;return a}}function M(v,r){return typeof r=="string"&&(r=v.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(e){return m(v,e)})}:m(v,r)}function m(v,r){var e=r.id,s=r.bbox,n=r.properties==null?{}:r.properties,l=d(v,r);return e==null&&s==null?{type:"Feature",properties:n,geometry:l}:s==null?{type:"Feature",id:e,properties:n,geometry:l}:{type:"Feature",id:e,bbox:s,properties:n,geometry:l}}function d(v,r){var e=i(v.transform),s=v.arcs;function n(k,a){a.length&&a.pop();for(var c=s[k<0?~k:k],p=0,w=c.length;p<w;++p)a.push(e(c[p],p));k<0&&x(a,w)}function l(k){return e(k)}function o(k){for(var a=[],c=0,p=k.length;c<p;++c)n(k[c],a);return a.length<2&&a.push(a[0]),a}function h(k){for(var a=o(k);a.length<4;)a.push(a[0]);return a}function b(k){return k.map(h)}function f(k){var a=k.type,c;switch(a){case"GeometryCollection":return{type:a,geometries:k.geometries.map(f)};case"Point":c=l(k.coordinates);break;case"MultiPoint":c=k.coordinates.map(l);break;case"LineString":c=o(k.arcs);break;case"MultiLineString":c=k.arcs.map(o);break;case"Polygon":c=b(k.arcs);break;case"MultiPolygon":c=k.arcs.map(b);break;default:return null}return{type:a,coordinates:c}}return f(r)}},73384:function(X,B,t){var x=t(54612);X.exports=function(E){if(typeof E!="function"||!hasOwnProperty.call(E,"length"))return!1;try{if(typeof E.length!="number"||typeof E.call!="function"||typeof E.apply!="function")return!1}catch{return!1}return!x(E)}},57980:function(X,B,t){var x=t(81680),E=t(7328),i=t(33940),M=t(18856),m=function(d,v){return d.replace("%v",M(v))};X.exports=function(d,v,r){if(!E(r))throw new TypeError(m(v,d));if(!x(d)){if("default"in r)return r.default;if(r.isOptional)return null}var e=i(r.errorMessage);throw x(e)||(e=v),new TypeError(m(e,d))}},32336:function(X){X.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},18856:function(X,B,t){var x=t(32336),E=/[\n\r\u2028\u2029]/g;X.exports=function(i){var M=x(i);return M===null?"<Non-coercible to string value>":(M.length>100&&(M=M.slice(0,99)+"…"),M=M.replace(E,function(m){switch(m){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),M)}},7328:function(X,B,t){var x=t(81680),E={object:!0,function:!0,undefined:!0};X.exports=function(i){return x(i)?hasOwnProperty.call(E,typeof i):!1}},87396:function(X,B,t){var x=t(57980),E=t(85488);X.exports=function(i){return E(i)?i:x(i,"%v is not a plain function",arguments[1])}},85488:function(X,B,t){var x=t(73384),E=/^\s*class[\s{/}]/,i=Function.prototype.toString;X.exports=function(M){return!(!x(M)||E.test(i.call(M)))}},54612:function(X,B,t){var x=t(7328);X.exports=function(E){if(!x(E))return!1;try{return E.constructor?E.constructor.prototype===E:!1}catch{return!1}}},33940:function(X,B,t){var x=t(81680),E=t(7328),i=Object.prototype.toString;X.exports=function(M){if(!x(M))return null;if(E(M)){var m=M.toString;if(typeof m!="function"||m===i)return null}try{return""+M}catch{return null}}},18496:function(X,B,t){var x=t(57980),E=t(81680);X.exports=function(i){return E(i)?i:x(i,"Cannot use %v",arguments[1])}},81680:function(X){var B=void 0;X.exports=function(t){return t!==B&&t!==null}},14144:function(X,B,t){var x=t(308),E=t(10352),i=t(33576).Buffer;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var M=typeof Uint8ClampedArray<"u",m=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",v=t.g.__TYPEDARRAY_POOL;v.UINT8C||(v.UINT8C=E([32,0])),v.BIGUINT64||(v.BIGUINT64=E([32,0])),v.BIGINT64||(v.BIGINT64=E([32,0])),v.BUFFER||(v.BUFFER=E([32,0]));var r=v.DATA,e=v.BUFFER;B.free=function(u){if(i.isBuffer(u))e[x.log2(u.length)].push(u);else{if(Object.prototype.toString.call(u)!=="[object ArrayBuffer]"&&(u=u.buffer),!u)return;var g=u.length||u.byteLength,L=x.log2(g)|0;r[L].push(u)}};function s(u){if(u){var g=u.length||u.byteLength,L=x.log2(g);r[L].push(u)}}function n(u){s(u.buffer)}B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=n,B.freeArrayBuffer=s,B.freeBuffer=function(u){e[x.log2(u.length)].push(u)},B.malloc=function(u,g){if(g===void 0||g==="arraybuffer")return l(u);switch(g){case"uint8":return o(u);case"uint16":return h(u);case"uint32":return b(u);case"int8":return f(u);case"int16":return k(u);case"int32":return a(u);case"float":case"float32":return c(u);case"double":case"float64":return p(u);case"uint8_clamped":return w(u);case"bigint64":return _(u);case"biguint64":return S(u);case"buffer":return P(u);case"data":case"dataview":return T(u);default:return null}return null};function l(g){var g=x.nextPow2(g),L=x.log2(g),A=r[L];return A.length>0?A.pop():new ArrayBuffer(g)}B.mallocArrayBuffer=l;function o(u){return new Uint8Array(l(u),0,u)}B.mallocUint8=o;function h(u){return new Uint16Array(l(2*u),0,u)}B.mallocUint16=h;function b(u){return new Uint32Array(l(4*u),0,u)}B.mallocUint32=b;function f(u){return new Int8Array(l(u),0,u)}B.mallocInt8=f;function k(u){return new Int16Array(l(2*u),0,u)}B.mallocInt16=k;function a(u){return new Int32Array(l(4*u),0,u)}B.mallocInt32=a;function c(u){return new Float32Array(l(4*u),0,u)}B.mallocFloat32=B.mallocFloat=c;function p(u){return new Float64Array(l(8*u),0,u)}B.mallocFloat64=B.mallocDouble=p;function w(u){return M?new Uint8ClampedArray(l(u),0,u):o(u)}B.mallocUint8Clamped=w;function S(u){return m?new BigUint64Array(l(8*u),0,u):null}B.mallocBigUint64=S;function _(u){return d?new BigInt64Array(l(8*u),0,u):null}B.mallocBigInt64=_;function T(u){return new DataView(l(u),0,u)}B.mallocDataView=T;function P(u){u=x.nextPow2(u);var g=x.log2(u),L=e[g];return L.length>0?L.pop():new i(u)}B.mallocBuffer=P,B.clearCache=function(){for(var u=0;u<32;++u)v.UINT8[u].length=0,v.UINT16[u].length=0,v.UINT32[u].length=0,v.INT8[u].length=0,v.INT16[u].length=0,v.INT32[u].length=0,v.FLOAT[u].length=0,v.DOUBLE[u].length=0,v.BIGUINT64[u].length=0,v.BIGINT64[u].length=0,v.UINT8C[u].length=0,r[u].length=0,e[u].length=0}},92384:function(X){var B=/[\'\"]/;X.exports=function(t){return t?(B.test(t.charAt(0))&&(t=t.substr(1)),B.test(t.charAt(t.length-1))&&(t=t.substr(0,t.length-1)),t):""}},45223:function(X){X.exports=function(B,t,x){Array.isArray(x)||(x=[].slice.call(arguments,2));for(var E=0,i=x.length;E<i;E++){var M=x[E];for(var m in M)if(!(t[m]!==void 0&&!Array.isArray(t[m])&&B[m]===t[m])&&m in t){var d;if(M[m]===!0)d=t[m];else if(M[m]===!1||typeof M[m]=="function"&&(d=M[m](t[m],B,t),d===void 0))continue;B[m]=d}}return B}},96656:function(X,B,t){X.exports=x;function x(i,M){if(E("noDeprecation"))return i;var m=!1;function d(){if(!m){if(E("throwDeprecation"))throw new Error(M);E("traceDeprecation")?console.trace(M):console.warn(M),m=!0}return i.apply(this,arguments)}return d}function E(i){try{if(!t.g.localStorage)return!1}catch{return!1}var M=t.g.localStorage[i];return M==null?!1:String(M).toLowerCase()==="true"}},75272:function(X){X.exports=function(B){return B&&typeof B=="object"&&typeof B.copy=="function"&&typeof B.fill=="function"&&typeof B.readUInt8=="function"}},41088:function(X,B,t){var x=t(91148),E=t(84420),i=t(96632),M=t(7728);function m(wt){return wt.call.bind(wt)}var d=typeof BigInt<"u",v=typeof Symbol<"u",r=m(Object.prototype.toString),e=m(Number.prototype.valueOf),s=m(String.prototype.valueOf),n=m(Boolean.prototype.valueOf);if(d)var l=m(BigInt.prototype.valueOf);if(v)var o=m(Symbol.prototype.valueOf);function h(wt,kt){if(typeof wt!="object")return!1;try{return kt(wt),!0}catch{return!1}}B.isArgumentsObject=x,B.isGeneratorFunction=E,B.isTypedArray=M;function b(wt){return typeof Promise<"u"&&wt instanceof Promise||wt!==null&&typeof wt=="object"&&typeof wt.then=="function"&&typeof wt.catch=="function"}B.isPromise=b;function f(wt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(wt):M(wt)||K(wt)}B.isArrayBufferView=f;function k(wt){return i(wt)==="Uint8Array"}B.isUint8Array=k;function a(wt){return i(wt)==="Uint8ClampedArray"}B.isUint8ClampedArray=a;function c(wt){return i(wt)==="Uint16Array"}B.isUint16Array=c;function p(wt){return i(wt)==="Uint32Array"}B.isUint32Array=p;function w(wt){return i(wt)==="Int8Array"}B.isInt8Array=w;function S(wt){return i(wt)==="Int16Array"}B.isInt16Array=S;function _(wt){return i(wt)==="Int32Array"}B.isInt32Array=_;function T(wt){return i(wt)==="Float32Array"}B.isFloat32Array=T;function P(wt){return i(wt)==="Float64Array"}B.isFloat64Array=P;function u(wt){return i(wt)==="BigInt64Array"}B.isBigInt64Array=u;function g(wt){return i(wt)==="BigUint64Array"}B.isBigUint64Array=g;function L(wt){return r(wt)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function A(wt){return typeof Map>"u"?!1:L.working?L(wt):wt instanceof Map}B.isMap=A;function R(wt){return r(wt)==="[object Set]"}R.working=typeof Set<"u"&&R(new Set);function O(wt){return typeof Set>"u"?!1:R.working?R(wt):wt instanceof Set}B.isSet=O;function N(wt){return r(wt)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function z(wt){return typeof WeakMap>"u"?!1:N.working?N(wt):wt instanceof WeakMap}B.isWeakMap=z;function F(wt){return r(wt)==="[object WeakSet]"}F.working=typeof WeakSet<"u"&&F(new WeakSet);function I(wt){return F(wt)}B.isWeakSet=I;function j(wt){return r(wt)==="[object ArrayBuffer]"}j.working=typeof ArrayBuffer<"u"&&j(new ArrayBuffer);function V(wt){return typeof ArrayBuffer>"u"?!1:j.working?j(wt):wt instanceof ArrayBuffer}B.isArrayBuffer=V;function W(wt){return r(wt)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function K(wt){return typeof DataView>"u"?!1:W.working?W(wt):wt instanceof DataView}B.isDataView=K;var et=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function lt(wt){return r(wt)==="[object SharedArrayBuffer]"}function ot(wt){return typeof et>"u"?!1:(typeof lt.working>"u"&&(lt.working=lt(new et)),lt.working?lt(wt):wt instanceof et)}B.isSharedArrayBuffer=ot;function q(wt){return r(wt)==="[object AsyncFunction]"}B.isAsyncFunction=q;function J(wt){return r(wt)==="[object Map Iterator]"}B.isMapIterator=J;function it(wt){return r(wt)==="[object Set Iterator]"}B.isSetIterator=it;function Z(wt){return r(wt)==="[object Generator]"}B.isGeneratorObject=Z;function tt(wt){return r(wt)==="[object WebAssembly.Module]"}B.isWebAssemblyCompiledModule=tt;function st(wt){return h(wt,e)}B.isNumberObject=st;function Q(wt){return h(wt,s)}B.isStringObject=Q;function G(wt){return h(wt,n)}B.isBooleanObject=G;function ut(wt){return d&&h(wt,l)}B.isBigIntObject=ut;function at(wt){return v&&h(wt,o)}B.isSymbolObject=at;function dt(wt){return st(wt)||Q(wt)||G(wt)||ut(wt)||at(wt)}B.isBoxedPrimitive=dt;function gt(wt){return typeof Uint8Array<"u"&&(V(wt)||ot(wt))}B.isAnyArrayBuffer=gt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(wt){Object.defineProperty(B,wt,{enumerable:!1,value:function(){throw new Error(wt+" is not supported in userland")}})})},35840:function(X,B,t){var x=t(4168),E=Object.getOwnPropertyDescriptors||function(K){for(var et=Object.keys(K),lt={},ot=0;ot<et.length;ot++)lt[et[ot]]=Object.getOwnPropertyDescriptor(K,et[ot]);return lt},i=/%[sdj%]/g;B.format=function(K){if(!S(K)){for(var et=[],lt=0;lt<arguments.length;lt++)et.push(v(arguments[lt]));return et.join(" ")}for(var lt=1,ot=arguments,q=ot.length,J=String(K).replace(i,function(tt){if(tt==="%%")return"%";if(lt>=q)return tt;switch(tt){case"%s":return String(ot[lt++]);case"%d":return Number(ot[lt++]);case"%j":try{return JSON.stringify(ot[lt++])}catch{return"[Circular]"}default:return tt}}),it=ot[lt];lt<q;it=ot[++lt])c(it)||!u(it)?J+=" "+it:J+=" "+v(it);return J},B.deprecate=function(K,et){if(typeof x<"u"&&x.noDeprecation===!0)return K;if(typeof x>"u")return function(){return B.deprecate(K,et).apply(this,arguments)};var lt=!1;function ot(){if(!lt){if(x.throwDeprecation)throw new Error(et);x.traceDeprecation?console.trace(et):console.error(et),lt=!0}return K.apply(this,arguments)}return ot};var M={},m=/^$/;if(x.env.NODE_DEBUG){var d=x.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),m=new RegExp("^"+d+"$","i")}B.debuglog=function(K){if(K=K.toUpperCase(),!M[K])if(m.test(K)){var et=x.pid;M[K]=function(){var lt=B.format.apply(B,arguments);console.error("%s %d: %s",K,et,lt)}}else M[K]=function(){};return M[K]};function v(K,et){var lt={seen:[],stylize:e};return arguments.length>=3&&(lt.depth=arguments[2]),arguments.length>=4&&(lt.colors=arguments[3]),a(et)?lt.showHidden=et:et&&B._extend(lt,et),T(lt.showHidden)&&(lt.showHidden=!1),T(lt.depth)&&(lt.depth=2),T(lt.colors)&&(lt.colors=!1),T(lt.customInspect)&&(lt.customInspect=!0),lt.colors&&(lt.stylize=r),n(lt,K,lt.depth)}B.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(K,et){var lt=v.styles[et];return lt?"\x1B["+v.colors[lt][0]+"m"+K+"\x1B["+v.colors[lt][1]+"m":K}function e(K,et){return K}function s(K){var et={};return K.forEach(function(lt,ot){et[lt]=!0}),et}function n(K,et,lt){if(K.customInspect&&et&&A(et.inspect)&&et.inspect!==B.inspect&&!(et.constructor&&et.constructor.prototype===et)){var ot=et.inspect(lt,K);return S(ot)||(ot=n(K,ot,lt)),ot}var q=l(K,et);if(q)return q;var J=Object.keys(et),it=s(J);if(K.showHidden&&(J=Object.getOwnPropertyNames(et)),L(et)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return o(et);if(J.length===0){if(A(et)){var Z=et.name?": "+et.name:"";return K.stylize("[Function"+Z+"]","special")}if(P(et))return K.stylize(RegExp.prototype.toString.call(et),"regexp");if(g(et))return K.stylize(Date.prototype.toString.call(et),"date");if(L(et))return o(et)}var tt="",st=!1,Q=["{","}"];if(k(et)&&(st=!0,Q=["[","]"]),A(et)){var G=et.name?": "+et.name:"";tt=" [Function"+G+"]"}if(P(et)&&(tt=" "+RegExp.prototype.toString.call(et)),g(et)&&(tt=" "+Date.prototype.toUTCString.call(et)),L(et)&&(tt=" "+o(et)),J.length===0&&(!st||et.length==0))return Q[0]+tt+Q[1];if(lt<0)return P(et)?K.stylize(RegExp.prototype.toString.call(et),"regexp"):K.stylize("[Object]","special");K.seen.push(et);var ut;return st?ut=h(K,et,lt,it,J):ut=J.map(function(at){return b(K,et,lt,it,at,st)}),K.seen.pop(),f(ut,tt,Q)}function l(K,et){if(T(et))return K.stylize("undefined","undefined");if(S(et)){var lt="'"+JSON.stringify(et).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(lt,"string")}if(w(et))return K.stylize(""+et,"number");if(a(et))return K.stylize(""+et,"boolean");if(c(et))return K.stylize("null","null")}function o(K){return"["+Error.prototype.toString.call(K)+"]"}function h(K,et,lt,ot,q){for(var J=[],it=0,Z=et.length;it<Z;++it)I(et,String(it))?J.push(b(K,et,lt,ot,String(it),!0)):J.push("");return q.forEach(function(tt){tt.match(/^\d+$/)||J.push(b(K,et,lt,ot,tt,!0))}),J}function b(K,et,lt,ot,q,J){var it,Z,tt;if(tt=Object.getOwnPropertyDescriptor(et,q)||{value:et[q]},tt.get?tt.set?Z=K.stylize("[Getter/Setter]","special"):Z=K.stylize("[Getter]","special"):tt.set&&(Z=K.stylize("[Setter]","special")),I(ot,q)||(it="["+q+"]"),Z||(K.seen.indexOf(tt.value)<0?(c(lt)?Z=n(K,tt.value,null):Z=n(K,tt.value,lt-1),Z.indexOf(`
`)>-1&&(J?Z=Z.split(`
`).map(function(st){return"  "+st}).join(`
`).slice(2):Z=`
`+Z.split(`
`).map(function(st){return"   "+st}).join(`
`))):Z=K.stylize("[Circular]","special")),T(it)){if(J&&q.match(/^\d+$/))return Z;it=JSON.stringify(""+q),it.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(it=it.slice(1,-1),it=K.stylize(it,"name")):(it=it.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),it=K.stylize(it,"string"))}return it+": "+Z}function f(K,et,lt){var ot=K.reduce(function(q,J){return J.indexOf(`
`)>=0,q+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ot>60?lt[0]+(et===""?"":et+`
 `)+" "+K.join(`,
  `)+" "+lt[1]:lt[0]+et+" "+K.join(", ")+" "+lt[1]}B.types=t(41088);function k(K){return Array.isArray(K)}B.isArray=k;function a(K){return typeof K=="boolean"}B.isBoolean=a;function c(K){return K===null}B.isNull=c;function p(K){return K==null}B.isNullOrUndefined=p;function w(K){return typeof K=="number"}B.isNumber=w;function S(K){return typeof K=="string"}B.isString=S;function _(K){return typeof K=="symbol"}B.isSymbol=_;function T(K){return K===void 0}B.isUndefined=T;function P(K){return u(K)&&O(K)==="[object RegExp]"}B.isRegExp=P,B.types.isRegExp=P;function u(K){return typeof K=="object"&&K!==null}B.isObject=u;function g(K){return u(K)&&O(K)==="[object Date]"}B.isDate=g,B.types.isDate=g;function L(K){return u(K)&&(O(K)==="[object Error]"||K instanceof Error)}B.isError=L,B.types.isNativeError=L;function A(K){return typeof K=="function"}B.isFunction=A;function R(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}B.isPrimitive=R,B.isBuffer=t(75272);function O(K){return Object.prototype.toString.call(K)}function N(K){return K<10?"0"+K.toString(10):K.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var K=new Date,et=[N(K.getHours()),N(K.getMinutes()),N(K.getSeconds())].join(":");return[K.getDate(),z[K.getMonth()],et].join(" ")}B.log=function(){console.log("%s - %s",F(),B.format.apply(B,arguments))},B.inherits=t(6768),B._extend=function(K,et){if(!et||!u(et))return K;for(var lt=Object.keys(et),ot=lt.length;ot--;)K[lt[ot]]=et[lt[ot]];return K};function I(K,et){return Object.prototype.hasOwnProperty.call(K,et)}var j=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;B.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(j&&K[j]){var et=K[j];if(typeof et!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(et,j,{value:et,enumerable:!1,writable:!1,configurable:!0}),et}function et(){for(var lt,ot,q=new Promise(function(Z,tt){lt=Z,ot=tt}),J=[],it=0;it<arguments.length;it++)J.push(arguments[it]);J.push(function(Z,tt){Z?ot(Z):lt(tt)});try{K.apply(this,J)}catch(Z){ot(Z)}return q}return Object.setPrototypeOf(et,Object.getPrototypeOf(K)),j&&Object.defineProperty(et,j,{value:et,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(et,E(K))},B.promisify.custom=j;function V(K,et){if(!K){var lt=new Error("Promise was rejected with a falsy value");lt.reason=K,K=lt}return et(K)}function W(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function et(){for(var lt=[],ot=0;ot<arguments.length;ot++)lt.push(arguments[ot]);var q=lt.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var J=this,it=function(){return q.apply(J,arguments)};K.apply(this,lt).then(function(Z){x.nextTick(it.bind(null,null,Z))},function(Z){x.nextTick(V.bind(null,Z,it))})}return Object.setPrototypeOf(et,Object.getPrototypeOf(K)),Object.defineProperties(et,E(K)),et}B.callbackify=W},5408:function(X,B,t){var x=t(13380);X.exports=function(E){return x("webgl",E)}},96632:function(X,B,t){var x=t(46492),E=t(63436),i=t(57916),M=t(99676),m=t(2304),d=M("Object.prototype.toString"),v=t(46672)(),r=typeof globalThis>"u"?t.g:globalThis,e=E(),s=M("String.prototype.slice"),n=Object.getPrototypeOf,l=M("Array.prototype.indexOf",!0)||function(f,k){for(var a=0;a<f.length;a+=1)if(f[a]===k)return a;return-1},o={__proto__:null};v&&m&&n?x(e,function(f){var k=new r[f];if(Symbol.toStringTag in k){var a=n(k),c=m(a,Symbol.toStringTag);if(!c){var p=n(a);c=m(p,Symbol.toStringTag)}o["$"+f]=i(c.get)}}):x(e,function(f){var k=new r[f],a=k.slice||k.set;a&&(o["$"+f]=i(a))});var h=function(f){var k=!1;return x(o,function(a,c){if(!k)try{"$"+a(f)===c&&(k=s(c,1))}catch{}}),k},b=function(f){var k=!1;return x(o,function(a,c){if(!k)try{a(f),k=s(c,1)}catch{}}),k};X.exports=function(f){if(!f||typeof f!="object")return!1;if(!v){var k=s(d(f),8,-1);return l(e,k)>-1?k:k!=="Object"?!1:b(f)}return m?h(f):null}},67020:function(X,B,t){var x=t(38700),E=t(50896),i=x.instance();function M(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}M.prototype=new x.baseCalendar,E(M.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(o,h){if(typeof o=="string"){var b=o.match(d);return b?b[0]:""}var f=this._validateYear(o),k=o.month(),a=""+this.toChineseMonth(f,k);return h&&a.length<2&&(a="0"+a),this.isIntercalaryMonth(f,k)&&(a+="i"),a},monthNames:function(o){if(typeof o=="string"){var h=o.match(v);return h?h[0]:""}var b=this._validateYear(o),f=o.month(),k=this.toChineseMonth(b,f),a=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][k-1];return this.isIntercalaryMonth(b,f)&&(a="闰"+a),a},monthNamesShort:function(o){if(typeof o=="string"){var h=o.match(r);return h?h[0]:""}var b=this._validateYear(o),f=o.month(),k=this.toChineseMonth(b,f),a=["一","二","三","四","五","六","七","八","九","十","十一","十二"][k-1];return this.isIntercalaryMonth(b,f)&&(a="闰"+a),a},parseMonth:function(o,h){o=this._validateYear(o);var b=parseInt(h),f;if(isNaN(b))h[0]==="闰"&&(f=!0,h=h.substring(1)),h[h.length-1]==="月"&&(h=h.substring(0,h.length-1)),b=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(h);else{var k=h[h.length-1];f=k==="i"||k==="I"}var a=this.toMonthIndex(o,b,f);return a},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(o,h){if(o.year&&(o=o.year()),typeof o!="number"||o<1888||o>2111)throw h.replace(/\{0\}/,this.local.name);return o},toMonthIndex:function(o,h,b){var f=this.intercalaryMonth(o),k=b&&h!==f;if(k||h<1||h>12)throw x.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return f?!b&&h<=f?a=h-1:a=h:a=h-1,a},toChineseMonth:function(o,h){o.year&&(o=o.year(),h=o.month());var b=this.intercalaryMonth(o),f=b?12:11;if(h<0||h>f)throw x.local.invalidMonth.replace(/\{0\}/,this.local.name);var k;return b?h<b?k=h+1:k=h:k=h+1,k},intercalaryMonth:function(o){o=this._validateYear(o);var h=e[o-e[0]],b=h>>13;return b},isIntercalaryMonth:function(o,h){o.year&&(o=o.year(),h=o.month());var b=this.intercalaryMonth(o);return!!b&&b===h},leapYear:function(o){return this.intercalaryMonth(o)!==0},weekOfYear:function(o,h,b){var f=this._validateYear(o,x.local.invalidyear),k=s[f-s[0]],a=k>>9&4095,c=k>>5&15,p=k&31,w;w=i.newDate(a,c,p),w.add(4-(w.dayOfWeek()||7),"d");var S=this.toJD(o,h,b)-w.toJD();return 1+Math.floor(S/7)},monthsInYear:function(o){return this.leapYear(o)?13:12},daysInMonth:function(o,h){o.year&&(h=o.month(),o=o.year()),o=this._validateYear(o);var b=e[o-e[0]],f=b>>13,k=f?12:11;if(h>k)throw x.local.invalidMonth.replace(/\{0\}/,this.local.name);var a=b&1<<12-h?30:29;return a},weekDay:function(o,h,b){return(this.dayOfWeek(o,h,b)||7)<6},toJD:function(o,h,b){var f=this._validate(o,a,b,x.local.invalidDate);o=this._validateYear(f.year()),h=f.month(),b=f.day();var k=this.isIntercalaryMonth(o,h),a=this.toChineseMonth(o,h),c=l(o,a,b,k);return i.toJD(c.year,c.month,c.day)},fromJD:function(o){var h=i.fromJD(o),b=n(h.year(),h.month(),h.day()),f=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,f,b.day)},fromString:function(o){var h=o.match(m),b=this._validateYear(+h[1]),f=+h[2],k=!!h[3],a=this.toMonthIndex(b,f,k),c=+h[4];return this.newDate(b,a,c)},add:function(o,h,b){var f=o.year(),k=o.month(),a=this.isIntercalaryMonth(f,k),c=this.toChineseMonth(f,k),p=Object.getPrototypeOf(M.prototype).add.call(this,o,h,b);if(b==="y"){var w=p.year(),S=p.month(),_=this.isIntercalaryMonth(w,c),T=a&&_?this.toMonthIndex(w,c,!0):this.toMonthIndex(w,c,!1);T!==S&&p.month(T)}return p}});var m=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,v=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;x.calendars.chinese=M;var e=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(o,h,b,f){var k,a;if(typeof o=="object")k=o,a=h||{};else{var c=typeof o=="number"&&o>=1888&&o<=2111;if(!c)throw new Error("Solar year outside range 1888-2111");var p=typeof h=="number"&&h>=1&&h<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var w=typeof b=="number"&&b>=1&&b<=31;if(!w)throw new Error("Solar day outside range 1 - 31");k={year:o,month:h,day:b},a=f||{}}var S=s[k.year-s[0]],_=k.year<<9|k.month<<5|k.day;a.year=_>=S?k.year:k.year-1,S=s[a.year-s[0]];var T=S>>9&4095,P=S>>5&15,u=S&31,g,L=new Date(T,P-1,u),A=new Date(k.year,k.month-1,k.day);g=Math.round((A-L)/864e5);var R=e[a.year-e[0]],O;for(O=0;O<13;O++){var N=R&1<<12-O?30:29;if(g<N)break;g-=N}var z=R>>13;return!z||O<z?(a.isIntercalary=!1,a.month=1+O):O===z?(a.isIntercalary=!0,a.month=O):(a.isIntercalary=!1,a.month=O),a.day=1+g,a}function l(o,h,b,f,k){var a,c;if(typeof o=="object")c=o,a=h||{};else{var p=typeof o=="number"&&o>=1888&&o<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var w=typeof h=="number"&&h>=1&&h<=12;if(!w)throw new Error("Lunar month outside range 1 - 12");var S=typeof b=="number"&&b>=1&&b<=30;if(!S)throw new Error("Lunar day outside range 1 - 30");var _;typeof f=="object"?(_=!1,a=f):(_=!!f,a=k||{}),c={year:o,month:h,day:b,isIntercalary:_}}var T;T=c.day-1;var P=e[c.year-e[0]],u=P>>13,g;u&&(c.month>u||c.isIntercalary)?g=c.month:g=c.month-1;for(var L=0;L<g;L++){var A=P&1<<12-L?30:29;T+=A}var R=s[c.year-s[0]],O=R>>9&4095,N=R>>5&15,z=R&31,F=new Date(O,N-1,z+T);return a.year=F.getFullYear(),a.month=1+F.getMonth(),a.day=F.getDate(),a}},89792:function(X,B,t){var x=t(38700),E=t(50896);function i(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var m=this._validate(d,this.minMonth,this.minDay,x.local.invalidYear),d=m.year()+(m.year()<0?1:0);return d%4===3||d%4===-1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear),13},weekOfYear:function(M,m,d){var v=this.newDate(M,m,d);return v.add(-v.dayOfWeek(),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInMonth:function(M,m){var d=this._validate(M,m,this.minDay,x.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(M,m,d){return(this.dayOfWeek(M,m,d)||7)<6},toJD:function(M,m,d){var v=this._validate(M,m,d,x.local.invalidDate);return M=v.year(),M<0&&M++,v.day()+(v.month()-1)*30+(M-1)*365+Math.floor(M/4)+this.jdEpoch-1},fromJD:function(M){var m=Math.floor(M)+.5-this.jdEpoch,d=Math.floor((m-Math.floor((m+366)/1461))/365)+1;d<=0&&d--,m=Math.floor(M)+.5-this.newDate(d,1,1).toJD();var v=Math.floor(m/30)+1,r=m-(v-1)*30+1;return this.newDate(d,v,r)}}),x.calendars.coptic=i},55668:function(X,B,t){var x=t(38700),E=t(50896);function i(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(m){return this._validate(m,this.minMonth,this.minDay,x.local.invalidYear),!1},monthsInYear:function(m){return this._validate(m,this.minMonth,this.minDay,x.local.invalidYear),13},daysInYear:function(m){return this._validate(m,this.minMonth,this.minDay,x.local.invalidYear),400},weekOfYear:function(m,d,v){var r=this.newDate(m,d,v);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(m,d){var v=this._validate(m,d,this.minDay,x.local.invalidMonth);return this.daysPerMonth[v.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(m,d,v){var r=this._validate(m,d,v,x.local.invalidDate);return(r.day()+1)%8},weekDay:function(m,d,v){var r=this.dayOfWeek(m,d,v);return r>=2&&r<=6},extraInfo:function(m,d,v){var r=this._validate(m,d,v,x.local.invalidDate);return{century:M[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(m,d,v){var r=this._validate(m,d,v,x.local.invalidDate);return m=r.year()+(r.year()<0?1:0),d=r.month(),v=r.day(),v+(d>1?16:0)+(d>2?(d-2)*32:0)+(m-1)*400+this.jdEpoch-1},fromJD:function(m){m=Math.floor(m+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(m/400)+1;m-=(d-1)*400,m+=m>15?16:0;var v=Math.floor(m/32)+1,r=m-(v-1)*32+1;return this.newDate(d<=0?d-1:d,v,r)}});var M={20:"Fruitbat",21:"Anchovy"};x.calendars.discworld=i},65168:function(X,B,t){var x=t(38700),E=t(50896);function i(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var m=this._validate(d,this.minMonth,this.minDay,x.local.invalidYear),d=m.year()+(m.year()<0?1:0);return d%4===3||d%4===-1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear),13},weekOfYear:function(M,m,d){var v=this.newDate(M,m,d);return v.add(-v.dayOfWeek(),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInMonth:function(M,m){var d=this._validate(M,m,this.minDay,x.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(M,m,d){return(this.dayOfWeek(M,m,d)||7)<6},toJD:function(M,m,d){var v=this._validate(M,m,d,x.local.invalidDate);return M=v.year(),M<0&&M++,v.day()+(v.month()-1)*30+(M-1)*365+Math.floor(M/4)+this.jdEpoch-1},fromJD:function(M){var m=Math.floor(M)+.5-this.jdEpoch,d=Math.floor((m-Math.floor((m+366)/1461))/365)+1;d<=0&&d--,m=Math.floor(M)+.5-this.newDate(d,1,1).toJD();var v=Math.floor(m/30)+1,r=m-(v-1)*30+1;return this.newDate(d,v,r)}}),x.calendars.ethiopian=i},2084:function(X,B,t){var x=t(38700),E=t(50896);function i(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(m){var d=this._validate(m,this.minMonth,this.minDay,x.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(m){return m=m<0?m+1:m,M(m*7+1,19)<7},monthsInYear:function(m){return this._validate(m,this.minMonth,this.minDay,x.local.invalidYear),this._leapYear(m.year?m.year():m)?13:12},weekOfYear:function(m,d,v){var r=this.newDate(m,d,v);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(m){var d=this._validate(m,this.minMonth,this.minDay,x.local.invalidYear);return m=d.year(),this.toJD(m===-1?1:m+1,7,1)-this.toJD(m,7,1)},daysInMonth:function(m,d){return m.year&&(d=m.month(),m=m.year()),this._validate(m,d,this.minDay,x.local.invalidMonth),d===12&&this.leapYear(m)||d===8&&M(this.daysInYear(m),10)===5?30:d===9&&M(this.daysInYear(m),10)===3?29:this.daysPerMonth[d-1]},weekDay:function(m,d,v){return this.dayOfWeek(m,d,v)!==6},extraInfo:function(m,d,v){var r=this._validate(m,d,v,x.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(m,d,v){var r=this._validate(m,d,v,x.local.invalidDate);m=r.year(),d=r.month(),v=r.day();var e=m<=0?m+1:m,s=this.jdEpoch+this._delay1(e)+this._delay2(e)+v+1;if(d<7){for(var n=7;n<=this.monthsInYear(m);n++)s+=this.daysInMonth(m,n);for(var n=1;n<d;n++)s+=this.daysInMonth(m,n)}else for(var n=7;n<d;n++)s+=this.daysInMonth(m,n);return s},_delay1:function(m){var d=Math.floor((235*m-234)/19),v=12084+13753*d,r=d*29+Math.floor(v/25920);return M(3*(r+1),7)<3&&r++,r},_delay2:function(m){var d=this._delay1(m-1),v=this._delay1(m),r=this._delay1(m+1);return r-v===356?2:v-d===382?1:0},fromJD:function(m){m=Math.floor(m)+.5;for(var d=Math.floor((m-this.jdEpoch)*98496/35975351)-1;m>=this.toJD(d===-1?1:d+1,7,1);)d++;for(var v=m<this.toJD(d,1,1)?7:1;m>this.toJD(d,v,this.daysInMonth(d,v));)v++;var r=m-this.toJD(d,v,1)+1;return this.newDate(d,v,r)}});function M(m,d){return m-d*Math.floor(m/d)}x.calendars.hebrew=i},26368:function(X,B,t){var x=t(38700),E=t(50896);function i(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var m=this._validate(M,this.minMonth,this.minDay,x.local.invalidYear);return(m.year()*11+14)%30<11},weekOfYear:function(M,m,d){var v=this.newDate(M,m,d);return v.add(-v.dayOfWeek(),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInYear:function(M){return this.leapYear(M)?355:354},daysInMonth:function(M,m){var d=this._validate(M,m,this.minDay,x.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(M,m,d){return this.dayOfWeek(M,m,d)!==5},toJD:function(M,m,d){var v=this._validate(M,m,d,x.local.invalidDate);return M=v.year(),m=v.month(),d=v.day(),M=M<=0?M+1:M,d+Math.ceil(29.5*(m-1))+(M-1)*354+Math.floor((3+11*M)/30)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var m=Math.floor((30*(M-this.jdEpoch)+10646)/10631);m=m<=0?m-1:m;var d=Math.min(12,Math.ceil((M-29-this.toJD(m,1,1))/29.5)+1),v=M-this.toJD(m,d,1)+1;return this.newDate(m,d,v)}}),x.calendars.islamic=i},24747:function(X,B,t){var x=t(38700),E=t(50896);function i(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var m=this._validate(d,this.minMonth,this.minDay,x.local.invalidYear),d=m.year()<0?m.year()+1:m.year();return d%4===0},weekOfYear:function(M,m,d){var v=this.newDate(M,m,d);return v.add(4-(v.dayOfWeek()||7),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInMonth:function(M,m){var d=this._validate(M,m,this.minDay,x.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(M,m,d){return(this.dayOfWeek(M,m,d)||7)<6},toJD:function(M,m,d){var v=this._validate(M,m,d,x.local.invalidDate);return M=v.year(),m=v.month(),d=v.day(),M<0&&M++,m<=2&&(M--,m+=12),Math.floor(365.25*(M+4716))+Math.floor(30.6001*(m+1))+d-1524.5},fromJD:function(M){var m=Math.floor(M+.5),d=m+1524,v=Math.floor((d-122.1)/365.25),r=Math.floor(365.25*v),e=Math.floor((d-r)/30.6001),s=e-Math.floor(e<14?1:13),n=v-Math.floor(s>2?4716:4715),l=d-r-Math.floor(30.6001*e);return n<=0&&n--,this.newDate(n,s,l)}}),x.calendars.julian=i},65616:function(X,B,t){var x=t(38700),E=t(50896);function i(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,x.local.invalidYear),!1},formatYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,x.local.invalidYear);d=v.year();var r=Math.floor(d/400);d=d%400,d+=d<0?400:0;var e=Math.floor(d/20);return r+"."+e+"."+d%20},forYear:function(d){if(d=d.split("."),d.length<3)throw"Invalid Mayan year";for(var v=0,r=0;r<d.length;r++){var e=parseInt(d[r],10);if(Math.abs(e)>19||r>0&&e<0)throw"Invalid Mayan year";v=v*20+e}return v},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,x.local.invalidYear),18},weekOfYear:function(d,v,r){return this._validate(d,v,r,x.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,x.local.invalidYear),360},daysInMonth:function(d,v){return this._validate(d,v,this.minDay,x.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,v,r){var e=this._validate(d,v,r,x.local.invalidDate);return e.day()},weekDay:function(d,v,r){return this._validate(d,v,r,x.local.invalidDate),!0},extraInfo:function(d,v,r){var e=this._validate(d,v,r,x.local.invalidDate),s=e.toJD(),n=this._toHaab(s),l=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(d){d-=this.jdEpoch;var v=M(d+8+17*20,365);return[Math.floor(v/20)+1,M(v,20)]},_toTzolkin:function(d){return d-=this.jdEpoch,[m(d+20,20),m(d+4,13)]},toJD:function(d,v,r){var e=this._validate(d,v,r,x.local.invalidDate);return e.day()+e.month()*20+e.year()*360+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var v=Math.floor(d/360);d=d%360,d+=d<0?360:0;var r=Math.floor(d/20),e=d%20;return this.newDate(v,r,e)}});function M(d,v){return d-v*Math.floor(d/v)}function m(d,v){return M(d-1,v)+1}x.calendars.mayan=i},30632:function(X,B,t){var x=t(38700),E=t(50896);function i(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar;var M=x.instance("gregorian");E(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(m){var d=this._validate(m,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear);return M.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(m,d,v){var r=this.newDate(m,d,v);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(m,d){var v=this._validate(m,d,this.minDay,x.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(m,d,v){return(this.dayOfWeek(m,d,v)||7)<6},toJD:function(e,d,v){var r=this._validate(e,d,v,x.local.invalidMonth),e=r.year();e<0&&e++;for(var s=r.day(),n=1;n<r.month();n++)s+=this.daysPerMonth[n-1];return s+M.toJD(e+1468,3,13)},fromJD:function(m){m=Math.floor(m+.5);for(var d=Math.floor((m-(this.jdEpoch-1))/366);m>=this.toJD(d+1,1,1);)d++;for(var v=m-Math.floor(this.toJD(d,1,1)+.5)+1,r=1;v>this.daysInMonth(d,r);)v-=this.daysInMonth(d,r),r++;return this.newDate(d,r,v)}}),x.calendars.nanakshahi=i},73040:function(X,B,t){var x=t(38700),E=t(50896);function i(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(M){return this.daysInYear(M)!==this.daysPerYear},weekOfYear:function(M,m,d){var v=this.newDate(M,m,d);return v.add(-v.dayOfWeek(),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInYear:function(M){var m=this._validate(M,this.minMonth,this.minDay,x.local.invalidYear);if(M=m.year(),typeof this.NEPALI_CALENDAR_DATA[M]>"u")return this.daysPerYear;for(var d=0,v=this.minMonth;v<=12;v++)d+=this.NEPALI_CALENDAR_DATA[M][v];return d},daysInMonth:function(M,m){return M.year&&(m=M.month(),M=M.year()),this._validate(M,m,this.minDay,x.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[M]>"u"?this.daysPerMonth[m-1]:this.NEPALI_CALENDAR_DATA[M][m]},weekDay:function(M,m,d){return this.dayOfWeek(M,m,d)!==6},toJD:function(M,m,d){var v=this._validate(M,m,d,x.local.invalidDate);M=v.year(),m=v.month(),d=v.day();var r=x.instance(),e=0,s=m,n=M;this._createMissingCalendarData(M);var l=M-(s>9||s===9&&d>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(m!==9&&(e=d,s--);s!==9;)s<=0&&(s=12,n--),e+=this.NEPALI_CALENDAR_DATA[n][s],s--;return m===9?(e+=d-this.NEPALI_CALENDAR_DATA[n][0],e<0&&(e+=r.daysInYear(l))):e+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(l,1,1).add(e,"d").toJD()},fromJD:function(M){var m=x.instance(),d=m.fromJD(M),v=d.year(),r=d.dayOfYear(),e=v+56;this._createMissingCalendarData(e);for(var s=9,n=this.NEPALI_CALENDAR_DATA[e][0],l=this.NEPALI_CALENDAR_DATA[e][s]-n+1;r>l;)s++,s>12&&(s=1,e++),l+=this.NEPALI_CALENDAR_DATA[e][s];var o=this.NEPALI_CALENDAR_DATA[e][s]-(l-r);return this.newDate(e,s,o)},_createMissingCalendarData:function(M){var m=this.daysPerMonth.slice(0);m.unshift(17);for(var d=M-1;d<M+2;d++)typeof this.NEPALI_CALENDAR_DATA[d]>"u"&&(this.NEPALI_CALENDAR_DATA[d]=m)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),x.calendars.nepali=i},1104:function(X,B,t){var x=t(38700),E=t(50896);function i(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(m){var d=this._validate(m,this.minMonth,this.minDay,x.local.invalidYear);return((d.year()-(d.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(m,d,v){var r=this.newDate(m,d,v);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(m,d){var v=this._validate(m,d,this.minDay,x.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(m,d,v){return this.dayOfWeek(m,d,v)!==5},toJD:function(m,d,v){var r=this._validate(m,d,v,x.local.invalidDate);m=r.year(),d=r.month(),v=r.day();var e=m-(m>=0?474:473),s=474+M(e,2820);return v+(d<=7?(d-1)*31:(d-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(e/2820)*1029983+this.jdEpoch-1},fromJD:function(m){m=Math.floor(m)+.5;var d=m-this.toJD(475,1,1),v=Math.floor(d/1029983),r=M(d,1029983),e=2820;if(r!==1029982){var s=Math.floor(r/366),n=M(r,366);e=Math.floor((2134*s+2816*n+2815)/1028522)+s+1}var l=e+2820*v+474;l=l<=0?l-1:l;var o=m-this.toJD(l,1,1)+1,h=o<=186?Math.ceil(o/31):Math.ceil((o-6)/30),b=m-this.toJD(l,h,1)+1;return this.newDate(l,h,b)}});function M(m,d){return m-d*Math.floor(m/d)}x.calendars.persian=i,x.calendars.jalali=i},51456:function(X,B,t){var x=t(38700),E=t(50896),i=x.instance();function M(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}M.prototype=new x.baseCalendar,E(M.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(v){var d=this._validate(v,this.minMonth,this.minDay,x.local.invalidYear),v=this._t2gYear(d.year());return i.leapYear(v)},weekOfYear:function(e,d,v){var r=this._validate(e,this.minMonth,this.minDay,x.local.invalidYear),e=this._t2gYear(r.year());return i.weekOfYear(e,r.month(),r.day())},daysInMonth:function(m,d){var v=this._validate(m,d,this.minDay,x.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(m,d,v){return(this.dayOfWeek(m,d,v)||7)<6},toJD:function(e,d,v){var r=this._validate(e,d,v,x.local.invalidDate),e=this._t2gYear(r.year());return i.toJD(e,r.month(),r.day())},fromJD:function(m){var d=i.fromJD(m),v=this._g2tYear(d.year());return this.newDate(v,d.month(),d.day())},_t2gYear:function(m){return m+this.yearsOffset+(m>=-this.yearsOffset&&m<=-1?1:0)},_g2tYear:function(m){return m-this.yearsOffset-(m>=1&&m<=this.yearsOffset?1:0)}}),x.calendars.taiwan=M},4592:function(X,B,t){var x=t(38700),E=t(50896),i=x.instance();function M(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}M.prototype=new x.baseCalendar,E(M.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var d=this._validate(v,this.minMonth,this.minDay,x.local.invalidYear),v=this._t2gYear(d.year());return i.leapYear(v)},weekOfYear:function(e,d,v){var r=this._validate(e,this.minMonth,this.minDay,x.local.invalidYear),e=this._t2gYear(r.year());return i.weekOfYear(e,r.month(),r.day())},daysInMonth:function(m,d){var v=this._validate(m,d,this.minDay,x.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(m,d,v){return(this.dayOfWeek(m,d,v)||7)<6},toJD:function(e,d,v){var r=this._validate(e,d,v,x.local.invalidDate),e=this._t2gYear(r.year());return i.toJD(e,r.month(),r.day())},fromJD:function(m){var d=i.fromJD(m),v=this._g2tYear(d.year());return this.newDate(v,d.month(),d.day())},_t2gYear:function(m){return m-this.yearsOffset-(m>=1&&m<=this.yearsOffset?1:0)},_g2tYear:function(m){return m+this.yearsOffset+(m>=-this.yearsOffset&&m<=-1?1:0)}}),x.calendars.thai=M},45348:function(X,B,t){var x=t(38700),E=t(50896);function i(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,E(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(m){var d=this._validate(m,this.minMonth,this.minDay,x.local.invalidYear);return this.daysInYear(d.year())===355},weekOfYear:function(m,d,v){var r=this.newDate(m,d,v);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(m){for(var d=0,v=1;v<=12;v++)d+=this.daysInMonth(m,v);return d},daysInMonth:function(m,d){for(var v=this._validate(m,d,this.minDay,x.local.invalidMonth),r=v.toJD()-24e5+.5,e=0,s=0;s<M.length;s++){if(M[s]>r)return M[e]-M[e-1];e++}return 30},weekDay:function(m,d,v){return this.dayOfWeek(m,d,v)!==5},toJD:function(m,d,v){var r=this._validate(m,d,v,x.local.invalidDate),e=12*(r.year()-1)+r.month()-15292,s=r.day()+M[e-1]-1;return s+24e5-.5},fromJD:function(m){for(var d=m-24e5+.5,v=0,r=0;r<M.length&&!(M[r]>d);r++)v++;var e=v+15292,s=Math.floor((e-1)/12),n=s+1,l=e-12*s,o=d-M[v-1]+1;return this.newDate(n,l,o)},isValid:function(m,d,v){var r=x.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(m=m.year!=null?m.year:m,r=m>=1276&&m<=1500),r},_validate:function(m,d,v,r){var e=x.baseCalendar.prototype._validate.apply(this,arguments);if(e.year<1276||e.year>1500)throw r.replace(/\{0\}/,this.local.name);return e}}),x.calendars.ummalqura=i;var M=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(X,B,t){var x=t(50896);function E(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}x(E.prototype,{instance:function(r,e){r=(r||"gregorian").toLowerCase(),e=e||"";var s=this._localCals[r+"-"+e];if(!s&&this.calendars[r]&&(s=new this.calendars[r](e),this._localCals[r+"-"+e]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return s},newDate:function(r,e,s,n,l){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,l):n)||this.instance(),n.newDate(r,e,s)},substituteDigits:function(r){return function(e){return(e+"").replace(/[0-9]/g,function(s){return r[s]})}},substituteChineseDigits:function(r,e){return function(s){for(var n="",l=0;s>0;){var o=s%10;n=(o===0?"":r[o]+e[l])+n,l++,s=Math.floor(s/10)}return n.indexOf(r[1]+e[1])===0&&(n=n.substr(1)),n||r[0]}}});function i(r,e,s,n){if(this._calendar=r,this._year=e,this._month=s,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(v.local.invalidDate||v.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function M(r,e){return r=""+r,"000000".substring(0,e-r.length)+r}x(i.prototype,{newDate:function(r,e,s){return this._calendar.newDate(r??this,e,s)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,e,s){if(!this._calendar.isValid(r,e,s))throw(v.local.invalidDate||v.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=e,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,e){return this._calendar.add(this,r,e)},set:function(r,e){return this._calendar.set(this,r,e)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(v.local.differentCalendars||v.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var e=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return e===0?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+M(Math.abs(this.year()),4)+"-"+M(this.month(),2)+"-"+M(this.day(),2)}});function m(){this.shortYearCutoff="+10"}x(m.prototype,{_validateLevel:0,newDate:function(r,e,s){return r==null?this.today():(r.year&&(this._validate(r,e,s,v.local.invalidDate||v.regionalOptions[""].invalidDate),s=r.day(),e=r.month(),r=r.year()),new i(this,r,e,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var e=this._validate(r,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear);return e.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+M(Math.abs(e.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear),12},monthOfYear:function(r,e){var s=this._validate(r,e,this.minDay,v.local.invalidMonth||v.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(r,e){var s=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,s,this.minDay,v.local.invalidMonth||v.regionalOptions[""].invalidMonth),s},daysInYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(r,e,s){var n=this._validate(r,e,s,v.local.invalidDate||v.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,e,s){var n=this._validate(r,e,s,v.local.invalidDate||v.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,e,s){return this._validate(r,e,s,v.local.invalidDate||v.regionalOptions[""].invalidDate),{}},add:function(r,e,s){return this._validate(r,this.minMonth,this.minDay,v.local.invalidDate||v.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,e,s),e,s)},_add:function(r,e,s){if(this._validateLevel++,s==="d"||s==="w"){var n=r.toJD()+e*(s==="w"?this.daysInWeek():1),l=r.calendar().fromJD(n);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var o=r.year()+(s==="y"?e:0),h=r.monthOfYear()+(s==="m"?e:0),l=r.day(),b=function(a){for(;h<a.minMonth;)o--,h+=a.monthsInYear(o);for(var c=a.monthsInYear(o);h>c-1+a.minMonth;)o++,h-=c,c=a.monthsInYear(o)};s==="y"?(r.month()!==this.fromMonthOfYear(o,h)&&(h=this.newDate(o,r.month(),this.minDay).monthOfYear()),h=Math.min(h,this.monthsInYear(o)),l=Math.min(l,this.daysInMonth(o,this.fromMonthOfYear(o,h)))):s==="m"&&(b(this),l=Math.min(l,this.daysInMonth(o,this.fromMonthOfYear(o,h))));var f=[o,this.fromMonthOfYear(o,h),l];return this._validateLevel--,f}catch(k){throw this._validateLevel--,k}},_correctAdd:function(r,e,s,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(e[0]===0||r.year()>0!=e[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=s<0?-1:1;e=this._add(r,s*l[0]+o*l[1],l[2])}return r.date(e[0],e[1],e[2])},set:function(r,e,s){this._validate(r,this.minMonth,this.minDay,v.local.invalidDate||v.regionalOptions[""].invalidDate);var n=s==="y"?e:r.year(),l=s==="m"?e:r.month(),o=s==="d"?e:r.day();return(s==="y"||s==="m")&&(o=Math.min(o,this.daysInMonth(n,l))),r.date(n,l,o)},isValid:function(r,e,s){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var l=this.newDate(r,e,this.minDay);n=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(l)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(l)}return this._validateLevel--,n},toJSDate:function(r,e,s){var n=this._validate(r,e,s,v.local.invalidDate||v.regionalOptions[""].invalidDate);return v.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(v.instance().fromJSDate(r).toJD())},_validate:function(r,e,s,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(v.local.differentCalendars||v.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,e,s))throw n.replace(/\{0\}/,this.local.name);var l=this.newDate(r,e,s);return this._validateLevel--,l}catch(o){throw this._validateLevel--,o}}});function d(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}d.prototype=new m,x(d.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var e=this._validate(s,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear),s=e.year()+(e.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(r,e,s){var n=this.newDate(r,e,s);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,e){var s=this._validate(r,e,this.minDay,v.local.invalidMonth||v.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(r,e,s){return(this.dayOfWeek(r,e,s)||7)<6},toJD:function(r,e,s){var n=this._validate(r,e,s,v.local.invalidDate||v.regionalOptions[""].invalidDate);r=n.year(),e=n.month(),s=n.day(),r<0&&r++,e<3&&(e+=12,r--);var l=Math.floor(r/100),o=2-l+Math.floor(l/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(e+1))+s+o-1524.5},fromJD:function(r){var e=Math.floor(r+.5),s=Math.floor((e-186721625e-2)/36524.25);s=e+1+s-Math.floor(s/4);var n=s+1524,l=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*l),h=Math.floor((n-o)/30.6001),b=n-o-Math.floor(h*30.6001),f=h-(h>13.5?13:1),k=l-(f>2.5?4716:4715);return k<=0&&k--,this.newDate(k,f,b)},toJSDate:function(r,e,s){var n=this._validate(r,e,s,v.local.invalidDate||v.regionalOptions[""].invalidDate),l=new Date(n.year(),n.month()-1,n.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var v=X.exports=new E;v.cdate=i,v.baseCalendar=m,v.calendars.gregorian=d},15168:function(X,B,t){var x=t(50896),E=t(38700);x(E.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),E.local=E.regionalOptions[""],x(E.cdate.prototype,{formatDate:function(i,M){return typeof i!="string"&&(M=i,i=""),this._calendar.formatDate(i||"",this,M)}}),x(E.baseCalendar.prototype,{UNIX_EPOCH:E.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:E.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,M,m){if(typeof i!="string"&&(m=M,M=i,i=""),!M)return"";if(M.calendar()!==this)throw E.local.invalidFormat||E.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,m=m||{};var d=m.dayNamesShort||this.local.dayNamesShort,v=m.dayNames||this.local.dayNames,r=m.monthNumbers||this.local.monthNumbers,e=m.monthNamesShort||this.local.monthNamesShort,s=m.monthNames||this.local.monthNames;m.calculateWeek||this.local.calculateWeek;for(var n=function(S,_){for(var T=1;w+T<i.length&&i.charAt(w+T)===S;)T++;return w+=T-1,Math.floor(T/(_||1))>1},l=function(S,_,T,P){var u=""+_;if(n(S,P))for(;u.length<T;)u="0"+u;return u},o=function(S,_,T,P){return n(S)?P[_]:T[_]},h=this,b=function(S){return typeof r=="function"?r.call(h,S,n("m")):a(l("m",S.month(),2))},f=function(S,_){return _?typeof s=="function"?s.call(h,S):s[S.month()-h.minMonth]:typeof e=="function"?e.call(h,S):e[S.month()-h.minMonth]},k=this.local.digits,a=function(S){return m.localNumbers&&k?k(S):S},c="",p=!1,w=0;w<i.length;w++)if(p)i.charAt(w)==="'"&&!n("'")?p=!1:c+=i.charAt(w);else switch(i.charAt(w)){case"d":c+=a(l("d",M.day(),2));break;case"D":c+=o("D",M.dayOfWeek(),d,v);break;case"o":c+=l("o",M.dayOfYear(),3);break;case"w":c+=l("w",M.weekOfYear(),2);break;case"m":c+=b(M);break;case"M":c+=f(M,n("M"));break;case"y":c+=n("y",2)?M.year():(M.year()%100<10?"0":"")+M.year()%100;break;case"Y":n("Y",2),c+=M.formatYear();break;case"J":c+=M.toJD();break;case"@":c+=(M.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":c+=(M.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?c+="'":p=!0;break;default:c+=i.charAt(w)}return c},parseDate:function(i,M,m){if(M==null)throw E.local.invalidArguments||E.regionalOptions[""].invalidArguments;if(M=typeof M=="object"?M.toString():M+"",M==="")return null;i=i||this.local.dateFormat,m=m||{};var d=m.shortYearCutoff||this.shortYearCutoff;d=typeof d!="string"?d:this.today().year()%100+parseInt(d,10);for(var v=m.dayNamesShort||this.local.dayNamesShort,r=m.dayNames||this.local.dayNames,e=m.parseMonth||this.local.parseMonth,s=m.monthNumbers||this.local.monthNumbers,n=m.monthNamesShort||this.local.monthNamesShort,l=m.monthNames||this.local.monthNames,o=-1,h=-1,b=-1,f=-1,k=-1,a=!1,c=!1,p=function(O,N){for(var z=1;L+z<i.length&&i.charAt(L+z)===O;)z++;return L+=z-1,Math.floor(z/(N||1))>1},w=function(O,N){var z=p(O,N),F=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(O)+1],I=new RegExp("^-?\\d{1,"+F+"}"),j=M.substring(g).match(I);if(!j)throw(E.local.missingNumberAt||E.regionalOptions[""].missingNumberAt).replace(/\{0\}/,g);return g+=j[0].length,parseInt(j[0],10)},S=this,_=function(){if(typeof s=="function"){p("m");var O=s.call(S,M.substring(g));return g+=O.length,O}return w("m")},T=function(O,N,z,F){for(var I=p(O,F)?z:N,j=0;j<I.length;j++)if(M.substr(g,I[j].length).toLowerCase()===I[j].toLowerCase())return g+=I[j].length,j+S.minMonth;throw(E.local.unknownNameAt||E.regionalOptions[""].unknownNameAt).replace(/\{0\}/,g)},P=function(){if(typeof l=="function"){var O=p("M")?l.call(S,M.substring(g)):n.call(S,M.substring(g));return g+=O.length,O}return T("M",n,l)},u=function(){if(M.charAt(g)!==i.charAt(L))throw(E.local.unexpectedLiteralAt||E.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,g);g++},g=0,L=0;L<i.length;L++)if(c)i.charAt(L)==="'"&&!p("'")?c=!1:u();else switch(i.charAt(L)){case"d":f=w("d");break;case"D":T("D",v,r);break;case"o":k=w("o");break;case"w":w("w");break;case"m":b=_();break;case"M":b=P();break;case"y":var A=L;a=!p("y",2),L=A,h=w("y",2);break;case"Y":h=w("Y",2);break;case"J":o=w("J")+.5,M.charAt(g)==="."&&(g++,w("J"));break;case"@":o=w("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":o=w("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":g=M.length;break;case"'":p("'")?u():c=!0;break;default:u()}if(g<M.length)throw E.local.unexpectedText||E.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&a&&(h+=d===-1?1900:this.today().year()-this.today().year()%100-(h<=d?0:100)),typeof b=="string"&&(b=e.call(this,h,b)),k>-1){b=1,f=k;for(var R=this.daysInMonth(h,b);f>R;R=this.daysInMonth(h,b))b++,f-=R}return o>-1?this.fromJD(o):this.newDate(h,b,f)},determineDate:function(i,M,m,d,v){m&&typeof m!="object"&&(v=d,d=m,m=null),typeof d!="string"&&(v=d,d="");var r=this,e=function(s){try{return r.parseDate(d,s,v)}catch{}s=s.toLowerCase();for(var n=(s.match(/^c/)&&m?m.newDate():null)||r.today(),l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,o=l.exec(s);o;)n.add(parseInt(o[1],10),o[2]||"d"),o=l.exec(s);return n};return M=M?M.newDate():null,i=i==null?M:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?M:r.today().add(i,"d"):r.newDate(i),i}})},21576:function(){},19768:function(){},63436:function(X,B,t){var x=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],E=typeof globalThis>"u"?t.g:globalThis;X.exports=function(){for(var i=[],M=0;M<x.length;M++)typeof E[x[M]]=="function"&&(i[i.length]=x[M]);return i}},67756:function(X,B,t){t.d(B,{qy:function(){return _t},Gz:function(){return st}});function x(mt,Pt,Rt){mt.prototype=Pt.prototype=Rt,Rt.constructor=mt}function E(mt,Pt){var Rt=Object.create(mt.prototype);for(var Ht in Pt)Rt[Ht]=Pt[Ht];return Rt}function i(){}var M=.7,m=1/M,d="\\s*([+-]?\\d+)\\s*",v="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),l=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(v,"\\)$")),o=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(v,"\\)$")),h=new RegExp("^hsl\\(".concat(v,",").concat(r,",").concat(r,"\\)$")),b=new RegExp("^hsla\\(".concat(v,",").concat(r,",").concat(r,",").concat(v,"\\)$")),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x(i,w,{copy:function(mt){return Object.assign(new this.constructor,this,mt)},displayable:function(){return this.rgb().displayable()},hex:k,formatHex:k,formatHex8:a,formatHsl:c,formatRgb:p,toString:p});function k(){return this.rgb().formatHex()}function a(){return this.rgb().formatHex8()}function c(){return F(this).formatHsl()}function p(){return this.rgb().formatRgb()}function w(mt){var Pt,Rt;return mt=(mt+"").trim().toLowerCase(),(Pt=e.exec(mt))?(Rt=Pt[1].length,Pt=parseInt(Pt[1],16),Rt===6?S(Pt):Rt===3?new u(Pt>>8&15|Pt>>4&240,Pt>>4&15|Pt&240,(Pt&15)<<4|Pt&15,1):Rt===8?_(Pt>>24&255,Pt>>16&255,Pt>>8&255,(Pt&255)/255):Rt===4?_(Pt>>12&15|Pt>>8&240,Pt>>8&15|Pt>>4&240,Pt>>4&15|Pt&240,((Pt&15)<<4|Pt&15)/255):null):(Pt=s.exec(mt))?new u(Pt[1],Pt[2],Pt[3],1):(Pt=n.exec(mt))?new u(Pt[1]*255/100,Pt[2]*255/100,Pt[3]*255/100,1):(Pt=l.exec(mt))?_(Pt[1],Pt[2],Pt[3],Pt[4]):(Pt=o.exec(mt))?_(Pt[1]*255/100,Pt[2]*255/100,Pt[3]*255/100,Pt[4]):(Pt=h.exec(mt))?z(Pt[1],Pt[2]/100,Pt[3]/100,1):(Pt=b.exec(mt))?z(Pt[1],Pt[2]/100,Pt[3]/100,Pt[4]):f.hasOwnProperty(mt)?S(f[mt]):mt==="transparent"?new u(NaN,NaN,NaN,0):null}function S(mt){return new u(mt>>16&255,mt>>8&255,mt&255,1)}function _(mt,Pt,Rt,Ht){return Ht<=0&&(mt=Pt=Rt=NaN),new u(mt,Pt,Rt,Ht)}function T(mt){return mt instanceof i||(mt=w(mt)),mt?(mt=mt.rgb(),new u(mt.r,mt.g,mt.b,mt.opacity)):new u}function P(mt,Pt,Rt,Ht){return arguments.length===1?T(mt):new u(mt,Pt,Rt,Ht??1)}function u(mt,Pt,Rt,Ht){this.r=+mt,this.g=+Pt,this.b=+Rt,this.opacity=+Ht}x(u,P,E(i,{brighter:function(mt){return mt=mt==null?m:Math.pow(m,mt),new u(this.r*mt,this.g*mt,this.b*mt,this.opacity)},darker:function(mt){return mt=mt==null?M:Math.pow(M,mt),new u(this.r*mt,this.g*mt,this.b*mt,this.opacity)},rgb:function(){return this},clamp:function(){return new u(O(this.r),O(this.g),O(this.b),R(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g,formatHex:g,formatHex8:L,formatRgb:A,toString:A}));function g(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function L(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function A(){var mt=R(this.opacity);return"".concat(mt===1?"rgb(":"rgba(").concat(O(this.r),", ").concat(O(this.g),", ").concat(O(this.b)).concat(mt===1?")":", ".concat(mt,")"))}function R(mt){return isNaN(mt)?1:Math.max(0,Math.min(1,mt))}function O(mt){return Math.max(0,Math.min(255,Math.round(mt)||0))}function N(mt){return mt=O(mt),(mt<16?"0":"")+mt.toString(16)}function z(mt,Pt,Rt,Ht){return Ht<=0?mt=Pt=Rt=NaN:Rt<=0||Rt>=1?mt=Pt=NaN:Pt<=0&&(mt=NaN),new j(mt,Pt,Rt,Ht)}function F(mt){if(mt instanceof j)return new j(mt.h,mt.s,mt.l,mt.opacity);if(mt instanceof i||(mt=w(mt)),!mt)return new j;if(mt instanceof j)return mt;mt=mt.rgb();var Pt=mt.r/255,Rt=mt.g/255,Ht=mt.b/255,Dt=Math.min(Pt,Rt,Ht),Xt=Math.max(Pt,Rt,Ht),se=NaN,Yt=Xt-Dt,ue=(Xt+Dt)/2;return Yt?(Pt===Xt?se=(Rt-Ht)/Yt+(Rt<Ht)*6:Rt===Xt?se=(Ht-Pt)/Yt+2:se=(Pt-Rt)/Yt+4,Yt/=ue<.5?Xt+Dt:2-Xt-Dt,se*=60):Yt=ue>0&&ue<1?0:se,new j(se,Yt,ue,mt.opacity)}function I(mt,Pt,Rt,Ht){return arguments.length===1?F(mt):new j(mt,Pt,Rt,Ht??1)}function j(mt,Pt,Rt,Ht){this.h=+mt,this.s=+Pt,this.l=+Rt,this.opacity=+Ht}x(j,I,E(i,{brighter:function(mt){return mt=mt==null?m:Math.pow(m,mt),new j(this.h,this.s,this.l*mt,this.opacity)},darker:function(mt){return mt=mt==null?M:Math.pow(M,mt),new j(this.h,this.s,this.l*mt,this.opacity)},rgb:function(){var mt=this.h%360+(this.h<0)*360,Pt=isNaN(mt)||isNaN(this.s)?0:this.s,Rt=this.l,Ht=Rt+(Rt<.5?Rt:1-Rt)*Pt,Dt=2*Rt-Ht;return new u(K(mt>=240?mt-240:mt+120,Dt,Ht),K(mt,Dt,Ht),K(mt<120?mt+240:mt-120,Dt,Ht),this.opacity)},clamp:function(){return new j(V(this.h),W(this.s),W(this.l),R(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var mt=R(this.opacity);return"".concat(mt===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(mt===1?")":", ".concat(mt,")"))}}));function V(mt){return mt=(mt||0)%360,mt<0?mt+360:mt}function W(mt){return Math.max(0,Math.min(1,mt||0))}function K(mt,Pt,Rt){return(mt<60?Pt+(Rt-Pt)*mt/60:mt<180?Rt:mt<240?Pt+(Rt-Pt)*(240-mt)/60:Pt)*255}var et=function(mt){return function(){return mt}};function lt(mt,Pt){return function(Rt){return mt+Rt*Pt}}function ot(mt,Pt,Rt){return mt=Math.pow(mt,Rt),Pt=Math.pow(Pt,Rt)-mt,Rt=1/Rt,function(Ht){return Math.pow(mt+Ht*Pt,Rt)}}function q(mt){return(mt=+mt)==1?J:function(Pt,Rt){return Rt-Pt?ot(Pt,Rt,mt):et(isNaN(Pt)?Rt:Pt)}}function J(mt,Pt){var Rt=Pt-mt;return Rt?lt(mt,Rt):et(isNaN(mt)?Pt:mt)}var it=function mt(Pt){var Rt=q(Pt);function Ht(Dt,Xt){var se=Rt((Dt=P(Dt)).r,(Xt=P(Xt)).r),Yt=Rt(Dt.g,Xt.g),ue=Rt(Dt.b,Xt.b),ie=J(Dt.opacity,Xt.opacity);return function(fe){return Dt.r=se(fe),Dt.g=Yt(fe),Dt.b=ue(fe),Dt.opacity=ie(fe),Dt+""}}return Ht.gamma=mt,Ht}(1);function Z(mt,Pt){var Rt=Pt?Pt.length:0,Ht=mt?Math.min(Rt,mt.length):0,Dt=new Array(Ht),Xt=new Array(Rt),se;for(se=0;se<Ht;++se)Dt[se]=_t(mt[se],Pt[se]);for(;se<Rt;++se)Xt[se]=Pt[se];return function(Yt){for(se=0;se<Ht;++se)Xt[se]=Dt[se](Yt);return Xt}}function tt(mt,Pt){var Rt=new Date;return mt=+mt,Pt=+Pt,function(Ht){return Rt.setTime(mt*(1-Ht)+Pt*Ht),Rt}}function st(mt,Pt){return mt=+mt,Pt=+Pt,function(Rt){return mt*(1-Rt)+Pt*Rt}}function Q(mt){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pt){return typeof Pt}:function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},Q(mt)}function G(mt,Pt){var Rt={},Ht={},Dt;(mt===null||Q(mt)!=="object")&&(mt={}),(Pt===null||Q(Pt)!=="object")&&(Pt={});for(Dt in Pt)Dt in mt?Rt[Dt]=_t(mt[Dt],Pt[Dt]):Ht[Dt]=Pt[Dt];return function(Xt){for(Dt in Rt)Ht[Dt]=Rt[Dt](Xt);return Ht}}var ut=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,at=new RegExp(ut.source,"g");function dt(mt){return function(){return mt}}function gt(mt){return function(Pt){return mt(Pt)+""}}function wt(mt,Pt){var Rt=ut.lastIndex=at.lastIndex=0,Ht,Dt,Xt,se=-1,Yt=[],ue=[];for(mt=mt+"",Pt=Pt+"";(Ht=ut.exec(mt))&&(Dt=at.exec(Pt));)(Xt=Dt.index)>Rt&&(Xt=Pt.slice(Rt,Xt),Yt[se]?Yt[se]+=Xt:Yt[++se]=Xt),(Ht=Ht[0])===(Dt=Dt[0])?Yt[se]?Yt[se]+=Dt:Yt[++se]=Dt:(Yt[++se]=null,ue.push({i:se,x:st(Ht,Dt)})),Rt=at.lastIndex;return Rt<Pt.length&&(Xt=Pt.slice(Rt),Yt[se]?Yt[se]+=Xt:Yt[++se]=Xt),Yt.length<2?ue[0]?gt(ue[0].x):dt(Pt):(Pt=ue.length,function(ie){for(var fe=0,ce;fe<Pt;++fe)Yt[(ce=ue[fe]).i]=ce.x(ie);return Yt.join("")})}function kt(mt,Pt){Pt||(Pt=[]);var Rt=mt?Math.min(Pt.length,mt.length):0,Ht=Pt.slice(),Dt;return function(Xt){for(Dt=0;Dt<Rt;++Dt)Ht[Dt]=mt[Dt]*(1-Xt)+Pt[Dt]*Xt;return Ht}}function Ot(mt){return ArrayBuffer.isView(mt)&&!(mt instanceof DataView)}function bt(mt){"@babel/helpers - typeof";return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pt){return typeof Pt}:function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},bt(mt)}function _t(mt,Pt){var Rt=bt(Pt),Ht;return Pt==null||Rt==="boolean"?et(Pt):(Rt==="number"?st:Rt==="string"?(Ht=w(Pt))?(Pt=Ht,it):wt:Pt instanceof w?it:Pt instanceof Date?tt:Ot(Pt)?kt:Array.isArray(Pt)?Z:typeof Pt.valueOf!="function"&&typeof Pt.toString!="function"||isNaN(Pt)?G:st)(mt,Pt)}},30584:function(X){X.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(X){X.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(X){X.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(X){X.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(X){X.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(X){X.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},vt={};function St(X){var B=vt[X];if(B!==void 0)return B.exports;var t=vt[X]={exports:{}};return rt[X].call(t.exports,t,t.exports,St),t.exports}(function(){St.n=function(X){var B=X&&X.__esModule?function(){return X.default}:function(){return X};return St.d(B,{a:B}),B}})(),function(){St.d=function(X,B){for(var t in B)St.o(B,t)&&!St.o(X,t)&&Object.defineProperty(X,t,{enumerable:!0,get:B[t]})}}(),function(){St.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){St.o=function(X,B){return Object.prototype.hasOwnProperty.call(X,B)}}(),function(){St.r=function(X){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})}}();var Nt=St(13792);return Nt}()})})(p5);var ML=p5.exports;const Z_=V7(ML),AL=C=>H=>{C&&C(H)};Ur.forwardRef(function({data:C=[],layout:H={},config:rt={},revision:vt=0,className:St="",onHover:Nt},X){X||(X=Ur.useRef(null));const B=Ur.useCallback(AL(Nt));return Ur.useEffect(()=>{X.current&&(Z_.newPlot(X.current,C,H,rt),X.current.on("plotly_hover",B))},[X.current]),Ur.useEffect(()=>{X.current&&(Z_.newPlot(X.current,C,H,rt),X.current.on("plotly_hover",B))},[C,H,rt,vt]),On.jsx("div",{ref:X,className:cu("gw-w-full",St)})});const SL=[{id:"home",text:"Home",href:"/"},{id:"swagger",text:"Swagger",href:"/cwms-data/swagger-ui.html",children:[{id:"swagger-ui",text:"Swagger UI",href:"/cwms-data/swagger-ui.html"},{id:"swagger-schema",text:"Swagger Docs Schema",href:"/cwms-data/swagger-docs"}]},{id:"help",text:"Help",href:"#",children:[{id:"github-wiki",text:"Wiki",href:"https://github.com/USACE/cwms-data-api/wiki"},{id:"github-issues",text:"Report Issues",href:"https://github.com/USACE/cwms-data-api/issues"}]},{id:"about",text:"About",href:"#",children:[{id:"github-devs",text:"Developers",href:"https://github.com/USACE/cwms-data-api/wiki"},{id:"hec",text:"HEC",href:"https://www.hec.usace.army.mil/"}]}];var d5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Y_=Ti.createContext&&Ti.createContext(d5),EL=["attr","size","title"];function LL(C,H){if(C==null)return{};var rt=PL(C,H),vt,St;if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(C);for(St=0;St<Nt.length;St++)vt=Nt[St],!(H.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(C,vt)&&(rt[vt]=C[vt])}return rt}function PL(C,H){if(C==null)return{};var rt={},vt=Object.keys(C),St,Nt;for(Nt=0;Nt<vt.length;Nt++)St=vt[Nt],!(H.indexOf(St)>=0)&&(rt[St]=C[St]);return rt}function jg(){return jg=Object.assign?Object.assign.bind():function(C){for(var H=1;H<arguments.length;H++){var rt=arguments[H];for(var vt in rt)Object.prototype.hasOwnProperty.call(rt,vt)&&(C[vt]=rt[vt])}return C},jg.apply(this,arguments)}function K_(C,H){var rt=Object.keys(C);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(C);H&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor(C,St).enumerable})),rt.push.apply(rt,vt)}return rt}function Hg(C){for(var H=1;H<arguments.length;H++){var rt=arguments[H]!=null?arguments[H]:{};H%2?K_(Object(rt),!0).forEach(function(vt){CL(C,vt,rt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(rt)):K_(Object(rt)).forEach(function(vt){Object.defineProperty(C,vt,Object.getOwnPropertyDescriptor(rt,vt))})}return C}function CL(C,H,rt){return H=IL(H),H in C?Object.defineProperty(C,H,{value:rt,enumerable:!0,configurable:!0,writable:!0}):C[H]=rt,C}function IL(C){var H=OL(C,"string");return typeof H=="symbol"?H:String(H)}function OL(C,H){if(typeof C!="object"||C===null)return C;var rt=C[Symbol.toPrimitive];if(rt!==void 0){var vt=rt.call(C,H||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(C)}function v5(C){return C&&C.map((H,rt)=>Ti.createElement(H.tag,Hg({key:rt},H.attr),v5(H.child)))}function zL(C){return H=>Ti.createElement(RL,jg({attr:Hg({},C.attr)},H),v5(C.child))}function RL(C){var H=rt=>{var{attr:vt,size:St,title:Nt}=C,X=LL(C,EL),B=St||rt.size||"1em",t;return rt.className&&(t=rt.className),C.className&&(t=(t?t+" ":"")+C.className),Ti.createElement("svg",jg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},rt.attr,vt,X,{className:t,style:Hg(Hg({color:C.color||rt.color},rt.style),C.style),height:B,width:B,xmlns:"http://www.w3.org/2000/svg"}),Nt&&Ti.createElement("title",null,Nt),C.children)};return Y_!==void 0?Ti.createElement(Y_.Consumer,null,rt=>H(rt)):H(d5)}function DL(C){return zL({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(C)}function FL(){return Ko.jsx(wL,{links:SL,usaBanner:!0,subtitle:"CWMS Restful API for Data Retrieval",aboutText:"Deliver vital engineering solutions, in collaboration with our partners, to secure our Nation, energize our economy, and reduce disaster risk. The official public website of the U.S. Army Corps of Engineers Hydrologic Engineering Center (HEC). For website corrections, write to Webmaster-HEC@usace.army.mil.",navRight:Ko.jsx(Ko.Fragment,{children:Ko.jsxs(X2,{missionText:"Corps Water Management System API",style:"plain",color:"white",size:"lg",href:"https://github.com/USACE/cwms-data-api",title:"View on GitHub",children:["GitHub ",Ko.jsx(DL,{})]})}),children:Ko.jsxs(h4,{className:"gw-py-3",children:[Ko.jsx(l_,{title:"Introduction",children:"Welcome to the US Army Corps of Engineers Corps Water Management System Data API. At the Swagger UI link above you will find a REST styled interface for retrieving any data available publicly."}),Ko.jsx(l_,{title:"Some Quick Notes",children:Ko.jsx("div",{children:Ko.jsxs("ul",{children:[Ko.jsx("li",{children:"Dates and Intervals/Durations are always in either the ISO 8601 or milliseconds since the unix epoch."}),Ko.jsxs("li",{children:["The interval is the time between two different measurements.",Ko.jsx("ul",{children:Ko.jsx("li",{children:"An interval of 0 and irregular are equivalent and mean that there is no fixed interval between measurements"})})]}),Ko.jsx("li",{children:"The Duration is used for aggregating calculations (Sums over time, Averages) and indicates the time window over which samples are gathered to generate a value."}),Ko.jsx("li",{children:"Errors are always returned as JSON objects"})]})})})]})})}km.createRoot(document.getElementById("root")).render(Ko.jsx(Ti.StrictMode,{children:Ko.jsx(FL,{})}));
